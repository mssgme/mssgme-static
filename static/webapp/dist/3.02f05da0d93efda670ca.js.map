{"version":3,"sources":["webpack:////Users/sa2rn/Projects/inbox/packages/landings/src/Core/UI/ServiceContent/ServicePhoto.js","webpack:////Users/sa2rn/Projects/inbox/packages/landings/src/Core/UI/ServiceContent/ServicePhotos.js","webpack:////Users/sa2rn/Projects/inbox/packages/landings/src/Core/UI/ServiceContent/BuyButton.js","webpack:////Users/sa2rn/Projects/inbox/packages/landings/src/Core/UI/ServiceContent/ServiceActionsPane.js","webpack:////Users/sa2rn/Projects/inbox/packages/helpers/src/parseUrl.js","webpack:////Users/sa2rn/Projects/inbox/packages/landings/src/Core/UI/ServiceContent/ExternalUrlButton.js","webpack:////Users/sa2rn/Projects/inbox/packages/landings/src/Core/UI/ServiceContent/ServiceContent.js","webpack:////Users/sa2rn/Projects/inbox/packages/shared/src/helpers/removeTrailingSlash.js","webpack:////Users/sa2rn/Projects/inbox/packages/landings/src/Core/UI/ServiceContent/ServiceContent.scss?3155","webpack:////Users/sa2rn/Projects/inbox/node_modules/swiper/esm/components/navigation/navigation.js","webpack:////Users/sa2rn/Projects/inbox/packages/landings/src/Core/hooks/useCoreContext.js","webpack:////Users/sa2rn/Projects/inbox/packages/landings/src/Core/UI/ServiceContent/BuyButton.scss?1ae9"],"names":["ServicePhoto","React","forwardRef","ref","photoUrl","title","index","style","onLoad","onClick","rest","getMediaSizeUrl","useUploads","handleClick","useCallback","cls","styles","slide","className","slideImage","MediaSizes","Large","alt","zoomIcon","common","size","imagePreloader","background","LoadingIndicator","propTypes","PropTypes","string","isRequired","number","object","func","SwiperCore","use","Pagination","Lazy","Navigation","lazy","loadPrevNext","preloaderClass","loadedClass","loaded","ServicePhotos","photos","isActive","isPrev","isNext","themeStyles","onClose","navigationPrevRef","useRef","navigationNextRef","paginationElRef","useState","shouldSwiperLoad","setShouldSwiperLoad","swiper","setSwiper","isLightbox","setIsLightbox","currentLightBoxSlideIndex","setCurrentLightBoxSlideIndex","hasMultiplePhotos","length","hasNavElements","current","showSwiper","isSwipeable","openLightBox","closeLightBox","handleSlide","pagination","useMemo","el","clickable","renderBullet","dot","color","clickableClass","clickablePagination","bulletActiveClass","activeBullet","handleLoad","updateAutoHeight","useEffect","swiperContainer","nested","autoHeight","allowTouchMove","navigation","prevEl","nextEl","initialSlide","spaceBetween","slidesPerView","speed","watchOverflow","loop","onSwiper","map","tag","key","preloader","cn","controlsContainer","hidden","controls","noSwiping","control","closeButtonWrapper","display","closeButton","Suspense","fallback","LightBox","activeIndex","images","url","arrayOf","bool","service","interactive","onCartAdd","productCurrency","BuyButton","api","useFrontAPI","generateUrl","useNavigationUtils","router","useCoreContext","useSavedOrders","currentOrder","saveOrderId","pageId","usePageData","_id","contentStyle","useModalThemes","isInCart","items","find","item","productId","isDifferentCurrency","orderCurrency","price","currency","useToggle","restrictCurrenciesMessage","toggleRestrictCurrenciesMessage","useAsyncFn","a","payload","quantity","orders","modify","orderId","result","create","loading","handleBuy","ThemedButton","fullWidth","root","theme","disabled","isFetching","beforeIcon","ShoppingCartIcon","Link","to","pathname","toView","state","backPath","product","slug","__t","ThemedModal","overlay","compact","padding","textAlign","ServiceActionsPane","contacts","enabledPayments","renderBlock","useRenderer","actionsBuy","marginBottom","shape","ExternalUrlButton","externalButton","externalUrl","parsed","URL","err","parseUrl","LinkBlank","href","data-id","data-title","name","data-element","data-event-name","urlSafeComponent","buttonContent","hostname","ServiceContent","description","backUrl","useWebsiteData","isCartAddAnimation","toggleCartAddAnimation","rootEl","serviceTitle","isDarkTheme","isLightColor","backgroundColor","slice","backgroundImage","substring","contactsEl","handleClose","e","preventDefault","scrollTop","scrollTo","top","behavior","timer","setTimeout","clearTimeout","wrapper","active","content","dark","formattedDiscount","discountPrice","discount","amount","lineThrough","formatted","fixedPane","div","cartBouncer","animate","bottom","exit","transition","type","stiffness","ShoppingCart","position","right","array","options","lead","end","charAt","module","exports","_extends","Object","assign","target","i","arguments","source","prototype","hasOwnProperty","call","apply","this","toggleEl","$el","params","disabledClass","tagName","update","_swiper$navigation","$nextEl","$prevEl","isBeginning","isLocked","lockClass","isEnd","onPrevClick","slidePrev","onNextClick","slideNext","init","uniqueNavElements","on","destroy","_swiper$navigation2","off","removeClass","hideOnClick","hiddenClass","toEdge","fromEdge","click","_swiper$navigation3","targetEl","is","contains","isHidden","hasClass","emit","toggleClass","makeCoreRouter","path","isBackOverriddenBack","base","removeTrailingSlash","toEntry","toHome","productSlug","collection","basePath","toStatus","status","userOrders","toOrder","CoreContext","createContext","setEntry","useContext"],"mappings":"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","file":"3.02f05da0d93efda670ca.js","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\nimport { FiZoomIn } from 'react-icons/fi';\n\nimport { cls } from '@mssgme/helpers';\nimport { LoadingIndicator } from '@mssgme/ui';\nimport { MediaSizes, useUploads } from '../../hooks';\n\nimport styles from './ServiceContent.scss';\n\nexport const ServicePhoto = React.forwardRef(function ServicePhoto(\n    { photoUrl, title, index, style, onLoad, onClick, ...rest },\n    ref\n) {\n    const { getMediaSizeUrl } = useUploads();\n    const handleClick = useCallback(() => void onClick(index), [index, onClick]);\n\n    return (\n        <div ref={ref} {...cls(styles.slide, rest)}>\n            <div className={styles.slideImage}>\n                <img\n                    {...{ 'data-src': getMediaSizeUrl(photoUrl, MediaSizes.Large) }}\n                    className=\"swiper-lazy\"\n                    alt={title}\n                    onLoad={onLoad}\n                    onClick={handleClick}\n                />\n                <div className={styles.zoomIcon} style={style.common}>\n                    <FiZoomIn size={14} />\n                </div>\n                <div className={styles.imagePreloader} style={style.background}>\n                    <div>\n                        <LoadingIndicator />\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n});\n\nServicePhoto.propTypes = {\n    photoUrl: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    index: PropTypes.number.isRequired,\n    style: PropTypes.object.isRequired,\n    onLoad: PropTypes.func.isRequired,\n    onClick: PropTypes.func.isRequired,\n};\n","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport SwiperCore, { Lazy, Navigation, Pagination } from 'swiper';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport { FiChevronLeft, FiChevronRight, FiX } from 'react-icons/fi';\n\nimport { LoadingIndicator } from '@mssgme/ui';\nimport { LightBox } from '../LightBox';\nimport { ServicePhoto } from './ServicePhoto';\n\nimport styles from './ServiceContent.scss';\n\nSwiperCore.use([Pagination, Lazy, Navigation]);\n\nconst lazy = {\n    loadPrevNext: true,\n    preloaderClass: styles.imagePreloader,\n    loadedClass: styles.loaded,\n};\n\nexport const ServicePhotos = ({ photos, title, isActive, isPrev, isNext, themeStyles, style, onClose }) => {\n    const navigationPrevRef = React.useRef(null);\n    const navigationNextRef = React.useRef(null);\n    const paginationElRef = useRef(null);\n    const [shouldSwiperLoad, setShouldSwiperLoad] = useState(false);\n    const [swiper, setSwiper] = useState(null);\n    const [isLightbox, setIsLightbox] = useState(false);\n    const [currentLightBoxSlideIndex, setCurrentLightBoxSlideIndex] = useState(0);\n\n    const hasMultiplePhotos = photos.length > 1;\n    const hasNavElements = !!paginationElRef.current && !!navigationPrevRef.current && !!navigationNextRef.current;\n    const showSwiper = shouldSwiperLoad && (!hasMultiplePhotos || hasNavElements);\n    const isSwipeable = isActive || isPrev || isNext;\n\n    const openLightBox = useCallback(() => setIsLightbox(true), []);\n    const closeLightBox = useCallback(() => setIsLightbox(false), []);\n\n    const handleSlide = useCallback((index) => {\n        setCurrentLightBoxSlideIndex(index);\n        openLightBox();\n    });\n\n    const pagination = useMemo(\n        () =>\n            hasMultiplePhotos && {\n                el: paginationElRef.current,\n                clickable: true,\n                renderBullet: (index, className) => {\n                    return `<div class=\"${className} ${styles.dot}\"><div style=\"background-color: ${\n                        themeStyles ? themeStyles.color : 'null'\n                    }\"></div></div>`;\n                },\n                clickableClass: styles.clickablePagination,\n                bulletActiveClass: styles.activeBullet,\n            },\n        [paginationElRef.current, hasMultiplePhotos, themeStyles]\n    );\n\n    const handleLoad = useCallback(() => void (swiper && swiper.updateAutoHeight()), [swiper]);\n\n    useEffect(() => {\n        if (isSwipeable) {\n            setShouldSwiperLoad(true);\n        }\n    }, [isSwipeable]);\n\n    return (\n        <div className={styles.swiperContainer}>\n            {showSwiper ? (\n                <Swiper\n                    className={styles.swiper}\n                    nested\n                    autoHeight\n                    lazy={lazy}\n                    allowTouchMove={hasMultiplePhotos}\n                    pagination={pagination}\n                    navigation={{\n                        prevEl: navigationPrevRef.current,\n                        nextEl: navigationNextRef.current,\n                    }}\n                    initialSlide={0}\n                    spaceBetween={0}\n                    slidesPerView={1}\n                    speed={600}\n                    watchOverflow={hasMultiplePhotos}\n                    loop={hasMultiplePhotos}\n                    onSwiper={setSwiper}\n                >\n                    {photos.map((photoUrl, index) => (\n                        <SwiperSlide\n                            tag={ServicePhoto}\n                            key={photoUrl + index}\n                            index={index}\n                            photoUrl={photoUrl}\n                            title={title}\n                            style={style}\n                            onLoad={handleLoad}\n                            onClick={handleSlide}\n                        />\n                    ))}\n                </Swiper>\n            ) : (\n                <div className={styles.preloader}>\n                    <div>\n                        <LoadingIndicator />\n                    </div>\n                </div>\n            )}\n            {hasMultiplePhotos && (\n                <div className={cn(styles.controlsContainer, { [styles.hidden]: !showSwiper })}>\n                    <div className={cn(styles.controls, styles.noSwiping)} style={style.pagination}>\n                        <div className={styles.control} ref={navigationPrevRef}>\n                            <FiChevronLeft size={16} />\n                        </div>\n                        <div className={styles.pagination} ref={paginationElRef} />\n                        <div className={styles.control} ref={navigationNextRef}>\n                            <FiChevronRight size={16} />\n                        </div>\n                    </div>\n                </div>\n            )}\n            <div\n                className={cn(styles.closeButtonWrapper, styles.noSwiping)}\n                onClick={onClose}\n                style={{ display: 'flex' }}\n            >\n                <div className={styles.closeButton} style={style.common}>\n                    <FiX size={14} />\n                </div>\n            </div>\n\n            {isLightbox && (\n                <React.Suspense fallback={null}>\n                    <LightBox\n                        activeIndex={currentLightBoxSlideIndex}\n                        images={photos.map((url) => ({ url }))}\n                        onClose={closeLightBox}\n                    />\n                </React.Suspense>\n            )}\n        </div>\n    );\n};\n\nServicePhotos.propTypes = {\n    photos: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\n    isActive: PropTypes.bool,\n    isPrev: PropTypes.bool,\n    isNext: PropTypes.bool,\n    title: PropTypes.string.isRequired,\n    themeStyles: PropTypes.object,\n    style: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nimport React, { useMemo } from 'react';\nimport { useAsyncFn, useToggle } from 'react-use';\nimport { Link } from 'react-router-dom';\n\nimport { __t } from '@mssgme/shared';\nimport { ShoppingCartIcon } from '@mssgme/icons';\nimport { useNavigationUtils } from '@mssgme/hooks';\nimport { useCoreContext, useFrontAPI, useModalThemes, usePageData, useSavedOrders } from '../../hooks';\nimport { ThemedButton } from '../ThemedButton';\nimport { ThemedModal } from '../ThemedModal';\n\nimport styles from './BuyButton.scss';\n\nconst propTypes = {\n    service: PropTypes.object.isRequired,\n    interactive: PropTypes.bool,\n    onCartAdd: PropTypes.func,\n    productCurrency: PropTypes.string,\n};\n\nfunction BuyButton({ service, interactive, onCartAdd, productCurrency, ...rest }) {\n    const api = useFrontAPI();\n    const { generateUrl } = useNavigationUtils();\n    const { router } = useCoreContext();\n    const { currentOrder, saveOrderId } = useSavedOrders();\n    const { _id: pageId } = usePageData();\n    const { contentStyle } = useModalThemes();\n    const isInCart = useMemo(() => !!currentOrder?.items.find((item) => item.productId === service._id), [\n        currentOrder,\n        service._id,\n    ]);\n    const isDifferentCurrency = useMemo(() => {\n        const orderCurrency = currentOrder?.items[0]?.price?.currency;\n\n        return !!(orderCurrency && orderCurrency !== productCurrency);\n    }, [currentOrder?.items, productCurrency]);\n    const [restrictCurrenciesMessage, toggleRestrictCurrenciesMessage] = useToggle(false);\n    const [{ loading }, handleBuy] = useAsyncFn(async () => {\n        if (isInCart || !interactive) {\n            return;\n        }\n\n        // restrict adding products with different currencies\n        if (isDifferentCurrency) {\n            toggleRestrictCurrenciesMessage(true);\n\n            return;\n        }\n\n        const payload = { items: [{ productId: service._id, quantity: 1 }] };\n        let result;\n\n        if (currentOrder) {\n            result = await api.orders.modify({ orderId: currentOrder._id, payload });\n        } else {\n            result = await api.orders.create({ pageId, payload });\n\n            saveOrderId(result._id);\n        }\n\n        onCartAdd && onCartAdd();\n\n        return result;\n    }, [interactive, service._id, pageId, currentOrder, isInCart, isDifferentCurrency, saveOrderId]);\n\n    return (\n        <>\n            <ThemedButton\n                fullWidth\n                className={styles.root}\n                theme={contentStyle}\n                disabled={!interactive}\n                isFetching={loading}\n                beforeIcon={isInCart && <ShoppingCartIcon />}\n                {...(isInCart\n                    ? {\n                          tag: Link,\n                          to: {\n                              pathname: router.orders.toView(currentOrder._id, generateUrl('.')),\n                              state: { backPath: router.product.toView(service.slug) },\n                          },\n                      }\n                    : { onClick: handleBuy })}\n                {...rest}\n            >\n                {isInCart ? __t('to_cart') : __t('buy')}\n            </ThemedButton>\n            {restrictCurrenciesMessage && (\n                <ThemedModal\n                    overlay\n                    compact\n                    padding\n                    title={__t('error_occurred')}\n                    onClose={toggleRestrictCurrenciesMessage}\n                >\n                    <div style={{ textAlign: 'center' }}>{__t('different_currencies_error')}</div>\n                </ThemedModal>\n            )}\n        </>\n    );\n}\n\nBuyButton.propTypes = propTypes;\n\nexport default BuyButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { cls } from '@mssgme/helpers';\nimport { useRenderer } from '../../hooks';\nimport BuyButton from './BuyButton';\n\nimport styles from './ServiceContent.scss';\n\nexport const ServiceActionsPane = ({\n    contacts,\n    service,\n    interactive,\n    enabledPayments,\n    onCartAdd,\n    currency,\n    ...rest\n}) => {\n    const { renderBlock } = useRenderer();\n\n    return (\n        <div {...cls(styles.contacts, rest)}>\n            {enabledPayments && (\n                <div className={styles.actionsBuy} style={{ marginBottom: contacts?.length ? 0 : 12 }}>\n                    <BuyButton\n                        service={service}\n                        productCurrency={currency}\n                        interactive={interactive}\n                        onCartAdd={onCartAdd}\n                    />\n                </div>\n            )}\n\n            {contacts?.length > 0 && contacts.map(renderBlock)}\n        </div>\n    );\n};\n\nServiceActionsPane.propTypes = {\n    contacts: PropTypes.arrayOf(PropTypes.shape({})),\n    service: PropTypes.object.isRequired,\n    interactive: PropTypes.bool,\n    enabledPayments: PropTypes.bool,\n    onCartAdd: PropTypes.func.isRequired,\n    currency: PropTypes.string,\n};\n","export default (url) => {\n    try {\n        return url && new URL(url);\n    } catch (err) {\n        return null;\n    }\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nimport { __t } from '@mssgme/shared';\nimport { parseUrl, urlSafeComponent } from '@mssgme/helpers';\nimport { LinkBlank } from '@mssgme/ui';\nimport { ThemedButton } from '../ThemedButton';\nimport styles from './ServiceContent.scss';\n\nexport const ExternalUrlButton = ({ service, themeStyles }) => {\n    const url = service.externalButton?.url || service.externalUrl;\n    const parsed = url && parseUrl(url);\n\n    if (!url) {\n        return null;\n    }\n\n    return (\n        <ThemedButton\n            fullWidth\n            tag={LinkBlank}\n            theme={themeStyles}\n            href={url}\n            data-id={service._id}\n            data-title={service.title || service.name}\n            data-element=\"custom-link\"\n            data-event-name={urlSafeComponent(url)}\n            className={styles.externalButton}\n        >\n            <div className={styles.buttonContent}>\n                <span>{service.externalButton?.title || __t('visit_website')}</span>\n                {!!parsed && <span className={styles.url}>{parsed.hostname}</span>}\n            </div>\n        </ThemedButton>\n    );\n};\n\nExternalUrlButton.propTypes = {\n    service: PropTypes.object.isRequired,\n    themeStyles: PropTypes.object.isRequired,\n};\n","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useMemo, useRef } from 'react';\nimport { useToggle } from 'react-use';\nimport { AnimatePresence, motion } from 'framer-motion';\n\nimport { __t } from '@mssgme/shared';\nimport { isLightColor } from '@mssgme/helpers';\nimport { useWebsiteData } from '../../hooks';\nimport { ServicePhotos } from './ServicePhotos';\nimport { ServiceActionsPane } from './ServiceActionsPane';\nimport { ExternalUrlButton } from './ExternalUrlButton';\nimport { ShoppingCart } from '../../UI';\n\nimport styles from './ServiceContent.scss';\n\nexport function ServiceContent({\n    service: { description, price },\n    service,\n    contacts,\n    isActive,\n    isPrev,\n    isNext,\n    interactive,\n    themeStyles,\n    backUrl,\n    onClose,\n}) {\n    const { enabledPayments } = useWebsiteData();\n    const [isCartAddAnimation, toggleCartAddAnimation] = useToggle(false);\n    const rootEl = useRef(null);\n    const serviceTitle = service.title || service.name;\n    const isDarkTheme = !isLightColor(themeStyles.backgroundColor);\n    const style = useMemo(() => {\n        const { color, backgroundColor } = themeStyles;\n\n        return {\n            common: {\n                color,\n                backgroundColor,\n            },\n            color: {\n                color,\n            },\n            background: {\n                backgroundColor,\n            },\n            pagination: {\n                backgroundColor: backgroundColor.slice(0, -2) + '80',\n                color,\n            },\n            contacts: {\n                backgroundImage: `linear-gradient(to bottom, ${backgroundColor.substring(\n                    0,\n                    7\n                )}00 0%, ${backgroundColor} 18px, ${backgroundColor} 100%)`,\n            },\n        };\n    }, [themeStyles]);\n\n    const isSwipeable = isActive || isPrev || isNext;\n    const hasActions = enabledPayments || (contacts && contacts.length > 0);\n\n    const contactsEl = hasActions && (\n        <ServiceActionsPane\n            style={style.contacts}\n            contacts={contacts}\n            service={service}\n            interactive={interactive}\n            enabledPayments={enabledPayments}\n            onCartAdd={toggleCartAddAnimation}\n            currency={price?.currency}\n        />\n    );\n\n    const handleClose = useCallback(\n        (e) => {\n            e?.preventDefault?.();\n\n            onClose(backUrl);\n        },\n        [backUrl, onClose]\n    );\n\n    useEffect(() => {\n        if (rootEl.current && rootEl.current.scrollTop !== 0) {\n            rootEl.current.scrollTo({ top: 0, behavior: 'smooth' });\n        }\n    }, [isSwipeable]);\n\n    useEffect(() => {\n        if (!isCartAddAnimation) {\n            return;\n        }\n\n        const timer = setTimeout(() => toggleCartAddAnimation(false), 1000);\n\n        return () => {\n            clearTimeout(timer);\n        };\n    }, [isCartAddAnimation]);\n\n    return (\n        <div className={styles.wrapper}>\n            <div className={cn(styles.root, { [styles.active]: isActive })} ref={rootEl} style={style.color}>\n                <ServicePhotos\n                    photos={service.photos}\n                    title={serviceTitle}\n                    isActive={isActive}\n                    isPrev={isPrev}\n                    isNext={isNext}\n                    themeStyles={themeStyles}\n                    style={style}\n                    onClose={handleClose}\n                />\n\n                <div className={cn(styles.content, isDarkTheme && styles.dark)}>\n                    <div>\n                        <h1 className={styles.title}>{serviceTitle}</h1>\n\n                        {price && (\n                            <div className={styles.price} style={style.color}>\n                                {price.formattedDiscount && (\n                                    <span className={styles.discountPrice}>\n                                        {price.discount === 0 ? __t('free') : price.formattedDiscount}\n                                    </span>\n                                )}\n                                {price.amount === 0 ? (\n                                    __t('free')\n                                ) : (\n                                    <span className={price.formattedDiscount ? styles.lineThrough : null}>\n                                        {price.formatted}\n                                    </span>\n                                )}\n                            </div>\n                        )}\n\n                        <ExternalUrlButton themeStyles={themeStyles} service={service} />\n                    </div>\n                    {description && <p className={styles.description}>{description}</p>}\n                    {contactsEl && <div className={styles.fixedPane}>{contactsEl}</div>}\n\n                    <AnimatePresence>\n                        {isCartAddAnimation && (\n                            <motion.div\n                                className={styles.cartBouncer}\n                                animate={{ bottom: 16 }}\n                                exit={{ bottom: -60 }}\n                                transition={{ type: 'spring', stiffness: 100 }}\n                            >\n                                <ShoppingCart style={{ position: 'absolute', bottom: 0, right: 0 }} />\n                            </motion.div>\n                        )}\n                    </AnimatePresence>\n                </div>\n            </div>\n\n            {contactsEl}\n        </div>\n    );\n}\n\nServiceContent.propTypes = {\n    service: PropTypes.object.isRequired,\n    contacts: PropTypes.array.isRequired,\n    isActive: PropTypes.bool.isRequired,\n    isPrev: PropTypes.bool.isRequired,\n    isNext: PropTypes.bool.isRequired,\n    interactive: PropTypes.bool,\n    themeStyles: PropTypes.object.isRequired,\n    onClose: PropTypes.func.isRequired,\n    backUrl: PropTypes.string,\n};\n","/**\n * @param {string} url\n * @param {object} options\n * @param {boolean} [options.lead=false]\n * @param {boolean} [options.end=true]\n */\nexport default (url, options) => {\n    options = {\n        lead: false,\n        end: true,\n        ...options,\n    };\n\n    if (url.length === 0) return url;\n    if (options.lead && url.charAt(0) === '/') url = url.slice(1);\n    if (options.end && url.charAt(url.length - 1) === '/') url = url.slice(0, -1);\n\n    return url;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"_1_-qSCYN\",\"opacity\":\"_1583ZfGo\",\"root\":\"_3kOXjeWI\",\"active\":\"_1Byp228a\",\"closeButtonWrapper\":\"YzkdV7JX\",\"closeButton\":\"_1rOnkG95\",\"swiperContainer\":\"_2m8CDv4d\",\"preloader\":\"_25DCM9Yd\",\"swiper\":\"_1dZ_AapB\",\"slide\":\"_3H3qu-4W\",\"slideImage\":\"_3D9aBNkA\",\"imagePreloader\":\"wmpeP0S3\",\"loaded\":\"_2LhJgwC9\",\"zoomIcon\":\"_3Yn5K5iA\",\"controlsContainer\":\"kSTwjjZR\",\"hidden\":\"_29G8XOmF\",\"controls\":\"Eyh9wl26\",\"control\":\"uffvu5FM\",\"pagination\":\"_1bfHBj3B\",\"clickablePagination\":\"_2F1hNpY9\",\"dot\":\"KEk32Ebn\",\"activeBullet\":\"g_P_Y39U\",\"content\":\"_1prgds10\",\"dark\":\"_3nBYCTMH\",\"title\":\"_2xw-zps3\",\"price\":\"_13DFHQsD\",\"lineThrough\":\"_11CdjkAv\",\"description\":\"_3OL3MQrJ\",\"externalButton\":\"htV3Gn4J\",\"buttonContent\":\"_1GbBajbV\",\"url\":\"_1hVlh8hY\",\"blurred\":\"bnbw0_Yc\",\"contacts\":\"Oe5FlOB5\",\"actionsBuy\":\"_2YlUswmz\",\"fixedPane\":\"_3heutbC1\",\"noSwiping\":\"_1w7rPDS5\",\"cartBouncer\":\"_3Y4kvNQj\"};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { extend, bindModuleMethods } from '../../utils/utils';\nvar Navigation = {\n  toggleEl: function toggleEl($el, disabled) {\n    $el[disabled ? 'addClass' : 'removeClass'](this.params.navigation.disabledClass);\n    if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;\n  },\n  update: function update() {\n    // Update Navigation Buttons\n    var swiper = this;\n    var params = swiper.params.navigation;\n    var toggleEl = swiper.navigation.toggleEl;\n    if (swiper.params.loop) return;\n    var _swiper$navigation = swiper.navigation,\n        $nextEl = _swiper$navigation.$nextEl,\n        $prevEl = _swiper$navigation.$prevEl;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        toggleEl($prevEl, true);\n      } else {\n        toggleEl($prevEl, false);\n      }\n\n      $prevEl[swiper.params.watchOverflow && swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        toggleEl($nextEl, true);\n      } else {\n        toggleEl($nextEl, false);\n      }\n\n      $nextEl[swiper.params.watchOverflow && swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n    }\n  },\n  onPrevClick: function onPrevClick(e) {\n    var swiper = this;\n    e.preventDefault();\n    if (swiper.isBeginning && !swiper.params.loop) return;\n    swiper.slidePrev();\n  },\n  onNextClick: function onNextClick(e) {\n    var swiper = this;\n    e.preventDefault();\n    if (swiper.isEnd && !swiper.params.loop) return;\n    swiper.slideNext();\n  },\n  init: function init() {\n    var swiper = this;\n    var params = swiper.params.navigation;\n    if (!(params.nextEl || params.prevEl)) return;\n    var $nextEl;\n    var $prevEl;\n\n    if (params.nextEl) {\n      $nextEl = $(params.nextEl);\n\n      if (swiper.params.uniqueNavElements && typeof params.nextEl === 'string' && $nextEl.length > 1 && swiper.$el.find(params.nextEl).length === 1) {\n        $nextEl = swiper.$el.find(params.nextEl);\n      }\n    }\n\n    if (params.prevEl) {\n      $prevEl = $(params.prevEl);\n\n      if (swiper.params.uniqueNavElements && typeof params.prevEl === 'string' && $prevEl.length > 1 && swiper.$el.find(params.prevEl).length === 1) {\n        $prevEl = swiper.$el.find(params.prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      $nextEl.on('click', swiper.navigation.onNextClick);\n    }\n\n    if ($prevEl && $prevEl.length > 0) {\n      $prevEl.on('click', swiper.navigation.onPrevClick);\n    }\n\n    extend(swiper.navigation, {\n      $nextEl: $nextEl,\n      nextEl: $nextEl && $nextEl[0],\n      $prevEl: $prevEl,\n      prevEl: $prevEl && $prevEl[0]\n    });\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    var _swiper$navigation2 = swiper.navigation,\n        $nextEl = _swiper$navigation2.$nextEl,\n        $prevEl = _swiper$navigation2.$prevEl;\n\n    if ($nextEl && $nextEl.length) {\n      $nextEl.off('click', swiper.navigation.onNextClick);\n      $nextEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      $prevEl.off('click', swiper.navigation.onPrevClick);\n      $prevEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n  }\n};\nexport default {\n  name: 'navigation',\n  params: {\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      navigation: _extends({}, Navigation)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      swiper.navigation.init();\n      swiper.navigation.update();\n    },\n    toEdge: function toEdge(swiper) {\n      swiper.navigation.update();\n    },\n    fromEdge: function fromEdge(swiper) {\n      swiper.navigation.update();\n    },\n    destroy: function destroy(swiper) {\n      swiper.navigation.destroy();\n    },\n    click: function click(swiper, e) {\n      var _swiper$navigation3 = swiper.navigation,\n          $nextEl = _swiper$navigation3.$nextEl,\n          $prevEl = _swiper$navigation3.$prevEl;\n      var targetEl = e.target;\n\n      if (swiper.params.navigation.hideOnClick && !$(targetEl).is($prevEl) && !$(targetEl).is($nextEl)) {\n        if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n        var isHidden;\n\n        if ($nextEl) {\n          isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);\n        } else if ($prevEl) {\n          isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);\n        }\n\n        if (isHidden === true) {\n          swiper.emit('navigationShow');\n        } else {\n          swiper.emit('navigationHide');\n        }\n\n        if ($nextEl) {\n          $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n        }\n\n        if ($prevEl) {\n          $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n        }\n      }\n    }\n  }\n};","import React, { useContext } from 'react';\nimport { useMount, useUnmount } from 'react-use';\n\nimport { removeTrailingSlash } from '@mssgme/shared';\n\nexport const makeCoreRouter = ({ path, isBackOverriddenBack }) => {\n    const base = removeTrailingSlash(path);\n\n    return {\n        toEntry: () => path,\n        toHome: () => path,\n        product: {\n            toView: (productSlug = ':productSlug') => `${base}/p/${productSlug}`,\n        },\n        collection: {},\n        orders: {\n            toView: (orderId = ':orderId', basePath = base) =>\n                orderId ? `${basePath}/orders/${orderId}` : `${basePath}/orders`,\n            toStatus: (orderId = ':orderId', status = ':status(paid|failed)') =>\n                `${base}/orders/${orderId}/payment/${status}`,\n        },\n        userOrders: {\n            toOrder: (orderId = ':orderId') => (orderId ? `${base}/user-orders/${orderId}` : `${base}/orders`),\n        },\n        isBackOverriddenBack,\n    };\n};\n\nexport const CoreContext = React.createContext({\n    path: '/',\n    router: makeCoreRouter({ path: '/' }),\n    setEntry: () => {},\n});\n\nexport const useBackCorePath = (backUrl) => {\n    const { setEntry } = useCoreContext();\n\n    useMount(() => setEntry(backUrl));\n    useUnmount(() => setEntry());\n};\n\nexport const useCoreContext = () => useContext(CoreContext);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"_2J2oht4s\"};"],"sourceRoot":""}