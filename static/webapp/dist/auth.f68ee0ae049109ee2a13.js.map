{"version":3,"sources":["webpack:////Users/sa2rn/Projects/inbox/node_modules/stackframe/stackframe.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/locales lazy ^\\.\\/.*\\/auth\\.json$ include: \\.json$ namespace object","webpack:////Users/sa2rn/Projects/inbox/packages/ui/locales lazy ^\\.\\/.*\\/ui\\.json$ include: \\.json$ namespace object","webpack:////Users/sa2rn/Projects/inbox/packages/ui/src/hooks/useUITranslations.js","webpack:////Users/sa2rn/Projects/inbox/packages/ui/src/components/MssgmeLogo/MssgmeLogo.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/Forms/RestoreForm/styles.scss?811e","webpack:////Users/sa2rn/Projects/inbox/node_modules/error-stack-parser/error-stack-parser.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/redux-beacon/dist/register-events.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/LoginPage/styles.scss?a9ec","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/RestorePage/styles.scss?cc64","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/UI/SocialLoginButton/SocialLoginButton.scss?c88c","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/configureStore.prod.js","webpack:////Users/sa2rn/Projects/inbox/packages/shared/src/landings/traverse.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/redux-beacon/dist/is-promise.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/moment/locale sync \\.\\/(en|ru)","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/AuthLayout/index.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/UI/SocialLoginButton/SocialLoginButton.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/UI/SocialLoginButton/GoogleLoginButton.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/UI/SocialLoginButton/AppleLoginButton.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/UI/LegaliseSection/index.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/Forms/LoginForm/index.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/LoginPage/index.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/LogoutPage/index.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/react-google-recaptcha/lib/esm/recaptcha.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/react-async-script/lib/esm/async-script-loader.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/react-google-recaptcha/lib/esm/recaptcha-wrapper.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/react-google-recaptcha/lib/esm/index.js","webpack:////Users/sa2rn/Projects/inbox/packages/helpers/src/isStandalone.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/Forms/RegistrationForm/index.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/RegistrationPage/index.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/Forms/RestoreForm/index.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/RestorePage/index.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/AuthByCode/index.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/RestorePasswordAuth/index.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/LoginCodeAuthPage/index.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/PrivateRoute.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/JoinByCode/RegistrationFormMember/index.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/JoinByCode/index.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/JoinCodeAuthPage/index.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/AuthApp.js","webpack:///./webapp/auth.js","webpack:////Users/sa2rn/Projects/inbox/packages/hooks/src/useAuth.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/redux-beacon/dist/create-middleware.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@redux-beacon/google-tag-manager/dist/index.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/redux-beacon/dist/index.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/Forms/LoginForm/styles.scss?988f","webpack:////Users/sa2rn/Projects/inbox/node_modules/@redux-beacon/google-tag-manager/dist/google-tag-manager.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@redux-saga/symbols/dist/redux-saga-symbols.esm.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@redux-saga/is/dist/redux-saga-is.esm.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@redux-saga/delay-p/dist/redux-saga-delay-p.esm.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@redux-saga/core/dist/io-427945dd.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@redux-saga/deferred/dist/redux-saga-deferred.esm.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@redux-saga/core/dist/redux-saga-core.esm.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/redux-saga/dist/redux-saga-core-npm-proxy.esm.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/middleware/crashReport.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/conversations/list.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/conversations/messages.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/conversations/unread.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/conversations/statistics.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/conversations/index.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/currentUser.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/workspace/card.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/workspace/integrations.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/workspace/team.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/workspace/bots.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/workspace/replies.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/workspace/quantities.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/workspace/crm.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/cardStatistics.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/billingDetails.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/products.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/subproducts.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/botEditor.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/collections.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/ui.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/socket.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/websites.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/templates.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/feedback.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/invites.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/index.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/reducers/workspace/index.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@redux-saga/core/dist/redux-saga-effects.esm.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/sagas/index.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/features/gtm.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/configureStore.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/AuthLayout/styles.scss?0ab7","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/RegistrationPage/styles.scss?3f00","webpack:////Users/sa2rn/Projects/inbox/node_modules/redux-beacon/dist/get-events-with-matching-key.js","webpack:////Users/sa2rn/Projects/inbox/packages/services/src/history.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/common/messages.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/utils.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/app/nodes.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/app/guards.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/app/observer/observer.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/app/observer/iframe_observer.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/app/observer/shadow_root_observer.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/app/observer/top_observer.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/app/sanitizer.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/app/ticker.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/app/logger.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/app/session.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/modules/performance.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/app/index.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/modules/console.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/modules/exception.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/modules/img.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/modules/input.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/modules/mouse.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/modules/timing.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/index.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/modules/viewport.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/modules/cssrules.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/modules/connection.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker/lib/modules/scroll.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker-fetch/lib/index.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker-redux/lib/syncod/chars.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker-redux/lib/syncod/encoder.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker-redux/lib/syncod/sha1.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@openreplay/tracker-redux/lib/index.js","webpack:////Users/sa2rn/Projects/inbox/packages/store/src/features/open-replay.js","webpack:///external \"CONFIG\"","webpack:////Users/sa2rn/Projects/inbox/node_modules/redux-beacon/dist/create-meta-reducer.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/Forms/RegistrationForm/styles.scss?08ef","webpack:////Users/sa2rn/Projects/inbox/node_modules/redux-beacon/node_modules/array-flatten/array-flatten.js","webpack:////Users/sa2rn/Projects/inbox/node_modules/@redux-beacon/google-tag-manager/dist/utils.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/UI/LegaliseSection/styles.scss?b486","webpack:////Users/sa2rn/Projects/inbox/node_modules/redux-beacon/dist/create-events.js","webpack:////Users/sa2rn/Projects/inbox/packages/hooks/src/useFetch.js","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/JoinByCode/styles.scss?06b8","webpack:////Users/sa2rn/Projects/inbox/packages/auth/src/components/Pages/AuthByCode/styles.scss?0349"],"names":["_capitalize","str","charAt","toUpperCase","substring","_getter","p","this","booleanProps","numericProps","stringProps","props","concat","StackFrame","obj","i","length","undefined","prototype","getArgs","args","setArgs","v","Object","toString","call","TypeError","getEvalOrigin","evalOrigin","setEvalOrigin","fileName","getFileName","lineNumber","getLineNumber","columnNumber","getColumnNumber","functionName","getFunctionName","getIsEval","fromString","argsStartIndex","indexOf","argsEndIndex","lastIndexOf","split","locationString","parts","exec","Boolean","j","n","isNaN","parseFloat","isFinite","Number","k","String","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","t","keys","module","exports","useUITranslations","useI18n","language","MssgmeLogo","viewBox","fill","xmlns","d","width","height","rx","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","parse","error","stacktrace","parseOpera","stack","match","parseV8OrIE","parseFFOrSafari","extractLocation","urlLike","replace","filter","line","sanitizedLine","location","tokens","slice","locationParts","pop","join","source","functionNameRegex","matches","message","parseOpera9","parseOpera11","parseOpera10","lineRE","lines","result","len","push","argsRaw","functionCall","shift","defineProperty","value","flatten","is_promise_1","default","events","target","extensions","prevState","action","nextState","logger","offlineStorage","ifLoggerLog","eventsToLog","actionToLog","stateToLog","rest","_i","arguments","apply","isEmptyArray","arr","Array","isArray","passEventsToTarget","handleEvents","isConnected","purgeEvents","oldEvents","saveEvents","asyncEvents","event","all","rootReducer","preloadedState","middleware","createStore","applyMiddleware","recursivelyVisitNestedBlocks","page","block","consumer","results","processed","kind","CustomBlockKind","areas","blockId","orphan","blocks","find","_id","r","UploadUsage","Image","Background","Logo","Icon","makeUploadMatcher","path","relative","mediaUtils","getRelativeUrl","other","getImageUsageInBlock","matchPath","ImageBlockKind","url","entity","as","ImageGalleryBlockKind","images","HatBlockKind","bgUrl","logoUrl","FeaturesBlockKind","items","item","glyph","type","ServicesGridBlockKind","photos","getUploadUsagesOnPage","usages","found","getUploadUsagesOnWebsite","upload","pages","seo","ogImageUrl","isImageUsedOnPage","isUploadUsedOnPage","isUploadUsedOnWebsite","webpackContext","webpackContextResolve","AuthLayout","children","className","styles","root","contentContainer","content","header","href","main_url","logo","pane","propTypes","PropTypes","any","SocialLoginButton","Tag","icon","backgroundColor","iconBorderColor","style","color","isLightColor","cn","hasIcon","borderRight","TinyColor2","darken","size","string","object","isRequired","defaultProps","GoogleLoginButton","beforeProvider","useTranslation","AiOutlineGoogle","provider","AppleLoginButton","FaApple","LegaliseSection","terms","LinkBlank","LoginForm","actions","useActions","useState","isEmailFormVisible","setIsEmailFormVisible","formik","useEnhancedFormik","initialValues","username","password","onSubmit","payload","api","auth","login","limitRequestError","LimitRequestsError","is","submit","status","window","handleSubmit","FiMail","onClick","FormField","builderInput","placeholder","name","values","onChange","handleChange","autoComplete","fontSize","marginTop","errors","errorStyle","textAlign","display","justifyContent","Button","fullWidth","isFetching","isSubmitting","fontWeight","footer","to","LoginPage","LogoutPage","useEffect","logout","assign","key","hasOwnProperty","_assertThisInitialized","self","ReferenceError","_React$Component","subClass","superClass","ReCAPTCHA","_this","handleExpired","bind","handleErrored","handleRecaptchaRef","create","constructor","__proto__","_proto","getValue","grecaptcha","_widgetId","getResponse","getWidgetId","execute","_executeRequested","executeAsync","_this2","reject","executionResolve","executionReject","reset","onExpired","onErrored","token","explicitRender","render","wrapper","document","createElement","sitekey","callback","theme","tabindex","stoken","hl","badge","captcha","appendChild","componentDidMount","componentDidUpdate","componentWillUnmount","delayOfCaptchaIframeRemoving","temporaryNode","body","firstChild","setTimeout","removeChild","elem","_this$props","childProps","excluded","sourceKeys","ref","Component","displayName","func","oneOf","number","SCRIPT_MAP","idCount","getScriptURL","options","recaptchaOptions","useRecaptchaNet","callbackName","globalName","WrappedComponent","wrappedComponentName","AsyncScriptLoader","_Component","context","state","__scriptURL","asyncScriptLoaderGetScriptLoaderID","__scriptLoaderID","setupScriptURL","asyncScriptLoaderHandleLoad","setState","asyncScriptOnLoad","asyncScriptLoaderTriggerOnScriptLoaded","mapEntry","loaded","obsKey","observers","_this3","scriptURL","_options","scriptId","entry","errored","script","attribute","src","async","attributes","setAttribute","callObserverFuncAndRemoveObserver","observersMap","onload","observer","onerror","removeOnUnmount","allScripts","getElementsByTagName","parentNode","forwardedRef","ForwardedComponent","isStandalone","matchMedia","navigator","standalone","RegistrationForm","useHistory","isInWebview","ua","iOS","Safari","WebView","recaptchaRef","useRef","i18n","initialEmail","useSearchParam","email","lang","recaptchaToken","a","config","recaptcha_public_key","current","users","isSubmitEnabled","emailErrors","autoFocus","getFieldProps","disabled","recaptcha","rel","RegistrationPage","RestoreForm","recoveryPassword","sentText","RestorePage","AuthByCode","redirectTo","backTrack","isAuthenticated","useAuth","ui","useFetch","getToken","pending","getValidationError","redirect","setRedirect","codeError","useLayoutEffect","setBackTrack","Spinner","FieldError","RestorePasswordAuth","useParams","LoginCodeAuthPage","search","useLocation","queryString","redirect_to","back_track","PrivateRoute","RegistrationFormMember","invite","useCallback","shape","JoinByCode","checkInvite","JoinCodeAuthPage","LocalesLoader","PublicRoute","AuthApp","store","fallback","SplashScreen","basename","exact","component","configureStore","ReactDOM","getElementById","forceUpdate","useForceUpdate","handler","on","removeListener","accessToken","user","create_events_1","get_events_with_matching_key_1","register_events_1","eventsMap","getEvents","next","getState","google_tag_manager_1","createEvents","create_meta_reducer_1","createMetaReducer","create_middleware_1","createMiddleware","utils_1","_a","_b","dataLayerName","forEach","convertFromGoogleAnalyticsEventIfNeeded","createSymbol","CANCEL","CHANNEL_END_TYPE","IO","MATCH","MULTICAST","SAGA_ACTION","SELF_CANCELLATION","TASK","TASK_CANCEL","TERMINATE","SAGA_LOCATION","undef","notUndef","f","s","array","it","throw","pattern","pat","symbol","every","ch","take","close","stringableFunc","sym","Symbol","ms","val","timeoutId","promise","clearTimeout","kTrue","konst","noop","identity","asyncIterator","getOwnPropertySymbols","remove","index","splice","once","fn","called","kThrow","err","kReturn","done","makeIterator","thro","iterator","meta","return","isSagaIterator","logError","_ref2","sagaStack","console","createEmptyArray","dispatch","res","shouldComplete","createAllStyleChildCallbacks","parentCallback","totalCount","completed","completedCount","childCallbacks","chCbAtKey","isErr","cancel","getMetaInfo","getLocation","instrumented","ringBuffer","limit","overflowAction","pushIndex","popIndex","flush","isEmpty","put","doubledLimit","expanding","initialSize","_ref","combinator","patternOrChannel","multicastPattern","channel","channel$1","race","effects","eff","getFnCallDescriptor","fnDescriptor","_len","_key","fork","_len3","_key3","taskOrTasks","selector","_len5","_key5","delay","deferred","def","semaphore","task","suspend","release","asap","immediately","patterns","input","some","predicate","_predicate","matcherCreator","END","buffer$1","closed","takers","cb","taker","stdChannel","currentTakers","nextTakers","ensureCanMutateNextTakers","chan","matcher","resolvePromise","cancelPromise","_effectRunnerMap","nextSagaId","cancelSingleTask","taskToCancel","isRunning","effectRunnerMap","env","_ref3","_ref3$channel","maybe","takeCb","_ref11","digestEffect","effectId","_ref12","response","childCbs","_ref4","_ref5","proc","_ref6","cpsCb","_ref7","_ref8","detached","parent","taskIterator","resolved","arg","createTaskIterator","getIteratorMetaInfo","child","queue","addTask","isAborted","abort","_ref9","joinSingleTask","taskToJoin","joiner","joiners","_ref10","_ref13","_ref14","buffer","data","_ref15","isCancelled","prop","_ref16","_ref17","formatLocation","sagaLocationAsString","sagaMeta","crashedEffect","clear","mapper","cancelledTasks","firstSaga","otherSagas","crashedEffectLocation","effect","effectLocationAsString","newTask","mainTask","parentContext","parentEffectId","isRoot","cont","_task","taskResult","taskError","deferredEnd","cancelledDueToErrorTasks","onAbort","tasks","cancelAll","getTasks","forkQueue","end","frame","onError","setContext","toPromise","iterator$1","finalRunEffect","finalizeRunEffect","currCb","effectRunner","executingContext","label","effectSettled","sagaMonitor","effectRejected","effectResolved","setCrashedEffect","effectTriggered","effectCancelled","runSaga","saga","_ref$channel","_ref$context","effectMiddlewares","_ref$onError","rootSagaStarted","actionDispatched","runEffect","boundRunSaga","_ref2$context","_ref2$channel","sagaMiddleware","run","Sentry","withScope","scope","setExtras","captureException","updateConversation","conversations","successType","assignMe","messages","byContactId","contactId","conversation","changeStatus","read","retrieve","contacts","update","contact","addConversation","unshift","createReducer","hasNext","list","success","query","listenUpdateConversation","listenCreateConversation","reconcileMessages","newer","older","cache","entries","from","idx","sort","b","received","reduce","sendMessage","sendAttachment","listenNewMessages","unread","unassigned","my","statistics","combineReducers","initialState","markers","get","updateDomain","card","domain","updateCard","patch","messengers","updateIn","isMatchId","messengerId","delete","deleteIn","links","linkId","connect","disconnect","products","count","Math","max","integrations","integration","integrationId","team","memberId","bots","botId","replies","replyId","quantities","websites","templates","scaffold","pageTemplates","crm","defaultCurrency","onBoarding","settings","plans","billing","details","request","failure","applyCoupon","prices","setIsFetching","setIsDone","collectionId","guid","productId","collection","sublist","collections","initialStateFactory","bot","currentPath","botData","startResponseId","SELECT_BOT","SET_DIALOG_PATH","OPEN_DIALOG_BRANCH","parentResponseID","nextResponseID","constructedPath","step","reaction","bool","setSuccessResult","lastRequest","Date","now","allPublishedProductsCount","allCollectionsCount","publishedCollectionsCount","allProductsCount","migrate","mobileMenuVisible","pagePreview","isClientExpired","conversationsFilter","searchValue","showNewFirst","unsubscribe","isAdvancedStylingMode","isMobileContainer","toggleMobileMenu","toggleStylingMode","toggleMobileContainer","setMessage","setConversationsFilter","setPagePreview","setPageBlockPreview","listenVerifyVersion","version","listenSubscriptionCancelled","socketId","reconnected","listenConnect","listenDisconnect","listenReconnect","getPagesState","websiteId","getWebsiteState","getPageState","pageId","applyTemplate","clone","convert","website","getBlockById","includes","enabled","ProductsBlockKind","include","templateId","changeStatuses","added","removed","counts","recent","createFeedback","feedbackId","updateFeedback","old","identityValues","new","processing","accepted","rejected","totals","feedbacks","orders","feedback","purchase","orderId","listenCreateFeedback","listenUpdateFeedback","invites","inviteId","currentUser","me","updateMyAccount","listenUserUpdated","marker","workspace","produce","draft","workspaces","onboarding","cardStatistics","billingDetails","subproducts","botEditor","socket","qEnd","safeName","fsmIterator","fsm","startState","stateUpdater","errorState","currentState","takeLatest","worker","yTake","yFork","ac","yCancel","setTask","setAction","q1","q2","q3","debounceHelper","delayLength","raceOutput","yRace","debounce","yNoop","setRaceOutput","ro","takeLatest$1","_len2","_key2","_len6","_key6","updateStatistics","handleFilterChange","updateUnread","updateRecentFeedback","changeFilter","getCollections","updateSentryContext","fetchWorkspace","fetchConversation","fetchBilling","updateUiFlags","rootSaga","select","filterList","setUser","oid","history","pathname","startsWith","subscription","changeCreditCard","listenSubscriptionCreated","listenSubscriptionUpdated","listenPaymentSucceeded","listenPaymentRetryFailed","listenHighRiskTransactionUpdated","method","failureType","slug","userId","workspaceId","plan","checkout","coupon","changeCountry","country","complete","completePayment","load","selectPaymentMethod","paymentMethod","payment_method","gtm","GoogleTagManager","gtmMiddleware","ENABLE_ANALYTICS","dataLayer","require","createSagaMiddleware","extraMiddleware","OpenReplay","open_replay_project_key","projectKey","openReplayMiddleware","openReplayEventsTrackerMiddleware","thunk","crashReport","actionType","objectKeys","symbolKeys","matchingKey","createBrowserHistory","getUserConfirmation","messageOrUID","navigationBlocker","notify","bindNew","Class","_Class","classes","Map","BatchMeta","pageNo","firstIndex","timestamp","writer","uint","int","set","Timestamp","SetPageLocation","referrer","navigationStart","SetViewportSize","SetViewportScroll","x","y","CreateDocument","CreateElementNode","parentID","tag","svg","boolean","CreateTextNode","MoveNode","RemoveNode","SetNodeAttribute","RemoveNodeAttribute","SetNodeData","SetNodeScroll","SetInputTarget","SetInputValue","mask","SetInputChecked","checked","MouseMove","ConsoleLog","level","PageLoadTiming","requestStart","responseStart","responseEnd","domContentLoadedEventStart","domContentLoadedEventEnd","loadEventStart","loadEventEnd","firstPaint","firstContentfulPaint","PageRenderTiming","speedIndex","visuallyComplete","timeToInteractive","JSException","RawCustomEvent","UserID","UserAnonymousID","Metadata","CSSInsertRule","rule","CSSDeleteRule","Fetch","duration","Profiler","OTable","StateAction","Redux","Vuex","mutation","MobX","NgRx","GraphQL","operationKind","operationName","variables","PerformanceTrack","frames","ticks","totalJSHeapSize","usedJSHeapSize","ResourceTiming","ttfb","headerSize","encodedBodySize","decodedBodySize","initiator","ConnectionInformation","downlink","SetPageVisibility","hidden","LongTask","containerType","containerSrc","containerId","containerName","SetNodeAttributeURLBased","baseURL","SetCSSDataURLBased","TechnicalInfo","CustomIssue","PageClose","CSSInsertRuleURLBased","MouseClick","hesitationTime","CreateIFrameDocument","frameID","round","performance","timing","stars","repeat","normSpaces","trim","isURL","IN_BROWSER","DOCS_HOST","warnedFeatures","deprecationWarn","nameOfFeature","useInstead","docsPath","warn","getLabelAttribute","getAttribute","hasOpenreplayAttribute","newName","hasAttribute","oldName","Nodes","node_id","nodes","nodeCallbacks","elementListeners","nodeCallback","node","elementListener","getID","addEventListener","listeners","isNew","listener","removeEventListener","isStart","unregisterNode","isSVGElement","namespaceURI","isElementNode","nodeType","Node","ELEMENT_NODE","isTextNode","TEXT_NODE","isRootNode","DOCUMENT_NODE","DOCUMENT_FRAGMENT_NODE","hasTag","el","tagName","nodeName","isIgnored","isObservable","RecentsType","app","isTopContext","commited","recents","indexes","attributesMap","textSet","Set","MutationObserver","safe","mutations","removedNodes","bindTree","addedNodes","has","Changed","add","attributeName","attr","commitNodes","substr","send","getBaseHref","parentElement","sanitizer","sanitize","registerNode","New","Removed","bindNode","walker","createTreeWalker","NodeFilter","SHOW_ELEMENT","SHOW_TEXT","acceptNode","FILTER_REJECT","FILTER_ACCEPT","nextNode","currentNode","unbindNode","commitNode","handleNode","isMaskedContainer","sibling","previousSibling","siblingID","recentsType","clientWidth","clientHeight","cloneNode","sendNodeAttribute","sendNodeData","getNode","cmt","_commitNode","callNodeCallbacks","beforeCommit","nodeToBind","observe","childList","characterData","subtree","attributeOldValue","characterDataOldValue","iframe","doc","contentDocument","hostID","observeRoot","docID","log","shRoot","shadowRoot","rootID","attachShadowNativeFn","Element","attachShadow","ShadowRoot","super","iframeObservers","shadowRootObservers","captureIFrames","attachNodeCallback","handleIframe","handleShadowRoot","handle","contentWindow","host","shadow","documentElement","masked","maskedContainers","obscureTextEmails","obscureTextNumbers","innerText","Ticker","timer","callbacks","useSafe","thisArg","wrap","setInterval","clearInterval","LogLevel","IsCustomLevel","l","Logger","Session","metadata","userID","sessionID","newInfo","handleUpdate","perf","memory","deviceMemory","jsHeapSizeLimit","UnsuccessfulStart","reason","ActivityState","sessionToken","startCallbacks","stopCallbacks","commitCallbacks","activityState","NotActive","revID","session_token_key","session_pageno_key","session_reset_key","local_uuid_key","ingestPoint","resourceBaseHref","verbose","__is_snippet","__debug_report_edp","localStorage","sessionStorage","ticker","attach","commit","debug","__debug__","session","attachUpdateCallback","setItem","Worker","URL","createObjectURL","Blob","_debug","onmessage","stop","start","forceNew","alertWorker","postMessage","attachEventListener","fetch","headers","JSON","stringify","urgent","Active","useCapture","attachStartCallback","attachStopCallback","reqVer","ver","userUUID","getItem","trackerVersion","isSnippet","getInfo","getStartInfo","hostname","baseURI","head","origin","resourceURL","base","flag","removeItem","startOpts","Starting","pageNoStr","parseInt","startInfo","startWorkerMsg","connAttemptCount","connAttemptGap","sReset","json","text","beaconSizeLimit","onStartInfo","onStart","catch","onVisibilityChange","_start","calledFromAPI","printError","printString","printObject","printf","printFloat","floor","printInt","consoleMethods","getDefaultStack","colno","lineno","filename","getExceptionMessage","fallbackStack","getExceptionMessageFromEvent","ErrorEvent","PromiseRejectionEvent","_","resolveURL","sendImgSrc","naturalWidth","naturalHeight","srcset","resolvedSrc","isMasked","getBoundingClientRect","sendPlaceholder","resolvedSrcset","attachElementListener","attributeFilter","INPUT_TYPES","isTextEditable","isCheckable","labelElementFor","HTMLInputElement","labels","querySelectorAll","getInputLabel","labelElement","obscureInputNumbers","obscureInputEmails","defaultInputMode","obscureInputDates","opts","sendInputValue","inputMode","test","inputValues","checkableValues","registeredTargets","sendInputTarget","isClickable","element","onclick","getTarget","owner","ownerSVGElement","_getTarget","mousePositionX","mousePositionY","mousePositionChanged","mouseTarget","mouseTargetTime","sendMouseMove","selectorMap","getSelector","sel","toLowerCase","_getSelector","clientX","clientY","dl","HTMLElement","getInnerTextSecure","getTargetLabel","captureResourceTimings","capturePageLoadTimings","capturePageRenderTimings","resources","resourceTiming","isServiceURL","startTime","transferSize","initiatorType","PerformanceObserver","getEntries","prevSessionID","getEntriesByType","entryTypes","pageLoadTimingSent","interactiveWindowStartTime","interactiveWindowTickTime","paintBlocks","pageRenderTimingSent","time","elements","styleURL","currentSrc","backgroundImage","getComputedStyle","getPropertyValue","rect","top","left","bottom","min","innerHeight","right","innerWidth","area","getPaintBlocks","calculateSpeedIndex","Messages","DOCS_SETUP","handleError","msg","projectID","processOptions","__OPENREPLAY__","__DISABLE_SECURE_MODE","protocol","doNotTrack","respectDoNotTrack","sendSetPageLocation","sendSetViewportSize","sendSetPageVisibility","Function","CSSStyleSheet","processOperation","stylesheet","nodeID","ownerNode","insertRule","deleteRule","sheet","textContent","rules","cssRules","cssText","connection","mozConnection","webkitConnection","sendConnectionInformation","consoleThrottling","sendConsoleLog","patchConsole","captureExceptions","capturePerformance","nextFrame","requestAnimationFrame","sendPerformanceTrack","documentScroll","nodeScroll","sendSetViewportScroll","pageXOffset","scrollLeft","pageYOffset","scrollTop","sendSetNodeScroll","autoResetOnWindowOpen","wOpen","open","resetNextPageSession","XMLHttpRequest","orig","active","getSessionToken","getSessionID","setUserID","setUserAnonymousID","setMetadata","issue","__awaiter","_arguments","P","generator","fulfilled","chars","fromCharCode","hash","slen","Infinity","_hash","_slen","_refmap","_refset","DEL","UNDEF","TRUE","FALSE","NUMBER","BIGINT","FUNCTION","STRING","_ref_str","SYMBOL","NULL","ARRAY","OBJECT","_encode_prim","_encode_obj","depth","enc","_encode_deep","dict","_encode_term","sha1_ft","c","sha1_kt","safe_add","lsw","rol","num","cnt","binarray","triplet","binb2b64","w","olda","oldb","oldc","oldd","olde","core_sha1","bin","charCodeAt","str2binb","actionFilter","actionTransformer","stateTransformer","encoder","sha1","_action","encode","_state","_table","patchFetch","tracker","use","overrideGlobal","failuresOnly","ignoreHeaders","requestSanitizer","responseSanitizer","origFetch","ihOpt","isHIgnoring","init","sessionTokenHeader","Headers","append","reqHs","resHs","writeReqHeader","reqResInfo","sanitiser","getStj","trackerFetch","trackerRedux","OpenReplayTarget","eventType","identify","Tracker","CONFIG","reducer","flattenFrom","flattenDown","flattenFromDepth","flattenDownDepth","fromDepth","__assign","__rest","hitType","clean","eventDefs","eventDef","deps","fetching","useFetching"],"mappings":"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","file":"auth.f68ee0ae049109ee2a13.js","sourcesContent":["(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n    var objectProps = ['evalOrigin'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps, objectProps);\n\n    function StackFrame(obj) {\n        if (!obj) return;\n        for (var i = 0; i < props.length; i++) {\n            if (obj[props[i]] !== undefined) {\n                this['set' + _capitalize(props[i])](obj[props[i]]);\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var fileName = this.getFileName() || '';\n            var lineNumber = this.getLineNumber() || '';\n            var columnNumber = this.getColumnNumber() || '';\n            var functionName = this.getFunctionName() || '';\n            if (this.getIsEval()) {\n                if (fileName) {\n                    return '[eval] (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n                }\n                return '[eval]:' + lineNumber + ':' + columnNumber;\n            }\n            if (functionName) {\n                return functionName + ' (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n            }\n            return fileName + ':' + lineNumber + ':' + columnNumber;\n        }\n    };\n\n    StackFrame.fromString = function StackFrame$$fromString(str) {\n        var argsStartIndex = str.indexOf('(');\n        var argsEndIndex = str.lastIndexOf(')');\n\n        var functionName = str.substring(0, argsStartIndex);\n        var args = str.substring(argsStartIndex + 1, argsEndIndex).split(',');\n        var locationString = str.substring(argsEndIndex + 1);\n\n        if (locationString.indexOf('@') === 0) {\n            var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, '');\n            var fileName = parts[1];\n            var lineNumber = parts[2];\n            var columnNumber = parts[3];\n        }\n\n        return new StackFrame({\n            functionName: functionName,\n            args: args || undefined,\n            fileName: fileName,\n            lineNumber: lineNumber || undefined,\n            columnNumber: columnNumber || undefined\n        });\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","var map = {\n\t\"./en/auth.json\": [\n\t\t\"kKe4\",\n\t\t8\n\t],\n\t\"./ru/auth.json\": [\n\t\t\"FzP2\",\n\t\t9\n\t],\n\t\"./uk/auth.json\": [\n\t\t\"M+yq\",\n\t\t10\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"/hqN\";\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./en/ui.json\": [\n\t\t\"maHe\",\n\t\t18\n\t],\n\t\"./ru/ui.json\": [\n\t\t\"6X5w\",\n\t\t19\n\t],\n\t\"./uk/ui.json\": [\n\t\t\"Rwdq\",\n\t\t20\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"0k8D\";\nmodule.exports = webpackAsyncContext;","import { useI18n } from '@mssgme/i18n';\n\nexport const useUITranslations = () => {\n    return useI18n('ui', (language) =>\n        import(\n            /* webpackChunkName: \"locales.ui\" */\n            /* webpackInclude: /\\.json$/ */\n            `../../locales/${language}/ui.json`\n        )\n    );\n};\n","import React from 'react';\n\nexport default function MssgmeLogo() {\n    return (\n        <svg viewBox=\"0 0 107 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path\n                d=\"M49.718 14.366C49.718 13.838 49.568 13.454 49.268 13.214C48.98 12.962 48.584 12.836 48.08 12.836C47.744 12.836 47.42 12.902 47.108 13.034C46.808 13.154 46.532 13.322 46.28 13.538C46.304 13.634 46.322 13.736 46.334 13.844C46.346 13.952 46.352 14.06 46.352 14.168V19.964C46.268 20 46.148 20.03 45.992 20.054C45.836 20.09 45.674 20.108 45.506 20.108C45.158 20.108 44.9 20.042 44.732 19.91C44.564 19.778 44.48 19.556 44.48 19.244V14.366C44.48 13.838 44.33 13.454 44.03 13.214C43.73 12.962 43.328 12.836 42.824 12.836C42.488 12.836 42.17 12.89 41.87 12.998C41.57 13.106 41.318 13.226 41.114 13.358V19.964C41.03 20 40.91 20.03 40.754 20.054C40.61 20.09 40.448 20.108 40.268 20.108C39.92 20.108 39.662 20.042 39.494 19.91C39.326 19.778 39.242 19.556 39.242 19.244V13.304C39.242 13.028 39.296 12.806 39.404 12.638C39.512 12.47 39.692 12.302 39.944 12.134C40.292 11.906 40.73 11.714 41.258 11.558C41.786 11.402 42.32 11.324 42.86 11.324C43.424 11.324 43.928 11.402 44.372 11.558C44.828 11.714 45.2 11.942 45.488 12.242C45.824 11.978 46.22 11.762 46.676 11.594C47.144 11.414 47.684 11.324 48.296 11.324C48.764 11.324 49.202 11.384 49.61 11.504C50.018 11.612 50.366 11.792 50.654 12.044C50.954 12.284 51.188 12.59 51.356 12.962C51.524 13.334 51.608 13.778 51.608 14.294V19.964C51.512 20 51.386 20.03 51.23 20.054C51.086 20.09 50.924 20.108 50.744 20.108C50.396 20.108 50.138 20.042 49.97 19.91C49.802 19.778 49.718 19.556 49.718 19.244V14.366ZM60.3775 17.678C60.3775 18.482 60.0775 19.112 59.4775 19.568C58.8775 20.024 58.0075 20.252 56.8675 20.252C56.3995 20.252 55.9675 20.216 55.5715 20.144C55.1755 20.072 54.8335 19.97 54.5455 19.838C54.2695 19.706 54.0535 19.55 53.8975 19.37C53.7415 19.19 53.6635 18.992 53.6635 18.776C53.6635 18.596 53.7055 18.428 53.7895 18.272C53.8855 18.116 54.0115 17.99 54.1675 17.894C54.5035 18.11 54.8875 18.308 55.3195 18.488C55.7515 18.668 56.2555 18.758 56.8315 18.758C57.3715 18.758 57.7855 18.668 58.0735 18.488C58.3615 18.296 58.5055 18.026 58.5055 17.678C58.5055 17.378 58.4035 17.138 58.1995 16.958C58.0075 16.778 57.7195 16.64 57.3355 16.544L56.1115 16.22C55.2955 16.004 54.6955 15.71 54.3115 15.338C53.9275 14.966 53.7355 14.456 53.7355 13.808C53.7355 13.46 53.8075 13.136 53.9515 12.836C54.0955 12.524 54.3055 12.26 54.5815 12.044C54.8695 11.816 55.2235 11.642 55.6435 11.522C56.0635 11.39 56.5435 11.324 57.0835 11.324C57.5155 11.324 57.9055 11.36 58.2535 11.432C58.6135 11.492 58.9195 11.582 59.1715 11.702C59.4355 11.81 59.6395 11.948 59.7835 12.116C59.9275 12.284 59.9995 12.464 59.9995 12.656C59.9995 12.848 59.9575 13.016 59.8735 13.16C59.7895 13.292 59.6815 13.4 59.5495 13.484C59.3335 13.352 59.0095 13.208 58.5775 13.052C58.1575 12.896 57.7015 12.818 57.2095 12.818C56.7055 12.818 56.3095 12.908 56.0215 13.088C55.7335 13.256 55.5895 13.496 55.5895 13.808C55.5895 14.048 55.6675 14.246 55.8235 14.402C55.9915 14.558 56.2735 14.684 56.6695 14.78L57.7135 15.05C58.6255 15.29 59.2975 15.614 59.7295 16.022C60.1615 16.43 60.3775 16.982 60.3775 17.678ZM68.6392 17.678C68.6392 18.482 68.3392 19.112 67.7392 19.568C67.1392 20.024 66.2692 20.252 65.1292 20.252C64.6612 20.252 64.2292 20.216 63.8332 20.144C63.4372 20.072 63.0952 19.97 62.8072 19.838C62.5312 19.706 62.3152 19.55 62.1592 19.37C62.0032 19.19 61.9252 18.992 61.9252 18.776C61.9252 18.596 61.9672 18.428 62.0512 18.272C62.1472 18.116 62.2732 17.99 62.4292 17.894C62.7652 18.11 63.1492 18.308 63.5812 18.488C64.0132 18.668 64.5172 18.758 65.0932 18.758C65.6332 18.758 66.0472 18.668 66.3352 18.488C66.6232 18.296 66.7672 18.026 66.7672 17.678C66.7672 17.378 66.6652 17.138 66.4612 16.958C66.2692 16.778 65.9812 16.64 65.5972 16.544L64.3732 16.22C63.5572 16.004 62.9572 15.71 62.5732 15.338C62.1892 14.966 61.9972 14.456 61.9972 13.808C61.9972 13.46 62.0692 13.136 62.2132 12.836C62.3572 12.524 62.5672 12.26 62.8432 12.044C63.1312 11.816 63.4852 11.642 63.9052 11.522C64.3252 11.39 64.8052 11.324 65.3452 11.324C65.7772 11.324 66.1672 11.36 66.5152 11.432C66.8752 11.492 67.1812 11.582 67.4332 11.702C67.6972 11.81 67.9012 11.948 68.0452 12.116C68.1892 12.284 68.2612 12.464 68.2612 12.656C68.2612 12.848 68.2192 13.016 68.1352 13.16C68.0512 13.292 67.9432 13.4 67.8112 13.484C67.5952 13.352 67.2712 13.208 66.8392 13.052C66.4192 12.896 65.9632 12.818 65.4712 12.818C64.9672 12.818 64.5712 12.908 64.2832 13.088C63.9952 13.256 63.8512 13.496 63.8512 13.808C63.8512 14.048 63.9292 14.246 64.0852 14.402C64.2532 14.558 64.5352 14.684 64.9312 14.78L65.9752 15.05C66.8872 15.29 67.5592 15.614 67.9912 16.022C68.4232 16.43 68.6392 16.982 68.6392 17.678ZM76.127 19.208C75.899 19.352 75.617 19.472 75.281 19.568C74.957 19.664 74.567 19.712 74.111 19.712C73.583 19.712 73.079 19.64 72.599 19.496C72.131 19.34 71.717 19.1 71.357 18.776C70.997 18.44 70.709 18.008 70.493 17.48C70.289 16.952 70.187 16.304 70.187 15.536C70.187 14.84 70.289 14.234 70.493 13.718C70.709 13.19 71.003 12.752 71.375 12.404C71.759 12.044 72.209 11.774 72.725 11.594C73.253 11.414 73.835 11.324 74.471 11.324C75.059 11.324 75.599 11.402 76.091 11.558C76.595 11.702 77.003 11.876 77.315 12.08C77.519 12.212 77.675 12.362 77.783 12.53C77.903 12.698 77.963 12.902 77.963 13.142V20.234C77.963 20.834 77.855 21.35 77.639 21.782C77.435 22.214 77.147 22.562 76.775 22.826C76.415 23.102 75.983 23.3 75.479 23.42C74.975 23.552 74.435 23.618 73.859 23.618C73.247 23.618 72.719 23.558 72.275 23.438C71.831 23.318 71.507 23.198 71.303 23.078C70.931 22.85 70.745 22.55 70.745 22.178C70.745 21.974 70.787 21.8 70.871 21.656C70.955 21.524 71.063 21.416 71.195 21.332C71.471 21.524 71.837 21.698 72.293 21.854C72.749 22.01 73.235 22.088 73.751 22.088C74.507 22.088 75.089 21.932 75.497 21.62C75.917 21.32 76.127 20.828 76.127 20.144V19.208ZM74.381 18.236C74.789 18.236 75.131 18.176 75.407 18.056C75.683 17.936 75.917 17.792 76.109 17.624V13.268C75.929 13.16 75.707 13.064 75.443 12.98C75.179 12.884 74.867 12.836 74.507 12.836C73.775 12.836 73.187 13.058 72.743 13.502C72.299 13.946 72.077 14.618 72.077 15.518C72.077 16.01 72.137 16.43 72.257 16.778C72.377 17.126 72.539 17.408 72.743 17.624C72.947 17.84 73.187 17.996 73.463 18.092C73.751 18.188 74.057 18.236 74.381 18.236ZM79.5095 19.046C79.5095 18.698 79.6115 18.41 79.8155 18.182C80.0315 17.954 80.3255 17.84 80.6975 17.84C81.0815 17.84 81.3755 17.954 81.5795 18.182C81.7835 18.41 81.8855 18.698 81.8855 19.046C81.8855 19.394 81.7835 19.682 81.5795 19.91C81.3755 20.138 81.0815 20.252 80.6975 20.252C80.3255 20.252 80.0315 20.138 79.8155 19.91C79.6115 19.682 79.5095 19.394 79.5095 19.046ZM93.927 14.366C93.927 13.838 93.777 13.454 93.477 13.214C93.189 12.962 92.793 12.836 92.289 12.836C91.953 12.836 91.629 12.902 91.317 13.034C91.017 13.154 90.741 13.322 90.489 13.538C90.513 13.634 90.531 13.736 90.543 13.844C90.555 13.952 90.561 14.06 90.561 14.168V19.964C90.477 20 90.357 20.03 90.201 20.054C90.045 20.09 89.883 20.108 89.715 20.108C89.367 20.108 89.109 20.042 88.941 19.91C88.773 19.778 88.689 19.556 88.689 19.244V14.366C88.689 13.838 88.539 13.454 88.239 13.214C87.939 12.962 87.537 12.836 87.033 12.836C86.697 12.836 86.379 12.89 86.079 12.998C85.779 13.106 85.527 13.226 85.323 13.358V19.964C85.239 20 85.119 20.03 84.963 20.054C84.819 20.09 84.657 20.108 84.477 20.108C84.129 20.108 83.871 20.042 83.703 19.91C83.535 19.778 83.451 19.556 83.451 19.244V13.304C83.451 13.028 83.505 12.806 83.613 12.638C83.721 12.47 83.901 12.302 84.153 12.134C84.501 11.906 84.939 11.714 85.467 11.558C85.995 11.402 86.529 11.324 87.069 11.324C87.633 11.324 88.137 11.402 88.581 11.558C89.037 11.714 89.409 11.942 89.697 12.242C90.033 11.978 90.429 11.762 90.885 11.594C91.353 11.414 91.893 11.324 92.505 11.324C92.973 11.324 93.411 11.384 93.819 11.504C94.227 11.612 94.575 11.792 94.863 12.044C95.163 12.284 95.397 12.59 95.565 12.962C95.733 13.334 95.817 13.778 95.817 14.294V19.964C95.721 20 95.595 20.03 95.439 20.054C95.295 20.09 95.133 20.108 94.953 20.108C94.605 20.108 94.347 20.042 94.179 19.91C94.011 19.778 93.927 19.556 93.927 19.244V14.366ZM99.7625 16.742C99.9305 17.426 100.255 17.936 100.735 18.272C101.227 18.596 101.851 18.758 102.607 18.758C103.111 18.758 103.573 18.68 103.993 18.524C104.413 18.368 104.749 18.2 105.001 18.02C105.337 18.212 105.505 18.482 105.505 18.83C105.505 19.034 105.427 19.226 105.271 19.406C105.115 19.574 104.899 19.724 104.623 19.856C104.359 19.976 104.041 20.072 103.669 20.144C103.309 20.216 102.919 20.252 102.499 20.252C101.803 20.252 101.167 20.156 100.591 19.964C100.027 19.772 99.5405 19.484 99.1325 19.1C98.7245 18.716 98.4065 18.242 98.1785 17.678C97.9625 17.114 97.8545 16.46 97.8545 15.716C97.8545 14.996 97.9625 14.366 98.1785 13.826C98.3945 13.274 98.6885 12.818 99.0605 12.458C99.4325 12.086 99.8705 11.804 100.375 11.612C100.879 11.42 101.419 11.324 101.995 11.324C102.571 11.324 103.093 11.42 103.561 11.612C104.041 11.792 104.449 12.05 104.785 12.386C105.133 12.71 105.397 13.1 105.577 13.556C105.769 14.012 105.865 14.51 105.865 15.05C105.865 15.35 105.793 15.572 105.649 15.716C105.505 15.848 105.295 15.938 105.019 15.986L99.7625 16.742ZM101.995 12.782C101.335 12.782 100.783 13.004 100.339 13.448C99.9065 13.892 99.6785 14.528 99.6545 15.356L104.083 14.726C104.035 14.186 103.837 13.73 103.489 13.358C103.141 12.974 102.643 12.782 101.995 12.782Z\"\n                fill=\"currentColor\"\n            />\n            <rect width=\"30\" height=\"30\" rx=\"6\" fill=\"currentColor\" />\n            <path\n                d=\"M10.6 8.02644C10.6 7.54679 11.0029 7.15796 11.4999 7.15796C11.997 7.15796 12.3999 7.54679 12.3999 8.02644V16.1322C12.3999 16.6118 11.997 17.0007 11.4999 17.0007C11.0029 17.0007 10.6 16.6118 10.6 16.1322V8.02644ZM17.7999 9.1844C17.7999 8.70475 18.2028 8.31593 18.6999 8.31593C19.1969 8.31593 19.5999 8.70475 19.5999 9.1844V17.2901C19.5999 17.7698 19.1969 18.1586 18.6999 18.1586C18.2028 18.1586 17.7999 17.7698 17.7999 17.2901V9.1844ZM14.1999 6.86847C14.1999 6.38883 14.6029 6 15.0999 6C15.597 6 15.9999 6.38883 15.9999 6.86847V14.9742C15.9999 15.4539 15.597 15.8427 15.0999 15.8427C14.6029 15.8427 14.1999 15.4539 14.1999 14.9742V6.86847ZM23.7094 18.2446C24.1572 18.0365 24.6951 18.2182 24.9107 18.6503C25.1263 19.0825 24.9381 19.6015 24.4902 19.8096L16.8932 23.3393C13.4597 24.9346 9.33623 23.5419 7.68308 20.2286C7.23347 19.3275 7 18.3403 7 17.3402V10.9213C7 10.4417 7.40294 10.0529 7.89999 10.0529C8.39704 10.0529 8.79998 10.4417 8.79998 10.9213V17.3402C8.79998 18.0794 8.97255 18.8091 9.30486 19.4751C10.5268 21.924 13.5746 22.9534 16.1124 21.7743L23.7094 18.2446Z\"\n                fill=\"white\"\n            />\n        </svg>\n    );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"helper\":\"_3keeEJVN\",\"sentText\":\"_2j15H_vK\"};","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(\\),.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                var tokens = sanitizedLine.split(/\\s+/).slice(1);\n                // if a location was matched, pass it to extractLocation() otherwise pop the last token\n                var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n                var functionName = tokens.join(' ') || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                    .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                    .replace(/\\([^)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar flatten = require(\"array-flatten\");\nvar is_promise_1 = require(\"./is-promise\");\nfunction registerEvents(events, target, extensions, prevState, action, nextState) {\n    if (extensions === void 0) { extensions = {}; }\n    if (prevState === void 0) { prevState = {}; }\n    if (action === void 0) { action = {}; }\n    if (nextState === void 0) { nextState = {}; }\n    var logger = extensions.logger, offlineStorage = extensions.offlineStorage;\n    var ifLoggerLog = function (eventsToLog, actionToLog, stateToLog) {\n        var rest = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            rest[_i - 3] = arguments[_i];\n        }\n        if (typeof logger === 'function') {\n            logger.apply(void 0, [eventsToLog, actionToLog, stateToLog].concat(rest));\n        }\n    };\n    var isEmptyArray = function (arr) { return Array.isArray(arr) && arr.length === 0; };\n    var passEventsToTarget = function (e) {\n        if (!isEmptyArray(e)) {\n            target(e);\n        }\n    };\n    var handleEvents = function (e) {\n        if (offlineStorage === undefined) {\n            passEventsToTarget(e);\n            ifLoggerLog(e, action, prevState);\n        }\n        else if (offlineStorage.isConnected(nextState)) {\n            passEventsToTarget(e);\n            ifLoggerLog(e, action, prevState);\n            offlineStorage.purgeEvents(function (oldEvents) {\n                if (!isEmptyArray(oldEvents)) {\n                    target(oldEvents);\n                    ifLoggerLog(oldEvents, null, null, false, true);\n                }\n            });\n        }\n        else {\n            offlineStorage.saveEvents(e);\n            ifLoggerLog(e, action, prevState, true, false);\n        }\n    };\n    var asyncEvents = events.filter(is_promise_1.default);\n    var syncEvents = events.filter(function (event) { return !is_promise_1.default(event); });\n    handleEvents(syncEvents);\n    return Promise.all(asyncEvents)\n        .then(flatten)\n        .then(handleEvents);\n}\nexports.default = registerEvents;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"_1gbPH6ef\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"sgg0RBAs\",\"footer\":\"_2dIcIBtc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"QMZ4ks7h\",\"hasIcon\":\"_2izfU58H\",\"icon\":\"_3RHuPElX\",\"content\":\"_1doMfaa-\",\"subTitle\":\"_1De7amzf\"};","import { createStore, applyMiddleware } from 'redux';\n\nexport default (rootReducer, preloadedState, middleware) =>\n    createStore(rootReducer, preloadedState, applyMiddleware(...middleware));\n","import { get } from 'lodash';\n\nimport { mediaUtils } from '../helpers';\nimport {\n    ImageBlockKind,\n    ImageGalleryBlockKind,\n    HatBlockKind,\n    FeaturesBlockKind,\n    ServicesGridBlockKind,\n    LinkBlockKind,\n    SocialsBlockKind,\n    AudioBlockKind,\n    VideoBlockKind,\n    VideoGalleryBlockKind,\n    QuoteBlockKind,\n    AccordionBlockKind,\n    HeadingBlockKind,\n    TextBlockKind,\n    ListBlockKind,\n    MessengersBlockKind,\n    CustomBlockKind,\n} from './blocks';\n\nexport const ContentAttributes = {\n    Text: 1,\n    Link: 2,\n    Image: 4,\n    Media: 8,\n    Contact: 16,\n    Embed: 32,\n};\n\nexport const walkWebsiteAttributes = (website, consumer) => {\n    const visit = (path, type) => {\n        const value = get(website, path, null);\n\n        return value && consumer(path, { value, type });\n    };\n\n    if (false === visit('embeddedCode', ContentAttributes.Embed)) {\n        return false;\n    }\n\n    for (const [index, page] of website.pages.entries()) {\n        if (false === walkPageAttributes(page, consumer, `pages.${index}`)) {\n            return false;\n        }\n    }\n};\n\nexport const walkPageAttributes = (page, consumer, prefix) => {\n    const visit = (path, type) => {\n        const realPath = prefix ? `${prefix}.${path}` : path;\n        const value = get(page, realPath, null);\n\n        return value && consumer(realPath, { value, type });\n    };\n\n    if (false === visit('seo.ogImageUrl', ContentAttributes.Image)) {\n        return false;\n    }\n\n    if (false === visit('theme.page.backgroundImage', ContentAttributes.Image)) {\n        return false;\n    }\n\n    for (const [blockIndex, block] of page.blocks.entries()) {\n        const path = `blocks.${blockIndex}`;\n\n        switch (block.kind) {\n            case ImageBlockKind: {\n                if (false === visit(`${path}.url`, ContentAttributes.Image)) {\n                    return false;\n                }\n\n                break;\n            }\n\n            case ImageGalleryBlockKind: {\n                for (const index of block.images.keys()) {\n                    if (false === visit(`${path}.images.${index}.url`, ContentAttributes.Image)) {\n                        return false;\n                    }\n\n                    if (false === visit(`${path}.images.${index}.annotation`, ContentAttributes.Text)) {\n                        return false;\n                    }\n                }\n\n                break;\n            }\n            case HatBlockKind: {\n                if (false === visit(`${path}.bgUrl`, ContentAttributes.Image)) {\n                    return false;\n                }\n\n                if (false === visit(`${path}.logoUrl`, ContentAttributes.Image)) {\n                    return false;\n                }\n\n                if (false === visit(`${path}.title`, ContentAttributes.Text)) {\n                    return false;\n                }\n\n                if (false === visit(`${path}.subtitle`, ContentAttributes.Text)) {\n                    return false;\n                }\n\n                break;\n            }\n\n            case FeaturesBlockKind: {\n                for (const [index, item] of block.items.entries()) {\n                    if (\n                        item.glyph.type === 'image' &&\n                        false === visit(`${path}.items.${index}.glyph.url`, ContentAttributes.Image)\n                    ) {\n                        return false;\n                    }\n\n                    if (false === visit(`${path}.items.${index}.title`, ContentAttributes.Text)) {\n                        return false;\n                    }\n\n                    if (false === visit(`${path}.items.${index}.content`, ContentAttributes.Text)) {\n                        return false;\n                    }\n                }\n\n                break;\n            }\n\n            case LinkBlockKind: {\n                if (false === visit(`${path}.link.url`, ContentAttributes.Link)) {\n                    return false;\n                }\n\n                if (false === visit(`${path}.link.title`, ContentAttributes.Text)) {\n                    return false;\n                }\n\n                break;\n            }\n\n            case SocialsBlockKind: {\n                for (const index of block.items.keys()) {\n                    if (false === visit(`${path}.items.${index}.url`, ContentAttributes.Link)) {\n                        return false;\n                    }\n                }\n\n                break;\n            }\n\n            case ServicesGridBlockKind: {\n                for (const [index, item] of block.items.entries()) {\n                    if (false === visit(`${path}.items.${index}.url`, ContentAttributes.Link)) {\n                        return false;\n                    }\n\n                    for (const photoIndex of item.photos.keys()) {\n                        if (false === visit(`${path}.items.${index}.photos.${photoIndex}`, ContentAttributes.Image)) {\n                            return false;\n                        }\n                    }\n\n                    if (false === visit(`${path}.items.${index}.title`, ContentAttributes.Text)) {\n                        return false;\n                    }\n\n                    if (false === visit(`${path}.items.${index}.description`, ContentAttributes.Text)) {\n                        return false;\n                    }\n                }\n\n                break;\n            }\n\n            case AudioBlockKind: {\n                if (false === visit(`${path}.url`, ContentAttributes.Media)) {\n                    return false;\n                }\n\n                break;\n            }\n\n            case VideoBlockKind: {\n                if (false === visit(`${path}.url`, ContentAttributes.Media)) {\n                    return false;\n                }\n\n                break;\n            }\n\n            case VideoGalleryBlockKind: {\n                for (const index of block.videos.keys()) {\n                    if (false === visit(`${path}.videos.${index}.url`, ContentAttributes.Media)) {\n                        return false;\n                    }\n\n                    if (false === visit(`${path}.videos.${index}.annotation`, ContentAttributes.Text)) {\n                        return false;\n                    }\n                }\n\n                break;\n            }\n\n            case QuoteBlockKind: {\n                if (false === visit(`${path}.author`, ContentAttributes.Text)) {\n                    return false;\n                }\n\n                if (false === visit(`${path}.content`, ContentAttributes.Text)) {\n                    return false;\n                }\n\n                break;\n            }\n\n            case AccordionBlockKind: {\n                if (false === visit(`${path}.title`, ContentAttributes.Text)) {\n                    return false;\n                }\n\n                if (false === visit(`${path}.content`, ContentAttributes.Text)) {\n                    return false;\n                }\n\n                break;\n            }\n\n            case HeadingBlockKind:\n            case TextBlockKind: {\n                if (false === visit(`${path}.content`, ContentAttributes.Text)) {\n                    return false;\n                }\n\n                break;\n            }\n\n            case ListBlockKind: {\n                for (const index of block.items.keys()) {\n                    if (false === visit(`${path}.items.${index}.content`, ContentAttributes.Text)) {\n                        return false;\n                    }\n                }\n\n                break;\n            }\n\n            case MessengersBlockKind: {\n                for (const index of block.messengers.keys()) {\n                    if (false === visit(`${path}.messengers.${index}.value`, ContentAttributes.Contact)) {\n                        return false;\n                    }\n                }\n\n                break;\n            }\n        }\n    }\n};\n\nexport const recursivelyVisitNestedBlocks = (page, block, consumer) => {\n    const results = [];\n    let processed = 0;\n\n    switch (block.kind) {\n        case CustomBlockKind: {\n            for (const { blockId } of block.areas) {\n                const orphan = page.blocks.find(({ _id }) => String(_id) === String(blockId));\n\n                if (orphan) {\n                    const { processed: p, results: r } = recursivelyVisitNestedBlocks(page, orphan, consumer);\n\n                    processed += p;\n                    results.push(...r);\n                }\n            }\n\n            break;\n        }\n    }\n\n    const result = consumer(block);\n\n    if (result !== false) {\n        processed++;\n\n        if (result) {\n            results.push(result);\n        }\n    }\n\n    return {\n        processed,\n        results,\n    };\n};\n\nexport const UploadUsage = {\n    Image: 'Image',\n    Background: 'Background',\n    Logo: 'Logo',\n    Icon: 'Icon',\n};\n\nconst makeUploadMatcher = ({ path }) => {\n    const relative = mediaUtils.getRelativeUrl(path);\n\n    return (other) => other && (path === other || relative === mediaUtils.getRelativeUrl(other));\n};\n\nconst getImageUsageInBlock = (block, matchPath) => {\n    switch (block.kind) {\n        case ImageBlockKind: {\n            return matchPath(block.url) && [{ entity: ImageBlockKind, as: UploadUsage.Image }];\n        }\n        case ImageGalleryBlockKind: {\n            return block.images\n                .map(({ url }) => matchPath(url) && { entity: ImageGalleryBlockKind, as: UploadUsage.Image })\n                .filter(Boolean);\n        }\n        case HatBlockKind: {\n            return [\n                matchPath(block.bgUrl) && { entity: HatBlockKind, as: UploadUsage.Background },\n                matchPath(block.logoUrl) && { entity: HatBlockKind, as: UploadUsage.Logo },\n            ].filter(Boolean);\n        }\n        case FeaturesBlockKind: {\n            return block.items\n                .map(\n                    (item) =>\n                        item.glyph.type === 'image' &&\n                        matchPath(item.glyph.url) && { entity: FeaturesBlockKind, as: UploadUsage.Icon }\n                )\n                .filter(Boolean);\n        }\n        case ServicesGridBlockKind: {\n            return []\n                .concat(\n                    ...block.items.map((item) =>\n                        item.photos.map(\n                            (url) => matchPath(url) && { entity: ServicesGridBlockKind, as: UploadUsage.Image }\n                        )\n                    )\n                )\n                .filter(Boolean);\n        }\n    }\n};\n\nexport const getUploadUsagesOnPage = (page, matchPath) => {\n    const usages = [];\n\n    if (matchPath(get(page, 'seo.ogImageUrl'))) {\n        usages.push({ entity: 'page.og-image', as: UploadUsage.Image });\n    }\n\n    if (matchPath(get(page, 'theme.page.backgroundImage'))) {\n        usages.push({ entity: 'page', as: UploadUsage.Background });\n    }\n\n    for (const block of page.blocks) {\n        const found = getImageUsageInBlock(block, matchPath);\n\n        if (found && found.length) {\n            usages.push(...found);\n        }\n    }\n\n    return usages;\n};\n\nexport const getUploadUsagesOnWebsite = (upload, { pages, seo }) => {\n    const matchPath = makeUploadMatcher(upload);\n    const usages = [];\n\n    if (matchPath(seo.ogImageUrl)) {\n        usages.push({ entity: 'website.og-image', as: UploadUsage.Image });\n    }\n\n    for (const page of pages) {\n        const found = getUploadUsagesOnPage(page, matchPath);\n\n        if (found.length) {\n            usages.push(...found);\n        }\n    }\n\n    return usages;\n};\n\nexport const isImageUsedOnPage = (page, matchPath) => {\n    if (matchPath(get(page, 'seo.ogImageUrl'))) {\n        return true;\n    }\n\n    if (matchPath(get(page, 'theme.page.backgroundImage'))) {\n        return true;\n    }\n\n    return !!page.blocks.find((block) => {\n        switch (block.kind) {\n            case ImageBlockKind: {\n                return matchPath(block.url);\n            }\n            case ImageGalleryBlockKind: {\n                return !!block.images.find(({ url }) => matchPath(url));\n            }\n            case HatBlockKind: {\n                return matchPath(block.bgUrl) || matchPath(block.logoUrl);\n            }\n            case FeaturesBlockKind: {\n                return !!block.items.find((item) => item.glyph.type === 'image' && matchPath(item.glyph.url));\n            }\n            case ServicesGridBlockKind: {\n                return !!block.items.find((item) => item.photos.find(matchPath));\n            }\n        }\n    });\n};\n\nexport const isUploadUsedOnPage = (upload, page) => {\n    return isImageUsedOnPage(page, makeUploadMatcher(upload));\n};\n\nexport const isUploadUsedOnWebsite = (upload, { pages, seo }) => {\n    const matchPath = makeUploadMatcher(upload);\n\n    if (matchPath(seo.ogImageUrl)) {\n        return true;\n    }\n\n    for (const page of pages) {\n        if (isImageUsedOnPage(page, matchPath)) {\n            return true;\n        }\n    }\n};\n\nexport const walkPageUrlAttributes = (page, consumer) => {\n    let url;\n\n    if ((url = get(page, 'seo.ogImageUrl')) && false === consumer('seo.ogImageUrl', url)) {\n        return;\n    }\n\n    if ((url = get(page, 'theme.page.backgroundImage')) && false === consumer('theme.page.backgroundImage', url)) {\n        return;\n    }\n\n    for (const [blockIndex, block] of page.blocks.entries()) {\n        const path = `blocks.${blockIndex}`;\n\n        switch (block.kind) {\n            case ImageBlockKind: {\n                if (block.url && false === consumer(`${path}.url`, block.url, ImageBlockKind)) {\n                    return;\n                }\n\n                break;\n            }\n            case ImageGalleryBlockKind: {\n                for (const [index, item] of block.images.entries()) {\n                    if (\n                        item.url &&\n                        false === consumer(`${path}.images.${index}.url`, item.url, ImageGalleryBlockKind)\n                    ) {\n                        return;\n                    }\n                }\n\n                break;\n            }\n            case HatBlockKind: {\n                if (block.bgUrl && false === consumer(`${path}.bgUrl`, block.bgUrl, HatBlockKind)) {\n                    return;\n                }\n\n                if (block.logoUrl && false === consumer(`${path}.logoUrl`, block.logoUrl, HatBlockKind)) {\n                    return;\n                }\n\n                break;\n            }\n\n            case FeaturesBlockKind: {\n                for (const [index, item] of block.items.entries()) {\n                    if (\n                        item.glyph.url &&\n                        item.glyph.type === 'image' &&\n                        false === consumer(`${path}.items.${index}.glyph.url`, item.glyph.url, FeaturesBlockKind)\n                    ) {\n                        return;\n                    }\n                }\n\n                break;\n            }\n\n            case ServicesGridBlockKind: {\n                for (const [index, item] of block.items.entries()) {\n                    for (const [photoIndex, url] of item.photos.entries()) {\n                        if (\n                            false ===\n                            consumer(`${path}.items.${index}.photos.${photoIndex}`, url, ServicesGridBlockKind)\n                        ) {\n                            return;\n                        }\n                    }\n                }\n\n                break;\n            }\n        }\n    }\n};\n\nexport const getPageThumbnailUrl = (page) => {\n    let found = '';\n\n    walkPageUrlAttributes(page, (key, url, kind) => {\n        if (\n            key === 'seo.ogImageUrl' ||\n            (kind && (kind === ImageBlockKind || kind === ImageGalleryBlockKind || kind === HatBlockKind))\n        ) {\n            found = url;\n\n            return false;\n        }\n    });\n\n    return found;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isPromise(value) {\n    return typeof value === 'object' && typeof value.then === 'function';\n}\nexports.default = isPromise;\n","var map = {\n\t\"./en-au\": \"HgyJ\",\n\t\"./en-au.js\": \"HgyJ\",\n\t\"./en-ca\": \"ZyTy\",\n\t\"./en-ca.js\": \"ZyTy\",\n\t\"./en-gb\": \"exaB\",\n\t\"./en-gb.js\": \"exaB\",\n\t\"./en-ie\": \"yKzn\",\n\t\"./en-ie.js\": \"yKzn\",\n\t\"./en-il\": \"TB59\",\n\t\"./en-il.js\": \"TB59\",\n\t\"./en-nz\": \"iDxo\",\n\t\"./en-nz.js\": \"iDxo\",\n\t\"./ru\": \"ecsu\",\n\t\"./ru.js\": \"ecsu\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"L2GT\";","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { MssgmeLogo } from '@mssgme/ui';\nimport { main_url } from 'config';\n\nimport styles from './styles.scss';\n\nexport default function AuthLayout({ children }) {\n    return (\n        <div className={styles.root}>\n            <div className={styles.contentContainer}>\n                <div className={styles.content}>\n                    <div className={styles.header}>\n                        <a href={main_url} className={styles.logo}>\n                            <MssgmeLogo />\n                        </a>\n                    </div>\n                    <div className={styles.pane}>{children}</div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nAuthLayout.propTypes = {\n    children: PropTypes.any,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport TinyColor2 from 'tinycolor2';\n\nimport { isLightColor } from '@mssgme/helpers';\n\nimport styles from './SocialLoginButton.scss';\n\nexport function SocialLoginButton({ as: Tag, icon: Icon, backgroundColor, iconBorderColor, style, children, ...rest }) {\n    const color = isLightColor(backgroundColor) ? '#333' : '#eee';\n\n    return (\n        <Tag className={cn(styles.root, Icon && styles.hasIcon)} style={{ backgroundColor, color, ...style }} {...rest}>\n            {Icon && (\n                <div\n                    className={styles.icon}\n                    style={{\n                        borderRight: `1px solid ${iconBorderColor ||\n                            TinyColor2(backgroundColor)\n                                .darken(4)\n                                .toString()}`,\n                    }}\n                >\n                    <Icon size={20} />\n                </div>\n            )}\n            <div className={styles.content}>\n                <div>{children}</div>\n            </div>\n        </Tag>\n    );\n}\n\nSocialLoginButton.propTypes = {\n    as: PropTypes.any,\n    icon: PropTypes.any,\n    backgroundColor: PropTypes.string,\n    iconBorderColor: PropTypes.string,\n    style: PropTypes.object,\n    children: PropTypes.any.isRequired,\n};\n\nSocialLoginButton.defaultProps = {\n    as: 'div',\n    icon: null,\n    backgroundColor: '#fff',\n    style: {},\n    iconBorderColor: '',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport { AiOutlineGoogle } from 'react-icons/ai';\n\nimport { SocialLoginButton } from './SocialLoginButton';\n\nexport const GoogleLoginButton = ({ beforeProvider, ...rest }) => {\n    const { t } = useTranslation('auth');\n\n    return (\n        <SocialLoginButton icon={AiOutlineGoogle} as=\"a\" href=\"/api/auth/login/google\" {...rest}>\n            {t(beforeProvider || 'auth.loginWith', { provider: 'Google' })}\n        </SocialLoginButton>\n    );\n};\n\nGoogleLoginButton.propTypes = {\n    beforeProvider: PropTypes.string,\n};\n\nGoogleLoginButton.defaultProps = {\n    beforeProvider: '',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport { FaApple } from 'react-icons/fa';\n\nimport { SocialLoginButton } from './SocialLoginButton';\n\nexport const AppleLoginButton = ({ beforeProvider, ...rest }) => {\n    const { t } = useTranslation('auth');\n\n    return (\n        <SocialLoginButton icon={FaApple} as=\"a\" href=\"/api/auth/login/apple\" backgroundColor=\"#000\" {...rest}>\n            {t(beforeProvider || 'auth.loginWith', { provider: 'Apple' })}\n        </SocialLoginButton>\n    );\n};\n\nAppleLoginButton.propTypes = {\n    beforeProvider: PropTypes.string,\n};\n\nAppleLoginButton.defaultProps = {\n    beforeProvider: '',\n};\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { LinkBlank } from '@mssgme/ui';\nimport styles from './styles.scss';\n\nexport const LegaliseSection = () => {\n    const { t } = useTranslation();\n\n    return (\n        <span className={styles.terms}>\n            {t('auth.signup.termsText')}{' '}\n            <LinkBlank href=\"https://mssg.me/privacy-policy\">{t('auth.signup.policy')}</LinkBlank>{' '}\n            {t('auth.signup.and')} <LinkBlank href=\"https://mssg.me/terms-of-use\">{t('auth.signup.terms')}</LinkBlank>\n        </span>\n    );\n};\n","import React, { useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { FiMail } from 'react-icons/fi';\n\nimport { useActions } from '@mssgme/hooks';\nimport { LimitRequestsError } from '@mssgme/api-client';\nimport { useEnhancedFormik, FormField, Button } from '@mssgme/ui';\nimport { GoogleLoginButton, AppleLoginButton, SocialLoginButton } from '../../../UI';\n\nimport styles from './styles.scss';\n\nexport default function LoginForm() {\n    const { t } = useTranslation('auth');\n    const actions = useActions();\n    const [isEmailFormVisible, setIsEmailFormVisible] = useState(false);\n\n    const formik = useEnhancedFormik({\n        initialValues: {\n            username: '',\n            password: '',\n        },\n        onSubmit: (payload) => actions.api.auth.login({ payload }),\n    });\n\n    const limitRequestError = LimitRequestsError.is(formik.submit.error) ? formik.submit.error.message : null;\n\n    if (formik.status === 'success') {\n        window.location.href = '/pages';\n    }\n\n    return (\n        <form onSubmit={formik.handleSubmit}>\n            <GoogleLoginButton backgroundColor=\"#db4a39\" id=\"button-login-google\" />\n            <AppleLoginButton iconBorderColor=\"#222\" id=\"button-login-apple\" />\n            {!isEmailFormVisible && (\n                <SocialLoginButton\n                    icon={FiMail}\n                    as=\"div\"\n                    onClick={() => setIsEmailFormVisible(true)}\n                    id=\"button-login-show-email-form\"\n                >\n                    {t('auth.loginWith', { provider: 'Email' })}\n                </SocialLoginButton>\n            )}\n            {isEmailFormVisible && (\n                <>\n                    <FormField\n                        builderInput\n                        placeholder={t('label.email')}\n                        name=\"username\"\n                        type=\"email\"\n                        value={formik.values.username}\n                        onChange={formik.handleChange}\n                        autoComplete=\"email\"\n                        style={{ height: 44, fontSize: 18, marginTop: 16 }}\n                    />\n                    <FormField\n                        builderInput\n                        placeholder={t('label.password')}\n                        name=\"password\"\n                        type=\"password\"\n                        value={formik.values.password}\n                        onChange={formik.handleChange}\n                        autoComplete=\"current-password\"\n                        errors={formik.errors.username || limitRequestError}\n                        style={{ height: 44, fontSize: 18 }}\n                        errorStyle={{ fontSize: 16, textAlign: 'center' }}\n                    />\n                    <div style={{ display: 'flex', justifyContent: 'center' }}>\n                        <Button\n                            fullWidth\n                            type=\"submit\"\n                            isFetching={formik.isSubmitting || formik.status === 'success'}\n                            style={{\n                                fontSize: 18,\n                                fontWeight: 'bold',\n                                backgroundColor:\n                                    formik.isSubmitting || formik.status === 'success' ? 'transparent' : '#007aff',\n                            }}\n                            id=\"button-login-email\"\n                        >\n                            {t('auth.signin.signin')}\n                        </Button>\n                    </div>\n                </>\n            )}\n            <div className={styles.footer}>\n                <span>\n                    {t('auth.signin.noAccount')}{' '}\n                    <Link style={{ color: '#007aff' }} to=\"/signup\">\n                        {t('auth.signin.signup')}\n                    </Link>\n                </span>\n                {isEmailFormVisible && (\n                    <span>\n                        {t('auth.signin.forget')}{' '}\n                        <Link style={{ color: '#007aff' }} to=\"/restore\">\n                            {t('auth.signin.restore')}\n                        </Link>\n                    </span>\n                )}\n            </div>\n        </form>\n    );\n}\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport AuthLayout from '../AuthLayout';\nimport LoginForm from '../Forms/LoginForm';\n\nimport styles from './styles.scss';\n\nexport default function LoginPage() {\n    const { t } = useTranslation('auth');\n\n    return (\n        <AuthLayout>\n            <div className={styles.root}>\n                <div className={styles.header}>\n                    <h1>{t('auth.signin.heading')}</h1>\n                </div>\n                <LoginForm />\n            </div>\n        </AuthLayout>\n    );\n}\n","import React, { useEffect } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport { useActions } from '@mssgme/hooks';\n\nexport default function LogoutPage() {\n    const actions = useActions();\n\n    useEffect(() => {\n        actions.api.auth.logout();\n    }, []);\n\n    return <Redirect to=\"login\" />;\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nvar ReCAPTCHA =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(ReCAPTCHA, _React$Component);\n\n  function ReCAPTCHA() {\n    var _this;\n\n    _this = _React$Component.call(this) || this;\n    _this.handleExpired = _this.handleExpired.bind(_assertThisInitialized(_this));\n    _this.handleErrored = _this.handleErrored.bind(_assertThisInitialized(_this));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handleRecaptchaRef = _this.handleRecaptchaRef.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = ReCAPTCHA.prototype;\n\n  _proto.getValue = function getValue() {\n    if (this.props.grecaptcha && this._widgetId !== undefined) {\n      return this.props.grecaptcha.getResponse(this._widgetId);\n    }\n\n    return null;\n  };\n\n  _proto.getWidgetId = function getWidgetId() {\n    if (this.props.grecaptcha && this._widgetId !== undefined) {\n      return this._widgetId;\n    }\n\n    return null;\n  };\n\n  _proto.execute = function execute() {\n    var grecaptcha = this.props.grecaptcha;\n\n    if (grecaptcha && this._widgetId !== undefined) {\n      return grecaptcha.execute(this._widgetId);\n    } else {\n      this._executeRequested = true;\n    }\n  };\n\n  _proto.executeAsync = function executeAsync() {\n    var _this2 = this;\n\n    return new Promise(function (resolve, reject) {\n      _this2.executionResolve = resolve;\n      _this2.executionReject = reject;\n\n      _this2.execute();\n    });\n  };\n\n  _proto.reset = function reset() {\n    if (this.props.grecaptcha && this._widgetId !== undefined) {\n      this.props.grecaptcha.reset(this._widgetId);\n    }\n  };\n\n  _proto.handleExpired = function handleExpired() {\n    if (this.props.onExpired) {\n      this.props.onExpired();\n    } else {\n      this.handleChange(null);\n    }\n  };\n\n  _proto.handleErrored = function handleErrored() {\n    if (this.props.onErrored) {\n      this.props.onErrored();\n    }\n\n    if (this.executionReject) {\n      this.executionReject();\n      delete this.executionResolve;\n      delete this.executionReject;\n    }\n  };\n\n  _proto.handleChange = function handleChange(token) {\n    if (this.props.onChange) {\n      this.props.onChange(token);\n    }\n\n    if (this.executionResolve) {\n      this.executionResolve(token);\n      delete this.executionReject;\n      delete this.executionResolve;\n    }\n  };\n\n  _proto.explicitRender = function explicitRender() {\n    if (this.props.grecaptcha && this.props.grecaptcha.render && this._widgetId === undefined) {\n      var wrapper = document.createElement(\"div\");\n      this._widgetId = this.props.grecaptcha.render(wrapper, {\n        sitekey: this.props.sitekey,\n        callback: this.handleChange,\n        theme: this.props.theme,\n        type: this.props.type,\n        tabindex: this.props.tabindex,\n        \"expired-callback\": this.handleExpired,\n        \"error-callback\": this.handleErrored,\n        size: this.props.size,\n        stoken: this.props.stoken,\n        hl: this.props.hl,\n        badge: this.props.badge\n      });\n      this.captcha.appendChild(wrapper);\n    }\n\n    if (this._executeRequested && this.props.grecaptcha && this._widgetId !== undefined) {\n      this._executeRequested = false;\n      this.execute();\n    }\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.explicitRender();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.explicitRender();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this._widgetId !== undefined) {\n      this.delayOfCaptchaIframeRemoving();\n      this.reset();\n    }\n  };\n\n  _proto.delayOfCaptchaIframeRemoving = function delayOfCaptchaIframeRemoving() {\n    var temporaryNode = document.createElement(\"div\");\n    document.body.appendChild(temporaryNode);\n    temporaryNode.style.display = \"none\"; // move of the recaptcha to a temporary node\n\n    while (this.captcha.firstChild) {\n      temporaryNode.appendChild(this.captcha.firstChild);\n    } // delete the temporary node after reset will be done\n\n\n    setTimeout(function () {\n      document.body.removeChild(temporaryNode);\n    }, 5000);\n  };\n\n  _proto.handleRecaptchaRef = function handleRecaptchaRef(elem) {\n    this.captcha = elem;\n  };\n\n  _proto.render = function render() {\n    // consume properties owned by the reCATPCHA, pass the rest to the div so the user can style it.\n\n    /* eslint-disable no-unused-vars */\n    var _this$props = this.props,\n        sitekey = _this$props.sitekey,\n        onChange = _this$props.onChange,\n        theme = _this$props.theme,\n        type = _this$props.type,\n        tabindex = _this$props.tabindex,\n        onExpired = _this$props.onExpired,\n        onErrored = _this$props.onErrored,\n        size = _this$props.size,\n        stoken = _this$props.stoken,\n        grecaptcha = _this$props.grecaptcha,\n        badge = _this$props.badge,\n        hl = _this$props.hl,\n        childProps = _objectWithoutPropertiesLoose(_this$props, [\"sitekey\", \"onChange\", \"theme\", \"type\", \"tabindex\", \"onExpired\", \"onErrored\", \"size\", \"stoken\", \"grecaptcha\", \"badge\", \"hl\"]);\n    /* eslint-enable no-unused-vars */\n\n\n    return React.createElement(\"div\", _extends({}, childProps, {\n      ref: this.handleRecaptchaRef\n    }));\n  };\n\n  return ReCAPTCHA;\n}(React.Component);\n\nexport { ReCAPTCHA as default };\nReCAPTCHA.displayName = \"ReCAPTCHA\";\nReCAPTCHA.propTypes = {\n  sitekey: PropTypes.string.isRequired,\n  onChange: PropTypes.func,\n  grecaptcha: PropTypes.object,\n  theme: PropTypes.oneOf([\"dark\", \"light\"]),\n  type: PropTypes.oneOf([\"image\", \"audio\"]),\n  tabindex: PropTypes.number,\n  onExpired: PropTypes.func,\n  onErrored: PropTypes.func,\n  size: PropTypes.oneOf([\"compact\", \"normal\", \"invisible\"]),\n  stoken: PropTypes.string,\n  hl: PropTypes.string,\n  badge: PropTypes.oneOf([\"bottomright\", \"bottomleft\", \"inline\"])\n};\nReCAPTCHA.defaultProps = {\n  onChange: function onChange() {},\n  theme: \"light\",\n  type: \"image\",\n  tabindex: 0,\n  size: \"normal\",\n  badge: \"bottomright\"\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nimport { Component, createElement, forwardRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport hoistStatics from \"hoist-non-react-statics\";\nvar SCRIPT_MAP = {}; // A counter used to generate a unique id for each component that uses the function\n\nvar idCount = 0;\nexport default function makeAsyncScript(getScriptURL, options) {\n  options = options || {};\n  return function wrapWithAsyncScript(WrappedComponent) {\n    var wrappedComponentName = WrappedComponent.displayName || WrappedComponent.name || \"Component\";\n\n    var AsyncScriptLoader =\n    /*#__PURE__*/\n    function (_Component) {\n      _inheritsLoose(AsyncScriptLoader, _Component);\n\n      function AsyncScriptLoader(props, context) {\n        var _this;\n\n        _this = _Component.call(this, props, context) || this;\n        _this.state = {};\n        _this.__scriptURL = \"\";\n        return _this;\n      }\n\n      var _proto = AsyncScriptLoader.prototype;\n\n      _proto.asyncScriptLoaderGetScriptLoaderID = function asyncScriptLoaderGetScriptLoaderID() {\n        if (!this.__scriptLoaderID) {\n          this.__scriptLoaderID = \"async-script-loader-\" + idCount++;\n        }\n\n        return this.__scriptLoaderID;\n      };\n\n      _proto.setupScriptURL = function setupScriptURL() {\n        this.__scriptURL = typeof getScriptURL === \"function\" ? getScriptURL() : getScriptURL;\n        return this.__scriptURL;\n      };\n\n      _proto.asyncScriptLoaderHandleLoad = function asyncScriptLoaderHandleLoad(state) {\n        var _this2 = this;\n\n        // use reacts setState callback to fire props.asyncScriptOnLoad with new state/entry\n        this.setState(state, function () {\n          return _this2.props.asyncScriptOnLoad && _this2.props.asyncScriptOnLoad(_this2.state);\n        });\n      };\n\n      _proto.asyncScriptLoaderTriggerOnScriptLoaded = function asyncScriptLoaderTriggerOnScriptLoaded() {\n        var mapEntry = SCRIPT_MAP[this.__scriptURL];\n\n        if (!mapEntry || !mapEntry.loaded) {\n          throw new Error(\"Script is not loaded.\");\n        }\n\n        for (var obsKey in mapEntry.observers) {\n          mapEntry.observers[obsKey](mapEntry);\n        }\n\n        delete window[options.callbackName];\n      };\n\n      _proto.componentDidMount = function componentDidMount() {\n        var _this3 = this;\n\n        var scriptURL = this.setupScriptURL();\n        var key = this.asyncScriptLoaderGetScriptLoaderID();\n        var _options = options,\n            globalName = _options.globalName,\n            callbackName = _options.callbackName,\n            scriptId = _options.scriptId; // check if global object already attached to window\n\n        if (globalName && typeof window[globalName] !== \"undefined\") {\n          SCRIPT_MAP[scriptURL] = {\n            loaded: true,\n            observers: {}\n          };\n        } // check if script loading already\n\n\n        if (SCRIPT_MAP[scriptURL]) {\n          var entry = SCRIPT_MAP[scriptURL]; // if loaded or errored then \"finish\"\n\n          if (entry && (entry.loaded || entry.errored)) {\n            this.asyncScriptLoaderHandleLoad(entry);\n            return;\n          } // if still loading then callback to observer queue\n\n\n          entry.observers[key] = function (entry) {\n            return _this3.asyncScriptLoaderHandleLoad(entry);\n          };\n\n          return;\n        }\n        /*\n         * hasn't started loading\n         * start the \"magic\"\n         * setup script to load and observers\n         */\n\n\n        var observers = {};\n\n        observers[key] = function (entry) {\n          return _this3.asyncScriptLoaderHandleLoad(entry);\n        };\n\n        SCRIPT_MAP[scriptURL] = {\n          loaded: false,\n          observers: observers\n        };\n        var script = document.createElement(\"script\");\n        script.src = scriptURL;\n        script.async = true;\n\n        for (var attribute in options.attributes) {\n          script.setAttribute(attribute, options.attributes[attribute]);\n        }\n\n        if (scriptId) {\n          script.id = scriptId;\n        }\n\n        var callObserverFuncAndRemoveObserver = function callObserverFuncAndRemoveObserver(func) {\n          if (SCRIPT_MAP[scriptURL]) {\n            var mapEntry = SCRIPT_MAP[scriptURL];\n            var observersMap = mapEntry.observers;\n\n            for (var obsKey in observersMap) {\n              if (func(observersMap[obsKey])) {\n                delete observersMap[obsKey];\n              }\n            }\n          }\n        };\n\n        if (callbackName && typeof window !== \"undefined\") {\n          window[callbackName] = function () {\n            return _this3.asyncScriptLoaderTriggerOnScriptLoaded();\n          };\n        }\n\n        script.onload = function () {\n          var mapEntry = SCRIPT_MAP[scriptURL];\n\n          if (mapEntry) {\n            mapEntry.loaded = true;\n            callObserverFuncAndRemoveObserver(function (observer) {\n              if (callbackName) {\n                return false;\n              }\n\n              observer(mapEntry);\n              return true;\n            });\n          }\n        };\n\n        script.onerror = function () {\n          var mapEntry = SCRIPT_MAP[scriptURL];\n\n          if (mapEntry) {\n            mapEntry.errored = true;\n            callObserverFuncAndRemoveObserver(function (observer) {\n              observer(mapEntry);\n              return true;\n            });\n          }\n        };\n\n        document.body.appendChild(script);\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        // Remove tag script\n        var scriptURL = this.__scriptURL;\n\n        if (options.removeOnUnmount === true) {\n          var allScripts = document.getElementsByTagName(\"script\");\n\n          for (var i = 0; i < allScripts.length; i += 1) {\n            if (allScripts[i].src.indexOf(scriptURL) > -1) {\n              if (allScripts[i].parentNode) {\n                allScripts[i].parentNode.removeChild(allScripts[i]);\n              }\n            }\n          }\n        } // Clean the observer entry\n\n\n        var mapEntry = SCRIPT_MAP[scriptURL];\n\n        if (mapEntry) {\n          delete mapEntry.observers[this.asyncScriptLoaderGetScriptLoaderID()];\n\n          if (options.removeOnUnmount === true) {\n            delete SCRIPT_MAP[scriptURL];\n          }\n        }\n      };\n\n      _proto.render = function render() {\n        var globalName = options.globalName; // remove asyncScriptOnLoad from childProps\n\n        var _this$props = this.props,\n            asyncScriptOnLoad = _this$props.asyncScriptOnLoad,\n            forwardedRef = _this$props.forwardedRef,\n            childProps = _objectWithoutPropertiesLoose(_this$props, [\"asyncScriptOnLoad\", \"forwardedRef\"]); // eslint-disable-line no-unused-vars\n\n\n        if (globalName && typeof window !== \"undefined\") {\n          childProps[globalName] = typeof window[globalName] !== \"undefined\" ? window[globalName] : undefined;\n        }\n\n        childProps.ref = forwardedRef;\n        return createElement(WrappedComponent, childProps);\n      };\n\n      return AsyncScriptLoader;\n    }(Component); // Note the second param \"ref\" provided by React.forwardRef.\n    // We can pass it along to AsyncScriptLoader as a regular prop, e.g. \"forwardedRef\"\n    // And it can then be attached to the Component.\n\n\n    var ForwardedComponent = forwardRef(function (props, ref) {\n      return createElement(AsyncScriptLoader, _extends({}, props, {\n        forwardedRef: ref\n      }));\n    });\n    ForwardedComponent.displayName = \"AsyncScriptLoader(\" + wrappedComponentName + \")\";\n    ForwardedComponent.propTypes = {\n      asyncScriptOnLoad: PropTypes.func\n    };\n    return hoistStatics(ForwardedComponent, WrappedComponent);\n  };\n}","import ReCAPTCHA from \"./recaptcha\";\nimport makeAsyncScriptLoader from \"react-async-script\";\nvar callbackName = \"onloadcallback\";\nvar globalName = \"grecaptcha\";\n\nfunction getOptions() {\n  return typeof window !== \"undefined\" && window.recaptchaOptions || {};\n}\n\nfunction getURL() {\n  var dynamicOptions = getOptions();\n  var hostname = dynamicOptions.useRecaptchaNet ? \"recaptcha.net\" : \"www.google.com\";\n  return \"https://\" + hostname + \"/recaptcha/api.js?onload=\" + callbackName + \"&render=explicit\";\n}\n\nexport default makeAsyncScriptLoader(getURL, {\n  callbackName: callbackName,\n  globalName: globalName\n})(ReCAPTCHA);","import RecaptchaWrapper from \"./recaptcha-wrapper\";\nimport ReCAPTCHA from \"./recaptcha\";\nexport default RecaptchaWrapper;\nexport { ReCAPTCHA };","let isStandalone = false;\n\nif ('matchMedia' in window) {\n    if (matchMedia('(display-mode: standalone)').matches) {\n        isStandalone = true;\n    } else if ('standalone' in navigator) {\n        isStandalone = navigator.standalone;\n    }\n}\n\nexport default isStandalone;\n","import ReCAPTCHA from 'react-google-recaptcha';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useSearchParam } from 'react-use';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect, useHistory, useParams } from 'react-router-dom';\nimport { FiMail } from 'react-icons/fi';\n\nimport config from 'config';\n\nimport { isStandalone, ua } from '@mssgme/helpers';\nimport { useActions, useFetch } from '@mssgme/hooks';\nimport { useEnhancedFormik, Button, FormField, Spinner, LinkBlank } from '@mssgme/ui';\nimport { GoogleLoginButton, AppleLoginButton, SocialLoginButton, LegaliseSection } from '../../../UI';\nimport styles from './styles.scss';\n\nconst SHOW_IN_WEBVIEW = false;\nconst SHOW_EMAIL = true;\nconst SHOW_RECAPTCHA_WARNING = false;\n\nconst isWebview = () => {\n    return (ua.iOS && !isStandalone && !ua.Safari) || ua.WebView;\n};\n\nexport default function RegistrationForm() {\n    const history = useHistory();\n    const isInWebview = isWebview();\n    const recaptchaRef = useRef(null);\n    const { t, i18n } = useTranslation('auth');\n    const { api } = useActions();\n    const initialEmail = useSearchParam('email');\n    const hasInitialEmail = !!initialEmail;\n    const [isEmailFormVisible, setIsEmailFormVisible] = useState(SHOW_EMAIL || hasInitialEmail || isInWebview);\n\n    // const { code } = useParams();\n    const formik = useEnhancedFormik({\n        initialValues: {\n            // code,\n            email: initialEmail || '',\n            password: '',\n            lang: i18n.language,\n            recaptchaToken: '',\n        },\n        onSubmit: async (payload) => {\n            if (config.recaptcha_public_key) {\n                await recaptchaRef.current.reset();\n                payload = { ...payload, recaptchaToken: await recaptchaRef.current.executeAsync() };\n            }\n            await api.users.create({ payload });\n            window.location.href = '/pages/create';\n        },\n    });\n\n    const isSubmitEnabled = formik.values.email && formik.values.password;\n\n    // const [email, setEmail] = useState('');\n    // const { pending, result, getValidationError } = useFetch(\n    //     () => api.users.checkRegistrationInvite({ payload: { code } }),\n    //     [code]\n    // );\n    // const codeError = getValidationError('code');\n\n    // useEffect(() => {\n    //     formik.setFieldError('code', codeError);\n    // }, [formik.setFieldError, codeError]);\n\n    // useEffect(() => {\n    //     setEmail(result);\n    // }, [result]);\n\n    // if (formik.status === 'success') {\n    //     return <Redirect to=\"/\" />;\n    // }\n\n    const emailErrors = [\n        t(formik.errors.email),\n        formik.submit.error?.code === 'GEOLOCKED' && t('auth.signup.geoLockedError'),\n    ].filter(Boolean);\n\n    return (\n        <form onSubmit={formik.handleSubmit}>\n            {/*{pending && <Spinner />}*/}\n\n            {/*<FormField*/}\n            {/*    builderInput*/}\n            {/*    type=\"hidden\"*/}\n            {/*    name=\"code\"*/}\n            {/*    errors={t(formik.errors.code)}*/}\n            {/*    style={{ display: 'none' }}*/}\n            {/*    errorStyle={{ fontSize: 16, textAlign: 'center' }}*/}\n            {/*/>*/}\n\n            <div>\n                {(SHOW_IN_WEBVIEW || !isInWebview) && (\n                    <>\n                        <GoogleLoginButton\n                            beforeProvider=\"auth.signUpWith\"\n                            backgroundColor=\"#db4a39\"\n                            style={{ fontSize: 14 }}\n                            id=\"button-signup-google\"\n                        />\n                        <AppleLoginButton\n                            beforeProvider=\"auth.signUpWith\"\n                            iconBorderColor=\"#222\"\n                            style={{ fontSize: 14 }}\n                            id=\"button-signup-apple\"\n                        />\n                    </>\n                )}\n                {!isEmailFormVisible && (\n                    <SocialLoginButton\n                        icon={FiMail}\n                        as=\"div\"\n                        onClick={() => setIsEmailFormVisible(true)}\n                        style={{ fontSize: 14 }}\n                        id=\"button-signup-show-email-form\"\n                    >\n                        {t('auth.signUpWith', { provider: 'Email' })}\n                    </SocialLoginButton>\n                )}\n                {isEmailFormVisible && (\n                    <>\n                        <FormField\n                            builderInput\n                            // disabled\n                            placeholder={t('label.email')}\n                            autoComplete=\"email\"\n                            autoFocus\n                            errors={emailErrors}\n                            {...formik.getFieldProps('email')}\n                            style={{\n                                height: 44,\n                                fontSize: 18,\n                                marginTop: SHOW_IN_WEBVIEW || !isInWebview ? 16 : 0,\n                            }}\n                            errorStyle={{ fontSize: 16, textAlign: 'center' }}\n                        />\n                        <FormField\n                            builderInput\n                            placeholder={t('label.password')}\n                            type=\"password\"\n                            autoComplete=\"new-password\"\n                            errors={t(formik.errors.password)}\n                            {...formik.getFieldProps('password')}\n                            style={{ height: 44, fontSize: 18 }}\n                            errorStyle={{ fontSize: 16, textAlign: 'center' }}\n                        />\n                        <div style={{ display: 'flex', justifyContent: 'center' }}>\n                            <Button\n                                fullWidth\n                                type=\"submit\"\n                                isFetching={formik.isSubmitting}\n                                disabled={!isSubmitEnabled}\n                                style={{\n                                    fontSize: 18,\n                                    fontWeight: 'bold',\n                                }}\n                                id=\"button-signup-email\"\n                            >\n                                {t('auth.signup.signup')}\n                            </Button>\n                        </div>\n                        <LegaliseSection />\n\n                        {config.recaptcha_public_key ? (\n                            <span className={styles.recaptcha}>\n                                This site is protected by reCAPTCHA and the Google{' '}\n                                <a href=\"https://policies.google.com/privacy\" target=\"_blank\" rel=\"noopener noreferrer\">\n                                    Privacy Policy\n                                </a>{' '}\n                                and{' '}\n                                <a href=\"https://policies.google.com/terms\" target=\"_blank\" rel=\"noopener noreferrer\">\n                                    Terms of Service\n                                </a>{' '}\n                                apply.\n                            </span>\n                        ) : (\n                            SHOW_RECAPTCHA_WARNING && (\n                                <span className={styles.recaptcha} style={{ color: 'red' }}>\n                                    reCAPTCHA is DISABLED\n                                </span>\n                            )\n                        )}\n                    </>\n                )}\n            </div>\n            {config.recaptcha_public_key && (\n                <ReCAPTCHA ref={recaptchaRef} size=\"invisible\" sitekey={config.recaptcha_public_key} />\n            )}\n        </form>\n    );\n}\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nimport AuthLayout from '../AuthLayout';\nimport RegistrationForm from '../Forms/RegistrationForm';\n\nimport styles from './styles.scss';\n\nexport default function RegistrationPage() {\n    const { t } = useTranslation('auth');\n    return (\n        <AuthLayout>\n            <div className={styles.root}>\n                <div className={styles.header}>\n                    <h1>{t('auth.signup.heading')}</h1>\n                </div>\n                <RegistrationForm />\n                <div className={styles.footer}>\n                    <span>\n                        {t('auth.signin.haveAccount')}{' '}\n                        <Link style={{ color: '#007aff' }} to=\"/login\">\n                            {t('auth.signin.signin')}\n                        </Link>\n                    </span>\n                </div>\n            </div>\n        </AuthLayout>\n    );\n}\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { useActions } from '@mssgme/hooks';\nimport { useEnhancedFormik, FormField, Button } from '@mssgme/ui';\n\nimport styles from './styles.scss';\n\nexport default function RestoreForm() {\n    const { t } = useTranslation('auth');\n    const actions = useActions();\n    const formik = useEnhancedFormik({\n        initialValues: { email: '' },\n        onSubmit: (payload) => actions.api.users.recoveryPassword({ payload }),\n    });\n\n    return (\n        <form onSubmit={formik.handleSubmit}>\n            <FormField\n                builderInput\n                name=\"email\"\n                value={formik.values.email}\n                onChange={formik.handleChange}\n                errors={t(formik.errors.email)}\n                placeholder={t('auth.restore.placeholder')}\n                type=\"email\"\n                style={{ height: 44, fontSize: 18 }}\n                errorStyle={{ fontSize: 16, textAlign: 'center' }}\n            />\n            {formik.status === 'success' ? (\n                <span className={styles.sentText}>{t('auth.restore.success')}</span>\n            ) : (\n                <div style={{ display: 'flex', justifyContent: 'center' }}>\n                    <Button\n                        fullWidth\n                        isFetching={formik.isSubmitting}\n                        type=\"submit\"\n                        style={{\n                            fontSize: 18,\n                            fontWeight: 'bold',\n                            backgroundColor: formik.isSubmitting ? 'transparent' : '#007aff',\n                        }}\n                    >\n                        {t('auth.restore.button')}\n                    </Button>\n                </div>\n            )}\n        </form>\n    );\n}\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nimport AuthLayout from '../AuthLayout';\nimport RestoreForm from '../Forms/RestoreForm';\nimport styles from './styles.scss';\n\nexport default function RestorePage() {\n    const { t } = useTranslation('auth');\n\n    return (\n        <AuthLayout>\n            <div className={styles.root}>\n                <div className={styles.header}>\n                    <h1>{t('auth.restore.heading')}</h1>\n                </div>\n                <RestoreForm />\n                <div className={styles.footer}>\n                    <span>\n                        {t('auth.signin.haveAccount')}{' '}\n                        <Link style={{ color: '#007aff' }} to=\"/login\">\n                            {t('auth.signin.signin')}\n                        </Link>\n                    </span>\n                    <span>\n                        {t('auth.signin.noAccount')}{' '}\n                        <Link style={{ color: '#007aff' }} to=\"/signup\">\n                            {t('auth.signin.signup')}\n                        </Link>\n                    </span>\n                </div>\n            </div>\n        </AuthLayout>\n    );\n}\n","import PropTypes from 'prop-types';\nimport React, { useState, useLayoutEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect } from 'react-router-dom';\n\nimport { useActions, useFetch, useAuth } from '@mssgme/hooks';\nimport { Spinner, FieldError } from '@mssgme/ui';\nimport AuthLayout from '../AuthLayout';\nimport styles from './styles.scss';\n\n// TODO: refactor\nexport default function AuthByCode({ code, redirectTo, backTrack }) {\n    const { t } = useTranslation('auth');\n    const { isAuthenticated } = useAuth();\n    const { api, ui } = useActions();\n    const { pending, error, getValidationError } = useFetch(async () => api.auth.getToken({ code }), [code]);\n    const [redirect, setRedirect] = useState();\n    const codeError = getValidationError('code');\n\n    useLayoutEffect(() => {\n        if (isAuthenticated) {\n            setRedirect(redirectTo);\n        }\n    }, [isAuthenticated]);\n\n    useLayoutEffect(() => {\n        if (backTrack) {\n            ui.setBackTrack(backTrack);\n        }\n    }, [backTrack]);\n\n    if (redirect) {\n        window.location.href = redirect;\n    }\n\n    return (\n        <AuthLayout>\n            <div className={styles.root}>\n                <div className={styles.header}>\n                    <h1>{t('auth.restore.authenticating')}</h1>\n                </div>\n\n                {pending ? (\n                    <Spinner />\n                ) : error ? (\n                    codeError ? (\n                        <FieldError>{codeError}</FieldError>\n                    ) : (\n                        <div>{t('errorsList.expired_code')}</div>\n                    )\n                ) : (\n                    ''\n                )}\n            </div>\n        </AuthLayout>\n    );\n}\n\nAuthByCode.propTypes = {\n    code: PropTypes.string.isRequired,\n    redirectTo: PropTypes.string,\n    backTrack: PropTypes.string,\n};\n\nAuthByCode.defaultProps = {\n    redirectTo: '/',\n    backTrack: '',\n};\n","import React from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport AuthByCodePage from '../AuthByCode';\n\nexport default function RestorePasswordAuth() {\n    const { code } = useParams();\n\n    return <AuthByCodePage code={code} redirectTo=\"/s/account/change-password\" />;\n}\n","import React from 'react';\nimport { useParams, useLocation } from 'react-router-dom';\n\nimport { queryString } from '@mssgme/shared';\nimport AuthByCodePage from '../AuthByCode';\n\nexport default function LoginCodeAuthPage() {\n    const { code } = useParams();\n    const { search } = useLocation();\n    const { redirect_to, back_track } = queryString.parse(search);\n\n    return <AuthByCodePage code={code} redirectTo={redirect_to} backTrack={back_track} />;\n}\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { useAuth } from '@mssgme/hooks';\n\nexport default function PrivateRoute(props) {\n    const { isAuthenticated } = useAuth();\n\n    return isAuthenticated ? <Route {...props} /> : <Redirect to=\"/login\" />;\n}\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect } from 'react-router';\n\nimport { useActions } from '@mssgme/hooks';\nimport { useEnhancedFormik, Button, FormField, FieldError } from '@mssgme/ui';\nimport { LegaliseSection } from '../../../UI';\n\nexport default function RegistrationFormMember({ code, invite }) {\n    const { t } = useTranslation();\n    const { api } = useActions();\n    const formik = useEnhancedFormik({\n        initialValues: {\n            email: invite.email,\n            name: '',\n            password: '',\n        },\n        onSubmit: useCallback((values) => api.users.join({ payload: { ...values, code } }), [code]),\n    });\n\n    if (formik.status === 'success') {\n        return <Redirect to=\"/\" />;\n    }\n\n    return (\n        <form onSubmit={formik.handleSubmit}>\n            {formik.errors.code && <FieldError>{formik.errors.code}</FieldError>}\n\n            <FormField\n                placeholder={t('label.email')}\n                type=\"email\"\n                autoComplete=\"email\"\n                error={t(formik.errors.email)}\n                {...formik.getFieldProps('email')}\n            />\n            {/*<FormField*/}\n            {/*    placeholder={t('label.name')}*/}\n            {/*    type=\"text\"*/}\n            {/*    autoComplete=\"name\"*/}\n            {/*    autoFocus*/}\n            {/*    error={t(formik.errors.name)}*/}\n            {/*    {...formik.getFieldProps('name')}*/}\n            {/*/>*/}\n            <FormField\n                placeholder={t('label.password')}\n                type=\"password\"\n                autoComplete=\"new-password\"\n                error={t(formik.errors.password)}\n                {...formik.getFieldProps('password')}\n            />\n            <div style={{ display: 'flex', justifyContent: 'center', marginTop: 30 }}>\n                <Button type=\"submit\" fullWidth isFetching={formik.isSubmitting}>\n                    {t('RegistrationFormMember.button')}\n                </Button>\n            </div>\n\n            <LegaliseSection />\n        </form>\n    );\n}\n\nRegistrationFormMember.propTypes = {\n    code: PropTypes.string.isRequired,\n    invite: PropTypes.shape({\n        email: PropTypes.string.isRequired,\n    }).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { useActions, useFetch } from '@mssgme/hooks';\nimport { FieldError, Spinner } from '@mssgme/ui';\nimport AuthLayout from '../AuthLayout';\nimport RegistrationFormMember from './RegistrationFormMember';\n\nimport styles from './styles.scss';\n\nexport default function JoinByCode({ code }) {\n    const { t } = useTranslation();\n    const { api } = useActions();\n    const { pending, result: invite, error, getValidationError } = useFetch(\n        () => api.users.checkInvite({ payload: { code } }),\n        [code]\n    );\n    const codeError = getValidationError('code');\n\n    if (pending) return null;\n\n    return (\n        <AuthLayout>\n            <div className={styles.root}>\n                <div className={styles.header}>\n                    <h1>{t('RegistrationPageMember.heading')}</h1>\n                </div>\n\n                {pending ? (\n                    <Spinner />\n                ) : error ? (\n                    codeError ? (\n                        <FieldError>{codeError}</FieldError>\n                    ) : (\n                        <div>{t('errorsList.expired_code')}</div>\n                    )\n                ) : (\n                    invite && <RegistrationFormMember code={code} invite={invite} />\n                )}\n            </div>\n        </AuthLayout>\n    );\n}\n\nJoinByCode.propTypes = {\n    code: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport JoinByCode from '../JoinByCode';\n\nexport default function JoinCodeAuthPage() {\n    const { code } = useParams();\n\n    return <JoinByCode code={code} />;\n}\n","import PropTypes from 'prop-types';\nimport React, { Suspense } from 'react';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\nimport { useI18n } from '@mssgme/i18n';\nimport { SplashScreen, useUITranslations } from '@mssgme/ui';\nimport { useAuth } from '@mssgme/hooks';\nimport {\n    LoginCodeAuthPage,\n    LoginPage,\n    LogoutPage,\n    PrivateRoute,\n    RegistrationPage,\n    RestorePage,\n    RestorePasswordAuth,\n    JoinCodeAuthPage,\n} from './Pages';\n\nfunction LocalesLoader({ children }) {\n    const { i18n } = useI18n('auth', (language) =>\n        import(\n            /* webpackChunkName: \"locales.auth\" */\n            /* webpackInclude: /\\.json$/ */\n            `../../locales/${language}/auth.json`\n        )\n    );\n    useUITranslations();\n    return children || null;\n}\n\nfunction PublicRoute(props) {\n    const { isAuthenticated } = useAuth();\n    if (isAuthenticated) {\n        window.location.href = '/';\n    }\n    return <Route {...props} />;\n}\n\nexport default function AuthApp({ store }) {\n    return (\n        <Suspense fallback={<SplashScreen />}>\n            <LocalesLoader />\n            <Provider store={store}>\n                <BrowserRouter basename=\"/auth\">\n                    <Switch>\n                        <Route exact path=\"/reset-password/:code\" component={RestorePasswordAuth} />\n                        <Route exact path=\"/join/:code\" component={JoinCodeAuthPage} />\n                        <Route exact path=\"/login/code/:code\" component={LoginCodeAuthPage} />\n                        <PublicRoute exact path=\"/login\" component={LoginPage} />\n                        <PublicRoute path=\"/signup\" component={RegistrationPage} />\n                        <PublicRoute exact path=\"/restore\" component={RestorePage} />\n                        <PrivateRoute exact path=\"/logout\" component={LogoutPage} />\n                        <Redirect to=\"/login\" />\n                    </Switch>\n                </BrowserRouter>\n            </Provider>\n        </Suspense>\n    );\n}\n\nAuthApp.propTypes = {\n    store: PropTypes.object.isRequired,\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { configureStore } from '@mssgme/store';\nimport { AuthApp } from '@mssgme/auth';\n\nconst store = configureStore();\n\nReactDOM.render(<AuthApp store={store} />, document.getElementById('root'));\n","import { useEffect } from 'react';\n\nimport api from '@mssgme/api';\nimport { useForceUpdate } from './useForceUpdate';\n\nexport function useAuth() {\n    const forceUpdate = useForceUpdate();\n\n    useEffect(() => {\n        function handler() {\n            forceUpdate();\n        }\n\n        api.on('changeAccessToken', handler);\n\n        return () => {\n            api.removeListener('changeAccessToken', handler);\n        };\n    }, []);\n\n    return { accessToken: api.accessToken, isAuthenticated: api.isAuthenticated, user: api.user };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar flatten = require(\"array-flatten\");\nvar create_events_1 = require(\"./create-events\");\nvar get_events_with_matching_key_1 = require(\"./get-events-with-matching-key\");\nvar register_events_1 = require(\"./register-events\");\n/**\n * Create Redux middleware that synchronizes actions to analytics events.\n */\nfunction createMiddleware(eventsMap, target, extensions) {\n    if (extensions === void 0) { extensions = {}; }\n    var getEvents = typeof eventsMap === 'function'\n        ? function (action) { return flatten([eventsMap(action)]); }\n        : function (action) { return get_events_with_matching_key_1.default(eventsMap, action.type); };\n    return function (store) { return function (next) { return function (action) {\n        var prevState = store.getState();\n        var result = next(action);\n        var nextState = store.getState();\n        var events = create_events_1.default(getEvents(action), prevState, action, nextState);\n        register_events_1.default(events, target, extensions, prevState, action, nextState);\n        return result;\n    }; }; };\n}\nexports.default = createMiddleware;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar google_tag_manager_1 = require(\"./google-tag-manager\");\nexports.default = google_tag_manager_1.default;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar create_events_1 = require(\"./create-events\");\nexports.createEvents = create_events_1.default;\nvar create_meta_reducer_1 = require(\"./create-meta-reducer\");\nexports.createMetaReducer = create_meta_reducer_1.default;\nvar create_middleware_1 = require(\"./create-middleware\");\nexports.createMiddleware = create_middleware_1.default;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"_3rxso4S-\"};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nvar GoogleTagManager = function (_a) {\n    var _b = (_a === void 0 ? {} : _a).dataLayerName, dataLayerName = _b === void 0 ? 'dataLayer' : _b;\n    return function (events) {\n        if (typeof window === 'undefined') {\n            return;\n        }\n        if (!window[dataLayerName] ||\n            typeof window[dataLayerName].push !== 'function') {\n            throw new Error(\"redux-beacon error: window.\" + dataLayerName + \" is not defined. Have you forgotten to include Google Tag Manager and dataLayer?\");\n        }\n        events.forEach(function (event) {\n            if (typeof event === 'object') {\n                window[dataLayerName].push(utils_1.convertFromGoogleAnalyticsEventIfNeeded(event));\n            }\n        });\n    };\n};\nexports.default = GoogleTagManager;\n","var createSymbol = function createSymbol(name) {\n  return \"@@redux-saga/\" + name;\n};\n\nvar CANCEL =\n/*#__PURE__*/\ncreateSymbol('CANCEL_PROMISE');\nvar CHANNEL_END_TYPE =\n/*#__PURE__*/\ncreateSymbol('CHANNEL_END');\nvar IO =\n/*#__PURE__*/\ncreateSymbol('IO');\nvar MATCH =\n/*#__PURE__*/\ncreateSymbol('MATCH');\nvar MULTICAST =\n/*#__PURE__*/\ncreateSymbol('MULTICAST');\nvar SAGA_ACTION =\n/*#__PURE__*/\ncreateSymbol('SAGA_ACTION');\nvar SELF_CANCELLATION =\n/*#__PURE__*/\ncreateSymbol('SELF_CANCELLATION');\nvar TASK =\n/*#__PURE__*/\ncreateSymbol('TASK');\nvar TASK_CANCEL =\n/*#__PURE__*/\ncreateSymbol('TASK_CANCEL');\nvar TERMINATE =\n/*#__PURE__*/\ncreateSymbol('TERMINATE');\nvar SAGA_LOCATION =\n/*#__PURE__*/\ncreateSymbol('LOCATION');\n\nexport { CANCEL, CHANNEL_END_TYPE, IO, MATCH, MULTICAST, SAGA_ACTION, SAGA_LOCATION, SELF_CANCELLATION, TASK, TASK_CANCEL, TERMINATE };\n","import { TASK, SAGA_ACTION, MULTICAST, IO } from '@redux-saga/symbols';\n\nvar undef = function undef(v) {\n  return v === null || v === undefined;\n};\nvar notUndef = function notUndef(v) {\n  return v !== null && v !== undefined;\n};\nvar func = function func(f) {\n  return typeof f === 'function';\n};\nvar number = function number(n) {\n  return typeof n === 'number';\n};\nvar string = function string(s) {\n  return typeof s === 'string';\n};\nvar array = Array.isArray;\nvar object = function object(obj) {\n  return obj && !array(obj) && typeof obj === 'object';\n};\nvar promise = function promise(p) {\n  return p && func(p.then);\n};\nvar iterator = function iterator(it) {\n  return it && func(it.next) && func(it.throw);\n};\nvar iterable = function iterable(it) {\n  return it && func(Symbol) ? func(it[Symbol.iterator]) : array(it);\n};\nvar task = function task(t) {\n  return t && t[TASK];\n};\nvar sagaAction = function sagaAction(a) {\n  return Boolean(a && a[SAGA_ACTION]);\n};\nvar observable = function observable(ob) {\n  return ob && func(ob.subscribe);\n};\nvar buffer = function buffer(buf) {\n  return buf && func(buf.isEmpty) && func(buf.take) && func(buf.put);\n};\nvar pattern = function pattern(pat) {\n  return pat && (string(pat) || symbol(pat) || func(pat) || array(pat) && pat.every(pattern));\n};\nvar channel = function channel(ch) {\n  return ch && func(ch.take) && func(ch.close);\n};\nvar stringableFunc = function stringableFunc(f) {\n  return func(f) && f.hasOwnProperty('toString');\n};\nvar symbol = function symbol(sym) {\n  return Boolean(sym) && typeof Symbol === 'function' && sym.constructor === Symbol && sym !== Symbol.prototype;\n};\nvar multicast = function multicast(ch) {\n  return channel(ch) && ch[MULTICAST];\n};\nvar effect = function effect(eff) {\n  return eff && eff[IO];\n};\n\nexport { array, buffer, channel, effect, func, iterable, iterator, multicast, notUndef, number, object, observable, pattern, promise, sagaAction, string, stringableFunc, symbol, task, undef };\n","import { CANCEL } from '@redux-saga/symbols';\n\nfunction delayP(ms, val) {\n  if (val === void 0) {\n    val = true;\n  }\n\n  var timeoutId;\n  var promise = new Promise(function (resolve) {\n    timeoutId = setTimeout(resolve, ms, val);\n  });\n\n  promise[CANCEL] = function () {\n    clearTimeout(timeoutId);\n  };\n\n  return promise;\n}\n\nexport default delayP;\n","import { TASK_CANCEL, TERMINATE, SAGA_LOCATION, SAGA_ACTION, IO, SELF_CANCELLATION } from '@redux-saga/symbols';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport { array, notUndef, pattern, multicast, channel, undef, task, func, buffer, string, object } from '@redux-saga/is';\nimport delayP from '@redux-saga/delay-p';\n\nvar konst = function konst(v) {\n  return function () {\n    return v;\n  };\n};\nvar kTrue =\n/*#__PURE__*/\nkonst(true);\n\nvar noop = function noop() {};\n\nif (process.env.NODE_ENV !== 'production' && typeof Proxy !== 'undefined') {\n  noop =\n  /*#__PURE__*/\n  new Proxy(noop, {\n    set: function set() {\n      throw internalErr('There was an attempt to assign a property to internal `noop` function.');\n    }\n  });\n}\nvar identity = function identity(v) {\n  return v;\n};\nvar hasSymbol = typeof Symbol === 'function';\nvar asyncIteratorSymbol = hasSymbol && Symbol.asyncIterator ? Symbol.asyncIterator : '@@asyncIterator';\nfunction check(value, predicate, error) {\n  if (!predicate(value)) {\n    throw new Error(error);\n  }\n}\nvar assignWithSymbols = function assignWithSymbols(target, source) {\n  _extends(target, source);\n\n  if (Object.getOwnPropertySymbols) {\n    Object.getOwnPropertySymbols(source).forEach(function (s) {\n      target[s] = source[s];\n    });\n  }\n};\nvar flatMap = function flatMap(mapper, arr) {\n  var _ref;\n\n  return (_ref = []).concat.apply(_ref, arr.map(mapper));\n};\nfunction remove(array, item) {\n  var index = array.indexOf(item);\n\n  if (index >= 0) {\n    array.splice(index, 1);\n  }\n}\nfunction once(fn) {\n  var called = false;\n  return function () {\n    if (called) {\n      return;\n    }\n\n    called = true;\n    fn();\n  };\n}\n\nvar kThrow = function kThrow(err) {\n  throw err;\n};\n\nvar kReturn = function kReturn(value) {\n  return {\n    value: value,\n    done: true\n  };\n};\n\nfunction makeIterator(next, thro, name) {\n  if (thro === void 0) {\n    thro = kThrow;\n  }\n\n  if (name === void 0) {\n    name = 'iterator';\n  }\n\n  var iterator = {\n    meta: {\n      name: name\n    },\n    next: next,\n    throw: thro,\n    return: kReturn,\n    isSagaIterator: true\n  };\n\n  if (typeof Symbol !== 'undefined') {\n    iterator[Symbol.iterator] = function () {\n      return iterator;\n    };\n  }\n\n  return iterator;\n}\nfunction logError(error, _ref2) {\n  var sagaStack = _ref2.sagaStack;\n\n  /*eslint-disable no-console*/\n  console.error(error);\n  console.error(sagaStack);\n}\nvar internalErr = function internalErr(err) {\n  return new Error(\"\\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\\n  Error: \" + err + \"\\n\");\n};\nvar createSetContextWarning = function createSetContextWarning(ctx, props) {\n  return (ctx ? ctx + '.' : '') + \"setContext(props): argument \" + props + \" is not a plain object\";\n};\nvar FROZEN_ACTION_ERROR = \"You can't put (a.k.a. dispatch from saga) frozen actions.\\nWe have to define a special non-enumerable property on those actions for scheduling purposes.\\nOtherwise you wouldn't be able to communicate properly between sagas & other subscribers (action ordering would become far less predictable).\\nIf you are using redux and you care about this behaviour (frozen actions),\\nthen you might want to switch to freezing actions in a middleware rather than in action creator.\\nExample implementation:\\n\\nconst freezeActions = store => next => action => next(Object.freeze(action))\\n\"; // creates empty, but not-holey array\n\nvar createEmptyArray = function createEmptyArray(n) {\n  return Array.apply(null, new Array(n));\n};\nvar wrapSagaDispatch = function wrapSagaDispatch(dispatch) {\n  return function (action) {\n    if (process.env.NODE_ENV !== 'production') {\n      check(action, function (ac) {\n        return !Object.isFrozen(ac);\n      }, FROZEN_ACTION_ERROR);\n    }\n\n    return dispatch(Object.defineProperty(action, SAGA_ACTION, {\n      value: true\n    }));\n  };\n};\nvar shouldTerminate = function shouldTerminate(res) {\n  return res === TERMINATE;\n};\nvar shouldCancel = function shouldCancel(res) {\n  return res === TASK_CANCEL;\n};\nvar shouldComplete = function shouldComplete(res) {\n  return shouldTerminate(res) || shouldCancel(res);\n};\nfunction createAllStyleChildCallbacks(shape, parentCallback) {\n  var keys = Object.keys(shape);\n  var totalCount = keys.length;\n\n  if (process.env.NODE_ENV !== 'production') {\n    check(totalCount, function (c) {\n      return c > 0;\n    }, 'createAllStyleChildCallbacks: get an empty array or object');\n  }\n\n  var completedCount = 0;\n  var completed;\n  var results = array(shape) ? createEmptyArray(totalCount) : {};\n  var childCallbacks = {};\n\n  function checkEnd() {\n    if (completedCount === totalCount) {\n      completed = true;\n      parentCallback(results);\n    }\n  }\n\n  keys.forEach(function (key) {\n    var chCbAtKey = function chCbAtKey(res, isErr) {\n      if (completed) {\n        return;\n      }\n\n      if (isErr || shouldComplete(res)) {\n        parentCallback.cancel();\n        parentCallback(res, isErr);\n      } else {\n        results[key] = res;\n        completedCount++;\n        checkEnd();\n      }\n    };\n\n    chCbAtKey.cancel = noop;\n    childCallbacks[key] = chCbAtKey;\n  });\n\n  parentCallback.cancel = function () {\n    if (!completed) {\n      completed = true;\n      keys.forEach(function (key) {\n        return childCallbacks[key].cancel();\n      });\n    }\n  };\n\n  return childCallbacks;\n}\nfunction getMetaInfo(fn) {\n  return {\n    name: fn.name || 'anonymous',\n    location: getLocation(fn)\n  };\n}\nfunction getLocation(instrumented) {\n  return instrumented[SAGA_LOCATION];\n}\n\nvar BUFFER_OVERFLOW = \"Channel's Buffer overflow!\";\nvar ON_OVERFLOW_THROW = 1;\nvar ON_OVERFLOW_DROP = 2;\nvar ON_OVERFLOW_SLIDE = 3;\nvar ON_OVERFLOW_EXPAND = 4;\nvar zeroBuffer = {\n  isEmpty: kTrue,\n  put: noop,\n  take: noop\n};\n\nfunction ringBuffer(limit, overflowAction) {\n  if (limit === void 0) {\n    limit = 10;\n  }\n\n  var arr = new Array(limit);\n  var length = 0;\n  var pushIndex = 0;\n  var popIndex = 0;\n\n  var push = function push(it) {\n    arr[pushIndex] = it;\n    pushIndex = (pushIndex + 1) % limit;\n    length++;\n  };\n\n  var take = function take() {\n    if (length != 0) {\n      var it = arr[popIndex];\n      arr[popIndex] = null;\n      length--;\n      popIndex = (popIndex + 1) % limit;\n      return it;\n    }\n  };\n\n  var flush = function flush() {\n    var items = [];\n\n    while (length) {\n      items.push(take());\n    }\n\n    return items;\n  };\n\n  return {\n    isEmpty: function isEmpty() {\n      return length == 0;\n    },\n    put: function put(it) {\n      if (length < limit) {\n        push(it);\n      } else {\n        var doubledLimit;\n\n        switch (overflowAction) {\n          case ON_OVERFLOW_THROW:\n            throw new Error(BUFFER_OVERFLOW);\n\n          case ON_OVERFLOW_SLIDE:\n            arr[pushIndex] = it;\n            pushIndex = (pushIndex + 1) % limit;\n            popIndex = pushIndex;\n            break;\n\n          case ON_OVERFLOW_EXPAND:\n            doubledLimit = 2 * limit;\n            arr = flush();\n            length = arr.length;\n            pushIndex = arr.length;\n            popIndex = 0;\n            arr.length = doubledLimit;\n            limit = doubledLimit;\n            push(it);\n            break;\n\n          default: // DROP\n\n        }\n      }\n    },\n    take: take,\n    flush: flush\n  };\n}\n\nvar none = function none() {\n  return zeroBuffer;\n};\nvar fixed = function fixed(limit) {\n  return ringBuffer(limit, ON_OVERFLOW_THROW);\n};\nvar dropping = function dropping(limit) {\n  return ringBuffer(limit, ON_OVERFLOW_DROP);\n};\nvar sliding = function sliding(limit) {\n  return ringBuffer(limit, ON_OVERFLOW_SLIDE);\n};\nvar expanding = function expanding(initialSize) {\n  return ringBuffer(initialSize, ON_OVERFLOW_EXPAND);\n};\n\nvar buffers = /*#__PURE__*/Object.freeze({\n  none: none,\n  fixed: fixed,\n  dropping: dropping,\n  sliding: sliding,\n  expanding: expanding\n});\n\nvar TAKE = 'TAKE';\nvar PUT = 'PUT';\nvar ALL = 'ALL';\nvar RACE = 'RACE';\nvar CALL = 'CALL';\nvar CPS = 'CPS';\nvar FORK = 'FORK';\nvar JOIN = 'JOIN';\nvar CANCEL = 'CANCEL';\nvar SELECT = 'SELECT';\nvar ACTION_CHANNEL = 'ACTION_CHANNEL';\nvar CANCELLED = 'CANCELLED';\nvar FLUSH = 'FLUSH';\nvar GET_CONTEXT = 'GET_CONTEXT';\nvar SET_CONTEXT = 'SET_CONTEXT';\n\nvar effectTypes = /*#__PURE__*/Object.freeze({\n  TAKE: TAKE,\n  PUT: PUT,\n  ALL: ALL,\n  RACE: RACE,\n  CALL: CALL,\n  CPS: CPS,\n  FORK: FORK,\n  JOIN: JOIN,\n  CANCEL: CANCEL,\n  SELECT: SELECT,\n  ACTION_CHANNEL: ACTION_CHANNEL,\n  CANCELLED: CANCELLED,\n  FLUSH: FLUSH,\n  GET_CONTEXT: GET_CONTEXT,\n  SET_CONTEXT: SET_CONTEXT\n});\n\nvar TEST_HINT = '\\n(HINT: if you are getting these errors in tests, consider using createMockTask from @redux-saga/testing-utils)';\n\nvar makeEffect = function makeEffect(type, payload) {\n  var _ref;\n\n  return _ref = {}, _ref[IO] = true, _ref.combinator = false, _ref.type = type, _ref.payload = payload, _ref;\n};\n\nvar isForkEffect = function isForkEffect(eff) {\n  return eff && eff[IO] && eff.type === FORK;\n};\n\nvar detach = function detach(eff) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(eff, isForkEffect, 'detach(eff): argument must be a fork effect');\n  }\n\n  return makeEffect(FORK, _extends({}, eff.payload, {\n    detached: true\n  }));\n};\nfunction take(patternOrChannel, multicastPattern) {\n  if (patternOrChannel === void 0) {\n    patternOrChannel = '*';\n  }\n\n  if (process.env.NODE_ENV !== 'production' && arguments.length) {\n    check(arguments[0], notUndef, 'take(patternOrChannel): patternOrChannel is undefined');\n  }\n\n  if (pattern(patternOrChannel)) {\n    return makeEffect(TAKE, {\n      pattern: patternOrChannel\n    });\n  }\n\n  if (multicast(patternOrChannel) && notUndef(multicastPattern) && pattern(multicastPattern)) {\n    return makeEffect(TAKE, {\n      channel: patternOrChannel,\n      pattern: multicastPattern\n    });\n  }\n\n  if (channel(patternOrChannel)) {\n    return makeEffect(TAKE, {\n      channel: patternOrChannel\n    });\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    throw new Error(\"take(patternOrChannel): argument \" + patternOrChannel + \" is not valid channel or a valid pattern\");\n  }\n}\nvar takeMaybe = function takeMaybe() {\n  var eff = take.apply(void 0, arguments);\n  eff.payload.maybe = true;\n  return eff;\n};\nfunction put(channel$1, action) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (arguments.length > 1) {\n      check(channel$1, notUndef, 'put(channel, action): argument channel is undefined');\n      check(channel$1, channel, \"put(channel, action): argument \" + channel$1 + \" is not a valid channel\");\n      check(action, notUndef, 'put(channel, action): argument action is undefined');\n    } else {\n      check(channel$1, notUndef, 'put(action): argument action is undefined');\n    }\n  }\n\n  if (undef(action)) {\n    action = channel$1; // `undefined` instead of `null` to make default parameter work\n\n    channel$1 = undefined;\n  }\n\n  return makeEffect(PUT, {\n    channel: channel$1,\n    action: action\n  });\n}\nvar putResolve = function putResolve() {\n  var eff = put.apply(void 0, arguments);\n  eff.payload.resolve = true;\n  return eff;\n};\nfunction all(effects) {\n  var eff = makeEffect(ALL, effects);\n  eff.combinator = true;\n  return eff;\n}\nfunction race(effects) {\n  var eff = makeEffect(RACE, effects);\n  eff.combinator = true;\n  return eff;\n} // this match getFnCallDescriptor logic\n\nvar validateFnDescriptor = function validateFnDescriptor(effectName, fnDescriptor) {\n  check(fnDescriptor, notUndef, effectName + \": argument fn is undefined or null\");\n\n  if (func(fnDescriptor)) {\n    return;\n  }\n\n  var context = null;\n  var fn;\n\n  if (array(fnDescriptor)) {\n    context = fnDescriptor[0];\n    fn = fnDescriptor[1];\n    check(fn, notUndef, effectName + \": argument of type [context, fn] has undefined or null `fn`\");\n  } else if (object(fnDescriptor)) {\n    context = fnDescriptor.context;\n    fn = fnDescriptor.fn;\n    check(fn, notUndef, effectName + \": argument of type {context, fn} has undefined or null `fn`\");\n  } else {\n    check(fnDescriptor, func, effectName + \": argument fn is not function\");\n    return;\n  }\n\n  if (context && string(fn)) {\n    check(context[fn], func, effectName + \": context arguments has no such method - \\\"\" + fn + \"\\\"\");\n    return;\n  }\n\n  check(fn, func, effectName + \": unpacked fn argument (from [context, fn] or {context, fn}) is not a function\");\n};\n\nfunction getFnCallDescriptor(fnDescriptor, args) {\n  var context = null;\n  var fn;\n\n  if (func(fnDescriptor)) {\n    fn = fnDescriptor;\n  } else {\n    if (array(fnDescriptor)) {\n      context = fnDescriptor[0];\n      fn = fnDescriptor[1];\n    } else {\n      context = fnDescriptor.context;\n      fn = fnDescriptor.fn;\n    }\n\n    if (context && string(fn) && func(context[fn])) {\n      fn = context[fn];\n    }\n  }\n\n  return {\n    context: context,\n    fn: fn,\n    args: args\n  };\n}\n\nvar isNotDelayEffect = function isNotDelayEffect(fn) {\n  return fn !== delay;\n};\n\nfunction call(fnDescriptor) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    var arg0 = typeof args[0] === 'number' ? args[0] : 'ms';\n    check(fnDescriptor, isNotDelayEffect, \"instead of writing `yield call(delay, \" + arg0 + \")` where delay is an effect from `redux-saga/effects` you should write `yield delay(\" + arg0 + \")`\");\n    validateFnDescriptor('call', fnDescriptor);\n  }\n\n  return makeEffect(CALL, getFnCallDescriptor(fnDescriptor, args));\n}\nfunction apply(context, fn, args) {\n  if (args === void 0) {\n    args = [];\n  }\n\n  var fnDescriptor = [context, fn];\n\n  if (process.env.NODE_ENV !== 'production') {\n    validateFnDescriptor('apply', fnDescriptor);\n  }\n\n  return makeEffect(CALL, getFnCallDescriptor([context, fn], args));\n}\nfunction cps(fnDescriptor) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateFnDescriptor('cps', fnDescriptor);\n  }\n\n  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n\n  return makeEffect(CPS, getFnCallDescriptor(fnDescriptor, args));\n}\nfunction fork(fnDescriptor) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateFnDescriptor('fork', fnDescriptor);\n  }\n\n  for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    args[_key3 - 1] = arguments[_key3];\n  }\n\n  return makeEffect(FORK, getFnCallDescriptor(fnDescriptor, args));\n}\nfunction spawn(fnDescriptor) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateFnDescriptor('spawn', fnDescriptor);\n  }\n\n  for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n    args[_key4 - 1] = arguments[_key4];\n  }\n\n  return detach(fork.apply(void 0, [fnDescriptor].concat(args)));\n}\nfunction join(taskOrTasks) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (arguments.length > 1) {\n      throw new Error('join(...tasks) is not supported any more. Please use join([...tasks]) to join multiple tasks.');\n    }\n\n    if (array(taskOrTasks)) {\n      taskOrTasks.forEach(function (t) {\n        check(t, task, \"join([...tasks]): argument \" + t + \" is not a valid Task object \" + TEST_HINT);\n      });\n    } else {\n      check(taskOrTasks, task, \"join(task): argument \" + taskOrTasks + \" is not a valid Task object \" + TEST_HINT);\n    }\n  }\n\n  return makeEffect(JOIN, taskOrTasks);\n}\nfunction cancel(taskOrTasks) {\n  if (taskOrTasks === void 0) {\n    taskOrTasks = SELF_CANCELLATION;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (arguments.length > 1) {\n      throw new Error('cancel(...tasks) is not supported any more. Please use cancel([...tasks]) to cancel multiple tasks.');\n    }\n\n    if (array(taskOrTasks)) {\n      taskOrTasks.forEach(function (t) {\n        check(t, task, \"cancel([...tasks]): argument \" + t + \" is not a valid Task object \" + TEST_HINT);\n      });\n    } else if (taskOrTasks !== SELF_CANCELLATION && notUndef(taskOrTasks)) {\n      check(taskOrTasks, task, \"cancel(task): argument \" + taskOrTasks + \" is not a valid Task object \" + TEST_HINT);\n    }\n  }\n\n  return makeEffect(CANCEL, taskOrTasks);\n}\nfunction select(selector) {\n  if (selector === void 0) {\n    selector = identity;\n  }\n\n  for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n    args[_key5 - 1] = arguments[_key5];\n  }\n\n  if (process.env.NODE_ENV !== 'production' && arguments.length) {\n    check(arguments[0], notUndef, 'select(selector, [...]): argument selector is undefined');\n    check(selector, func, \"select(selector, [...]): argument \" + selector + \" is not a function\");\n  }\n\n  return makeEffect(SELECT, {\n    selector: selector,\n    args: args\n  });\n}\n/**\n  channel(pattern, [buffer])    => creates a proxy channel for store actions\n**/\n\nfunction actionChannel(pattern$1, buffer$1) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(pattern$1, pattern, 'actionChannel(pattern,...): argument pattern is not valid');\n\n    if (arguments.length > 1) {\n      check(buffer$1, notUndef, 'actionChannel(pattern, buffer): argument buffer is undefined');\n      check(buffer$1, buffer, \"actionChannel(pattern, buffer): argument \" + buffer$1 + \" is not a valid buffer\");\n    }\n  }\n\n  return makeEffect(ACTION_CHANNEL, {\n    pattern: pattern$1,\n    buffer: buffer$1\n  });\n}\nfunction cancelled() {\n  return makeEffect(CANCELLED, {});\n}\nfunction flush(channel$1) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(channel$1, channel, \"flush(channel): argument \" + channel$1 + \" is not valid channel\");\n  }\n\n  return makeEffect(FLUSH, channel$1);\n}\nfunction getContext(prop) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(prop, string, \"getContext(prop): argument \" + prop + \" is not a string\");\n  }\n\n  return makeEffect(GET_CONTEXT, prop);\n}\nfunction setContext(props) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(props, object, createSetContextWarning(null, props));\n  }\n\n  return makeEffect(SET_CONTEXT, props);\n}\nvar delay =\n/*#__PURE__*/\ncall.bind(null, delayP);\n\nexport { apply as $, ALL as A, logError as B, CALL as C, wrapSagaDispatch as D, identity as E, FORK as F, GET_CONTEXT as G, buffers as H, detach as I, JOIN as J, take as K, fork as L, cancel as M, call as N, actionChannel as O, PUT as P, sliding as Q, RACE as R, SELECT as S, TAKE as T, delay as U, race as V, effectTypes as W, takeMaybe as X, put as Y, putResolve as Z, all as _, CPS as a, cps as a0, spawn as a1, join as a2, select as a3, cancelled as a4, flush as a5, getContext as a6, setContext as a7, CANCEL as b, check as c, ACTION_CHANNEL as d, expanding as e, CANCELLED as f, FLUSH as g, SET_CONTEXT as h, internalErr as i, getMetaInfo as j, kTrue as k, createAllStyleChildCallbacks as l, createEmptyArray as m, none as n, once as o, assignWithSymbols as p, makeIterator as q, remove as r, shouldComplete as s, noop as t, flatMap as u, getLocation as v, createSetContextWarning as w, asyncIteratorSymbol as x, shouldCancel as y, shouldTerminate as z };\n","function deferred() {\n  var def = {};\n  def.promise = new Promise(function (resolve, reject) {\n    def.resolve = resolve;\n    def.reject = reject;\n  });\n  return def;\n}\nfunction arrayOfDeferred(length) {\n  var arr = [];\n\n  for (var i = 0; i < length; i++) {\n    arr.push(deferred());\n  }\n\n  return arr;\n}\n\nexport default deferred;\nexport { arrayOfDeferred };\n","import { CHANNEL_END_TYPE, MULTICAST, MATCH, SAGA_ACTION, CANCEL, SELF_CANCELLATION, TERMINATE, TASK, TASK_CANCEL, IO } from '@redux-saga/symbols';\nexport { CANCEL, SAGA_LOCATION } from '@redux-saga/symbols';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { string as string$1, array as array$1, stringableFunc, func, symbol as symbol$1, buffer, notUndef, promise, iterator, undef, object, channel as channel$1 } from '@redux-saga/is';\nimport { k as kTrue, e as expanding, c as check, o as once, r as remove, n as none, i as internalErr, T as TAKE, P as PUT, A as ALL, R as RACE, C as CALL, a as CPS, F as FORK, J as JOIN, b as CANCEL$1, S as SELECT, d as ACTION_CHANNEL, f as CANCELLED$1, g as FLUSH, G as GET_CONTEXT, h as SET_CONTEXT, j as getMetaInfo, l as createAllStyleChildCallbacks, m as createEmptyArray, p as assignWithSymbols, q as makeIterator, s as shouldComplete, t as noop, u as flatMap, v as getLocation, w as createSetContextWarning, x as asyncIteratorSymbol, y as shouldCancel, z as shouldTerminate, B as logError, D as wrapSagaDispatch, E as identity } from './io-427945dd.js';\nexport { H as buffers, I as detach } from './io-427945dd.js';\nimport { compose } from 'redux';\nimport deferred from '@redux-saga/deferred';\nimport '@redux-saga/delay-p';\n\nvar queue = [];\n/**\n  Variable to hold a counting semaphore\n  - Incrementing adds a lock and puts the scheduler in a `suspended` state (if it's not\n    already suspended)\n  - Decrementing releases a lock. Zero locks puts the scheduler in a `released` state. This\n    triggers flushing the queued tasks.\n**/\n\nvar semaphore = 0;\n/**\n  Executes a task 'atomically'. Tasks scheduled during this execution will be queued\n  and flushed after this task has finished (assuming the scheduler endup in a released\n  state).\n**/\n\nfunction exec(task) {\n  try {\n    suspend();\n    task();\n  } finally {\n    release();\n  }\n}\n/**\n  Executes or queues a task depending on the state of the scheduler (`suspended` or `released`)\n**/\n\n\nfunction asap(task) {\n  queue.push(task);\n\n  if (!semaphore) {\n    suspend();\n    flush();\n  }\n}\n/**\n * Puts the scheduler in a `suspended` state and executes a task immediately.\n */\n\nfunction immediately(task) {\n  try {\n    suspend();\n    return task();\n  } finally {\n    flush();\n  }\n}\n/**\n  Puts the scheduler in a `suspended` state. Scheduled tasks will be queued until the\n  scheduler is released.\n**/\n\nfunction suspend() {\n  semaphore++;\n}\n/**\n  Puts the scheduler in a `released` state.\n**/\n\n\nfunction release() {\n  semaphore--;\n}\n/**\n  Releases the current lock. Executes all queued tasks if the scheduler is in the released state.\n**/\n\n\nfunction flush() {\n  release();\n  var task;\n\n  while (!semaphore && (task = queue.shift()) !== undefined) {\n    exec(task);\n  }\n}\n\nvar array = function array(patterns) {\n  return function (input) {\n    return patterns.some(function (p) {\n      return matcher(p)(input);\n    });\n  };\n};\nvar predicate = function predicate(_predicate) {\n  return function (input) {\n    return _predicate(input);\n  };\n};\nvar string = function string(pattern) {\n  return function (input) {\n    return input.type === String(pattern);\n  };\n};\nvar symbol = function symbol(pattern) {\n  return function (input) {\n    return input.type === pattern;\n  };\n};\nvar wildcard = function wildcard() {\n  return kTrue;\n};\nfunction matcher(pattern) {\n  // prettier-ignore\n  var matcherCreator = pattern === '*' ? wildcard : string$1(pattern) ? string : array$1(pattern) ? array : stringableFunc(pattern) ? string : func(pattern) ? predicate : symbol$1(pattern) ? symbol : null;\n\n  if (matcherCreator === null) {\n    throw new Error(\"invalid pattern: \" + pattern);\n  }\n\n  return matcherCreator(pattern);\n}\n\nvar END = {\n  type: CHANNEL_END_TYPE\n};\nvar isEnd = function isEnd(a) {\n  return a && a.type === CHANNEL_END_TYPE;\n};\nvar CLOSED_CHANNEL_WITH_TAKERS = 'Cannot have a closed channel with pending takers';\nvar INVALID_BUFFER = 'invalid buffer passed to channel factory function';\nvar UNDEFINED_INPUT_ERROR = \"Saga or channel was provided with an undefined action\\nHints:\\n  - check that your Action Creator returns a non-undefined value\\n  - if the Saga was started using runSaga, check that your subscribe source provides the action to its listeners\";\nfunction channel(buffer$1) {\n  if (buffer$1 === void 0) {\n    buffer$1 = expanding();\n  }\n\n  var closed = false;\n  var takers = [];\n\n  if (process.env.NODE_ENV !== 'production') {\n    check(buffer$1, buffer, INVALID_BUFFER);\n  }\n\n  function checkForbiddenStates() {\n    if (closed && takers.length) {\n      throw internalErr(CLOSED_CHANNEL_WITH_TAKERS);\n    }\n\n    if (takers.length && !buffer$1.isEmpty()) {\n      throw internalErr('Cannot have pending takers with non empty buffer');\n    }\n  }\n\n  function put(input) {\n    if (process.env.NODE_ENV !== 'production') {\n      checkForbiddenStates();\n      check(input, notUndef, UNDEFINED_INPUT_ERROR);\n    }\n\n    if (closed) {\n      return;\n    }\n\n    if (takers.length === 0) {\n      return buffer$1.put(input);\n    }\n\n    var cb = takers.shift();\n    cb(input);\n  }\n\n  function take(cb) {\n    if (process.env.NODE_ENV !== 'production') {\n      checkForbiddenStates();\n      check(cb, func, \"channel.take's callback must be a function\");\n    }\n\n    if (closed && buffer$1.isEmpty()) {\n      cb(END);\n    } else if (!buffer$1.isEmpty()) {\n      cb(buffer$1.take());\n    } else {\n      takers.push(cb);\n\n      cb.cancel = function () {\n        remove(takers, cb);\n      };\n    }\n  }\n\n  function flush(cb) {\n    if (process.env.NODE_ENV !== 'production') {\n      checkForbiddenStates();\n      check(cb, func, \"channel.flush' callback must be a function\");\n    }\n\n    if (closed && buffer$1.isEmpty()) {\n      cb(END);\n      return;\n    }\n\n    cb(buffer$1.flush());\n  }\n\n  function close() {\n    if (process.env.NODE_ENV !== 'production') {\n      checkForbiddenStates();\n    }\n\n    if (closed) {\n      return;\n    }\n\n    closed = true;\n    var arr = takers;\n    takers = [];\n\n    for (var i = 0, len = arr.length; i < len; i++) {\n      var taker = arr[i];\n      taker(END);\n    }\n  }\n\n  return {\n    take: take,\n    put: put,\n    flush: flush,\n    close: close\n  };\n}\nfunction eventChannel(subscribe, buffer) {\n  if (buffer === void 0) {\n    buffer = none();\n  }\n\n  var closed = false;\n  var unsubscribe;\n  var chan = channel(buffer);\n\n  var close = function close() {\n    if (closed) {\n      return;\n    }\n\n    closed = true;\n\n    if (func(unsubscribe)) {\n      unsubscribe();\n    }\n\n    chan.close();\n  };\n\n  unsubscribe = subscribe(function (input) {\n    if (isEnd(input)) {\n      close();\n      return;\n    }\n\n    chan.put(input);\n  });\n\n  if (process.env.NODE_ENV !== 'production') {\n    check(unsubscribe, func, 'in eventChannel: subscribe should return a function to unsubscribe');\n  }\n\n  unsubscribe = once(unsubscribe);\n\n  if (closed) {\n    unsubscribe();\n  }\n\n  return {\n    take: chan.take,\n    flush: chan.flush,\n    close: close\n  };\n}\nfunction multicastChannel() {\n  var _ref;\n\n  var closed = false;\n  var currentTakers = [];\n  var nextTakers = currentTakers;\n\n  function checkForbiddenStates() {\n    if (closed && nextTakers.length) {\n      throw internalErr(CLOSED_CHANNEL_WITH_TAKERS);\n    }\n  }\n\n  var ensureCanMutateNextTakers = function ensureCanMutateNextTakers() {\n    if (nextTakers !== currentTakers) {\n      return;\n    }\n\n    nextTakers = currentTakers.slice();\n  };\n\n  var close = function close() {\n    if (process.env.NODE_ENV !== 'production') {\n      checkForbiddenStates();\n    }\n\n    closed = true;\n    var takers = currentTakers = nextTakers;\n    nextTakers = [];\n    takers.forEach(function (taker) {\n      taker(END);\n    });\n  };\n\n  return _ref = {}, _ref[MULTICAST] = true, _ref.put = function put(input) {\n    if (process.env.NODE_ENV !== 'production') {\n      checkForbiddenStates();\n      check(input, notUndef, UNDEFINED_INPUT_ERROR);\n    }\n\n    if (closed) {\n      return;\n    }\n\n    if (isEnd(input)) {\n      close();\n      return;\n    }\n\n    var takers = currentTakers = nextTakers;\n\n    for (var i = 0, len = takers.length; i < len; i++) {\n      var taker = takers[i];\n\n      if (taker[MATCH](input)) {\n        taker.cancel();\n        taker(input);\n      }\n    }\n  }, _ref.take = function take(cb, matcher) {\n    if (matcher === void 0) {\n      matcher = wildcard;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkForbiddenStates();\n    }\n\n    if (closed) {\n      cb(END);\n      return;\n    }\n\n    cb[MATCH] = matcher;\n    ensureCanMutateNextTakers();\n    nextTakers.push(cb);\n    cb.cancel = once(function () {\n      ensureCanMutateNextTakers();\n      remove(nextTakers, cb);\n    });\n  }, _ref.close = close, _ref;\n}\nfunction stdChannel() {\n  var chan = multicastChannel();\n  var put = chan.put;\n\n  chan.put = function (input) {\n    if (input[SAGA_ACTION]) {\n      put(input);\n      return;\n    }\n\n    asap(function () {\n      put(input);\n    });\n  };\n\n  return chan;\n}\n\nvar RUNNING = 0;\nvar CANCELLED = 1;\nvar ABORTED = 2;\nvar DONE = 3;\n\nfunction resolvePromise(promise, cb) {\n  var cancelPromise = promise[CANCEL];\n\n  if (func(cancelPromise)) {\n    cb.cancel = cancelPromise;\n  }\n\n  promise.then(cb, function (error) {\n    cb(error, true);\n  });\n}\n\nvar current = 0;\nvar nextSagaId = (function () {\n  return ++current;\n});\n\nvar _effectRunnerMap;\n\nfunction getIteratorMetaInfo(iterator, fn) {\n  if (iterator.isSagaIterator) {\n    return {\n      name: iterator.meta.name\n    };\n  }\n\n  return getMetaInfo(fn);\n}\n\nfunction createTaskIterator(_ref) {\n  var context = _ref.context,\n      fn = _ref.fn,\n      args = _ref.args;\n\n  // catch synchronous failures; see #152 and #441\n  try {\n    var result = fn.apply(context, args); // i.e. a generator function returns an iterator\n\n    if (iterator(result)) {\n      return result;\n    }\n\n    var resolved = false;\n\n    var next = function next(arg) {\n      if (!resolved) {\n        resolved = true; // Only promises returned from fork will be interpreted. See #1573\n\n        return {\n          value: result,\n          done: !promise(result)\n        };\n      } else {\n        return {\n          value: arg,\n          done: true\n        };\n      }\n    };\n\n    return makeIterator(next);\n  } catch (err) {\n    // do not bubble up synchronous failures for detached forks\n    // instead create a failed task. See #152 and #441\n    return makeIterator(function () {\n      throw err;\n    });\n  }\n}\n\nfunction runPutEffect(env, _ref2, cb) {\n  var channel = _ref2.channel,\n      action = _ref2.action,\n      resolve = _ref2.resolve;\n\n  /**\n   Schedule the put in case another saga is holding a lock.\n   The put will be executed atomically. ie nested puts will execute after\n   this put has terminated.\n   **/\n  asap(function () {\n    var result;\n\n    try {\n      result = (channel ? channel.put : env.dispatch)(action);\n    } catch (error) {\n      cb(error, true);\n      return;\n    }\n\n    if (resolve && promise(result)) {\n      resolvePromise(result, cb);\n    } else {\n      cb(result);\n    }\n  }); // Put effects are non cancellables\n}\n\nfunction runTakeEffect(env, _ref3, cb) {\n  var _ref3$channel = _ref3.channel,\n      channel = _ref3$channel === void 0 ? env.channel : _ref3$channel,\n      pattern = _ref3.pattern,\n      maybe = _ref3.maybe;\n\n  var takeCb = function takeCb(input) {\n    if (input instanceof Error) {\n      cb(input, true);\n      return;\n    }\n\n    if (isEnd(input) && !maybe) {\n      cb(TERMINATE);\n      return;\n    }\n\n    cb(input);\n  };\n\n  try {\n    channel.take(takeCb, notUndef(pattern) ? matcher(pattern) : null);\n  } catch (err) {\n    cb(err, true);\n    return;\n  }\n\n  cb.cancel = takeCb.cancel;\n}\n\nfunction runCallEffect(env, _ref4, cb, _ref5) {\n  var context = _ref4.context,\n      fn = _ref4.fn,\n      args = _ref4.args;\n  var task = _ref5.task;\n\n  // catch synchronous failures; see #152\n  try {\n    var result = fn.apply(context, args);\n\n    if (promise(result)) {\n      resolvePromise(result, cb);\n      return;\n    }\n\n    if (iterator(result)) {\n      // resolve iterator\n      proc(env, result, task.context, current, getMetaInfo(fn),\n      /* isRoot */\n      false, cb);\n      return;\n    }\n\n    cb(result);\n  } catch (error) {\n    cb(error, true);\n  }\n}\n\nfunction runCPSEffect(env, _ref6, cb) {\n  var context = _ref6.context,\n      fn = _ref6.fn,\n      args = _ref6.args;\n\n  // CPS (ie node style functions) can define their own cancellation logic\n  // by setting cancel field on the cb\n  // catch synchronous failures; see #152\n  try {\n    var cpsCb = function cpsCb(err, res) {\n      if (undef(err)) {\n        cb(res);\n      } else {\n        cb(err, true);\n      }\n    };\n\n    fn.apply(context, args.concat(cpsCb));\n\n    if (cpsCb.cancel) {\n      cb.cancel = cpsCb.cancel;\n    }\n  } catch (error) {\n    cb(error, true);\n  }\n}\n\nfunction runForkEffect(env, _ref7, cb, _ref8) {\n  var context = _ref7.context,\n      fn = _ref7.fn,\n      args = _ref7.args,\n      detached = _ref7.detached;\n  var parent = _ref8.task;\n  var taskIterator = createTaskIterator({\n    context: context,\n    fn: fn,\n    args: args\n  });\n  var meta = getIteratorMetaInfo(taskIterator, fn);\n  immediately(function () {\n    var child = proc(env, taskIterator, parent.context, current, meta, detached, undefined);\n\n    if (detached) {\n      cb(child);\n    } else {\n      if (child.isRunning()) {\n        parent.queue.addTask(child);\n        cb(child);\n      } else if (child.isAborted()) {\n        parent.queue.abort(child.error());\n      } else {\n        cb(child);\n      }\n    }\n  }); // Fork effects are non cancellables\n}\n\nfunction runJoinEffect(env, taskOrTasks, cb, _ref9) {\n  var task = _ref9.task;\n\n  var joinSingleTask = function joinSingleTask(taskToJoin, cb) {\n    if (taskToJoin.isRunning()) {\n      var joiner = {\n        task: task,\n        cb: cb\n      };\n\n      cb.cancel = function () {\n        if (taskToJoin.isRunning()) remove(taskToJoin.joiners, joiner);\n      };\n\n      taskToJoin.joiners.push(joiner);\n    } else {\n      if (taskToJoin.isAborted()) {\n        cb(taskToJoin.error(), true);\n      } else {\n        cb(taskToJoin.result());\n      }\n    }\n  };\n\n  if (array$1(taskOrTasks)) {\n    if (taskOrTasks.length === 0) {\n      cb([]);\n      return;\n    }\n\n    var childCallbacks = createAllStyleChildCallbacks(taskOrTasks, cb);\n    taskOrTasks.forEach(function (t, i) {\n      joinSingleTask(t, childCallbacks[i]);\n    });\n  } else {\n    joinSingleTask(taskOrTasks, cb);\n  }\n}\n\nfunction cancelSingleTask(taskToCancel) {\n  if (taskToCancel.isRunning()) {\n    taskToCancel.cancel();\n  }\n}\n\nfunction runCancelEffect(env, taskOrTasks, cb, _ref10) {\n  var task = _ref10.task;\n\n  if (taskOrTasks === SELF_CANCELLATION) {\n    cancelSingleTask(task);\n  } else if (array$1(taskOrTasks)) {\n    taskOrTasks.forEach(cancelSingleTask);\n  } else {\n    cancelSingleTask(taskOrTasks);\n  }\n\n  cb(); // cancel effects are non cancellables\n}\n\nfunction runAllEffect(env, effects, cb, _ref11) {\n  var digestEffect = _ref11.digestEffect;\n  var effectId = current;\n  var keys = Object.keys(effects);\n\n  if (keys.length === 0) {\n    cb(array$1(effects) ? [] : {});\n    return;\n  }\n\n  var childCallbacks = createAllStyleChildCallbacks(effects, cb);\n  keys.forEach(function (key) {\n    digestEffect(effects[key], effectId, childCallbacks[key], key);\n  });\n}\n\nfunction runRaceEffect(env, effects, cb, _ref12) {\n  var digestEffect = _ref12.digestEffect;\n  var effectId = current;\n  var keys = Object.keys(effects);\n  var response = array$1(effects) ? createEmptyArray(keys.length) : {};\n  var childCbs = {};\n  var completed = false;\n  keys.forEach(function (key) {\n    var chCbAtKey = function chCbAtKey(res, isErr) {\n      if (completed) {\n        return;\n      }\n\n      if (isErr || shouldComplete(res)) {\n        // Race Auto cancellation\n        cb.cancel();\n        cb(res, isErr);\n      } else {\n        cb.cancel();\n        completed = true;\n        response[key] = res;\n        cb(response);\n      }\n    };\n\n    chCbAtKey.cancel = noop;\n    childCbs[key] = chCbAtKey;\n  });\n\n  cb.cancel = function () {\n    // prevents unnecessary cancellation\n    if (!completed) {\n      completed = true;\n      keys.forEach(function (key) {\n        return childCbs[key].cancel();\n      });\n    }\n  };\n\n  keys.forEach(function (key) {\n    if (completed) {\n      return;\n    }\n\n    digestEffect(effects[key], effectId, childCbs[key], key);\n  });\n}\n\nfunction runSelectEffect(env, _ref13, cb) {\n  var selector = _ref13.selector,\n      args = _ref13.args;\n\n  try {\n    var state = selector.apply(void 0, [env.getState()].concat(args));\n    cb(state);\n  } catch (error) {\n    cb(error, true);\n  }\n}\n\nfunction runChannelEffect(env, _ref14, cb) {\n  var pattern = _ref14.pattern,\n      buffer = _ref14.buffer;\n  var chan = channel(buffer);\n  var match = matcher(pattern);\n\n  var taker = function taker(action) {\n    if (!isEnd(action)) {\n      env.channel.take(taker, match);\n    }\n\n    chan.put(action);\n  };\n\n  var close = chan.close;\n\n  chan.close = function () {\n    taker.cancel();\n    close();\n  };\n\n  env.channel.take(taker, match);\n  cb(chan);\n}\n\nfunction runCancelledEffect(env, data, cb, _ref15) {\n  var task = _ref15.task;\n  cb(task.isCancelled());\n}\n\nfunction runFlushEffect(env, channel, cb) {\n  channel.flush(cb);\n}\n\nfunction runGetContextEffect(env, prop, cb, _ref16) {\n  var task = _ref16.task;\n  cb(task.context[prop]);\n}\n\nfunction runSetContextEffect(env, props, cb, _ref17) {\n  var task = _ref17.task;\n  assignWithSymbols(task.context, props);\n  cb();\n}\n\nvar effectRunnerMap = (_effectRunnerMap = {}, _effectRunnerMap[TAKE] = runTakeEffect, _effectRunnerMap[PUT] = runPutEffect, _effectRunnerMap[ALL] = runAllEffect, _effectRunnerMap[RACE] = runRaceEffect, _effectRunnerMap[CALL] = runCallEffect, _effectRunnerMap[CPS] = runCPSEffect, _effectRunnerMap[FORK] = runForkEffect, _effectRunnerMap[JOIN] = runJoinEffect, _effectRunnerMap[CANCEL$1] = runCancelEffect, _effectRunnerMap[SELECT] = runSelectEffect, _effectRunnerMap[ACTION_CHANNEL] = runChannelEffect, _effectRunnerMap[CANCELLED$1] = runCancelledEffect, _effectRunnerMap[FLUSH] = runFlushEffect, _effectRunnerMap[GET_CONTEXT] = runGetContextEffect, _effectRunnerMap[SET_CONTEXT] = runSetContextEffect, _effectRunnerMap);\n\n/**\n Used to track a parent task and its forks\n In the fork model, forked tasks are attached by default to their parent\n We model this using the concept of Parent task && main Task\n main task is the main flow of the current Generator, the parent tasks is the\n aggregation of the main tasks + all its forked tasks.\n Thus the whole model represents an execution tree with multiple branches (vs the\n linear execution tree in sequential (non parallel) programming)\n\n A parent tasks has the following semantics\n - It completes if all its forks either complete or all cancelled\n - If it's cancelled, all forks are cancelled as well\n - It aborts if any uncaught error bubbles up from forks\n - If it completes, the return value is the one returned by the main task\n **/\n\nfunction forkQueue(mainTask, onAbort, cont) {\n  var tasks = [];\n  var result;\n  var completed = false;\n  addTask(mainTask);\n\n  var getTasks = function getTasks() {\n    return tasks;\n  };\n\n  function abort(err) {\n    onAbort();\n    cancelAll();\n    cont(err, true);\n  }\n\n  function addTask(task) {\n    tasks.push(task);\n\n    task.cont = function (res, isErr) {\n      if (completed) {\n        return;\n      }\n\n      remove(tasks, task);\n      task.cont = noop;\n\n      if (isErr) {\n        abort(res);\n      } else {\n        if (task === mainTask) {\n          result = res;\n        }\n\n        if (!tasks.length) {\n          completed = true;\n          cont(result);\n        }\n      }\n    };\n  }\n\n  function cancelAll() {\n    if (completed) {\n      return;\n    }\n\n    completed = true;\n    tasks.forEach(function (t) {\n      t.cont = noop;\n      t.cancel();\n    });\n    tasks = [];\n  }\n\n  return {\n    addTask: addTask,\n    cancelAll: cancelAll,\n    abort: abort,\n    getTasks: getTasks\n  };\n}\n\n// there can be only a single saga error created at any given moment\n\nfunction formatLocation(fileName, lineNumber) {\n  return fileName + \"?\" + lineNumber;\n}\n\nfunction effectLocationAsString(effect) {\n  var location = getLocation(effect);\n\n  if (location) {\n    var code = location.code,\n        fileName = location.fileName,\n        lineNumber = location.lineNumber;\n    var source = code + \"  \" + formatLocation(fileName, lineNumber);\n    return source;\n  }\n\n  return '';\n}\n\nfunction sagaLocationAsString(sagaMeta) {\n  var name = sagaMeta.name,\n      location = sagaMeta.location;\n\n  if (location) {\n    return name + \"  \" + formatLocation(location.fileName, location.lineNumber);\n  }\n\n  return name;\n}\n\nfunction cancelledTasksAsString(sagaStack) {\n  var cancelledTasks = flatMap(function (i) {\n    return i.cancelledTasks;\n  }, sagaStack);\n\n  if (!cancelledTasks.length) {\n    return '';\n  }\n\n  return ['Tasks cancelled due to error:'].concat(cancelledTasks).join('\\n');\n}\n\nvar crashedEffect = null;\nvar sagaStack = [];\nvar addSagaFrame = function addSagaFrame(frame) {\n  frame.crashedEffect = crashedEffect;\n  sagaStack.push(frame);\n};\nvar clear = function clear() {\n  crashedEffect = null;\n  sagaStack.length = 0;\n}; // this sets crashed effect for the soon-to-be-reported saga frame\n// this slightly streatches the singleton nature of this module into wrong direction\n// as it's even less obvious what's the data flow here, but it is what it is for now\n\nvar setCrashedEffect = function setCrashedEffect(effect) {\n  crashedEffect = effect;\n};\n/**\n  @returns {string}\n\n  @example\n  The above error occurred in task errorInPutSaga {pathToFile}\n  when executing effect put({type: 'REDUCER_ACTION_ERROR_IN_PUT'}) {pathToFile}\n      created by fetchSaga {pathToFile}\n      created by rootSaga {pathToFile}\n*/\n\nvar toString = function toString() {\n  var firstSaga = sagaStack[0],\n      otherSagas = sagaStack.slice(1);\n  var crashedEffectLocation = firstSaga.crashedEffect ? effectLocationAsString(firstSaga.crashedEffect) : null;\n  var errorMessage = \"The above error occurred in task \" + sagaLocationAsString(firstSaga.meta) + (crashedEffectLocation ? \" \\n when executing effect \" + crashedEffectLocation : '');\n  return [errorMessage].concat(otherSagas.map(function (s) {\n    return \"    created by \" + sagaLocationAsString(s.meta);\n  }), [cancelledTasksAsString(sagaStack)]).join('\\n');\n};\n\nfunction newTask(env, mainTask, parentContext, parentEffectId, meta, isRoot, cont) {\n  var _task;\n\n  if (cont === void 0) {\n    cont = noop;\n  }\n\n  var status = RUNNING;\n  var taskResult;\n  var taskError;\n  var deferredEnd = null;\n  var cancelledDueToErrorTasks = [];\n  var context = Object.create(parentContext);\n  var queue = forkQueue(mainTask, function onAbort() {\n    cancelledDueToErrorTasks.push.apply(cancelledDueToErrorTasks, queue.getTasks().map(function (t) {\n      return t.meta.name;\n    }));\n  }, end);\n  /**\n   This may be called by a parent generator to trigger/propagate cancellation\n   cancel all pending tasks (including the main task), then end the current task.\n    Cancellation propagates down to the whole execution tree held by this Parent task\n   It's also propagated to all joiners of this task and their execution tree/joiners\n    Cancellation is noop for terminated/Cancelled tasks tasks\n   **/\n\n  function cancel() {\n    if (status === RUNNING) {\n      // Setting status to CANCELLED does not necessarily mean that the task/iterators are stopped\n      // effects in the iterator's finally block will still be executed\n      status = CANCELLED;\n      queue.cancelAll(); // Ending with a TASK_CANCEL will propagate the Cancellation to all joiners\n\n      end(TASK_CANCEL, false);\n    }\n  }\n\n  function end(result, isErr) {\n    if (!isErr) {\n      // The status here may be RUNNING or CANCELLED\n      // If the status is CANCELLED, then we do not need to change it here\n      if (result === TASK_CANCEL) {\n        status = CANCELLED;\n      } else if (status !== CANCELLED) {\n        status = DONE;\n      }\n\n      taskResult = result;\n      deferredEnd && deferredEnd.resolve(result);\n    } else {\n      status = ABORTED;\n      addSagaFrame({\n        meta: meta,\n        cancelledTasks: cancelledDueToErrorTasks\n      });\n\n      if (task.isRoot) {\n        var sagaStack = toString(); // we've dumped the saga stack to string and are passing it to user's code\n        // we know that it won't be needed anymore and we need to clear it\n\n        clear();\n        env.onError(result, {\n          sagaStack: sagaStack\n        });\n      }\n\n      taskError = result;\n      deferredEnd && deferredEnd.reject(result);\n    }\n\n    task.cont(result, isErr);\n    task.joiners.forEach(function (joiner) {\n      joiner.cb(result, isErr);\n    });\n    task.joiners = null;\n  }\n\n  function setContext(props) {\n    if (process.env.NODE_ENV !== 'production') {\n      check(props, object, createSetContextWarning('task', props));\n    }\n\n    assignWithSymbols(context, props);\n  }\n\n  function toPromise() {\n    if (deferredEnd) {\n      return deferredEnd.promise;\n    }\n\n    deferredEnd = deferred();\n\n    if (status === ABORTED) {\n      deferredEnd.reject(taskError);\n    } else if (status !== RUNNING) {\n      deferredEnd.resolve(taskResult);\n    }\n\n    return deferredEnd.promise;\n  }\n\n  var task = (_task = {}, _task[TASK] = true, _task.id = parentEffectId, _task.meta = meta, _task.isRoot = isRoot, _task.context = context, _task.joiners = [], _task.queue = queue, _task.cancel = cancel, _task.cont = cont, _task.end = end, _task.setContext = setContext, _task.toPromise = toPromise, _task.isRunning = function isRunning() {\n    return status === RUNNING;\n  }, _task.isCancelled = function isCancelled() {\n    return status === CANCELLED || status === RUNNING && mainTask.status === CANCELLED;\n  }, _task.isAborted = function isAborted() {\n    return status === ABORTED;\n  }, _task.result = function result() {\n    return taskResult;\n  }, _task.error = function error() {\n    return taskError;\n  }, _task);\n  return task;\n}\n\nfunction proc(env, iterator$1, parentContext, parentEffectId, meta, isRoot, cont) {\n  if (process.env.NODE_ENV !== 'production' && iterator$1[asyncIteratorSymbol]) {\n    throw new Error(\"redux-saga doesn't support async generators, please use only regular ones\");\n  }\n\n  var finalRunEffect = env.finalizeRunEffect(runEffect);\n  /**\n    Tracks the current effect cancellation\n    Each time the generator progresses. calling runEffect will set a new value\n    on it. It allows propagating cancellation to child effects\n  **/\n\n  next.cancel = noop;\n  /** Creates a main task to track the main flow */\n\n  var mainTask = {\n    meta: meta,\n    cancel: cancelMain,\n    status: RUNNING\n  };\n  /**\n   Creates a new task descriptor for this generator.\n   A task is the aggregation of it's mainTask and all it's forked tasks.\n   **/\n\n  var task = newTask(env, mainTask, parentContext, parentEffectId, meta, isRoot, cont);\n  var executingContext = {\n    task: task,\n    digestEffect: digestEffect\n  };\n  /**\n    cancellation of the main task. We'll simply resume the Generator with a TASK_CANCEL\n  **/\n\n  function cancelMain() {\n    if (mainTask.status === RUNNING) {\n      mainTask.status = CANCELLED;\n      next(TASK_CANCEL);\n    }\n  }\n  /**\n    attaches cancellation logic to this task's continuation\n    this will permit cancellation to propagate down the call chain\n  **/\n\n\n  if (cont) {\n    cont.cancel = task.cancel;\n  } // kicks up the generator\n\n\n  next(); // then return the task descriptor to the caller\n\n  return task;\n  /**\n   * This is the generator driver\n   * It's a recursive async/continuation function which calls itself\n   * until the generator terminates or throws\n   * @param {internal commands(TASK_CANCEL | TERMINATE) | any} arg - value, generator will be resumed with.\n   * @param {boolean} isErr - the flag shows if effect finished with an error\n   *\n   * receives either (command | effect result, false) or (any thrown thing, true)\n   */\n\n  function next(arg, isErr) {\n    try {\n      var result;\n\n      if (isErr) {\n        result = iterator$1.throw(arg); // user handled the error, we can clear bookkept values\n\n        clear();\n      } else if (shouldCancel(arg)) {\n        /**\n          getting TASK_CANCEL automatically cancels the main task\n          We can get this value here\n           - By cancelling the parent task manually\n          - By joining a Cancelled task\n        **/\n        mainTask.status = CANCELLED;\n        /**\n          Cancels the current effect; this will propagate the cancellation down to any called tasks\n        **/\n\n        next.cancel();\n        /**\n          If this Generator has a `return` method then invokes it\n          This will jump to the finally block\n        **/\n\n        result = func(iterator$1.return) ? iterator$1.return(TASK_CANCEL) : {\n          done: true,\n          value: TASK_CANCEL\n        };\n      } else if (shouldTerminate(arg)) {\n        // We get TERMINATE flag, i.e. by taking from a channel that ended using `take` (and not `takem` used to trap End of channels)\n        result = func(iterator$1.return) ? iterator$1.return() : {\n          done: true\n        };\n      } else {\n        result = iterator$1.next(arg);\n      }\n\n      if (!result.done) {\n        digestEffect(result.value, parentEffectId, next);\n      } else {\n        /**\n          This Generator has ended, terminate the main task and notify the fork queue\n        **/\n        if (mainTask.status !== CANCELLED) {\n          mainTask.status = DONE;\n        }\n\n        mainTask.cont(result.value);\n      }\n    } catch (error) {\n      if (mainTask.status === CANCELLED) {\n        throw error;\n      }\n\n      mainTask.status = ABORTED;\n      mainTask.cont(error, true);\n    }\n  }\n\n  function runEffect(effect, effectId, currCb) {\n    /**\n      each effect runner must attach its own logic of cancellation to the provided callback\n      it allows this generator to propagate cancellation downward.\n       ATTENTION! effect runners must setup the cancel logic by setting cb.cancel = [cancelMethod]\n      And the setup must occur before calling the callback\n       This is a sort of inversion of control: called async functions are responsible\n      of completing the flow by calling the provided continuation; while caller functions\n      are responsible for aborting the current flow by calling the attached cancel function\n       Library users can attach their own cancellation logic to promises by defining a\n      promise[CANCEL] method in their returned promises\n      ATTENTION! calling cancel must have no effect on an already completed or cancelled effect\n    **/\n    if (promise(effect)) {\n      resolvePromise(effect, currCb);\n    } else if (iterator(effect)) {\n      // resolve iterator\n      proc(env, effect, task.context, effectId, meta,\n      /* isRoot */\n      false, currCb);\n    } else if (effect && effect[IO]) {\n      var effectRunner = effectRunnerMap[effect.type];\n      effectRunner(env, effect.payload, currCb, executingContext);\n    } else {\n      // anything else returned as is\n      currCb(effect);\n    }\n  }\n\n  function digestEffect(effect, parentEffectId, cb, label) {\n    if (label === void 0) {\n      label = '';\n    }\n\n    var effectId = nextSagaId();\n    env.sagaMonitor && env.sagaMonitor.effectTriggered({\n      effectId: effectId,\n      parentEffectId: parentEffectId,\n      label: label,\n      effect: effect\n    });\n    /**\n      completion callback and cancel callback are mutually exclusive\n      We can't cancel an already completed effect\n      And We can't complete an already cancelled effectId\n    **/\n\n    var effectSettled; // Completion callback passed to the appropriate effect runner\n\n    function currCb(res, isErr) {\n      if (effectSettled) {\n        return;\n      }\n\n      effectSettled = true;\n      cb.cancel = noop; // defensive measure\n\n      if (env.sagaMonitor) {\n        if (isErr) {\n          env.sagaMonitor.effectRejected(effectId, res);\n        } else {\n          env.sagaMonitor.effectResolved(effectId, res);\n        }\n      }\n\n      if (isErr) {\n        setCrashedEffect(effect);\n      }\n\n      cb(res, isErr);\n    } // tracks down the current cancel\n\n\n    currCb.cancel = noop; // setup cancellation logic on the parent cb\n\n    cb.cancel = function () {\n      // prevents cancelling an already completed effect\n      if (effectSettled) {\n        return;\n      }\n\n      effectSettled = true;\n      currCb.cancel(); // propagates cancel downward\n\n      currCb.cancel = noop; // defensive measure\n\n      env.sagaMonitor && env.sagaMonitor.effectCancelled(effectId);\n    };\n\n    finalRunEffect(effect, effectId, currCb);\n  }\n}\n\nvar RUN_SAGA_SIGNATURE = 'runSaga(options, saga, ...args)';\nvar NON_GENERATOR_ERR = RUN_SAGA_SIGNATURE + \": saga argument must be a Generator function!\";\nfunction runSaga(_ref, saga) {\n  var _ref$channel = _ref.channel,\n      channel = _ref$channel === void 0 ? stdChannel() : _ref$channel,\n      dispatch = _ref.dispatch,\n      getState = _ref.getState,\n      _ref$context = _ref.context,\n      context = _ref$context === void 0 ? {} : _ref$context,\n      sagaMonitor = _ref.sagaMonitor,\n      effectMiddlewares = _ref.effectMiddlewares,\n      _ref$onError = _ref.onError,\n      onError = _ref$onError === void 0 ? logError : _ref$onError;\n\n  if (process.env.NODE_ENV !== 'production') {\n    check(saga, func, NON_GENERATOR_ERR);\n  }\n\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var iterator$1 = saga.apply(void 0, args);\n\n  if (process.env.NODE_ENV !== 'production') {\n    check(iterator$1, iterator, NON_GENERATOR_ERR);\n  }\n\n  var effectId = nextSagaId();\n\n  if (sagaMonitor) {\n    // monitors are expected to have a certain interface, let's fill-in any missing ones\n    sagaMonitor.rootSagaStarted = sagaMonitor.rootSagaStarted || noop;\n    sagaMonitor.effectTriggered = sagaMonitor.effectTriggered || noop;\n    sagaMonitor.effectResolved = sagaMonitor.effectResolved || noop;\n    sagaMonitor.effectRejected = sagaMonitor.effectRejected || noop;\n    sagaMonitor.effectCancelled = sagaMonitor.effectCancelled || noop;\n    sagaMonitor.actionDispatched = sagaMonitor.actionDispatched || noop;\n    sagaMonitor.rootSagaStarted({\n      effectId: effectId,\n      saga: saga,\n      args: args\n    });\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (notUndef(dispatch)) {\n      check(dispatch, func, 'dispatch must be a function');\n    }\n\n    if (notUndef(getState)) {\n      check(getState, func, 'getState must be a function');\n    }\n\n    if (notUndef(effectMiddlewares)) {\n      var MIDDLEWARE_TYPE_ERROR = 'effectMiddlewares must be an array of functions';\n      check(effectMiddlewares, array$1, MIDDLEWARE_TYPE_ERROR);\n      effectMiddlewares.forEach(function (effectMiddleware) {\n        return check(effectMiddleware, func, MIDDLEWARE_TYPE_ERROR);\n      });\n    }\n\n    check(onError, func, 'onError passed to the redux-saga is not a function!');\n  }\n\n  var finalizeRunEffect;\n\n  if (effectMiddlewares) {\n    var middleware = compose.apply(void 0, effectMiddlewares);\n\n    finalizeRunEffect = function finalizeRunEffect(runEffect) {\n      return function (effect, effectId, currCb) {\n        var plainRunEffect = function plainRunEffect(eff) {\n          return runEffect(eff, effectId, currCb);\n        };\n\n        return middleware(plainRunEffect)(effect);\n      };\n    };\n  } else {\n    finalizeRunEffect = identity;\n  }\n\n  var env = {\n    channel: channel,\n    dispatch: wrapSagaDispatch(dispatch),\n    getState: getState,\n    sagaMonitor: sagaMonitor,\n    onError: onError,\n    finalizeRunEffect: finalizeRunEffect\n  };\n  return immediately(function () {\n    var task = proc(env, iterator$1, context, effectId, getMetaInfo(saga),\n    /* isRoot */\n    true, undefined);\n\n    if (sagaMonitor) {\n      sagaMonitor.effectResolved(effectId, task);\n    }\n\n    return task;\n  });\n}\n\nfunction sagaMiddlewareFactory(_ref) {\n  if (_ref === void 0) {\n    _ref = {};\n  }\n\n  var _ref2 = _ref,\n      _ref2$context = _ref2.context,\n      context = _ref2$context === void 0 ? {} : _ref2$context,\n      _ref2$channel = _ref2.channel,\n      channel = _ref2$channel === void 0 ? stdChannel() : _ref2$channel,\n      sagaMonitor = _ref2.sagaMonitor,\n      options = _objectWithoutPropertiesLoose(_ref2, [\"context\", \"channel\", \"sagaMonitor\"]);\n\n  var boundRunSaga;\n\n  if (process.env.NODE_ENV !== 'production') {\n    check(channel, channel$1, 'options.channel passed to the Saga middleware is not a channel');\n  }\n\n  function sagaMiddleware(_ref3) {\n    var getState = _ref3.getState,\n        dispatch = _ref3.dispatch;\n    boundRunSaga = runSaga.bind(null, _extends({}, options, {\n      context: context,\n      channel: channel,\n      dispatch: dispatch,\n      getState: getState,\n      sagaMonitor: sagaMonitor\n    }));\n    return function (next) {\n      return function (action) {\n        if (sagaMonitor && sagaMonitor.actionDispatched) {\n          sagaMonitor.actionDispatched(action);\n        }\n\n        var result = next(action); // hit reducers\n\n        channel.put(action);\n        return result;\n      };\n    };\n  }\n\n  sagaMiddleware.run = function () {\n    if (process.env.NODE_ENV !== 'production' && !boundRunSaga) {\n      throw new Error('Before running a Saga, you must mount the Saga middleware on the Store using applyMiddleware');\n    }\n\n    return boundRunSaga.apply(void 0, arguments);\n  };\n\n  sagaMiddleware.setContext = function (props) {\n    if (process.env.NODE_ENV !== 'production') {\n      check(props, object, createSetContextWarning('sagaMiddleware', props));\n    }\n\n    assignWithSymbols(context, props);\n  };\n\n  return sagaMiddleware;\n}\n\nexport default sagaMiddlewareFactory;\nexport { END, channel, eventChannel, isEnd, multicastChannel, runSaga, stdChannel };\n","import createSagaMiddleware__default from '@redux-saga/core';\nexport * from '@redux-saga/core';\n\n\n\nexport default createSagaMiddleware__default;\n","/* global Sentry */\nexport default (store) => (next) => (action) => {\n    try {\n        return next(action);\n    } catch (error) {\n        // eslint-disable-next-line no-console\n        console.error('Exception in a reducer!', error);\n        if ('Sentry' in window) {\n            Sentry.withScope((scope) => {\n                scope.setExtras({\n                    action,\n                    state: store.getState(),\n                });\n\n                Sentry.captureException(error);\n            });\n        }\n    }\n};\n","import { createReducer } from '../../helpers';\nimport { api } from '../../actions';\n\nconst initialState = {\n    byContactId: {},\n    ids: [],\n    hasNext: true,\n    next: null,\n};\n\nfunction updateConversation(state, action) {\n    switch (action.type) {\n        case api.conversations.assign.successType:\n        case api.conversations.assignMe.successType:\n        case api.messages.create.successType:\n            state.byContactId[action.contactId] = action.result.conversation;\n            break;\n        case api.conversations.changeStatus.successType:\n        case api.conversations.read.successType:\n        case api.conversations.retrieve.successType:\n            state.byContactId[action.contactId] = action.result;\n            break;\n        case api.contacts.update.successType:\n            state.byContactId[action.contactId].contact = action.result;\n            break;\n    }\n}\n\nfunction addConversation(state, action) {\n    state.byContactId[action.contactId] = action.payload;\n    if (state.ids.indexOf(action.contactId) === -1) {\n        state.ids.unshift(action.contactId);\n    }\n}\n\nexport default createReducer(initialState, {\n    [api.conversations.list.success]: (state, action) => {\n        if (!(action.query && action.query.next)) {\n            state.ids = [];\n        }\n\n        state.hasNext = action.result.hasNext;\n        state.next = action.result.next;\n\n        action.result.results.forEach((item) => {\n            state.byContactId[item.contact._id] = item;\n            if (state.ids.indexOf(item.contact._id) === -1) {\n                state.ids.push(item.contact._id);\n            }\n        });\n    },\n    [api.conversations.assign.successType]: updateConversation,\n    [api.conversations.assignMe.successType]: updateConversation,\n    [api.conversations.changeStatus.successType]: updateConversation,\n    [api.conversations.read.successType]: updateConversation,\n    [api.conversations.retrieve.successType]: updateConversation,\n    [api.contacts.update.successType]: updateConversation,\n    [api.listenUpdateConversation]: addConversation,\n    [api.listenCreateConversation]: addConversation,\n});\n","import { api } from '../../actions';\n\nconst reconcileMessages = (newer, older) => {\n    const cache = {};\n\n    for (const [index, message] of Object.entries(newer)) {\n        cache[message._id] = index;\n    }\n\n    const result = Array.from(newer);\n\n    for (const message of older) {\n        const idx = cache[message._id];\n\n        if (idx !== undefined) {\n            result[idx] = message;\n        } else {\n            result.push(message);\n        }\n    }\n\n    return result.sort((a, b) => b.received - a.received);\n};\n\nfunction reduce(state = { hasNext: true, next: null, items: [] }, action) {\n    switch (action.type) {\n        case api.conversations.messages.successType:\n            return {\n                ...state,\n                hasNext: action.result.messages.hasNext,\n                next: action.result.messages.next,\n                items:\n                    action.query && action.query.next\n                        ? reconcileMessages(state.items, action.result.messages.results)\n                        : [...action.result.messages.results],\n            };\n        case api.conversations.sendMessage.successType:\n        case api.conversations.sendAttachment.successType:\n        case api.conversations.assign.successType:\n        case api.conversations.assignMe.successType:\n            return {\n                ...state,\n                items: action.result.messages.concat(state.items),\n            };\n        case api.listenNewMessages.type:\n            return {\n                ...state,\n                items: reconcileMessages(action.payload, state.items),\n            };\n        default:\n            return state;\n    }\n}\n\nexport default (state = {}, action) => {\n    switch (action.type) {\n        case api.conversations.messages.successType:\n        case api.conversations.sendMessage.successType:\n        case api.conversations.sendAttachment.successType:\n        case api.conversations.assign.successType:\n        case api.conversations.assignMe.successType:\n        case api.listenNewMessages.type:\n            return {\n                ...state,\n                [action.contactId]: reduce(state[action.contactId], action),\n            };\n        default:\n            return state;\n    }\n};\n","import { createReducer } from '../../helpers';\nimport { api } from '../../actions';\n\nconst initialState = {};\n\nexport default createReducer(initialState, {\n    [api.conversations.unread.success]: (state, action) => {\n        return action.result;\n    },\n    [api.conversations.read.success]: (state, action) => {\n        state[action.contactId] = 0;\n    },\n});\n","import { api } from '../../actions';\nimport { createReducer } from '../../helpers';\n\nconst initialState = {\n    all: 0,\n    unassigned: 0,\n    my: 0,\n};\n\nexport default createReducer(initialState, {\n    [api.conversations.statistics.success]: (state, action) => action.result.conversations,\n});\n","import { combineReducers } from 'redux';\n\nimport list from './list';\nimport messages from './messages';\nimport unread from './unread';\nimport statistics from './statistics';\n\nexport default combineReducers({\n    list,\n    messages,\n    unread,\n    statistics,\n});\n","import store from 'store2';\nimport { api } from '../actions';\n\nconst initialState = {\n    user: null,\n    markers: [],\n    token: store.get('accessToken'),\n};\n\nexport default (state = initialState, action) => {\n    switch (action.type) {\n        case api.users.me.success.type:\n        case api.users.updateMyAccount.success.type:\n            return { ...state, user: action.result };\n        case api.auth.login.success.type:\n        case api.auth.getToken.success.type:\n        case api.users.create.success.type:\n        case api.users.join.success.type:\n            return { ...state, ...action.result };\n        case api.listenUserUpdated.type:\n            if (action.user._id !== state.user._id) {\n                return state;\n            }\n\n            return {\n                ...state,\n                markers: action.marker ? [...state.markers, action.marker] : state.markers,\n                user: { ...state.user, ...action.user },\n            };\n\n        default:\n            return state;\n    }\n};\n","import { createReducer, updateIn, deleteIn, isMatchId } from '../../helpers';\nimport { api } from '../../actions';\n\nconst initialState = {\n    card: {},\n};\n\nfunction updateDomain(state, action) {\n    state.card.domain = action.result.domain;\n}\n\nfunction updateCard(state, action) {\n    state.card = action.result;\n}\n\nexport default createReducer(initialState, {\n    [api.card.update.success]: updateCard,\n    [api.card.patch.success]: updateCard,\n    [api.card.messengers.create.success]: (state, action) => {\n        state.card.messengers.push(action.result);\n    },\n    [api.card.messengers.update.success]: (state, action) => {\n        updateIn(state.card.messengers, isMatchId(action.messengerId), action.result);\n    },\n    [api.card.messengers.delete.success]: (state, action) => {\n        deleteIn(state.card.messengers, isMatchId(action.messengerId));\n    },\n    [api.card.messengers.sort.success]: (state, action) => {\n        state.card.messengers = action.result;\n    },\n    [api.card.links.create.success]: (state, action) => {\n        state.card.links.push(action.result);\n    },\n    [api.card.links.update.success]: (state, action) => {\n        updateIn(state.card.links, isMatchId(action.linkId), action.result);\n    },\n    [api.card.links.delete.success]: (state, action) => {\n        deleteIn(state.card.links, isMatchId(action.linkId));\n    },\n    [api.card.domain.connect.success]: updateDomain,\n    [api.card.domain.disconnect.success]: updateDomain,\n    [api.products.create.success]: (state) => {\n        state.card.products.count++;\n    },\n    [api.products.delete.success]: (state) => {\n        state.card.products.count = Math.max(0, state.card.products.count - 1);\n    },\n});\n","import { createReducer, isMatchId, deleteIn } from '../../helpers';\nimport { api } from '../../actions';\n\nconst initialState = {\n    integrations: [],\n};\n\nexport default createReducer(initialState, {\n    [api.integrations.create.success]: (state, action) => {\n        state.integrations.push(action.result.integration);\n    },\n    [api.integrations.delete.success]: (state, action) => {\n        deleteIn(state.integrations, isMatchId(action.integrationId));\n    },\n});\n","import { createReducer, deleteIn, updateIn, isMatchId } from '../../helpers';\nimport { api } from '../../actions';\n\nconst initialState = {\n    team: [],\n};\n\nexport default createReducer(initialState, {\n    [api.team.create.success]: (state, action) => {\n        state.team.push(action.result);\n    },\n    [api.team.update.success]: (state, action) => {\n        updateIn(state.team, isMatchId(action.memberId), action.result);\n    },\n    [api.team.delete.success]: (state, action) => {\n        deleteIn(state.team, isMatchId(action.memberId));\n    },\n});\n","import { createReducer, updateIn, deleteIn, isMatchId } from '../../helpers';\nimport { api } from '../../actions';\n\nexport default createReducer([], {\n    [api.bots.create.success]: (state, action) => {\n        state.push(action.result);\n    },\n    [api.bots.update.success]: (state, action) => {\n        updateIn(state, isMatchId(action.botId), action.result);\n    },\n    [api.bots.delete.success]: (state, action) => {\n        deleteIn(state, isMatchId(action.botId));\n    },\n});\n","import { createReducer, updateIn, deleteIn, isMatchId } from '../../helpers';\n\nimport { api } from '../../actions';\n\nconst initialState = {\n    replies: [],\n};\n\nexport default createReducer(initialState, {\n    [api.replies.list.success]: (state, action) => {\n        state.replies = action.result;\n    },\n    [api.replies.create.success]: (state, action) => {\n        state.replies.unshift(action.result);\n    },\n    [api.replies.update.success]: (state, action) => {\n        updateIn(state.replies, isMatchId(action.replyId), action.result);\n    },\n    [api.replies.delete.success]: (state, action) => {\n        deleteIn(state.replies, isMatchId(action.replyId));\n    },\n});\n","import { createReducer } from '../../helpers';\nimport { api } from '../../actions';\n\nconst initialState = {\n    quantities: {\n        websites: 0,\n        templates: 0,\n    },\n};\n\nexport default createReducer(initialState, {\n    [api.websites.list.success]: (state, action) => {\n        // fixme: state is null here if list request finishes before workspace retrieval\n        if (state) {\n            state.quantities.websites = action.result.length;\n        }\n    },\n    [api.websites.create.success]: (state) => {\n        state.quantities.websites++;\n    },\n    [api.websites.scaffold.success]: (state) => {\n        state.quantities.websites++;\n    },\n    [api.websites.delete.success]: (state) => {\n        state.quantities.websites = Math.max(0, state.quantities.websites - 1);\n    },\n    [api.pageTemplates.create.success]: (state) => {\n        state.quantities.templates++;\n    },\n    [api.pageTemplates.delete.success]: (state) => {\n        state.quantities.templates = Math.max(0, state.quantities.templates - 1);\n    },\n});\n","import { createReducer } from '../../helpers';\n\nimport { api } from '../../actions';\n\nconst initialState = {\n    crm: {\n        defaultCurrency: 'USD',\n        onBoarding: false,\n    },\n};\n\nexport default createReducer(initialState, {\n    [api.crm.settings.update.success]: (state, action) => {\n        state.crm = action.result;\n    },\n});\n","import { api } from '../actions';\n\nconst initialState = [];\n\nexport default (state = initialState, action) => {\n    switch (action.type) {\n        case api.card.statistics.success.type:\n            return action.result;\n        default:\n            return state;\n    }\n};\n","import { createReducer } from '../helpers';\nimport { api } from '../actions';\n\nconst initialState = {\n    isFetching: true,\n    result: null,\n    plans: null,\n};\n\nexport default createReducer(initialState, {\n    [api.billing.details.request]: (state, action) => {\n        state.isFetching = true;\n    },\n    [api.billing.details.success]: (state, action) => {\n        state.isFetching = false;\n        state.result = action.result;\n    },\n    [api.billing.details.failure]: (state, action) => {\n        state.isFetching = false;\n        state.error = action.error;\n    },\n    [api.billing.update.success]: (state, action) => {\n        state.result = action.result;\n    },\n    [api.billing.applyCoupon.success]: (state, action) => {\n        state.result = action.result;\n    },\n    [api.billing.products.prices.success]: (state, action) => {\n        state.plans = action.result;\n    },\n});\n","import { createReducer, deleteIn, isMatchId, updateIn } from '../helpers';\nimport { api } from '../actions';\n\nconst setIsFetching = (state) => {\n    state.isFetching = true;\n};\nconst setIsDone = (state) => {\n    state.isFetching = false;\n};\n\nconst initialState = {\n    collectionId: null,\n    items: [],\n    next: null,\n    filter: {\n        name: '',\n        collectionId: '',\n    },\n    guid: 0,\n    isFetching: false,\n};\n\nexport default createReducer(initialState, {\n    [api.products.create.request]: setIsFetching,\n    // [api.products.list.request]: setIsFetching,\n    [api.products.update.request]: setIsFetching,\n    [api.products.delete.request]: setIsFetching,\n    [api.products.sort.request]: setIsFetching,\n\n    [api.products.list.failure]: setIsDone,\n    [api.products.retrieve.failure]: setIsDone,\n    [api.products.create.failure]: setIsDone,\n    [api.products.update.failure]: setIsDone,\n    [api.products.delete.failure]: setIsDone,\n    [api.products.sort.failure]: setIsDone,\n\n    [api.products.create.success]: (state, action) => {\n        setIsDone(state);\n        state.items.unshift(action.result);\n    },\n    [api.products.retrieve.success]: (state, action) => {\n        setIsDone(state);\n        updateIn(state.items, isMatchId(action.productId), action.result);\n    },\n    [api.products.update.success]: (state, action) => {\n        setIsDone(state);\n        updateIn(state.items, isMatchId(action.productId), action.result);\n    },\n    [api.products.delete.success]: (state, action) => {\n        setIsDone(state);\n        deleteIn(state.items, isMatchId(action.productId));\n    },\n\n    [api.products.list.request]: (state, action) => {\n        state.isFetching = true;\n\n        if (state.guid < (action.guid || 0) || !action.query?.next) {\n            state.items = [];\n        }\n    },\n    [api.products.list.success]: (state, action) => {\n        if (action.guid && action.guid < state.guid) {\n            return state;\n        }\n\n        state.collectionId = action.collection || null;\n        state.items = action.query?.next ? state.items.concat(action.result.results) : action.result.results;\n        state.next = action.result.next;\n        state.isFetching = false;\n    },\n    [api.products.sort.success]: (state, action) => {\n        state.items = action.result;\n        state.isFetching = false;\n    },\n\n    SET_PRODUCTS_FILTER: (state, action) => {\n        state.filter.name = action.payload.name;\n        state.filter.collectionId = action.payload.collectionId;\n        state.next = null;\n        state.guid = state.guid + 1;\n    },\n\n    CLEAR_PRODUCTS_STORE: () => initialState,\n});\n","import { createReducer, deleteIn, isMatchId, updateIn } from '../helpers';\nimport { api } from '../actions';\n\nconst setIsFetching = (state) => {\n    state.isFetching = true;\n};\nconst setIsDone = (state) => {\n    state.isFetching = false;\n};\n\nconst initialState = {\n    collectionId: null,\n    items: [],\n    next: null,\n    filter: {\n        name: '',\n        collectionId: '',\n    },\n    guid: 0,\n    isFetching: false,\n};\n\nexport default createReducer(initialState, {\n    [api.products.create.request]: setIsFetching,\n    [api.products.update.request]: setIsFetching,\n    [api.products.delete.request]: setIsFetching,\n    [api.products.sort.request]: setIsFetching,\n\n    [api.products.sublist.failure]: setIsDone,\n    [api.products.retrieve.failure]: setIsDone,\n    [api.products.create.failure]: setIsDone,\n    [api.products.update.failure]: setIsDone,\n    [api.products.delete.failure]: setIsDone,\n    [api.products.sort.failure]: setIsDone,\n\n    [api.products.create.success]: (state, action) => {\n        setIsDone(state);\n        state.items.unshift(action.result);\n    },\n    [api.products.retrieve.success]: (state, action) => {\n        setIsDone(state);\n        updateIn(state.items, isMatchId(action.productId), action.result);\n    },\n    [api.products.update.success]: (state, action) => {\n        setIsDone(state);\n        updateIn(state.items, isMatchId(action.productId), action.result);\n    },\n    [api.products.delete.success]: (state, action) => {\n        setIsDone(state);\n        deleteIn(state.items, isMatchId(action.productId));\n    },\n\n    [api.products.sublist.request]: (state, action) => {\n        state.isFetching = true;\n\n        if (state.guid < (action.guid || 0) || !action.query?.next) {\n            state.items = [];\n        }\n    },\n    [api.products.sublist.success]: (state, action) => {\n        if (action.guid && action.guid < state.guid) {\n            return state;\n        }\n\n        state.collectionId = action.collection || null;\n        state.items = action.query?.next ? state.items.concat(action.result.results) : action.result.results;\n        state.next = action.result.next;\n        state.isFetching = false;\n    },\n    [api.products.sort.success]: (state, action) => {\n        state.items = action.result;\n        state.isFetching = false;\n    },\n    [api.collections.products.update]: (state) => {\n        state.guid++;\n    },\n\n    SET_PRODUCTS_SUB_FILTER: (state, action) => {\n        state.filter.name = action.payload.name;\n        state.filter.collectionId = action.payload.collectionId;\n        state.next = null;\n        state.guid = state.guid + 1;\n    },\n\n    CLEAR_PRODUCTS_SUB_STORE: () => initialState,\n});\n","import { createReducer } from '../helpers';\n\nconst initialStateFactory = (botId, bot) => ({\n    botId: botId || null,\n    currentPath: [{ id: bot ? bot.botData.startResponseId : 1 }],\n});\n\nconst initialState = initialStateFactory();\n\nexport default createReducer(initialState, {\n    SELECT_BOT: (state, { botId, bot }) => {\n        if (state.botId !== botId) {\n            Object.assign(state, initialStateFactory(botId, bot));\n        }\n    },\n\n    SET_DIALOG_PATH: (state, { path }) => {\n        state.currentPath = path;\n    },\n\n    OPEN_DIALOG_BRANCH: (state, { parentResponseID, nextResponseID, content }) => {\n        const constructedPath = [];\n\n        for (const step of state.currentPath) {\n            constructedPath.push(step);\n\n            if (step.id === parentResponseID) {\n                if (nextResponseID) {\n                    constructedPath.push({\n                        parentResponseID,\n                        id: nextResponseID,\n                        reaction: {\n                            content: content,\n                        },\n                    });\n                }\n\n                break;\n            }\n        }\n\n        state.currentPath = constructedPath;\n    },\n});\n","import { createReducer } from '../helpers';\nimport { api } from '../actions';\n\nconst setIsFetching = (bool) => (state) => {\n    state.isFetching = bool;\n};\n\nconst setLastRequest = (state) => {\n    if (!__LEGACY__) {\n        return state;\n    }\n\n    return {\n        ...state,\n        lastRequest: Date.now(),\n    };\n};\n\nconst setSuccessResult = (state, action) => {\n    if (__LEGACY__) {\n        const items = action.result.items.filter((i) => !i.website);\n\n        return {\n            ...state,\n            ...action.result,\n            items,\n            isFetching: false,\n            lastRequest: Date.now(),\n        };\n    }\n\n    return {\n        ...state,\n        ...action.result,\n        isFetching: false,\n        lastRequest: Date.now(),\n    };\n};\n\nconst initialState = {\n    items: [],\n    isFetching: false,\n    allPublishedProductsCount: 0,\n    allCollectionsCount: 0,\n    publishedCollectionsCount: 0,\n    allProductsCount: 0,\n    lastRequest: null,\n};\n\nexport default createReducer(initialState, {\n    [api.collections.list.request]: setIsFetching(true),\n    [api.collections.retrieve.request]: setIsFetching(true),\n    [api.collections.create.request]: setIsFetching(true),\n    [api.collections.update.request]: setIsFetching(true),\n    [api.collections.delete.request]: setIsFetching(true),\n    [api.collections.products.update.request]: setIsFetching(true),\n    [api.collections.sort.request]: setIsFetching(true),\n    [api.products.migrate.request]: setIsFetching(true),\n\n    [api.collections.list.failure]: setIsFetching(false),\n    [api.collections.retrieve.failure]: setIsFetching(false),\n    [api.collections.create.failure]: setIsFetching(false),\n    [api.collections.update.failure]: setIsFetching(false),\n    [api.collections.delete.failure]: setIsFetching(false),\n    [api.collections.products.update.failure]: setIsFetching(false),\n    [api.collections.sort.failure]: setIsFetching(false),\n    [api.products.migrate.failure]: setIsFetching(false),\n    [api.collections.retrieve.success]: setIsFetching(false),\n\n    [api.collections.list.success]: setSuccessResult,\n    [api.collections.sort.success]: setSuccessResult,\n    [api.collections.update.success]: setSuccessResult,\n    [api.collections.create.success]: setSuccessResult,\n    [api.collections.delete.success]: setSuccessResult,\n    [api.collections.products.update.success]: setSuccessResult,\n    [api.products.migrate.success]: setSuccessResult,\n\n    [api.products.sort.success]: setLastRequest,\n});\n","import store from 'store2';\nimport config from 'config';\nimport { createReducer } from '../helpers';\nimport { ui, api } from '../actions';\nimport { toggleMobileContainer } from '../actions/ui';\n\nconst initialState = {\n    mobileMenuVisible: false,\n    pagePreview: null,\n    isClientExpired: false,\n    conversationsFilter: {\n        status: 'open',\n        assign: 'all',\n        searchValue: '',\n        showNewFirst: true,\n        ...(store.get('conversationsFilter') || {}),\n    },\n    unsubscribe: {\n        status: 'initial',\n    },\n    isAdvancedStylingMode: store.get('advancedStylingMode') || false,\n    isMobileContainer: false,\n    backTrack: '',\n};\n\nexport default createReducer(initialState, {\n    [ui.toggleMobileMenu]: (state, action) => {\n        state.mobileMenuVisible = action.payload;\n    },\n    [ui.toggleStylingMode]: (state) => {\n        state.isAdvancedStylingMode = !state.isAdvancedStylingMode;\n    },\n    [ui.toggleMobileContainer]: (state, action) => {\n        state.isMobileContainer = typeof action.payload === 'boolean' ? action.payload : !state.isMobileContainer;\n    },\n    [ui.setMessage]: (state, action) => {\n        state.message = action.payload;\n    },\n    [ui.setConversationsFilter]: (state, action) => {\n        state.conversationsFilter = {\n            ...state.conversationsFilter,\n            ...action.payload,\n        };\n    },\n    [ui.setPagePreview]: (state, action) => {\n        state.pagePreview = action.payload;\n    },\n    [ui.setPageBlockPreview]: (state, action) => {\n        if (action.payload._id) {\n            state.pagePreview.blocks = state.pagePreview.blocks.map((block) => {\n                if (block._id === action.payload._id) {\n                    return action.payload;\n                }\n\n                return block;\n            });\n        } else {\n            const hasBlocks = state.pagePreview.blocks.length > 0;\n            const hasNewBlock = hasBlocks && !state.pagePreview.blocks.slice(-1).pop()._id;\n\n            if (hasNewBlock) {\n                state.pagePreview.blocks = state.pagePreview.blocks.map((block) => {\n                    if (!block._id) {\n                        return action.payload;\n                    }\n\n                    return block;\n                });\n            } else {\n                state.pagePreview.blocks.push(action.payload);\n            }\n        }\n    },\n    [api.listenVerifyVersion]: (state, action) => {\n        state.isClientExpired = action.payload !== config.version;\n    },\n    [api.unsubscribe]: (state, action) => {\n        state.unsubscribe.status = 'pending';\n    },\n    [api.listenSubscriptionCancelled]: (state, action) => {\n        state.unsubscribe.state = 'finish';\n    },\n    [ui.setBackTrack]: (state, action) => {\n        state.backTrack = action.payload;\n    },\n});\n","import { createReducer } from '../helpers';\nimport { api } from '../actions';\n\nconst initialState = {\n    socketId: null,\n    isConnected: false,\n    reconnected: 0,\n};\n\nexport default createReducer(initialState, {\n    [api.listenConnect]: (state, action) => {\n        state.socketId = action.socketId;\n        state.isConnected = true;\n    },\n    [api.listenDisconnect]: (state) => {\n        state.socketId = null;\n        state.isConnected = false;\n    },\n    [api.listenReconnect]: (state) => {\n        state.reconnected++;\n    },\n});\n","import { ProductsBlockKind, recursivelyVisitNestedBlocks } from '@mssgme/shared';\nimport { createReducer, deleteIn, isMatchId, updateIn } from '../helpers';\nimport { api } from '../actions';\n\nconst getWebsiteState = (state, action) => {\n    return state.find(isMatchId(action.websiteId));\n};\n\nconst getPagesState = (state, action) => {\n    return getWebsiteState(state, action).pages;\n};\n\nconst getPageState = (state, action) => {\n    return getPagesState(state, action).find(isMatchId(action.pageId));\n};\n\nconst getBlockById = (page, blockId) => {\n    return page.blocks.find(isMatchId(blockId));\n};\n\nexport default createReducer([], {\n    // Websites\n    [api.websites.create.success]: (state, action) => {\n        state.unshift(action.result);\n    },\n    [api.websites.scaffold.success]: (state, action) => {\n        state.unshift(action.result);\n    },\n    [api.websites.list.success]: (state, action) => {\n        return action.result;\n    },\n    [api.websites.update.success]: (state, action) => {\n        updateIn(state, isMatchId(action.websiteId), action.result);\n    },\n    [api.websites.delete.success]: (state, action) => {\n        deleteIn(state, isMatchId(action.websiteId));\n    },\n    [api.websites.domain.update.success]: (state, action) => {\n        state.find(isMatchId(action.websiteId)).domain = action.result;\n    },\n    [api.websites.domain.delete.success]: (state, action) => {\n        state.find(isMatchId(action.websiteId)).domain = { name: '' };\n    },\n\n    // Uploads\n    // [api.websites.upload.success]: (state, action) => {\n    //     state.find(isMatchId(action.websiteId)).uploads.push(action.result);\n    // },\n    // [api.websites.uploadMany.success]: (state, action) => {\n    //     state.find(isMatchId(action.websiteId)).uploads.push(...action.result.success.map(({ result }) => result));\n    // },\n    // [api.websites.deleteUpload.success]: (state, action) => {\n    //     deleteIn(state.find(isMatchId(action.websiteId)).uploads, isMatchId(action.uploadId));\n    // },\n\n    // Pages\n    [api.pages.create.success]: (state, action) => {\n        getPagesState(state, action).unshift(action.result);\n    },\n    [api.pages.applyTemplate.success]: (state, action) => {\n        updateIn(state, isMatchId(action.websiteId), action.result);\n    },\n    [api.pages.update.success]: (state, action) => {\n        updateIn(getPagesState(state, action), isMatchId(action.pageId), action.result);\n    },\n    [api.pages.delete.success]: (state, action) => {\n        deleteIn(getPagesState(state, action), isMatchId(action.pageId));\n    },\n\n    // Blocks\n    [api.blocks.create.success]: (state, action) => {\n        getPageState(state, action).blocks.push(action.result);\n    },\n    [api.blocks.clone.success]: (state, action) => {\n        getPageState(state, action).blocks = action.result;\n    },\n    [api.blocks.update.success]: (state, action) => {\n        updateIn(getPageState(state, action).blocks, isMatchId(action.blockId), action.result);\n    },\n    [api.blocks.convert.success]: (state, action) => {\n        updateIn(state, isMatchId(action.websiteId), action.result.website);\n    },\n    [api.blocks.delete.success]: (state, action) => {\n        const page = getPageState(state, action);\n        const { results } = recursivelyVisitNestedBlocks(page, getBlockById(page, action.blockId), ({ _id }) => _id);\n\n        page.blocks = page.blocks.filter(({ _id }) => !results.includes(_id));\n\n        if (!page.blocks.length) {\n            const website = state.find(isMatchId(action.websiteId));\n\n            page.enabled = false;\n            website.enabled = false; // todo: add check for homePage here when multi-paging is supported\n        }\n    },\n    [api.blocks.sort.success]: (state, action) => {\n        getPageState(state, action).blocks = action.result;\n    },\n    [api.websites.crm.settings.update.success]: (state, action) => {\n        updateIn(state, isMatchId(action.websiteId), action.result);\n    },\n\n    [api.collections.delete.success]: (state, action) => {\n        const collectionId = action.collectionId;\n\n        for (const { pages } of state) {\n            for (const page of pages) {\n                for (const { kind, collections } of page.blocks) {\n                    if (kind !== ProductsBlockKind) {\n                        continue;\n                    }\n\n                    if (collections?.include?.includes(collectionId)) {\n                        collections.include = collections.include.filter((id) => id !== collectionId);\n                    }\n                }\n            }\n        }\n    },\n});\n","import { createReducer, deleteIn, isMatchId, updateIn } from '../helpers';\nimport { api } from '../actions';\n\nconst setIsFetching = (bool) => (state) => {\n    state.isFetching = bool;\n};\n\nconst initialState = {\n    items: [],\n    guid: 0,\n    isFetching: false,\n};\n\nexport default createReducer(initialState, {\n    [api.pageTemplates.create.request]: setIsFetching(true),\n    [api.pageTemplates.retrieve.request]: setIsFetching(true),\n    [api.pageTemplates.update.request]: setIsFetching(true),\n    [api.pageTemplates.delete.request]: setIsFetching(true),\n    [api.pageTemplates.create.failure]: setIsFetching(false),\n    [api.pageTemplates.update.failure]: setIsFetching(false),\n    [api.pageTemplates.delete.failure]: setIsFetching(false),\n    [api.pageTemplates.list.failure]: setIsFetching(false),\n\n    [api.pageTemplates.create.success]: (state, action) => {\n        state.items.unshift(action.result);\n        state.isFetching = false;\n    },\n    [api.pageTemplates.retrieve.success]: (state, action) => {\n        if (!updateIn(state.items, isMatchId(action.templateId), action.result)) {\n            state.items.unshift(action.result);\n        }\n\n        state.isFetching = false;\n    },\n    [api.pageTemplates.update.success]: (state, action) => {\n        updateIn(state.items, isMatchId(action.templateId), action.result);\n\n        state.isFetching = false;\n    },\n    [api.pageTemplates.delete.success]: (state, action) => {\n        deleteIn(state.items, isMatchId(action.templateId));\n        state.isFetching = false;\n    },\n    [api.pageTemplates.list.request]: (state) => {\n        state.isFetching = true;\n    },\n    [api.pageTemplates.list.success]: (state, action) => {\n        if (action.guid && action.guid < state.guid) {\n            return state;\n        }\n\n        state.items = action.result;\n        state.isFetching = false;\n    },\n});\n","import { createReducer, deleteIn, isMatchId, updateIn } from '../helpers';\nimport { api } from '../actions';\n\nconst setIsFetching = (bool) => (state) => {\n    state.isFetching = bool;\n};\nconst changeStatuses = (state, added, removed) => {\n    if (added) {\n        state.counts[added] = (state.counts[added] || 0) + 1;\n    }\n\n    if (removed) {\n        state.counts[removed] = Math.max(0, (state.counts[removed] || 0) - 1);\n    }\n\n    state.recent = state.counts;\n};\n\nconst createFeedback = (state, action) => {\n    state.isFetching = false;\n\n    if (state.items.find(isMatchId(action.feedbackId))) {\n        return;\n    }\n\n    state.items.unshift(action.result);\n    state.counts.all++;\n\n    changeStatuses(state, action.result.status);\n};\nconst updateFeedback = (state, action) => {\n    const old = state.items.find(isMatchId(action.feedbackId));\n    updateIn(state.items, isMatchId(action.feedbackId), action.result);\n\n    if (old?.status !== action.result.status) {\n        changeStatuses(state, action.result.status, old?.status);\n    }\n\n    state.isFetching = false;\n};\n\nconst identityValues = { all: [], new: [], processing: [], accepted: [], rejected: [] };\nconst initialState = {\n    items: [],\n    next: null,\n    filter: { status: 'new' },\n    recent: {},\n    counts: { all: 0, new: 0, processing: 0, accepted: 0, rejected: 0 },\n    totals: identityValues,\n    guid: 0,\n    isFetching: false,\n};\n\nexport default createReducer(initialState, {\n    [api.feedbacks.create.request]: setIsFetching(true),\n    [api.feedbacks.retrieve.request]: setIsFetching(true),\n    [api.feedbacks.list.request]: setIsFetching(true),\n    [api.feedbacks.update.request]: setIsFetching(true),\n    [api.feedbacks.delete.request]: setIsFetching(true),\n    [api.feedbacks.create.failure]: setIsFetching(false),\n    [api.feedbacks.update.failure]: setIsFetching(false),\n    [api.feedbacks.delete.failure]: setIsFetching(false),\n    [api.feedbacks.list.failure]: setIsFetching(false),\n\n    [api.feedbacks.recent.success]: (state, action) => {\n        state.recent = action.result.counts;\n        state.totals = { ...identityValues, ...action.result.totals };\n    },\n\n    [api.feedbacks.create.success]: createFeedback,\n    [api.feedbacks.retrieve.success]: (state, action) => {\n        if (!updateIn(state.items, isMatchId(action.feedbackId), action.result)) {\n            state.items.unshift(action.result);\n        }\n\n        state.isFetching = false;\n    },\n    [api.feedbacks.update.success]: updateFeedback,\n    [api.feedbacks.delete.success]: (state, action) => {\n        state.isFetching = false;\n        state.counts.all = Math.max(0, state.counts.all - 1);\n        const old = deleteIn(state.items, isMatchId(action.feedbackId));\n\n        changeStatuses(state, null, old?.status);\n    },\n    [api.feedbacks.list.success]: (state, { guid, result, query }) => {\n        if (guid && guid < state.guid) {\n            return state;\n        }\n\n        state.items = query?.next ? state.items.concat(result.results) : result.results;\n        state.counts = result.counts;\n        state.recent = result.counts;\n        state.totals = { ...identityValues, ...result.totals };\n        state.next = result.next;\n        state.isFetching = false;\n    },\n\n    [api.orders.update.success]: (state, action) => {\n        const feedback = state.items.find(({ purchase }) => purchase?._id === action.orderId);\n\n        if (feedback) {\n            updateFeedback(state, {\n                feedbackId: feedback._id,\n                result: {\n                    ...feedback,\n                    purchase: action.result,\n                },\n            });\n        }\n    },\n    [api.listenCreateFeedback]: createFeedback,\n    [api.listenUpdateFeedback]: updateFeedback,\n\n    SET_FEEDBACK_ITEMS_FILTER: (state, action) => {\n        state.filter = action.payload || {};\n        state.next = null;\n        state.guid = state.guid + 1;\n    },\n});\n","import { createReducer, deleteIn, isMatchId } from '../helpers';\nimport { api } from '../actions';\n\nconst setIsFetching = (bool) => (state) => {\n    state.isFetching = bool;\n};\n\nconst initialState = {\n    items: [],\n    next: null,\n    guid: 0,\n    isFetching: false,\n};\n\nexport default createReducer(initialState, {\n    [api.users.invites.create.request]: setIsFetching(true),\n    [api.users.invites.delete.request]: setIsFetching(true),\n    [api.users.invites.create.failure]: setIsFetching(false),\n    [api.users.invites.delete.failure]: setIsFetching(false),\n    [api.users.invites.list.failure]: setIsFetching(false),\n    [api.users.invites.delete.success]: setIsFetching(false),\n\n    [api.users.invites.create.success]: (state, action) => {\n        state.items.unshift(action.result);\n        state.isFetching = false;\n    },\n    [api.users.invites.delete.success]: (state, action) => {\n        deleteIn(state.items, isMatchId(action.inviteId));\n        state.isFetching = false;\n    },\n    [api.users.invites.list.request]: (state) => {\n        state.isFetching = true;\n        // state.items = state.next ? state.items : [];\n    },\n    [api.users.invites.list.success]: (state, action) => {\n        if (action.guid && action.guid < state.guid) {\n            return state;\n        }\n\n        state.items =\n            action.query && action.query.next ? state.items.concat(action.result.results) : action.result.results;\n        state.next = action.result.next;\n        state.isFetching = false;\n    },\n});\n","import { combineReducers } from 'redux';\n\nimport conversations from './conversations';\nimport currentUser from './currentUser';\nimport workspace from './workspace';\nimport cardStatistics from './cardStatistics';\nimport billingDetails from './billingDetails';\nimport products from './products';\nimport subproducts from './subproducts';\nimport botEditor from './botEditor';\nimport collections from './collections';\nimport ui from './ui';\nimport socket from './socket';\nimport websites from './websites';\nimport templates from './templates';\nimport feedback from './feedback';\nimport invites from './invites';\n\nconst rootReducer = combineReducers({\n    conversations,\n    currentUser,\n    workspace,\n    cardStatistics,\n    billingDetails,\n    products,\n    subproducts,\n    collections,\n    invites,\n    websites,\n    templates,\n    feedback,\n    botEditor,\n    ui,\n    socket,\n});\n\nexport default rootReducer;\n","import produce from 'immer';\nimport api from '../../actions/api';\n\nimport card from './card';\nimport integrations from './integrations';\nimport team from './team';\nimport bots from './bots';\nimport replies from './replies';\nimport quantities from './quantities';\nimport crm from './crm';\n\nexport default function rootReducer(state = null, action) {\n    return produce(state, (draft) => {\n        switch (action.type) {\n            case api.workspaces.retrieve.successType:\n            case api.workspaces.create.successType:\n            case api.workspaces.update.successType:\n                return action.result;\n            case api.onboarding.update.successType:\n                draft.onboarding = action.result;\n                break;\n            default:\n                card(draft, action);\n                integrations(draft, action);\n                team(draft, action);\n                bots(draft, action);\n                replies(draft, action);\n                quantities(draft, action);\n                crm(draft, action);\n        }\n    });\n}\n","import '@redux-saga/symbols';\nimport '@babel/runtime/helpers/esm/extends';\nimport { channel, stringableFunc, func, notUndef } from '@redux-saga/is';\nimport { q as makeIterator, K as take, L as fork, M as cancel, N as call, O as actionChannel, Q as sliding, U as delay, V as race, c as check } from './io-427945dd.js';\nexport { O as actionChannel, _ as all, $ as apply, N as call, M as cancel, a4 as cancelled, a0 as cps, U as delay, W as effectTypes, a5 as flush, L as fork, a6 as getContext, a2 as join, Y as put, Z as putResolve, V as race, a3 as select, a7 as setContext, a1 as spawn, K as take, X as takeMaybe } from './io-427945dd.js';\nimport '@redux-saga/delay-p';\n\nvar done = function done(value) {\n  return {\n    done: true,\n    value: value\n  };\n};\n\nvar qEnd = {};\nfunction safeName(patternOrChannel) {\n  if (channel(patternOrChannel)) {\n    return 'channel';\n  }\n\n  if (stringableFunc(patternOrChannel)) {\n    return String(patternOrChannel);\n  }\n\n  if (func(patternOrChannel)) {\n    return patternOrChannel.name;\n  }\n\n  return String(patternOrChannel);\n}\nfunction fsmIterator(fsm, startState, name) {\n  var stateUpdater,\n      errorState,\n      effect,\n      nextState = startState;\n\n  function next(arg, error) {\n    if (nextState === qEnd) {\n      return done(arg);\n    }\n\n    if (error && !errorState) {\n      nextState = qEnd;\n      throw error;\n    } else {\n      stateUpdater && stateUpdater(arg);\n      var currentState = error ? fsm[errorState](error) : fsm[nextState]();\n      nextState = currentState.nextState;\n      effect = currentState.effect;\n      stateUpdater = currentState.stateUpdater;\n      errorState = currentState.errorState;\n      return nextState === qEnd ? done(arg) : effect;\n    }\n  }\n\n  return makeIterator(next, function (error) {\n    return next(null, error);\n  }, name);\n}\n\nfunction takeEvery(patternOrChannel, worker) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var yTake = {\n    done: false,\n    value: take(patternOrChannel)\n  };\n\n  var yFork = function yFork(ac) {\n    return {\n      done: false,\n      value: fork.apply(void 0, [worker].concat(args, [ac]))\n    };\n  };\n\n  var action,\n      setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yTake,\n        stateUpdater: setAction\n      };\n    },\n    q2: function q2() {\n      return {\n        nextState: 'q1',\n        effect: yFork(action)\n      };\n    }\n  }, 'q1', \"takeEvery(\" + safeName(patternOrChannel) + \", \" + worker.name + \")\");\n}\n\nfunction takeLatest(patternOrChannel, worker) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var yTake = {\n    done: false,\n    value: take(patternOrChannel)\n  };\n\n  var yFork = function yFork(ac) {\n    return {\n      done: false,\n      value: fork.apply(void 0, [worker].concat(args, [ac]))\n    };\n  };\n\n  var yCancel = function yCancel(task) {\n    return {\n      done: false,\n      value: cancel(task)\n    };\n  };\n\n  var task, action;\n\n  var setTask = function setTask(t) {\n    return task = t;\n  };\n\n  var setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yTake,\n        stateUpdater: setAction\n      };\n    },\n    q2: function q2() {\n      return task ? {\n        nextState: 'q3',\n        effect: yCancel(task)\n      } : {\n        nextState: 'q1',\n        effect: yFork(action),\n        stateUpdater: setTask\n      };\n    },\n    q3: function q3() {\n      return {\n        nextState: 'q1',\n        effect: yFork(action),\n        stateUpdater: setTask\n      };\n    }\n  }, 'q1', \"takeLatest(\" + safeName(patternOrChannel) + \", \" + worker.name + \")\");\n}\n\nfunction takeLeading(patternOrChannel, worker) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var yTake = {\n    done: false,\n    value: take(patternOrChannel)\n  };\n\n  var yCall = function yCall(ac) {\n    return {\n      done: false,\n      value: call.apply(void 0, [worker].concat(args, [ac]))\n    };\n  };\n\n  var action;\n\n  var setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yTake,\n        stateUpdater: setAction\n      };\n    },\n    q2: function q2() {\n      return {\n        nextState: 'q1',\n        effect: yCall(action)\n      };\n    }\n  }, 'q1', \"takeLeading(\" + safeName(patternOrChannel) + \", \" + worker.name + \")\");\n}\n\nfunction throttle(delayLength, pattern, worker) {\n  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    args[_key - 3] = arguments[_key];\n  }\n\n  var action, channel;\n  var yActionChannel = {\n    done: false,\n    value: actionChannel(pattern, sliding(1))\n  };\n\n  var yTake = function yTake() {\n    return {\n      done: false,\n      value: take(channel)\n    };\n  };\n\n  var yFork = function yFork(ac) {\n    return {\n      done: false,\n      value: fork.apply(void 0, [worker].concat(args, [ac]))\n    };\n  };\n\n  var yDelay = {\n    done: false,\n    value: delay(delayLength)\n  };\n\n  var setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  var setChannel = function setChannel(ch) {\n    return channel = ch;\n  };\n\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yActionChannel,\n        stateUpdater: setChannel\n      };\n    },\n    q2: function q2() {\n      return {\n        nextState: 'q3',\n        effect: yTake(),\n        stateUpdater: setAction\n      };\n    },\n    q3: function q3() {\n      return {\n        nextState: 'q4',\n        effect: yFork(action)\n      };\n    },\n    q4: function q4() {\n      return {\n        nextState: 'q2',\n        effect: yDelay\n      };\n    }\n  }, 'q1', \"throttle(\" + safeName(pattern) + \", \" + worker.name + \")\");\n}\n\nfunction retry(maxTries, delayLength, fn) {\n  var counter = maxTries;\n\n  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    args[_key - 3] = arguments[_key];\n  }\n\n  var yCall = {\n    done: false,\n    value: call.apply(void 0, [fn].concat(args))\n  };\n  var yDelay = {\n    done: false,\n    value: delay(delayLength)\n  };\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yCall,\n        errorState: 'q10'\n      };\n    },\n    q2: function q2() {\n      return {\n        nextState: qEnd\n      };\n    },\n    q10: function q10(error) {\n      counter -= 1;\n\n      if (counter <= 0) {\n        throw error;\n      }\n\n      return {\n        nextState: 'q1',\n        effect: yDelay\n      };\n    }\n  }, 'q1', \"retry(\" + fn.name + \")\");\n}\n\nfunction debounceHelper(delayLength, patternOrChannel, worker) {\n  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    args[_key - 3] = arguments[_key];\n  }\n\n  var action, raceOutput;\n  var yTake = {\n    done: false,\n    value: take(patternOrChannel)\n  };\n  var yRace = {\n    done: false,\n    value: race({\n      action: take(patternOrChannel),\n      debounce: delay(delayLength)\n    })\n  };\n\n  var yFork = function yFork(ac) {\n    return {\n      done: false,\n      value: fork.apply(void 0, [worker].concat(args, [ac]))\n    };\n  };\n\n  var yNoop = function yNoop(value) {\n    return {\n      done: false,\n      value: value\n    };\n  };\n\n  var setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  var setRaceOutput = function setRaceOutput(ro) {\n    return raceOutput = ro;\n  };\n\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yTake,\n        stateUpdater: setAction\n      };\n    },\n    q2: function q2() {\n      return {\n        nextState: 'q3',\n        effect: yRace,\n        stateUpdater: setRaceOutput\n      };\n    },\n    q3: function q3() {\n      return raceOutput.debounce ? {\n        nextState: 'q1',\n        effect: yFork(action)\n      } : {\n        nextState: 'q2',\n        effect: yNoop(raceOutput.action),\n        stateUpdater: setAction\n      };\n    }\n  }, 'q1', \"debounce(\" + safeName(patternOrChannel) + \", \" + worker.name + \")\");\n}\n\nvar validateTakeEffect = function validateTakeEffect(fn, patternOrChannel, worker) {\n  check(patternOrChannel, notUndef, fn.name + \" requires a pattern or channel\");\n  check(worker, notUndef, fn.name + \" requires a saga parameter\");\n};\n\nfunction takeEvery$1(patternOrChannel, worker) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateTakeEffect(takeEvery$1, patternOrChannel, worker);\n  }\n\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  return fork.apply(void 0, [takeEvery, patternOrChannel, worker].concat(args));\n}\nfunction takeLatest$1(patternOrChannel, worker) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateTakeEffect(takeLatest$1, patternOrChannel, worker);\n  }\n\n  for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n    args[_key2 - 2] = arguments[_key2];\n  }\n\n  return fork.apply(void 0, [takeLatest, patternOrChannel, worker].concat(args));\n}\nfunction takeLeading$1(patternOrChannel, worker) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateTakeEffect(takeLeading$1, patternOrChannel, worker);\n  }\n\n  for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n    args[_key3 - 2] = arguments[_key3];\n  }\n\n  return fork.apply(void 0, [takeLeading, patternOrChannel, worker].concat(args));\n}\nfunction throttle$1(ms, pattern, worker) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(pattern, notUndef, 'throttle requires a pattern');\n    check(worker, notUndef, 'throttle requires a saga parameter');\n  }\n\n  for (var _len4 = arguments.length, args = new Array(_len4 > 3 ? _len4 - 3 : 0), _key4 = 3; _key4 < _len4; _key4++) {\n    args[_key4 - 3] = arguments[_key4];\n  }\n\n  return fork.apply(void 0, [throttle, ms, pattern, worker].concat(args));\n}\nfunction retry$1(maxTries, delayLength, worker) {\n  for (var _len5 = arguments.length, args = new Array(_len5 > 3 ? _len5 - 3 : 0), _key5 = 3; _key5 < _len5; _key5++) {\n    args[_key5 - 3] = arguments[_key5];\n  }\n\n  return call.apply(void 0, [retry, maxTries, delayLength, worker].concat(args));\n}\nfunction debounce(delayLength, pattern, worker) {\n  for (var _len6 = arguments.length, args = new Array(_len6 > 3 ? _len6 - 3 : 0), _key6 = 3; _key6 < _len6; _key6++) {\n    args[_key6 - 3] = arguments[_key6];\n  }\n\n  return fork.apply(void 0, [debounceHelper, delayLength, pattern, worker].concat(args));\n}\n\nexport { debounce, retry$1 as retry, takeEvery$1 as takeEvery, takeLatest$1 as takeLatest, takeLeading$1 as takeLeading, throttle$1 as throttle };\n","import store from 'store2';\nimport { put, takeLatest, select, debounce, call } from 'redux-saga/effects';\nimport { api, ui } from '../actions';\nimport { history } from '@mssgme/services';\n\n/**\n * @yields {any}\n */\nfunction* updateStatistics() {\n    const state = yield select();\n    const { status } = state.ui.conversationsFilter;\n    yield put(api.conversations.statistics({ query: { status } }));\n}\n\n/**\n * @yields {any}\n */\nfunction* handleFilterChange() {\n    const state = yield select();\n    yield call([store, 'set'], 'conversationsFilter', state.ui.conversationsFilter);\n    yield put(api.conversations.filterList());\n}\n\n/**\n * @yields {any}\n */\nfunction* updateUnread() {\n    yield put(api.conversations.unread());\n}\n\n/**\n * @param {{ result: { website: string }}} action\n * @yields {any}\n */\nfunction* updateRecentFeedback({ result }) {\n    yield put(api.feedbacks.recent({ websiteId: result.website }));\n}\n\n/**\n * @yields {any}\n */\nfunction* changeFilter() {\n    yield put(\n        ui.setConversationsFilter({\n            assign: 'all',\n            status: 'open',\n            searchValue: '',\n            showNewFirst: true,\n        })\n    );\n}\n\nfunction* getCollections() {\n    yield put(api.collections.list());\n}\n\nfunction* updateSentryContext() {\n    const state = yield select();\n    const { user } = state.currentUser;\n    if (user) {\n        window.Sentry.setUser({\n            email: user.email,\n            oid: user._id,\n        });\n    }\n}\n\nfunction* changeStatus(action) {\n    // yield put(ui.setConversationsFilter({ status: action.status }));\n    if (window.matchMedia('(max-width: 767px)').matches) {\n        yield call(history.push, '/i');\n    } else {\n        const { conversations } = yield select();\n        const items = conversations.list.ids\n            .map((i) => conversations.list.byContactId[i])\n            .filter((i) => i.status !== action.status && i.contact._id !== action.contactId);\n        yield call(history.push, items.length > 0 ? `/i/${items[0].contact._id}` : '/i');\n    }\n}\n\nfunction* fetchWorkspace(action) {\n    yield put(api.workspaces.retrieve());\n}\n\nfunction* fetchConversation(action) {\n    yield put(ui.setConversationsFilter({ status: 'open' }));\n    yield put(api.conversations.retrieve({ contactId: action.contactId }));\n}\n\nfunction* fetchBilling() {\n    yield put(api.workspaces.retrieve());\n    yield put(api.billing.details());\n\n    if (history.location.pathname.startsWith('/billing/')) {\n        yield call(history.push, '/billing');\n    } else if (history.location.pathname.startsWith('/s/billing/')) {\n        // for support legacy app\n        yield call(history.push, '/s/billing');\n    }\n}\n\n/**\n * @yields {any}\n */\nfunction* updateUiFlags() {\n    const state = yield select();\n    yield call([store, 'set'], 'advancedStylingMode', state.ui.isAdvancedStylingMode);\n}\n\n/**\n * @yields {any}\n */\nexport default function* rootSaga() {\n    if (window.Sentry) {\n        yield debounce(1000, '*', updateSentryContext);\n    }\n    yield debounce(\n        100,\n        [\n            api.conversations.assign.success,\n            api.conversations.assignMe.success,\n            api.conversations.changeStatus.success,\n            api.listenCreateConversation.type,\n            api.listenUpdateConversation.type,\n            ui.setConversationsFilter,\n        ],\n        updateStatistics\n    );\n    yield takeLatest(api.conversations.assignMe.success, changeFilter);\n    yield takeLatest(ui.setConversationsFilter, handleFilterChange);\n    yield takeLatest(ui.toggleStylingMode, updateUiFlags);\n    yield takeLatest(\n        [api.listenCreateConversation.type, api.listenUpdateConversation.type, api.workspaces.my],\n        updateUnread\n    );\n    yield takeLatest(\n        [\n            api.feedbacks.update.success,\n            api.feedbacks.delete.success,\n            api.feedbacks.create.success,\n            api.listenCreateFeedback.type,\n            api.listenUpdateFeedback.type,\n        ],\n        updateRecentFeedback\n    );\n    yield takeLatest(\n        [\n            api.products.create.success,\n            api.products.update.success,\n            api.products.delete.success,\n            api.websites.create.success,\n            api.websites.scaffold.success,\n            api.websites.delete.success,\n            api.collections.products.update.success,\n            api.blocks.convert.success,\n        ],\n        getCollections\n    );\n    yield takeLatest(\n        [\n            api.billing.update.success,\n            api.billing.subscription.cancel.success,\n            api.billing.changeCreditCard.success,\n            api.listenSubscriptionCreated.type,\n            api.listenSubscriptionUpdated.type,\n            api.listenSubscriptionCancelled.type,\n            api.listenPaymentSucceeded.type,\n            api.listenPaymentRetryFailed.type,\n            api.listenHighRiskTransactionUpdated.type,\n        ],\n        fetchBilling\n    );\n    yield takeLatest(api.conversations.changeStatus.success, changeStatus);\n    yield takeLatest([api.integrations.create.success, api.integrations.delete.success], fetchWorkspace);\n    yield takeLatest(\n        [api.conversations.sendMessage.success, api.conversations.sendAttachment.success],\n        fetchConversation\n    );\n}\n","import { createMiddleware } from 'redux-beacon';\nimport GoogleTagManager from '@redux-beacon/google-tag-manager';\nimport { omit } from 'lodash';\nimport { api, checkout } from '../actions';\n\nconst eventsMap = {\n    [api.auth.login.successType]: () => ({\n        event: 'login',\n        method: 'email',\n    }),\n    [api.users.create.successType]: () => ({\n        event: 'sign_up',\n        method: 'email',\n    }),\n    [api.users.create.failureType]: (action) => ({\n        event: 'Sign up error',\n        error: omit(action.error, ['stack', 'json']),\n    }),\n    [api.websites.update.successType]: (action, prevState, nextState) => {\n        if (\n            !prevState.websites.find((website) => website.slug === action.payload.slug)?.enabled &&\n            action.payload.enabled\n        ) {\n            return {\n                event: 'website_published',\n            };\n        }\n    },\n    [api.listenSubscriptionCreated.type]: (action) => ({\n        event: 'subscription_created',\n        ...action.payload,\n    }),\n    [api.listenSubscriptionCancelled.type]: () => ({\n        event: 'subscription_cancelled',\n    }),\n    [api.users.me.successType]: (action) => ({\n        event: 'account_load',\n        userId: action.result._id,\n        email: action.result.email,\n    }),\n    [api.workspaces.retrieve.successType]: (action) => ({\n        event: 'workspace_load',\n        workspaceId: action.result._id,\n        plan: action.result.billing.plan,\n    }),\n    [checkout.applyCoupon.type]: (action) => ({\n        event: 'checkout.applyCoupon',\n        coupon: action.payload.coupon,\n    }),\n    [checkout.changeCountry.type]: (action) => ({\n        event: 'checkout.changeCountry',\n        country: action.payload.country,\n    }),\n    [checkout.close.type]: () => ({\n        event: 'checkout.close',\n    }),\n    [checkout.complete.type]: () => ({\n        event: 'checkout.complete',\n    }),\n    [checkout.completePayment.type]: () => ({\n        event: 'checkout.completePayment',\n    }),\n    [checkout.load.type]: () => ({\n        event: 'checkout.load',\n    }),\n    [checkout.error.type]: (action) => ({\n        event: 'checkout.error',\n        error: action.payload.error,\n    }),\n    [checkout.selectPaymentMethod.type]: (action) => ({\n        event: 'checkout.selectPaymentMethod',\n        paymentMethod: action.payload.payment_method,\n    }),\n    '*': (action) => ({\n        event: 'reduxAction',\n        type: action.type,\n    }),\n};\n\nconst gtm = GoogleTagManager();\nconst logger = process.env.NODE_ENV === 'development' ? require('@redux-beacon/logger').default : null;\n\nexport const gtmMiddleware = createMiddleware(eventsMap, gtm, { logger });\n","import thunk from 'redux-thunk';\nimport createSagaMiddleware from 'redux-saga';\nimport crashReport from './middleware/crashReport';\nimport rootReducer from './reducers';\nimport rootSaga from './sagas';\nimport { gtmMiddleware } from './features/gtm';\nimport config from 'config';\n\nconst ENABLE_ANALYTICS = !!window.dataLayer;\n\nlet configureStore;\n\nif (process.env.NODE_ENV === 'production') {\n    configureStore = require('./configureStore.prod').default;\n} else {\n    configureStore = require('./configureStore.dev').default;\n}\n\nconst sagaMiddleware = createSagaMiddleware();\nconst extraMiddleware = [];\n\nif (ENABLE_ANALYTICS) {\n    extraMiddleware.push(gtmMiddleware);\n}\n\nif (process.env.OPEN_REPLAY_ENABLED) {\n    const { OpenReplay } = require('./features/open-replay');\n    if (config.open_replay_project_key) {\n        const { openReplayMiddleware, openReplayEventsTrackerMiddleware } = OpenReplay({\n            projectKey: config.open_replay_project_key,\n        });\n        extraMiddleware.push(openReplayMiddleware, openReplayEventsTrackerMiddleware);\n    }\n}\n\nexport default (preloadedState) => {\n    const store = configureStore(rootReducer, preloadedState, [thunk, sagaMiddleware, ...extraMiddleware, crashReport]);\n    sagaMiddleware.run(rootSaga);\n    return store;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"_3d4yF9Ki\",\"contentContainer\":\"_2Xg7Rygs\",\"content\":\"R6TtxvQL\",\"header\":\"Y1yyw3at\",\"logo\":\"_1fVGoKPJ\",\"pane\":\"_22xKANAl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"_1fMhHyeB\",\"footer\":\"_1vB-oemn\"};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getEventsWithMatchingKey(eventsMap, actionType) {\n    var objectKeys = Object.keys(eventsMap);\n    var symbolKeys = Object.getOwnPropertySymbols\n        ? Object.getOwnPropertySymbols(eventsMap)\n        : [];\n    return objectKeys.concat(symbolKeys).filter(function (key) { return key === '*' || key === actionType; })\n        .map(function (matchingKey) { return eventsMap[matchingKey]; });\n}\nexports.default = getEventsWithMatchingKey;\n","import { createBrowserHistory } from 'history';\nimport navigationBlocker from './navigationBlocker';\n\nconst getConfirmation = (messageOrUID, callback) => {\n    if (!navigationBlocker.notify(messageOrUID, callback)) {\n        callback(\n            true\n            // window.confirm(messageOrUID)\n        );\n    }\n};\n\nconst history = createBrowserHistory({ getUserConfirmation: getConfirmation });\n\nexport default history;\n","function bindNew(Class) {\n    function _Class(...args) {\n        return new Class(...args);\n    }\n    _Class.prototype = Class.prototype;\n    return _Class;\n}\nexport const classes = new Map();\nclass _BatchMeta {\n    constructor(pageNo, firstIndex, timestamp) {\n        this.pageNo = pageNo;\n        this.firstIndex = firstIndex;\n        this.timestamp = timestamp;\n        this._id = 80;\n    }\n    encode(writer) {\n        return writer.uint(80) &&\n            writer.uint(this.pageNo) &&\n            writer.uint(this.firstIndex) &&\n            writer.int(this.timestamp);\n    }\n}\nexport const BatchMeta = bindNew(_BatchMeta);\nclasses.set(80, BatchMeta);\nclass _Timestamp {\n    constructor(timestamp) {\n        this.timestamp = timestamp;\n        this._id = 0;\n    }\n    encode(writer) {\n        return writer.uint(0) &&\n            writer.uint(this.timestamp);\n    }\n}\nexport const Timestamp = bindNew(_Timestamp);\nclasses.set(0, Timestamp);\nclass _SetPageLocation {\n    constructor(url, referrer, navigationStart) {\n        this.url = url;\n        this.referrer = referrer;\n        this.navigationStart = navigationStart;\n        this._id = 4;\n    }\n    encode(writer) {\n        return writer.uint(4) &&\n            writer.string(this.url) &&\n            writer.string(this.referrer) &&\n            writer.uint(this.navigationStart);\n    }\n}\nexport const SetPageLocation = bindNew(_SetPageLocation);\nclasses.set(4, SetPageLocation);\nclass _SetViewportSize {\n    constructor(width, height) {\n        this.width = width;\n        this.height = height;\n        this._id = 5;\n    }\n    encode(writer) {\n        return writer.uint(5) &&\n            writer.uint(this.width) &&\n            writer.uint(this.height);\n    }\n}\nexport const SetViewportSize = bindNew(_SetViewportSize);\nclasses.set(5, SetViewportSize);\nclass _SetViewportScroll {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n        this._id = 6;\n    }\n    encode(writer) {\n        return writer.uint(6) &&\n            writer.int(this.x) &&\n            writer.int(this.y);\n    }\n}\nexport const SetViewportScroll = bindNew(_SetViewportScroll);\nclasses.set(6, SetViewportScroll);\nclass _CreateDocument {\n    constructor() {\n        this._id = 7;\n    }\n    encode(writer) {\n        return writer.uint(7);\n    }\n}\nexport const CreateDocument = bindNew(_CreateDocument);\nclasses.set(7, CreateDocument);\nclass _CreateElementNode {\n    constructor(id, parentID, index, tag, svg) {\n        this.id = id;\n        this.parentID = parentID;\n        this.index = index;\n        this.tag = tag;\n        this.svg = svg;\n        this._id = 8;\n    }\n    encode(writer) {\n        return writer.uint(8) &&\n            writer.uint(this.id) &&\n            writer.uint(this.parentID) &&\n            writer.uint(this.index) &&\n            writer.string(this.tag) &&\n            writer.boolean(this.svg);\n    }\n}\nexport const CreateElementNode = bindNew(_CreateElementNode);\nclasses.set(8, CreateElementNode);\nclass _CreateTextNode {\n    constructor(id, parentID, index) {\n        this.id = id;\n        this.parentID = parentID;\n        this.index = index;\n        this._id = 9;\n    }\n    encode(writer) {\n        return writer.uint(9) &&\n            writer.uint(this.id) &&\n            writer.uint(this.parentID) &&\n            writer.uint(this.index);\n    }\n}\nexport const CreateTextNode = bindNew(_CreateTextNode);\nclasses.set(9, CreateTextNode);\nclass _MoveNode {\n    constructor(id, parentID, index) {\n        this.id = id;\n        this.parentID = parentID;\n        this.index = index;\n        this._id = 10;\n    }\n    encode(writer) {\n        return writer.uint(10) &&\n            writer.uint(this.id) &&\n            writer.uint(this.parentID) &&\n            writer.uint(this.index);\n    }\n}\nexport const MoveNode = bindNew(_MoveNode);\nclasses.set(10, MoveNode);\nclass _RemoveNode {\n    constructor(id) {\n        this.id = id;\n        this._id = 11;\n    }\n    encode(writer) {\n        return writer.uint(11) &&\n            writer.uint(this.id);\n    }\n}\nexport const RemoveNode = bindNew(_RemoveNode);\nclasses.set(11, RemoveNode);\nclass _SetNodeAttribute {\n    constructor(id, name, value) {\n        this.id = id;\n        this.name = name;\n        this.value = value;\n        this._id = 12;\n    }\n    encode(writer) {\n        return writer.uint(12) &&\n            writer.uint(this.id) &&\n            writer.string(this.name) &&\n            writer.string(this.value);\n    }\n}\nexport const SetNodeAttribute = bindNew(_SetNodeAttribute);\nclasses.set(12, SetNodeAttribute);\nclass _RemoveNodeAttribute {\n    constructor(id, name) {\n        this.id = id;\n        this.name = name;\n        this._id = 13;\n    }\n    encode(writer) {\n        return writer.uint(13) &&\n            writer.uint(this.id) &&\n            writer.string(this.name);\n    }\n}\nexport const RemoveNodeAttribute = bindNew(_RemoveNodeAttribute);\nclasses.set(13, RemoveNodeAttribute);\nclass _SetNodeData {\n    constructor(id, data) {\n        this.id = id;\n        this.data = data;\n        this._id = 14;\n    }\n    encode(writer) {\n        return writer.uint(14) &&\n            writer.uint(this.id) &&\n            writer.string(this.data);\n    }\n}\nexport const SetNodeData = bindNew(_SetNodeData);\nclasses.set(14, SetNodeData);\nclass _SetNodeScroll {\n    constructor(id, x, y) {\n        this.id = id;\n        this.x = x;\n        this.y = y;\n        this._id = 16;\n    }\n    encode(writer) {\n        return writer.uint(16) &&\n            writer.uint(this.id) &&\n            writer.int(this.x) &&\n            writer.int(this.y);\n    }\n}\nexport const SetNodeScroll = bindNew(_SetNodeScroll);\nclasses.set(16, SetNodeScroll);\nclass _SetInputTarget {\n    constructor(id, label) {\n        this.id = id;\n        this.label = label;\n        this._id = 17;\n    }\n    encode(writer) {\n        return writer.uint(17) &&\n            writer.uint(this.id) &&\n            writer.string(this.label);\n    }\n}\nexport const SetInputTarget = bindNew(_SetInputTarget);\nclasses.set(17, SetInputTarget);\nclass _SetInputValue {\n    constructor(id, value, mask) {\n        this.id = id;\n        this.value = value;\n        this.mask = mask;\n        this._id = 18;\n    }\n    encode(writer) {\n        return writer.uint(18) &&\n            writer.uint(this.id) &&\n            writer.string(this.value) &&\n            writer.int(this.mask);\n    }\n}\nexport const SetInputValue = bindNew(_SetInputValue);\nclasses.set(18, SetInputValue);\nclass _SetInputChecked {\n    constructor(id, checked) {\n        this.id = id;\n        this.checked = checked;\n        this._id = 19;\n    }\n    encode(writer) {\n        return writer.uint(19) &&\n            writer.uint(this.id) &&\n            writer.boolean(this.checked);\n    }\n}\nexport const SetInputChecked = bindNew(_SetInputChecked);\nclasses.set(19, SetInputChecked);\nclass _MouseMove {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n        this._id = 20;\n    }\n    encode(writer) {\n        return writer.uint(20) &&\n            writer.uint(this.x) &&\n            writer.uint(this.y);\n    }\n}\nexport const MouseMove = bindNew(_MouseMove);\nclasses.set(20, MouseMove);\nclass _ConsoleLog {\n    constructor(level, value) {\n        this.level = level;\n        this.value = value;\n        this._id = 22;\n    }\n    encode(writer) {\n        return writer.uint(22) &&\n            writer.string(this.level) &&\n            writer.string(this.value);\n    }\n}\nexport const ConsoleLog = bindNew(_ConsoleLog);\nclasses.set(22, ConsoleLog);\nclass _PageLoadTiming {\n    constructor(requestStart, responseStart, responseEnd, domContentLoadedEventStart, domContentLoadedEventEnd, loadEventStart, loadEventEnd, firstPaint, firstContentfulPaint) {\n        this.requestStart = requestStart;\n        this.responseStart = responseStart;\n        this.responseEnd = responseEnd;\n        this.domContentLoadedEventStart = domContentLoadedEventStart;\n        this.domContentLoadedEventEnd = domContentLoadedEventEnd;\n        this.loadEventStart = loadEventStart;\n        this.loadEventEnd = loadEventEnd;\n        this.firstPaint = firstPaint;\n        this.firstContentfulPaint = firstContentfulPaint;\n        this._id = 23;\n    }\n    encode(writer) {\n        return writer.uint(23) &&\n            writer.uint(this.requestStart) &&\n            writer.uint(this.responseStart) &&\n            writer.uint(this.responseEnd) &&\n            writer.uint(this.domContentLoadedEventStart) &&\n            writer.uint(this.domContentLoadedEventEnd) &&\n            writer.uint(this.loadEventStart) &&\n            writer.uint(this.loadEventEnd) &&\n            writer.uint(this.firstPaint) &&\n            writer.uint(this.firstContentfulPaint);\n    }\n}\nexport const PageLoadTiming = bindNew(_PageLoadTiming);\nclasses.set(23, PageLoadTiming);\nclass _PageRenderTiming {\n    constructor(speedIndex, visuallyComplete, timeToInteractive) {\n        this.speedIndex = speedIndex;\n        this.visuallyComplete = visuallyComplete;\n        this.timeToInteractive = timeToInteractive;\n        this._id = 24;\n    }\n    encode(writer) {\n        return writer.uint(24) &&\n            writer.uint(this.speedIndex) &&\n            writer.uint(this.visuallyComplete) &&\n            writer.uint(this.timeToInteractive);\n    }\n}\nexport const PageRenderTiming = bindNew(_PageRenderTiming);\nclasses.set(24, PageRenderTiming);\nclass _JSException {\n    constructor(name, message, payload) {\n        this.name = name;\n        this.message = message;\n        this.payload = payload;\n        this._id = 25;\n    }\n    encode(writer) {\n        return writer.uint(25) &&\n            writer.string(this.name) &&\n            writer.string(this.message) &&\n            writer.string(this.payload);\n    }\n}\nexport const JSException = bindNew(_JSException);\nclasses.set(25, JSException);\nclass _RawCustomEvent {\n    constructor(name, payload) {\n        this.name = name;\n        this.payload = payload;\n        this._id = 27;\n    }\n    encode(writer) {\n        return writer.uint(27) &&\n            writer.string(this.name) &&\n            writer.string(this.payload);\n    }\n}\nexport const RawCustomEvent = bindNew(_RawCustomEvent);\nclasses.set(27, RawCustomEvent);\nclass _UserID {\n    constructor(id) {\n        this.id = id;\n        this._id = 28;\n    }\n    encode(writer) {\n        return writer.uint(28) &&\n            writer.string(this.id);\n    }\n}\nexport const UserID = bindNew(_UserID);\nclasses.set(28, UserID);\nclass _UserAnonymousID {\n    constructor(id) {\n        this.id = id;\n        this._id = 29;\n    }\n    encode(writer) {\n        return writer.uint(29) &&\n            writer.string(this.id);\n    }\n}\nexport const UserAnonymousID = bindNew(_UserAnonymousID);\nclasses.set(29, UserAnonymousID);\nclass _Metadata {\n    constructor(key, value) {\n        this.key = key;\n        this.value = value;\n        this._id = 30;\n    }\n    encode(writer) {\n        return writer.uint(30) &&\n            writer.string(this.key) &&\n            writer.string(this.value);\n    }\n}\nexport const Metadata = bindNew(_Metadata);\nclasses.set(30, Metadata);\nclass _CSSInsertRule {\n    constructor(id, rule, index) {\n        this.id = id;\n        this.rule = rule;\n        this.index = index;\n        this._id = 37;\n    }\n    encode(writer) {\n        return writer.uint(37) &&\n            writer.uint(this.id) &&\n            writer.string(this.rule) &&\n            writer.uint(this.index);\n    }\n}\nexport const CSSInsertRule = bindNew(_CSSInsertRule);\nclasses.set(37, CSSInsertRule);\nclass _CSSDeleteRule {\n    constructor(id, index) {\n        this.id = id;\n        this.index = index;\n        this._id = 38;\n    }\n    encode(writer) {\n        return writer.uint(38) &&\n            writer.uint(this.id) &&\n            writer.uint(this.index);\n    }\n}\nexport const CSSDeleteRule = bindNew(_CSSDeleteRule);\nclasses.set(38, CSSDeleteRule);\nclass _Fetch {\n    constructor(method, url, request, response, status, timestamp, duration) {\n        this.method = method;\n        this.url = url;\n        this.request = request;\n        this.response = response;\n        this.status = status;\n        this.timestamp = timestamp;\n        this.duration = duration;\n        this._id = 39;\n    }\n    encode(writer) {\n        return writer.uint(39) &&\n            writer.string(this.method) &&\n            writer.string(this.url) &&\n            writer.string(this.request) &&\n            writer.string(this.response) &&\n            writer.uint(this.status) &&\n            writer.uint(this.timestamp) &&\n            writer.uint(this.duration);\n    }\n}\nexport const Fetch = bindNew(_Fetch);\nclasses.set(39, Fetch);\nclass _Profiler {\n    constructor(name, duration, args, result) {\n        this.name = name;\n        this.duration = duration;\n        this.args = args;\n        this.result = result;\n        this._id = 40;\n    }\n    encode(writer) {\n        return writer.uint(40) &&\n            writer.string(this.name) &&\n            writer.uint(this.duration) &&\n            writer.string(this.args) &&\n            writer.string(this.result);\n    }\n}\nexport const Profiler = bindNew(_Profiler);\nclasses.set(40, Profiler);\nclass _OTable {\n    constructor(key, value) {\n        this.key = key;\n        this.value = value;\n        this._id = 41;\n    }\n    encode(writer) {\n        return writer.uint(41) &&\n            writer.string(this.key) &&\n            writer.string(this.value);\n    }\n}\nexport const OTable = bindNew(_OTable);\nclasses.set(41, OTable);\nclass _StateAction {\n    constructor(type) {\n        this.type = type;\n        this._id = 42;\n    }\n    encode(writer) {\n        return writer.uint(42) &&\n            writer.string(this.type);\n    }\n}\nexport const StateAction = bindNew(_StateAction);\nclasses.set(42, StateAction);\nclass _Redux {\n    constructor(action, state, duration) {\n        this.action = action;\n        this.state = state;\n        this.duration = duration;\n        this._id = 44;\n    }\n    encode(writer) {\n        return writer.uint(44) &&\n            writer.string(this.action) &&\n            writer.string(this.state) &&\n            writer.uint(this.duration);\n    }\n}\nexport const Redux = bindNew(_Redux);\nclasses.set(44, Redux);\nclass _Vuex {\n    constructor(mutation, state) {\n        this.mutation = mutation;\n        this.state = state;\n        this._id = 45;\n    }\n    encode(writer) {\n        return writer.uint(45) &&\n            writer.string(this.mutation) &&\n            writer.string(this.state);\n    }\n}\nexport const Vuex = bindNew(_Vuex);\nclasses.set(45, Vuex);\nclass _MobX {\n    constructor(type, payload) {\n        this.type = type;\n        this.payload = payload;\n        this._id = 46;\n    }\n    encode(writer) {\n        return writer.uint(46) &&\n            writer.string(this.type) &&\n            writer.string(this.payload);\n    }\n}\nexport const MobX = bindNew(_MobX);\nclasses.set(46, MobX);\nclass _NgRx {\n    constructor(action, state, duration) {\n        this.action = action;\n        this.state = state;\n        this.duration = duration;\n        this._id = 47;\n    }\n    encode(writer) {\n        return writer.uint(47) &&\n            writer.string(this.action) &&\n            writer.string(this.state) &&\n            writer.uint(this.duration);\n    }\n}\nexport const NgRx = bindNew(_NgRx);\nclasses.set(47, NgRx);\nclass _GraphQL {\n    constructor(operationKind, operationName, variables, response) {\n        this.operationKind = operationKind;\n        this.operationName = operationName;\n        this.variables = variables;\n        this.response = response;\n        this._id = 48;\n    }\n    encode(writer) {\n        return writer.uint(48) &&\n            writer.string(this.operationKind) &&\n            writer.string(this.operationName) &&\n            writer.string(this.variables) &&\n            writer.string(this.response);\n    }\n}\nexport const GraphQL = bindNew(_GraphQL);\nclasses.set(48, GraphQL);\nclass _PerformanceTrack {\n    constructor(frames, ticks, totalJSHeapSize, usedJSHeapSize) {\n        this.frames = frames;\n        this.ticks = ticks;\n        this.totalJSHeapSize = totalJSHeapSize;\n        this.usedJSHeapSize = usedJSHeapSize;\n        this._id = 49;\n    }\n    encode(writer) {\n        return writer.uint(49) &&\n            writer.int(this.frames) &&\n            writer.int(this.ticks) &&\n            writer.uint(this.totalJSHeapSize) &&\n            writer.uint(this.usedJSHeapSize);\n    }\n}\nexport const PerformanceTrack = bindNew(_PerformanceTrack);\nclasses.set(49, PerformanceTrack);\nclass _ResourceTiming {\n    constructor(timestamp, duration, ttfb, headerSize, encodedBodySize, decodedBodySize, url, initiator) {\n        this.timestamp = timestamp;\n        this.duration = duration;\n        this.ttfb = ttfb;\n        this.headerSize = headerSize;\n        this.encodedBodySize = encodedBodySize;\n        this.decodedBodySize = decodedBodySize;\n        this.url = url;\n        this.initiator = initiator;\n        this._id = 53;\n    }\n    encode(writer) {\n        return writer.uint(53) &&\n            writer.uint(this.timestamp) &&\n            writer.uint(this.duration) &&\n            writer.uint(this.ttfb) &&\n            writer.uint(this.headerSize) &&\n            writer.uint(this.encodedBodySize) &&\n            writer.uint(this.decodedBodySize) &&\n            writer.string(this.url) &&\n            writer.string(this.initiator);\n    }\n}\nexport const ResourceTiming = bindNew(_ResourceTiming);\nclasses.set(53, ResourceTiming);\nclass _ConnectionInformation {\n    constructor(downlink, type) {\n        this.downlink = downlink;\n        this.type = type;\n        this._id = 54;\n    }\n    encode(writer) {\n        return writer.uint(54) &&\n            writer.uint(this.downlink) &&\n            writer.string(this.type);\n    }\n}\nexport const ConnectionInformation = bindNew(_ConnectionInformation);\nclasses.set(54, ConnectionInformation);\nclass _SetPageVisibility {\n    constructor(hidden) {\n        this.hidden = hidden;\n        this._id = 55;\n    }\n    encode(writer) {\n        return writer.uint(55) &&\n            writer.boolean(this.hidden);\n    }\n}\nexport const SetPageVisibility = bindNew(_SetPageVisibility);\nclasses.set(55, SetPageVisibility);\nclass _LongTask {\n    constructor(timestamp, duration, context, containerType, containerSrc, containerId, containerName) {\n        this.timestamp = timestamp;\n        this.duration = duration;\n        this.context = context;\n        this.containerType = containerType;\n        this.containerSrc = containerSrc;\n        this.containerId = containerId;\n        this.containerName = containerName;\n        this._id = 59;\n    }\n    encode(writer) {\n        return writer.uint(59) &&\n            writer.uint(this.timestamp) &&\n            writer.uint(this.duration) &&\n            writer.uint(this.context) &&\n            writer.uint(this.containerType) &&\n            writer.string(this.containerSrc) &&\n            writer.string(this.containerId) &&\n            writer.string(this.containerName);\n    }\n}\nexport const LongTask = bindNew(_LongTask);\nclasses.set(59, LongTask);\nclass _SetNodeAttributeURLBased {\n    constructor(id, name, value, baseURL) {\n        this.id = id;\n        this.name = name;\n        this.value = value;\n        this.baseURL = baseURL;\n        this._id = 60;\n    }\n    encode(writer) {\n        return writer.uint(60) &&\n            writer.uint(this.id) &&\n            writer.string(this.name) &&\n            writer.string(this.value) &&\n            writer.string(this.baseURL);\n    }\n}\nexport const SetNodeAttributeURLBased = bindNew(_SetNodeAttributeURLBased);\nclasses.set(60, SetNodeAttributeURLBased);\nclass _SetCSSDataURLBased {\n    constructor(id, data, baseURL) {\n        this.id = id;\n        this.data = data;\n        this.baseURL = baseURL;\n        this._id = 61;\n    }\n    encode(writer) {\n        return writer.uint(61) &&\n            writer.uint(this.id) &&\n            writer.string(this.data) &&\n            writer.string(this.baseURL);\n    }\n}\nexport const SetCSSDataURLBased = bindNew(_SetCSSDataURLBased);\nclasses.set(61, SetCSSDataURLBased);\nclass _TechnicalInfo {\n    constructor(type, value) {\n        this.type = type;\n        this.value = value;\n        this._id = 63;\n    }\n    encode(writer) {\n        return writer.uint(63) &&\n            writer.string(this.type) &&\n            writer.string(this.value);\n    }\n}\nexport const TechnicalInfo = bindNew(_TechnicalInfo);\nclasses.set(63, TechnicalInfo);\nclass _CustomIssue {\n    constructor(name, payload) {\n        this.name = name;\n        this.payload = payload;\n        this._id = 64;\n    }\n    encode(writer) {\n        return writer.uint(64) &&\n            writer.string(this.name) &&\n            writer.string(this.payload);\n    }\n}\nexport const CustomIssue = bindNew(_CustomIssue);\nclasses.set(64, CustomIssue);\nclass _PageClose {\n    constructor() {\n        this._id = 65;\n    }\n    encode(writer) {\n        return writer.uint(65);\n    }\n}\nexport const PageClose = bindNew(_PageClose);\nclasses.set(65, PageClose);\nclass _CSSInsertRuleURLBased {\n    constructor(id, rule, index, baseURL) {\n        this.id = id;\n        this.rule = rule;\n        this.index = index;\n        this.baseURL = baseURL;\n        this._id = 67;\n    }\n    encode(writer) {\n        return writer.uint(67) &&\n            writer.uint(this.id) &&\n            writer.string(this.rule) &&\n            writer.uint(this.index) &&\n            writer.string(this.baseURL);\n    }\n}\nexport const CSSInsertRuleURLBased = bindNew(_CSSInsertRuleURLBased);\nclasses.set(67, CSSInsertRuleURLBased);\nclass _MouseClick {\n    constructor(id, hesitationTime, label, selector) {\n        this.id = id;\n        this.hesitationTime = hesitationTime;\n        this.label = label;\n        this.selector = selector;\n        this._id = 69;\n    }\n    encode(writer) {\n        return writer.uint(69) &&\n            writer.uint(this.id) &&\n            writer.uint(this.hesitationTime) &&\n            writer.string(this.label) &&\n            writer.string(this.selector);\n    }\n}\nexport const MouseClick = bindNew(_MouseClick);\nclasses.set(69, MouseClick);\nclass _CreateIFrameDocument {\n    constructor(frameID, id) {\n        this.frameID = frameID;\n        this.id = id;\n        this._id = 70;\n    }\n    encode(writer) {\n        return writer.uint(70) &&\n            writer.uint(this.frameID) &&\n            writer.uint(this.id);\n    }\n}\nexport const CreateIFrameDocument = bindNew(_CreateIFrameDocument);\nclasses.set(70, CreateIFrameDocument);\n","export function timestamp() {\n    return Math.round(performance.now()) + performance.timing.navigationStart;\n}\nexport const stars = 'repeat' in String.prototype\n    ? (str) => '*'.repeat(str.length)\n    : (str) => str.replace(/./g, '*');\nexport function normSpaces(str) {\n    return str.trim().replace(/\\s+/g, ' ');\n}\n// isAbsoluteUrl regexp:  /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url)\nexport function isURL(s) {\n    return s.startsWith('https://') || s.startsWith('http://');\n}\nexport const IN_BROWSER = !(typeof window === \"undefined\");\n// TODO: JOIN IT WITH LOGGER somehow (use logging decorators?); Don't forget about index.js loggin when there is no logger instance.\nexport const DOCS_HOST = 'https://docs.openreplay.com';\nconst warnedFeatures = {};\nexport function deprecationWarn(nameOfFeature, useInstead, docsPath = \"/\") {\n    if (warnedFeatures[nameOfFeature]) {\n        return;\n    }\n    console.warn(`OpenReplay: ${nameOfFeature} is deprecated. ${useInstead ? `Please, use ${useInstead} instead.` : \"\"} Visit ${DOCS_HOST}${docsPath} for more information.`);\n    warnedFeatures[nameOfFeature] = true;\n}\nexport function getLabelAttribute(e) {\n    let value = e.getAttribute(\"data-openreplay-label\");\n    if (value !== null) {\n        return value;\n    }\n    value = e.getAttribute(\"data-asayer-label\");\n    if (value !== null) {\n        deprecationWarn(`\"data-asayer-label\" attribute`, `\"data-openreplay-label\" attribute`, \"/\");\n    }\n    return value;\n}\nexport function hasOpenreplayAttribute(e, name) {\n    const newName = `data-openreplay-${name}`;\n    if (e.hasAttribute(newName)) {\n        return true;\n    }\n    const oldName = `data-asayer-${name}`;\n    if (e.hasAttribute(oldName)) {\n        deprecationWarn(`\"${oldName}\" attribute`, `\"${newName}\" attribute`, \"/installation/sanitize-data\");\n        return true;\n    }\n    return false;\n}\n","export default class Nodes {\n    constructor(node_id) {\n        this.node_id = node_id;\n        this.nodes = [];\n        this.nodeCallbacks = [];\n        this.elementListeners = new Map();\n    }\n    attachNodeCallback(nodeCallback) {\n        this.nodeCallbacks.push(nodeCallback);\n    }\n    attachElementListener(type, node, elementListener) {\n        const id = this.getID(node);\n        if (id === undefined) {\n            return;\n        }\n        node.addEventListener(type, elementListener);\n        let listeners = this.elementListeners.get(id);\n        if (listeners === undefined) {\n            listeners = [];\n            this.elementListeners.set(id, listeners);\n            return;\n        }\n        listeners.push([type, elementListener]);\n    }\n    registerNode(node) {\n        let id = node[this.node_id];\n        const isNew = id === undefined;\n        if (isNew) {\n            id = this.nodes.length;\n            this.nodes[id] = node;\n            node[this.node_id] = id;\n        }\n        return [id, isNew];\n    }\n    unregisterNode(node) {\n        const id = node[this.node_id];\n        if (id !== undefined) {\n            delete node[this.node_id];\n            this.nodes[id] = undefined;\n            const listeners = this.elementListeners.get(id);\n            if (listeners !== undefined) {\n                this.elementListeners.delete(id);\n                listeners.forEach((listener) => node.removeEventListener(listener[0], listener[1]));\n            }\n        }\n        return id;\n    }\n    callNodeCallbacks(node, isStart) {\n        this.nodeCallbacks.forEach((cb) => cb(node, isStart));\n    }\n    getID(node) {\n        return node[this.node_id];\n    }\n    getNode(id) {\n        return this.nodes[id];\n    }\n    clear() {\n        for (let id = 0; id < this.nodes.length; id++) {\n            const node = this.nodes[id];\n            if (node === undefined) {\n                continue;\n            }\n            this.unregisterNode(node);\n        }\n        this.nodes.length = 0;\n    }\n}\n","export function isSVGElement(node) {\n    return node.namespaceURI === 'http://www.w3.org/2000/svg';\n}\nexport function isElementNode(node) {\n    return node.nodeType === Node.ELEMENT_NODE;\n}\nexport function isTextNode(node) {\n    return node.nodeType === Node.TEXT_NODE;\n}\nexport function isRootNode(node) {\n    return node.nodeType === Node.DOCUMENT_NODE ||\n        node.nodeType === Node.DOCUMENT_FRAGMENT_NODE;\n}\nexport function hasTag(el, tagName) {\n    return el.nodeName === tagName;\n}\n","import { RemoveNodeAttribute, SetNodeAttribute, SetNodeAttributeURLBased, SetCSSDataURLBased, SetNodeData, CreateTextNode, CreateElementNode, MoveNode, RemoveNode, } from \"../../common/messages.js\";\nimport { isRootNode, isTextNode, isElementNode, isSVGElement, hasTag, } from \"../guards.js\";\nfunction isIgnored(node) {\n    if (isTextNode(node)) {\n        return false;\n    }\n    if (!isElementNode(node)) {\n        return true;\n    }\n    const tag = node.tagName.toUpperCase();\n    if (tag === 'LINK') {\n        const rel = node.getAttribute('rel');\n        const as = node.getAttribute('as');\n        return !((rel === null || rel === void 0 ? void 0 : rel.includes('stylesheet')) || as === \"style\" || as === \"font\");\n    }\n    return (tag === 'SCRIPT' ||\n        tag === 'NOSCRIPT' ||\n        tag === 'META' ||\n        tag === 'TITLE' ||\n        tag === 'BASE');\n}\nfunction isObservable(node) {\n    if (isRootNode(node)) {\n        return true;\n    }\n    return !isIgnored(node);\n}\n/*\n  TODO:\n    - fix unbinding logic + send all removals first (ensure sequence is correct)\n    - use document as a 0-node in the upper context (should be updated in player at first)\n*/\nvar RecentsType;\n(function (RecentsType) {\n    RecentsType[RecentsType[\"New\"] = 0] = \"New\";\n    RecentsType[RecentsType[\"Removed\"] = 1] = \"Removed\";\n    RecentsType[RecentsType[\"Changed\"] = 2] = \"Changed\";\n})(RecentsType || (RecentsType = {}));\nexport default class Observer {\n    constructor(app, isTopContext = false) {\n        this.app = app;\n        this.isTopContext = isTopContext;\n        this.commited = [];\n        this.recents = new Map();\n        this.indexes = [];\n        this.attributesMap = new Map();\n        this.textSet = new Set();\n        this.observer = new MutationObserver(this.app.safe((mutations) => {\n            for (const mutation of mutations) { // mutations order is sequential\n                const target = mutation.target;\n                const type = mutation.type;\n                if (!isObservable(target)) {\n                    continue;\n                }\n                if (type === 'childList') {\n                    for (let i = 0; i < mutation.removedNodes.length; i++) {\n                        this.bindTree(mutation.removedNodes[i]);\n                    }\n                    for (let i = 0; i < mutation.addedNodes.length; i++) {\n                        this.bindTree(mutation.addedNodes[i]);\n                    }\n                    continue;\n                }\n                const id = this.app.nodes.getID(target);\n                if (id === undefined) {\n                    continue;\n                }\n                if (!this.recents.has(id)) {\n                    this.recents.set(id, RecentsType.Changed); // TODO only when altered\n                }\n                if (type === 'attributes') {\n                    const name = mutation.attributeName;\n                    if (name === null) {\n                        continue;\n                    }\n                    let attr = this.attributesMap.get(id);\n                    if (attr === undefined) {\n                        this.attributesMap.set(id, attr = new Set());\n                    }\n                    attr.add(name);\n                    continue;\n                }\n                if (type === 'characterData') {\n                    this.textSet.add(id);\n                    continue;\n                }\n            }\n            this.commitNodes();\n        }));\n    }\n    clear() {\n        this.commited.length = 0;\n        this.recents.clear();\n        this.indexes.length = 1;\n        this.attributesMap.clear();\n        this.textSet.clear();\n    }\n    sendNodeAttribute(id, node, name, value) {\n        if (isSVGElement(node)) {\n            if (name.substr(0, 6) === 'xlink:') {\n                name = name.substr(6);\n            }\n            if (value === null) {\n                this.app.send(new RemoveNodeAttribute(id, name));\n            }\n            else if (name === 'href') {\n                if (value.length > 1e5) {\n                    value = '';\n                }\n                this.app.send(new SetNodeAttributeURLBased(id, name, value, this.app.getBaseHref()));\n            }\n            else {\n                this.app.send(new SetNodeAttribute(id, name, value));\n            }\n            return;\n        }\n        if (name === 'src' ||\n            name === 'srcset' ||\n            name === 'integrity' ||\n            name === 'crossorigin' ||\n            name === 'autocomplete' ||\n            name.substr(0, 2) === 'on') {\n            return;\n        }\n        if (name === 'value' &&\n            hasTag(node, \"INPUT\") &&\n            node.type !== 'button' &&\n            node.type !== 'reset' &&\n            node.type !== 'submit') {\n            return;\n        }\n        if (value === null) {\n            this.app.send(new RemoveNodeAttribute(id, name));\n            return;\n        }\n        if (name === 'style' || name === 'href' && hasTag(node, \"LINK\")) {\n            this.app.send(new SetNodeAttributeURLBased(id, name, value, this.app.getBaseHref()));\n            return;\n        }\n        if (name === 'href' || value.length > 1e5) {\n            value = '';\n        }\n        this.app.send(new SetNodeAttribute(id, name, value));\n    }\n    sendNodeData(id, parentElement, data) {\n        if (hasTag(parentElement, \"STYLE\") || hasTag(parentElement, \"style\")) {\n            this.app.send(new SetCSSDataURLBased(id, data, this.app.getBaseHref()));\n            return;\n        }\n        data = this.app.sanitizer.sanitize(id, data);\n        this.app.send(new SetNodeData(id, data));\n    }\n    bindNode(node) {\n        const [id, isNew] = this.app.nodes.registerNode(node);\n        if (isNew) {\n            this.recents.set(id, RecentsType.New);\n        }\n        else if (this.recents.get(id) !== RecentsType.New) { // can we do just `else` here?\n            this.recents.set(id, RecentsType.Removed);\n        }\n    }\n    bindTree(node) {\n        if (!isObservable(node)) {\n            return;\n        }\n        this.bindNode(node);\n        const walker = document.createTreeWalker(node, NodeFilter.SHOW_ELEMENT + NodeFilter.SHOW_TEXT, {\n            acceptNode: (node) => isIgnored(node) || this.app.nodes.getID(node) !== undefined\n                ? NodeFilter.FILTER_REJECT\n                : NodeFilter.FILTER_ACCEPT,\n        }, \n        // @ts-ignore\n        false);\n        while (walker.nextNode()) {\n            this.bindNode(walker.currentNode);\n        }\n    }\n    unbindNode(node) {\n        const id = this.app.nodes.unregisterNode(node);\n        if (id !== undefined && this.recents.get(id) === RecentsType.Removed) {\n            this.app.send(new RemoveNode(id));\n        }\n    }\n    // A top-consumption function on the infinite lists test. (~1% of performance resources)\n    _commitNode(id, node) {\n        if (isRootNode(node)) {\n            return true;\n        }\n        const parent = node.parentNode;\n        let parentID;\n        // Disable parent check for the upper context HTMLHtmlElement, because it is root there... (before)\n        // TODO: get rid of \"special\" cases (there is an issue with CreateDocument altered behaviour though)\n        // TODO: Clean the logic (though now it workd fine)\n        if (!hasTag(node, \"HTML\") || !this.isTopContext) {\n            if (parent === null) {\n                // Sometimes one observation contains attribute mutations for the removimg node, which gets ignored here.\n                // That shouldn't affect the visual rendering ( should it? )\n                this.unbindNode(node);\n                return false;\n            }\n            parentID = this.app.nodes.getID(parent);\n            if (parentID === undefined) {\n                this.unbindNode(node);\n                return false;\n            }\n            if (!this.commitNode(parentID)) {\n                this.unbindNode(node);\n                return false;\n            }\n            this.app.sanitizer.handleNode(id, parentID, node);\n            if (this.app.sanitizer.isMaskedContainer(parentID)) {\n                return false;\n            }\n        }\n        // From here parentID === undefined if node is top context HTML node\n        let sibling = node.previousSibling;\n        while (sibling !== null) {\n            const siblingID = this.app.nodes.getID(sibling);\n            if (siblingID !== undefined) {\n                this.commitNode(siblingID);\n                this.indexes[id] = this.indexes[siblingID] + 1;\n                break;\n            }\n            sibling = sibling.previousSibling;\n        }\n        if (sibling === null) {\n            this.indexes[id] = 0;\n        }\n        const recentsType = this.recents.get(id);\n        const isNew = recentsType === RecentsType.New;\n        const index = this.indexes[id];\n        if (index === undefined) {\n            throw 'commitNode: missing node index';\n        }\n        if (isNew) {\n            if (isElementNode(node)) {\n                let el = node;\n                if (parentID !== undefined) {\n                    if (this.app.sanitizer.isMaskedContainer(id)) {\n                        const width = el.clientWidth;\n                        const height = el.clientHeight;\n                        el = node.cloneNode();\n                        el.style.width = width + 'px';\n                        el.style.height = height + 'px';\n                    }\n                    this.app.send(new CreateElementNode(id, parentID, index, el.tagName, isSVGElement(node)));\n                }\n                for (let i = 0; i < el.attributes.length; i++) {\n                    const attr = el.attributes[i];\n                    this.sendNodeAttribute(id, el, attr.nodeName, attr.value);\n                }\n            }\n            else if (isTextNode(node)) {\n                // for text node id != 0, hence parentID !== undefined and parent is Element\n                this.app.send(new CreateTextNode(id, parentID, index));\n                this.sendNodeData(id, parent, node.data);\n            }\n            return true;\n        }\n        if (recentsType === RecentsType.Removed && parentID !== undefined) {\n            this.app.send(new MoveNode(id, parentID, index));\n        }\n        const attr = this.attributesMap.get(id);\n        if (attr !== undefined) {\n            if (!isElementNode(node)) {\n                throw 'commitNode: node is not an element';\n            }\n            for (const name of attr) {\n                this.sendNodeAttribute(id, node, name, node.getAttribute(name));\n            }\n        }\n        if (this.textSet.has(id)) {\n            if (!isTextNode(node)) {\n                throw 'commitNode: node is not a text';\n            }\n            // for text node id != 0, hence parent is Element\n            this.sendNodeData(id, parent, node.data);\n        }\n        return true;\n    }\n    commitNode(id) {\n        const node = this.app.nodes.getNode(id);\n        if (node === undefined) {\n            return false;\n        }\n        const cmt = this.commited[id];\n        if (cmt !== undefined) {\n            return cmt;\n        }\n        return (this.commited[id] = this._commitNode(id, node));\n    }\n    commitNodes(isStart = false) {\n        let node;\n        this.recents.forEach((type, id) => {\n            this.commitNode(id);\n            if (type === RecentsType.New && (node = this.app.nodes.getNode(id))) {\n                this.app.nodes.callNodeCallbacks(node, isStart);\n            }\n        });\n        this.clear();\n    }\n    // ISSSUE\n    observeRoot(node, beforeCommit, nodeToBind = node) {\n        this.observer.observe(node, {\n            childList: true,\n            attributes: true,\n            characterData: true,\n            subtree: true,\n            attributeOldValue: false,\n            characterDataOldValue: false,\n        });\n        this.bindTree(nodeToBind);\n        beforeCommit(this.app.nodes.getID(node));\n        this.commitNodes(true);\n    }\n    disconnect() {\n        this.observer.disconnect();\n        this.clear();\n    }\n}\n","import Observer from \"./observer.js\";\nimport { CreateIFrameDocument } from \"../../common/messages.js\";\nexport default class IFrameObserver extends Observer {\n    observe(iframe) {\n        const doc = iframe.contentDocument;\n        const hostID = this.app.nodes.getID(iframe);\n        if (!doc || hostID === undefined) {\n            return;\n        } //log TODO common app.logger\n        // Have to observe document, because the inner <html> might be changed\n        this.observeRoot(doc, (docID) => {\n            if (docID === undefined) {\n                console.log(\"OpenReplay: Iframe document not bound\");\n                return;\n            }\n            this.app.send(CreateIFrameDocument(hostID, docID));\n        });\n    }\n}\n","import Observer from \"./observer.js\";\nimport { CreateIFrameDocument } from \"../../common/messages.js\";\nexport default class ShadowRootObserver extends Observer {\n    observe(el) {\n        const shRoot = el.shadowRoot;\n        const hostID = this.app.nodes.getID(el);\n        if (!shRoot || hostID === undefined) {\n            return;\n        } // log\n        this.observeRoot(shRoot, (rootID) => {\n            if (rootID === undefined) {\n                console.log(\"OpenReplay: Shadow Root was not bound\");\n                return;\n            }\n            this.app.send(CreateIFrameDocument(hostID, rootID));\n        });\n    }\n}\n","import Observer from \"./observer.js\";\nimport { isElementNode, hasTag, } from \"../guards.js\";\nimport IFrameObserver from \"./iframe_observer.js\";\nimport ShadowRootObserver from \"./shadow_root_observer.js\";\nimport { CreateDocument } from \"../../common/messages.js\";\nimport { IN_BROWSER, hasOpenreplayAttribute } from '../../utils.js';\nconst attachShadowNativeFn = IN_BROWSER ? Element.prototype.attachShadow : () => new ShadowRoot();\nexport default class TopObserver extends Observer {\n    constructor(app, options) {\n        super(app, true);\n        this.iframeObservers = [];\n        this.shadowRootObservers = [];\n        this.options = Object.assign({\n            captureIFrames: true\n        }, options);\n        // IFrames\n        this.app.nodes.attachNodeCallback(node => {\n            if (hasTag(node, \"IFRAME\") &&\n                ((this.options.captureIFrames && !hasOpenreplayAttribute(node, \"obscured\"))\n                    || hasOpenreplayAttribute(node, \"capture\"))) {\n                this.handleIframe(node);\n            }\n        });\n        // ShadowDOM\n        this.app.nodes.attachNodeCallback(node => {\n            if (isElementNode(node) && node.shadowRoot !== null) {\n                this.handleShadowRoot(node.shadowRoot);\n            }\n        });\n    }\n    handleIframe(iframe) {\n        let doc = null;\n        const handle = this.app.safe(() => {\n            const id = this.app.nodes.getID(iframe);\n            if (id === undefined) {\n                return;\n            } //log\n            if (iframe.contentDocument === doc) {\n                return;\n            } // How frequently can it happen?\n            doc = iframe.contentDocument;\n            if (!doc || !iframe.contentWindow) {\n                return;\n            }\n            const observer = new IFrameObserver(this.app);\n            this.iframeObservers.push(observer);\n            observer.observe(iframe);\n        });\n        iframe.addEventListener(\"load\", handle); // why app.attachEventListener not working?\n        handle();\n    }\n    handleShadowRoot(shRoot) {\n        const observer = new ShadowRootObserver(this.app);\n        this.shadowRootObservers.push(observer);\n        observer.observe(shRoot.host);\n    }\n    observe() {\n        // Protection from several subsequent calls?\n        const observer = this;\n        Element.prototype.attachShadow = function () {\n            const shadow = attachShadowNativeFn.apply(this, arguments);\n            observer.handleShadowRoot(shadow);\n            return shadow;\n        };\n        // Can observe documentElement (<html>) here, because it is not supposed to be changing.\n        // However, it is possible in some exotic cases and may cause an ignorance of the newly created <html>\n        // In this case context.document have to be observed, but this will cause \n        // the change in the re-player behaviour caused by CreateDocument message: \n        //   the 0-node (\"fRoot\") will become #document rather than documentElement as it is now.\n        // Alternatively - observe(#document) then bindNode(documentElement)\n        this.observeRoot(window.document, () => {\n            this.app.send(new CreateDocument());\n        }, window.document.documentElement);\n    }\n    disconnect() {\n        Element.prototype.attachShadow = attachShadowNativeFn;\n        this.iframeObservers.forEach(o => o.disconnect());\n        this.iframeObservers = [];\n        this.shadowRootObservers.forEach(o => o.disconnect());\n        this.shadowRootObservers = [];\n        super.disconnect();\n    }\n}\n","import { stars, hasOpenreplayAttribute } from \"../utils.js\";\nimport { isElementNode } from \"./guards.js\";\nexport default class Sanitizer {\n    constructor(app, options) {\n        this.app = app;\n        this.masked = new Set();\n        this.maskedContainers = new Set();\n        this.options = Object.assign({\n            obscureTextEmails: true,\n            obscureTextNumbers: false,\n        }, options);\n    }\n    handleNode(id, parentID, node) {\n        if (this.masked.has(parentID) ||\n            (isElementNode(node) &&\n                hasOpenreplayAttribute(node, 'masked'))) {\n            this.masked.add(id);\n        }\n        if (this.maskedContainers.has(parentID) ||\n            (isElementNode(node) &&\n                hasOpenreplayAttribute(node, 'htmlmasked'))) {\n            this.maskedContainers.add(id);\n        }\n    }\n    sanitize(id, data) {\n        if (this.masked.has(id)) {\n            // TODO: is it the best place to put trim() ? Might trimmed spaces be considered in layout in certain cases?\n            return data.trim().replace(/[^\\f\\n\\r\\t\\v\\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]/g, '█');\n        }\n        if (this.options.obscureTextNumbers) {\n            data = data.replace(/\\d/g, '0');\n        }\n        if (this.options.obscureTextEmails) {\n            data = data.replace(/([^\\s]+)@([^\\s]+)\\.([^\\s]+)/g, (...f) => stars(f[1]) + '@' + stars(f[2]) + '.' + stars(f[3]));\n        }\n        return data;\n    }\n    isMasked(id) {\n        return this.masked.has(id);\n    }\n    isMaskedContainer(id) {\n        return this.maskedContainers.has(id);\n    }\n    getInnerTextSecure(el) {\n        const id = this.app.nodes.getID(el);\n        if (!id) {\n            return '';\n        }\n        return this.sanitize(id, el.innerText);\n    }\n    clear() {\n        this.masked.clear();\n        this.maskedContainers.clear();\n    }\n}\n","function wrap(callback, n) {\n    let t = 0;\n    return () => {\n        if (t++ >= n) {\n            t = 0;\n            callback();\n        }\n    };\n}\nexport default class Ticker {\n    constructor(app) {\n        this.app = app;\n        this.timer = null;\n        this.callbacks = [];\n    }\n    attach(callback, n = 0, useSafe = true, thisArg) {\n        if (thisArg) {\n            callback = callback.bind(thisArg);\n        }\n        if (useSafe) {\n            callback = this.app.safe(callback);\n        }\n        this.callbacks.unshift(n ? wrap(callback, n) : callback) - 1;\n    }\n    start() {\n        if (this.timer === null) {\n            this.timer = setInterval(() => this.callbacks.forEach((cb) => {\n                if (cb)\n                    cb();\n            }), 30);\n        }\n    }\n    stop() {\n        if (this.timer !== null) {\n            clearInterval(this.timer);\n            this.timer = null;\n        }\n    }\n}\n","export const LogLevel = {\n    Verbose: 5,\n    Log: 4,\n    Warnings: 3,\n    Errors: 2,\n    Silent: 0,\n};\nfunction IsCustomLevel(l) {\n    return typeof l === 'object';\n}\nexport default class Logger {\n    constructor(options = LogLevel.Silent) {\n        this.options = options === true\n            ? { level: LogLevel.Verbose }\n            : typeof options === \"number\" ? { level: options } : options;\n    }\n    log(...args) {\n        if (IsCustomLevel(this.options.level)\n            ? this.options.level.log\n            : this.options.level >= LogLevel.Log) {\n            console.log(...args);\n        }\n    }\n    warn(...args) {\n        if (IsCustomLevel(this.options.level)\n            ? this.options.level.warn\n            : this.options.level >= LogLevel.Warnings) {\n            console.warn(...args);\n        }\n    }\n    error(...args) {\n        if (IsCustomLevel(this.options.level)\n            ? this.options.level.error\n            : this.options.level >= LogLevel.Errors) {\n            console.error(...args);\n        }\n    }\n}\n","export default class Session {\n    constructor() {\n        this.metadata = {};\n        this.userID = null;\n        this.sessionID = null;\n        this.callbacks = [];\n    }\n    attachUpdateCallback(cb) {\n        this.callbacks.push(cb);\n    }\n    handleUpdate(newInfo) {\n        if (newInfo.userID == null) {\n            delete newInfo.userID;\n        }\n        if (newInfo.sessionID == null) {\n            delete newInfo.sessionID;\n        }\n        this.callbacks.forEach(cb => cb(newInfo));\n    }\n    update(newInfo) {\n        if (newInfo.userID !== undefined) { // TODO clear nullable/undefinable types\n            this.userID = newInfo.userID;\n        }\n        if (newInfo.metadata !== undefined) {\n            Object.entries(newInfo.metadata).forEach(([k, v]) => this.metadata[k] = v);\n        }\n        if (newInfo.sessionID !== undefined) {\n            this.sessionID = newInfo.sessionID;\n        }\n        this.handleUpdate(newInfo);\n    }\n    setMetadata(key, value) {\n        this.metadata[key] = value;\n        this.handleUpdate({ metadata: { [key]: value } });\n    }\n    setUserID(userID) {\n        this.userID = userID;\n        this.handleUpdate({ userID });\n    }\n    getInfo() {\n        return {\n            sessionID: this.sessionID,\n            metadata: this.metadata,\n            userID: this.userID,\n        };\n    }\n    reset() {\n        this.metadata = {};\n        this.userID = null;\n        this.sessionID = null;\n    }\n}\n","import { IN_BROWSER } from \"../utils.js\";\nimport { PerformanceTrack } from \"../common/messages.js\";\nconst perf = IN_BROWSER && 'performance' in window && 'memory' in performance // works in Chrome only\n    ? performance\n    : { memory: {} };\nexport const deviceMemory = IN_BROWSER ? (navigator.deviceMemory || 0) * 1024 : 0;\nexport const jsHeapSizeLimit = perf.memory.jsHeapSizeLimit || 0;\nexport default function (app, opts) {\n    const options = Object.assign({\n        capturePerformance: true,\n    }, opts);\n    if (!options.capturePerformance) {\n        return;\n    }\n    let frames;\n    let ticks;\n    const nextFrame = () => {\n        if (frames === undefined || frames === -1) {\n            return;\n        }\n        frames++;\n        requestAnimationFrame(nextFrame);\n    };\n    app.ticker.attach(() => {\n        if (ticks === undefined || ticks === -1) {\n            return;\n        }\n        ticks++;\n    }, 0, false);\n    const sendPerformanceTrack = () => {\n        if (frames === undefined || ticks === undefined) {\n            return;\n        }\n        app.send(new PerformanceTrack(frames, ticks, perf.memory.totalJSHeapSize || 0, perf.memory.usedJSHeapSize || 0));\n        ticks = frames = document.hidden ? -1 : 0;\n    };\n    app.attachStartCallback(() => {\n        ticks = frames = -1;\n        sendPerformanceTrack();\n        nextFrame();\n    });\n    app.attachStopCallback(() => {\n        ticks = frames = undefined;\n    });\n    app.ticker.attach(sendPerformanceTrack, 40, false);\n    if (document.hidden !== undefined) {\n        app.attachEventListener(document, 'visibilitychange', sendPerformanceTrack, false, false);\n    }\n}\n","import { Timestamp, Metadata, UserID } from \"../common/messages.js\";\nimport { timestamp } from \"../utils.js\";\nimport Nodes from \"./nodes.js\";\nimport Observer from \"./observer/top_observer.js\";\nimport Sanitizer from \"./sanitizer.js\";\nimport Ticker from \"./ticker.js\";\nimport Logger, { LogLevel } from \"./logger.js\";\nimport Session from \"./session.js\";\nimport { deviceMemory, jsHeapSizeLimit } from \"../modules/performance.js\";\nconst CANCELED = \"canceled\";\nconst START_ERROR = \":(\";\nconst UnsuccessfulStart = (reason) => ({ reason, success: false });\nconst SuccessfulStart = (body) => (Object.assign(Object.assign({}, body), { success: true }));\nvar ActivityState;\n(function (ActivityState) {\n    ActivityState[ActivityState[\"NotActive\"] = 0] = \"NotActive\";\n    ActivityState[ActivityState[\"Starting\"] = 1] = \"Starting\";\n    ActivityState[ActivityState[\"Active\"] = 2] = \"Active\";\n})(ActivityState || (ActivityState = {}));\n// TODO: use backendHost only\nexport const DEFAULT_INGEST_POINT = 'https://api.openreplay.com/ingest';\nexport default class App {\n    constructor(projectKey, sessionToken, options) {\n        // if (options.onStart !== undefined) {\n        //   deprecationWarn(\"'onStart' option\", \"tracker.start().then(/* handle session info */)\")\n        // } ?? maybe onStart is good\n        this.messages = [];\n        this.startCallbacks = [];\n        this.stopCallbacks = [];\n        this.commitCallbacks = [];\n        this.activityState = ActivityState.NotActive;\n        this.version = '3.5.15'; // TODO: version compatability check inside each plugin.\n        this.projectKey = projectKey;\n        this.options = Object.assign({\n            revID: '',\n            node_id: '__openreplay_id',\n            session_token_key: '__openreplay_token',\n            session_pageno_key: '__openreplay_pageno',\n            session_reset_key: '__openreplay_reset',\n            local_uuid_key: '__openreplay_uuid',\n            ingestPoint: DEFAULT_INGEST_POINT,\n            resourceBaseHref: null,\n            verbose: false,\n            __is_snippet: false,\n            __debug_report_edp: null,\n            localStorage: window.localStorage,\n            sessionStorage: window.sessionStorage,\n        }, options);\n        this.revID = this.options.revID;\n        this.sanitizer = new Sanitizer(this, options);\n        this.nodes = new Nodes(this.options.node_id);\n        this.observer = new Observer(this, options);\n        this.ticker = new Ticker(this);\n        this.ticker.attach(() => this.commit());\n        this.debug = new Logger(this.options.__debug__);\n        this.notify = new Logger(this.options.verbose ? LogLevel.Warnings : LogLevel.Silent);\n        this.session = new Session();\n        this.session.attachUpdateCallback(({ userID, metadata }) => {\n            if (userID != null) { // TODO: nullable userID\n                this.send(new UserID(userID));\n            }\n            if (metadata != null) {\n                Object.entries(metadata).forEach(([key, value]) => this.send(new Metadata(key, value)));\n            }\n        });\n        this.localStorage = this.options.localStorage;\n        this.sessionStorage = this.options.sessionStorage;\n        if (sessionToken != null) {\n            this.sessionStorage.setItem(this.options.session_token_key, sessionToken);\n        }\n        try {\n            this.worker = new Worker(URL.createObjectURL(new Blob([`\"use strict\";function t(t){function i(...i){return new t(...i)}return i.prototype=t.prototype,i}const i=new Map;const s=t(class{constructor(t,i,s){this.pageNo=t,this.firstIndex=i,this.timestamp=s,this._id=80}encode(t){return t.uint(80)&&t.uint(this.pageNo)&&t.uint(this.firstIndex)&&t.int(this.timestamp)}});i.set(80,s);const e=t(class{constructor(t){this.timestamp=t,this._id=0}encode(t){return t.uint(0)&&t.uint(this.timestamp)}});i.set(0,e);const n=t(class{constructor(t,i,s){this.url=t,this.referrer=i,this.navigationStart=s,this._id=4}encode(t){return t.uint(4)&&t.string(this.url)&&t.string(this.referrer)&&t.uint(this.navigationStart)}});i.set(4,n);const r=t(class{constructor(t,i){this.width=t,this.height=i,this._id=5}encode(t){return t.uint(5)&&t.uint(this.width)&&t.uint(this.height)}});i.set(5,r);const h=t(class{constructor(t,i){this.x=t,this.y=i,this._id=6}encode(t){return t.uint(6)&&t.int(this.x)&&t.int(this.y)}});i.set(6,h);const o=t(class{constructor(){this._id=7}encode(t){return t.uint(7)}});i.set(7,o);const c=t(class{constructor(t,i,s,e,n){this.id=t,this.parentID=i,this.index=s,this.tag=e,this.svg=n,this._id=8}encode(t){return t.uint(8)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)&&t.string(this.tag)&&t.boolean(this.svg)}});i.set(8,c);const a=t(class{constructor(t,i,s){this.id=t,this.parentID=i,this.index=s,this._id=9}encode(t){return t.uint(9)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)}});i.set(9,a);const u=t(class{constructor(t,i,s){this.id=t,this.parentID=i,this.index=s,this._id=10}encode(t){return t.uint(10)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)}});i.set(10,u);const d=t(class{constructor(t){this.id=t,this._id=11}encode(t){return t.uint(11)&&t.uint(this.id)}});i.set(11,d);const l=t(class{constructor(t,i,s){this.id=t,this.name=i,this.value=s,this._id=12}encode(t){return t.uint(12)&&t.uint(this.id)&&t.string(this.name)&&t.string(this.value)}});i.set(12,l);const p=t(class{constructor(t,i){this.id=t,this.name=i,this._id=13}encode(t){return t.uint(13)&&t.uint(this.id)&&t.string(this.name)}});i.set(13,p);const g=t(class{constructor(t,i){this.id=t,this.data=i,this._id=14}encode(t){return t.uint(14)&&t.uint(this.id)&&t.string(this.data)}});i.set(14,g);const m=t(class{constructor(t,i,s){this.id=t,this.x=i,this.y=s,this._id=16}encode(t){return t.uint(16)&&t.uint(this.id)&&t.int(this.x)&&t.int(this.y)}});i.set(16,m);const f=t(class{constructor(t,i){this.id=t,this.label=i,this._id=17}encode(t){return t.uint(17)&&t.uint(this.id)&&t.string(this.label)}});i.set(17,f);const y=t(class{constructor(t,i,s){this.id=t,this.value=i,this.mask=s,this._id=18}encode(t){return t.uint(18)&&t.uint(this.id)&&t.string(this.value)&&t.int(this.mask)}});i.set(18,y);const _=t(class{constructor(t,i){this.id=t,this.checked=i,this._id=19}encode(t){return t.uint(19)&&t.uint(this.id)&&t.boolean(this.checked)}});i.set(19,_);const v=t(class{constructor(t,i){this.x=t,this.y=i,this._id=20}encode(t){return t.uint(20)&&t.uint(this.x)&&t.uint(this.y)}});i.set(20,v);const S=t(class{constructor(t,i){this.level=t,this.value=i,this._id=22}encode(t){return t.uint(22)&&t.string(this.level)&&t.string(this.value)}});i.set(22,S);const b=t(class{constructor(t,i,s,e,n,r,h,o,c){this.requestStart=t,this.responseStart=i,this.responseEnd=s,this.domContentLoadedEventStart=e,this.domContentLoadedEventEnd=n,this.loadEventStart=r,this.loadEventEnd=h,this.firstPaint=o,this.firstContentfulPaint=c,this._id=23}encode(t){return t.uint(23)&&t.uint(this.requestStart)&&t.uint(this.responseStart)&&t.uint(this.responseEnd)&&t.uint(this.domContentLoadedEventStart)&&t.uint(this.domContentLoadedEventEnd)&&t.uint(this.loadEventStart)&&t.uint(this.loadEventEnd)&&t.uint(this.firstPaint)&&t.uint(this.firstContentfulPaint)}});i.set(23,b);const w=t(class{constructor(t,i,s){this.speedIndex=t,this.visuallyComplete=i,this.timeToInteractive=s,this._id=24}encode(t){return t.uint(24)&&t.uint(this.speedIndex)&&t.uint(this.visuallyComplete)&&t.uint(this.timeToInteractive)}});i.set(24,w);const E=t(class{constructor(t,i,s){this.name=t,this.message=i,this.payload=s,this._id=25}encode(t){return t.uint(25)&&t.string(this.name)&&t.string(this.message)&&t.string(this.payload)}});i.set(25,E);const x=t(class{constructor(t,i){this.name=t,this.payload=i,this._id=27}encode(t){return t.uint(27)&&t.string(this.name)&&t.string(this.payload)}});i.set(27,x);const T=t(class{constructor(t){this.id=t,this._id=28}encode(t){return t.uint(28)&&t.string(this.id)}});i.set(28,T);const z=t(class{constructor(t){this.id=t,this._id=29}encode(t){return t.uint(29)&&t.string(this.id)}});i.set(29,z);const k=t(class{constructor(t,i){this.key=t,this.value=i,this._id=30}encode(t){return t.uint(30)&&t.string(this.key)&&t.string(this.value)}});i.set(30,k);const A=t(class{constructor(t,i,s){this.id=t,this.rule=i,this.index=s,this._id=37}encode(t){return t.uint(37)&&t.uint(this.id)&&t.string(this.rule)&&t.uint(this.index)}});i.set(37,A);const I=t(class{constructor(t,i){this.id=t,this.index=i,this._id=38}encode(t){return t.uint(38)&&t.uint(this.id)&&t.uint(this.index)}});i.set(38,I);const L=t(class{constructor(t,i,s,e,n,r,h){this.method=t,this.url=i,this.request=s,this.response=e,this.status=n,this.timestamp=r,this.duration=h,this._id=39}encode(t){return t.uint(39)&&t.string(this.method)&&t.string(this.url)&&t.string(this.request)&&t.string(this.response)&&t.uint(this.status)&&t.uint(this.timestamp)&&t.uint(this.duration)}});i.set(39,L);const C=t(class{constructor(t,i,s,e){this.name=t,this.duration=i,this.args=s,this.result=e,this._id=40}encode(t){return t.uint(40)&&t.string(this.name)&&t.uint(this.duration)&&t.string(this.args)&&t.string(this.result)}});i.set(40,C);const M=t(class{constructor(t,i){this.key=t,this.value=i,this._id=41}encode(t){return t.uint(41)&&t.string(this.key)&&t.string(this.value)}});i.set(41,M);const N=t(class{constructor(t){this.type=t,this._id=42}encode(t){return t.uint(42)&&t.string(this.type)}});i.set(42,N);const B=t(class{constructor(t,i,s){this.action=t,this.state=i,this.duration=s,this._id=44}encode(t){return t.uint(44)&&t.string(this.action)&&t.string(this.state)&&t.uint(this.duration)}});i.set(44,B);const U=t(class{constructor(t,i){this.mutation=t,this.state=i,this._id=45}encode(t){return t.uint(45)&&t.string(this.mutation)&&t.string(this.state)}});i.set(45,U);const R=t(class{constructor(t,i){this.type=t,this.payload=i,this._id=46}encode(t){return t.uint(46)&&t.string(this.type)&&t.string(this.payload)}});i.set(46,R);const O=t(class{constructor(t,i,s){this.action=t,this.state=i,this.duration=s,this._id=47}encode(t){return t.uint(47)&&t.string(this.action)&&t.string(this.state)&&t.uint(this.duration)}});i.set(47,O);const P=t(class{constructor(t,i,s,e){this.operationKind=t,this.operationName=i,this.variables=s,this.response=e,this._id=48}encode(t){return t.uint(48)&&t.string(this.operationKind)&&t.string(this.operationName)&&t.string(this.variables)&&t.string(this.response)}});i.set(48,P);const q=t(class{constructor(t,i,s,e){this.frames=t,this.ticks=i,this.totalJSHeapSize=s,this.usedJSHeapSize=e,this._id=49}encode(t){return t.uint(49)&&t.int(this.frames)&&t.int(this.ticks)&&t.uint(this.totalJSHeapSize)&&t.uint(this.usedJSHeapSize)}});i.set(49,q);const D=t(class{constructor(t,i,s,e,n,r,h,o){this.timestamp=t,this.duration=i,this.ttfb=s,this.headerSize=e,this.encodedBodySize=n,this.decodedBodySize=r,this.url=h,this.initiator=o,this._id=53}encode(t){return t.uint(53)&&t.uint(this.timestamp)&&t.uint(this.duration)&&t.uint(this.ttfb)&&t.uint(this.headerSize)&&t.uint(this.encodedBodySize)&&t.uint(this.decodedBodySize)&&t.string(this.url)&&t.string(this.initiator)}});i.set(53,D);const W=t(class{constructor(t,i){this.downlink=t,this.type=i,this._id=54}encode(t){return t.uint(54)&&t.uint(this.downlink)&&t.string(this.type)}});i.set(54,W);const H=t(class{constructor(t){this.hidden=t,this._id=55}encode(t){return t.uint(55)&&t.boolean(this.hidden)}});i.set(55,H);const J=t(class{constructor(t,i,s,e,n,r,h){this.timestamp=t,this.duration=i,this.context=s,this.containerType=e,this.containerSrc=n,this.containerId=r,this.containerName=h,this._id=59}encode(t){return t.uint(59)&&t.uint(this.timestamp)&&t.uint(this.duration)&&t.uint(this.context)&&t.uint(this.containerType)&&t.string(this.containerSrc)&&t.string(this.containerId)&&t.string(this.containerName)}});i.set(59,J);const F=t(class{constructor(t,i,s,e){this.id=t,this.name=i,this.value=s,this.baseURL=e,this._id=60}encode(t){return t.uint(60)&&t.uint(this.id)&&t.string(this.name)&&t.string(this.value)&&t.string(this.baseURL)}});i.set(60,F);const X=t(class{constructor(t,i,s){this.id=t,this.data=i,this.baseURL=s,this._id=61}encode(t){return t.uint(61)&&t.uint(this.id)&&t.string(this.data)&&t.string(this.baseURL)}});i.set(61,X);const G=t(class{constructor(t,i){this.type=t,this.value=i,this._id=63}encode(t){return t.uint(63)&&t.string(this.type)&&t.string(this.value)}});i.set(63,G);const K=t(class{constructor(t,i){this.name=t,this.payload=i,this._id=64}encode(t){return t.uint(64)&&t.string(this.name)&&t.string(this.payload)}});i.set(64,K);const j=t(class{constructor(){this._id=65}encode(t){return t.uint(65)}});i.set(65,j);const Q=t(class{constructor(t,i,s,e){this.id=t,this.rule=i,this.index=s,this.baseURL=e,this._id=67}encode(t){return t.uint(67)&&t.uint(this.id)&&t.string(this.rule)&&t.uint(this.index)&&t.string(this.baseURL)}});i.set(67,Q);const V=t(class{constructor(t,i,s,e){this.id=t,this.hesitationTime=i,this.label=s,this.selector=e,this._id=69}encode(t){return t.uint(69)&&t.uint(this.id)&&t.uint(this.hesitationTime)&&t.string(this.label)&&t.string(this.selector)}});i.set(69,V);const Y=t(class{constructor(t,i){this.frameID=t,this.id=i,this._id=70}encode(t){return t.uint(70)&&t.uint(this.frameID)&&t.uint(this.id)}});i.set(70,Y);class Z{constructor(t,i,s,e=10,n=1e3){this.onUnauthorised=i,this.onFailure=s,this.MAX_ATTEMPTS_COUNT=e,this.ATTEMPT_TIMEOUT=n,this.attemptsCount=0,this.busy=!1,this.queue=[],this.token=null,this.ingestURL=t+\"/v1/web/i\"}authorise(t){this.token=t}push(t){this.busy||!this.token?this.queue.push(t):this.sendBatch(t)}retry(t){this.attemptsCount>=this.MAX_ATTEMPTS_COUNT?this.onFailure():(this.attemptsCount++,setTimeout(()=>this.sendBatch(t),this.ATTEMPT_TIMEOUT*this.attemptsCount))}sendBatch(t){this.busy=!0,fetch(this.ingestURL,{body:t,method:\"POST\",headers:{Authorization:\"Bearer \"+this.token},keepalive:t.length<65536}).then(i=>{if(401===i.status)return this.busy=!1,void this.onUnauthorised();if(i.status>=400)return void this.retry(t);this.attemptsCount=0;const s=this.queue.shift();s?this.sendBatch(s):this.busy=!1}).catch(i=>{console.warn(\"OpenReplay:\",i),this.retry(t)})}clean(){this.queue.length=0}}const tt=\"function\"==typeof TextEncoder?new TextEncoder:{encode(t){const i=t.length,s=new Uint8Array(3*i);let e=-1;for(var n=0,r=0,h=0;h!==i;){if(n=t.charCodeAt(h),h+=1,n>=55296&&n<=56319){if(h===i){s[e+=1]=239,s[e+=1]=191,s[e+=1]=189;break}if(!((r=t.charCodeAt(h))>=56320&&r<=57343)){s[e+=1]=239,s[e+=1]=191,s[e+=1]=189;continue}if(h+=1,(n=1024*(n-55296)+r-56320+65536)>65535){s[e+=1]=240|n>>>18,s[e+=1]=128|n>>>12&63,s[e+=1]=128|n>>>6&63,s[e+=1]=128|63&n;continue}}n<=127?s[e+=1]=0|n:n<=2047?(s[e+=1]=192|n>>>6,s[e+=1]=128|63&n):(s[e+=1]=224|n>>>12,s[e+=1]=128|n>>>6&63,s[e+=1]=128|63&n)}return s.subarray(0,e+1)}};class it{constructor(t){this.size=t,this.offset=0,this.checkpointOffset=0,this.data=new Uint8Array(t)}checkpoint(){this.checkpointOffset=this.offset}isEmpty(){return 0===this.offset}boolean(t){return this.data[this.offset++]=+t,this.offset<=this.size}uint(t){for((t<0||t>Number.MAX_SAFE_INTEGER)&&(t=0);t>=128;)this.data[this.offset++]=t%256|128,t=Math.floor(t/128);return this.data[this.offset++]=t,this.offset<=this.size}int(t){return t=Math.round(t),this.uint(t>=0?2*t:-2*t-1)}string(t){const i=tt.encode(t),s=i.byteLength;return!(!this.uint(s)||this.offset+s>this.size)&&(this.data.set(i,this.offset),this.offset+=s,!0)}reset(){this.offset=0,this.checkpointOffset=0}flush(){const t=this.data.slice(0,this.checkpointOffset);return this.reset(),t}}class st{constructor(t,i,s){this.pageNo=t,this.timestamp=i,this.onBatch=s,this.nextIndex=0,this.beaconSize=2e5,this.writer=new it(this.beaconSize),this.isEmpty=!0,this.beaconSizeLimit=1e6,this.prepare()}prepare(){this.writer.isEmpty()&&new s(this.pageNo,this.nextIndex,this.timestamp).encode(this.writer)}write(t){const i=t.encode(this.writer);return i&&(this.isEmpty=!1,this.writer.checkpoint(),this.nextIndex++),i}setBeaconSizeLimit(t){this.beaconSizeLimit=t}writeMessage(t){for(t instanceof e&&(this.timestamp=t.timestamp);!this.write(t);){if(this.finaliseBatch(),this.beaconSize===this.beaconSizeLimit)return console.warn(\"OpenReplay: beacon size overflow. Skipping large message.\"),this.writer.reset(),this.prepare(),void(this.isEmpty=!0);this.beaconSize=Math.min(2*this.beaconSize,this.beaconSizeLimit),this.writer=new it(this.beaconSize),this.prepare(),this.isEmpty=!0}}finaliseBatch(){this.isEmpty||(this.onBatch(this.writer.flush()),this.prepare(),this.isEmpty=!0)}clean(){this.writer.reset()}}var et;!function(t){t[t.NotActive=0]=\"NotActive\",t[t.Starting=1]=\"Starting\",t[t.Stopping=2]=\"Stopping\",t[t.Active=3]=\"Active\"}(et||(et={}));let nt=null,rt=null,ht=et.NotActive;function ot(){rt&&rt.finaliseBatch()}function ct(){ht=et.Stopping,null!==ut&&(clearInterval(ut),ut=null),rt&&(rt.clean(),rt=null),ht=et.NotActive}let at,ut=null;self.onmessage=({data:t})=>{if(null!=t){if(\"stop\"===t)return ot(),void ct();if(Array.isArray(t)){if(!rt)throw new Error(\"WebWorker: writer not initialised. Service Should be Started.\");const s=rt;t.forEach(t=>{const e=new(i.get(t._id));Object.assign(e,t),e instanceof H&&(e.hidden?at=setTimeout(()=>self.postMessage(\"restart\"),18e5):clearTimeout(at)),s.writeMessage(e)})}else{if(\"start\"===t.type)return ht=et.Starting,nt=new Z(t.ingestPoint,()=>{self.postMessage(\"restart\")},()=>{nt&&(nt.clean(),nt=null),ct(),self.postMessage(\"failed\")},t.connAttemptCount,t.connAttemptGap),rt=new st(t.pageNo,t.timestamp,t=>nt&&nt.push(t)),null===ut&&(ut=setInterval(ot,1e4)),ht=et.Active;if(\"auth\"===t.type){if(!nt)throw new Error(\"WebWorker: sender not initialised. Received auth.\");if(!rt)throw new Error(\"WebWorker: writer not initialised. Received auth.\");return nt.authorise(t.token),void(t.beaconSizeLimit&&rt.setBeaconSizeLimit(t.beaconSizeLimit))}}}else ot()};\n`], { type: 'text/javascript' })));\n            this.worker.onerror = e => {\n                this._debug(\"webworker_error\", e);\n            };\n            this.worker.onmessage = ({ data }) => {\n                if (data === \"failed\") {\n                    this.stop();\n                    this._debug(\"worker_failed\", {}); // add context (from worker)\n                }\n                else if (data === \"restart\") {\n                    this.stop();\n                    this.start({ forceNew: true });\n                }\n            };\n            const alertWorker = () => {\n                if (this.worker) {\n                    this.worker.postMessage(null);\n                }\n            };\n            // keep better tactics, discard others?\n            this.attachEventListener(window, 'beforeunload', alertWorker, false);\n            this.attachEventListener(document.body, 'mouseleave', alertWorker, false, false);\n            // TODO: stop session after inactivity timeout (make configurable)\n            this.attachEventListener(document, 'visibilitychange', alertWorker, false);\n        }\n        catch (e) {\n            this._debug(\"worker_start\", e);\n        }\n    }\n    _debug(context, e) {\n        if (this.options.__debug_report_edp !== null) {\n            fetch(this.options.__debug_report_edp, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    context,\n                    error: `${e}`\n                })\n            });\n        }\n        this.debug.error(\"OpenReplay error: \", context, e);\n    }\n    send(message, urgent = false) {\n        if (this.activityState === ActivityState.NotActive) {\n            return;\n        }\n        this.messages.push(message);\n        // TODO: commit on start if there were `urgent` sends; \n        // Clearify where urgent can be used for;\n        // Clearify workflow for each type of message in case it was sent before start \n        //      (like Fetch before start; maybe add an option \"preCapture: boolean\" or sth alike)\n        if (this.activityState === ActivityState.Active && urgent) {\n            this.commit();\n        }\n    }\n    commit() {\n        if (this.worker && this.messages.length) {\n            this.messages.unshift(new Timestamp(timestamp()));\n            this.worker.postMessage(this.messages);\n            this.commitCallbacks.forEach(cb => cb(this.messages));\n            this.messages.length = 0;\n        }\n    }\n    safe(fn) {\n        const app = this;\n        return function (...args) {\n            try {\n                fn.apply(this, args);\n            }\n            catch (e) {\n                app._debug(\"safe_fn_call\", e);\n                // time: timestamp(),\n                // name: e.name,\n                // message: e.message,\n                // stack: e.stack\n            }\n        }; // TODO: correct typing\n    }\n    attachCommitCallback(cb) {\n        this.commitCallbacks.push(cb);\n    }\n    attachStartCallback(cb) {\n        this.startCallbacks.push(cb);\n    }\n    attachStopCallback(cb) {\n        this.stopCallbacks.push(cb);\n    }\n    attachEventListener(target, type, listener, useSafe = true, useCapture = true) {\n        if (useSafe) {\n            listener = this.safe(listener);\n        }\n        this.attachStartCallback(() => target.addEventListener(type, listener, useCapture));\n        this.attachStopCallback(() => target.removeEventListener(type, listener, useCapture));\n    }\n    // TODO: full correct semantic\n    checkRequiredVersion(version) {\n        const reqVer = version.split(/[.-]/);\n        const ver = this.version.split(/[.-]/);\n        for (let i = 0; i < 3; i++) {\n            if (Number(ver[i]) < Number(reqVer[i]) || isNaN(Number(ver[i])) || isNaN(Number(reqVer[i]))) {\n                return false;\n            }\n        }\n        return true;\n    }\n    getStartInfo() {\n        return {\n            userUUID: this.localStorage.getItem(this.options.local_uuid_key),\n            projectKey: this.projectKey,\n            revID: this.revID,\n            timestamp: timestamp(),\n            trackerVersion: this.version,\n            isSnippet: this.options.__is_snippet,\n        };\n    }\n    getSessionInfo() {\n        return Object.assign(Object.assign({}, this.session.getInfo()), this.getStartInfo());\n    }\n    getSessionToken() {\n        const token = this.sessionStorage.getItem(this.options.session_token_key);\n        if (token !== null) {\n            return token;\n        }\n    }\n    getSessionID() {\n        return this.session.getInfo().sessionID || undefined;\n    }\n    getHost() {\n        return new URL(this.options.ingestPoint).hostname;\n    }\n    getProjectKey() {\n        return this.projectKey;\n    }\n    getBaseHref() {\n        var _a, _b;\n        if (typeof this.options.resourceBaseHref === 'string') {\n            return this.options.resourceBaseHref;\n        }\n        else if (typeof this.options.resourceBaseHref === 'object') {\n            //switch between  types\n        }\n        if (document.baseURI) {\n            return document.baseURI;\n        }\n        // IE only\n        return ((_b = (_a = document.head) === null || _a === void 0 ? void 0 : _a.getElementsByTagName(\"base\")[0]) === null || _b === void 0 ? void 0 : _b.getAttribute(\"href\")) || location.origin + location.pathname;\n    }\n    resolveResourceURL(resourceURL) {\n        const base = new URL(this.getBaseHref());\n        base.pathname += \"/\" + new URL(resourceURL).pathname;\n        base.pathname.replace(/\\/+/g, \"/\");\n        return base.toString();\n    }\n    isServiceURL(url) {\n        return url.startsWith(this.options.ingestPoint);\n    }\n    active() {\n        return this.activityState === ActivityState.Active;\n    }\n    resetNextPageSession(flag) {\n        if (flag) {\n            this.sessionStorage.setItem(this.options.session_reset_key, 't');\n        }\n        else {\n            this.sessionStorage.removeItem(this.options.session_reset_key);\n        }\n    }\n    _start(startOpts) {\n        if (!this.worker) {\n            return Promise.resolve(UnsuccessfulStart(\"No worker found: perhaps, CSP is not set.\"));\n        }\n        if (this.activityState !== ActivityState.NotActive) {\n            return Promise.resolve(UnsuccessfulStart(\"OpenReplay: trying to call `start()` on the instance that has been started already.\"));\n        }\n        this.activityState = ActivityState.Starting;\n        let pageNo = 0;\n        const pageNoStr = this.sessionStorage.getItem(this.options.session_pageno_key);\n        if (pageNoStr != null) {\n            pageNo = parseInt(pageNoStr);\n            pageNo++;\n        }\n        this.sessionStorage.setItem(this.options.session_pageno_key, pageNo.toString());\n        const startInfo = this.getStartInfo();\n        const startWorkerMsg = {\n            type: \"start\",\n            pageNo,\n            ingestPoint: this.options.ingestPoint,\n            timestamp: startInfo.timestamp,\n            connAttemptCount: this.options.connAttemptCount,\n            connAttemptGap: this.options.connAttemptGap,\n        };\n        this.worker.postMessage(startWorkerMsg);\n        this.session.update({\n            // \"updating\" with old metadata in order to trigger session's UpdateCallbacks. \n            // (for the case of internal .start() calls, like on \"restart\" webworker signal or assistent connection in tracker-assist )\n            metadata: startOpts.metadata || this.session.getInfo().metadata,\n            userID: startOpts.userID,\n        });\n        const sReset = this.sessionStorage.getItem(this.options.session_reset_key);\n        this.sessionStorage.removeItem(this.options.session_reset_key);\n        return window.fetch(this.options.ingestPoint + '/v1/web/start', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(Object.assign(Object.assign({}, startInfo), { userID: this.session.getInfo().userID, token: this.sessionStorage.getItem(this.options.session_token_key), deviceMemory,\n                jsHeapSizeLimit, reset: startOpts.forceNew || sReset !== null })),\n        })\n            .then(r => {\n            if (r.status === 200) {\n                return r.json();\n            }\n            else {\n                return r.text().then(text => text === CANCELED\n                    ? Promise.reject(CANCELED)\n                    : Promise.reject(`Server error: ${r.status}. ${text}`));\n            }\n        })\n            .then(r => {\n            if (!this.worker) {\n                return Promise.reject(\"no worker found after start request (this might not happen)\");\n            }\n            const { token, userUUID, sessionID, beaconSizeLimit } = r;\n            if (typeof token !== 'string' ||\n                typeof userUUID !== 'string' ||\n                (typeof beaconSizeLimit !== 'number' && typeof beaconSizeLimit !== 'undefined')) {\n                return Promise.reject(`Incorrect server response: ${JSON.stringify(r)}`);\n            }\n            this.sessionStorage.setItem(this.options.session_token_key, token);\n            this.localStorage.setItem(this.options.local_uuid_key, userUUID);\n            this.session.update({ sessionID }); // TODO: no no-explicit 'any'\n            const startWorkerMsg = {\n                type: \"auth\",\n                token,\n                beaconSizeLimit\n            };\n            this.worker.postMessage(startWorkerMsg);\n            this.activityState = ActivityState.Active;\n            const onStartInfo = { sessionToken: token, userUUID, sessionID };\n            this.startCallbacks.forEach((cb) => cb(onStartInfo)); // TODO: start as early as possible (before receiving the token)\n            this.observer.observe();\n            this.ticker.start();\n            this.notify.log(\"OpenReplay tracking started.\");\n            // get rid of onStart ?\n            if (typeof this.options.onStart === 'function') {\n                this.options.onStart(onStartInfo);\n            }\n            return SuccessfulStart(onStartInfo);\n        })\n            .catch(reason => {\n            this.sessionStorage.removeItem(this.options.session_token_key);\n            this.stop();\n            if (reason === CANCELED) {\n                return UnsuccessfulStart(CANCELED);\n            }\n            this.notify.log(\"OpenReplay was unable to start. \", reason);\n            this._debug(\"session_start\", reason);\n            return UnsuccessfulStart(START_ERROR);\n        });\n    }\n    start(options = {}) {\n        if (!document.hidden) {\n            return this._start(options);\n        }\n        else {\n            return new Promise((resolve) => {\n                const onVisibilityChange = () => {\n                    if (!document.hidden) {\n                        document.removeEventListener(\"visibilitychange\", onVisibilityChange);\n                        resolve(this._start(options));\n                    }\n                };\n                document.addEventListener(\"visibilitychange\", onVisibilityChange);\n            });\n        }\n    }\n    stop(calledFromAPI = false) {\n        if (this.activityState !== ActivityState.NotActive) {\n            try {\n                this.sanitizer.clear();\n                this.observer.disconnect();\n                this.nodes.clear();\n                this.ticker.stop();\n                this.stopCallbacks.forEach((cb) => cb());\n                if (calledFromAPI) {\n                    this.session.reset();\n                }\n                this.notify.log(\"OpenReplay tracking stopped.\");\n                if (this.worker) {\n                    this.worker.postMessage(\"stop\");\n                }\n            }\n            finally {\n                this.activityState = ActivityState.NotActive;\n            }\n        }\n    }\n}\n","import { hasTag } from \"../app/guards.js\";\nimport { IN_BROWSER } from \"../utils.js\";\nimport { ConsoleLog } from \"../common/messages.js\";\nconst printError = IN_BROWSER && 'InstallTrigger' in window // detect Firefox\n    ? (e) => e.message + '\\n' + e.stack\n    : (e) => e.stack || e.message;\nfunction printString(arg) {\n    if (arg === undefined) {\n        return 'undefined';\n    }\n    if (arg === null) {\n        return 'null';\n    }\n    if (arg instanceof Error) {\n        return printError(arg);\n    }\n    if (Array.isArray(arg)) {\n        return `Array(${arg.length})`;\n    }\n    return String(arg);\n}\nfunction printFloat(arg) {\n    if (typeof arg !== 'number')\n        return 'NaN';\n    return arg.toString();\n}\nfunction printInt(arg) {\n    if (typeof arg !== 'number')\n        return 'NaN';\n    return Math.floor(arg).toString();\n}\nfunction printObject(arg) {\n    if (arg === undefined) {\n        return 'undefined';\n    }\n    if (arg === null) {\n        return 'null';\n    }\n    if (arg instanceof Error) {\n        return printError(arg);\n    }\n    if (Array.isArray(arg)) {\n        const length = arg.length;\n        const values = arg.slice(0, 10).map(printString).join(', ');\n        return `Array(${length})[${values}]`;\n    }\n    if (typeof arg === 'object') {\n        const res = [];\n        let i = 0;\n        for (const k in arg) {\n            if (++i === 10) {\n                break;\n            }\n            const v = arg[k];\n            res.push(k + ': ' + printString(v));\n        }\n        return '{' + res.join(', ') + '}';\n    }\n    return arg.toString();\n}\nfunction printf(args) {\n    if (typeof args[0] === 'string') {\n        args.unshift(args.shift().replace(/%(o|s|f|d|i)/g, (s, t) => {\n            const arg = args.shift();\n            if (arg === undefined)\n                return s;\n            switch (t) {\n                case 'o':\n                    return printObject(arg);\n                case 's':\n                    return printString(arg);\n                case 'f':\n                    return printFloat(arg);\n                case 'd':\n                case 'i':\n                    return printInt(arg);\n                default:\n                    return s;\n            }\n        }));\n    }\n    return args.map(printObject).join(' ');\n}\nconst consoleMethods = ['log', 'info', 'warn', 'error', 'debug', 'assert'];\nexport default function (app, opts) {\n    const options = Object.assign({\n        consoleMethods,\n        consoleThrottling: 30,\n    }, opts);\n    if (!Array.isArray(options.consoleMethods) ||\n        options.consoleMethods.length === 0) {\n        return;\n    }\n    const sendConsoleLog = app.safe((level, args) => app.send(new ConsoleLog(level, printf(args))));\n    let n;\n    const reset = () => {\n        n = 0;\n    };\n    app.attachStartCallback(reset);\n    app.ticker.attach(reset, 33, false);\n    const patchConsole = (console) => options.consoleMethods.forEach((method) => {\n        if (consoleMethods.indexOf(method) === -1) {\n            console.error(`OpenReplay: unsupported console method \"${method}\"`);\n            return;\n        }\n        const fn = console[method];\n        console[method] = function (...args) {\n            fn.apply(this, args);\n            if (n++ > options.consoleThrottling) {\n                return;\n            }\n            sendConsoleLog(method, args);\n        };\n    });\n    patchConsole(window.console);\n    app.nodes.attachNodeCallback(app.safe(node => {\n        if (hasTag(node, \"IFRAME\")) { // TODO: newContextCallback\n            let context = node.contentWindow;\n            if (context) {\n                patchConsole(context.console);\n            }\n            app.attachEventListener(node, \"load\", () => {\n                if (node.contentWindow !== context) {\n                    context = node.contentWindow;\n                    patchConsole(context.console);\n                }\n            });\n        }\n    }));\n}\n","import { JSException } from \"../common/messages.js\";\nimport ErrorStackParser from 'error-stack-parser';\nfunction getDefaultStack(e) {\n    return [{\n            columnNumber: e.colno,\n            lineNumber: e.lineno,\n            fileName: e.filename,\n            functionName: \"\",\n            source: \"\",\n        }];\n}\nexport function getExceptionMessage(error, fallbackStack) {\n    let stack = fallbackStack;\n    try {\n        stack = ErrorStackParser.parse(error);\n    }\n    catch (e) {\n    }\n    return new JSException(error.name, error.message, JSON.stringify(stack));\n}\nexport function getExceptionMessageFromEvent(e) {\n    if (e instanceof ErrorEvent) {\n        if (e.error instanceof Error) {\n            return getExceptionMessage(e.error, getDefaultStack(e));\n        }\n        else {\n            let [name, message] = e.message.split(':');\n            if (!message) {\n                name = 'Error';\n                message = e.message;\n            }\n            return new JSException(name, message, JSON.stringify(getDefaultStack(e)));\n        }\n    }\n    else if ('PromiseRejectionEvent' in window && e instanceof PromiseRejectionEvent) {\n        if (e.reason instanceof Error) {\n            return getExceptionMessage(e.reason, []);\n        }\n        else {\n            let message;\n            try {\n                message = JSON.stringify(e.reason);\n            }\n            catch (_) {\n                message = String(e.reason);\n            }\n            return new JSException('Unhandled Promise Rejection', message, '[]');\n        }\n    }\n    return null;\n}\nexport default function (app, opts) {\n    const options = Object.assign({\n        captureExceptions: true,\n    }, opts);\n    if (options.captureExceptions) {\n        const handler = (e) => {\n            const msg = getExceptionMessageFromEvent(e);\n            if (msg != null) {\n                app.send(msg);\n            }\n        };\n        app.attachEventListener(window, 'unhandledrejection', (e) => handler(e));\n        app.attachEventListener(window, 'error', (e) => handler(e));\n    }\n}\n","import { timestamp, isURL } from \"../utils.js\";\nimport { ResourceTiming, SetNodeAttributeURLBased, SetNodeAttribute } from \"../common/messages.js\";\nimport { hasTag } from \"../app/guards.js\";\nfunction resolveURL(url, location = document.location) {\n    url = url.trim();\n    if (url.startsWith('/')) {\n        return location.origin + url;\n    }\n    else if (url.startsWith('http://') ||\n        url.startsWith('https://') ||\n        url.startsWith('data:') // any other possible value here?\n    ) {\n        return url;\n    }\n    else {\n        return location.origin + location.pathname + url;\n    }\n}\nconst PLACEHOLDER_SRC = \"https://static.openreplay.com/tracker/placeholder.jpeg\";\nexport default function (app) {\n    function sendPlaceholder(id, node) {\n        app.send(new SetNodeAttribute(id, \"src\", PLACEHOLDER_SRC));\n        const { width, height } = node.getBoundingClientRect();\n        if (!node.hasAttribute(\"width\")) {\n            app.send(new SetNodeAttribute(id, \"width\", String(width)));\n        }\n        if (!node.hasAttribute(\"height\")) {\n            app.send(new SetNodeAttribute(id, \"height\", String(height)));\n        }\n    }\n    const sendImgSrc = app.safe(function () {\n        const id = app.nodes.getID(this);\n        if (id === undefined) {\n            return;\n        }\n        const { src, complete, naturalWidth, naturalHeight, srcset } = this;\n        if (!complete) {\n            return;\n        }\n        const resolvedSrc = resolveURL(src || ''); // Src type is null sometimes. - is it true?\n        if (naturalWidth === 0 && naturalHeight === 0) {\n            if (isURL(resolvedSrc)) {\n                app.send(new ResourceTiming(timestamp(), 0, 0, 0, 0, 0, resolvedSrc, 'img'));\n            }\n        }\n        else if (resolvedSrc.length >= 1e5 || app.sanitizer.isMasked(id)) {\n            sendPlaceholder(id, this);\n        }\n        else {\n            app.send(new SetNodeAttribute(id, 'src', resolvedSrc));\n            if (srcset) {\n                const resolvedSrcset = srcset.split(',').map(str => resolveURL(str)).join(',');\n                app.send(new SetNodeAttribute(id, 'srcset', resolvedSrcset));\n            }\n        }\n    });\n    const observer = new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type === \"attributes\") {\n                const target = mutation.target;\n                const id = app.nodes.getID(target);\n                if (id === undefined) {\n                    return;\n                }\n                if (mutation.attributeName === \"src\") {\n                    const src = target.src;\n                    app.send(new SetNodeAttributeURLBased(id, 'src', src, app.getBaseHref()));\n                }\n                if (mutation.attributeName === \"srcset\") {\n                    const srcset = target.srcset;\n                    app.send(new SetNodeAttribute(id, 'srcset', srcset));\n                }\n            }\n        }\n    });\n    app.nodes.attachNodeCallback((node) => {\n        if (!hasTag(node, \"IMG\")) {\n            return;\n        }\n        app.nodes.attachElementListener('error', node, sendImgSrc);\n        app.nodes.attachElementListener('load', node, sendImgSrc);\n        sendImgSrc.call(node);\n        observer.observe(node, { attributes: true, attributeFilter: [\"src\", \"srcset\"] });\n    });\n}\n","import { normSpaces, IN_BROWSER, getLabelAttribute, hasOpenreplayAttribute, } from \"../utils.js\";\nimport { hasTag } from \"../app/guards.js\";\nimport { SetInputTarget, SetInputValue, SetInputChecked } from \"../common/messages.js\";\nconst INPUT_TYPES = ['text', 'password', 'email', 'search', 'number', 'range', 'date'];\nfunction isTextEditable(node) {\n    if (hasTag(node, \"TEXTAREA\")) {\n        return true;\n    }\n    if (!hasTag(node, \"INPUT\")) {\n        return false;\n    }\n    return INPUT_TYPES.includes(node.type);\n}\nfunction isCheckable(node) {\n    if (!hasTag(node, \"INPUT\")) {\n        return false;\n    }\n    const type = node.type;\n    return type === 'checkbox' || type === 'radio';\n}\nconst labelElementFor = IN_BROWSER && 'labels' in HTMLInputElement.prototype\n    ? (node) => {\n        let p = node;\n        while ((p = p.parentNode) !== null) {\n            if (hasTag(p, \"LABEL\")) {\n                return p;\n            }\n        }\n        const labels = node.labels;\n        if (labels !== null && labels.length === 1) {\n            return labels[0];\n        }\n    }\n    : (node) => {\n        let p = node;\n        while ((p = p.parentNode) !== null) {\n            if (hasTag(p, \"LABEL\")) {\n                return p;\n            }\n        }\n        const id = node.id;\n        if (id) {\n            const labels = document.querySelectorAll('label[for=\"' + id + '\"]');\n            if (labels !== null && labels.length === 1) {\n                return labels[0];\n            }\n        }\n    };\nexport function getInputLabel(node) {\n    let label = getLabelAttribute(node);\n    if (label === null) {\n        const labelElement = labelElementFor(node);\n        label = (labelElement && labelElement.innerText)\n            || node.placeholder\n            || node.name\n            || node.id\n            || node.className\n            || node.type;\n    }\n    return normSpaces(label).slice(0, 100);\n}\nexport default function (app, opts) {\n    const options = Object.assign({\n        obscureInputNumbers: true,\n        obscureInputEmails: true,\n        defaultInputMode: 0 /* InputMode.Plain */,\n        obscureInputDates: false,\n    }, opts);\n    function sendInputTarget(id, node) {\n        const label = getInputLabel(node);\n        if (label !== '') {\n            app.send(new SetInputTarget(id, label));\n        }\n    }\n    function sendInputValue(id, node) {\n        let value = node.value;\n        let inputMode = options.defaultInputMode;\n        if (node.type === 'password' || hasOpenreplayAttribute(node, 'hidden')) {\n            inputMode = 2 /* InputMode.Hidden */;\n        }\n        else if (hasOpenreplayAttribute(node, 'obscured') ||\n            (inputMode === 0 /* InputMode.Plain */ &&\n                ((options.obscureInputNumbers && node.type !== 'date' && /\\d\\d\\d\\d/.test(value)) ||\n                    (options.obscureInputDates && node.type === 'date') ||\n                    (options.obscureInputEmails &&\n                        (node.type === 'email' || !!~value.indexOf('@')))))) {\n            inputMode = 1 /* InputMode.Obscured */;\n        }\n        let mask = 0;\n        switch (inputMode) {\n            case 2 /* InputMode.Hidden */:\n                mask = -1;\n                value = '';\n                break;\n            case 1 /* InputMode.Obscured */:\n                mask = value.length;\n                value = '';\n                break;\n        }\n        app.send(new SetInputValue(id, value, mask));\n    }\n    const inputValues = new Map();\n    const checkableValues = new Map();\n    const registeredTargets = new Set();\n    app.attachStopCallback(() => {\n        inputValues.clear();\n        checkableValues.clear();\n        registeredTargets.clear();\n    });\n    app.ticker.attach(() => {\n        inputValues.forEach((value, id) => {\n            const node = app.nodes.getNode(id);\n            if (!isTextEditable(node)) {\n                inputValues.delete(id);\n                return;\n            }\n            if (value !== node.value) {\n                inputValues.set(id, node.value);\n                if (!registeredTargets.has(id)) {\n                    registeredTargets.add(id);\n                    sendInputTarget(id, node);\n                }\n                sendInputValue(id, node);\n            }\n        });\n        checkableValues.forEach((checked, id) => {\n            const node = app.nodes.getNode(id);\n            if (!isCheckable(node)) {\n                checkableValues.delete(id);\n                return;\n            }\n            if (checked !== node.checked) {\n                checkableValues.set(id, node.checked);\n                app.send(new SetInputChecked(id, node.checked));\n            }\n        });\n    });\n    app.ticker.attach(Set.prototype.clear, 100, false, registeredTargets);\n    app.nodes.attachNodeCallback(app.safe((node) => {\n        const id = app.nodes.getID(node);\n        if (id === undefined) {\n            return;\n        }\n        // TODO: support multiple select (?): use selectedOptions; Need send target?\n        if (hasTag(node, \"SELECT\")) {\n            sendInputValue(id, node);\n            app.attachEventListener(node, \"change\", () => {\n                sendInputValue(id, node);\n            });\n        }\n        if (isTextEditable(node)) {\n            inputValues.set(id, node.value);\n            sendInputValue(id, node);\n            return;\n        }\n        if (isCheckable(node)) {\n            checkableValues.set(id, node.checked);\n            app.send(new SetInputChecked(id, node.checked));\n            return;\n        }\n    }));\n}\n","import { hasTag, isSVGElement } from \"../app/guards.js\";\nimport { normSpaces, hasOpenreplayAttribute, getLabelAttribute, } from \"../utils.js\";\nimport { MouseMove, MouseClick } from \"../common/messages.js\";\nimport { getInputLabel } from \"./input.js\";\nfunction _getSelector(target) {\n    let el = target;\n    let selector = null;\n    do {\n        if (el.id) {\n            return `#${el.id}` + (selector ? ` > ${selector}` : '');\n        }\n        selector =\n            el.className.split(' ')\n                .map(cn => cn.trim())\n                .filter(cn => cn !== '')\n                .reduce((sel, cn) => `${sel}.${cn}`, el.tagName.toLowerCase()) +\n                (selector ? ` > ${selector}` : '');\n        if (el === document.body) {\n            return selector;\n        }\n        el = el.parentElement;\n    } while (el !== document.body && el !== null);\n    return selector;\n}\nfunction isClickable(element) {\n    const tag = element.tagName.toUpperCase();\n    return tag === 'BUTTON' ||\n        tag === 'A' ||\n        tag === 'LI' ||\n        tag === 'SELECT' ||\n        element.onclick != null ||\n        element.getAttribute('role') === 'button';\n    //|| element.className.includes(\"btn\")\n    // MBTODO: intersect addEventListener\n}\n//TODO: fix (typescript doesn't allow work when the guard is inside the function)\nfunction getTarget(target) {\n    if (target instanceof Element) {\n        return _getTarget(target);\n    }\n    return null;\n}\nfunction _getTarget(target) {\n    let element = target;\n    while (element !== null && element !== document.documentElement) {\n        if (hasOpenreplayAttribute(element, 'masked')) {\n            return null;\n        }\n        element = element.parentElement;\n    }\n    if (isSVGElement(target)) {\n        let owner = target.ownerSVGElement;\n        while (owner !== null) {\n            target = owner;\n            owner = owner.ownerSVGElement;\n        }\n    }\n    element = target;\n    while (element !== null && element !== document.documentElement) {\n        const tag = element.tagName.toUpperCase();\n        if (tag === 'LABEL') {\n            return null;\n        }\n        if (tag === 'INPUT') {\n            return element;\n        }\n        if (isClickable(element) ||\n            getLabelAttribute(element) !== null) {\n            return element;\n        }\n        element = element.parentElement;\n    }\n    return target === document.documentElement ? null : target;\n}\nexport default function (app) {\n    function getTargetLabel(target) {\n        const dl = getLabelAttribute(target);\n        if (dl !== null) {\n            return dl;\n        }\n        if (hasTag(target, \"INPUT\")) {\n            return getInputLabel(target);\n        }\n        if (isClickable(target)) {\n            let label = '';\n            if (target instanceof HTMLElement) {\n                label = app.sanitizer.getInnerTextSecure(target);\n            }\n            label = label || target.id || target.className;\n            return normSpaces(label).slice(0, 100);\n        }\n        return '';\n    }\n    let mousePositionX = -1;\n    let mousePositionY = -1;\n    let mousePositionChanged = false;\n    let mouseTarget = null;\n    let mouseTargetTime = 0;\n    app.attachStopCallback(() => {\n        mousePositionX = -1;\n        mousePositionY = -1;\n        mousePositionChanged = false;\n        mouseTarget = null;\n    });\n    const sendMouseMove = () => {\n        if (mousePositionChanged) {\n            app.send(new MouseMove(mousePositionX, mousePositionY));\n            mousePositionChanged = false;\n        }\n    };\n    const selectorMap = {};\n    function getSelector(id, target) {\n        return selectorMap[id] = selectorMap[id] || _getSelector(target);\n    }\n    app.attachEventListener(document.documentElement, 'mouseover', (e) => {\n        const target = getTarget(e.target);\n        if (target !== mouseTarget) {\n            mouseTarget = target;\n            mouseTargetTime = performance.now();\n        }\n    });\n    app.attachEventListener(document, 'mousemove', (e) => {\n        mousePositionX = e.clientX;\n        mousePositionY = e.clientY;\n        mousePositionChanged = true;\n    }, false);\n    app.attachEventListener(document, 'click', (e) => {\n        const target = getTarget(e.target);\n        if ((!e.clientX && !e.clientY) || target === null) {\n            return;\n        }\n        const id = app.nodes.getID(target);\n        if (id !== undefined) {\n            sendMouseMove();\n            app.send(new MouseClick(id, mouseTarget === target\n                ? Math.round(performance.now() - mouseTargetTime)\n                : 0, getTargetLabel(target), getSelector(id, target)), true);\n        }\n        mouseTarget = null;\n    });\n    app.ticker.attach(sendMouseMove, 10);\n}\n","import { hasTag } from \"../app/guards.js\";\nimport { isURL } from \"../utils.js\";\nimport { ResourceTiming, PageLoadTiming, PageRenderTiming } from \"../common/messages.js\";\nfunction getPaintBlocks(resources) {\n    const paintBlocks = [];\n    const elements = document.getElementsByTagName('*');\n    const styleURL = /url\\((\"[^\"]*\"|'[^']*'|[^)]*)\\)/i;\n    for (let i = 0; i < elements.length; i++) {\n        const element = elements[i];\n        let src = '';\n        if (hasTag(element, \"IMG\")) {\n            src = element.currentSrc || element.src;\n        }\n        if (!src) {\n            const backgroundImage = getComputedStyle(element).getPropertyValue('background-image');\n            if (backgroundImage) {\n                const matches = styleURL.exec(backgroundImage);\n                if (matches !== null) {\n                    src = matches[1];\n                    if (src.startsWith('\"') || src.startsWith(\"'\")) {\n                        src = src.substr(1, src.length - 2);\n                    }\n                }\n            }\n        }\n        if (!src)\n            continue;\n        const time = src.substr(0, 10) === 'data:image' ? 0 : resources[src];\n        if (time === undefined)\n            continue;\n        const rect = element.getBoundingClientRect();\n        const top = Math.max(rect.top, 0);\n        const left = Math.max(rect.left, 0);\n        const bottom = Math.min(rect.bottom, window.innerHeight ||\n            (document.documentElement && document.documentElement.clientHeight) ||\n            0);\n        const right = Math.min(rect.right, window.innerWidth ||\n            (document.documentElement && document.documentElement.clientWidth) ||\n            0);\n        if (bottom <= top || right <= left)\n            continue;\n        const area = (bottom - top) * (right - left);\n        paintBlocks.push({ time, area });\n    }\n    return paintBlocks;\n}\nfunction calculateSpeedIndex(firstContentfulPaint, paintBlocks) {\n    let a = (Math.max((document.documentElement && document.documentElement.clientWidth) || 0, window.innerWidth || 0) *\n        Math.max((document.documentElement && document.documentElement.clientHeight) ||\n            0, window.innerHeight || 0)) /\n        10;\n    let s = a * firstContentfulPaint;\n    for (let i = 0; i < paintBlocks.length; i++) {\n        const { time, area } = paintBlocks[i];\n        a += area;\n        s += area * (time > firstContentfulPaint ? time : firstContentfulPaint);\n    }\n    return a === 0 ? 0 : s / a;\n}\nexport default function (app, opts) {\n    const options = Object.assign({\n        captureResourceTimings: true,\n        capturePageLoadTimings: true,\n        capturePageRenderTimings: true,\n    }, opts);\n    if (!('PerformanceObserver' in window)) {\n        options.captureResourceTimings = false;\n    }\n    if (!options.captureResourceTimings) {\n        return;\n    } // Resources are necessary for all timings\n    let resources = {};\n    function resourceTiming(entry) {\n        if (entry.duration < 0 || !isURL(entry.name) || app.isServiceURL(entry.name))\n            return;\n        if (resources !== null) {\n            resources[entry.name] = entry.startTime + entry.duration;\n        }\n        app.send(new ResourceTiming(entry.startTime + performance.timing.navigationStart, entry.duration, entry.responseStart && entry.startTime\n            ? entry.responseStart - entry.startTime\n            : 0, entry.transferSize > entry.encodedBodySize\n            ? entry.transferSize - entry.encodedBodySize\n            : 0, entry.encodedBodySize || 0, entry.decodedBodySize || 0, entry.name, entry.initiatorType));\n    }\n    const observer = new PerformanceObserver((list) => list.getEntries().forEach(resourceTiming));\n    let prevSessionID;\n    app.attachStartCallback(function ({ sessionID }) {\n        if (sessionID !== prevSessionID) { // Send past page resources on a newly started session\n            performance.getEntriesByType('resource').forEach(resourceTiming);\n            prevSessionID = sessionID;\n        }\n        observer.observe({ entryTypes: ['resource'] });\n    });\n    app.attachStopCallback(function () {\n        observer.disconnect();\n    });\n    let firstPaint = 0, firstContentfulPaint = 0;\n    if (options.capturePageLoadTimings) {\n        let pageLoadTimingSent = false;\n        app.ticker.attach(() => {\n            if (pageLoadTimingSent) {\n                return;\n            }\n            if (firstPaint === 0 || firstContentfulPaint === 0) {\n                performance\n                    .getEntriesByType('paint')\n                    .forEach((entry) => {\n                    const { name, startTime } = entry;\n                    switch (name) {\n                        case 'first-paint':\n                            firstPaint = startTime;\n                            break;\n                        case 'first-contentful-paint':\n                            firstContentfulPaint = startTime;\n                            break;\n                    }\n                });\n            }\n            if (performance.timing.loadEventEnd || performance.now() > 30000) {\n                pageLoadTimingSent = true;\n                const { navigationStart, requestStart, responseStart, responseEnd, domContentLoadedEventStart, domContentLoadedEventEnd, loadEventStart, loadEventEnd, } = performance.timing;\n                app.send(new PageLoadTiming(requestStart - navigationStart || 0, responseStart - navigationStart || 0, responseEnd - navigationStart || 0, domContentLoadedEventStart - navigationStart || 0, domContentLoadedEventEnd - navigationStart || 0, loadEventStart - navigationStart || 0, loadEventEnd - navigationStart || 0, firstPaint, firstContentfulPaint));\n            }\n        }, 30);\n    }\n    if (options.capturePageRenderTimings) {\n        let visuallyComplete = 0, interactiveWindowStartTime = 0, interactiveWindowTickTime = 0, paintBlocks = null;\n        let pageRenderTimingSent = false;\n        app.ticker.attach(() => {\n            if (pageRenderTimingSent) {\n                return;\n            }\n            const time = performance.now();\n            if (resources !== null) {\n                visuallyComplete = Math.max.apply(null, Object.keys(resources).map((k) => resources[k]));\n                if (time - visuallyComplete > 1000) {\n                    paintBlocks = getPaintBlocks(resources);\n                    resources = null;\n                }\n            }\n            if (interactiveWindowTickTime !== null) {\n                if (time - interactiveWindowTickTime > 50) {\n                    interactiveWindowStartTime = time;\n                }\n                interactiveWindowTickTime =\n                    time - interactiveWindowStartTime > 5000 ? null : time;\n            }\n            if ((paintBlocks !== null && interactiveWindowTickTime === null) ||\n                time > 30000) {\n                pageRenderTimingSent = true;\n                resources = null;\n                const speedIndex = paintBlocks === null\n                    ? 0\n                    : calculateSpeedIndex(firstContentfulPaint || firstPaint, paintBlocks);\n                const timeToInteractive = interactiveWindowTickTime === null\n                    ? Math.max(interactiveWindowStartTime, firstContentfulPaint, performance.timing.domContentLoadedEventEnd -\n                        performance.timing.navigationStart || 0)\n                    : 0;\n                app.send(new PageRenderTiming(speedIndex, firstContentfulPaint > visuallyComplete\n                    ? firstContentfulPaint\n                    : visuallyComplete, timeToInteractive));\n            }\n        });\n    }\n}\n","import App, { DEFAULT_INGEST_POINT } from \"./app/index.js\";\nexport { default as App } from './app/index.js';\nimport { UserAnonymousID, RawCustomEvent, CustomIssue } from \"./common/messages.js\";\nimport * as _Messages from \"./common/messages.js\";\nexport const Messages = _Messages;\nimport Connection from \"./modules/connection.js\";\nimport Console from \"./modules/console.js\";\nimport Exception, { getExceptionMessageFromEvent, getExceptionMessage } from \"./modules/exception.js\";\nimport Img from \"./modules/img.js\";\nimport Input from \"./modules/input.js\";\nimport Mouse from \"./modules/mouse.js\";\nimport Timing from \"./modules/timing.js\";\nimport Performance from \"./modules/performance.js\";\nimport Scroll from \"./modules/scroll.js\";\nimport Viewport from \"./modules/viewport.js\";\nimport CSSRules from \"./modules/cssrules.js\";\nimport { IN_BROWSER, deprecationWarn, DOCS_HOST } from \"./utils.js\";\nconst DOCS_SETUP = '/installation/setup-or';\nfunction processOptions(obj) {\n    if (obj == null) {\n        console.error(`OpenReplay: invalid options argument type. Please, check documentation on ${DOCS_HOST}${DOCS_SETUP}`);\n        return false;\n    }\n    if (typeof obj.projectKey !== 'string') {\n        if (typeof obj.projectKey !== 'number') {\n            if (typeof obj.projectID !== 'number') { // Back compatability\n                console.error(`OpenReplay: projectKey is missing or wrong type (string is expected). Please, check ${DOCS_HOST}${DOCS_SETUP} for more information.`);\n                return false;\n            }\n            else {\n                obj.projectKey = obj.projectID.toString();\n                deprecationWarn(\"`projectID` option\", \"`projectKey` option\", DOCS_SETUP);\n            }\n        }\n        else {\n            console.warn(\"OpenReplay: projectKey is expected to have a string type.\");\n            obj.projectKey = obj.projectKey.toString();\n        }\n    }\n    if (typeof obj.sessionToken !== 'string' && obj.sessionToken != null) {\n        console.warn(`OpenReplay: invalid options argument type. Please, check documentation on ${DOCS_HOST}${DOCS_SETUP}`);\n    }\n    return true;\n}\nexport default class API {\n    constructor(options) {\n        this.options = options;\n        this.app = null;\n        this.handleError = (e) => {\n            if (this.app === null) {\n                return;\n            }\n            if (e instanceof Error) {\n                this.app.send(getExceptionMessage(e, []));\n            }\n            else if (e instanceof ErrorEvent ||\n                ('PromiseRejectionEvent' in window && e instanceof PromiseRejectionEvent)) {\n                const msg = getExceptionMessageFromEvent(e);\n                if (msg != null) {\n                    this.app.send(msg);\n                }\n            }\n        };\n        if (!IN_BROWSER || !processOptions(options)) {\n            return;\n        }\n        if (window.__OPENREPLAY__) {\n            console.error(\"OpenReplay: one tracker instance has been initialised already\");\n            return;\n        }\n        if (!options.__DISABLE_SECURE_MODE && location.protocol !== 'https:') {\n            console.error(\"OpenReplay: Your website must be publicly accessible and running on SSL in order for OpenReplay to properly capture and replay the user session. You can disable this check by setting `__DISABLE_SECURE_MODE` option to `true` if you are testing in localhost. Keep in mind, that asset files on a local machine are not available to the outside world. This might affect tracking if you use css files.\");\n            return;\n        }\n        const doNotTrack = options.respectDoNotTrack &&\n            (navigator.doNotTrack == '1'\n                // @ts-ignore\n                || window.doNotTrack == '1');\n        const app = this.app = doNotTrack ||\n            !('Map' in window) ||\n            !('Set' in window) ||\n            !('MutationObserver' in window) ||\n            !('performance' in window) ||\n            !('timing' in performance) ||\n            !('startsWith' in String.prototype) ||\n            !('Blob' in window) ||\n            !('Worker' in window)\n            ? null\n            : new App(options.projectKey, options.sessionToken, options);\n        if (app !== null) {\n            Viewport(app);\n            CSSRules(app);\n            Connection(app);\n            Console(app, options);\n            Exception(app, options);\n            Img(app);\n            Input(app, options);\n            Mouse(app);\n            Timing(app, options);\n            Performance(app, options);\n            Scroll(app);\n            window.__OPENREPLAY__ = this;\n            if (options.autoResetOnWindowOpen) {\n                const wOpen = window.open;\n                app.attachStartCallback(() => {\n                    // @ts-ignore ?\n                    window.open = function (...args) {\n                        app.resetNextPageSession(true);\n                        wOpen.call(window, ...args);\n                        app.resetNextPageSession(false);\n                    };\n                });\n                app.attachStopCallback(() => {\n                    window.open = wOpen;\n                });\n            }\n        }\n        else {\n            console.log(\"OpenReplay: browser doesn't support API required for tracking or doNotTrack is set to 1.\");\n            const req = new XMLHttpRequest();\n            const orig = options.ingestPoint || DEFAULT_INGEST_POINT;\n            req.open(\"POST\", orig + \"/v1/web/not-started\");\n            // no-cors issue only with text/plain or not-set Content-Type\n            // req.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n            req.send(JSON.stringify({\n                trackerVersion: '3.5.15',\n                projectKey: options.projectKey,\n                doNotTrack,\n                // TODO: add precise reason (an exact API missing)\n            }));\n        }\n    }\n    use(fn) {\n        return fn(this.app, this.options);\n    }\n    isActive() {\n        if (this.app === null) {\n            return false;\n        }\n        return this.app.active();\n    }\n    start(startOpts) {\n        if (!IN_BROWSER) {\n            console.error(`OpenReplay: you are trying to start Tracker on a node.js environment. If you want to use OpenReplay with SSR, please, use componentDidMount or useEffect API for placing the \\`tracker.start()\\` line. Check documentation on ${DOCS_HOST}${DOCS_SETUP}`);\n            return Promise.reject(\"Trying to start not in browser.\");\n        }\n        if (this.app === null) {\n            return Promise.reject(\"Browser doesn't support required api, or doNotTrack is active.\");\n        }\n        // TODO: check argument type\n        return this.app.start(startOpts);\n    }\n    stop() {\n        if (this.app === null) {\n            return;\n        }\n        this.app.stop(true);\n    }\n    getSessionToken() {\n        if (this.app === null) {\n            return null;\n        }\n        return this.app.getSessionToken();\n    }\n    getSessionID() {\n        if (this.app === null) {\n            return null;\n        }\n        return this.app.getSessionID();\n    }\n    sessionID() {\n        deprecationWarn(\"'sessionID' method\", \"'getSessionID' method\", \"/\");\n        return this.getSessionID();\n    }\n    setUserID(id) {\n        if (typeof id === 'string' && this.app !== null) {\n            this.app.session.setUserID(id);\n        }\n    }\n    userID(id) {\n        deprecationWarn(\"'userID' method\", \"'setUserID' method\", \"/\");\n        this.setUserID(id);\n    }\n    setUserAnonymousID(id) {\n        if (typeof id === 'string' && this.app !== null) {\n            this.app.send(new UserAnonymousID(id));\n        }\n    }\n    userAnonymousID(id) {\n        deprecationWarn(\"'userAnonymousID' method\", \"'setUserAnonymousID' method\", \"/\");\n        this.setUserAnonymousID(id);\n    }\n    setMetadata(key, value) {\n        if (typeof key === 'string' &&\n            typeof value === 'string' &&\n            this.app !== null) {\n            this.app.session.setMetadata(key, value);\n        }\n    }\n    metadata(key, value) {\n        deprecationWarn(\"'metadata' method\", \"'setMetadata' method\", \"/\");\n        this.setMetadata(key, value);\n    }\n    event(key, payload, issue = false) {\n        if (typeof key === 'string' && this.app !== null) {\n            if (issue) {\n                return this.issue(key, payload);\n            }\n            else {\n                try {\n                    payload = JSON.stringify(payload);\n                }\n                catch (e) {\n                    return;\n                }\n                this.app.send(new RawCustomEvent(key, payload));\n            }\n        }\n    }\n    issue(key, payload) {\n        if (typeof key === 'string' && this.app !== null) {\n            try {\n                payload = JSON.stringify(payload);\n            }\n            catch (e) {\n                return;\n            }\n            this.app.send(new CustomIssue(key, payload));\n        }\n    }\n}\n","import { SetPageLocation, SetViewportSize, SetPageVisibility, } from \"../common/messages.js\";\nexport default function (app) {\n    let url, width, height;\n    let navigationStart = performance.timing.navigationStart;\n    const sendSetPageLocation = app.safe(() => {\n        const { URL } = document;\n        if (URL !== url) {\n            url = URL;\n            app.send(new SetPageLocation(url, document.referrer, navigationStart));\n            navigationStart = 0;\n        }\n    });\n    const sendSetViewportSize = app.safe(() => {\n        const { innerWidth, innerHeight } = window;\n        if (innerWidth !== width || innerHeight !== height) {\n            width = innerWidth;\n            height = innerHeight;\n            app.send(new SetViewportSize(width, height));\n        }\n    });\n    const sendSetPageVisibility = document.hidden === undefined\n        ? Function.prototype\n        : app.safe(() => app.send(new SetPageVisibility(document.hidden)));\n    app.attachStartCallback(() => {\n        url = '';\n        width = height = -1;\n        sendSetPageLocation();\n        sendSetViewportSize();\n        sendSetPageVisibility();\n    });\n    if (document.hidden !== undefined) {\n        app.attachEventListener(document, 'visibilitychange', sendSetPageVisibility, false, false);\n    }\n    app.ticker.attach(sendSetPageLocation, 1, false);\n    app.ticker.attach(sendSetViewportSize, 5, false);\n}\n","import { CSSInsertRuleURLBased, CSSDeleteRule, TechnicalInfo } from \"../common/messages.js\";\nimport { hasTag } from \"../app/guards.js\";\nexport default function (app) {\n    if (app === null) {\n        return;\n    }\n    if (!window.CSSStyleSheet) {\n        app.send(new TechnicalInfo(\"no_stylesheet_prototype_in_window\", \"\"));\n        return;\n    }\n    const processOperation = app.safe((stylesheet, index, rule) => {\n        const sendMessage = typeof rule === 'string'\n            ? (nodeID) => app.send(new CSSInsertRuleURLBased(nodeID, rule, index, app.getBaseHref()))\n            : (nodeID) => app.send(new CSSDeleteRule(nodeID, index));\n        // TODO: Extend messages to maintain nested rules (CSSGroupingRule prototype, as well as CSSKeyframesRule)\n        if (stylesheet.ownerNode == null) {\n            throw new Error(\"Owner Node not found\");\n        }\n        const nodeID = app.nodes.getID(stylesheet.ownerNode);\n        if (nodeID !== undefined) {\n            sendMessage(nodeID);\n        } // else error?\n    });\n    const { insertRule, deleteRule } = CSSStyleSheet.prototype;\n    CSSStyleSheet.prototype.insertRule = function (rule, index = 0) {\n        processOperation(this, index, rule);\n        return insertRule.call(this, rule, index);\n    };\n    CSSStyleSheet.prototype.deleteRule = function (index) {\n        processOperation(this, index);\n        return deleteRule.call(this, index);\n    };\n    app.nodes.attachNodeCallback((node) => {\n        if (!hasTag(node, \"STYLE\") || !node.sheet) {\n            return;\n        }\n        if (node.textContent !== null && node.textContent.trim().length > 0) {\n            return; // Only fully virtual sheets maintained so far\n        }\n        const rules = node.sheet.cssRules;\n        for (let i = 0; i < rules.length; i++) {\n            processOperation(node.sheet, i, rules[i].cssText);\n        }\n    });\n}\n","import { ConnectionInformation } from \"../common/messages.js\";\nexport default function (app) {\n    const connection = navigator.connection ||\n        navigator.mozConnection ||\n        navigator.webkitConnection;\n    if (connection === undefined) {\n        return;\n    }\n    const sendConnectionInformation = () => app.send(new ConnectionInformation(Math.round(connection.downlink * 1000), connection.type || 'unknown'));\n    sendConnectionInformation();\n    connection.addEventListener('change', sendConnectionInformation);\n}\n","import { SetViewportScroll, SetNodeScroll } from \"../common/messages.js\";\nimport { isElementNode } from \"../app/guards.js\";\nexport default function (app) {\n    let documentScroll = false;\n    const nodeScroll = new Map();\n    const sendSetViewportScroll = app.safe(() => app.send(new SetViewportScroll(window.pageXOffset ||\n        (document.documentElement && document.documentElement.scrollLeft) ||\n        (document.body && document.body.scrollLeft) ||\n        0, window.pageYOffset ||\n        (document.documentElement && document.documentElement.scrollTop) ||\n        (document.body && document.body.scrollTop) ||\n        0)));\n    const sendSetNodeScroll = app.safe((s, node) => {\n        const id = app.nodes.getID(node);\n        if (id !== undefined) {\n            app.send(new SetNodeScroll(id, s[0], s[1]));\n        }\n    });\n    app.attachStartCallback(sendSetViewportScroll);\n    app.attachStopCallback(() => {\n        documentScroll = false;\n        nodeScroll.clear();\n    });\n    app.nodes.attachNodeCallback((node, isStart) => {\n        if (isStart && isElementNode(node) && node.scrollLeft + node.scrollTop > 0) {\n            nodeScroll.set(node, [node.scrollLeft, node.scrollTop]);\n        }\n    });\n    app.attachEventListener(window, 'scroll', (e) => {\n        const target = e.target;\n        if (target === document) {\n            documentScroll = true;\n            return;\n        }\n        if (target instanceof Element) {\n            nodeScroll.set(target, [target.scrollLeft, target.scrollTop]);\n        }\n    });\n    app.ticker.attach(() => {\n        if (documentScroll) {\n            sendSetViewportScroll();\n            documentScroll = false;\n        }\n        nodeScroll.forEach(sendSetNodeScroll);\n        nodeScroll.clear();\n    }, 5, false);\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Messages } from '@openreplay/tracker';\nexport default function (opts = {}) {\n    const options = Object.assign({\n        overrideGlobal: false,\n        failuresOnly: false,\n        ignoreHeaders: ['Cookie', 'Set-Cookie', 'Authorization'],\n    }, opts);\n    if (options.requestSanitizer && options.responseSanitizer) {\n        console.warn(\"OpenReplay fetch plugin: `requestSanitizer` and `responseSanitizer` options are depricated. Please, use `sanitiser` instead (check out documentation at https://docs.openreplay.com/plugins/fetch).\");\n    }\n    const origFetch = window.fetch;\n    return (app) => {\n        if (app === null) {\n            return origFetch;\n        }\n        const ihOpt = options.ignoreHeaders;\n        const isHIgnoring = Array.isArray(ihOpt)\n            ? name => ihOpt.includes(name)\n            : () => ihOpt;\n        const fetch = (input, init = {}) => __awaiter(this, void 0, void 0, function* () {\n            if (typeof input !== 'string') {\n                return origFetch(input, init);\n            }\n            if (options.sessionTokenHeader) {\n                const sessionToken = app.getSessionToken();\n                if (sessionToken) {\n                    if (init.headers === undefined) {\n                        init.headers = {};\n                    }\n                    if (init.headers instanceof Headers) {\n                        init.headers.append(options.sessionTokenHeader, sessionToken);\n                    }\n                    else if (Array.isArray(init.headers)) {\n                        init.headers.push([options.sessionTokenHeader, sessionToken]);\n                    }\n                    else {\n                        init.headers[options.sessionTokenHeader] = sessionToken;\n                    }\n                }\n            }\n            const startTime = performance.now();\n            const response = yield origFetch(input, init);\n            const duration = performance.now() - startTime;\n            if (options.failuresOnly && response.status < 400) {\n                return response;\n            }\n            const r = response.clone();\n            r.text().then(text => {\n                // Headers prepearing\n                const reqHs = {};\n                const resHs = {};\n                if (ihOpt !== true) {\n                    function writeReqHeader([n, v]) {\n                        if (!isHIgnoring(n)) {\n                            reqHs[n] = v;\n                        }\n                    }\n                    if (init.headers instanceof Headers) {\n                        init.headers.forEach((v, n) => writeReqHeader([n, v]));\n                    }\n                    else if (Array.isArray(init.headers)) {\n                        init.headers.forEach(writeReqHeader);\n                    }\n                    else if (typeof init.headers === 'object') {\n                        Object.entries(init.headers).forEach(writeReqHeader);\n                    }\n                    r.headers.forEach((v, n) => { if (!isHIgnoring(n))\n                        resHs[n] = v; });\n                }\n                const req = {\n                    headers: reqHs,\n                    body: init.body,\n                };\n                // Response forming\n                const res = {\n                    headers: resHs,\n                    body: text,\n                };\n                const method = typeof init.method === 'string'\n                    ? init.method.toUpperCase()\n                    : 'GET';\n                let reqResInfo = {\n                    url: input,\n                    method,\n                    status: r.status,\n                    request: req,\n                    response: res,\n                };\n                if (options.sanitiser) {\n                    try {\n                        reqResInfo.response.body = JSON.parse(text); // Why the returning type is \"any\"?\n                    }\n                    catch (_a) { }\n                    reqResInfo = options.sanitiser(reqResInfo);\n                    if (!reqResInfo) {\n                        return;\n                    }\n                }\n                const getStj = (r) => {\n                    if (r && typeof r.body !== 'string') {\n                        try {\n                            r.body = JSON.stringify(r.body);\n                        }\n                        catch (_a) {\n                            r.body = \"<unable to stringify>\";\n                            //app.log.warn(\"Openreplay fetch\") // TODO: version check\n                        }\n                    }\n                    return JSON.stringify(r);\n                };\n                app.send(Messages.Fetch(method, String(reqResInfo.url), getStj(reqResInfo.request), getStj(reqResInfo.response), r.status, startTime + performance.timing.navigationStart, duration));\n            });\n            return response;\n        });\n        if (options.overrideGlobal) {\n            window.fetch = fetch;\n        }\n        return fetch;\n    };\n}\n","const chars = {};\n[\n    \"DEL\",\n    \"UNDEF\",\n    \"TRUE\",\n    \"FALSE\",\n    \"NUMBER\",\n    \"BIGINT\",\n    \"FUNCTION\",\n    \"STRING\",\n    \"SYMBOL\",\n    \"NULL\",\n    \"OBJECT\",\n    \"ARRAY\"\n].forEach((k, i) => (chars[k] = String.fromCharCode(i + 0xe000)));\nexport default chars;\n","import _ from \"./chars.js\";\n// @ts-ignore\n// @ts-ignore\nexport default class Encoder {\n    // @ts-ignore\n    constructor(hash, slen = Infinity) {\n        // @ts-ignore\n        this._hash = hash;\n        // @ts-ignore\n        this._slen = slen;\n        // @ts-ignore\n        this._refmap = new Map();\n        // @ts-ignore\n        this._refset = new Set();\n        // @ts-ignore\n    }\n    // @ts-ignore\n    // @ts-ignore\n    _ref_str(str) {\n        // @ts-ignore\n        if (str.length < this._slen && str.indexOf(_.DEL) === -1) {\n            // @ts-ignore\n            return str;\n            // @ts-ignore\n        }\n        // @ts-ignore\n        let ref = this._refmap.get(str);\n        // @ts-ignore\n        if (ref === undefined) {\n            // @ts-ignore\n            ref = this._hash(str);\n            // @ts-ignore\n            this._refmap.set(str, ref);\n            // @ts-ignore\n        }\n        // @ts-ignore\n        return ref;\n        // @ts-ignore\n    }\n    // @ts-ignore\n    // @ts-ignore\n    _encode_prim(obj) {\n        // @ts-ignore\n        switch (typeof obj) {\n            // @ts-ignore\n            case \"undefined\":\n                // @ts-ignore\n                return _.UNDEF;\n            // @ts-ignore\n            case \"boolean\":\n                // @ts-ignore\n                return obj ? _.TRUE : _.FALSE;\n            // @ts-ignore\n            case \"number\":\n                // @ts-ignore\n                return _.NUMBER + obj.toString();\n            // @ts-ignore\n            case \"bigint\":\n                // @ts-ignore\n                return _.BIGINT + obj.toString();\n            // @ts-ignore\n            case \"function\":\n                // @ts-ignore\n                return _.FUNCTION;\n            // @ts-ignore\n            case \"string\":\n                // @ts-ignore\n                return _.STRING + this._ref_str(obj);\n            // @ts-ignore\n            case \"symbol\":\n                // @ts-ignore\n                return _.SYMBOL + this._ref_str(obj.toString().slice(7, -1));\n            // @ts-ignore\n        }\n        // @ts-ignore\n        if (obj === null) {\n            // @ts-ignore\n            return _.NULL;\n            // @ts-ignore\n        }\n        // @ts-ignore\n    }\n    // @ts-ignore\n    // @ts-ignore\n    _encode_obj(obj, ref = this._refmap.get(obj)) {\n        // @ts-ignore\n        return (Array.isArray(obj) ? _.ARRAY : _.OBJECT) + ref;\n        // @ts-ignore\n    }\n    // @ts-ignore\n    // @ts-ignore\n    _encode_term(obj) {\n        // @ts-ignore\n        return this._encode_prim(obj) || this._encode_obj(obj);\n        // @ts-ignore\n    }\n    // @ts-ignore\n    // @ts-ignore\n    _encode_deep(obj, depth) {\n        // @ts-ignore\n        const enc = this._encode_prim(obj);\n        // @ts-ignore\n        if (enc !== undefined) {\n            // @ts-ignore\n            return enc;\n            // @ts-ignore\n        }\n        // @ts-ignore\n        const ref = this._refmap.get(obj);\n        // @ts-ignore\n        switch (typeof ref) {\n            // @ts-ignore\n            case \"number\":\n                // @ts-ignore\n                return (depth - ref).toString();\n            // @ts-ignore\n            case \"string\":\n                // @ts-ignore\n                return this._encode_obj(obj, ref);\n            // @ts-ignore\n        }\n        // @ts-ignore\n        this._refmap.set(obj, depth);\n        // @ts-ignore\n        const hash = this._hash(\n        // @ts-ignore\n        (Array.isArray(obj)\n            // @ts-ignore\n            ? obj.map(v => this._encode_deep(v, depth + 1))\n            // @ts-ignore\n            : Object.keys(obj)\n                // @ts-ignore\n                .sort()\n                // @ts-ignore\n                .map(\n            // @ts-ignore\n            k => \n            // @ts-ignore\n            this._ref_str(k) + _.DEL + this._encode_deep(obj[k], depth + 1)\n            // @ts-ignore\n            )\n        // @ts-ignore\n        ).join(_.DEL)\n        // @ts-ignore\n        );\n        // @ts-ignore\n        this._refmap.set(obj, hash);\n        // @ts-ignore\n        return this._encode_obj(obj, hash);\n        // @ts-ignore\n    }\n    // @ts-ignore\n    // @ts-ignore\n    encode(obj) {\n        // @ts-ignore\n        return this._encode_deep(obj, 0);\n        // @ts-ignore\n    }\n    // @ts-ignore\n    // @ts-ignore\n    commit() {\n        // @ts-ignore\n        const dict = {};\n        // @ts-ignore\n        this._refmap.forEach((ref, obj) => {\n            // @ts-ignore\n            if (this._refset.has(ref)) {\n                // @ts-ignore\n                return;\n                // @ts-ignore\n            }\n            // @ts-ignore\n            this._refset.add(ref);\n            // @ts-ignore\n            if (typeof obj !== \"string\") {\n                // @ts-ignore\n                obj = (Array.isArray(obj)\n                    // @ts-ignore\n                    ? obj.map(v => this._encode_term(v))\n                    // @ts-ignore\n                    : Object.keys(obj).map(\n                    // @ts-ignore\n                    k => this._ref_str(k) + _.DEL + this._encode_term(obj[k])\n                    // @ts-ignore\n                    )\n                // @ts-ignore\n                ).join(_.DEL);\n                // @ts-ignore\n            }\n            // @ts-ignore\n            dict[ref] = obj;\n            // @ts-ignore\n        });\n        // @ts-ignore\n        this._refmap.clear();\n        // @ts-ignore\n        return dict;\n        // @ts-ignore\n    }\n    // @ts-ignore\n    // @ts-ignore\n    clear() {\n        // @ts-ignore\n        this._refmap.clear();\n        // @ts-ignore\n        this._refset.clear();\n        // @ts-ignore\n    }\n}\n// @ts-ignore\n","/*\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-1, as defined\n * in FIPS PUB 180-1\n * Version 2.1a Copyright Paul Johnston 2000 - 2002.\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for details.\n */\nfunction core_sha1(x, len) {\n    x[len >> 5] |= 0x80 << (24 - (len % 32));\n    x[(((len + 64) >> 9) << 4) + 15] = len;\n    var w = Array(80);\n    var a = 1732584193;\n    var b = -271733879;\n    var c = -1732584194;\n    var d = 271733878;\n    var e = -1009589776;\n    for (var i = 0; i < x.length; i += 16) {\n        var olda = a;\n        var oldb = b;\n        var oldc = c;\n        var oldd = d;\n        var olde = e;\n        for (var j = 0; j < 80; j++) {\n            if (j < 16)\n                w[j] = x[i + j];\n            else\n                w[j] = rol(w[j - 3] ^ w[j - 8] ^ w[j - 14] ^ w[j - 16], 1);\n            var t = safe_add(safe_add(rol(a, 5), sha1_ft(j, b, c, d)), safe_add(safe_add(e, w[j]), sha1_kt(j)));\n            e = d;\n            d = c;\n            c = rol(b, 30);\n            b = a;\n            a = t;\n        }\n        a = safe_add(a, olda);\n        b = safe_add(b, oldb);\n        c = safe_add(c, oldc);\n        d = safe_add(d, oldd);\n        e = safe_add(e, olde);\n    }\n    return Array(a, b, c, d, e);\n}\nfunction sha1_ft(t, b, c, d) {\n    if (t < 20)\n        return (b & c) | (~b & d);\n    if (t < 40)\n        return b ^ c ^ d;\n    if (t < 60)\n        return (b & c) | (b & d) | (c & d);\n    return b ^ c ^ d;\n}\nfunction sha1_kt(t) {\n    return t < 20\n        ? 1518500249\n        : t < 40\n            ? 1859775393\n            : t < 60\n                ? -1894007588\n                : -899497514;\n}\nfunction safe_add(x, y) {\n    var lsw = (x & 0xffff) + (y & 0xffff);\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n    return (msw << 16) | (lsw & 0xffff);\n}\nfunction rol(num, cnt) {\n    return (num << cnt) | (num >>> (32 - cnt));\n}\nfunction str2binb(str) {\n    var bin = Array();\n    var mask = (1 << 16) - 1;\n    for (var i = 0; i < str.length * 16; i += 16)\n        bin[i >> 5] |= (str.charCodeAt(i / 16) & mask) << (32 - 16 - (i % 32));\n    return bin;\n}\nfunction binb2b64(binarray) {\n    var tab = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n    var str = \"\";\n    for (var i = 0; i < binarray.length * 4; i += 3) {\n        var triplet = (((binarray[i >> 2] >> (8 * (3 - (i % 4)))) & 0xff) << 16) |\n            (((binarray[(i + 1) >> 2] >> (8 * (3 - ((i + 1) % 4)))) & 0xff) << 8) |\n            ((binarray[(i + 2) >> 2] >> (8 * (3 - ((i + 2) % 4)))) & 0xff);\n        for (var j = 0; j < 4; j++) {\n            if (i * 8 + j * 6 <= binarray.length * 32)\n                str += tab.charAt((triplet >> (6 * (3 - j))) & 0x3f);\n        }\n    }\n    return str;\n}\nexport default function (s) {\n    return binb2b64(core_sha1(str2binb(s), s.length * 16));\n}\n","import { Messages } from '@openreplay/tracker';\nimport { Encoder, sha1 } from './syncod/index.js';\nexport default function (opts = {}) {\n    const options = Object.assign({\n        actionFilter: () => true,\n        actionTransformer: action => action,\n        actionType: action => action.type,\n        stateTransformer: state => state,\n    }, opts);\n    return (app) => {\n        if (app === null) {\n            return () => next => action => next(action);\n        }\n        const encoder = new Encoder(sha1, 50);\n        app.attachStopCallback(() => {\n            encoder.clear();\n        });\n        return ({ getState }) => next => action => {\n            if (!app.active() || !options.actionFilter(action)) {\n                return next(action);\n            }\n            const startTime = performance.now();\n            const result = next(action);\n            const duration = performance.now() - startTime;\n            try {\n                const type = options.actionType(action);\n                if (typeof type === 'string' && type) {\n                    app.send(Messages.StateAction(type));\n                }\n                const _action = encoder.encode(options.actionTransformer(action));\n                const _state = encoder.encode(options.stateTransformer(getState()));\n                const _table = encoder.commit();\n                for (let key in _table)\n                    app.send(Messages.OTable(key, _table[key]));\n                app.send(Messages.Redux(_action, _state, duration));\n            }\n            catch (_a) {\n                encoder.clear();\n            }\n            return result;\n        };\n    };\n}\n","// will be used in the future\nimport Tracker from '@openreplay/tracker';\nimport trackerFetch from '@openreplay/tracker-fetch';\nimport trackerRedux from '@openreplay/tracker-redux';\nimport { createMiddleware } from 'redux-beacon';\nimport { api, checkout } from '../actions';\n\nexport function patchFetch(tracker) {\n    window.fetch = tracker.use(trackerFetch());\n}\n\nexport function openReplayMiddleware(tracker) {\n    return tracker.use(trackerRedux());\n}\n\nexport const OpenReplayTarget = ({ tracker }) => (events) => {\n    events.forEach(({ event: eventType, identify, issue, metadata, ...payload }) => {\n        if (identify) {\n            tracker.setUserID(identify);\n        }\n        if (metadata) {\n            Object.entries(metadata).forEach(([key, value]) => {\n                tracker.setMetadata(key, value);\n            });\n        }\n        if (eventType) {\n            tracker.event(eventType, payload, !!issue);\n        }\n    });\n};\n\nexport const eventsMap = {\n    [api.auth.login.successType]: () => ({\n        event: 'login',\n        method: 'email',\n    }),\n    [api.users.create.successType]: () => ({\n        event: 'sign_up',\n        method: 'email',\n    }),\n    [api.websites.update.successType]: (action, prevState, nextState) => {\n        if (\n            !nextState.websites.find((website) => website.slug === action.payload.slug)?.enabled &&\n            action.payload.enabled\n        ) {\n            return {\n                event: 'website_published',\n            };\n        }\n    },\n    [api.listenSubscriptionCreated.type]: (action) => ({\n        event: 'subscription_created',\n        ...action.payload,\n    }),\n    [api.listenSubscriptionCancelled.type]: () => ({\n        event: 'subscription_cancelled',\n    }),\n    [api.users.me.successType]: (action) => ({\n        identify: action.result.email ?? action.result._id,\n        metadata: {\n            email: action.result.email,\n            userId: action.result._id,\n        },\n    }),\n    [api.workspaces.retrieve.successType]: (action) => ({\n        metadata: {\n            workspaceId: action.result._id,\n            plan: action.result.billing.plan,\n        },\n    }),\n    [checkout.applyCoupon.type]: (action) => ({\n        event: 'checkout.applyCoupon',\n        coupon: action.payload.coupon,\n    }),\n    [checkout.changeCountry.type]: (action) => ({\n        event: 'checkout.changeCountry',\n        country: action.payload.country,\n    }),\n    [checkout.close.type]: () => ({\n        event: 'checkout.close',\n    }),\n    [checkout.complete.type]: () => ({\n        event: 'checkout.complete',\n    }),\n    [checkout.completePayment.type]: () => ({\n        event: 'checkout.completePayment',\n    }),\n    [checkout.load.type]: () => ({\n        event: 'checkout.load',\n    }),\n    [checkout.error.type]: (action) => ({\n        event: 'checkout.error',\n        error: action.payload.error,\n        issue: true,\n    }),\n    [checkout.selectPaymentMethod.type]: (action) => ({\n        event: 'checkout.selectPaymentMethod',\n        paymentMethod: action.payload.payment_method,\n    }),\n};\n\nconst logger = process.env.NODE_ENV === 'development' ? require('@redux-beacon/logger').default : null;\n\nexport function OpenReplay({ projectKey }) {\n    const tracker = new Tracker({ projectKey });\n    patchFetch(tracker);\n    const openReplayMiddleware = tracker.use(trackerRedux());\n    const openReplayEventsTrackerMiddleware = createMiddleware(eventsMap, OpenReplayTarget({ tracker }), { logger });\n    tracker.start();\n    tracker.setMetadata('hostname', window.location.hostname);\n    return { openReplayMiddleware, openReplayEventsTrackerMiddleware };\n}\n","module.exports = CONFIG;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar flatten = require(\"array-flatten\");\nvar create_events_1 = require(\"./create-events\");\nvar get_events_with_matching_key_1 = require(\"./get-events-with-matching-key\");\nvar register_events_1 = require(\"./register-events\");\n/**\n * Create a meta reducer that synchronizes actions to analytics events.\n */\nfunction createMetaReducer(eventsMap, target, extensions) {\n    if (extensions === void 0) { extensions = {}; }\n    var getEvents = typeof eventsMap === 'function'\n        ? function (action) { return flatten([eventsMap(action)]); }\n        : function (action) { return get_events_with_matching_key_1.default(eventsMap, action.type); };\n    /* Why not arrow functions? AOT... */\n    /* tslint:disable: only-arrow-functions */\n    return function (reducer) {\n        return function (prevState, action) {\n            var nextState = reducer(prevState, action);\n            var events = create_events_1.default(getEvents(action), prevState, action, nextState);\n            register_events_1.default(events, target, extensions, prevState, action, nextState);\n            return nextState;\n        };\n    };\n}\nexports.default = createMetaReducer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tip\":\"_2GKm7jcP\",\"recaptcha\":\"_2pjtPL9f\"};","'use strict'\n\n/**\n * Expose `arrayFlatten`.\n */\nmodule.exports = flatten\nmodule.exports.from = flattenFrom\nmodule.exports.depth = flattenDepth\nmodule.exports.fromDepth = flattenFromDepth\n\n/**\n * Flatten an array.\n *\n * @param  {Array} array\n * @return {Array}\n */\nfunction flatten (array) {\n  if (!Array.isArray(array)) {\n    throw new TypeError('Expected value to be an array')\n  }\n\n  return flattenFrom(array)\n}\n\n/**\n * Flatten an array-like structure.\n *\n * @param  {Array} array\n * @return {Array}\n */\nfunction flattenFrom (array) {\n  return flattenDown(array, [])\n}\n\n/**\n * Flatten an array-like structure with depth.\n *\n * @param  {Array}  array\n * @param  {number} depth\n * @return {Array}\n */\nfunction flattenDepth (array, depth) {\n  if (!Array.isArray(array)) {\n    throw new TypeError('Expected value to be an array')\n  }\n\n  return flattenFromDepth(array, depth)\n}\n\n/**\n * Flatten an array-like structure with depth.\n *\n * @param  {Array}  array\n * @param  {number} depth\n * @return {Array}\n */\nfunction flattenFromDepth (array, depth) {\n  if (typeof depth !== 'number') {\n    throw new TypeError('Expected the depth to be a number')\n  }\n\n  return flattenDownDepth(array, [], depth)\n}\n\n/**\n * Flatten an array indefinitely.\n *\n * @param  {Array} array\n * @param  {Array} result\n * @return {Array}\n */\nfunction flattenDown (array, result) {\n  for (var i = 0; i < array.length; i++) {\n    var value = array[i]\n\n    if (Array.isArray(value)) {\n      flattenDown(value, result)\n    } else {\n      result.push(value)\n    }\n  }\n\n  return result\n}\n\n/**\n * Flatten an array with depth.\n *\n * @param  {Array}  array\n * @param  {Array}  result\n * @param  {number} depth\n * @return {Array}\n */\nfunction flattenDownDepth (array, result, depth) {\n  depth--\n\n  for (var i = 0; i < array.length; i++) {\n    var value = array[i]\n\n    if (depth > -1 && Array.isArray(value)) {\n      flattenDownDepth(value, result, depth)\n    } else {\n      result.push(value)\n    }\n  }\n\n  return result\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.convertFromGoogleAnalyticsEventIfNeeded = function (event) {\n    if (!event.event && event.hitType) {\n        var hitType = event.hitType, rest = __rest(event, [\"hitType\"]);\n        return __assign({}, rest, { event: hitType });\n    }\n    return event;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"terms\":\"_13-uRGAr\"};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar flatten = require(\"array-flatten\");\nvar clean = function (arr) { return arr.filter(function (element) { return element; }); };\nvar createEvents = function (eventDefs, prevState, action, nextState) {\n    return clean(flatten(clean(eventDefs).map(function (eventDef) { return eventDef(action, prevState, nextState); })));\n};\nexports.default = createEvents;\n","import { useEffect } from 'react';\n\nimport { useFetching } from './useFetching';\n\nexport function useFetch(fn, deps = []) {\n    const fetching = useFetching(fn, deps);\n\n    useEffect(() => {\n        fetching.run();\n    }, deps);\n\n    return fetching;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"_5TU7FrUA\",\"footer\":\"_2iwDxaZy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"_1K_v4ltQ\",\"footer\":\"_2WvOgAGM\"};"],"sourceRoot":""}