{"version":3,"sources":["webpack:////drone/src/packages/userpage-core/src/landings/hooks/useContrastingColor.js","webpack:////drone/src/packages/shared/src/helpers/formatPrice.js","webpack:////drone/src/packages/shared/src/helpers/removeTrailingSlash.js","webpack:////drone/src/packages/lib/src/baseApi.js","webpack:////drone/src/packages/lib/src/feedbackApi.js","webpack:////drone/src/packages/shared/src/landings/feedbacks.js","webpack:////drone/src/packages/ui/src/components/Inputs/SelectSimple/styles.scss","webpack:////drone/src/packages/ui/icons/select_arrow.svg","webpack:////drone/src/packages/ui/src/components/Inputs/SelectSimple/index.js","webpack:////drone/src/packages/ui/src/components/Inputs/CountrySelect/countries.js","webpack:////drone/src/packages/ui/src/components/Inputs/CountrySelect/index.js","webpack:////drone/src/packages/shared/src/plans.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/request.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/acl/resource.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/acl/role.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/acl/acl.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/acl/loader.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/voter.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/websites.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/blocks.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/index.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/acl.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/permissions.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/index.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/unlimited.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/version.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/collections.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/messengers.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/products.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/templates.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/themes.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/pageStyling.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/blocksPublish.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/subscriptionFormField.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/requestError.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/result.js","webpack:////drone/src/packages/shared/src/restrictions/checkBillingRestrictions.js","webpack:////drone/src/packages/hooks/src/useRestrictions.js","webpack:////drone/src/packages/hooks/src/useWorkspace.js","webpack:////drone/src/packages/hooks/src/useFetching.js","webpack:////drone/src/packages/ui/src/components/Form/SubmitButton.js","webpack:////drone/src/packages/ui/src/components/Inputs/RadioGroup/styles.scss","webpack:////drone/src/packages/ui/src/components/Inputs/RadioGroup/index.js","webpack:////drone/src/packages/ui/src/components/Inputs/Checkbox/styles.scss","webpack:////drone/src/packages/ui/src/components/Inputs/Checkbox/index.js","webpack:////drone/src/packages/ui/src/components/Inputs/CheckboxGroup/styles.scss","webpack:////drone/src/packages/ui/src/components/Inputs/CheckboxGroup/index.js","webpack:////drone/src/packages/ui/src/components/Inputs/Textarea/styles.scss","webpack:////drone/src/packages/ui/src/components/Inputs/Textarea/index.js","webpack:////drone/src/packages/ui/src/components/Inputs/Input/styles.scss","webpack:////drone/src/packages/ui/src/components/Inputs/Input/index.js","webpack:////drone/src/packages/ui/src/components/FormRow/styles.scss","webpack:////drone/src/packages/ui/src/components/FormRow/index.js","webpack:////drone/src/packages/ui/src/components/Label/styles.scss","webpack:////drone/src/packages/ui/src/components/Label/index.js","webpack:////drone/src/packages/ui/src/components/FormErrors/styles.scss","webpack:////drone/src/packages/ui/src/components/FormErrors/index.js","webpack:////drone/src/packages/ui/src/components/FormField/styles.scss","webpack:////drone/src/packages/ui/src/components/FormField/index.js","webpack:////drone/src/packages/userpage-core/src/landings/hooks/useModalThemes.js","webpack:////drone/src/packages/userpage-core/src/landings/hooks/useCustomInputTheme.js","webpack:////drone/src/packages/userpage-core/src/landings/hooks/useInputTheme.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/DynamicFormInputs/DynamicFormInput.scss","webpack:////drone/src/packages/userpage-core/src/landings/UI/DynamicFormInputs/DynamicFormInput.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/DynamicFormInputs/DynamicFormInputs.scss","webpack:////drone/src/packages/userpage-core/src/landings/UI/DynamicFormInputs/DynamicFormInputs.js","webpack:////drone/src/packages/helpers/src/getContourColor.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/ThemedButton/ThemedButton.scss","webpack:////drone/src/packages/userpage-core/src/landings/UI/ThemedButton/ThemedButton.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/SubscriptionForm/SubscriptionFormContent.scss","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/SubscriptionForm/SubscriptionFormContent.js","webpack:////drone/src/packages/ui/src/components/Form/useEnhancedFormik.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/SubscriptionForm/SubscriptionForm.js","webpack:////drone/src/packages/ui/src/hooks/useMergedStyles.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/SubscriptionForm/index.js","webpack:////drone/src/packages/ui/src/components/Spinner/Spinner.scss","webpack:////drone/src/packages/ui/src/components/Spinner/Spinner.js","webpack:////drone/src/packages/ui/src/components/Spinner/index.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/MoreButton/styles.scss","webpack:////drone/src/packages/userpage-core/src/landings/UI/MoreButton/index.js","webpack:////drone/src/packages/icons/src/dist-icons/ImageIcon.js","webpack:////drone/src/packages/ui/src/components/LazyImage/Thumbnail.scss","webpack:////drone/src/packages/ui/src/components/LazyImage/Thumbnail.js","webpack:////drone/src/packages/ui/src/components/LazyImage/LazyImage.scss","webpack:////drone/src/packages/ui/src/components/LazyImage/LazyImage.js","webpack:////drone/src/packages/ui/src/components/LazyImage/useIntersect.js","webpack:////drone/src/packages/ui/src/components/LazyImage/useLoadImage.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/ServicesGrid/ServicesGridItem.scss","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/ServicesGrid/ServicesGridItem.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/ServiceContent/ServiceContent.scss","webpack:////drone/src/packages/userpage-core/src/landings/UI/ServiceContent/ServicePhoto.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/ServiceContent/ServicePhotos.js","webpack:////drone/src/packages/userpage-core/src/landings/hooks/useCoreContext.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/ServiceContent/BuyButton.scss","webpack:////drone/src/packages/userpage-core/src/landings/UI/ServiceContent/BuyButton.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/ServiceContent/ServiceActionsPane.js","webpack:////drone/src/packages/helpers/src/parseUrl.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/ServiceContent/ExternalUrlButton.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/ServiceContent/ServiceContent.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/ServicesGrid/ServicesModal.scss","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/ServicesGrid/ServicesModal.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/ServicesGrid/ServicesGrid.scss","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/ServicesGrid/ServicesGrid.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/ServicesGrid/index.js","webpack:////drone/src/packages/icons/src/dist-icons/SearchIcon.js","webpack:////drone/src/packages/userpage-core/src/products/Elements/ProductItem/styles.scss","webpack:////drone/src/packages/userpage-core/src/products/Elements/ProductItem/index.js","webpack:////drone/src/packages/lib/src/productsApi.js","webpack:////drone/src/packages/lib/src/handleError.js","webpack:////drone/src/packages/ui/src/hooks/useBreakpoints.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Products/CollectionsBar/ButtonsMenu.scss","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Products/CollectionsBar/ButtonsMenu.js","webpack:////drone/src/packages/ui/src/hooks/useHorizontalTabbedScroll.js","webpack:////drone/src/packages/icons/src/dist-icons/ChevronDownIcon.js","webpack:////drone/src/packages/ui/src/components/Inputs/Buttons/PureButton.js","webpack:////drone/src/packages/ui/src/components/Inputs/Buttons/TextButton.scss","webpack:////drone/src/packages/ui/src/components/Inputs/Buttons/TextButton.js","webpack:////drone/src/packages/ui/src/components/Transitions/createTransition.js","webpack:////drone/src/packages/ui/src/components/Transitions/Fade.scss","webpack:////drone/src/packages/ui/src/components/Transitions/Fade.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Products/CollectionsBar/FilterMenu.scss","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Products/CollectionsBar/FilterMenu.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Products/CollectionsBar/CollectionsBar.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Products/Products.scss","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Products/Products.js","webpack:////drone/src/packages/userpage-core/src/landings/hooks/useProductsApi.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Products/index.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/Grid/styles.scss","webpack:////drone/src/packages/userpage-core/src/landings/UI/Grid/index.js","webpack:////drone/src/packages/userpage-core/src/landings/Product/CollectionView/CollectionView.scss","webpack:////drone/src/packages/userpage-core/src/landings/Product/CollectionView/CollectionView.js","webpack:////drone/src/packages/userpage-core/src/landings/hooks/useCRMData.js","webpack:////drone/src/packages/userpage-core/src/landings/Product/ProductView/ProductView.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrdersPage/UserOrdersPage.scss","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrdersPage/UserOrdersPage.js","webpack:////drone/src/packages/userpage-core/src/landings/hooks/usePaymentConfigs.js","webpack:////drone/src/packages/shared/src/payments/index.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/PayButton/PayButton.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/StripeCheckoutForm.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/StripeCheckoutForm.scss","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderPage/Providers/PayPalPayment.scss","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderPage/Providers/Buttons/WayforpayButton.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderPage/Providers/WayforpayPayment.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderPage/Providers/Buttons/RobokassaButton.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderPage/Providers/Buttons/LiqpayButton.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderPage/Providers/index.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderPage/Providers/CashOnDeliveryPayment.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderPage/Providers/StripePayment.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderPage/Providers/PayPalPayment.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderPage/Providers/RobokassaPayment.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderPage/Providers/LiqpayPayment.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderPage/Providers/OtherPayment.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/UserOrderPage.scss","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/UserOrderPage.js","webpack:////drone/src/packages/icons/src/dist-icons/ShoppingBagIcon.js","webpack:////drone/src/packages/icons/src/dist-icons/MapPinIcon.js","webpack:////drone/src/packages/icons/src/dist-icons/CreditCardIcon.js","webpack:////drone/src/packages/userpage-core/src/landings/hooks/usePageColors.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/Steps/StepContext.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/Steps/useStep.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/Steps/StepSwitch.scss","webpack:////drone/src/packages/userpage-core/src/landings/UI/Steps/StepIcon.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/Steps/StepSwitch.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/Steps/Step.scss","webpack:////drone/src/packages/userpage-core/src/landings/UI/Steps/Step.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/printPrice.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/Row.scss","webpack:////drone/src/packages/userpage-core/src/landings/Order/Row.js","webpack:////drone/src/packages/userpage-core/src/landings/hooks/useOrderProducts.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/Divider/Divider.scss","webpack:////drone/src/packages/userpage-core/src/landings/Order/Divider/Divider.js","webpack:////drone/src/packages/helpers/src/getTransparentColor.js","webpack:////drone/src/packages/ui/src/components/Inputs/Buttons/IconButton.scss","webpack:////drone/src/packages/ui/src/components/Inputs/Buttons/IconButton.js","webpack:////drone/src/packages/icons/src/dist-icons/CloseIcon.js","webpack:////drone/src/packages/icons/src/dist-icons/MinusIcon.js","webpack:////drone/src/packages/icons/src/dist-icons/PlusIcon.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderItem/OrderItem.scss","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderItem/OrderItem.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderItem/OrderItemsList.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderPage/Steps/StepsFooter.scss","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderPage/Steps/StepsFooter.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderPage/Steps/AdjustingStep.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/Inputs/TextField/TextField.scss","webpack:////drone/src/packages/userpage-core/src/landings/UI/Inputs/TextField/TextField.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/captureSubmitError.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/useOrderSubmit.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderPage/Steps/ShippingAddressStep.js","webpack:////drone/src/packages/icons/src/dist-icons/CheckCircleIcon.js","webpack:////drone/src/packages/icons/src/dist-icons/CircleIcon.js","webpack:////drone/src/packages/ui/src/components/CheckableItem/CheckableItem.scss","webpack:////drone/src/packages/ui/src/components/CheckableItem/CheckableItem.js","webpack:////drone/src/packages/ui/src/components/Inputs/ListInput/styles.scss","webpack:////drone/src/packages/ui/src/components/Inputs/ListInput/index.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderPage/Steps/PaymentStep.scss","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderPage/Steps/PaymentStep.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderPage/Steps/ContactInfoStep.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderPage/OrderPage.scss","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderPage/OrderPage.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/PaymentStatusPage.scss","webpack:////drone/src/packages/userpage-core/src/landings/Order/PaymentStatusPage.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PassthroughRoute.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/PageProductsRouting.js","webpack:////drone/src/packages/plans/src/index.browser.js","webpack:////drone/src/packages/ui/src/components/Swiper/Swiper.scss","webpack:////drone/src/packages/ui/src/components/Swiper/Swiper.js","webpack:////drone/src/packages/shared/src/helpers/versionCheck.js"],"names":["useContrastingPageColor","theme","colors","backgroundImage","backgroundImageOpacity","style","backgroundColor","usePageTheme","isLightBG","isLightColor","isLightContrasting","buttonBackground","hasImage","TinyColor","equals","background","color","useBasePageColor","percent","arguments","length","undefined","backgroundDimmed","darken","lighten","toHexString","CURRENCY_SYMBOL","Map","resolveFormatter","memoize","locale","currency","has","get","Intl","NumberFormat","currencyDisplay","minimumFractionDigits","useGrouping","l","c","formatPrice","amount","format","url","options","lead","end","charAt","slice","defaults","baseUrl","BaseApi","constructor","this","endpoint","request","post","body","method","put","delete","Array","isArray","params","obj","arr","prop","val","push","join","urlSearch","startsWith","isAbsolute","headers","rest","response","fetch","includes","toUpperCase","Accept","JSON","stringify","ok","status","errors","json","error","Error","type","ValidationError","message","AuthorizationError","statusText","ApiError","FeedbackApi","submit","workspaceId","websiteId","payload","mapDynamicFieldToName","_ref","index","_id","_extends","Object","assign","bind","target","i","source","key","prototype","hasOwnProperty","call","apply","d","id","fill","fillRule","transform","xlinkHref","props","width","height","SelectSimple","_rest$style","className","multiple","placeholder","hasError","size","value","builderInput","disabled","React","createElement","styles","wrapper","classNames","root","data-value","map","option","label","ArrowIcon","arrowIcon","defaultProps","priorityCountries","separator","supportedLanguages","getDefaultCountriesOptions","memoizeOne","lang","availableLang","countriesArray","values","countries","item","alpha_2","alpha_3","sort","item1","item2","localeCompare","prioritizedCountries","filter","country","indexOf","restCountries","CountrySelect","i18n","useTranslation","language","getPlans","plans","getId","plan","isPaid","paddle","liqpay","isUnpaid","isDeprecated","deprecated","isPublished","published","getPlanTypes","paid","unpaid","actual","BASIC","UNLIMITED","UNPAID","PAID","UPGRADEABLE","DEPRECATED","ACTUAL","ACTION_EVERY","ACTION_ALL","actionsSet","Set","parse","permission","resource","rawActions","split","actions","action","name","add","AccessPermissionRequest","user","subject","role","resourceOrPermission","isEvery","_this$user","_this$user$workspace","workspace","owner","currentUser","String","match","on","only","is","isAny","every","TOTAL_ACTIONS","ALL_ACCESS","Resource","access","_any","merge","total","isGranted","grantsAny","Role","parent","resources","getResourceIds","addResource","existing","getResource","find","examine","strict","granted","got","ACL","roles","getRoleIds","getRuleIds","concat","addRole","getRole","layer","ACLLoader","definitions","load","acl","rules","extend","grant","reject","rule","parseRuleDefinition","parsed","reduce","acc","Voter","supports","supportsVersion","version","versionCheck","projectVersion","vote","WebsitesVoter","canCreate","canEditBasic","quantities","websites","getLimitByRole","PageBlocksVoter","super","grants","canEdit","kind","grantsInArrayPayload","kindOrDescriptor","aclVoter","loader","matches","predicate","some","_acl","aclLoader","permissions","voters","addVoter","voter","constraints","canDelete","default","enabled","card","messengers","m","messenger","slug","products","count","templates","_request$subject","author","currentUserId","colorId","_subject$items","items","_ref2","_payload$workspace","_payload$workspace$bi","billing","AccessRequestError","code","AccessRequestResult","upgrade","_error","approve","createPayError","shouldUpgrade","createUpgradeError","createForbiddenError","checkRestrictions","subjectOrCallback","callback","allowPastDue","lookupUpgrade","_payload$workspace2","_payload$workspace2$b","result","checkRestrictionsOnAll","subjects","checkAllRestrictions","useWarning","useRestriction","ee","EventEmitter","setMaxListeners","show","_len","args","_key","emit","hide","state","setState","useState","isPresented","warning","useEffect","onShow","onHide","prevState","removeListener","useSelector","setWarning","checkRule","useCallback","showWarning","w","clearWarning","handleBlockedEvent","e","preventDefault","stopPropagation","useDeepCompareEffect","hasWarning","hideWarning","createHooks","lastRequestId","defaultState","pending","fulfilled","rejected","initialState","requestId","requestCount","reducer","useFetching","fn","deps","ref","useRef","isMounted","useMountedState","dispatch","useReducer","current","run","async","safeDispatch","ForbiddenError","isPermissionBlock","useMemo","validationErrors","getValidationError","SubmitButton","as","Component","Button","isInitialHidden","onClick","submitForm","dirty","isSubmitting","useFormikContext","isHidden","handleClick","isFetching","RadioGroup","onChange","userWebsiteField","isSelected","viewBox","xmlns","x","y","rx","stroke","strokeWidth","checked","dangerouslySetInnerHTML","__html","Checkbox","styled","checkMarkColor","checkMarkSquareBorderColor","checkMarkSquareFillColor","wrap","input","toggler","checkMarkSquare","ry","checkMark","CheckboxGroup","isChecked","Field","Textarea","maxLength","_className","paddingRight","_value","container","TextareaAutosize","counter","trim","minRows","maxRows","Input","containerClassName","inputStyle","autoFocus","isSelectAddon","renderAddon","node","isSelect","addon","renderNode","cloneElement","cls","select","contextBlock","inputClassName","icon","Icon","beforeInput","afterInput","hexInput","hidden","refInput","clearable","isFilled","handleClear","_rest$onChange","_beforeInput","_afterInput","_rootClassName","before","after","_inputClassName","small","sizeNormal","valueLength","useMount","setTimeout","_ref$current","focus","inputWrapper","composeRefs","clearAddon","hasRightAddon","FiX","marginBottom","FiCalendar","customNativeIcon","FiClock","FormRow","align","children","Tag","Label","FormErrors","critical","shake","errorStyle","msg","labelStyle","paddingLeft","FormField","component","required","labelClassName","shakeError","wrapAs","htmlFor","useModalThemes","ProductsBlockKind","baseTheme","useTheme","useElementTheme","elementPath","toLowerCase","compile","modalStyle","contentStyle","useCustomInputTheme","customTheme","inputBackgroundColor","inputTextColor","border","borderRadius","padding","display","useInputTheme","SubscriptionFormBlockKind","specificComponents","radio","checkbox","inputSpecificTypes","phone","handleEnterKey","getFieldProps","optionsString","onKeyPress","min","inputMode","pattern","DynamicFormInput","defaultMaxSize","defaultStyle","fieldProps","field","meta","useField","touched","DynamicFormInputs","block","gridMode","getBrightness","TinyColor2","text","factor1","factor2","Math","abs","setAlpha","toRgbString","ThemedButton","contour","baseStyle","contentAlignLeft","getContourColor","buttonTextColor","keyHash","tag","loaderColor","defaultCountry","SubscriptionFormContent","onSubmit","rawSubmit","interactive","sent","setSent","validationSchema","object","validator","string","max","__t","email","excludeEmptyString","mapDynamicInputsToValidationSchema","FormTag","loading","useAsyncFn","pairs","_values$item$_id","formik","initialValues","errorsPrefix","resetOnSuccess","autoSubmit","autoSubmitDebounce","warnings","setWarnings","useFormik","shouldAutoSubmit","setSubmitting","setStatus","resetForm","setErrors","useUpdateEffect","debouncedSubmit","debounce","useEnhancedFormik","getFormDefaults","fields","fromEntries","handleSentModalClosed","hasUrl","sentUrl","timer","window","location","clearTimeout","mapValues","FormikProvider","fullWidth","sendLabel","AnimatePresence","ThemedModal","compact","overlay","showHeader","onClose","handleClose","FiCheck","sentText","SubscriptionForm","useBlockTheme","website","useWebsiteData","combined","additionalStyle","useMergedStyles","handleSubmit","feedbackApi","blockId","data","submitEvent","CustomEvent","detail","document","dispatchEvent","BlockBase","POINTS","Spinner","borderWidth","duration","normalized","normalizeSize","round","animationDuration","WebkitAnimationDuration","MozAnimationDuration","cn","spinner","def","str","withPoints","points","MoreButton","ImageIcon","svgRef","IconBase","strokeLinecap","strokeLinejoin","ForwardRef","Thumbnail","LazyImage","mode","src","alt","isIntersecting","isIntersect","setIsIntersecting","setIsIntersect","observer","IntersectionObserver","entry","rootBounds","rootMargin","threshold","element","observe","unobserve","useIntersect","isLoaded","onLoad","onError","useLoadImage","img","visible","ServicesGridItem","themeStyles","getMediaSizeUrl","useUploads","photoUrl","MediaSizes","Half","thumbnail","title","emptyPlaceholder","IoMdImage","price","formattedDiscount","discount","discountPrice","lineThrough","formatted","ServicePhoto","forwardRef","slide","slideImage","Large","zoomIcon","common","FiZoomIn","imagePreloader","LoadingIndicator","lazy","loadPrevNext","preloaderClass","loadedClass","loaded","ServicePhotos","photos","isActive","isPrev","isNext","navigationPrevRef","navigationNextRef","paginationElRef","shouldSwiperLoad","setShouldSwiperLoad","swiper","setSwiper","isLightbox","setIsLightbox","currentLightBoxSlideIndex","setCurrentLightBoxSlideIndex","hasMultiplePhotos","hasNavElements","showSwiper","isSwipeable","openLightBox","closeLightBox","handleSlide","pagination","el","clickable","renderBullet","dot","clickableClass","clickablePagination","bulletActiveClass","activeBullet","handleLoad","updateAutoHeight","swiperContainer","Swiper","nested","autoHeight","navigation","prevEl","nextEl","speed","watchOverflow","loop","onSwiper","preloader","controlsContainer","controls","noSwiping","control","FiChevronLeft","FiChevronRight","closeButtonWrapper","closeButton","Suspense","fallback","LightBox","activeIndex","images","joinPath","a","b","removeTrailingSlash","CoreContext","createContext","path","router","isBackOverriddenBack","base","toEntry","toHome","product","toView","productSlug","collection","orders","orderId","basePath","toStatus","userOrders","toOrder","makeCoreRouter","setEntry","useCoreContext","useContext","BuyButton","service","onCartAdd","productCurrency","api","useFrontAPI","generateUrl","useNavigationUtils","currentOrder","saveOrderId","useSavedOrders","pageId","usePageData","isInCart","productId","orderPath","isDifferentCurrency","_currentOrder$items$","_currentOrder$items$$","orderCurrency","restrictCurrenciesMessage","toggleRestrictCurrenciesMessage","useToggle","handleBuy","quantity","modify","create","Fragment","beforeIcon","ShoppingCartIcon","Link","to","pathname","backPath","textAlign","ServiceActionsPane","contacts","enabledPayments","renderBlock","useRenderer","actionsBuy","ExternalUrlButton","_service$externalButt","_service$externalButt2","externalButton","externalUrl","URL","err","parseUrl","LinkBlank","href","data-id","data-title","data-element","data-event-name","urlSafeComponent","buttonContent","hostname","ServiceContent","description","backUrl","isCartAddAnimation","toggleCartAddAnimation","rootEl","serviceTitle","isDarkTheme","substring","contactsEl","_e$preventDefault","scrollTop","scrollTo","top","behavior","active","content","dark","fixedPane","motion","div","cartBouncer","animate","bottom","exit","transition","stiffness","ShoppingCart","position","right","ServicesModal","services","onClosing","handleHash","page","history","useHistory","hasMultipleServices","contactBlocks","_ref3","blocks","_ref4","handleSlideChange","replace","realIndex","allowTouchMove","initialSlide","noSwipingClass","onInit","onSlideChange","_ref5","ServicesGrid","sortable","delay","useLocation","hashId","hash","slideIndexFromHash","findIndex","hasSlideFromHash","Number","isInteger","setPage","isDelayed","setDelayed","isServicesModal","setIsServicesModal","currentServiceIndex","setCurrentServiceIndex","hasMore","ceil","sliced","handleLoadMore","old","openServicesModal","closeServicesModal","useTimeoutFn","servicesList","opacity","pointerEvents","moreButtonContainer","ServicesGridBlockKind","SearchIcon","ProductItem","mediaUtils","generateProductThumbnailUrl","ProductsApi","list","loadBySlug","collectionId","handleError","console","Sentry","captureException","MEDIA_BREAKPOINTS","minWidth","useIsDesktop","useMediaQuery","ButtonsMenu","activeCollectionId","onSelect","hasLeftBtn","moveLeft","hasRightBtn","moveRight","moveTo","isDesktop","setIndex","useMeasure","listScrollX","useScroll","listScrollWidth","scrollWidth","hasScroll","targetIndex","parentWidth","parentElement","clientWidth","nodes","from","querySelectorAll","scrollPosition","scrollLeft","currentIndex","useHorizontalTabbedScroll","resolvePathname","themeStyle","button","productsCategoryTextColor","buttonActive","arrowButton","arrowBg","isTabbed","filterMode","ItemTag","_e$target$dataset","_items$index","dataset","col","data-index","data-slug","ChevronDownIcon","PureButton","startIcon","endIcon","getProps","out","tabIndex","TextButton","DURATION_MAP","fast","normal","slow","createTransition","displayName","Transition","in","inProp","appear","innerRest","timeout","transitionDuration","CSSTransition","unmountOnExit","FilterMenuItem","publishedProductsCount","FilterMenu","isOpen","toggle","selected","isMatchId","useClickAway","handleSelect","aria-pressed","Fade","CollectionsBar","Item","baseProductUrl","fromCollection","_product$slug","Products","_showCollections$","isMobileMode","collectionIds","activeCollections","collections","showCollections","Boolean","setActiveCollectionId","pick","query","limit","isMobile","include","hasNext","getProducts","store","setStore","next","publishedCount","results","productsStore","productsApi","resetStore","prevProducts","useDebounce","catch","useProductsApi","handleMore","getFromCollection","keys","cols","_showCollections$2","firstId","Grid","itemClassName","Children","CollectionView","setProducts","initProducts","useCRMData","crm","WebsiteDataContext","cloneDeep","CRM_IDENTITY","addUrl","finalUrl","encodeURIComponent","Date","now","documentElement","start","ProductView","_history$location$sta","defaultCollectionId","getProduct","MessengersBlockKind","is404","usePresenceRemoval","UserOrdersPage","finalizedOrders","order","finalized","feedback","features","provider","paymentMethod","orderStatus","timestamp","toLocaleDateString","shouldRenderPaymentStatus","immediateCompletion","handlesPaymentsStatus","usePaymentConfigs","payments","providers","entries","config","immediate","online","isSingular","isSingularOnline","PAYMENT_PROVIDERS","stripe","FaStripe","FiChevronsRight","paypal","FaPaypal","supported_currencies","wayforpay","MdPayment","robokassa","PayButton","_PAYMENT_PROVIDERS$pr","_PAYMENT_PROVIDERS$pr2","CARD_OPTIONS","hidePostalCode","iconStyle","classes","webkitAutofill","StripeCheckoutForm","rawDisabled","onPay","useStripe","elements","useElements","inputStyles","succeeded","setSucceeded","processing","setProcessing","setDisabled","setError","iconColor","overflow","clientSecret","useAsync","signatures","createStripePaymentIntent","isDisabled","confirmCardPayment","payment_method","getElement","CardElement","handleChange","empty","marginTop","merchantDomainName","orderPaymentTimeout","WayforpayButton","merchantAccount","orderReference","orderDate","returnUrl","serviceUrl","createSignature","productName","productPrice","productCount","merchantSignature","setMerchantSignature","extractProduct","RobokassaButton","merchantLogin","invId","outSum","outSumCurrency","isTest","signature","setSignature","LiqpayButton","publicKey","resultUrl","serverUrl","public_key","order_id","encode","FiTruck","FaMoneyBillAlt","PAYMENT_PROVIDER_RENDERERS","cod","handleOrder","isModal","toggleModal","stripePromise","loadStripe","Elements","noop","contactInfo","firstName","lastName","isSupportedCurrency","createOrder","purchase_units","currency_code","breakdown","item_total","payer","given_name","surname","unit_amount","onApprove","details","capture","PayPalScriptProvider","clientId","PayPalButtons","layout","tagline","floor","random","createWayforpaySignature","BACKEND_ENDPOINTS","getWayforpayCallback","test","createRobokassaSignature","successUrl","getLiqPayCallback","createLiqpaySignature","other","handleModal","instructions","whiteSpace","UserOrderPage","setOrder","orderLoadCount","setOrderLoadCount","isPayNowModal","togglePayNowModal","isShowingCancelPrompt","showCancelPrompt","hideCancelPrompt","useBooleanHandler","orderLoading","loadedOrder","complete","mapper","finalizeLoading","handlePay","finalize","cancelLoading","handleCancelOrder","cancel","isJustOneOnlinePaymentMethod","onlineElements","Renderer","NotFoundError","phoneNumber","shippingAddress","city","address","postalCode","comment","ShoppingBagIcon","MapPinIcon","CreditCardIcon","usePageColors","StepContext","getPrevStep","first","getNextStep","last","useStep","currentStep","setCurrentStep","steps","lastStep","isFirstStep","isLastStep","nextStep","previousStep","gotoStep","step","_steps","isDone","gotoNextStep","gotoPreviousStep","getStepName","firstStep","StepIcon","number","isCurrent","stepCurrent","StepSwitch","setSteps","toArray","child","divider","borderColor","Provider","Step","printPrice","navigator","Row","getIdsByKind","Divider","borderTop","IconButton","CloseIcon","MinusIcon","PlusIcon","OrderItem","onAdjust","rawColor","isEditable","isMultiEditable","handleAdjust","delta","handleAdd","handleSubtract","handleRemove","Infinity","knob","row","quantityText","margin","fontWeight","subtotal","subTotal","OrderItemsList","useOrderProducts","retrieveFn","resolved","setResolved","pages","productIds","serviceIds","Promise","all","warn","missing","StepsFooter","prev","isFetchingPrev","handlePrev","isFetchingNext","handleNext","AdjustingStep","useMatchUrl","removeOrderId","handleModifyItems","Redirect","TextField","customStyle","captureSubmitError","helpers","fieldName","setFieldError","useOrderSubmit","update","INITIAL_SHIPPING_ADDRESS","ShippingAddressStep","_form$optional","_form$optional2","_form$optional3","form","doSubmit","requestCity","optional","requestState","requestPostalCode","Formik","Form","CheckCircleIcon","CircleIcon","CheckableItem","contentClass","ListInput","groups","grid","choiceClassName","activeClassName","groupLabelClassName","fullWidthClassName","renderOption","grouped","group","set","indexA","renderOptions","choice","rounded","groupLabel","OptionValuePropType","PropTypes","oneOfType","bool","any","arrayOf","isRequired","onChoiceRef","PaymentStep","_immediate$","removeCurrentOrderId","hasOnlineMethods","hasImmediateMethods","isJustOneOnlinePaymentMethods","setSelected","optionStyles","found","INITIAL_CONTACT_INFO","ContactInfoStep","noLastName","OrderPage","_location$state","MdContactPhone","collectAddress","PaymentStatusPage","useViewOrder","resolvedStatus","_form$successURL","FaRegFrown","FaRegSmileBeam","successMessage","successURL","PassthroughRoute","exact","makeProps","p","render","Route","PageProductsRouting","contexts","collectionSlug","module","exports","PLANS","flex","perView","forcePerView","slideClass","slideStyle","array","exceedsPerView","showPagination","hasPagination","slidesPerView","paginationOptions","BaseSwiper","resizeObserver","spaceBetween","SwiperSlide","nonInteractive","require","SwiperCore","use","Pagination","Lazy","Navigation","Autoplay","EffectFade","EffectFlip","satisfies","versionString"],"mappings":"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","file":"7.524204668dfeee0903c3.js","sourcesContent":["import TinyColor from 'tinycolor2';\nimport { isLightColor } from '@mssgme/helpers';\n\nimport { usePageTheme } from './useWebsiteTheme';\n\nexport const useContrastingPageColor = () => {\n    const {\n        theme: { colors, backgroundImage, backgroundImageOpacity },\n        style: { backgroundColor },\n    } = usePageTheme(true, true);\n    const isLightBG = isLightColor(backgroundColor);\n    const isLightContrasting = isLightColor(colors.buttonBackground);\n    const isBgUntouched = TinyColor.equals(backgroundColor, colors.background);\n    const hasImage = !!backgroundImage && backgroundImageOpacity > 0;\n\n    if (isBgUntouched && !(isLightBG && isLightContrasting)) {\n        return {\n            color: colors.buttonBackground,\n            hasImage,\n            backgroundColor,\n        };\n    }\n\n    return {\n        color: isLightBG ? '#333' : '#eee',\n        hasImage,\n        backgroundColor,\n    };\n};\nexport const useDimmedPageColor = (percent = 10) => {\n    const {\n        style: { backgroundColor },\n    } = usePageTheme(true, true);\n    const color = new TinyColor(backgroundColor);\n    const isLightBG = isLightColor(color);\n\n    return (isLightBG ? color.darken(percent) : color.lighten(percent)).toHexString();\n};\nexport const useBasePageColor = (percent = 10) => {\n    const {\n        style: { backgroundColor },\n    } = usePageTheme(true, true);\n    const color = new TinyColor(backgroundColor);\n    const isLightBG = isLightColor(color);\n\n    return {\n        isLightBG,\n        backgroundColor,\n        backgroundDimmed: (isLightBG ? color.darken(percent) : color.lighten(percent)).toHexString(),\n    };\n};\n","import { memoize } from 'lodash';\n\nconst CURRENCY_SYMBOL = new Map([['USD', 'en-US'], ['EUR', 'de-DE']]);\n\nconst resolveFormatter = memoize(\n    (locale, currency) => {\n        if (CURRENCY_SYMBOL.has(currency)) {\n            locale = CURRENCY_SYMBOL.get(currency);\n        }\n\n        return new Intl.NumberFormat(locale, {\n            style: 'currency',\n            currency: currency,\n            currencyDisplay: CURRENCY_SYMBOL.has(currency) ? 'symbol' : 'code',\n            minimumFractionDigits: 0,\n            useGrouping: false,\n        });\n    },\n    (l, c) => `${l}${c}`\n);\n\nconst formatPrice = (amount, currency, locale) => {\n    return resolveFormatter(locale, currency).format(amount);\n};\n\nexport default formatPrice;\n","/**\n * @param {string} url\n * @param {object} options\n * @param {boolean} [options.lead=false]\n * @param {boolean} [options.end=true]\n */\nexport default (url, options) => {\n    options = {\n        lead: false,\n        end: true,\n        ...options,\n    };\n\n    if (url.length === 0) return url;\n    if (options.lead && url.charAt(0) === '/') url = url.slice(1);\n    if (options.end && url.charAt(url.length - 1) === '/') url = url.slice(0, -1);\n\n    return url;\n};\n","const defaults = {\n    baseUrl: '/api',\n};\n\n// const meta = document.querySelector('meta[name=\"csrf-token\"]');\n// const csrfToken = meta ? meta.content : undefined;\n\nconst ApiError = (status, statusText) => {\n    const error = Error(statusText);\n    error.status = status;\n    error.type = 'api';\n    return error;\n};\n\nfunction urlSearch(obj) {\n    if (typeof obj !== 'object') return '';\n    const arr = [];\n\n    for (let prop in obj) {\n        const val = obj[prop];\n        if (val !== null && val !== undefined) arr.push(`${prop}=${val}`);\n    }\n\n    return arr.length > 0 ? '?' + arr.join('&') : '';\n}\n\nconst ValidationError = (errors) => {\n    const error = new Error('Validation error');\n    error.type = 'validation';\n    error.errors = errors;\n    return error;\n};\n\nconst AuthorizationError = (message) => {\n    const error = new Error(message);\n    error.type = 'authorization';\n    return error;\n};\n\nfunction isAbsolute(endpoint) {\n    return endpoint.startsWith('http://') || endpoint.startsWith('https://');\n}\n\nexport class BaseApi {\n    constructor(options) {\n        this.options = { ...defaults, ...options };\n    }\n\n    get(endpoint) {\n        return this.request(endpoint);\n    }\n\n    post(endpoint, body) {\n        return this.request(endpoint, { method: 'POST', body });\n    }\n\n    put(endpoint, body) {\n        return this.request(endpoint, { method: 'PUT', body });\n    }\n\n    delete(endpoint) {\n        return this.request(endpoint, { method: 'DELETE' });\n    }\n\n    async request(endpoint, options) {\n        if (Array.isArray(endpoint)) {\n            let params;\n            [endpoint, params] = endpoint;\n            endpoint = endpoint + urlSearch(params);\n        }\n\n        if (!isAbsolute(endpoint)) endpoint = this.options.baseUrl + endpoint;\n\n        const { method, headers, body, ...rest } = { method: 'GET', ...options };\n\n        const response = await fetch(endpoint, {\n            method: ['PUT', 'DELETE'].includes(method.toUpperCase()) ? 'POST' : method,\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                'X-HTTP-Method-Override': method.toUpperCase(),\n                // 'X-CSRF-Token': csrfToken,\n                ...headers,\n            },\n            body: body ? JSON.stringify(body) : undefined,\n            ...rest,\n        });\n\n        if (!response.ok) {\n            switch (response.status) {\n                case 400: {\n                    const { errors } = await response.json();\n                    throw ValidationError(errors);\n                }\n                case 401:\n                case 403:\n                    throw AuthorizationError(response.statusText);\n                default:\n                    throw ApiError(response.status, response.statusText);\n            }\n        }\n\n        if (response.status !== 204) {\n            return response.json();\n        }\n    }\n}\n\nexport default (options) => new BaseApi(options);\n","import { BaseApi } from './baseApi';\n\nexport class FeedbackApi extends BaseApi {\n    submit(workspaceId, websiteId, payload) {\n        return this.post(`/workspaces/${workspaceId}/websites/${websiteId}/feedback`, payload);\n    }\n}\n\nexport default ((options) => new FeedbackApi(options))();\n","import { object, string } from 'yup';\n\nimport { __t } from '../trans';\n\nexport const defaultDynamicFieldLengthLimit = 250;\nexport const mapDynamicFieldToName = ({ _id }, index) => _id || `field-${index}`;\nexport const mapDynamicInputsToValidationSchema = ({ items }) =>\n    object({\n        ...items.reduce((acc, item, index) => {\n            const field = mapDynamicFieldToName(item, index);\n            let validator = string()\n                .trim()\n                .max(item.size || defaultDynamicFieldLengthLimit, __t('field_too_long'));\n\n            if (item.required) {\n                validator = validator.required(__t('field_required'));\n            }\n\n            switch (item.type) {\n                case 'email': {\n                    validator = validator.email(__t('field_email'));\n\n                    break;\n                }\n                case 'phone': {\n                    validator = validator.matches(/\\+?[\\d\\-\\s()]{5,}/, {\n                        name: 'phone',\n                        message: __t('field_phone'),\n                        excludeEmptyString: true,\n                    });\n\n                    break;\n                }\n            }\n\n            acc[field] = validator;\n\n            return acc;\n        }, {}),\n    });\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"_11fX_eXS\",\"root\":\"_1DOGLKoC\",\"builderInput\":\"_16xArOy0\",\"error\":\"_2bRd8mVk\",\"normal\":\"_24IoT-_t\",\"small\":\"RqyvhRYB\",\"placeholder\":\"_3e-pxhXl\",\"disabled\":\"_1fGrxhiW\",\"arrowIcon\":\"_1rcUa1JO\"};","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar _ref = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M396.991 2042.5l-3.308 3.025a.537.537 0 000 .808c.244.223.64.223.884 0l3.75-3.429a.537.537 0 000-.808l-3.75-3.429a.667.667 0 00-.884 0 .537.537 0 000 .808l3.308 3.025z\",\n  id: \"select_arrow_svg__a\"\n}));\nvar _ref2 = /*#__PURE__*/React.createElement(\"use\", {\n  fill: \"currentColor\",\n  fillRule: \"nonzero\",\n  transform: \"matrix(0 1 1 0 -2038.5 -393.5)\",\n  xlinkHref: \"#select_arrow_svg__a\"\n});\nfunction SvgSelectArrow(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 8,\n    height: 5\n  }, props), _ref, _ref2);\n}\nexport default SvgSelectArrow;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './styles.scss';\n\nimport ArrowIcon from '../../../../icons/select_arrow.svg';\n\nconst SelectSimple = ({\n    className,\n    multiple,\n    placeholder,\n    options,\n    hasError,\n    size,\n    value,\n    builderInput,\n    disabled,\n    ...rest\n}) => (\n    <div className={styles.wrapper}>\n        <select\n            className={classNames(className, styles.root, {\n                [styles.error]: hasError,\n                [styles[size]]: !!styles[size],\n                [styles.placeholder]: placeholder && !value,\n                [styles.disabled]: disabled,\n                [styles.builderInput]: builderInput,\n            })}\n            multiple={multiple}\n            value={value}\n            disabled={disabled}\n            data-value={value}\n            {...rest}\n        >\n            {placeholder && <option value=\"\">{placeholder}</option>}\n            {options.map((option) => (\n                <option key={option.value} value={option.value} disabled={option.disabled}>\n                    {option.label}\n                </option>\n            ))}\n        </select>\n        <ArrowIcon color={rest?.style?.color || 'inherit'} className={styles.arrowIcon} />\n    </div>\n);\n\nSelectSimple.propTypes = {\n    options: PropTypes.arrayOf(\n        PropTypes.shape({\n            label: PropTypes.string,\n            value: PropTypes.string,\n        })\n    ).isRequired,\n    value: PropTypes.string,\n    placeholder: PropTypes.string,\n    className: PropTypes.string,\n    hasError: PropTypes.bool,\n    multiple: PropTypes.bool,\n    disabled: PropTypes.bool,\n    elementStyle: PropTypes.string,\n    size: PropTypes.oneOf(['normal', 'small']),\n    builderInput: PropTypes.bool,\n};\n\nSelectSimple.defaultProps = {\n    builderInput: false,\n    hasError: false,\n    multiple: false,\n};\n\nexport default SelectSimple;\n","export default {\n    'afghanistan': {\n        'uk_name': 'Афганістан',\n        'ru_name': 'Афганистан',\n        'en_name': 'Afghanistan',\n        'alpha_2': 'AF',\n        'alpha_3': 'AFG',\n    },\n    'alandislands': {\n        'uk_name': 'Аландські острови',\n        'ru_name': 'Аландские Острова',\n        'en_name': 'Åland Islands',\n        'alpha_2': 'AX',\n        'alpha_3': 'ALA',\n    },\n    'albania': {\n        'uk_name': 'Албанія',\n        'ru_name': 'Албания',\n        'en_name': 'Albania',\n        'alpha_2': 'AL',\n        'alpha_3': 'ALB',\n    },\n    'algeria': {\n        'uk_name': 'Алжир',\n        'ru_name': 'Алжир',\n        'en_name': 'Algeria',\n        'alpha_2': 'DZ',\n        'alpha_3': 'DZA',\n    },\n    'americansamoa': {\n        'uk_name': 'Американське Самоа',\n        'ru_name': 'Американское Самоа',\n        'en_name': 'American Samoa',\n        'alpha_2': 'AS',\n        'alpha_3': 'ASM',\n    },\n    'andorra': {\n        'uk_name': 'Андорра',\n        'ru_name': 'Андорра',\n        'en_name': 'Andorra',\n        'alpha_2': 'AD',\n        'alpha_3': 'AND',\n    },\n    'angola': {\n        'uk_name': 'Ангола',\n        'ru_name': 'Ангола',\n        'en_name': 'Angola',\n        'alpha_2': 'AO',\n        'alpha_3': 'AGO',\n    },\n    'anguilla': {\n        'uk_name': 'Ангілья',\n        'ru_name': 'Ангилья',\n        'en_name': 'Anguilla',\n        'alpha_2': 'AI',\n        'alpha_3': 'AIA',\n    },\n    'antiguaandbarbuda': {\n        'uk_name': 'Антигуа і Барбуда',\n        'ru_name': 'Антигуа и Барбуда',\n        'en_name': 'Antigua and Barbuda',\n        'alpha_2': 'AG',\n        'alpha_3': 'ATG',\n    },\n    'argentina': {\n        'uk_name': 'Аргентина',\n        'ru_name': 'Аргентина',\n        'en_name': 'Argentina',\n        'alpha_2': 'AR',\n        'alpha_3': 'ARG',\n    },\n    'armenia': {\n        'uk_name': 'Вірменія',\n        'ru_name': 'Армения',\n        'en_name': 'Armenia',\n        'alpha_2': 'AM',\n        'alpha_3': 'ARM',\n    },\n    'aruba': {\n        'uk_name': 'Аруба',\n        'ru_name': 'Аруба',\n        'en_name': 'Aruba',\n        'alpha_2': 'AW',\n        'alpha_3': 'ABW',\n    },\n    'australia': {\n        'uk_name': 'Австралія',\n        'ru_name': 'Австралия',\n        'en_name': 'Australia',\n        'alpha_2': 'AU',\n        'alpha_3': 'AUS',\n    },\n    'austria': {\n        'uk_name': 'Австрія',\n        'ru_name': 'Австрия',\n        'en_name': 'Austria',\n        'alpha_2': 'AT',\n        'alpha_3': 'AUT',\n    },\n    'azerbaijan': {\n        'uk_name': 'Азербайджан',\n        'ru_name': 'Азербайджан',\n        'en_name': 'Azerbaijan',\n        'alpha_2': 'AZ',\n        'alpha_3': 'AZE',\n    },\n    'thebahamas': {\n        'uk_name': 'Багамські Острови',\n        'ru_name': 'Багамские Острова',\n        'en_name': 'The Bahamas',\n        'alpha_2': 'BS',\n        'alpha_3': 'BHS',\n    },\n    'bahrain': {\n        'uk_name': 'Бахрейн',\n        'ru_name': 'Бахрейн',\n        'en_name': 'Bahrain',\n        'alpha_2': 'BH',\n        'alpha_3': 'BHR',\n    },\n    'bangladesh': {\n        'uk_name': 'Бангладеш',\n        'ru_name': 'Бангладеш',\n        'en_name': 'Bangladesh',\n        'alpha_2': 'BD',\n        'alpha_3': 'BGD',\n    },\n    'barbados': {\n        'uk_name': 'Барбадос',\n        'ru_name': 'Барбадос',\n        'en_name': 'Barbados',\n        'alpha_2': 'BB',\n        'alpha_3': 'BRB',\n    },\n    'belarus': {\n        'uk_name': 'Білорусь',\n        'ru_name': 'Беларусь',\n        'en_name': 'Belarus',\n        'alpha_2': 'BY',\n        'alpha_3': 'BLR',\n    },\n    'belgium': {\n        'uk_name': 'Бельгія',\n        'ru_name': 'Бельгия',\n        'en_name': 'Belgium',\n        'alpha_2': 'BE',\n        'alpha_3': 'BEL',\n    },\n    'belize': {\n        'uk_name': 'Беліз',\n        'ru_name': 'Белиз',\n        'en_name': 'Belize',\n        'alpha_2': 'BZ',\n        'alpha_3': 'BLZ',\n    },\n    'benin': {\n        'uk_name': 'Бенін',\n        'ru_name': 'Бенин',\n        'en_name': 'Benin',\n        'alpha_2': 'BJ',\n        'alpha_3': 'BEN',\n    },\n    'bermuda': {\n        'uk_name': 'Бермудські Острови',\n        'ru_name': 'Бермудские острова',\n        'en_name': 'Bermuda',\n        'alpha_2': 'BM',\n        'alpha_3': 'BMU',\n    },\n    'bhutan': {\n        'uk_name': 'Бутан',\n        'ru_name': 'Бутан',\n        'en_name': 'Bhutan',\n        'alpha_2': 'BT',\n        'alpha_3': 'BTN',\n    },\n    'bolivia': {\n        'uk_name': 'Болівія',\n        'ru_name': 'Боливия',\n        'en_name': 'Bolivia',\n        'alpha_2': 'BO',\n        'alpha_3': 'BOL',\n    },\n    'bonaire': {\n        'uk_name': 'Карибські Нідерланди',\n        'ru_name': 'Бонайре',\n        'en_name': 'Bonaire',\n        'alpha_2': 'BQ',\n        'alpha_3': 'BES',\n    },\n    'botswana': {\n        'uk_name': 'Ботсвана',\n        'ru_name': 'Ботсвана',\n        'en_name': 'Botswana',\n        'alpha_2': 'BW',\n        'alpha_3': 'BWA',\n    },\n    'brazil': {\n        'uk_name': 'Бразилія',\n        'ru_name': 'Бразилия',\n        'en_name': 'Brazil',\n        'alpha_2': 'BR',\n        'alpha_3': 'BRA',\n    },\n    'britishindianoceanterritory': {\n        'uk_name': 'Британська Територія в Індійському Океані',\n        'ru_name': 'Британская Территория В Индийском Океане',\n        'en_name': 'British Indian Ocean Territory',\n        'alpha_2': 'IO',\n        'alpha_3': 'IOT',\n    },\n    'britishvirginislands': {\n        'uk_name': 'Британські Віргінські Острови',\n        'ru_name': 'Британские Виргинские Острова',\n        'en_name': 'British Virgin Islands',\n        'alpha_2': 'VG',\n        'alpha_3': 'VGB',\n    },\n    'brunei': {\n        'uk_name': 'Бруней',\n        'ru_name': 'Бруней',\n        'en_name': 'Brunei',\n        'alpha_2': 'BN',\n        'alpha_3': 'BRN',\n    },\n    'bulgaria': {\n        'uk_name': 'Болгарія',\n        'ru_name': 'Болгария',\n        'en_name': 'Bulgaria',\n        'alpha_2': 'BG',\n        'alpha_3': 'BGR',\n    },\n    'burkinafaso': {\n        'uk_name': 'Буркіна-Фасо',\n        'ru_name': 'Буркина-Фасо',\n        'en_name': 'Burkina Faso',\n        'alpha_2': 'BF',\n        'alpha_3': 'BFA',\n    },\n    'burundi': {\n        'uk_name': 'Бурунді',\n        'ru_name': 'Бурунди',\n        'en_name': 'Burundi',\n        'alpha_2': 'BI',\n        'alpha_3': 'BDI',\n    },\n    'cambodia': {\n        'uk_name': 'Камбоджа',\n        'ru_name': 'Камбоджа',\n        'en_name': 'Cambodia',\n        'alpha_2': 'KH',\n        'alpha_3': 'KHM',\n    },\n    'cameroon': {\n        'uk_name': 'Камерун',\n        'ru_name': 'Камерун',\n        'en_name': 'Cameroon',\n        'alpha_2': 'CM',\n        'alpha_3': 'CMR',\n    },\n    'canada': {\n        'uk_name': 'Канада',\n        'ru_name': 'Канада',\n        'en_name': 'Canada',\n        'alpha_2': 'CA',\n        'alpha_3': 'CAN',\n    },\n    'capeverde': {\n        'uk_name': 'Кабо-Верде',\n        'ru_name': 'Кабо-Верде',\n        'en_name': 'Cape Verde',\n        'alpha_2': 'CV',\n        'alpha_3': 'CPV',\n    },\n    'caymanislands': {\n        'uk_name': 'Кайманові Острови',\n        'ru_name': 'Каймановы Острова',\n        'en_name': 'Cayman Islands',\n        'alpha_2': 'KY',\n        'alpha_3': 'CYM',\n    },\n    'centralafricanrepublic': {\n        'uk_name': 'Центральноафриканська Республіка',\n        'ru_name': 'Центральноафриканская Республика',\n        'en_name': 'Central African Republic',\n        'alpha_2': 'CF',\n        'alpha_3': 'CAF',\n    },\n    'chad': {\n        'uk_name': 'Чад',\n        'ru_name': 'Чад',\n        'en_name': 'Chad',\n        'alpha_2': 'TD',\n        'alpha_3': 'TCD',\n    },\n    'chile': {\n        'uk_name': 'Чилі',\n        'ru_name': 'Чили',\n        'en_name': 'Chile',\n        'alpha_2': 'CL',\n        'alpha_3': 'CHL',\n    },\n    'china': {\n        'uk_name': 'Китайська Народна Республіка',\n        'ru_name': 'Китай',\n        'en_name': 'China',\n        'alpha_2': 'CN',\n        'alpha_3': 'CHN',\n    },\n    'christmasisland': {\n        'uk_name': 'Острів Різдва',\n        'ru_name': 'Остров Рождества',\n        'en_name': 'Christmas Island',\n        'alpha_2': 'CX',\n        'alpha_3': 'CXR',\n    },\n    'cocos(keeling)islands': {\n        'uk_name': 'Кокосові острови',\n        'ru_name': 'Кокосовые (Килинг Острова',\n        'en_name': 'Cocos (Keeling) Islands',\n        'alpha_2': 'CC',\n        'alpha_3': 'CCK',\n    },\n    'colombia': {\n        'uk_name': 'Колумбія',\n        'ru_name': 'Колумбия',\n        'en_name': 'Colombia',\n        'alpha_2': 'CO',\n        'alpha_3': 'COL',\n    },\n    'comoros': {\n        'uk_name': 'Коморські Острови',\n        'ru_name': 'Коморские острова',\n        'en_name': 'Comoros',\n        'alpha_2': 'KM',\n        'alpha_3': 'COM',\n    },\n    'republicofthecongo': {\n        'uk_name': 'Республіка Конго',\n        'ru_name': 'Республика Конго',\n        'en_name': 'Republic of the Congo',\n        'alpha_2': 'CG',\n        'alpha_3': 'COG',\n    },\n    'democraticrepublicofthecongo': {\n        'uk_name': 'ДР Конго',\n        'ru_name': 'Демократическая Республика Конго',\n        'en_name': 'Democratic Republic of the Congo',\n        'alpha_2': 'CD',\n        'alpha_3': 'COD',\n    },\n    'cookislands': {\n        'uk_name': 'Острови Кука',\n        'ru_name': 'Кука',\n        'en_name': 'Cook Islands',\n        'alpha_2': 'CK',\n        'alpha_3': 'COK',\n    },\n    'costarica': {\n        'uk_name': 'Коста-Рика',\n        'ru_name': 'Коста-Рика',\n        'en_name': 'Costa Rica',\n        'alpha_2': 'CR',\n        'alpha_3': 'CRI',\n    },\n    'croatia': {\n        'uk_name': 'Хорватія',\n        'ru_name': 'Хорватия',\n        'en_name': 'Croatia',\n        'alpha_2': 'HR',\n        'alpha_3': 'HRV',\n    },\n    'cuba': {\n        'uk_name': 'Куба',\n        'ru_name': 'Куба',\n        'en_name': 'Cuba',\n        'alpha_2': 'CU',\n        'alpha_3': 'CUB',\n    },\n    'curaçao': {\n        'uk_name': 'Кюрасао',\n        'ru_name': 'Кюрасао',\n        'en_name': 'Curaçao',\n        'alpha_2': 'CW',\n        'alpha_3': 'CUW',\n    },\n    'cyprus': {\n        'uk_name': 'Кіпр',\n        'ru_name': 'Кипр',\n        'en_name': 'Cyprus',\n        'alpha_2': 'CY',\n        'alpha_3': 'CYP',\n    },\n    'czechrepublic': {\n        'uk_name': 'Чехія',\n        'ru_name': 'Чехия',\n        'en_name': 'Czech Republic',\n        'alpha_2': 'CZ',\n        'alpha_3': 'CZE',\n    },\n    'denmark': {\n        'uk_name': 'Данія',\n        'ru_name': 'Дания',\n        'en_name': 'Denmark',\n        'alpha_2': 'DK',\n        'alpha_3': 'DNK',\n    },\n    'djibouti': {\n        'uk_name': 'Джибуті',\n        'ru_name': 'Джибути',\n        'en_name': 'Djibouti',\n        'alpha_2': 'DJ',\n        'alpha_3': 'DJI',\n    },\n    'dominica': {\n        'uk_name': 'Домініка',\n        'ru_name': 'Доминика',\n        'en_name': 'Dominica',\n        'alpha_2': 'DM',\n        'alpha_3': 'DMA',\n    },\n    'dominicanrepublic': {\n        'uk_name': 'Домініканська Республіка',\n        'ru_name': 'Доминиканская Республика',\n        'en_name': 'Dominican Republic',\n        'alpha_2': 'DO',\n        'alpha_3': 'DOM',\n    },\n    'ecuador': {\n        'uk_name': 'Еквадор',\n        'ru_name': 'Эквадор',\n        'en_name': 'Ecuador',\n        'alpha_2': 'EC',\n        'alpha_3': 'ECU',\n    },\n    'egypt': {\n        'uk_name': 'Єгипет',\n        'ru_name': 'Египет',\n        'en_name': 'Egypt',\n        'alpha_2': 'EG',\n        'alpha_3': 'EGY',\n    },\n    'elsalvador': {\n        'uk_name': 'Сальвадор',\n        'ru_name': 'Сальвадор',\n        'en_name': 'El Salvador',\n        'alpha_2': 'SV',\n        'alpha_3': 'SLV',\n    },\n    'equatorialguinea': {\n        'uk_name': 'Екваторіальна Гвінея',\n        'ru_name': 'Экваториальная Гвинея',\n        'en_name': 'Equatorial Guinea',\n        'alpha_2': 'GQ',\n        'alpha_3': 'GNQ',\n    },\n    'eritrea': {\n        'uk_name': 'Еритрея',\n        'ru_name': 'Эритрея',\n        'en_name': 'Eritrea',\n        'alpha_2': 'ER',\n        'alpha_3': 'ERI',\n    },\n    'estonia': {\n        'uk_name': 'Естонія',\n        'ru_name': 'Эстония',\n        'en_name': 'Estonia',\n        'alpha_2': 'EE',\n        'alpha_3': 'EST',\n    },\n    'ethiopia': {\n        'uk_name': 'Ефіопія',\n        'ru_name': 'Эфиопия',\n        'en_name': 'Ethiopia',\n        'alpha_2': 'ET',\n        'alpha_3': 'ETH',\n    },\n    'falklandislands': {\n        'uk_name': 'Фолклендські Острови',\n        'ru_name': 'Фолклендские Острова',\n        'en_name': 'Falkland Islands',\n        'alpha_2': 'FK',\n        'alpha_3': 'FLK',\n    },\n    'faroeislands': {\n        'uk_name': 'Фарерські острови',\n        'ru_name': 'Фарерские Острова',\n        'en_name': 'Faroe Islands',\n        'alpha_2': 'FO',\n        'alpha_3': 'FRO',\n    },\n    'fiji': {\n        'uk_name': 'Фіджі',\n        'ru_name': 'Фиджи',\n        'en_name': 'Fiji',\n        'alpha_2': 'FJ',\n        'alpha_3': 'FJI',\n    },\n    'finland': {\n        'uk_name': 'Фінляндія',\n        'ru_name': 'Финляндия',\n        'en_name': 'Finland',\n        'alpha_2': 'FI',\n        'alpha_3': 'FIN',\n    },\n    'france': {\n        'uk_name': 'Франція',\n        'ru_name': 'Франция',\n        'en_name': 'France',\n        'alpha_2': 'FR',\n        'alpha_3': 'FRA',\n    },\n    'frenchguiana': {\n        'uk_name': 'Французька Гвіана',\n        'ru_name': 'Французская Гвиана',\n        'en_name': 'French Guiana',\n        'alpha_2': 'GF',\n        'alpha_3': 'GUF',\n    },\n    'frenchpolynesia': {\n        'uk_name': 'Французька Полінезія',\n        'ru_name': 'Французская Полинезия',\n        'en_name': 'French Polynesia',\n        'alpha_2': 'PF',\n        'alpha_3': 'PYF',\n    },\n    'frenchsouthernandantarcticlands': {\n        'uk_name': 'Французькі Південні і Антарктичні Території',\n        'ru_name': 'Французские Южные и Антарктические территории',\n        'en_name': 'French Southern and Antarctic Lands',\n        'alpha_2': 'TF',\n        'alpha_3': 'ATF',\n    },\n    'gabon': {\n        'uk_name': 'Габон',\n        'ru_name': 'Габон',\n        'en_name': 'Gabon',\n        'alpha_2': 'GA',\n        'alpha_3': 'GAB',\n    },\n    'thegambia': {\n        'uk_name': 'Гамбія',\n        'ru_name': 'Гамбия',\n        'en_name': 'The Gambia',\n        'alpha_2': 'GM',\n        'alpha_3': 'GMB',\n    },\n    'georgia': {\n        'uk_name': 'Грузія',\n        'ru_name': 'Грузия',\n        'en_name': 'Georgia',\n        'alpha_2': 'GE',\n        'alpha_3': 'GEO',\n    },\n    'germany': {\n        'uk_name': 'Німеччина',\n        'ru_name': 'Германия',\n        'en_name': 'Germany',\n        'alpha_2': 'DE',\n        'alpha_3': 'DEU',\n    },\n    'ghana': {\n        'uk_name': 'Гана',\n        'ru_name': 'Гана',\n        'en_name': 'Ghana',\n        'alpha_2': 'GH',\n        'alpha_3': 'GHA',\n    },\n    'gibraltar': {\n        'uk_name': 'Гібралтар',\n        'ru_name': 'Гибралтар',\n        'en_name': 'Gibraltar',\n        'alpha_2': 'GI',\n        'alpha_3': 'GIB',\n    },\n    'greece': {\n        'uk_name': 'Греція',\n        'ru_name': 'Греция',\n        'en_name': 'Greece',\n        'alpha_2': 'GR',\n        'alpha_3': 'GRC',\n    },\n    'greenland': {\n        'uk_name': 'Гренландія',\n        'ru_name': 'Гренландия',\n        'en_name': 'Greenland',\n        'alpha_2': 'GL',\n        'alpha_3': 'GRL',\n    },\n    'grenada': {\n        'uk_name': 'Гренада',\n        'ru_name': 'Гренада',\n        'en_name': 'Grenada',\n        'alpha_2': 'GD',\n        'alpha_3': 'GRD',\n    },\n    'guadeloupe': {\n        'uk_name': 'Гваделупа',\n        'ru_name': 'Гваделупа',\n        'en_name': 'Guadeloupe',\n        'alpha_2': 'GP',\n        'alpha_3': 'GLP',\n    },\n    'guam': {\n        'uk_name': 'Гуам',\n        'ru_name': 'ГУАМ',\n        'en_name': 'Guam',\n        'alpha_2': 'GU',\n        'alpha_3': 'GUM',\n    },\n    'guatemala': {\n        'uk_name': 'Гватемала',\n        'ru_name': 'Гватемала',\n        'en_name': 'Guatemala',\n        'alpha_2': 'GT',\n        'alpha_3': 'GTM',\n    },\n    'guernsey': {\n        'uk_name': 'Гернсі',\n        'ru_name': 'Гернси',\n        'en_name': 'Guernsey',\n        'alpha_2': 'GG',\n        'alpha_3': 'GGY',\n    },\n    'guinea': {\n        'uk_name': 'Гвінея',\n        'ru_name': 'Гвинея',\n        'en_name': 'Guinea',\n        'alpha_2': 'GN',\n        'alpha_3': 'GIN',\n    },\n    'guineabissau': {\n        'uk_name': 'Гвінея-Бісау',\n        'ru_name': 'Гвинея-Бисау',\n        'en_name': 'Guinea-Bissau',\n        'alpha_2': 'GW',\n        'alpha_3': 'GNB',\n    },\n    'guyana': {\n        'uk_name': 'Гаяна',\n        'ru_name': 'Гайана',\n        'en_name': 'Guyana',\n        'alpha_2': 'GY',\n        'alpha_3': 'GUY',\n    },\n    'haiti': {\n        'uk_name': 'Гаїті',\n        'ru_name': 'Гаити',\n        'en_name': 'Haiti',\n        'alpha_2': 'HT',\n        'alpha_3': 'HTI',\n    },\n    'honduras': {\n        'uk_name': 'Гондурас',\n        'ru_name': 'Гондурас',\n        'en_name': 'Honduras',\n        'alpha_2': 'HN',\n        'alpha_3': 'HND',\n    },\n    'hongkong': {\n        'uk_name': 'Гонконг',\n        'ru_name': 'Гонконг',\n        'en_name': 'Hong Kong',\n        'alpha_2': 'HK',\n        'alpha_3': 'HKG',\n    },\n    'hungary': {\n        'uk_name': 'Угорщина',\n        'ru_name': 'Венгрия',\n        'en_name': 'Hungary',\n        'alpha_2': 'HU',\n        'alpha_3': 'HUN',\n    },\n    'iceland': {\n        'uk_name': 'Ісландія',\n        'ru_name': 'Исландия',\n        'en_name': 'Iceland',\n        'alpha_2': 'IS',\n        'alpha_3': 'ISL',\n    },\n    'india': {\n        'uk_name': 'Індія',\n        'ru_name': 'Индия',\n        'en_name': 'India',\n        'alpha_2': 'IN',\n        'alpha_3': 'IND',\n    },\n    'indonesia': {\n        'uk_name': 'Індонезія',\n        'ru_name': 'Индонезия',\n        'en_name': 'Indonesia',\n        'alpha_2': 'ID',\n        'alpha_3': 'IDN',\n    },\n    'ivorycoast': {\n        'uk_name': 'Кот-д\\'Івуар',\n        'ru_name': 'Кот Д\\'Ивуар',\n        'en_name': 'Ivory Coast',\n        'alpha_2': 'CI',\n        'alpha_3': 'CIV',\n    },\n    'iran': {\n        'uk_name': 'Іран',\n        'ru_name': 'Иран',\n        'en_name': 'Iran',\n        'alpha_2': 'IR',\n        'alpha_3': 'IRN',\n    },\n    'iraq': {\n        'uk_name': 'Ірак',\n        'ru_name': 'Ирак',\n        'en_name': 'Iraq',\n        'alpha_2': 'IQ',\n        'alpha_3': 'IRQ',\n    },\n    'republicofireland': {\n        'uk_name': 'Ірландія',\n        'ru_name': 'Ирландия',\n        'en_name': 'Republic of Ireland',\n        'alpha_2': 'IE',\n        'alpha_3': 'IRL',\n    },\n    'isleofman': {\n        'uk_name': 'Острів Мен',\n        'ru_name': 'Остров Мэн',\n        'en_name': 'Isle of Man',\n        'alpha_2': 'IM',\n        'alpha_3': 'IMN',\n    },\n    'israel': {\n        'uk_name': 'Ізраїль',\n        'ru_name': 'Израиль',\n        'en_name': 'Israel',\n        'alpha_2': 'IL',\n        'alpha_3': 'ISR',\n    },\n    'italy': {\n        'uk_name': 'Італія',\n        'ru_name': 'Италия',\n        'en_name': 'Italy',\n        'alpha_2': 'IT',\n        'alpha_3': 'ITA',\n    },\n    'jamaica': {\n        'uk_name': 'Ямайка',\n        'ru_name': 'Ямайка',\n        'en_name': 'Jamaica',\n        'alpha_2': 'JM',\n        'alpha_3': 'JAM',\n    },\n    'japan': {\n        'uk_name': 'Японія',\n        'ru_name': 'Япония',\n        'en_name': 'Japan',\n        'alpha_2': 'JP',\n        'alpha_3': 'JPN',\n    },\n    'jordan': {\n        'uk_name': 'Йорданія',\n        'ru_name': 'Иордания',\n        'en_name': 'Jordan',\n        'alpha_2': 'JO',\n        'alpha_3': 'JOR',\n    },\n    'kazakhstan': {\n        'uk_name': 'Казахстан',\n        'ru_name': 'Казахстан',\n        'en_name': 'Kazakhstan',\n        'alpha_2': 'KZ',\n        'alpha_3': 'KAZ',\n    },\n    'kenya': {\n        'uk_name': 'Кенія',\n        'ru_name': 'Кения',\n        'en_name': 'Kenya',\n        'alpha_2': 'KE',\n        'alpha_3': 'KEN',\n    },\n    'kiribati': {\n        'uk_name': 'Кірибаті',\n        'ru_name': 'Кирибати',\n        'en_name': 'Kiribati',\n        'alpha_2': 'KI',\n        'alpha_3': 'KIR',\n    },\n    'kuwait': {\n        'uk_name': 'Кувейт',\n        'ru_name': 'Кувейт',\n        'en_name': 'Kuwait',\n        'alpha_2': 'KW',\n        'alpha_3': 'KWT',\n    },\n    'kyrgyzstan': {\n        'uk_name': 'Киргизстан',\n        'ru_name': 'Кыргызстан',\n        'en_name': 'Kyrgyzstan',\n        'alpha_2': 'KG',\n        'alpha_3': 'KGZ',\n    },\n    'laos': {\n        'uk_name': 'Лаос',\n        'ru_name': 'Лаос',\n        'en_name': 'Laos',\n        'alpha_2': 'LA',\n        'alpha_3': 'LAO',\n    },\n    'latvia': {\n        'uk_name': 'Латвія',\n        'ru_name': 'Латвия',\n        'en_name': 'Latvia',\n        'alpha_2': 'LV',\n        'alpha_3': 'LVA',\n    },\n    'lebanon': {\n        'uk_name': 'Ліван',\n        'ru_name': 'Ливан',\n        'en_name': 'Lebanon',\n        'alpha_2': 'LB',\n        'alpha_3': 'LBN',\n    },\n    'lesotho': {\n        'uk_name': 'Лесото',\n        'ru_name': 'Лесото',\n        'en_name': 'Lesotho',\n        'alpha_2': 'LS',\n        'alpha_3': 'LSO',\n    },\n    'liberia': {\n        'uk_name': 'Ліберія',\n        'ru_name': 'Либерия',\n        'en_name': 'Liberia',\n        'alpha_2': 'LR',\n        'alpha_3': 'LBR',\n    },\n    'libya': {\n        'uk_name': 'Лівія',\n        'ru_name': 'Ливия',\n        'en_name': 'Libya',\n        'alpha_2': 'LY',\n        'alpha_3': 'LBY',\n    },\n    'liechtenstein': {\n        'uk_name': 'Ліхтенштейн',\n        'ru_name': 'Лихтенштейн',\n        'en_name': 'Liechtenstein',\n        'alpha_2': 'LI',\n        'alpha_3': 'LIE',\n    },\n    'lithuania': {\n        'uk_name': 'Литва',\n        'ru_name': 'Литва',\n        'en_name': 'Lithuania',\n        'alpha_2': 'LT',\n        'alpha_3': 'LTU',\n    },\n    'luxembourg': {\n        'uk_name': 'Люксембург',\n        'ru_name': 'Люксембург',\n        'en_name': 'Luxembourg',\n        'alpha_2': 'LU',\n        'alpha_3': 'LUX',\n    },\n    'republicofmacedonia': {\n        'uk_name': 'Північна Македонія',\n        'ru_name': 'Республика Македония',\n        'en_name': 'Republic of Macedonia',\n        'alpha_2': 'MK',\n        'alpha_3': 'MKD',\n    },\n    'madagascar': {\n        'uk_name': 'Мадагаскар',\n        'ru_name': 'Мадагаскар',\n        'en_name': 'Madagascar',\n        'alpha_2': 'MG',\n        'alpha_3': 'MDG',\n    },\n    'malawi': {\n        'uk_name': 'Малаві',\n        'ru_name': 'Малави',\n        'en_name': 'Malawi',\n        'alpha_2': 'MW',\n        'alpha_3': 'MWI',\n    },\n    'malaysia': {\n        'uk_name': 'Малайзія',\n        'ru_name': 'Малайзия',\n        'en_name': 'Malaysia',\n        'alpha_2': 'MY',\n        'alpha_3': 'MYS',\n    },\n    'maldives': {\n        'uk_name': 'Мальдіви',\n        'ru_name': 'Мальдивы',\n        'en_name': 'Maldives',\n        'alpha_2': 'MV',\n        'alpha_3': 'MDV',\n    },\n    'mali': {\n        'uk_name': 'Малі',\n        'ru_name': 'Мали',\n        'en_name': 'Mali',\n        'alpha_2': 'ML',\n        'alpha_3': 'MLI',\n    },\n    'malta': {\n        'uk_name': 'Мальта',\n        'ru_name': 'Мальта',\n        'en_name': 'Malta',\n        'alpha_2': 'MT',\n        'alpha_3': 'MLT',\n    },\n    'marshallislands': {\n        'uk_name': 'Маршаллові Острови',\n        'ru_name': 'Маршалловы Острова',\n        'en_name': 'Marshall Islands',\n        'alpha_2': 'MH',\n        'alpha_3': 'MHL',\n    },\n    'martinique': {\n        'uk_name': 'Мартиніка',\n        'ru_name': 'Мартиника',\n        'en_name': 'Martinique',\n        'alpha_2': 'MQ',\n        'alpha_3': 'MTQ',\n    },\n    'mauritania': {\n        'uk_name': 'Мавританія',\n        'ru_name': 'Мавритания',\n        'en_name': 'Mauritania',\n        'alpha_2': 'MR',\n        'alpha_3': 'MRT',\n    },\n    'mauritius': {\n        'uk_name': 'Маврикій',\n        'ru_name': 'Маврикий',\n        'en_name': 'Mauritius',\n        'alpha_2': 'MU',\n        'alpha_3': 'MUS',\n    },\n    'mayotte': {\n        'uk_name': 'Майотта',\n        'ru_name': 'Майотта',\n        'en_name': 'Mayotte',\n        'alpha_2': 'YT',\n        'alpha_3': 'MYT',\n    },\n    'mexico': {\n        'uk_name': 'Мексика',\n        'ru_name': 'Мексика',\n        'en_name': 'Mexico',\n        'alpha_2': 'MX',\n        'alpha_3': 'MEX',\n    },\n    'federatedstatesofmicronesia': {\n        'uk_name': 'Федеративні Штати Мікронезії',\n        'ru_name': 'Федеративные Штаты Микронезии',\n        'en_name': 'Federated States of Micronesia',\n        'alpha_2': 'FM',\n        'alpha_3': 'FSM',\n    },\n    'moldova': {\n        'uk_name': 'Молдова',\n        'ru_name': 'Молдова',\n        'en_name': 'Moldova',\n        'alpha_2': 'MD',\n        'alpha_3': 'MDA',\n    },\n    'monaco': {\n        'uk_name': 'Монако',\n        'ru_name': 'Монако',\n        'en_name': 'Monaco',\n        'alpha_2': 'MC',\n        'alpha_3': 'MCO',\n    },\n    'mongolia': {\n        'uk_name': 'Монголія',\n        'ru_name': 'Монголия',\n        'en_name': 'Mongolia',\n        'alpha_2': 'MN',\n        'alpha_3': 'MNG',\n    },\n    'montenegro': {\n        'uk_name': 'Чорногорія',\n        'ru_name': 'Черногория',\n        'en_name': 'Montenegro',\n        'alpha_2': 'ME',\n        'alpha_3': 'MNE',\n    },\n    'montserrat': {\n        'uk_name': 'Монтсеррат',\n        'ru_name': 'Монсеррат',\n        'en_name': 'Montserrat',\n        'alpha_2': 'MS',\n        'alpha_3': 'MSR',\n    },\n    'morocco': {\n        'uk_name': 'Марокко',\n        'ru_name': 'Марокко',\n        'en_name': 'Morocco',\n        'alpha_2': 'MA',\n        'alpha_3': 'MAR',\n    },\n    'mozambique': {\n        'uk_name': 'Мозамбік',\n        'ru_name': 'Мозамбик',\n        'en_name': 'Mozambique',\n        'alpha_2': 'MZ',\n        'alpha_3': 'MOZ',\n    },\n    'myanmar': {\n        'uk_name': 'М\\'янма',\n        'ru_name': 'Мьянма',\n        'en_name': 'Myanmar',\n        'alpha_2': 'MM',\n        'alpha_3': 'MMR',\n    },\n    'namibia': {\n        'uk_name': 'Намібія',\n        'ru_name': 'Намибия',\n        'en_name': 'Namibia',\n        'alpha_2': 'NA',\n        'alpha_3': 'NAM',\n    },\n    'nauru': {\n        'uk_name': 'Науру',\n        'ru_name': 'Науру',\n        'en_name': 'Nauru',\n        'alpha_2': 'NR',\n        'alpha_3': 'NRU',\n    },\n    'nepal': {\n        'uk_name': 'Непал',\n        'ru_name': 'Непал',\n        'en_name': 'Nepal',\n        'alpha_2': 'NP',\n        'alpha_3': 'NPL',\n    },\n    'netherlands': {\n        'uk_name': 'Нідерланди',\n        'ru_name': 'Нидерланды',\n        'en_name': 'Netherlands',\n        'alpha_2': 'NL',\n        'alpha_3': 'NLD',\n    },\n    'newcaledonia': {\n        'uk_name': 'Нова Каледонія',\n        'ru_name': 'Новая Каледония',\n        'en_name': 'New Caledonia',\n        'alpha_2': 'NC',\n        'alpha_3': 'NCL',\n    },\n    'newzealand': {\n        'uk_name': 'Нова Зеландія',\n        'ru_name': 'Новая Зеландия',\n        'en_name': 'New Zealand',\n        'alpha_2': 'NZ',\n        'alpha_3': 'NZL',\n    },\n    'nicaragua': {\n        'uk_name': 'Нікарагуа',\n        'ru_name': 'Никарагуа',\n        'en_name': 'Nicaragua',\n        'alpha_2': 'NI',\n        'alpha_3': 'NIC',\n    },\n    'niger': {\n        'uk_name': 'Нігер',\n        'ru_name': 'Нигер',\n        'en_name': 'Niger',\n        'alpha_2': 'NE',\n        'alpha_3': 'NER',\n    },\n    'nigeria': {\n        'uk_name': 'Нігерія',\n        'ru_name': 'Нигерия',\n        'en_name': 'Nigeria',\n        'alpha_2': 'NG',\n        'alpha_3': 'NGA',\n    },\n    'niue': {\n        'uk_name': 'Ніуе',\n        'ru_name': 'Ниуэ',\n        'en_name': 'Niue',\n        'alpha_2': 'NU',\n        'alpha_3': 'NIU',\n    },\n    'norfolkisland': {\n        'uk_name': 'Острів Норфолк',\n        'ru_name': 'Остров Норфолк',\n        'en_name': 'Norfolk Island',\n        'alpha_2': 'NF',\n        'alpha_3': 'NFK',\n    },\n    'northkorea': {\n        'uk_name': 'Північна Корея',\n        'ru_name': 'Северная Корея',\n        'en_name': 'North Korea',\n        'alpha_2': 'KP',\n        'alpha_3': 'PRK',\n    },\n    'northernmarianaislands': {\n        'uk_name': 'Північні Маріанські Острови',\n        'ru_name': 'Северные Марианские Острова',\n        'en_name': 'Northern Mariana Islands',\n        'alpha_2': 'MP',\n        'alpha_3': 'MNP',\n    },\n    'norway': {\n        'uk_name': 'Норвегія',\n        'ru_name': 'Норвегия',\n        'en_name': 'Norway',\n        'alpha_2': 'NO',\n        'alpha_3': 'NOR',\n    },\n    'oman': {\n        'uk_name': 'Оман',\n        'ru_name': 'Оман',\n        'en_name': 'Oman',\n        'alpha_2': 'OM',\n        'alpha_3': 'OMN',\n    },\n    'pakistan': {\n        'uk_name': 'Пакистан',\n        'ru_name': 'Пакистан',\n        'en_name': 'Pakistan',\n        'alpha_2': 'PK',\n        'alpha_3': 'PAK',\n    },\n    'palau': {\n        'uk_name': 'Палау',\n        'ru_name': 'Палау',\n        'en_name': 'Palau',\n        'alpha_2': 'PW',\n        'alpha_3': 'PLW',\n    },\n    'palestine': {\n        'uk_name': 'Палестина',\n        'ru_name': 'Палестина',\n        'en_name': 'Palestine',\n        'alpha_2': 'PS',\n        'alpha_3': 'PSE',\n    },\n    'panama': {\n        'uk_name': 'Панама',\n        'ru_name': 'Панама',\n        'en_name': 'Panama',\n        'alpha_2': 'PA',\n        'alpha_3': 'PAN',\n    },\n    'papuanewguinea': {\n        'uk_name': 'Папуа Нова Гвінея',\n        'ru_name': 'Папуа-Новая Гвинея',\n        'en_name': 'Papua New Guinea',\n        'alpha_2': 'PG',\n        'alpha_3': 'PNG',\n    },\n    'paraguay': {\n        'uk_name': 'Парагвай',\n        'ru_name': 'Парагвай',\n        'en_name': 'Paraguay',\n        'alpha_2': 'PY',\n        'alpha_3': 'PRY',\n    },\n    'peru': {\n        'uk_name': 'Перу',\n        'ru_name': 'Перу',\n        'en_name': 'Peru',\n        'alpha_2': 'PE',\n        'alpha_3': 'PER',\n    },\n    'philippines': {\n        'uk_name': 'Філіппіни',\n        'ru_name': 'Филиппины',\n        'en_name': 'Philippines',\n        'alpha_2': 'PH',\n        'alpha_3': 'PHL',\n    },\n    'pitcairnislands': {\n        'uk_name': 'Піткерн',\n        'ru_name': 'Острова Питкэрн',\n        'en_name': 'Pitcairn Islands',\n        'alpha_2': 'PN',\n        'alpha_3': 'PCN',\n    },\n    'poland': {\n        'uk_name': 'Польща',\n        'ru_name': 'Польша',\n        'en_name': 'Poland',\n        'alpha_2': 'PL',\n        'alpha_3': 'POL',\n    },\n    'portugal': {\n        'uk_name': 'Португалія',\n        'ru_name': 'Португалия',\n        'en_name': 'Portugal',\n        'alpha_2': 'PT',\n        'alpha_3': 'PRT',\n    },\n    'puertorico': {\n        'uk_name': 'Пуерто-Рико',\n        'ru_name': 'Пуэрто-Рико',\n        'en_name': 'Puerto Rico',\n        'alpha_2': 'PR',\n        'alpha_3': 'PRI',\n    },\n    'qatar': {\n        'uk_name': 'Катар',\n        'ru_name': 'Катар',\n        'en_name': 'Qatar',\n        'alpha_2': 'QA',\n        'alpha_3': 'QAT',\n    },\n    'republicofkosovo': {\n        'uk_name': 'Республіка Косово',\n        'ru_name': 'Республика Косово',\n        'en_name': 'Republic of Kosovo',\n        'alpha_2': 'XK',\n        'alpha_3': 'KOS',\n    },\n    'réunion': {\n        'uk_name': 'Реюньйон',\n        'ru_name': 'Реюньон',\n        'en_name': 'Réunion',\n        'alpha_2': 'RE',\n        'alpha_3': 'REU',\n    },\n    'romania': {\n        'uk_name': 'Румунія',\n        'ru_name': 'Румыния',\n        'en_name': 'Romania',\n        'alpha_2': 'RO',\n        'alpha_3': 'ROU',\n    },\n    'russia': {\n        'uk_name': 'Росія',\n        'ru_name': 'Россия',\n        'en_name': 'Russia',\n        'alpha_2': 'RU',\n        'alpha_3': 'RUS',\n    },\n    'rwanda': {\n        'uk_name': 'Руанда',\n        'ru_name': 'Руанда',\n        'en_name': 'Rwanda',\n        'alpha_2': 'RW',\n        'alpha_3': 'RWA',\n    },\n    'saintbarthélemy': {\n        'uk_name': 'Сен-Бартелемі',\n        'ru_name': 'Сен-Бартельми',\n        'en_name': 'Saint Barthélemy',\n        'alpha_2': 'BL',\n        'alpha_3': 'BLM',\n    },\n    'saintkittsandnevis': {\n        'uk_name': 'Сент-Кіттс і Невіс',\n        'ru_name': 'Сент-Китс и Невис',\n        'en_name': 'Saint Kitts and Nevis',\n        'alpha_2': 'KN',\n        'alpha_3': 'KNA',\n    },\n    'saintlucia': {\n        'uk_name': 'Сент-Люсія',\n        'ru_name': 'Сент-Люсия',\n        'en_name': 'Saint Lucia',\n        'alpha_2': 'LC',\n        'alpha_3': 'LCA',\n    },\n    'saintmartin': {\n        'uk_name': 'Сен-Мартен',\n        'ru_name': 'Сен-Мартен',\n        'en_name': 'Saint Martin',\n        'alpha_2': 'MF',\n        'alpha_3': 'MAF',\n    },\n    'saintpierreandmiquelon': {\n        'uk_name': 'Сен-П\\'єр і Мікелон',\n        'ru_name': 'Сен-Пьер и Микелон',\n        'en_name': 'Saint Pierre and Miquelon',\n        'alpha_2': 'PM',\n        'alpha_3': 'SPM',\n    },\n    'saintvincentandthegrenadines': {\n        'uk_name': 'Сент-Вінсент і Гренадини',\n        'ru_name': 'Сент-Винсент и Гренадины',\n        'en_name': 'Saint Vincent and the Grenadines',\n        'alpha_2': 'VC',\n        'alpha_3': 'VCT',\n    },\n    'samoa': {\n        'uk_name': 'Самоа',\n        'ru_name': 'Самоа',\n        'en_name': 'Samoa',\n        'alpha_2': 'WS',\n        'alpha_3': 'WSM',\n    },\n    'sanmarino': {\n        'uk_name': 'Сан-Марино',\n        'ru_name': 'Сан-Марино',\n        'en_name': 'San Marino',\n        'alpha_2': 'SM',\n        'alpha_3': 'SMR',\n    },\n    'sãotoméandpríncipe': {\n        'uk_name': 'Сан-Томе і Принсіпі',\n        'ru_name': 'Сан-Томе и Принсипи',\n        'en_name': 'São Tomé and Príncipe',\n        'alpha_2': 'ST',\n        'alpha_3': 'STP',\n    },\n    'saudiarabia': {\n        'uk_name': 'Саудівська Аравія',\n        'ru_name': 'Саудовская Аравия',\n        'en_name': 'Saudi Arabia',\n        'alpha_2': 'SA',\n        'alpha_3': 'SAU',\n    },\n    'senegal': {\n        'uk_name': 'Сенегал',\n        'ru_name': 'Сенегал',\n        'en_name': 'Senegal',\n        'alpha_2': 'SN',\n        'alpha_3': 'SEN',\n    },\n    'serbia': {\n        'uk_name': 'Сербія',\n        'ru_name': 'Сербия',\n        'en_name': 'Serbia',\n        'alpha_2': 'RS',\n        'alpha_3': 'SRB',\n    },\n    'seychelles': {\n        'uk_name': 'Сейшельські Острови',\n        'ru_name': 'Сейшельские острова',\n        'en_name': 'Seychelles',\n        'alpha_2': 'SC',\n        'alpha_3': 'SYC',\n    },\n    'sierraleone': {\n        'uk_name': 'Сьєрра-Леоне',\n        'ru_name': 'Сьерра-Леоне',\n        'en_name': 'Sierra Leone',\n        'alpha_2': 'SL',\n        'alpha_3': 'SLE',\n    },\n    'singapore': {\n        'uk_name': 'Сінгапур',\n        'ru_name': 'Сингапур',\n        'en_name': 'Singapore',\n        'alpha_2': 'SG',\n        'alpha_3': 'SGP',\n    },\n    'sintmaarten': {\n        'uk_name': 'Сінт-Мартен',\n        'ru_name': 'Синт-Мартен',\n        'en_name': 'Sint Maarten',\n        'alpha_2': 'SX',\n        'alpha_3': 'SXM',\n    },\n    'slovakia': {\n        'uk_name': 'Словаччина',\n        'ru_name': 'Словакия',\n        'en_name': 'Slovakia',\n        'alpha_2': 'SK',\n        'alpha_3': 'SVK',\n    },\n    'slovenia': {\n        'uk_name': 'Словенія',\n        'ru_name': 'Словения',\n        'en_name': 'Slovenia',\n        'alpha_2': 'SI',\n        'alpha_3': 'SVN',\n    },\n    'solomonislands': {\n        'uk_name': 'Соломонові Острови',\n        'ru_name': 'Соломоновы Острова',\n        'en_name': 'Solomon Islands',\n        'alpha_2': 'SB',\n        'alpha_3': 'SLB',\n    },\n    'somalia': {\n        'uk_name': 'Сомалі',\n        'ru_name': 'Сомали',\n        'en_name': 'Somalia',\n        'alpha_2': 'SO',\n        'alpha_3': 'SOM',\n    },\n    'southafrica': {\n        'uk_name': 'ПАР',\n        'ru_name': 'Южная Африка',\n        'en_name': 'South Africa',\n        'alpha_2': 'ZA',\n        'alpha_3': 'ZAF',\n    },\n    'southgeorgia': {\n        'uk_name': 'Південна Джорджія та Південні Сандвічеві Острови',\n        'ru_name': 'Южная Георгия',\n        'en_name': 'South Georgia',\n        'alpha_2': 'GS',\n        'alpha_3': 'SGS',\n    },\n    'southkorea': {\n        'uk_name': 'Південна Корея',\n        'ru_name': 'Южная Корея',\n        'en_name': 'South Korea',\n        'alpha_2': 'KR',\n        'alpha_3': 'KOR',\n    },\n    'southsudan': {\n        'uk_name': 'Південний Судан',\n        'ru_name': 'Южный Судан',\n        'en_name': 'South Sudan',\n        'alpha_2': 'SS',\n        'alpha_3': 'SSD',\n    },\n    'spain': {\n        'uk_name': 'Іспанія',\n        'ru_name': 'Испания',\n        'en_name': 'Spain',\n        'alpha_2': 'ES',\n        'alpha_3': 'ESP',\n    },\n    'srilanka': {\n        'uk_name': 'Шрі-Ланка',\n        'ru_name': 'Шри-Ланка',\n        'en_name': 'Sri Lanka',\n        'alpha_2': 'LK',\n        'alpha_3': 'LKA',\n    },\n    'sudan': {\n        'uk_name': 'Судан',\n        'ru_name': 'Судан',\n        'en_name': 'Sudan',\n        'alpha_2': 'SD',\n        'alpha_3': 'SDN',\n    },\n    'suriname': {\n        'uk_name': 'Суринам',\n        'ru_name': 'Суринам',\n        'en_name': 'Suriname',\n        'alpha_2': 'SR',\n        'alpha_3': 'SUR',\n    },\n    'svalbardandjanmayen': {\n        'uk_name': 'Свальбард і Ян-Маєн',\n        'ru_name': 'Шпицберген и Ян Майен',\n        'en_name': 'Svalbard and Jan Mayen',\n        'alpha_2': 'SJ',\n        'alpha_3': 'SJM',\n    },\n    'swaziland': {\n        'uk_name': 'Есватіні',\n        'ru_name': 'Свазиленд',\n        'en_name': 'Swaziland',\n        'alpha_2': 'SZ',\n        'alpha_3': 'SWZ',\n    },\n    'sweden': {\n        'uk_name': 'Швеція',\n        'ru_name': 'Швеция',\n        'en_name': 'Sweden',\n        'alpha_2': 'SE',\n        'alpha_3': 'SWE',\n    },\n    'switzerland': {\n        'uk_name': 'Швейцарія',\n        'ru_name': 'Швейцария',\n        'en_name': 'Switzerland',\n        'alpha_2': 'CH',\n        'alpha_3': 'CHE',\n    },\n    'syria': {\n        'uk_name': 'Сирія',\n        'ru_name': 'Сирия',\n        'en_name': 'Syria',\n        'alpha_2': 'SY',\n        'alpha_3': 'SYR',\n    },\n    'taiwan': {\n        'uk_name': 'Тайвань',\n        'ru_name': 'Тайвань',\n        'en_name': 'Taiwan',\n        'alpha_2': 'TW',\n        'alpha_3': 'TWN',\n    },\n    'tajikistan': {\n        'uk_name': 'Таджикистан',\n        'ru_name': 'Таджикистан',\n        'en_name': 'Tajikistan',\n        'alpha_2': 'TJ',\n        'alpha_3': 'TJK',\n    },\n    'tanzania': {\n        'uk_name': 'Танзанія',\n        'ru_name': 'Танзания',\n        'en_name': 'Tanzania',\n        'alpha_2': 'TZ',\n        'alpha_3': 'TZA',\n    },\n    'thailand': {\n        'uk_name': 'Таїланд',\n        'ru_name': 'Таиланд',\n        'en_name': 'Thailand',\n        'alpha_2': 'TH',\n        'alpha_3': 'THA',\n    },\n    'easttimor': {\n        'uk_name': 'Східний Тимор',\n        'ru_name': 'Восточный Тимор',\n        'en_name': 'East Timor',\n        'alpha_2': 'TL',\n        'alpha_3': 'TLS',\n    },\n    'togo': {\n        'uk_name': 'Того',\n        'ru_name': 'Того',\n        'en_name': 'Togo',\n        'alpha_2': 'TG',\n        'alpha_3': 'TGO',\n    },\n    'tokelau': {\n        'uk_name': 'Токелау',\n        'ru_name': 'Токелау',\n        'en_name': 'Tokelau',\n        'alpha_2': 'TK',\n        'alpha_3': 'TKL',\n    },\n    'tonga': {\n        'uk_name': 'Тонга',\n        'ru_name': 'Тонга',\n        'en_name': 'Tonga',\n        'alpha_2': 'TO',\n        'alpha_3': 'TON',\n    },\n    'trinidadandtobago': {\n        'uk_name': 'Тринідад і Тобаго',\n        'ru_name': 'Тринидад и Тобаго',\n        'en_name': 'Trinidad and Tobago',\n        'alpha_2': 'TT',\n        'alpha_3': 'TTO',\n    },\n    'tunisia': {\n        'uk_name': 'Туніс',\n        'ru_name': 'Тунис',\n        'en_name': 'Tunisia',\n        'alpha_2': 'TN',\n        'alpha_3': 'TUN',\n    },\n    'turkey': {\n        'uk_name': 'Туреччина',\n        'ru_name': 'Турция',\n        'en_name': 'Turkey',\n        'alpha_2': 'TR',\n        'alpha_3': 'TUR',\n    },\n    'turkmenistan': {\n        'uk_name': 'Туркменістан',\n        'ru_name': 'Туркменистан',\n        'en_name': 'Turkmenistan',\n        'alpha_2': 'TM',\n        'alpha_3': 'TKM',\n    },\n    'turksandcaicosislands': {\n        'uk_name': 'Острови Теркс і Кайкос',\n        'ru_name': 'Теркс и Кайкос',\n        'en_name': 'Turks and Caicos Islands',\n        'alpha_2': 'TC',\n        'alpha_3': 'TCA',\n    },\n    'tuvalu': {\n        'uk_name': 'Тувалу',\n        'ru_name': 'Тувалу',\n        'en_name': 'Tuvalu',\n        'alpha_2': 'TV',\n        'alpha_3': 'TUV',\n    },\n    'uganda': {\n        'uk_name': 'Уганда',\n        'ru_name': 'Уганда',\n        'en_name': 'Uganda',\n        'alpha_2': 'UG',\n        'alpha_3': 'UGA',\n    },\n    'ukraine': {\n        'uk_name': 'Україна',\n        'ru_name': 'Украина',\n        'en_name': 'Ukraine',\n        'alpha_2': 'UA',\n        'alpha_3': 'UKR',\n    },\n    'unitedarabemirates': {\n        'uk_name': 'ОАЕ',\n        'ru_name': 'Объединенные Арабские Эмираты',\n        'en_name': 'United Arab Emirates',\n        'alpha_2': 'AE',\n        'alpha_3': 'ARE',\n    },\n    'unitedkingdom': {\n        'uk_name': 'Велика Британія',\n        'ru_name': 'Соединенное Королевство',\n        'en_name': 'United Kingdom',\n        'alpha_2': 'GB',\n        'alpha_3': 'GBR',\n    },\n    'unitedstates': {\n        'uk_name': 'США',\n        'ru_name': 'Соединенные Штаты',\n        'en_name': 'United States',\n        'alpha_2': 'US',\n        'alpha_3': 'USA',\n    },\n    'uruguay': {\n        'uk_name': 'Уругвай',\n        'ru_name': 'Уругвай',\n        'en_name': 'Uruguay',\n        'alpha_2': 'UY',\n        'alpha_3': 'URY',\n    },\n    'uzbekistan': {\n        'uk_name': 'Узбекистан',\n        'ru_name': 'Узбекистан',\n        'en_name': 'Uzbekistan',\n        'alpha_2': 'UZ',\n        'alpha_3': 'UZB',\n    },\n    'vanuatu': {\n        'uk_name': 'Вануату',\n        'ru_name': 'Вануату',\n        'en_name': 'Vanuatu',\n        'alpha_2': 'VU',\n        'alpha_3': 'VUT',\n    },\n    'venezuela': {\n        'uk_name': 'Венесуела',\n        'ru_name': 'Венесуэла',\n        'en_name': 'Venezuela',\n        'alpha_2': 'VE',\n        'alpha_3': 'VEN',\n    },\n    'vietnam': {\n        'uk_name': 'В\\'єтнам',\n        'ru_name': 'Вьетнам',\n        'en_name': 'Vietnam',\n        'alpha_2': 'VN',\n        'alpha_3': 'VNM',\n    },\n    'wallisandfutuna': {\n        'uk_name': 'Волліс і Футуна',\n        'ru_name': 'Уоллис и Футуна',\n        'en_name': 'Wallis and Futuna',\n        'alpha_2': 'WF',\n        'alpha_3': 'WLF',\n    },\n    'westernsahara': {\n        'uk_name': 'Західна Сахара',\n        'ru_name': 'Западная Сахара',\n        'en_name': 'Western Sahara',\n        'alpha_2': 'EH',\n        'alpha_3': 'ESH',\n    },\n    'yemen': {\n        'uk_name': 'Ємен',\n        'ru_name': 'Йемен',\n        'en_name': 'Yemen',\n        'alpha_2': 'YE',\n        'alpha_3': 'YEM',\n    },\n    'zambia': {\n        'uk_name': 'Замбія',\n        'ru_name': 'Замбия',\n        'en_name': 'Zambia',\n        'alpha_2': 'ZM',\n        'alpha_3': 'ZMB',\n    },\n    'zimbabwe': {\n        'uk_name': 'Зімбабве',\n        'ru_name': 'Зимбабве',\n        'en_name': 'Zimbabwe',\n        'alpha_2': 'ZW',\n        'alpha_3': 'ZWE',\n    },\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport memoizeOne from 'memoize-one';\nimport { useTranslation } from 'react-i18next';\n\nimport SelectSimple from '../SelectSimple';\nimport countries from './countries';\n\nconst priorityCountries = ['UA', 'KZ', 'RU', 'US'];\nconst separator = {\n    label: '--------------------',\n    value: 'separator1',\n    disabled: true,\n};\n\nconst supportedLanguages = ['en', 'uk', 'ru'];\n\nexport const getDefaultCountriesOptions = memoizeOne((lang) => {\n    const availableLang = supportedLanguages.includes(lang) ? lang : 'en';\n    const countriesArray = Object.values(countries)\n        .map((item) => ({\n            label: item[`${availableLang}_name`],\n            value: `${item.alpha_2}-${item.alpha_3}`,\n            alpha_2: item.alpha_2,\n        }))\n        .sort((item1, item2) => item1.label.localeCompare(item2.label));\n\n    const prioritizedCountries = countriesArray\n        .filter((country) => priorityCountries.includes(country.alpha_2))\n        .sort((item1, item2) => priorityCountries.indexOf(item1.alpha_2) - priorityCountries.indexOf(item2.alpha_2));\n    const restCountries = countriesArray.filter((country) => !prioritizedCountries.includes(country));\n\n    return [...prioritizedCountries, separator, ...restCountries];\n});\n\nconst CountrySelect = ({ ...rest }) => {\n    const { i18n } = useTranslation();\n\n    return <SelectSimple {...rest} options={getDefaultCountriesOptions(i18n.language)} />;\n};\n\nCountrySelect.propTypes = {\n    lang: PropTypes.string,\n};\n\nexport default CountrySelect;\n","import memoize from 'memoize-one';\nimport plans from '@mssgme/plans';\n\nexport const getPlans = () => {\n    return Object.values(plans);\n};\n\nconst getId = (plan) => plan.id;\nconst isPaid = (plan) => plan.paddle || plan.liqpay;\nconst isUnpaid = (plan) => !plan.paddle && !plan.liqpay;\nconst isDeprecated = (plan) => plan.deprecated;\nconst isPublished = (plan) => plan.published;\n\nexport const getPlanTypes = memoize(() => {\n    const plans = getPlans();\n    const paid = plans.filter(isPaid).map(getId);\n    const unpaid = ['unlimited', ...plans.filter(isUnpaid).map(getId)];\n    const deprecated = plans.filter(isDeprecated).map(getId);\n    const actual = plans.filter(isPublished).map(getId);\n    const upgradeable = ['basic', ...actual];\n\n    return {\n        BASIC: 'basic',\n        UNLIMITED: 'unlimited',\n        UNPAID: unpaid,\n        PAID: paid,\n        UPGRADEABLE: upgradeable,\n        DEPRECATED: deprecated,\n        ACTUAL: actual,\n    };\n});\n\nexport const getPlanIds = () => {\n    return getPlans().map((plan) => plan.id);\n};\n\nexport const getPlanDefinition = (plan) => {\n    return plan && getPlans().find((definition) => definition.id === plan);\n};\n\nexport const getPlanAllowedQuantity = (plan, quantity) => {\n    const definition = getPlanDefinition(plan);\n    const fixed = definition.fixedQuantity;\n\n    if (fixed) {\n        if (Array.isArray(fixed)) {\n            const [min, max] = fixed.map(Number);\n\n            return Math.max(min, Math.min(quantity || 1, max));\n        }\n\n        return +fixed;\n    }\n\n    return quantity;\n};\n","import { memoize } from 'lodash';\n\nexport const ACTION_CREATE = 'create';\nexport const ACTION_DELETE = 'delete';\nexport const ACTION_VIEW = 'view';\nexport const ACTION_EDIT = 'edit';\nexport const ACTION_ANY = '?';\nexport const ACTION_EVERY = '*';\nexport const ACTION_ALL = [ACTION_CREATE, ACTION_VIEW, ACTION_EDIT, ACTION_DELETE];\n\nexport const ACTION_IDS = [ACTION_CREATE, ACTION_VIEW, ACTION_EDIT, ACTION_DELETE, ACTION_EVERY, ACTION_ANY];\n\nconst actionsSet = new Set(ACTION_IDS);\n\nexport const isUnpaid = ({ plan, status, paid }, allowPastDue = false) => {\n    if (plan && (status === 'trialing' || ['basic', 'unlimited'].includes(plan))) {\n        return false;\n    }\n\n    return !(paid || (allowPastDue && status === 'past_due'));\n};\n\n/**\n * @param {string} permission Permission string to parse\n * @returns {{resource: string, actions: string[]}} Parsed resource and actions list\n */\nexport const parse = memoize((permission) => {\n    const [resource, rawActions = ACTION_EVERY] = permission.split(':');\n    const actions = new Set();\n\n    if (rawActions) {\n        for (const action of rawActions.split(',')) {\n            if (action === ACTION_EVERY) {\n                for (const name of ACTION_ALL) {\n                    actions.add(name);\n                }\n            } else if (actionsSet.has(action)) {\n                actions.add(action);\n            } else {\n                throw new Error(`Unknown action \"${action}\"`);\n            }\n        }\n    } else {\n        for (const name of ACTION_ALL) {\n            actions.add(name);\n        }\n    }\n\n    return {\n        resource,\n        actions: [...actions],\n    };\n});\n\nexport class AccessPermissionRequest {\n    constructor(user, subject, role, resourceOrPermission, actions) {\n        this.user = user;\n        this.subject = subject;\n        this.role = role;\n\n        if (actions) {\n            this.resource = resourceOrPermission;\n            this.actions = actions;\n        } else {\n            this.fill(resourceOrPermission);\n        }\n    }\n\n    get description() {\n        return `[@${this.role} ${this.resource}${this.isEvery() ? '' : ':' + this.actions.join(',')}]${\n            this.subject ? ' @ ' + JSON.stringify(this.subject) : ''\n        }`;\n    }\n\n    get currentUser() {\n        return this.user?.workspace?.owner;\n    }\n\n    get currentUserId() {\n        const user = this.currentUser;\n\n        return user ? String(user._id || user) : null;\n    }\n\n    /**\n     * @param {string} permission Permission string to parse\n     * @returns {this} `this`\n     */\n    fill(permission) {\n        return Object.assign(this, parse(permission));\n    }\n\n    /**\n     * @param {string} permission Permission string to parse\n     * @returns {boolean} `True` if this request matches `permission`\n     */\n    match(permission) {\n        const { resource, actions } = parse(permission);\n\n        return this.on(resource) && this.isEvery(actions);\n    }\n\n    /**\n     * @param {string[]} actions Actions list\n     * @returns {AccessPermissionRequest} Copy of this request, but matching only provided `actions`\n     */\n    only(actions) {\n        return new AccessPermissionRequest(this.user, this.subject, this.role, this.resource, actions);\n    }\n\n    on(resource) {\n        return this.resource === resource;\n    }\n\n    includes(action) {\n        return this.actions.includes(action);\n    }\n\n    is(action) {\n        return this.actions.length === 1 && this.actions[0] === action;\n    }\n\n    isAny() {\n        return this.actions.includes(ACTION_ANY);\n    }\n\n    isEvery(actions = ACTION_ALL) {\n        return actions.every((action) => this.actions.includes(action));\n    }\n}\n","import { ACTION_CREATE, ACTION_VIEW, ACTION_EDIT, ACTION_DELETE, ACTION_ANY, ACTION_ALL } from '../request';\n\nconst TOTAL_ACTIONS = ACTION_ALL.length;\nconst ALL_ACCESS = {\n    [ACTION_CREATE]: true,\n    [ACTION_VIEW]: true,\n    [ACTION_EDIT]: true,\n    [ACTION_DELETE]: true,\n};\n\nexport class Resource {\n    /**\n     * @param {string} name\n     * @param {{[string]: boolean}} access\n     */\n    constructor(name, access) {\n        this.name = name;\n        this.access = access || { ...ALL_ACCESS };\n        this._any = null;\n    }\n\n    /**\n     * @param {Resource} resource\n     * @returns {this}\n     */\n    merge(resource) {\n        Object.assign(this.access, resource.access);\n        this._any = null;\n\n        return this;\n    }\n\n    get grantsAny() {\n        if (this._any === null) {\n            let total = 0;\n\n            for (const value of Object.values(this.access)) {\n                total++;\n\n                if (value) {\n                    this._any = true;\n\n                    return true;\n                }\n            }\n\n            this._any = total === TOTAL_ACTIONS ? false : undefined;\n        }\n\n        return this._any;\n    }\n\n    /**\n     * @param {string} action\n     * @returns {boolean}\n     */\n    isGranted(action) {\n        return action === ACTION_ANY ? this.grantsAny : this.access[action];\n    }\n}\n","import { ACTION_ANY } from '../request';\n\nexport class Role {\n    /**\n     * @param {string} name\n     * @param {Role|null} [parent]\n     */\n    constructor(name, parent) {\n        this.name = name;\n        this.parent = parent;\n        this.resources = [];\n    }\n\n    /**\n     * @returns {string[]}\n     */\n    getResourceIds() {\n        return this.resources.map((resource) => resource.name);\n    }\n\n    /**\n     * @param {Resource} resource\n     * @returns {Resource}\n     */\n    addResource(resource) {\n        const existing = this.getResource(resource.name);\n\n        if (existing) {\n            return existing.merge(resource);\n        }\n\n        this.resources.push(resource);\n\n        return resource;\n    }\n\n    /**\n     * @param {string} name\n     * @returns {Resource}\n     */\n    getResource(name) {\n        return this.resources.find((resource) => resource.name === name);\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request Permission request descriptor\n     * @param {boolean} [strict] Check only this role (no parent role checks)\n     * @returns {boolean} True if granted\n     */\n    isGranted(request, strict = false) {\n        let examine;\n        const resource = this.getResource(request.resource);\n\n        if (resource) {\n            let granted;\n\n            if (request.isAny()) {\n                granted = resource.isGranted(ACTION_ANY);\n\n                if (granted !== undefined) {\n                    return granted;\n                }\n            } else {\n                examine = new Set(request.actions);\n\n                for (const action of request.actions) {\n                    const got = resource.isGranted(action);\n\n                    if (got === false) {\n                        return false;\n                    }\n\n                    if (got === true) {\n                        examine.delete(action);\n                    }\n                }\n\n                if (examine.size) {\n                    request = request.only([...examine]);\n                } else {\n                    return true;\n                }\n            }\n        }\n\n        return (!strict && this.parent && this.parent.isGranted(request)) || false;\n    }\n}\n","export class ACL {\n    constructor() {\n        this.roles = [];\n    }\n\n    /**\n     * @returns {string[]}\n     */\n    getRoleIds() {\n        return this.roles.map((role) => role.name);\n    }\n\n    /**\n     * @returns {string[]}\n     */\n    getRuleIds() {\n        return [...new Set([].concat(...this.roles.map((role) => role.getResourceIds())))];\n    }\n\n    /**\n     * @param {Role} role\n     * @returns {Role}\n     */\n    addRole(role) {\n        if (this.getRole(role.name)) {\n            throw new Error(`Multiple definitions of \"${role.name}\" role`);\n        }\n\n        this.roles.push(role);\n\n        return role;\n    }\n\n    /**\n     * @param {string} name\n     * @returns {Role}\n     */\n    getRole(name) {\n        return this.roles.find((layer) => layer.name === name);\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    isGranted(request) {\n        const role = this.getRole(request.role);\n\n        if (!role) {\n            return false;\n        }\n\n        return role.isGranted(request);\n    }\n}\n","import { parse } from '../request';\nimport { Resource } from './resource';\nimport { Role } from './role';\nimport { ACL } from './acl';\n\nexport class ACLLoader {\n    constructor(definitions) {\n        this.definitions = definitions;\n    }\n\n    load() {\n        const acl = new ACL();\n\n        for (const {\n            id,\n            rules: { extend, grant, reject },\n        } of this.definitions) {\n            const parent = extend && acl.getRole(extend);\n            const role = acl.addRole(new Role(id, parent));\n\n            for (const [rules, granted] of [[grant, true], [reject, false]]) {\n                if (rules) {\n                    for (const rule of rules) {\n                        role.addResource(this.parseRuleDefinition(rule, granted));\n                    }\n                }\n            }\n        }\n\n        return acl;\n    }\n\n    parseRuleDefinition(value, granted) {\n        if (typeof value === 'object') {\n            const { rule, ...payload } = value;\n            const parsed = this.parseRuleDefinition(rule, granted);\n\n            parsed.payload = payload;\n\n            return parsed;\n        }\n\n        const { resource, actions } = parse(value);\n\n        return new Resource(resource, actions.reduce((acc, action) => ((acc[action] = granted), acc), {}));\n    }\n}\n","import { versionCheck } from '../../../helpers';\n\nexport class Voter {\n    /**\n     * @param {AccessPermissionRequest} request ACL request\n     * @returns {boolean} Truthy if this voter supports this request\n     */\n    // eslint-disable-next-line no-unused-vars\n    supports(request) {\n        return false;\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request ACL request\n     * @param {string} version Semver version matcher (e.g. `'>2.0'`, `'^5.1.x'`, `'~2.11||<3.1.0-alpha.1'`)\n     * @returns {boolean} Returns <code>true</code> if semver `version` is matches request.\n     */\n    supportsVersion(request, version) {\n        return versionCheck(request.user.workspace.projectVersion, version);\n    }\n\n    // eslint-disable-next-line jsdoc/require-returns-check\n    /**\n     * @param {AccessPermissionRequest} request ACL request\n     * @returns {boolean|undefined|void} Returns <code>undefined</code> if this voter abstains from decision,\n     * <code>true</code> if access should be granted, <code>false</code> - if denied.\n     */\n    // eslint-disable-next-line no-unused-vars\n    vote(request) {}\n}\n","import { ACTION_CREATE, ACTION_EDIT } from '../../request';\nimport { Voter } from '../voter';\n\nexport class WebsitesVoter extends Voter {\n    static getLimitByRole(role) {\n        switch (role) {\n            case 'basic':\n            case 'start400':\n            case 'pro400':\n                return 1;\n            case 'business400':\n                return 10;\n            default:\n                return 3;\n        }\n    }\n\n    supports(request) {\n        return request.resource === 'websites';\n    }\n\n    vote(request) {\n        if (request.includes(ACTION_CREATE) && !this.canCreate(request)) {\n            return false;\n        }\n\n        if (request.role === 'basic') {\n            if (request.includes(ACTION_EDIT) && !this.canEditBasic(request)) {\n                return false;\n            }\n        }\n\n        //\n        return true;\n    }\n\n    canCreate(request) {\n        const websitesCount = request.user.workspace.quantities.websites;\n        const roleLimit = WebsitesVoter.getLimitByRole(request.role);\n\n        return websitesCount < roleLimit;\n    }\n\n    canEditBasic(request) {\n        const values = request.subject;\n\n        if (!values) {\n            return true;\n        }\n\n        // if (!values.branding) {\n        //     return false;\n        // }\n\n        // if (values.seo?.title || values.seo?.description) {\n        //     return false;\n        // }\n\n        // if (values.tracking?.google || values.tracking?.facebook || values.tracking?.yandex) {\n        //     return false;\n        // }\n\n        //\n        return true;\n    }\n}\n","import { ACTION_CREATE, ACTION_EDIT } from '../../request';\nimport { Voter } from '../voter';\n\nexport class PageBlocksVoter extends Voter {\n    /**\n     * @param {ACLVoter} acl ACL voter instance\n     */\n    constructor(acl) {\n        super();\n        this.acl = acl;\n    }\n\n    supports(request) {\n        return request.resource === 'page-blocks';\n    }\n\n    vote(request) {\n        const grants = this.acl.vote(request);\n\n        if (grants && (request.includes(ACTION_CREATE) || request.includes(ACTION_EDIT)) && !this.canEdit(request)) {\n            return false;\n        }\n\n        //\n        return grants;\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request Request in question\n     * @returns {boolean} True if request is granted\n     */\n    canEdit(request) {\n        if (!request.subject) {\n            return true;\n        }\n\n        const kind = request.subject.kind;\n\n        return this.acl.grantsInArrayPayload(request, (kindOrDescriptor) => {\n            if (typeof kindOrDescriptor === 'string') {\n                return kindOrDescriptor === kind;\n            }\n\n            if (kindOrDescriptor.kind !== kind) {\n                return false;\n            }\n\n            return this.supportsVersion(request, kindOrDescriptor.version);\n        });\n    }\n}\n","import { getPlans, getPlanTypes } from '../../plans';\nimport { ACLLoader } from './acl/loader';\nimport { Permissions } from './permissions';\n// import { LinksVoter } from './voters/impl/links';\nimport { CollectionsVoter } from './voters/impl/collections';\n// import { DesignVoter } from './voters/impl/design';\n// import { ProfileVoter } from './voters/impl/profile';\n// import { ReviewsVoter } from './voters/impl/reviews';\nimport { MessengersVoter } from './voters/impl/messengers';\nimport { ProductsVoter } from './voters/impl/products';\nimport { WebsitesVoter } from './voters/impl/websites';\nimport { PageTemplatesVoter } from './voters/impl/templates';\nimport { PageThemesVoter } from './voters/impl/themes';\nimport { PageStylingVoter } from './voters/impl/pageStyling';\nimport { PageBlocksVoter } from './voters/impl/blocks';\nimport { PageBlocksPublishVoter } from './voters/impl/blocksPublish';\nimport { ACLVoter } from './voters/impl/acl';\nimport { UnlimitedPlanVoter } from './voters/impl/unlimited';\nimport { VersionVoter } from './voters/impl/version';\nimport { SubscriptionFormFieldVoter } from './voters/impl/subscriptionFormField';\n\nexport { isUnpaid } from './request';\nexport { AccessRequestError } from './requestError';\n\nexport { WebsitesVoter };\n\nlet acl;\nconst aclLoader = () => {\n    return acl || (acl = new ACLLoader(getPlans()).load());\n};\nconst aclVoter = new ACLVoter(aclLoader);\n\nconst permissions = new Permissions();\npermissions.addVoter(new UnlimitedPlanVoter());\npermissions.addVoter(new VersionVoter({\n    'ru-integrations': '<5.14',\n}));\n// permissions.addVoter(new LinksVoter());\n// permissions.addVoter(new DesignVoter());\n// permissions.addVoter(new ProfileVoter());\n// permissions.addVoter(new ReviewsVoter());\npermissions.addVoter(new CollectionsVoter());\npermissions.addVoter(new MessengersVoter());\npermissions.addVoter(new ProductsVoter());\npermissions.addVoter(new WebsitesVoter());\npermissions.addVoter(new PageTemplatesVoter());\npermissions.addVoter(new PageThemesVoter(aclVoter));\npermissions.addVoter(new PageStylingVoter(aclVoter));\npermissions.addVoter(new PageBlocksVoter(aclVoter));\npermissions.addVoter(new PageBlocksPublishVoter(aclVoter));\npermissions.addVoter(new SubscriptionFormFieldVoter(aclVoter));\npermissions.addVoter(aclVoter);\n\n/**\n *  Query the permissions for the specified workspace member to perform actions, possibly against specific target.\n *\n * @param {{ workspace: * }} payload Queried workspace entity descriptor\n * @param {string} rule Permission string (resource[:(action|?|*)])\n * @param {*} [subject] Target, against which the query is executed\n * @param {string} role User role (tariff plan)\n * @returns {boolean} Result of querying\n */\nexport const isGranted = (payload, rule, subject, role) =>\n    permissions.isGranted(payload, role || payload?.workspace?.billing?.plan, rule, subject);\n\nexport const lookupUpgrade = (payload, permission, subject) => {\n    const { UPGRADEABLE } = getPlanTypes();\n    const role = payload.workspace?.billing?.plan;\n    const roles = aclVoter.acl.getRoleIds();\n    const index = roles.indexOf(role);\n\n    if (index >= 0) {\n        for (const role of roles.slice(index + 1)) {\n            if (!UPGRADEABLE.includes(role)) {\n                continue;\n            }\n\n            const granted = permissions.isGranted(payload, role, permission, subject);\n\n            if (granted) {\n                return role;\n            }\n        }\n    }\n};\n","import { Voter } from '../voter';\n\nexport class ACLVoter extends Voter {\n    constructor(loader) {\n        super();\n        this.loader = loader;\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request Request in question\n     * @returns {boolean} True if request supported by this voter\n     */\n    // eslint-disable-next-line no-unused-vars\n    supports(request) {\n        return true;\n    }\n\n    vote(request) {\n        return this.acl.isGranted(request);\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request Request in question\n     * @param {string|function(*): boolean} matches Permission matching predicate\n     * @returns {boolean} <code>True</code> - if grant status given, else <code>False</code>\n     */\n    grantsInArrayPayload(request, matches) {\n        const predicate = typeof matches === 'function' ? matches : (item) => item === matches;\n        let role = this.acl.getRole(request.role);\n\n        while (role) {\n            const resource = role.getResource(request.resource);\n\n            if (resource) {\n                if (resource.payload) {\n                    const { grant, reject } = resource.payload;\n\n                    if (grant && (grant === '*' || grant.some(predicate))) {\n                        return true;\n                    }\n\n                    if (reject && (reject === '*' || reject.some(predicate))) {\n                        return false;\n                    }\n                } else if (role.isGranted(request, true)) {\n                    return true;\n                }\n            }\n\n            role = role.parent;\n        }\n\n        return false;\n    }\n\n    /**\n     * @returns {ACL} Loaded ACL table\n     */\n    get acl() {\n        if (!this._acl) {\n            this._acl = this.loader();\n        }\n\n        return this._acl;\n    }\n}\n","import { Voters } from './voters';\nimport { AccessPermissionRequest } from './request';\n\nexport class Permissions extends Voters {\n    /**\n     *  Query the permissions for the specified workspace member to perform actions, possibly against specific target.\n     *\n     * @param {{ workspace: * }} user Queried workspace entity descriptor\n     * @param {string} role User role (tariff plan)\n     * @param {string} permission Permission string (resource[:(action|?|*)])\n     * @param {*} [subject] Target, against which the query is executed\n     * @returns {boolean} Result of querying\n     */\n    isGranted(user, role, permission, subject) {\n        return this.vote(new AccessPermissionRequest(user, subject, role, permission));\n    }\n}\n","/**\n * @property {Voter[]} voters\n */\nexport class Voters {\n    constructor() {\n        this.voters = [];\n    }\n\n    /**\n     * @param {Voter} voter\n     */\n    addVoter(voter) {\n        this.voters.push(voter);\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    vote(request) {\n        for (const voter of this.voters) {\n            if (!voter.supports(request)) {\n                continue;\n            }\n\n            const granted = voter.vote(request);\n\n            if (granted !== undefined) {\n                return granted;\n            }\n        }\n\n        return true;\n    }\n}\n","import { Voter } from '../voter';\n\nexport class UnlimitedPlanVoter extends Voter {\n    supports(request) {\n        return request.role === 'unlimited' && request.resource !== 'page-templates';\n    }\n\n    vote() {\n        return true;\n    }\n}\n","import { Voter } from '../voter';\n\nexport class VersionVoter extends Voter {\n    constructor(constraints) {\n        super();\n        this.constraints = constraints;\n    }\n\n    supports(request) {\n        return !!this.constraints[request.resource];\n    }\n\n    vote(request) {\n        if (!this.supportsVersion(request, this.constraints[request.resource])) {\n            return false;\n        }\n\n        // returning undefined here means 'abstain' from voting\n        // so, we restrict permission if version check fails by returning 'false',\n        // and 'abstain' from voting (essentially allowing the other voters to decide) otherwise by returning 'undefined'\n    }\n}\n","import { ACTION_CREATE, ACTION_EDIT, ACTION_DELETE } from '../../request';\nimport { Voter } from '../voter';\n\nexport class CollectionsVoter extends Voter {\n    supports(request) {\n        return request.resource === 'collections';\n    }\n\n    vote(request) {\n        if (request.role === 'basic') {\n            if (request.includes(ACTION_CREATE)) {\n                return false;\n            }\n\n            if (request.includes(ACTION_EDIT)) {\n                return false;\n            }\n        }\n\n        if (request.includes(ACTION_EDIT)) {\n            if (!this.canEdit(request)) {\n                return false;\n            }\n        }\n\n        if (request.includes(ACTION_DELETE)) {\n            if (!this.canDelete(request)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    canEdit(request) {\n        return request.subject && !request.subject.default;\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    canDelete(request) {\n        return !request.subject.default;\n    }\n}\n","import { ACTION_CREATE, ACTION_EDIT } from '../../request';\nimport { Voter } from '../voter';\n\nexport class MessengersVoter extends Voter {\n    supports(request) {\n        return request.role === 'basic' && request.resource === 'messengers' && this.supportsVersion(request, '>=2.11');\n    }\n\n    vote(request) {\n        if (request.includes(ACTION_CREATE)) {\n            if (!this.canCreate(request)) {\n                return false;\n            }\n        }\n\n        if (request.includes(ACTION_EDIT)) {\n            if (!this.canEdit(request)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    canCreate(request) {\n        // can check for enabled messengers count instead,\n        // but creation of already existing messenger should rise 'Already exists' error,\n        // not 'Access forbidden' error\n        return this.canEdit(request);\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    canEdit(request) {\n        if (!request.subject) {\n            return true;\n        }\n\n        const {\n            user: { workspace },\n            subject,\n        } = request;\n        const enabled = workspace.card.messengers.find((m) => m.enabled);\n\n        return !(enabled && enabled.messenger !== subject.messenger);\n    }\n}\n","import { ACTION_CREATE, ACTION_EDIT } from '../../request';\nimport { Voter } from '../voter';\n\nexport class ProductsVoter extends Voter {\n    supports(request) {\n        return request.role === 'basic' && request.resource === 'products';\n    }\n\n    vote(request) {\n        if (request.includes(ACTION_CREATE)) {\n            if (!this.canCreate(request)) {\n                return false;\n            }\n        }\n\n        if (request.includes(ACTION_EDIT)) {\n            if (!this.canEdit(request)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    canCreate(request) {\n        return this.canEdit(request);\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    canEdit(request) {\n        if (request.subject && request.subject.slug) {\n            return true;\n        }\n\n        const {\n            user: { workspace },\n        } = request;\n        const countProducts = workspace.card.products.count;\n\n        return countProducts < 10;\n    }\n}\n","import { ACTION_CREATE, ACTION_EDIT, ACTION_DELETE } from '../../request';\nimport { Voter } from '../voter';\n\nexport class PageTemplatesVoter extends Voter {\n    supports(request) {\n        return request.resource === 'page-templates';\n    }\n\n    vote(request) {\n        if (request.includes(ACTION_CREATE)) {\n            if (!this.canCreate(request)) {\n                return false;\n            }\n        }\n\n        if (request.includes(ACTION_EDIT)) {\n            if (!this.canEdit(request)) {\n                return false;\n            }\n        }\n\n        if (request.includes(ACTION_DELETE)) {\n            if (!this.canDelete(request)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    canCreate(request) {\n        const count = request.user.workspace.quantities.templates;\n\n        switch (request.role) {\n            case 'unlimited':\n                return count < 20;\n\n            default:\n                return false;\n        }\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    canDelete(request) {\n        return this.canEdit(request);\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    canEdit(request) {\n        if (!request.subject?._id) {\n            return true;\n        }\n\n        return String(request.subject.author) === request.currentUserId;\n    }\n}\n","import { ACTION_EDIT } from '../../request';\nimport { Voter } from '../voter';\n\nexport class PageThemesVoter extends Voter {\n    /**\n     * @param {ACLVoter} acl ACL voter instance\n     */\n    constructor(acl) {\n        super();\n        this.acl = acl;\n    }\n\n    supports(request) {\n        return request.resource === 'page-themes';\n    }\n\n    vote(request) {\n        const grant = this.acl.vote(request);\n\n        if (grant && request.includes(ACTION_EDIT) && !this.canEdit(request)) {\n            return false;\n        }\n\n        //\n        return grant;\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    canEdit(request) {\n        return request.subject ? this.acl.grantsInArrayPayload(request, request.subject.colorId) : true;\n    }\n}\n","import { ACTION_EDIT } from '../../request';\nimport { Voter } from '../voter';\n\nexport class PageStylingVoter extends Voter {\n    /**\n     * @param {ACLVoter} acl ACL voter instance\n     */\n    constructor(acl) {\n        super();\n        this.acl = acl;\n    }\n\n    supports(request) {\n        return request.resource === 'page-styling';\n    }\n\n    vote(request) {\n        const grant = this.acl.vote(request);\n\n        if (grant && request.includes(ACTION_EDIT) && !this.canEdit(request)) {\n            return false;\n        }\n\n        //\n        return grant;\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    canEdit(request) {\n        return request.subject ? this.acl.grantsInArrayPayload(request, request.subject.type) : true;\n    }\n}\n","import { PageBlocksVoter } from './blocks';\n\nexport class PageBlocksPublishVoter extends PageBlocksVoter {\n    supports(request) {\n        return request.resource === 'page-blocks-publish';\n    }\n\n    vote(request) {\n        return super.vote(request) && this.canEdit(request);\n    }\n}\n","import { ACTION_CREATE } from '../../request';\nimport { Voter } from '../voter';\n\nexport class SubscriptionFormFieldVoter extends Voter {\n    supports(request) {\n        return request.role === 'basic' && request.resource === 'subscription-form-field';\n    }\n\n    vote(request) {\n        if (request.includes(ACTION_CREATE) && !this.canCreate(request)) {\n            return false;\n        }\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    canCreate({ subject }) {\n        const lockedItem = subject?.items?.find(({ type }) => type !== 'email');\n\n        return !lockedItem;\n    }\n}\n","export class AccessRequestError extends Error {\n    constructor(message, code, plan, permission, target) {\n        super(message);\n        this.status = 403;\n        this.code = code;\n        this.plan = plan;\n        this.permission = permission;\n        this.target = target;\n    }\n}\n","import { AccessRequestError } from './requestError';\n\nexport class AccessRequestResult {\n    constructor(user, permission, subject, granted, paid, upgrade) {\n        this.user = user;\n        this.permission = permission;\n        this.subject = subject;\n        this.granted = granted;\n        this.paid = paid;\n        this.upgrade = upgrade;\n    }\n\n    get approve() {\n        return this.granted && this.paid;\n    }\n\n    get billing() {\n        return this.user.workspace.billing || {};\n    }\n\n    get plan() {\n        return this.billing.plan;\n    }\n\n    get error() {\n        if (!(this._error || this.approve)) {\n            const shouldPay = this.granted && !this.paid;\n\n            if (shouldPay) {\n                this._error = this.createPayError();\n            } else {\n                const shouldUpgrade = this.upgrade;\n\n                if (shouldUpgrade) {\n                    this._error = this.createUpgradeError(shouldUpgrade);\n                } else {\n                    this._error = this.createForbiddenError();\n                }\n            }\n        }\n\n        return this._error || null;\n    }\n\n    createPayError() {\n        return new AccessRequestError(`Pay for ${this.plan}`, 'unpaid', this.plan, this.permission, this.plan);\n    }\n\n    createUpgradeError(plan) {\n        return new AccessRequestError(`Upgrade to ${plan}`, 'upgrade', this.plan, this.permission, plan);\n    }\n\n    createForbiddenError() {\n        return new AccessRequestError('Access forbidden', 'forbidden', this.plan, this.permission);\n    }\n}\n","import { isGranted, isUnpaid, lookupUpgrade } from './permissions';\nimport { AccessRequestResult } from './permissions/result';\n\n/**\n * @param {string} rule\n * @param {{ workspace: *; allowPastDue?: boolean }} payload\n * @param {*|((error: AccessRequestError|undefined, approved: boolean) => void)} [subjectOrCallback]\n * @param {(error: AccessRequestError|undefined, approved: boolean) => void} [callback]\n * @returns {AccessRequestResult}\n */\nexport const checkRestrictions = (rule, payload, subjectOrCallback, callback) => {\n    let subject = subjectOrCallback;\n\n    if (typeof subject === 'function') {\n        callback = subject;\n        subject = null;\n    }\n\n    const billing = payload.workspace.billing || {};\n    const granted = isGranted(payload, rule, subject);\n    const paid = isUnpaid(billing, payload.allowPastDue) ? isGranted(payload, rule, subject, 'basic') : true;\n    const upgrade = granted ? billing.plan : lookupUpgrade(payload, rule, subject);\n\n    const result = new AccessRequestResult(payload, rule, subject, granted, paid, upgrade);\n\n    if (callback) {\n        callback(result.error, result.approve);\n    }\n\n    return result;\n};\n\nexport const checkRestrictionsOnAll = (rule, payload, subjects, callback) => {\n    for (const subject of subjects) {\n        const result = checkRestrictions(rule, payload, subject, callback);\n\n        if (result.error) {\n            return false;\n        }\n    }\n\n    return true;\n};\n\nexport const checkAllRestrictionsOrThrow = (rules, payload, subject) => {\n    if (Array.isArray(rules)) {\n        for (const rule of rules) {\n            checkAllRestrictionsOrThrow(rule, payload, subject);\n        }\n\n        return;\n    }\n\n    const check = Array.isArray(subject) ? checkRestrictionsOnAll : checkRestrictions;\n\n    return check(rules, payload, subject, (err) => {\n        if (err) {\n            throw err;\n        }\n    });\n};\n\nexport const checkAllRestrictions = (rules, payload, subject, callback) => {\n    if (Array.isArray(rules)) {\n        for (const rule of rules) {\n            if (!checkAllRestrictions(rule, payload, subject, callback)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    if (Array.isArray(subject)) {\n        return checkRestrictionsOnAll(rules, payload, subject, callback);\n    }\n\n    return checkRestrictions(rules, payload, subject, callback).approve;\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport { useDeepCompareEffect } from 'react-use';\nimport { EventEmitter } from 'events';\n\nimport { checkAllRestrictions } from '@mssgme/shared';\nimport { useWorkspace } from './useWorkspace';\n\n// TODO: refactor, use redux, context or useSyncExternalStore instead of EventEmitter\nexport function createHooks() {\n    const ee = new EventEmitter();\n\n    ee.setMaxListeners(100);\n\n    const show = (...args) => ee.emit('show', ...args);\n    const hide = () => ee.emit('hide');\n\n    function useWarning() {\n        const [state, setState] = useState({ isPresented: false, warning: null });\n\n        useEffect(() => {\n            const onShow = (warning) => setState({ isPresented: true, warning });\n            const onHide = () => setState((prevState) => ({ ...prevState, isPresented: false }));\n\n            ee.on('show', onShow);\n            ee.on('hide', onHide);\n\n            return () => {\n                ee.removeListener('show', onShow);\n                ee.removeListener('hide', onHide);\n            };\n        }, []);\n\n        return {\n            ...state,\n            show,\n            hide,\n        };\n    }\n\n    function useRestriction(rule, subject) {\n        const workspace = useWorkspace();\n        const [warning, setWarning] = useState();\n\n        const checkRule = useCallback(\n            (rule, subject) => checkAllRestrictions(rule, { workspace }, subject, setWarning),\n            [workspace]\n        );\n        const showWarning = useCallback((w = warning) => show(w), [warning]);\n        const clearWarning = useCallback(() => setWarning(null), []);\n        const handleBlockedEvent = useCallback(\n            (e) => {\n                if (e?.preventDefault) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n\n                show(warning);\n            },\n            [warning]\n        );\n\n        useDeepCompareEffect(() => {\n            if (rule) {\n                checkRule(rule, subject);\n            }\n        }, [checkRule, rule, subject]);\n\n        return {\n            warning,\n            hasWarning: !!warning,\n            showWarning,\n            clearWarning,\n            hideWarning: hide,\n            handleBlockedEvent: warning ? handleBlockedEvent : undefined,\n            checkRule,\n        };\n    }\n\n    return { useWarning, useRestriction };\n}\n\nconst { useWarning, useRestriction } = createHooks();\n\nexport { useWarning, useRestriction };\n","import { useSelector } from 'react-redux';\n\nexport function useWorkspace() {\n    return useSelector((state) => state.workspace);\n}\n","import { useCallback, useMemo, useReducer, useRef } from 'react';\nimport { useMountedState } from 'react-use';\nimport { get } from 'lodash';\n\nimport { ValidationError, ForbiddenError } from '@mssgme/api-client';\nimport { useWarning } from './useRestrictions';\n\nlet lastRequestId = 0;\n\nconst defaultState = {\n    pending: false,\n    fulfilled: false,\n    rejected: false,\n    error: null,\n    result: null,\n};\n\nconst initialState = {\n    ...defaultState,\n    requestId: -1,\n    requestCount: 0,\n};\n\nfunction reducer(state, { type, requestId, ...rest }) {\n    if (state.requestId > requestId) {\n        return state;\n    }\n\n    switch (type) {\n        case 'pending':\n            return { ...state, ...defaultState, requestId, pending: true, requestCount: state.requestCount + 1 };\n        case 'fulfilled':\n            return { ...state, ...defaultState, requestId, fulfilled: true, result: rest.result };\n        case 'rejected':\n            return { ...state, ...defaultState, requestId, rejected: true, error: rest.error };\n        default:\n            throw new Error();\n    }\n}\n\n/**\n * @template {*} R\n * @template {function(): Promise<R>} T\n * @param {T} fn Traced callback\n * @param {*[]} deps Callback dependencies\n * @returns {{\n *  pending: true,\n *  run: T\n * } | {\n *  fulfilled: true,\n *  result: R,\n *  run: T\n * } | {\n *  rejected: true,\n *  error: Error,\n *  validationErrors: *,\n *  getValidationError: function(string): *,\n *  run: T\n * }} Fetcher descriptor\n */\nexport function useFetching(fn, deps = []) {\n    const ref = useRef(fn);\n    const isMounted = useMountedState();\n    const [state, dispatch] = useReducer(reducer, initialState);\n    const { show } = useWarning();\n\n    ref.current = fn;\n\n    const run = useCallback(async (...args) => {\n        function safeDispatch(...args) {\n            if (isMounted()) {\n                dispatch(...args);\n            }\n        }\n\n        const requestId = lastRequestId++;\n\n        safeDispatch({ type: 'pending', requestId });\n\n        try {\n            const result = await ref.current(...args);\n            safeDispatch({ type: 'fulfilled', requestId, result });\n        } catch (error) {\n            safeDispatch({ type: 'rejected', requestId, error });\n\n            // can be handled explicitly in business logic, otherwise handle automatically\n            if (ForbiddenError.isPermissionBlock(error)) {\n                show(error);\n            }\n        }\n    }, deps);\n\n    return useMemo(() => {\n        const validationErrors = ValidationError.is(state.error) ? state.error.errors : {};\n        const getValidationError = (name) => get(validationErrors, name);\n\n        return {\n            ...state,\n            validationErrors,\n            getValidationError,\n            run,\n        };\n    }, [state, run]);\n}\n","import React, { useCallback } from 'react';\nimport { useFormikContext } from 'formik';\n\nimport { Button } from '../Inputs';\nimport { SubmitButtonProps } from './types';\n\nexport default function SubmitButton({\n    as: Component = Button,\n    isInitialHidden = false,\n    onClick = undefined,\n    ...rest\n}) {\n    const { submitForm, dirty, isSubmitting } = useFormikContext();\n    const isHidden = !dirty && isInitialHidden;\n\n    const handleClick = useCallback((e) => {\n        e.preventDefault();\n        submitForm();\n    });\n\n    if (isHidden) return null;\n\n    return <Component isFetching={isSubmitting} disabled={!dirty} onClick={onClick || handleClick} {...rest} />;\n}\n\nSubmitButton.propTypes = SubmitButtonProps;\n","// extracted by mini-css-extract-plugin\nexport default {\"pane\":\"_3qwvKJdU\",\"radio\":\"_3M-OICMF\",\"radioDot\":\"_1WsCkYdb\",\"active\":\"_3niUZvmH\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport styles from './styles.scss';\n\nconst RadioGroup = ({ options, value, className, name, onChange, userWebsiteField, style }) => {\n    const color = style?.color || '#007AFF';\n\n    return (\n        <div className={classNames(className, userWebsiteField && styles.pane)} style={style}>\n            {options.map((option, index) => {\n                const isSelected = value === option.value;\n\n                return (\n                    <div key={name + index} className={classNames(styles.radio, isSelected && styles.active)}>\n                        <label>\n                            <svg\n                                version=\"1.1\"\n                                viewBox=\"0 0 18 18\"\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                                width=\"18\"\n                                height=\"18\"\n                            >\n                                <g fill=\"none\" fillRule=\"evenodd\">\n                                    <g transform=\"translate(-568 -3567)\">\n                                        <g transform=\"translate(568 3567)\">\n                                            <rect\n                                                x=\".75\"\n                                                y=\".75\"\n                                                width=\"16.5\"\n                                                height=\"16.5\"\n                                                rx=\"8.25\"\n                                                stroke={color}\n                                                strokeWidth=\"1.5\"\n                                            />\n                                            <rect className={styles.radioDot} x=\"3\" y=\"3\" width=\"12\" height=\"12\" rx=\"6\" fill={color} />\n                                        </g>\n                                    </g>\n                                </g>\n                            </svg>\n\n                            <input type=\"radio\" name={name} value={option.value} checked={isSelected} onChange={onChange} />\n                            <span dangerouslySetInnerHTML={{ __html: option.label }} />\n                        </label>\n                    </div>\n                );\n            })}\n        </div>\n    );\n};\n\nRadioGroup.propTypes = {\n    value: PropTypes.string,\n    className: PropTypes.string,\n    name: PropTypes.string,\n    options: PropTypes.arrayOf(PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })).isRequired,\n    onChange: PropTypes.func.isRequired,\n    userWebsiteField: PropTypes.bool,\n};\n\nexport default RadioGroup;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3OeczVzx\",\"toggle\":\"_1Kjnejio\",\"wrap\":\"XKD4Z1Pu\",\"toggler\":\"_1_yClYAk\",\"input\":\"_14R5w4Hn\",\"builderInput\":\"_250ODmC7\",\"label\":\"_3xK0PfpQ\",\"checkMarkSquare\":\"iXMUFzqn\",\"checkMark\":\"-qcRZlFE\",\"checked\":\"Khl_0X4S\",\"check\":\"_1m8NEHsv\",\"disabled\":\"_1D49yJ8z\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport styles from './styles.scss';\n\nconst Checkbox = ({\n    className,\n    hasError,\n    placeholder,\n    styled,\n    disabled,\n    builderInput,\n    style,\n    checked,\n    ...rest\n}) => {\n    const checkMarkColor = style?.backgroundColor || '#FFFFFF';\n    const checkMarkSquareBorderColor = style?.color ? style.color : !checked ? '#c7c7cc' : '#007aff';\n    const checkMarkSquareFillColor = checked ? (style?.color || '#007aff') : 'transparent';\n\n    return (\n        <label\n            className={classNames(\n                className,\n                styles.root,\n                styles[styled],\n                hasError && styles.error,\n                disabled && styles.disabled,\n                builderInput && styles.builderInput,\n                checked && styles.checked\n            )}\n        >\n            <div className={styles.wrap}>\n                <input className={styles.input} type=\"checkbox\" disabled={disabled} checked={checked} {...rest} />\n\n                {styled === 'toggle' ? (\n                    <div className={styles.toggler} />\n                ) : (\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\">\n                        <rect className={styles.checkMarkSquare} x=\"0.75\" y=\"0.75\" width=\"16.5\" height=\"16.5\" rx=\"6\"\n                            ry=\"6\" strokeWidth=\"1.5px\"\n                            fill={checkMarkSquareFillColor}\n                            stroke={checkMarkSquareBorderColor} />\n                        <path className={styles.checkMark}\n                            d=\"M5.35,8.89a.48.48,0,0,0-.71,0,.57.57,0,0,0,0,.76l2.5,2.69a.48.48,0,0,0,.71,0l5.5-5.92a.57.57,0,0,0,0-.76.48.48,0,0,0-.71,0L7.5,11.2Z\"\n                            fill={checkMarkColor}\n                            stroke={checkMarkColor} />\n                    </svg>\n                )}\n            </div>\n            {placeholder && <div className={styles.label}>{placeholder}</div>}\n        </label>\n    );\n};\n\nCheckbox.propTypes = {\n    className: PropTypes.string,\n    placeholder: PropTypes.any,\n    hasError: PropTypes.bool,\n    disabled: PropTypes.bool,\n    styled: PropTypes.oneOf(['default', 'toggle']),\n    builderInput: PropTypes.bool,\n    style: PropTypes.object,\n    checked: PropTypes.bool,\n};\n\nCheckbox.defaultProps = {\n    hasError: false,\n    disabled: false,\n    styled: 'default',\n    builderInput: false,\n};\n\nexport default Checkbox;\n","// extracted by mini-css-extract-plugin\nexport default {\"pane\":\"VGHdNTVb\",\"radio\":\"_2_QVkYwX\",\"checkbox\":\"gN5qfTgR\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Field } from 'formik';\n\nimport Checkbox from '../Checkbox';\n\nimport styles from './styles.scss';\n\nconst CheckboxGroup = ({ options, className, name, value, onChange, userWebsiteField, style }) => (\n    <div className={classNames(className, userWebsiteField && styles.pane)} style={style}>\n        {options.map((option, index) => {\n            const isChecked = value?.includes(option.value);\n\n            return (\n                <Field\n                    as={Checkbox}\n                    key={name + index}\n                    builderInput\n                    name={name}\n                    value={option.value}\n                    checked={isChecked}\n                    placeholder={option.label}\n                    onChange={onChange}\n                    className={styles.checkbox}\n                    style={style}\n                />\n            );\n        })}\n    </div>\n);\n\nCheckboxGroup.propTypes = {\n    className: PropTypes.string,\n    name: PropTypes.string,\n    options: PropTypes.arrayOf(PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })).isRequired,\n    onChange: PropTypes.func.isRequired,\n    value: PropTypes.array,\n    userWebsiteField: PropTypes.bool,\n    style: PropTypes.object,\n};\n\nexport default CheckboxGroup;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"j05O8Kqk\",\"root\":\"_1T-3Pm-I\",\"counter\":\"_3JWkk3hT\",\"error\":\"_1v3R6Nod\",\"padding-right\":\"KVOrN3Dt\",\"paddingRight\":\"KVOrN3Dt\",\"builderInput\":\"_1lP6I7Pv\",\"normal\":\"iJibajlA\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport TextareaAutosize from 'react-textarea-autosize';\n\nimport styles from './styles.scss';\n\nexport default function Textarea({ className, hasError, maxLength, value, size, builderInput, ...rest }) {\n    const _className = classNames(styles.root, className, {\n        [styles.error]: hasError,\n        [styles.paddingRight]: maxLength,\n        [styles[size]]: !!size,\n        [styles.builderInput]: builderInput,\n    });\n    const _value = value || '';\n\n    return (\n        <div className={styles.container}>\n            <TextareaAutosize value={_value} className={_className} maxLength={maxLength} {...rest} />\n            {maxLength && <span className={styles.counter}>{maxLength - _value.trim().length}</span>}\n        </div>\n    );\n}\n\nTextarea.propTypes = {\n    className: PropTypes.string,\n    hasError: PropTypes.bool,\n    maxLength: PropTypes.number,\n    minRows: PropTypes.number,\n    maxRows: PropTypes.number,\n    size: PropTypes.oneOf(['normal']),\n    value: PropTypes.string,\n    builderInput: PropTypes.bool,\n};\n\nTextarea.defaultProps = {\n    minRows: 2,\n    maxRows: 5,\n    builderInput: false,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2B3ofJ5E\",\"counter\":\"_3-b9pfi-\",\"input\":\"_2DRCzfDh\",\"inlineEdit\":\"YPgCGw-v\",\"error\":\"_1_PCEXDn\",\"sizeNormal\":\"DzCEGuof\",\"small\":\"hVVuxPYt\",\"grey\":\"_2AB3cyPB\",\"customNativeIcon\":\"gXrIPW3z\",\"disabled\":\"jZa3dVTS\",\"select\":\"_3ZdF5RHe\",\"input-wrapper\":\"_1GswEJx-\",\"inputWrapper\":\"_1GswEJx-\",\"builderInput\":\"_2jRUtpby\",\"hexInput\":\"_28ye7akn\",\"contextBlock\":\"_28j5RRRN\",\"clearAddon\":\"_26G-OSX_\",\"icon\":\"_1AAPpJVf\",\"root_grey\":\"rf7_RATV\",\"rootGrey\":\"rf7_RATV\",\"before\":\"_25tSvmqV\",\"after\":\"_3GByWsk_\",\"hasRightAddon\":\"_13_oLbQh\",\"hidden\":\"_2zAg-NV4\",\"padding-right\":\"_3o8wApXg\",\"paddingRight\":\"_3o8wApXg\",\"clearable\":\"_1NP8_n7i\"};","import PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport composeRefs from '@seznam/compose-react-refs';\nimport React, { useCallback, useRef } from 'react';\nimport { useMount } from 'react-use';\nimport { FiX, FiCalendar, FiClock } from 'react-icons/fi';\n\nimport { cls } from '@mssgme/helpers';\nimport { renderNode } from '../../../helpers';\n\nimport styles from './styles.scss';\n\nInput.propTypes = {\n    containerClassName: PropTypes.string,\n    inputClassName: PropTypes.string,\n    className: PropTypes.string,\n    hasError: PropTypes.bool,\n    autoFocus: PropTypes.bool,\n    refInput: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    icon: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    beforeInput: PropTypes.any,\n    afterInput: PropTypes.any,\n    maxLength: PropTypes.number,\n    type: PropTypes.oneOf(['text', 'email', 'search', 'number', 'password', 'tel', 'datetime-local', 'date', 'time', 'hidden']),\n    size: PropTypes.oneOf(['small', 'normal']),\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    disabled: PropTypes.bool,\n    inputStyle: PropTypes.oneOf(['default', 'grey']),\n    isSelectAddon: PropTypes.bool,\n    clearable: PropTypes.bool,\n    hexInput: PropTypes.bool,\n    hidden: PropTypes.bool,\n    builderInput: PropTypes.bool,\n};\n\nInput.defaultProps = {\n    containerClassName: '',\n    hasError: false,\n    disabled: false,\n    type: 'text',\n    inputStyle: 'default',\n    builderInput: false,\n    autoFocus: false,\n    isSelectAddon: true,\n};\n\nconst renderAddon = (node, className, isSelect) => {\n    let addon = renderNode(node);\n\n    if (addon) {\n        if (typeof addon === 'string' || !isSelect) {\n            addon = <div className={classNames(styles.contextBlock, className)}>{addon}</div>;\n        } else if (isSelect) {\n            addon = React.cloneElement(addon, cls(classNames(addon.props.className, styles.select), addon.props));\n        }\n    }\n\n    return addon;\n};\n\nexport default function Input({\n    className,\n    containerClassName,\n    inputClassName,\n    hasError,\n    icon: Icon,\n    size,\n    beforeInput,\n    afterInput,\n    hexInput,\n    hidden,\n    maxLength,\n    value,\n    disabled,\n    refInput,\n    inputStyle,\n    builderInput,\n    autoFocus,\n    isSelectAddon,\n    clearable,\n    ...rest\n}) {\n    const isFilled = clearable && !!value;\n    const handleClear = useCallback(() => rest.onChange?.({ target: { name: rest.name, value: '' } }), [\n        rest.name,\n        rest.onChange,\n    ]);\n\n    const _beforeInput = renderAddon(beforeInput, className, isSelectAddon);\n    const _afterInput = renderAddon(afterInput, className, isSelectAddon);\n\n    const _rootClassName = classNames(\n        styles.root,\n        {\n            [styles.icon]: Icon,\n            [styles.before]: _beforeInput,\n            [styles.after]: _afterInput,\n            [styles.hidden]: hidden,\n            [styles.hexInput]: hexInput,\n            [styles.disabled]: disabled,\n            [styles.builderInput]: builderInput,\n            [styles.clearable]: isFilled,\n        },\n        inputStyle && styles[`root_${inputStyle}`],\n        containerClassName\n    );\n    const _inputClassName = classNames(\n        className,\n        styles.input,\n        {\n            [styles.error]: hasError,\n            [styles.paddingRight]: maxLength,\n            [styles.small]: size === 'small',\n            [styles.sizeNormal]: size === 'normal',\n        },\n        inputStyle && styles[inputStyle],\n        inputClassName\n    );\n    const valueLength = value ? String(value).trim().length : 0;\n    const ref = useRef();\n\n    useMount(() => {\n        if (autoFocus) {\n            setTimeout(() => ref.current?.focus(), 100);\n        }\n    });\n\n    return (\n        <div className={_rootClassName}>\n            {Icon && <Icon size={25} color=\"#C7C7CC\" />}\n            {_beforeInput}\n            <div className={styles.inputWrapper} style={{ color: rest.style?.color }}>\n                <input\n                    ref={composeRefs(ref, refInput)}\n                    className={_inputClassName}\n                    value={value}\n                    maxLength={maxLength}\n                    disabled={disabled}\n                    {...rest}\n                />\n                {maxLength && <span className={styles.counter}>{maxLength - valueLength}</span>}\n                {isFilled && (\n                    <div\n                        className={classNames(styles.clearAddon, !_afterInput && styles.hasRightAddon)}\n                        onClick={handleClear}\n                    >\n                        <FiX size={14} style={{ marginBottom: -1 }} />\n                    </div>\n                )}\n                { rest.type === 'date' && <FiCalendar className={styles.customNativeIcon} /> }\n                { rest.type === 'time' && <FiClock className={styles.customNativeIcon} /> }\n            </div>\n            {_afterInput}\n        </div>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"JbT8d0t8\",\"right\":\"_3fbTNNoe\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './styles.scss';\n\nconst FormRow = ({ className, hasError, align, children, as: Tag = 'div', ...rest }) => (\n    <Tag className={classNames(className, styles.root, { [styles.right]: align === 'right' })} {...rest}>\n        {children}\n    </Tag>\n);\n\nFormRow.propTypes = {\n    className: PropTypes.string,\n    hasError: PropTypes.bool,\n    children: PropTypes.any,\n    as: PropTypes.oneOfType([PropTypes.string, PropTypes.elementType, PropTypes.func]),\n    align: PropTypes.oneOf(['left', 'right']),\n};\n\nFormRow.defaultProps = {\n    hasError: false,\n};\n\nexport default FormRow;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3bntFHH4\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './styles.scss';\n\nconst Label = ({ className, hasError, children, ...rest }) => (\n    <label className={classNames(styles.root, className)} {...rest}>\n        {children}\n    </label>\n);\n\nLabel.propTypes = {\n    className: PropTypes.string,\n    hasError: PropTypes.bool,\n    children: PropTypes.any,\n};\n\nLabel.defaultProps = {\n    hasError: false,\n};\n\nexport default Label;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1cnTjnAM\",\"nonCritical\":\"_3hRipkpF\",\"shake\":\"_3QPDy911\",\"animated\":\"_2GF_HvGn\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport styles from './styles.scss';\n\nFormErrors.propTypes = {\n    error: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n    critical: PropTypes.bool,\n    shake: PropTypes.bool,\n    errorStyle: PropTypes.object,\n};\n\nexport default function FormErrors({ error, critical = true, shake, errorStyle }) {\n    if (!error) return null;\n\n    const errors = Array.isArray(error) ? error : [error];\n\n    return (\n        <ul\n            className={classNames(styles.root, {\n                [styles.nonCritical]: !critical,\n                [styles.shake]: shake,\n                [styles.animated]: shake,\n            })}\n            style={errorStyle}\n        >\n            {errors.map((msg, index) => (\n                <li key={index}>{msg}</li>\n            ))}\n        </ul>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"label-container\":\"_3JlfBHF5\",\"labelContainer\":\"_3JlfBHF5\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Input } from '../Inputs';\nimport FormRow from '../FormRow';\nimport Label from '../Label';\nimport FormErrors from '../FormErrors';\n\nimport styles from './styles.scss';\n\nconst labelStyle = { paddingLeft: 10, color: '#333', marginBottom: 4 };\nexport default function FormField({\n    component: Component = Input,\n    id,\n    label,\n    required,\n    labelClassName,\n    inputClassName,\n    errorStyle,\n    shakeError,\n    errors,\n    wrapAs,\n    children,\n    ...rest\n}) {\n    return (\n        <FormRow as={wrapAs}>\n            {label && (\n                <div className={styles.labelContainer}>\n                    <Label\n                        style={rest.builderInput ? labelStyle : null}\n                        htmlFor={id}\n                        hasError={!!errors}\n                        className={labelClassName}\n                    >\n                        {label} {required && <span>*</span>}\n                    </Label>\n                </div>\n            )}\n            <Component id={id} className={inputClassName} hasError={!!errors} {...rest} />\n            {children}\n            {errors && <FormErrors error={errors} errorStyle={errorStyle} shake={shakeError} />}\n        </FormRow>\n    );\n}\n\nFormField.propTypes = {\n    component: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n    wrapAs: PropTypes.oneOfType([PropTypes.string, PropTypes.elementType, PropTypes.func]),\n    label: PropTypes.string,\n    id: PropTypes.string,\n    labelClassName: PropTypes.string,\n    inputClassName: PropTypes.string,\n    errorStyle: PropTypes.object,\n    children: PropTypes.node,\n    placeholder: PropTypes.string,\n    required: PropTypes.bool,\n    shakeError: PropTypes.bool,\n    errors: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.array]),\n};\n","import { useMemo } from 'react';\n\nimport { ProductsBlockKind } from '@mssgme/shared';\nimport { useElementTheme, useTheme } from '@mssgme/ui';\n\nexport const useModalThemes = (kind = ProductsBlockKind) => {\n    const baseTheme = useTheme();\n    const { theme, style } = useElementTheme({ baseTheme, elementPath: `blocks.${kind.toLowerCase()}`, compile: true });\n\n    return useMemo(\n        () => ({\n            theme,\n            style,\n            // todo: find out why this is needed (`colors.background` vs `page.backgroundColor`)\n            modalStyle: { ...style, backgroundColor: baseTheme.colors.background },\n            contentStyle: { ...theme, ...style, backgroundColor: baseTheme.colors.background },\n        }),\n        [theme, style]\n    );\n};\n","import { useMemo } from 'react';\n\nexport const useCustomInputTheme = (customTheme) => {\n    return useMemo(\n        () =>\n            customTheme && {\n                input: {\n                    backgroundColor: customTheme.inputBackgroundColor,\n                    color: customTheme.inputTextColor,\n                    border: 'none',\n                    borderRadius: customTheme.borderRadius,\n                },\n                error: {\n                    color: customTheme.inputTextColor,\n                    padding: '2px 8px',\n                    backgroundColor: customTheme.inputBackgroundColor,\n                    display: 'inline-block',\n                    borderRadius: customTheme.borderRadius,\n                },\n            },\n        [customTheme]\n    );\n};\n","import { SubscriptionFormBlockKind } from '@mssgme/shared';\nimport { useModalThemes } from './useModalThemes';\nimport { useCustomInputTheme } from './useCustomInputTheme';\n\nexport const useInputTheme = () => {\n    const { theme } = useModalThemes(SubscriptionFormBlockKind);\n\n    return useCustomInputTheme(theme);\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"_1Bcpw_pC\",\"label\":\"_3hGNtA0_\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { useField } from 'formik';\n\nimport { mapDynamicFieldToName } from '@mssgme/shared';\nimport { FormField, Input, Textarea, SelectSimple, RadioGroup, CheckboxGroup, CountrySelect } from '@mssgme/ui';\n\nimport { useCustomInputTheme, useInputTheme } from '../../hooks';\n\nimport styles from './DynamicFormInput.scss';\n\nconst specificComponents = {\n    select: SelectSimple,\n    radio: RadioGroup,\n    checkbox: CheckboxGroup,\n    country: CountrySelect,\n};\n\nconst inputSpecificTypes = {\n    name: 'text',\n    phone: 'tel',\n};\n\nconst handleEnterKey = (e) => {\n    if (e.key === 'Enter') {\n        e.preventDefault();\n    }\n};\n\nconst getFieldProps = (type, maxLength, optionsString) => {\n    const component = specificComponents[type];\n\n    if (component) {\n        const options = optionsString ? optionsString.split(/\\r?\\n/).filter((i) => i).map((i) => ({ label: i, value: i })) : null;\n\n        return {\n            component,\n            options,\n        };\n    } else {\n        const isTextArea = maxLength > 250 && type === 'text';\n\n        if (isTextArea) {\n            return {\n                component: Textarea,\n                maxLength,\n            };\n        }\n\n        return {\n            component: Input,\n            maxLength: ['date', 'time', 'number'].includes(type) ? null : maxLength,\n            type: inputSpecificTypes[type] || type,\n            onKeyPress: handleEnterKey,\n            ...(type === 'number' && { min: 0, inputMode: 'numeric', pattern: '[0-9]*' }),\n        };\n    }\n};\n\nexport const DynamicFormInput = ({ index, input, as, defaultMaxSize, theme }) => {\n    const defaultStyle = useInputTheme(theme);\n    const customStyle = useCustomInputTheme(theme);\n    const style = customStyle || defaultStyle;\n    const maxLength = input.size || defaultMaxSize;\n    const name = mapDynamicFieldToName(input, index);\n    const fieldProps = { name, ...getFieldProps(input.type, maxLength, input.options) };\n    const [field, meta] = useField(fieldProps);\n\n    return (\n        <FormField\n            shakeError\n            as={as}\n            name={name}\n            errors={meta.touched && meta.error}\n            label={input.label || input.type}\n            style={style.input}\n            errorStyle={style.error}\n            inputClassName={styles.input}\n            labelClassName={styles.label}\n            required={input.required}\n            {...field}\n            {...fieldProps}\n            {...(['radio', 'checkbox'].includes(input.type) && { userWebsiteField: true })}\n        />\n    );\n};\n\nDynamicFormInput.propTypes = {\n    input: PropTypes.shape({\n        _id: PropTypes.string,\n        label: PropTypes.string,\n        required: PropTypes.bool,\n        size: PropTypes.number,\n        options: PropTypes.string,\n        type: PropTypes.string,\n    }).isRequired,\n    index: PropTypes.number.isRequired,\n    as: PropTypes.oneOfType([PropTypes.string, PropTypes.elementType]),\n    type: PropTypes.string,\n    defaultMaxSize: PropTypes.number.isRequired,\n    theme: PropTypes.object,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"qsFFCJh2\"};","import PropTypes from 'prop-types';\nimport React from 'react';\n\nimport { cls } from '@mssgme/helpers';\n\nimport { DynamicFormInput } from './DynamicFormInput';\n\nimport styles from './DynamicFormInputs.scss';\n\nexport const DynamicFormInputs = ({ block, theme, defaultMaxSize, ...rest }) => {\n    return (\n        <ul {...cls([styles.root, styles[theme.gridMode]], rest)}>\n            {block.items.map((item, index) => (\n                <DynamicFormInput\n                    as=\"li\"\n                    key={item._id || index}\n                    index={index}\n                    input={item}\n                    defaultMaxSize={defaultMaxSize}\n                    theme={theme}\n                />\n            ))}\n        </ul>\n    );\n};\n\nDynamicFormInputs.propTypes = {\n    block: PropTypes.shape({\n        items: PropTypes.arrayOf(\n            PropTypes.shape({\n                _id: PropTypes.string,\n                label: PropTypes.string,\n                required: PropTypes.bool,\n                size: PropTypes.number,\n                options: PropTypes.string,\n                type: PropTypes.string,\n            })\n        ).isRequired,\n    }).isRequired,\n    theme: PropTypes.object.isRequired,\n    defaultMaxSize: PropTypes.number.isRequired,\n};\n","import TinyColor2 from 'tinycolor2';\n\nconst wrap = (color) => (color?.getBrightness ? color : new TinyColor2(color));\n\nexport default (backgroundColor, color, text) => {\n    const factor1 = wrap(backgroundColor).getBrightness();\n    const factor2 = wrap(color).getBrightness();\n\n    if (Math.abs(factor1 - factor2) < 30) {\n        return {\n            backgroundColor,\n            color: wrap(text)\n                .setAlpha(0.9)\n                .toRgbString(),\n            border: color,\n        };\n    }\n\n    return {\n        backgroundColor,\n        color,\n        border: color,\n    };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3qe-gVKI\",\"contentAlignLeft\":\"_24kddiH0\"};","import PropTypes from 'prop-types';\nimport React, { useMemo } from 'react';\n\nimport { cls, getContourColor, keyHash } from '@mssgme/helpers';\nimport { Button } from '@mssgme/ui';\n\nimport styles from './ThemedButton.scss';\n\nexport const ThemedButton = ({ theme, isFetching, disabled, contour, style: baseStyle, contentAlignLeft, ...rest }) => {\n    const style = useMemo(() => {\n        if (contour) {\n            const { backgroundColor, color, border } = getContourColor(\n                theme.backgroundColor,\n                theme.buttonBackground,\n                theme.buttonTextColor\n            );\n\n            return {\n                backgroundColor,\n                color,\n                border: `1px solid ${border}`,\n                ...baseStyle,\n            };\n        }\n\n        return {\n            backgroundColor: theme.buttonBackground,\n            color: theme.buttonTextColor,\n            ...baseStyle,\n        };\n    }, [contour, theme, keyHash(baseStyle)]);\n\n    return (\n        <Button\n            tag=\"a\"\n            size=\"standart\"\n            isFetching={isFetching}\n            disabled={disabled}\n            style={style}\n            loaderColor={style.color}\n            {...cls([styles.root, contentAlignLeft && styles.contentAlignLeft], rest)}\n        />\n    );\n};\n\nThemedButton.propTypes = {\n    ...Button.propTypes,\n    theme: PropTypes.object.isRequired,\n    contour: PropTypes.bool,\n    contentAlignLeft: PropTypes.bool,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"buttonContainer\":\"_35FFwmIV\",\"successContent\":\"Pbq8WWuk\",\"icon\":\"_3tc4nquV\",\"closeIcon\":\"G81q4QWv\",\"text\":\"_3Aqm6-Qf\"};","import PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useAsyncFn } from 'react-use';\nimport { AnimatePresence } from 'framer-motion';\nimport { FiCheck, FiX } from 'react-icons/fi';\nimport { mapValues, memoize } from 'lodash';\n\nimport {\n    __t,\n    defaultDynamicFieldLengthLimit,\n    mapDynamicFieldToName,\n    mapDynamicInputsToValidationSchema,\n} from '@mssgme/shared';\nimport { FormikProvider, LandingsPropTypes, SubmitButton, useEnhancedFormik, getDefaultCountriesOptions } from '@mssgme/ui';\nimport { DynamicFormInputs, ThemedButton, ThemedModal } from '../../../UI';\n\nimport styles from './SubscriptionFormContent.scss';\n\nconst defaultCountry = memoize(() => getDefaultCountriesOptions('en')[0].value);\n\nconst getFormDefaults = (fields) => Object.fromEntries(\n    fields.map((field, index) => {\n        const hasOptions = ['select', 'radio', 'checkbox'].includes(field.type);\n        const option = hasOptions && field.options.split(/\\r?\\n/)[0];\n        const value = (\n            field.type === 'country'\n                ? defaultCountry()\n                : field.type === 'checkbox'\n                    ? field.required ? [option] : []\n                    : (option || '')\n\n        );\n\n        return [mapDynamicFieldToName(field, index), value];\n    })\n);\n\nexport const SubscriptionFormContent = ({ block, theme, onSubmit: rawSubmit, interactive, ...rest }) => {\n    const [sent, setSent] = useState(null);\n    const validationSchema = useMemo(() => mapDynamicInputsToValidationSchema(block), [block]);\n    const FormTag = interactive ? 'form' : 'div';\n\n    const [{ loading, error }, onSubmit] = useAsyncFn(\n        async (values) => {\n            if (false === (await rawSubmit(values))) {\n                return;\n            }\n\n            const items = block.items.map((item, index) => {\n                const field = mapDynamicFieldToName(item, index);\n                const value = values[item._id] ?? values[field];\n\n                return {\n                    key: field,\n                    label: item.label,\n                    value,\n                };\n            });\n            const pairs = items.filter(({ value }) => value);\n\n            setSent(pairs);\n        },\n        [rawSubmit]\n    );\n\n    const formik = useEnhancedFormik({\n        initialValues: useMemo(() => getFormDefaults(block.items), []),\n        validationSchema,\n        onSubmit,\n    });\n\n    const handleSentModalClosed = useCallback(() => {\n        setSent(false);\n        formik.resetForm();\n    }, [formik]);\n\n    useEffect(() => {\n        if (sent && block.hasUrl && block.sentUrl) {\n            const timer = setTimeout(() => (window.location = block.sentUrl), 1000);\n\n            return () => clearTimeout(timer);\n        }\n    }, [sent, block.hasUrl, block.sentUrl, formik]);\n\n    useEffect(() => {\n        formik.setErrors(mapValues(error?.errors, (value) => __t(value)));\n    }, [error]);\n\n    return (\n        <FormikProvider value={formik}>\n            <FormTag id={`form_${block._id}`} {...rest}>\n                <DynamicFormInputs theme={theme} block={block} defaultMaxSize={defaultDynamicFieldLengthLimit} />\n\n                <div className={styles.buttonContainer}>\n                    <SubmitButton\n                        as={ThemedButton}\n                        theme={theme}\n                        isInitialHidden={false}\n                        fullWidth\n                        isFetching={loading}\n                        disabled={!block.items.length}\n                        style={{\n                            backgroundColor: theme.buttonBackground,\n                            color: theme.buttonTextColor,\n                            borderRadius: theme.borderRadius,\n                        }}\n                    >\n                        {block.sendLabel}\n                    </SubmitButton>\n                </div>\n            </FormTag>\n\n            <AnimatePresence>\n                {sent && (\n                    <ThemedModal compact overlay showHeader={false} onClose={handleSentModalClosed}>\n                        {(handleClose) => (\n                            <div className={styles.successContent}>\n                                <div className={styles.closeIcon} onClick={handleClose}>\n                                    <FiX size={26} />\n                                </div>\n                                <FiCheck size={60} className={styles.icon} />\n                                <p className={styles.text}>{block.sentText}</p>\n                            </div>\n                        )}\n                    </ThemedModal>\n                )}\n            </AnimatePresence>\n        </FormikProvider>\n    );\n};\n\nSubscriptionFormContent.propTypes = {\n    block: LandingsPropTypes.block.isRequired,\n    theme: PropTypes.object.isRequired,\n    onSubmit: PropTypes.func.isRequired,\n    interactive: PropTypes.bool,\n};\n","import { useState, useEffect, useMemo } from 'react';\nimport { useUpdateEffect } from 'react-use';\nimport { useFormik } from 'formik';\nimport { debounce, get } from 'lodash';\n\nimport { useFetching } from '@mssgme/hooks';\n\n/**\n * @template {object} FormValues\n * @typedef {(values: FormValues, formik: ReturnType<typeof useFormik>) => void} OnChangeMethod\n * @typedef {(values: FormValues, helpers: FormikHelpers<FormValues>) => (void | Promise<*>)} SubmitMethod\n * @param {object} config Config\n * @param {Partial<FormValues>} config.initialValues Initial values\n * @param {OnChangeMethod} config.onChange Change listener\n * @param {SubmitMethod} config.onSubmit Submit listener\n * @param {string} [config.errorsPrefix] If validation errors, generated by submit listener, would be nested under `errorsPrefix` path\n * @param {boolean} [config.resetOnSuccess=false] Reset form on successful submit\n * @param {boolean} [config.autoSubmit=false] Auto-submit if the form is dirty, accounting for debounce\n * @param {number} [config.autoSubmitDebounce=400] Auto-submit debounce\n * @returns {*} Enhanced Formik context\n */\nexport default function useEnhancedFormik({\n    initialValues,\n    onChange,\n    onSubmit,\n    errorsPrefix,\n    resetOnSuccess = false,\n    autoSubmit = false,\n    autoSubmitDebounce = 400,\n    ...rest\n}) {\n    const [warnings, setWarnings] = useState({});\n    const submit = useFetching(onSubmit);\n\n    const formik = useFormik({\n        initialValues,\n        onSubmit: (...args) => submit.run(...args),\n        ...rest,\n    });\n\n    const validationErrors = errorsPrefix ? get(submit.validationErrors, errorsPrefix) : submit.validationErrors;\n    const shouldAutoSubmit = autoSubmit && formik.dirty;\n\n    useEffect(() => {\n        if (submit.fulfilled) {\n            formik.setSubmitting(false);\n            formik.setStatus('success');\n            if (resetOnSuccess) formik.resetForm();\n        }\n    }, [submit.fulfilled]);\n\n    useEffect(() => {\n        if (submit.rejected) {\n            // TODO: handle errors in sentry\n            formik.setSubmitting(false);\n            formik.setStatus('failure');\n        }\n    }, [submit.rejected]);\n\n    useEffect(() => void formik.setErrors(validationErrors), [validationErrors]);\n\n    // TODO: move into independent component\n    useUpdateEffect(() => void (onChange && onChange(formik.values, formik)), [formik.values]);\n\n    const debouncedSubmit = useMemo(() => debounce(formik.submitForm, autoSubmitDebounce), [\n        autoSubmitDebounce,\n        formik.submitForm,\n    ]);\n\n    useUpdateEffect(() => {\n        if (shouldAutoSubmit) {\n            void debouncedSubmit();\n        }\n    }, [debouncedSubmit, shouldAutoSubmit]);\n\n    return { warnings, setWarnings, submit, errorsPrefix, ...formik };\n}\n","import React, { useCallback } from 'react';\n\nimport { SubscriptionFormBlockKind } from '@mssgme/shared';\nimport { feedbackApi } from '@mssgme/lib';\nimport { LandingsPropTypes, useMergedStyles } from '@mssgme/ui';\n\nimport { useBlockTheme, useWebsiteData } from '../../../hooks';\nimport { BlockBase } from '../BlockBase';\nimport { SubscriptionFormContent } from './SubscriptionFormContent';\n\nexport default function SubscriptionForm({ block, style: baseStyle, interactive, ...rest }) {\n    const { theme, style } = useBlockTheme(block);\n    const website = useWebsiteData();\n    const combined = useMergedStyles(style, baseStyle);\n\n    const handleSubmit = useCallback(\n        async (values) => {\n            if (!interactive) {\n                return;\n            }\n\n            await feedbackApi.submit(website.workspace, website._id, { blockId: block._id, data: values });\n\n            const submitEvent = new CustomEvent('formSubmitted', {\n                detail: block._id,\n            });\n\n            document.dispatchEvent(submitEvent);\n        },\n        [website, interactive]\n    );\n\n    return (\n        <BlockBase\n            as={SubscriptionFormContent}\n            interactive={interactive}\n            block={block}\n            style={combined}\n            theme={theme}\n            onSubmit={handleSubmit}\n            {...rest}\n        />\n    );\n}\n\nSubscriptionForm.propTypes = {\n    ...BlockBase.propTypes,\n    block: LandingsPropTypes.block.isRequired,\n};\n\nSubscriptionForm.defaultProps = BlockBase.defaultProps;\n\nSubscriptionForm.kind = SubscriptionFormBlockKind;\n","import { useMemo } from 'react';\nimport { keyHash } from '@mssgme/helpers';\n\nexport function useMergedStyles(baseStyle, additionalStyle) {\n    return useMemo(\n        () => (baseStyle && additionalStyle) ? { ...baseStyle, ...additionalStyle } : (baseStyle || additionalStyle),\n        [keyHash(baseStyle), keyHash(additionalStyle)]\n    );\n}\n","import SubscriptionForm from './SubscriptionForm';\n\nexport default SubscriptionForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3Pb-B5RH\",\"spinner\":\"_2S9bt9mk\",\"rotate\":\"_11rFdkOa\",\"black\":\"_2du6YMP-\",\"gray\":\"_20M_pSzf\",\"white\":\"_3-o3pxPo\"};","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useMemo } from 'react';\n\nimport styles from './Spinner.scss';\n\nexport const POINTS = ['%', 'px', 'pt', 'em'];\nexport const COLORS = ['black', 'white', 'gray'];\n\nSpinner.propTypes = {\n    className: PropTypes.string,\n    size: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    borderWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    color: PropTypes.oneOf(COLORS),\n    duration: PropTypes.number,\n};\n\nSpinner.defaultProps = {\n    size: 40,\n    duration: 0.8,\n    color: 'black',\n};\n\nexport default function Spinner({ className, borderWidth, size, duration, color, ...rest }) {\n    const style = useMemo(() => {\n        const normalized = normalizeSize(size);\n        const normalizedBorderWidth = normalizeSize(borderWidth || Math.round(+normalized * 0.05));\n\n        return {\n            width: normalized,\n            height: normalized,\n            borderWidth: normalizedBorderWidth,\n            animationDuration: `${duration}s`,\n            WebkitAnimationDuration: `${duration}s`,\n            MozAnimationDuration: `${duration}s`,\n        };\n    }, [size, duration, borderWidth]);\n\n    return (\n        <div className={cn(styles.root, className)}>\n            <div className={cn(styles.spinner, styles[color])} style={style} {...rest} />\n        </div>\n    );\n}\n\nexport function normalizeSize(size, def = 'px') {\n    if (!size) return;\n\n    const str = String(size);\n    const withPoints = POINTS.find((points) => str.indexOf(points) > 0);\n\n    return withPoints ? size : `${size}${def}`;\n}\n","import Spinner from './Spinner';\n\nexport default Spinner;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1aGC9hdN\",\"disabled\":\"R67GzQRa\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { __t } from '@mssgme/shared';\nimport styles from './styles.scss';\n\nexport const MoreButton = ({ disabled, className, ...rest }) => (\n    <span className={classNames(styles.root, { [styles.disabled]: disabled }, className)} {...rest}>\n        {__t('show_more')}\n    </span>\n);\n\nMoreButton.propTypes = {\n    disabled: PropTypes.bool,\n    className: PropTypes.string,\n};\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction ImageIcon(props, svgRef) {\n    return (\n        <IconBase fill=\"none\" viewBox=\"0 0 24 24\" ref={svgRef} {...props}>\n            <path\n                d=\"M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2z\"\n                stroke=\"currentColor\"\n                strokeWidth={2}\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n            <path\n                d=\"M8.5 10a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM21 15l-5-5L5 21\"\n                stroke=\"currentColor\"\n                strokeWidth={2}\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(ImageIcon);\nexport default ForwardRef;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"DGSQtavY\"};","import React from 'react';\n\nimport { ImageIcon } from '@mssgme/icons';\n\nimport styles from './Thumbnail.scss';\n\nexport default function Thumbnail() {\n    return <ImageIcon className={styles.root} />;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_xoBULhV\",\"img\":\"_1pWoQkAV\",\"fit\":\"XCY58nZg\",\"spinner\":\"_2f8_zoFb\",\"visible\":\"_1Z20qEZ1\",\"inline\":\"_3-n_7lQl\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { cls } from '@mssgme/helpers';\nimport Spinner from '../Spinner';\nimport useLoadImage from './useLoadImage';\nimport useIntersect from './useIntersect';\nimport Thumbnail from './Thumbnail';\n\nimport styles from './LazyImage.scss';\n\nexport default function LazyImage({ mode, src, alt, containerClassName, ...rest }) {\n    const { ref, isIntersecting, isIntersect } = useIntersect();\n    const { isFetching, isLoaded, onLoad, onError, error } = useLoadImage();\n\n    return (\n        <div ref={ref} className={classNames(styles.root, styles[mode], containerClassName)}>\n            {isFetching && mode !== 'inline' && <Spinner size=\"50%\" color=\"gray\" className={styles.spinner} />}\n            {error && <Thumbnail />}\n            <img\n                src={isIntersect ? src : null}\n                alt={alt}\n                onLoad={onLoad}\n                onError={onError}\n                {...cls([styles.img, isLoaded && isIntersecting && styles.visible], rest)}\n            />\n        </div>\n    );\n}\n\nLazyImage.propTypes = {\n    className: PropTypes.string,\n    containerClassName: PropTypes.string,\n    mode: PropTypes.oneOf(['fit', 'inline']),\n    src: PropTypes.string.isRequired,\n    alt: PropTypes.string,\n};\n\nLazyImage.defaultProps = {\n    mode: 'fit',\n};\n","import { useRef, useEffect, useMemo, useState } from 'react';\n\nexport default function useIntersect() {\n    const ref = useRef(null);\n    const [isIntersecting, setIsIntersecting] = useState(false);\n    const [isIntersect, setIsIntersect] = useState(false);\n\n    const observer = useMemo(\n        () =>\n            new IntersectionObserver(\n                function onIntersect([entry]) {\n                    if (entry?.isIntersecting) {\n                        setIsIntersecting(true);\n                        setIsIntersect(true);\n                    } else if (entry.rootBounds) {\n                        setIsIntersecting(false);\n                    }\n                },\n                {\n                    root: null,\n                    rootMargin: '100px 0px 100px 0px',\n                    threshold: 0.01,\n                }\n            ),\n        []\n    );\n\n    useEffect(() => {\n        const element = ref.current;\n\n        if (!element) {\n            return;\n        }\n\n        observer.observe(element);\n\n        return () => {\n            observer.unobserve(element);\n        };\n    }, [ref.current]);\n\n    return {\n        ref,\n        isIntersecting,\n        isIntersect,\n    };\n}\n","import { useCallback, useState } from 'react';\n\nexport default function useLoadImage() {\n    const [state, setState] = useState({ isFetching: true, isLoaded: false, error: null });\n\n    const onLoad = useCallback(() => setState({ isFetching: false, isLoaded: true, error: null }), []);\n    const onError = useCallback((error) => setState({ isFetching: false, isLoaded: false, error }), []);\n\n    return {\n        ...state,\n        onLoad,\n        onError,\n    };\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"-XoAMny0\",\"thumbnail\":\"C_R44W3m\",\"emptyPlaceholder\":\"_335lD0ul\",\"meta\":\"_3haFePjs\",\"title\":\"_19uOjj9I\",\"price\":\"_1YA6epaj\",\"discountPrice\":\"_26QDH8kd\",\"lineThrough\":\"_1iPjetGG\",\"list\":\"_1BKtItoB\"};","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { IoMdImage } from 'react-icons/io';\n\nimport { __t } from '@mssgme/shared';\nimport { LazyImage } from '@mssgme/ui';\nimport { useUploads, MediaSizes } from '../../../hooks';\n\nimport styles from './ServicesGridItem.scss';\n\nexport const ServicesGridItem = ({ item, themeStyles, ...rest }) => {\n    const { getMediaSizeUrl } = useUploads();\n    const photoUrl = getMediaSizeUrl(item.photoUrl, MediaSizes.Half);\n\n    return (\n        <div className={cn(styles.item, styles[themeStyles.gridMode])} {...rest}>\n            <div className={styles.thumbnail} style={{ backgroundColor: themeStyles.backgroundColor }}>\n                {photoUrl ? (\n                    <LazyImage src={photoUrl} alt={item.title} />\n                ) : (\n                    <div className={styles.emptyPlaceholder}>\n                        <IoMdImage size=\"40%\" color=\"#fff\" />\n                    </div>\n                )}\n            </div>\n            <div className={styles.meta} style={{ color: themeStyles.color }}>\n                <div>\n                    <h6 className={styles.title}>{item.title}</h6>\n                    {item.price && (\n                        <div className={styles.price}>\n                            {item.price.formattedDiscount &&\n                                (item.price.discount === 0 ? (\n                                    <span className={styles.discountPrice}>{__t('free')}</span>\n                                ) : (\n                                    <span className={styles.discountPrice}>{item.price.formattedDiscount}</span>\n                                ))}\n                            {item.price.amount === 0 ? (\n                                __t('free')\n                            ) : (\n                                <span className={item.price.formattedDiscount ? styles.lineThrough : null}>\n                                    {item.price.formatted}\n                                </span>\n                            )}\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nServicesGridItem.propTypes = {\n    item: PropTypes.object.isRequired,\n    themeStyles: PropTypes.object.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"_3jhxiqOr\",\"opacity\":\"_3pgdaWXY\",\"root\":\"_3pwAbyVF\",\"active\":\"_1-6fDei8\",\"closeButtonWrapper\":\"_8dj21P8K\",\"closeButton\":\"_1GBc3ikw\",\"swiperContainer\":\"_1Qp4_m7K\",\"preloader\":\"_13WBnBK-\",\"swiper\":\"_22hloKnO\",\"slide\":\"_1RK4GSWG\",\"slideImage\":\"_30NJpZlb\",\"imagePreloader\":\"_1H56Dfu4\",\"loaded\":\"_8AKZkImA\",\"zoomIcon\":\"_3aTNt7_W\",\"controlsContainer\":\"tgROkwx3\",\"hidden\":\"_3-DxphH3\",\"controls\":\"_194m9rIu\",\"control\":\"_1YtkZ4xL\",\"pagination\":\"_10qA4vZk\",\"clickablePagination\":\"JzPCNBQm\",\"dot\":\"_8xCE8Iq9\",\"activeBullet\":\"_1XEkIJZQ\",\"content\":\"_19JYevFe\",\"dark\":\"C5PmAxFx\",\"title\":\"_3DJQ7C_B\",\"price\":\"_3blmRIIw\",\"lineThrough\":\"_1blY4HxK\",\"description\":\"_1vGt9qoh\",\"externalButton\":\"_2NsswoAb\",\"buttonContent\":\"_2cLgzYIF\",\"url\":\"_2gleBV4K\",\"blurred\":\"ZjSNusp0\",\"contacts\":\"_2Wm6Xm44\",\"actionsBuy\":\"_2TIFgmpV\",\"fixedPane\":\"_1vKLNpVO\",\"noSwiping\":\"_1Cw4az2m\",\"cartBouncer\":\"_1ZEctz9U\"};","import PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\nimport { FiZoomIn } from 'react-icons/fi';\n\nimport { cls } from '@mssgme/helpers';\nimport { LoadingIndicator } from '@mssgme/ui';\nimport { MediaSizes, useUploads } from '../../hooks';\n\nimport styles from './ServiceContent.scss';\n\nexport const ServicePhoto = React.forwardRef(function ServicePhoto(\n    { photoUrl, title, index, style, onLoad, onClick, ...rest },\n    ref\n) {\n    const { getMediaSizeUrl } = useUploads();\n    const handleClick = useCallback(() => void onClick(index), [index, onClick]);\n\n    return (\n        <div ref={ref} {...cls(styles.slide, rest)}>\n            <div className={styles.slideImage}>\n                <img\n                    {...{ 'data-src': getMediaSizeUrl(photoUrl, MediaSizes.Large) }}\n                    className=\"swiper-lazy\"\n                    alt={title}\n                    onLoad={onLoad}\n                    onClick={handleClick}\n                />\n                <div className={styles.zoomIcon} style={style.common}>\n                    <FiZoomIn size={14} />\n                </div>\n                <div className={styles.imagePreloader} style={style.background}>\n                    <div>\n                        <LoadingIndicator />\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n});\n\nServicePhoto.propTypes = {\n    photoUrl: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    index: PropTypes.number.isRequired,\n    style: PropTypes.object.isRequired,\n    onLoad: PropTypes.func.isRequired,\n    onClick: PropTypes.func.isRequired,\n};\n","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { FiChevronLeft, FiChevronRight, FiX } from 'react-icons/fi';\n\nimport { LoadingIndicator, Swiper } from '@mssgme/ui';\nimport { LightBox } from '../LightBox';\nimport { ServicePhoto } from './ServicePhoto';\n\nimport styles from './ServiceContent.scss';\n\nconst lazy = {\n    loadPrevNext: true,\n    preloaderClass: styles.imagePreloader,\n    loadedClass: styles.loaded,\n};\n\nexport const ServicePhotos = ({ photos, title, isActive, isPrev, isNext, themeStyles, style, onClose }) => {\n    const navigationPrevRef = React.useRef(null);\n    const navigationNextRef = React.useRef(null);\n    const paginationElRef = useRef(null);\n    const [shouldSwiperLoad, setShouldSwiperLoad] = useState(false);\n    const [swiper, setSwiper] = useState(null);\n    const [isLightbox, setIsLightbox] = useState(false);\n    const [currentLightBoxSlideIndex, setCurrentLightBoxSlideIndex] = useState(0);\n\n    const hasMultiplePhotos = photos.length > 1;\n    const hasNavElements = !!paginationElRef.current && !!navigationPrevRef.current && !!navigationNextRef.current;\n    const showSwiper = shouldSwiperLoad && (!hasMultiplePhotos || hasNavElements);\n    const isSwipeable = isActive || isPrev || isNext;\n\n    const openLightBox = useCallback(() => setIsLightbox(true), []);\n    const closeLightBox = useCallback(() => setIsLightbox(false), []);\n\n    const handleSlide = useCallback((index) => {\n        setCurrentLightBoxSlideIndex(index);\n        openLightBox();\n    });\n\n    const pagination = useMemo(\n        () =>\n            hasMultiplePhotos && {\n                el: paginationElRef.current,\n                clickable: true,\n                renderBullet: (index, className) => {\n                    return `<div class=\"${className} ${styles.dot}\"><div style=\"background-color: ${\n                        themeStyles ? themeStyles.color : 'null'\n                    }\"></div></div>`;\n                },\n                clickableClass: styles.clickablePagination,\n                bulletActiveClass: styles.activeBullet,\n            },\n        [paginationElRef.current, hasMultiplePhotos, themeStyles]\n    );\n\n    const handleLoad = useCallback(() => void (swiper && swiper.updateAutoHeight()), [swiper]);\n\n    useEffect(() => {\n        if (isSwipeable) {\n            setShouldSwiperLoad(true);\n        }\n    }, [isSwipeable]);\n\n    return (\n        <div className={styles.swiperContainer}>\n            {showSwiper ? (\n                <Swiper\n                    className={styles.swiper}\n                    nested\n                    autoHeight\n                    lazy={lazy}\n                    pagination={pagination}\n                    navigation={{\n                        prevEl: navigationPrevRef.current,\n                        nextEl: navigationNextRef.current,\n                    }}\n                    speed={600}\n                    watchOverflow={hasMultiplePhotos}\n                    loop={hasMultiplePhotos}\n                    onSwiper={setSwiper}\n                >\n                    {photos.map((photoUrl, index) => (\n                        <ServicePhoto\n                            key={photoUrl + index}\n                            index={index}\n                            photoUrl={photoUrl}\n                            title={title}\n                            style={style}\n                            onLoad={handleLoad}\n                            onClick={handleSlide}\n                        />\n                    ))}\n                </Swiper>\n            ) : (\n                <div className={styles.preloader}>\n                    <div>\n                        <LoadingIndicator />\n                    </div>\n                </div>\n            )}\n            {hasMultiplePhotos && (\n                <div className={cn(styles.controlsContainer, { [styles.hidden]: !showSwiper })}>\n                    <div className={cn(styles.controls, styles.noSwiping)} style={style.pagination}>\n                        <div className={styles.control} ref={navigationPrevRef}>\n                            <FiChevronLeft size={16} />\n                        </div>\n                        <div className={styles.pagination} ref={paginationElRef} />\n                        <div className={styles.control} ref={navigationNextRef}>\n                            <FiChevronRight size={16} />\n                        </div>\n                    </div>\n                </div>\n            )}\n            <div\n                className={cn(styles.closeButtonWrapper, styles.noSwiping)}\n                onClick={onClose}\n                style={{ display: 'flex' }}\n            >\n                <div className={styles.closeButton} style={style.common}>\n                    <FiX size={14} />\n                </div>\n            </div>\n\n            {isLightbox && (\n                <React.Suspense fallback={null}>\n                    <LightBox\n                        activeIndex={currentLightBoxSlideIndex}\n                        images={photos.map((url) => ({ url }))}\n                        onClose={closeLightBox}\n                    />\n                </React.Suspense>\n            )}\n        </div>\n    );\n};\n\nServicePhotos.propTypes = {\n    photos: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\n    isActive: PropTypes.bool,\n    isPrev: PropTypes.bool,\n    isNext: PropTypes.bool,\n    title: PropTypes.string.isRequired,\n    themeStyles: PropTypes.object,\n    style: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n};\n","import React, { useContext } from 'react';\nimport { useMount, useUnmount } from 'react-use';\n\nimport { removeTrailingSlash } from '@mssgme/shared';\n\nconst joinPath = (a, b) => {\n    return (\n        '/' + removeTrailingSlash(`${removeTrailingSlash(a)}/${removeTrailingSlash(b, { lead: true })}`, { lead: true })\n    );\n};\n\nexport const makeCoreRouter = ({ path, isBackOverriddenBack }) => {\n    const base = removeTrailingSlash(path);\n\n    return {\n        toEntry: () => path,\n        toHome: () => path,\n        product: {\n            toView: (productSlug = ':productSlug') => joinPath(base, `p/${productSlug}`),\n        },\n        collection: {},\n        orders: {\n            toView: (orderId = ':orderId', basePath = base) =>\n                joinPath(basePath, orderId ? `orders/${orderId}` : 'orders'),\n            toStatus: (orderId = ':orderId', status = ':status(paid|failed)') =>\n                joinPath(base, `orders/${orderId}/payment/${status}`),\n        },\n        userOrders: {\n            toOrder: (orderId = ':orderId') => joinPath(base, orderId ? `user-orders/${orderId}` : 'orders'),\n        },\n        isBackOverriddenBack,\n    };\n};\n\nexport const CoreContext = React.createContext({\n    path: '/',\n    router: makeCoreRouter({ path: '/' }),\n    setEntry: () => {},\n});\n\nexport const useBackCorePath = (backUrl) => {\n    const { setEntry } = useCoreContext();\n\n    useMount(() => setEntry(backUrl));\n    useUnmount(() => setEntry());\n};\n\nexport const useCoreContext = () => useContext(CoreContext);\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"yGbJMyhr\"};","import PropTypes from 'prop-types';\nimport React, { useMemo } from 'react';\nimport { useAsyncFn, useToggle } from 'react-use';\nimport { Link } from 'react-router-dom';\n\nimport { __t } from '@mssgme/shared';\nimport { ShoppingCartIcon } from '@mssgme/icons';\nimport { useNavigationUtils } from '@mssgme/hooks';\nimport { useCoreContext, useFrontAPI, useModalThemes, usePageData, useSavedOrders } from '../../hooks';\nimport { ThemedButton } from '../ThemedButton';\nimport { ThemedModal } from '../ThemedModal';\n\nimport styles from './BuyButton.scss';\n\nconst propTypes = {\n    service: PropTypes.object.isRequired,\n    interactive: PropTypes.bool,\n    onCartAdd: PropTypes.func,\n    productCurrency: PropTypes.string,\n};\n\nfunction BuyButton({ service, interactive, onCartAdd, productCurrency, ...rest }) {\n    const api = useFrontAPI();\n    const { generateUrl } = useNavigationUtils();\n    const { router } = useCoreContext();\n    const { currentOrder, saveOrderId } = useSavedOrders();\n    const { _id: pageId } = usePageData();\n    const { contentStyle } = useModalThemes();\n    const isInCart = useMemo(() => !!currentOrder?.items.find((item) => item.productId === service._id), [\n        currentOrder,\n        service._id,\n    ]);\n    const orderId = currentOrder?._id;\n    const orderPath = useMemo(() => router.orders.toView(orderId, generateUrl('.')), [orderId]);\n    const isDifferentCurrency = useMemo(() => {\n        const orderCurrency = currentOrder?.items[0]?.price?.currency;\n\n        return !!(orderCurrency && orderCurrency !== productCurrency);\n    }, [currentOrder?.items, productCurrency]);\n    const [restrictCurrenciesMessage, toggleRestrictCurrenciesMessage] = useToggle(false);\n    const [{ loading }, handleBuy] = useAsyncFn(async () => {\n        if (isInCart || !interactive) {\n            return;\n        }\n\n        // restrict adding products with different currencies\n        if (isDifferentCurrency) {\n            toggleRestrictCurrenciesMessage(true);\n\n            return;\n        }\n\n        const payload = { items: [{ productId: service._id, quantity: 1 }] };\n        let result;\n\n        if (orderId) {\n            result = await api.orders.modify({ orderId, payload });\n        } else {\n            result = await api.orders.create({ pageId, payload });\n\n            saveOrderId(result._id);\n        }\n\n        onCartAdd && onCartAdd();\n\n        return result;\n    }, [interactive, service._id, pageId, orderId, isInCart, isDifferentCurrency, saveOrderId]);\n\n    return (\n        <>\n            <ThemedButton\n                fullWidth\n                className={styles.root}\n                theme={contentStyle}\n                disabled={!interactive}\n                isFetching={loading}\n                beforeIcon={isInCart && <ShoppingCartIcon />}\n                {...(isInCart\n                    ? {\n                        tag: Link,\n                        to: {\n                            pathname: orderPath,\n                            state: service.slug ? { backPath: router.product.toView(service.slug) } : null,\n                        },\n                    }\n                    : { onClick: handleBuy })}\n                {...rest}\n            >\n                {isInCart ? __t('to_cart') : __t('buy')}\n            </ThemedButton>\n            {restrictCurrenciesMessage && (\n                <ThemedModal\n                    overlay\n                    compact\n                    padding\n                    title={__t('error_occurred')}\n                    onClose={toggleRestrictCurrenciesMessage}\n                >\n                    <div style={{ textAlign: 'center' }}>{__t('different_currencies_error')}</div>\n                </ThemedModal>\n            )}\n        </>\n    );\n}\n\nBuyButton.propTypes = propTypes;\n\nexport default BuyButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { cls } from '@mssgme/helpers';\nimport { useRenderer } from '../../hooks';\nimport BuyButton from './BuyButton';\n\nimport styles from './ServiceContent.scss';\n\nexport const ServiceActionsPane = ({\n    contacts,\n    service,\n    interactive,\n    enabledPayments,\n    onCartAdd,\n    currency,\n    ...rest\n}) => {\n    const renderBlock = useRenderer();\n\n    return (\n        <div {...cls(styles.contacts, rest)}>\n            {enabledPayments && (\n                <div className={styles.actionsBuy} style={{ marginBottom: contacts?.length ? 0 : 12 }}>\n                    <BuyButton\n                        service={service}\n                        productCurrency={currency}\n                        interactive={interactive}\n                        onCartAdd={onCartAdd}\n                    />\n                </div>\n            )}\n\n            {contacts?.length > 0 && contacts.map(renderBlock)}\n        </div>\n    );\n};\n\nServiceActionsPane.propTypes = {\n    contacts: PropTypes.arrayOf(PropTypes.shape({})),\n    service: PropTypes.object.isRequired,\n    interactive: PropTypes.bool,\n    enabledPayments: PropTypes.bool,\n    onCartAdd: PropTypes.func.isRequired,\n    currency: PropTypes.string,\n};\n","export default (url) => {\n    try {\n        return url && new URL(url);\n    } catch (err) {\n        return null;\n    }\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nimport { __t } from '@mssgme/shared';\nimport { parseUrl, urlSafeComponent } from '@mssgme/helpers';\nimport { LinkBlank } from '@mssgme/ui';\nimport { ThemedButton } from '../ThemedButton';\nimport styles from './ServiceContent.scss';\n\nexport const ExternalUrlButton = ({ service, themeStyles }) => {\n    const url = service.externalButton?.url || service.externalUrl;\n    const parsed = url && parseUrl(url);\n\n    if (!url) {\n        return null;\n    }\n\n    return (\n        <ThemedButton\n            fullWidth\n            tag={LinkBlank}\n            theme={themeStyles}\n            href={url}\n            data-id={service._id}\n            data-title={service.title || service.name}\n            data-element=\"custom-link\"\n            data-event-name={urlSafeComponent(url)}\n            className={styles.externalButton}\n        >\n            <div className={styles.buttonContent}>\n                <span>{service.externalButton?.title || __t('visit_website')}</span>\n                {!!parsed && <span className={styles.url}>{parsed.hostname}</span>}\n            </div>\n        </ThemedButton>\n    );\n};\n\nExternalUrlButton.propTypes = {\n    service: PropTypes.object.isRequired,\n    themeStyles: PropTypes.object.isRequired,\n};\n","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useMemo, useRef } from 'react';\nimport { useToggle } from 'react-use';\nimport { AnimatePresence, motion } from 'framer-motion';\n\nimport { __t } from '@mssgme/shared';\nimport { isLightColor } from '@mssgme/helpers';\nimport { useWebsiteData } from '../../hooks';\nimport { ServicePhotos } from './ServicePhotos';\nimport { ServiceActionsPane } from './ServiceActionsPane';\nimport { ExternalUrlButton } from './ExternalUrlButton';\nimport { ShoppingCart } from '../ShoppingCart';\n\nimport styles from './ServiceContent.scss';\n\nexport function ServiceContent({\n    service: { description, price },\n    service,\n    contacts,\n    isActive,\n    isPrev,\n    isNext,\n    interactive,\n    themeStyles,\n    backUrl,\n    onClose,\n}) {\n    const { enabledPayments } = useWebsiteData();\n    const [isCartAddAnimation, toggleCartAddAnimation] = useToggle(false);\n    const rootEl = useRef(null);\n    const serviceTitle = service.title || service.name;\n    const isDarkTheme = !isLightColor(themeStyles.backgroundColor);\n    const style = useMemo(() => {\n        const { color, backgroundColor } = themeStyles;\n\n        return {\n            common: {\n                color,\n                backgroundColor,\n            },\n            color: {\n                color,\n            },\n            background: {\n                backgroundColor,\n            },\n            pagination: {\n                backgroundColor: backgroundColor.slice(0, -2) + '80',\n                color,\n            },\n            contacts: {\n                backgroundImage: `linear-gradient(to bottom, ${backgroundColor.substring(\n                    0,\n                    7\n                )}00 0%, ${backgroundColor} 18px, ${backgroundColor} 100%)`,\n            },\n        };\n    }, [themeStyles]);\n\n    const isSwipeable = isActive || isPrev || isNext;\n    const hasActions = enabledPayments || contacts.length > 0;\n\n    const contactsEl = hasActions && (\n        <ServiceActionsPane\n            style={style.contacts}\n            contacts={contacts}\n            service={service}\n            interactive={interactive}\n            enabledPayments={enabledPayments}\n            onCartAdd={toggleCartAddAnimation}\n            currency={price?.currency}\n        />\n    );\n\n    const handleClose = useCallback(\n        (e) => {\n            e?.preventDefault?.();\n\n            onClose(backUrl);\n        },\n        [backUrl, onClose]\n    );\n\n    useEffect(() => {\n        if (rootEl.current && rootEl.current.scrollTop !== 0) {\n            rootEl.current.scrollTo({ top: 0, behavior: 'smooth' });\n        }\n    }, [isSwipeable]);\n\n    useEffect(() => {\n        if (!isCartAddAnimation) {\n            return;\n        }\n\n        const timer = setTimeout(() => toggleCartAddAnimation(false), 1000);\n\n        return () => {\n            clearTimeout(timer);\n        };\n    }, [isCartAddAnimation]);\n\n    return (\n        <div className={styles.wrapper}>\n            <div className={cn(styles.root, { [styles.active]: isActive })} ref={rootEl} style={style.color}>\n                <ServicePhotos\n                    photos={service.photos}\n                    title={serviceTitle}\n                    isActive={isActive}\n                    isPrev={isPrev}\n                    isNext={isNext}\n                    themeStyles={themeStyles}\n                    style={style}\n                    onClose={handleClose}\n                />\n\n                <div className={cn(styles.content, isDarkTheme && styles.dark)}>\n                    <div>\n                        <h1 className={styles.title}>{serviceTitle}</h1>\n\n                        {price && (\n                            <div className={styles.price} style={style.color}>\n                                {price.formattedDiscount && (\n                                    <span className={styles.discountPrice}>\n                                        {price.discount === 0 ? __t('free') : price.formattedDiscount}\n                                    </span>\n                                )}\n                                {price.amount === 0 ? (\n                                    __t('free')\n                                ) : (\n                                    <span className={price.formattedDiscount ? styles.lineThrough : null}>\n                                        {price.formatted}\n                                    </span>\n                                )}\n                            </div>\n                        )}\n\n                        <ExternalUrlButton themeStyles={themeStyles} service={service} />\n                    </div>\n                    {description && <p className={styles.description}>{description}</p>}\n                    {contactsEl && <div className={styles.fixedPane}>{contactsEl}</div>}\n\n                    <AnimatePresence>\n                        {isCartAddAnimation && (\n                            <motion.div\n                                className={styles.cartBouncer}\n                                animate={{ bottom: 16 }}\n                                exit={{ bottom: -60 }}\n                                transition={{ type: 'spring', stiffness: 100 }}\n                            >\n                                <ShoppingCart style={{ position: 'absolute', bottom: 0, right: 0 }} />\n                            </motion.div>\n                        )}\n                    </AnimatePresence>\n                </div>\n            </div>\n\n            {contactsEl}\n        </div>\n    );\n}\n\nServiceContent.propTypes = {\n    service: PropTypes.object.isRequired,\n    contacts: PropTypes.array.isRequired,\n    isActive: PropTypes.bool.isRequired,\n    isPrev: PropTypes.bool.isRequired,\n    isNext: PropTypes.bool.isRequired,\n    interactive: PropTypes.bool,\n    themeStyles: PropTypes.object.isRequired,\n    onClose: PropTypes.func.isRequired,\n    backUrl: PropTypes.string,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"_2XbhEsS0\",\"swiper\":\"QnbvWe1q\",\"noSwiping\":\"_2zN_ACNB\"};","import PropTypes from 'prop-types';\nimport React, { useCallback, useMemo } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { Swiper } from '@mssgme/ui';\nimport { usePageData } from '../../../hooks';\nimport { ServiceContent, ThemedModal } from '../../../UI';\n\nimport styles from './ServicesModal.scss';\n\nexport function ServicesModal({\n    services,\n    contacts,\n    activeIndex,\n    interactive,\n    onClose,\n    onClosing,\n    themeStyles,\n    handleHash,\n}) {\n    const page = usePageData();\n    const history = useHistory();\n    const hasMultipleServices = services.length > 1;\n\n    const contactBlocks = useMemo(\n        () =>\n            contacts\n                .filter(({ enabled }) => enabled)\n                .map(({ blockId }) => page.blocks.find(({ _id }) => _id === blockId)),\n        [page, contacts]\n    );\n\n    const handleSlideChange = useCallback(\n        (swiper) => {\n            if (handleHash) {\n                history.replace('#' + services[swiper.realIndex]._id);\n            }\n        },\n        [handleHash, services]\n    );\n\n    return (\n        <ThemedModal overlay handleHash showHeader={false} onClose={onClose}>\n            <div className={styles.content}>\n                <Swiper\n                    className={styles.swiper}\n                    allowTouchMove={hasMultipleServices}\n                    initialSlide={activeIndex}\n                    noSwipingClass={styles.noSwiping}\n                    speed={600}\n                    pagination={false}\n                    onInit={handleSlideChange}\n                    onSlideChange={handleSlideChange}\n                >\n                    {services.map((service, index) =>\n                        Object.assign(\n                            ({ isActive, isPrev, isNext }) => (\n                                <ServiceContent\n                                    themeStyles={themeStyles}\n                                    service={service}\n                                    contacts={contactBlocks}\n                                    isActive={isActive}\n                                    isPrev={isPrev}\n                                    isNext={isNext}\n                                    interactive={interactive}\n                                    onClose={onClose}\n                                />\n                            ),\n                            { key: service._id || index }\n                        )\n                    )}\n                </Swiper>\n            </div>\n        </ThemedModal>\n    );\n}\n\nServicesModal.propTypes = {\n    services: PropTypes.array.isRequired,\n    contacts: PropTypes.array.isRequired,\n    activeIndex: PropTypes.number.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onClosing: PropTypes.func,\n    themeStyles: PropTypes.object.isRequired,\n    handleHash: PropTypes.bool,\n    interactive: PropTypes.bool,\n};\n\nServicesModal.defaultProps = {\n    handleHash: true,\n    interactive: true,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"servicesList\":\"_1tPoDiYt\",\"list\":\"_11aOBJzF\",\"moreButtonContainer\":\"_1WE-HNBa\",\"blurred\":\"VgXs12px\"};","import PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useLocation, useHistory } from 'react-router';\nimport { useTimeoutFn } from 'react-use';\n\nimport { __t, ServicesGridBlockKind } from '@mssgme/shared';\nimport { LandingsPropTypes, Spinner } from '@mssgme/ui';\nimport { useBlockTheme } from '../../../hooks';\nimport { MoreButton } from '../../../UI';\nimport { BlockBase } from '../BlockBase';\nimport { ServicesGridItem } from './ServicesGridItem';\nimport { ServicesModal } from './ServicesModal';\n\nimport styles from './ServicesGrid.scss';\n\nconst ITEMS_PER_PAGE = 6;\n\n// TODO: Migrate/convert all service grid items to normal products and remove this block. Replace with Products block.\n\nexport default function ServicesGrid({ block, sortable, interactive, delay = 0, ...rest }) {\n    const location = useLocation();\n    const history = useHistory();\n    const hashId = location.hash && location.hash.slice(1);\n    const slideIndexFromHash = hashId && block.items.findIndex((item) => item._id === hashId);\n    const hasSlideFromHash = Number.isInteger(slideIndexFromHash) && slideIndexFromHash >= 0;\n    const { theme } = useBlockTheme(block);\n    const [page, setPage] = useState(1);\n    const [isDelayed, setDelayed] = useState(!!delay);\n    const [isServicesModal, setIsServicesModal] = useState(false);\n    const [currentServiceIndex, setCurrentServiceIndex] = useState(0);\n    const total = block.items.length;\n    const pages = Math.ceil(total / ITEMS_PER_PAGE);\n    const hasMore = page < pages;\n    const sliced = hasMore ? block.items.slice(0, page * ITEMS_PER_PAGE) : block.items;\n\n    const handleLoadMore = useCallback(() => setPage((old) => old + 1), []);\n    const openServicesModal = useCallback(() => {\n        setIsServicesModal(true);\n    }, []);\n    const closeServicesModal = useCallback(() => {\n        setIsServicesModal(false);\n        history.push(location.pathname);\n    }, [location.pathname]);\n\n    useEffect(() => {\n        if (hasSlideFromHash && !sortable) {\n            setCurrentServiceIndex(slideIndexFromHash);\n            openServicesModal();\n        }\n    }, [hasSlideFromHash]);\n\n    useTimeoutFn(() => setDelayed(false), delay);\n\n    if (isDelayed) {\n        return (\n            <BlockBase {...rest}>\n                <Spinner />\n            </BlockBase>\n        );\n    }\n\n    return (\n        <BlockBase lazy {...rest}>\n            {sliced.length ? (\n                <ul className={cn(styles.servicesList, styles[theme.gridMode])}>\n                    {sliced.map((item, index) => (\n                        <li key={item._id || index}>\n                            <ServicesGridItem\n                                item={item}\n                                themeStyles={theme}\n                                onClick={() => {\n                                    setCurrentServiceIndex(index);\n                                    openServicesModal();\n                                }}\n                            />\n                        </li>\n                    ))}\n                </ul>\n            ) : (\n                <ul\n                    className={cn(styles.servicesList, styles[theme.gridMode])}\n                    style={{ opacity: 0.7, pointerEvents: 'none' }}\n                >\n                    <li>\n                        <ServicesGridItem\n                            themeStyles={theme}\n                            item={{\n                                title: __t('title'),\n                                price: { amount: 9.99, formatted: '$19.99', formattedDiscount: '$9.99' },\n                            }}\n                        />\n                    </li>\n                    <li>\n                        <ServicesGridItem\n                            themeStyles={theme}\n                            item={{\n                                title: __t('title'),\n                                price: { amount: 9.99, formatted: '$19.99', formattedDiscount: '$9.99' },\n                            }}\n                        />\n                    </li>\n                </ul>\n            )}\n\n            {hasMore && (\n                <div className={styles.moreButtonContainer}>\n                    <MoreButton\n                        onClick={handleLoadMore}\n                        style={{\n                            backgroundColor: theme.backgroundColor,\n                            color: theme.color,\n                            borderRadius: theme.borderRadius,\n                        }}\n                    />\n                </div>\n            )}\n            {isServicesModal && (\n                <ServicesModal\n                    handleHash={interactive}\n                    themeStyles={theme}\n                    contacts={block.contacts}\n                    services={block.items}\n                    activeIndex={currentServiceIndex}\n                    interactive={interactive}\n                    onClose={closeServicesModal}\n                />\n            )}\n        </BlockBase>\n    );\n}\n\nServicesGrid.propTypes = {\n    ...BlockBase.propTypes,\n    block: LandingsPropTypes.block.isRequired,\n    delay: PropTypes.number,\n};\n\nServicesGrid.defaultProps = BlockBase.defaultProps;\n\nServicesGrid.kind = ServicesGridBlockKind;\n","import ServicesGrid from './ServicesGrid';\n\nexport default ServicesGrid;\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction SearchIcon(props, svgRef) {\n    return (\n        <IconBase fill=\"none\" viewBox=\"0 0 24 24\" ref={svgRef} {...props}>\n            <path\n                d=\"M11 19a8 8 0 100-16 8 8 0 000 16zM21 21l-4.35-4.35\"\n                stroke=\"currentColor\"\n                strokeWidth={2}\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(SearchIcon);\nexport default ForwardRef;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2KH1UV2J\",\"disabled\":\"_6MqLJcxA\",\"thumbnail\":\"_1qewrm71\",\"emptyPlaceholder\":\"_2BfWiASX\",\"meta\":\"_15DjKOTm\",\"title\":\"_3nacUjt2\",\"price\":\"_2FnTybXH\",\"discountPrice\":\"_2FePtAvK\",\"lineThrough\":\"VV_yIBHb\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { IoMdImage } from 'react-icons/io';\n\nimport { __t, mediaUtils } from '@mssgme/shared';\nimport { LazyImage } from '@mssgme/ui';\n\nimport styles from './styles.scss';\n\nexport const ProductItem = ({ tag: Tag, product: { name, price, published, photoUrl }, themeStyles, ...rest }) => {\n    return (\n        <Tag className={classNames(styles.root, !published && styles.disabled)} {...rest}>\n            <div className={styles.thumbnail} style={{ backgroundColor: themeStyles.backgroundColor }}>\n                {photoUrl ? (\n                    <LazyImage src={mediaUtils.generateProductThumbnailUrl(photoUrl)} alt={name} />\n                ) : (\n                    <div className={styles.emptyPlaceholder}>\n                        <IoMdImage size=\"40%\" color=\"#fff\" />\n                    </div>\n                )}\n            </div>\n            <div className={styles.meta} style={{ color: themeStyles.color }}>\n                <span className={styles.title}>{name}</span>\n                {price && (\n                    <span className={styles.price}>\n                        {price.formattedDiscount &&\n                            (price.discount === 0 ? (\n                                <span className={styles.discountPrice}>{__t('free')}</span>\n                            ) : (\n                                <span className={styles.discountPrice}>{price.formattedDiscount}</span>\n                            ))}\n                        {price.amount === 0 ? (\n                            __t('free')\n                        ) : (\n                            <span className={price.formattedDiscount ? styles.lineThrough : null}>\n                                {price.formatted}\n                            </span>\n                        )}\n                    </span>\n                )}\n            </div>\n        </Tag>\n    );\n};\n\nProductItem.propTypes = {\n    product: PropTypes.object.isRequired,\n    themeStyles: PropTypes.object,\n    tag: PropTypes.any,\n};\n\nProductItem.defaultProps = {\n    tag: 'div',\n    themeStyles: {},\n};\n","import { BaseApi } from './baseApi';\n\nexport class ProductsApi extends BaseApi {\n    list(workspaceId, params) {\n        return this.get([`/workspaces/${workspaceId}/products`, params]);\n    }\n\n    load(workspaceId, productId) {\n        return this.get([`/workspaces/${workspaceId}/products/${productId}`]);\n    }\n\n    loadBySlug(workspaceId, productSlug, collectionId) {\n        return this.get([`/workspaces/${workspaceId}/products/${collectionId}/${productSlug}`]);\n    }\n}\n\nexport default ((options) => new ProductsApi(options))();\n","export const handleError = (error) => {\n    error = error || new Error('Unhandled error');\n\n    console.error(error);\n\n    if (window.Sentry) {\n        window.Sentry.captureException(error);\n    }\n};\n","import { useMediaQuery } from 'react-responsive';\n\nexport const MEDIA_BREAKPOINTS = {\n    desktop: { minWidth: 1025 },\n    aboveMobile: { minWidth: 601 },\n    belowDesktop: { maxWidth: 1024 },\n    tablet: { maxWidth: 1024, minWidth: 768 },\n    mobile: { maxWidth: 600 },\n};\n\nexport function useBreakpoints() {\n    const isDesktop = useMediaQuery(MEDIA_BREAKPOINTS['desktop']);\n    const isAboveMobile = useMediaQuery(MEDIA_BREAKPOINTS['aboveMobile']);\n    const isBelowDesktop = useMediaQuery(MEDIA_BREAKPOINTS['belowDesktop']);\n    const isTablet = useMediaQuery(MEDIA_BREAKPOINTS['tablet']);\n    const isMobile = useMediaQuery(MEDIA_BREAKPOINTS['mobile']);\n\n    return { isDesktop, isAboveMobile, isBelowDesktop, isTablet, isMobile };\n}\n\nexport const useIsMobile = () => {\n    return !!useMediaQuery(MEDIA_BREAKPOINTS['mobile']);\n};\n\nexport const useIsDesktop = () => {\n    return !!useMediaQuery(MEDIA_BREAKPOINTS['desktop']);\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3dvk4qMK\",\"item\":\"_3awBxbh9\",\"active\":\"zyqy27XG\",\"list\":\"_2agEy5u-\",\"clipLeft\":\"_1gV7--Yd\",\"clipRight\":\"_3kz8zbIR\",\"controlContainerLeft\":\"_25EQ80Ed\",\"controlContainerRight\":\"_3JnavzXx\",\"control\":\"hhPWLPiY\"};","import PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport React, { useCallback, useMemo } from 'react';\nimport { useDeepCompareEffect } from 'react-use';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport { __t } from '@mssgme/shared';\nimport { resolvePathname } from '@mssgme/helpers';\nimport { useHorizontalTabbedScroll } from '@mssgme/ui';\nimport { useBasePageColor } from '../../../../hooks';\n\nimport styles from './ButtonsMenu.scss';\n\nexport const ButtonsMenu = ({ items, interactive, activeCollectionId, theme, onSelect, ...rest }) => {\n    const location = useLocation();\n    const { root, hasLeftBtn, moveLeft, list, hasRightBtn, moveRight, moveTo } = useHorizontalTabbedScroll(\n        items.length\n    );\n    const { backgroundColor, backgroundDimmed, isLightBG } = useBasePageColor();\n    const baseUrl = useMemo(() => resolvePathname(location.pathname, 'c'), [location.pathname]);\n    const themeStyle = useMemo(\n        () => ({\n            button: {\n                backgroundColor: theme.backgroundColor,\n                color: theme.productsCategoryTextColor || theme.color,\n                borderRadius: theme.borderRadius,\n            },\n            buttonActive: {\n                backgroundColor: theme.buttonBackground,\n                color: theme.buttonTextColor,\n                borderRadius: theme.borderRadius,\n            },\n            arrowButton: { color: theme.color },\n            arrowBg: { color: backgroundColor },\n        }),\n        [theme, backgroundColor, backgroundDimmed, isLightBG]\n    );\n\n    const isTabbed = theme.filterMode === 'tabs';\n    const ItemTag = interactive ? Link : 'div';\n    const handleClick = useCallback(\n        (e) => {\n            if (!isTabbed) {\n                return;\n            }\n\n            e.preventDefault();\n\n            const slug = e.target.dataset?.slug;\n            const index = items.findIndex((item) => item.slug === slug);\n            const id = items[index]?._id;\n\n            if (id === activeCollectionId) {\n                // onSelect(null);\n            } else {\n                moveTo(index);\n                onSelect(id);\n            }\n        },\n        [isTabbed, activeCollectionId, items, moveTo, onSelect]\n    );\n\n    useDeepCompareEffect(() => {\n        if (items.length) {\n            moveTo(0);\n            onSelect(items[0]._id);\n        }\n    }, [items]);\n\n    return (\n        <div className={styles.root} ref={root} {...rest}>\n            {hasLeftBtn && (\n                <div key={`le-${backgroundColor}`} className={styles.controlContainerLeft} onClick={moveLeft}>\n                    <div className={styles.control} style={themeStyle.arrowButton}>\n                        &larr;\n                    </div>\n                </div>\n            )}\n\n            <ul className={cn(styles.list, hasLeftBtn && styles.clipLeft, hasRightBtn && styles.clipRight)} ref={list}>\n                {items.map((col, index) => {\n                    const isActive = isTabbed && activeCollectionId === col._id;\n\n                    return (\n                        <li\n                            key={col._id}\n                            data-index={index}\n                            className={cn({ [styles.item]: true, [styles.active]: isActive })}\n                        >\n                            <ItemTag\n                                style={isActive ? themeStyle.buttonActive : themeStyle.button}\n                                data-slug={col.slug}\n                                onClick={handleClick}\n                                {...interactive && { to: `${baseUrl}/${col.slug}` }}\n                            >\n                                {col.default ? __t('all_products') : col.name}\n                            </ItemTag>\n                        </li>\n                    );\n                })}\n            </ul>\n\n            {hasRightBtn && (\n                <div key={`ri-${backgroundColor}`} className={styles.controlContainerRight} onClick={moveRight}>\n                    <div className={styles.control} style={themeStyle.arrowButton}>\n                        &rarr;\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nButtonsMenu.propTypes = {\n    items: PropTypes.array.isRequired,\n    interactive: PropTypes.bool,\n    activeCollectionId: PropTypes.string,\n    theme: PropTypes.object.isRequired,\n    onSelect: PropTypes.func,\n};\n","import { useCallback, useRef, useState } from 'react';\nimport { useMeasure, useScroll } from 'react-use';\n\nimport { useIsDesktop } from './useBreakpoints';\n\nexport const useHorizontalTabbedScroll = (items, tag = 'li') => {\n    const isDesktop = useIsDesktop();\n    const list = useRef(null);\n    const [index, setIndex] = useState(0);\n    const [root, { width }] = useMeasure();\n    const { x: listScrollX } = useScroll(list);\n\n    const listScrollWidth = (list.current && list.current.scrollWidth) || width;\n    const hasScroll = isDesktop && listScrollWidth > width;\n    const hasLeftBtn = hasScroll && listScrollX > 0;\n    const hasRightBtn = hasScroll && listScrollX + width < listScrollWidth - 1;\n\n    const moveTo = useCallback(\n        (targetIndex) => {\n            if (targetIndex < 0 || targetIndex > items - 1) {\n                return;\n            }\n\n            const parentWidth = list.current.parentElement.clientWidth;\n            const nodes = Array.from(list.current.querySelectorAll(tag));\n            let scrollPosition = 0;\n\n            for (let i = 0; i < targetIndex; i++) {\n                scrollPosition += nodes[i].clientWidth + 8;\n            }\n\n            list.current.scrollLeft = scrollPosition - (parentWidth - 32) / 2 + nodes[targetIndex].clientWidth / 2 - 4;\n            setIndex(targetIndex);\n        },\n        [items, index, listScrollWidth]\n    );\n    const moveLeft = useCallback(() => moveTo(index - 1), [moveTo]);\n    const moveRight = useCallback(() => moveTo(index + 1), [moveTo]);\n\n    return { root, hasLeftBtn, moveLeft, list, hasRightBtn, moveRight, moveTo, currentIndex: index };\n};\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction ChevronDownIcon(props, svgRef) {\n    return (\n        <IconBase fill=\"none\" viewBox=\"0 0 24 24\" ref={svgRef} {...props}>\n            <path d=\"M6 9l6 6 6-6\" stroke=\"currentColor\" strokeWidth={2} strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(ChevronDownIcon);\nexport default ForwardRef;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n\nPureButton.propTypes = {\n    as: PropTypes.elementType,\n    className: PropTypes.string,\n    startIcon: PropTypes.node,\n    endIcon: PropTypes.node,\n    styles: PropTypes.shape({\n        button: PropTypes.string,\n        startIcon: PropTypes.string,\n        endIcon: PropTypes.string,\n    }),\n};\n\nPureButton.defaultProps = {\n    as: 'button',\n    styles: {},\n};\n\nexport default function PureButton({ as: Component, className, startIcon, endIcon, children, styles, ...rest }) {\n    return (\n        <Component className={cn(styles.button, className)} {...getProps(Component, rest)}>\n            {startIcon && <span className={styles.startIcon}>{startIcon}</span>}\n            {children}\n            {endIcon && <span className={styles.endIcon}>{endIcon}</span>}\n        </Component>\n    );\n}\n\nexport function getProps(el, props) {\n    const { type, disabled, ...rest } = props;\n    const out = { ...rest };\n\n    if (el === 'button') {\n        out.type = type || 'button';\n        out.disabled = disabled;\n    } else {\n        out.role = 'button';\n        out.tabIndex = '0';\n        if (disabled) out['aria-disabled'] = true;\n    }\n\n    return out;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"_1cheHu2s\",\"startIcon\":\"_3QTRIM5a\",\"endIcon\":\"bgPcNmEE\"};","import React from 'react';\nimport PureButton from './PureButton';\n\nimport styles from './TextButton.scss';\n\nexport default function TextButton(props) {\n    return <PureButton styles={styles} {...props} />;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { CSSTransition } from 'react-transition-group';\n\nexport const DURATION_MAP = {\n    'extra-fast': 100,\n    fast: 200,\n    normal: 300,\n    slow: 500,\n    'extra-slow': 800,\n};\n\nexport default function createTransition(displayName, classNames) {\n    function Transition({ in: inProp, appear, duration, children, ...innerRest }) {\n        const timeout = duration in DURATION_MAP ? DURATION_MAP[duration] : duration;\n\n        const content = React.cloneElement(\n            children,\n            {\n                ...children.props,\n                style: {\n                    ...children.props.style,\n                    transitionDuration: `${timeout}ms`,\n                },\n            },\n            children.props.children\n        );\n\n        return (\n            <CSSTransition\n                unmountOnExit\n                in={inProp}\n                appear={appear}\n                timeout={timeout}\n                classNames={classNames}\n                {...innerRest}\n            >\n                {content}\n            </CSSTransition>\n        );\n    }\n\n    Transition.propTypes = {\n        in: PropTypes.bool,\n        appear: PropTypes.bool,\n        duration: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf(Object.keys(DURATION_MAP))]),\n    };\n\n    Transition.defaultProps = {\n        in: false,\n        appear: false,\n        duration: 'slow',\n    };\n\n    Transition.displayName = displayName;\n\n    return Transition;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"appear\":\"_32enWlY6\",\"enter\":\"_3PKh3JN6\",\"appearActive\":\"DQAGI999\",\"enterActive\":\"_2ZrdWXif\",\"exit\":\"_3x6BX_AB\",\"exitActive\":\"_2zI1LOuA\"};","import createTransition from './createTransition';\nimport styles from './Fade.scss';\n\nexport default createTransition('Fade', styles);\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2dUvypCw\",\"select\":\"_5GfWMbLF\",\"button\":\"_1RWnUF4N\",\"label\":\"_146sE58Z\",\"arrow\":\"_17yoFmZR\",\"option\":\"_3-EPpWFr\",\"active\":\"_2mmR5s76\",\"optionLabel\":\"Hm8d5GxS\",\"badge\":\"yfPVOd0T\",\"dropdown\":\"_3ViuLY5O\"};","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useRef } from 'react';\nimport { useClickAway, useToggle } from 'react-use';\n\nimport { __t } from '@mssgme/shared';\nimport { isMatchId } from '@mssgme/helpers';\nimport { ChevronDownIcon } from '@mssgme/icons';\nimport { Fade, TextButton } from '@mssgme/ui';\n\nimport styles from './FilterMenu.scss';\n\nexport const FilterMenuItem = ({ collection, active, onSelect }) => {\n    const handleClick = useCallback(() => onSelect(collection._id), [onSelect, collection]);\n\n    return (\n        <div className={cn(styles.option, active && styles.active)} onClick={handleClick}>\n            <span className={styles.optionLabel}>{collection.default ? __t('all_products') : collection.name}</span>\n            <span className={styles.badge}>{collection.publishedProductsCount}</span>\n        </div>\n    );\n};\n\nFilterMenuItem.propTypes = {\n    collection: PropTypes.object.isRequired,\n    onSelect: PropTypes.func.isRequired,\n    active: PropTypes.bool,\n};\n\nexport const FilterMenu = ({ items, activeCollectionId, theme, interactive, onSelect, ...rest }) => {\n    const root = useRef();\n    const [isOpen, toggle] = useToggle();\n    const selected = items.find(isMatchId(activeCollectionId));\n\n    useClickAway(root, () => toggle(false));\n\n    const handleSelect = useCallback((id) => {\n        onSelect(id);\n        toggle(false);\n    });\n\n    return (\n        <div className={styles.root} {...rest}>\n            <div className={styles.select} ref={root}>\n                <TextButton aria-pressed={isOpen} className={styles.button} onClick={toggle}>\n                    <span className={styles.label}>\n                        {selected && (selected.default ? __t('all_products') : selected.name)}\n                        {selected && <span>&nbsp;({selected?.publishedProductsCount})</span>}\n                    </span>\n                    <ChevronDownIcon size={16} className={styles.arrow} />\n                </TextButton>\n\n                <Fade in={isOpen}>\n                    <div className={styles.dropdown}>\n                        {items.map((collection) => (\n                            <FilterMenuItem\n                                key={collection._id}\n                                active={collection._id === activeCollectionId}\n                                collection={collection}\n                                onSelect={handleSelect}\n                            />\n                        ))}\n                    </div>\n                </Fade>\n            </div>\n        </div>\n    );\n};\n\nFilterMenu.propTypes = {\n    items: PropTypes.array.isRequired,\n    baseUrl: PropTypes.string.isRequired,\n    buttonStyle: PropTypes.object,\n    arrowsStyle: PropTypes.object,\n    interactive: PropTypes.bool,\n    activeCollectionId: PropTypes.string,\n    theme: PropTypes.object.isRequired,\n    onSelect: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nimport { ButtonsMenu } from './ButtonsMenu';\nimport { FilterMenu } from './FilterMenu';\n\nexport function CollectionsBar({ theme, ...rest }) {\n    return theme.filterMode === 'filter' ? (\n        <FilterMenu theme={theme} {...rest} />\n    ) : (\n        <ButtonsMenu theme={theme} {...rest} />\n    );\n}\n\nCollectionsBar.propTypes = {\n    items: PropTypes.array.isRequired,\n    interactive: PropTypes.bool,\n    activeCollectionId: PropTypes.string,\n    theme: PropTypes.object.isRequired,\n    onSelect: PropTypes.func,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"zqQ_UzIa\",\"title\":\"_2YZlafSS\",\"list\":\"v4gRAsY4\",\"mobileMode\":\"_2d3Wg2J0\",\"empty\":\"_8ORnZ2Rf\",\"icon\":\"_149SoVjF\",\"description\":\"l6CXojOX\",\"moreBtnContainer\":\"_3OrypCfY\",\"moreBtn\":\"_3N_b-4yz\"};","import PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useMountedState } from 'react-use';\nimport { get, pick } from 'lodash';\n\nimport { __t, ProductsBlockKind } from '@mssgme/shared';\nimport { cls, isMatchId, isMobile, keyHash } from '@mssgme/helpers';\nimport { useNavigationUtils } from '@mssgme/hooks';\nimport { LandingsPropTypes, Spinner } from '@mssgme/ui';\nimport { SearchIcon } from '@mssgme/icons';\nimport { ProductItem } from '../../../../products';\nimport { useBlockTheme, useProductsApi, useWebsiteData } from '../../../hooks';\nimport { MoreButton } from '../../../UI';\nimport { BlockBase } from '../BlockBase';\nimport { CollectionsBar } from './CollectionsBar';\n\nimport styles from './Products.scss';\n\nexport const Item = ({ product, baseProductUrl, fromCollection, interactive, ...rest }) => {\n    const to = useMemo(\n        () =>\n            interactive\n                ? {\n                    pathname: `${baseProductUrl}/${product.slug?.toLowerCase()}`,\n                    state: { fromCollection },\n                }\n                : undefined,\n        [baseProductUrl, interactive, product]\n    );\n\n    return <ProductItem product={product} tag={interactive ? Link : 'div'} to={to} {...rest} />;\n};\n\nItem.propTypes = {\n    product: PropTypes.object.isRequired,\n    interactive: PropTypes.bool,\n    fromCollection: PropTypes.string,\n    baseProductUrl: PropTypes.string,\n    style: PropTypes.object,\n};\n\nexport default function Products({ block, interactive, isMobileMode, ...rest }) {\n    const website = useWebsiteData();\n    const isMounted = useMountedState();\n    const location = useLocation();\n    const { generateUrl } = useNavigationUtils();\n    const { theme, style } = useBlockTheme(block);\n    const collectionIds = get(block, 'collections.include', []);\n    const activeCollections = website.collections.filter((col) => col.published && col.publishedProductsCount);\n    const showCollections = collectionIds.length\n        ? collectionIds.map((id) => activeCollections.find(isMatchId(id))).filter(Boolean)\n        : activeCollections;\n    const isTabbed = theme.filterMode !== 'buttons';\n    const [activeCollectionId, setActiveCollectionId] = useState(showCollections[0]?._id || null);\n\n    const options = pick(block, ['products', 'total', 'sort']);\n    const query = useMemo(\n        () => ({\n            ...options,\n            limit: isMobile() ? 6 : 12,\n            collections: activeCollectionId && isTabbed ? { include: [activeCollectionId] } : block.collections,\n        }),\n        [website.collections, keyHash(options), activeCollectionId, isTabbed]\n    );\n    const { hasNext, isFetching, items, getProducts } = useProductsApi({\n        workspaceId: website.workspace,\n        websiteId: website._id,\n        query,\n    });\n    const handleMore = useCallback(() => getProducts(), [getProducts]);\n    const baseProductUrl = useMemo(() => generateUrl('p'), [location.pathname]);\n    const defaultStyle = useMemo(() => ({ color: theme.color }), [theme]);\n    const getFromCollection = (product) => Object.keys(product.cols || {}).find((id) => collectionIds.includes(id));\n\n    useEffect(() => {\n        const firstId = showCollections[0]?._id;\n\n        if (firstId !== activeCollectionId && !showCollections.find(isMatchId(activeCollectionId))) {\n            if (isMounted()) {\n                setActiveCollectionId(firstId);\n            }\n        }\n    }, [activeCollectionId, showCollections]);\n\n    return (\n        <BlockBase {...cls([styles.root, isMobileMode && styles.mobileMode], rest)}>\n            {!!block.title && (\n                <div className={styles.title} style={defaultStyle}>\n                    {block.title}\n                </div>\n            )}\n\n            {showCollections.length > 1 && (\n                <CollectionsBar\n                    theme={theme}\n                    style={defaultStyle}\n                    items={showCollections}\n                    interactive={interactive}\n                    activeCollectionId={activeCollectionId}\n                    onSelect={setActiveCollectionId}\n                />\n            )}\n\n            <ul className={styles.list}>\n                {items.map((product) => (\n                    <li key={product._id}>\n                        <Item\n                            product={product}\n                            interactive={interactive}\n                            baseProductUrl={baseProductUrl}\n                            fromCollection={activeCollectionId || getFromCollection(product)}\n                            themeStyles={theme}\n                            style={defaultStyle}\n                        />\n                    </li>\n                ))}\n\n                {!(items.length || isFetching) && (\n                    <li key=\"empty-list\" className={styles.empty} style={defaultStyle}>\n                        <SearchIcon className={styles.icon} size={48} />\n                        <div className={styles.description}>{__t('no_products')}</div>\n                    </li>\n                )}\n            </ul>\n\n            {isFetching ? (\n                <Spinner />\n            ) : (\n                hasNext && (\n                    <div className={styles.moreBtnContainer}>\n                        <MoreButton\n                            className={styles.moreBtn}\n                            style={{ ...style, color: theme.productsCategoryTextColor }}\n                            onClick={handleMore}\n                            disabled={isFetching}\n                        />\n                    </div>\n                )\n            )}\n        </BlockBase>\n    );\n}\n\nProducts.propTypes = {\n    ...BlockBase.propTypes,\n    block: LandingsPropTypes.block.isRequired,\n};\n\nProducts.defaultProps = BlockBase.defaultProps;\n\nProducts.kind = ProductsBlockKind;\n","import { useState } from 'react';\nimport { useDebounce, useMountedState } from 'react-use';\n\nimport { handleError, productsApi } from '@mssgme/lib';\nimport { useFetching } from '@mssgme/hooks';\n\nexport const useProductsApi = ({ workspaceId, websiteId, query }) => {\n    const isMounted = useMountedState();\n    const [store, setStore] = useState({ hasNext: false, next: null, publishedCount: 0, items: [], isFetching: true });\n    const { pending: isFetching, run: getProducts } = useFetching(\n        async (resetStore) => {\n            const { results, next, ...productsStore } = await productsApi.list(workspaceId, {\n                limit: query.limit,\n                next: resetStore ? null : store.next,\n                collection: query.collections.include,\n                website: websiteId,\n                published: true,\n            });\n\n            if (!isMounted()) {\n                return;\n            }\n\n            setStore((prevProducts) => {\n                const items = resetStore ? results : prevProducts.items.concat(results);\n                const hasNext = productsStore.hasNext && !(query.total && items.length >= query.total);\n\n                return {\n                    ...productsStore,\n                    next: (hasNext && next) || null,\n                    items: query.total ? items.slice(0, query.total) : items,\n                    hasNext,\n                };\n            });\n        },\n        [store.next, query]\n    );\n\n    useDebounce(() => void getProducts(true).catch(handleError), 100, [query]);\n\n    return {\n        ...store,\n        isFetching: store.isFetching || isFetching,\n        getProducts,\n    };\n};\n","import Products from './Products';\n\nexport default Products;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"Eihnl-9N\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './styles.scss';\n\nexport function Grid({ children, itemClassName }) {\n    return (\n        <ul className={styles.root}>\n            {React.Children.map(children, (item, index) => (\n                <li key={index} className={itemClassName}>\n                    {item}\n                </li>\n            ))}\n        </ul>\n    );\n}\n\nGrid.propTypes = {\n    children: PropTypes.node,\n    itemClassName: PropTypes.string,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"_1tZ4uWus\",\"moreBtnContainer\":\"_1tySfxGC\",\"moreBtn\":\"_1Gt8GCb-\",\"animated\":\"_3SAjP8Or\",\"revealItem\":\"_30YTujS8\"};","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useState } from 'react';\nimport { useAsyncFn, useDeepCompareEffect } from 'react-use';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport { __t } from '@mssgme/shared';\nimport { useNavigationUtils } from '@mssgme/hooks';\nimport { productsApi } from '@mssgme/lib';\nimport { Spinner } from '@mssgme/ui';\nimport { ProductItem } from '../../../products';\nimport { useModalThemes } from '../../hooks';\nimport { Grid, MoreButton, ThemedModal } from '../../UI';\n\nimport styles from './CollectionView.scss';\n\nexport const CollectionView = ({ workspaceId, websiteId, collection }) => {\n    const history = useHistory();\n    const { style } = useModalThemes();\n    const { generateUrl } = useNavigationUtils();\n    const [{ next, results }, setProducts] = useState({\n        next: null,\n        results: [],\n    });\n    const backPath = generateUrl('../..');\n\n    const [{ loading: isFetching }, getProducts] = useAsyncFn(\n        async (next, resetStore) => {\n            const productsStore = await productsApi.list(workspaceId, {\n                next,\n                collection: collection._id,\n                website: websiteId,\n                published: true,\n            });\n\n            setProducts((prevProducts) => ({\n                ...productsStore,\n                results: resetStore ? productsStore.results : prevProducts.results.concat(productsStore.results),\n            }));\n        },\n        [workspaceId, websiteId, collection._id]\n    );\n\n    const handleClose = useCallback(() => history.push(backPath), [backPath]);\n    const handleMore = useCallback(() => getProducts(next), [next, getProducts]);\n\n    useDeepCompareEffect(() => {\n        const initProducts = async () => {\n            await getProducts(null, true);\n        };\n\n        void initProducts();\n    }, [collection, getProducts]);\n\n    return (\n        <ThemedModal overlay title={collection.default ? __t('all_products') : collection.name} onClose={handleClose}>\n            <div className={styles.content}>\n                {results.length > 0 && (\n                    <Grid itemClassName={styles.animated}>\n                        {results.map((item) => (\n                            <ProductItem\n                                key={item._id}\n                                product={item}\n                                tag={Link}\n                                to={{\n                                    pathname: generateUrl(\n                                        `../../c/${collection.slug.toLowerCase()}/p/${item.slug.toLowerCase()}`\n                                    ),\n                                    state: {\n                                        fromCollection: collection._id,\n                                    },\n                                }}\n                                themeStyles={style}\n                            />\n                        ))}\n                    </Grid>\n                )}\n\n                {isFetching ? (\n                    <Spinner />\n                ) : (\n                    !!next && (\n                        <div className={cn(styles.moreBtnContainer, styles.animated)}>\n                            <MoreButton\n                                className={styles.moreBtn}\n                                style={style}\n                                onClick={handleMore}\n                                disabled={isFetching}\n                            />\n                        </div>\n                    )\n                )}\n            </div>\n        </ThemedModal>\n    );\n};\n\nCollectionView.propTypes = {\n    workspaceId: PropTypes.string.isRequired,\n    websiteId: PropTypes.string,\n    isAdmin: PropTypes.bool,\n    collection: PropTypes.shape({\n        _id: PropTypes.string.isRequired,\n        slug: PropTypes.string.isRequired,\n        name: PropTypes.string.isRequired,\n        default: PropTypes.bool,\n    }).isRequired,\n};\n","import { useContext, useMemo } from 'react';\nimport { cloneDeep, merge } from 'lodash';\n\nimport { CRM_IDENTITY } from '../../products';\nimport { WebsiteDataContext } from './useWebsiteData';\n\nexport const useCRMData = () => {\n    const { crm } = useContext(WebsiteDataContext);\n\n    return useMemo(() => merge(cloneDeep(CRM_IDENTITY), crm), [crm]);\n};\n","import PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useMemo } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useAsyncFn } from 'react-use';\n\nimport { productsApi } from '@mssgme/lib';\nimport { __t, MessengersBlockKind } from '@mssgme/shared';\nimport { useNavigationUtils } from '@mssgme/hooks';\nimport { usePresenceRemoval } from '@mssgme/ui';\nimport { ServiceContent, ThemedModal } from '../../UI';\nimport { useCRMData, useModalThemes, useWebsiteData } from '../../hooks';\n\nconst addUrl = (product, finalUrl) => {\n    const text = encodeURIComponent(\n        `${__t('buy_template')} ${product.title || product.name} - ${finalUrl}/p/${product.slug}`\n    );\n    const ref = `buy_${product._id}_${Date.now()}_${document.documentElement.lang}`;\n    const params = {\n        text,\n        ref,\n        start: ref,\n    };\n\n    return (messenger) => {\n        return { ...messenger, params };\n    };\n};\n\nexport function ProductView({ workspaceId, defaultCollectionId, productSlug, interactive = true, ...props }) {\n    const history = useHistory();\n    const fromCollection = history.location.state?.fromCollection || defaultCollectionId;\n    const { generateUrl } = useNavigationUtils();\n    const { contentStyle } = useModalThemes();\n    const { finalUrl } = useWebsiteData();\n    const { contacts } = useCRMData();\n    const backPath = useMemo(() => generateUrl('../..'), [history.location]);\n\n    const [{ value: product, error }, getProduct] = useAsyncFn(\n        () => productsApi.loadBySlug(workspaceId, productSlug, fromCollection),\n        [workspaceId, productSlug, fromCollection]\n    );\n    const messengers = useMemo(\n        () =>\n            product && contacts.messengers.length\n                ? [\n                    {\n                        kind: MessengersBlockKind,\n                        messengers: contacts.messengers.map(addUrl(product, finalUrl)),\n                        enabled: true,\n                    },\n                ]\n                : [],\n        [contacts.messengers, product, finalUrl]\n    );\n    const is404 = error?.status === 404;\n\n    const handleClose = useCallback(() => history.push(backPath), [backPath]);\n\n    useEffect(() => {\n        if (fromCollection) {\n            void getProduct();\n        }\n    }, [productSlug, fromCollection]);\n\n    usePresenceRemoval();\n\n    return (\n        <ThemedModal overlay showHeader={!!error} title={error ? __t('error') : ''} onClose={handleClose}>\n            {(handleClose) =>\n                error ? (\n                    <div style={{ padding: 16, display: 'flex' }}>\n                        {is404 ? __t('product_not_found') : __t('no_products')}\n                    </div>\n                ) : product ? (\n                    <ServiceContent\n                        {...props}\n                        themeStyles={contentStyle}\n                        service={product}\n                        contacts={messengers}\n                        isActive\n                        isPrev={false}\n                        isNext={false}\n                        interactive={interactive}\n                        backUrl={backPath}\n                        onClose={handleClose}\n                    />\n                ) : null\n            }\n        </ThemedModal>\n    );\n}\n\nProductView.propTypes = {\n    productSlug: PropTypes.string.isRequired,\n    workspaceId: PropTypes.string.isRequired,\n    defaultCollectionId: PropTypes.string.isRequired,\n    interactive: PropTypes.bool,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"ordersList\":\"_31gbTMWf\",\"orderHeader\":\"_3khO0JNN\",\"orderContent\":\"_3VDlZaSO\"};","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { useNavigationUtils } from '@mssgme/hooks';\nimport { __t } from '@mssgme/shared';\nimport { usePageTheme, useSavedOrders } from '../../hooks';\nimport { ThemedModal } from '../../UI';\n\nimport styles from './UserOrdersPage.scss';\n\nexport function UserOrdersPage() {\n    const { generateUrl } = useNavigationUtils();\n    const { theme } = usePageTheme();\n    const { userOrders } = useSavedOrders();\n    const finalizedOrders = userOrders.filter((order) => order.finalized && order.feedback);\n    const shouldRenderPaymentStatus = (provider, orderStatus) => {\n        const immediate = ['cod', 'other'];\n\n        return !immediate.includes(provider) && orderStatus !== 'rejected';\n    };\n\n    return (\n        <ThemedModal overlay compact title={__t('my_orders')} onClose={generateUrl('..')} padding>\n            <ul className={styles.ordersList}>\n                {finalizedOrders.map((order) => (\n                    <li key={order._id}>\n                        <Link to={generateUrl(order._id)} style={theme.blocks.features}>\n                            <div className={styles.orderHeader}>\n                                <div>\n                                    <h2>\n                                        {__t('order_term')} #{order.feedback.order}\n                                    </h2>\n                                    <div>\n                                        <span\n                                            style={{\n                                                color: theme.colors.background,\n                                                backgroundColor: theme.colors.text,\n                                            }}\n                                        >\n                                            {__t(`order_status_${order.feedback.status}`)}\n                                        </span>\n                                        {shouldRenderPaymentStatus(order.paymentMethod, order.feedback.status) && (\n                                            <span\n                                                style={{\n                                                    color: theme.colors.background,\n                                                    backgroundColor: theme.colors.text,\n                                                }}\n                                            >\n                                                {__t(`payment_status_${order.status}`)}\n                                            </span>\n                                        )}\n                                    </div>\n                                </div>\n                                <div>\n                                    <div>\n                                        <span>{new Date(order.feedback.timestamp).toLocaleDateString()}</span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className={styles.orderContent}>\n                                <div>\n                                    <h3>{__t('products')}</h3>\n                                    <span>\n                                        {order.items.map((item) => `${item.name} x${item.quantity}`).join(', ')}\n                                    </span>\n                                </div>\n                                <div>\n                                    {order.total.amount} {order.total.currency}\n                                </div>\n                            </div>\n                        </Link>\n                    </li>\n                ))}\n            </ul>\n        </ThemedModal>\n    );\n}\n","import { useMemo } from 'react';\n\nimport { useCRMData } from './useCRMData';\n\nexport const immediateCompletion = ['cod', 'other', 'transfer'];\nexport const handlesPaymentsStatus = (provider) => !immediateCompletion.includes(provider);\n\nexport const usePaymentConfigs = () => {\n    const { payments } = useCRMData();\n\n    return useMemo(() => {\n        const providers = Object.entries(payments || {}).filter(([, config]) => config.enabled);\n        const immediate = [];\n        const online = [];\n\n        for (const entry of providers) {\n            if (handlesPaymentsStatus(entry[0])) {\n                online.push(entry);\n            } else {\n                immediate.push(entry);\n            }\n        }\n\n        return {\n            payments,\n            providers,\n            immediate,\n            online,\n            isSingular: providers.length <= 1,\n            isSingularOnline: online.length <= 1,\n        };\n    }, [payments]);\n};\n","import { FaPaypal, FaStripe } from 'react-icons/fa';\nimport { FiChevronsRight } from 'react-icons/fi';\nimport { MdPayment } from 'react-icons/md';\n\nexport const PAYMENT_PROVIDERS = {\n    stripe: {\n        label: 'Stripe',\n        icon: FaStripe,\n    },\n    liqpay: {\n        label: 'LiqPay',\n        icon: FiChevronsRight,\n    },\n    paypal: {\n        label: 'PayPal',\n        icon: FaPaypal,\n        supported_currencies: [\n            'AUD',\n            'BRL',\n            'CAD',\n            'CNY',\n            'CZK',\n            'DKK',\n            'EUR',\n            'HKD',\n            'HUF',\n            'ILS',\n            'JPY',\n            'MYR',\n            'MXN',\n            'TWD',\n            'NZD',\n            'NOK',\n            'PHP',\n            'PLN',\n            'GBP',\n            'RUB',\n            'SGD',\n            'SEK',\n            'CHF',\n            'THB',\n            'USD',\n        ],\n    },\n    wayforpay: {\n        label: 'Wayforpay',\n        icon: MdPayment,\n    },\n    robokassa: {\n        label: 'Robokassa',\n        icon: MdPayment,\n    },\n};\n","import React from 'react';\n\nimport { __t, PAYMENT_PROVIDERS } from '@mssgme/shared';\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { useModalThemes, usePaymentConfigs } from '../../hooks';\nimport { ThemedButton } from '../../UI';\n\nexport const PayButton = ({ provider, ...props }) => {\n    const { isSingular } = usePaymentConfigs();\n    const { contentStyle } = useModalThemes();\n    const label = PAYMENT_PROVIDERS[provider]?.label || provider;\n    const Icon = PAYMENT_PROVIDERS[provider]?.icon;\n\n    return (\n        <ThemedButton\n            fullWidth\n            tag=\"button\"\n            type=\"submit\"\n            beforeIcon={Icon && <Icon size={24} />}\n            theme={contentStyle}\n            contentAlignLeft\n            {...props}\n        >\n            {__t(isSingular ? 'pay' : 'payWith', { provider: label })}\n        </ThemedButton>\n    );\n};\n\nPayButton.propTypes = {\n    provider: LandingsPropTypes.paymentMethod,\n};\n","import PropTypes from 'prop-types';\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { useAsync, useMountedState } from 'react-use';\nimport { CardElement, useElements, useStripe } from '@stripe/react-stripe-js';\nimport { pick } from 'lodash';\n\nimport { FormErrors } from '@mssgme/ui';\nimport { useFrontAPI, useInputTheme } from '../hooks';\nimport { PayButton } from './PayButton';\n\nimport styles from './StripeCheckoutForm.scss';\n\nconst CARD_OPTIONS = {\n    hidePostalCode: true,\n    iconStyle: 'solid',\n    classes: {\n        base: styles.cardBase,\n        webkitAutofill: styles.cardAutofill,\n    },\n};\n\nconst propTypes = {\n    orderId: PropTypes.string.isRequired,\n    onPay: PropTypes.func.isRequired,\n    disabled: PropTypes.bool,\n};\n\nfunction StripeCheckoutForm({ orderId, disabled: rawDisabled, onPay }) {\n    const stripe = useStripe();\n    const elements = useElements();\n    const api = useFrontAPI();\n    const isMounted = useMountedState();\n    const inputStyles = useInputTheme();\n    const [succeeded, setSucceeded] = useState(false);\n    const [processing, setProcessing] = useState(false);\n    const [disabled, setDisabled] = useState(true);\n    const [error, setError] = useState(null);\n\n    const { style, options } = useMemo(\n        () => ({\n            options: {\n                ...CARD_OPTIONS,\n                disabled: processing || succeeded,\n                style: {\n                    base: {\n                        iconColor: inputStyles.input.color,\n                        color: inputStyles.input.color,\n                        // ...pick(inputStyles.input, ['backgroundColor', 'color']),\n                        '::placeholder': pick(inputStyles.input, ['backgroundColor', 'color']),\n                        '::selection': { backgroundColor: 'currentColor' },\n                        ':-webkit-autofill': {\n                            color: inputStyles.input.color,\n                        },\n                    },\n                },\n            },\n            style: {\n                ...inputStyles.input,\n                overflow: 'hidden',\n            },\n        }),\n        [processing, succeeded, inputStyles.input]\n    );\n\n    const { value: clientSecret } = useAsync(\n        async () => (await api.orders.signatures.createStripePaymentIntent({ orderId })).clientSecret,\n        [orderId]\n    );\n\n    const isDisabled = processing || disabled || succeeded || rawDisabled || !clientSecret;\n\n    const handleSubmit = useCallback(\n        async (e) => {\n            e.preventDefault();\n            setProcessing(true);\n\n            try {\n                const payload = await stripe.confirmCardPayment(clientSecret, {\n                    payment_method: {\n                        card: elements.getElement(CardElement),\n                    },\n                });\n\n                setError(payload.error ? `Payment failed ${payload.error.message}` : null);\n\n                if (!payload.error) {\n                    setSucceeded(true);\n\n                    onPay('stripe', payload);\n                }\n            } finally {\n                if (isMounted()) {\n                    setProcessing(false);\n                }\n            }\n        },\n        [stripe, elements, clientSecret, onPay]\n    );\n\n    const handleChange = useCallback(async (e) => {\n        setDisabled(e.empty || !!e.error);\n        setError(e.error ? e.error.message : '');\n    });\n\n    return (\n        <form onSubmit={handleSubmit}>\n            <div style={style}>\n                <CardElement onChange={handleChange} options={options} />\n            </div>\n            {error && <FormErrors error={error} shake errorStyle={inputStyles.error} />}\n\n            <PayButton disabled={isDisabled} provider=\"stripe\" style={{ marginTop: 16 }} contentAlignLeft={false} />\n        </form>\n    );\n}\n\nStripeCheckoutForm.propTypes = propTypes;\n\nexport default StripeCheckoutForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"cardBase\":\"_2MpdUitw\",\"cardInvalid\":\"_2N6SmSfD\",\"cardAutofill\":\"_2hSkXJ0_\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2DOo0XIe\",\"overlapButton\":\"_3M8clJzy\"};","import PropTypes from 'prop-types';\nimport React, { Fragment, useEffect, useMemo, useState } from 'react';\nimport { PayButton } from '../../../PayButton';\n\nconst CURRENCIES = ['UAH', 'USD', 'EUR', 'RUB'];\nconst PAYMENT_URL = 'https://secure.wayforpay.com/pay';\n\nconst productShape = PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    price: PropTypes.number.isRequired,\n    count: PropTypes.number.isRequired,\n});\n\nconst propTypes = {\n    merchantAccount: PropTypes.string.isRequired,\n    merchantDomainName: PropTypes.string,\n    orderReference: PropTypes.string.isRequired,\n    orderDate: PropTypes.number.isRequired,\n    amount: PropTypes.number.isRequired,\n    currency: PropTypes.oneOf(CURRENCIES),\n    products: PropTypes.arrayOf(productShape).isRequired,\n    returnUrl: PropTypes.string,\n    serviceUrl: PropTypes.string,\n    disabled: PropTypes.bool,\n    createSignature: PropTypes.func.isRequired,\n    orderPaymentTimeout: PropTypes.number,\n};\n\nconst defaultProps = {\n    merchantDomainName: document.location.hostname,\n    orderPaymentTimeout: 0,\n};\n\nfunction WayforpayButton({\n    merchantAccount,\n    merchantDomainName,\n    orderReference,\n    orderDate,\n    amount,\n    currency,\n    products,\n    returnUrl,\n    serviceUrl,\n    createSignature,\n    orderPaymentTimeout,\n    disabled: rawDisabled,\n}) {\n    const productName = useMemo(() => products.map(({ name }) => name), [products]);\n    const productPrice = useMemo(() => products.map(({ price }) => price), [products]);\n    const productCount = useMemo(() => products.map(({ count }) => count), [products]);\n    const [merchantSignature, setMerchantSignature] = useState('');\n    const [disabled, setDisabled] = useState(true);\n    const isDisabled = disabled || rawDisabled;\n\n    useEffect(() => {\n        async function request() {\n            if (!rawDisabled) {\n                setDisabled(true);\n\n                try {\n                    const json = await createSignature({\n                        merchantAccount,\n                        merchantDomainName,\n                        orderReference,\n                        orderDate,\n                        amount,\n                        currency,\n                        productName,\n                        productPrice,\n                        productCount,\n                    });\n\n                    setMerchantSignature(json.merchantSignature);\n                } finally {\n                    setDisabled(false);\n                }\n            }\n        }\n\n        void request();\n    }, [\n        merchantAccount,\n        merchantDomainName,\n        orderReference,\n        orderDate,\n        amount,\n        currency,\n        productName,\n        productPrice,\n        productCount,\n        createSignature,\n    ]);\n\n    return (\n        <form method=\"POST\" action={PAYMENT_URL}>\n            <input type=\"hidden\" name=\"merchantAccount\" value={merchantAccount} />\n            <input type=\"hidden\" name=\"merchantDomainName\" value={merchantDomainName} />\n            <input type=\"hidden\" name=\"merchantSignature\" value={merchantSignature} />\n            <input type=\"hidden\" name=\"merchantTransactionType\" value=\"AUTO\" />\n            <input type=\"hidden\" name=\"merchantTransactionSecureType\" value=\"AUTO\" />\n            <input type=\"hidden\" name=\"orderReference\" value={orderReference} />\n            <input type=\"hidden\" name=\"orderDate\" value={orderDate} />\n            <input type=\"hidden\" name=\"amount\" value={amount} />\n            <input type=\"hidden\" name=\"currency\" value={currency} />\n            <input type=\"hidden\" name=\"orderTimeout\" value={orderPaymentTimeout} />\n            <input type=\"hidden\" name=\"orderLifetime\" value={orderPaymentTimeout} />\n            {productName.map((name, index) => (\n                <Fragment key={index}>\n                    <input type=\"hidden\" name=\"productName[]\" value={name} />\n                </Fragment>\n            ))}\n            {productPrice.map((price, index) => (\n                <Fragment key={index}>\n                    <input type=\"hidden\" name=\"productPrice[]\" value={price} />\n                </Fragment>\n            ))}\n            {productCount.map((count, index) => (\n                <Fragment key={index}>\n                    <input type=\"hidden\" name=\"productCount[]\" value={count} />\n                </Fragment>\n            ))}\n            {returnUrl && <input type=\"hidden\" name=\"returnUrl\" value={returnUrl} />}\n            {serviceUrl && <input type=\"hidden\" name=\"serviceUrl\" value={serviceUrl} />}\n\n            <PayButton disabled={isDisabled} provider=\"wayforpay\" />\n        </form>\n    );\n}\n\nWayforpayButton.propTypes = propTypes;\nWayforpayButton.defaultProps = defaultProps;\n\nexport default WayforpayButton;\n","import PropTypes from 'prop-types';\nimport React, { useCallback, useMemo } from 'react';\n// import moment from 'moment';\n\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { BACKEND_ENDPOINTS, useCRMData, useFrontAPI, useWebsiteData } from '../../../hooks';\nimport WayforpayButton from './Buttons/WayforpayButton';\n\nconst propTypes = {\n    order: LandingsPropTypes.order.isRequired,\n    disabled: PropTypes.bool,\n};\n\nfunction extractProduct({ name, price, quantity }) {\n    return { name, price: price.amount, count: quantity };\n}\n\nexport function WayforpayPayment({ order, disabled }) {\n    const { finalUrl } = useWebsiteData();\n    const { payments } = useCRMData();\n    const api = useFrontAPI();\n    /*\n     * TODO: generate orderReference considering order timeout to avoid duplicated orders in wayforpay personal\n     *       cabinet (need more logic in cart and crm for that)\n     */\n    // const orderPaymentTimeout = 86400; // 1 day\n    // const orderCreatedInLocalTime = moment\n    //     .utc(order.createdAt)\n    //     .local()\n    //     .unix();\n    // const isOrderPaymentDead = Math.round(Date.now() / 1000) - orderCreatedInLocalTime > orderPaymentTimeout;\n    const orderReference = `${order._id}_uniq${Math.floor(Math.random() * 100000)}`;\n    const orderDate = useMemo(() => Math.round(Date.now() / 1000), []);\n    const products = useMemo(() => order.items.map(extractProduct), [order]);\n    const createSignature = useCallback(\n        (payload) => api.orders.signatures.createWayforpaySignature({ orderId: order._id, payload }),\n        [order._id]\n    );\n    const returnUrl = BACKEND_ENDPOINTS.getWayforpayCallback(order);\n\n    return (\n        <WayforpayButton\n            merchantAccount={payments.wayforpay.merchantAccount}\n            merchantDomainName={finalUrl}\n            orderReference={orderReference}\n            orderDate={orderDate}\n            amount={order.total.amount}\n            currency={order.total.currency}\n            products={products}\n            createSignature={createSignature}\n            returnUrl={returnUrl}\n            disabled={disabled}\n            // orderPaymentTimeout={orderPaymentTimeout}\n        />\n    );\n}\n\nWayforpayPayment.propTypes = propTypes;\n","import PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\n\nimport { PayButton } from '../../../PayButton';\n\nconst CURRENCIES = ['USD', 'EUR', 'RUB', 'KZT'];\nconst PAYMENT_URL = 'https://auth.robokassa.ru/Merchant/Index.aspx';\n\nconst propTypes = {\n    merchantLogin: PropTypes.string.isRequired,\n    invId: PropTypes.string.isRequired,\n    outSum: PropTypes.number.isRequired,\n    outSumCurrency: PropTypes.oneOf(CURRENCIES),\n    createSignature: PropTypes.func.isRequired,\n    isTest: PropTypes.bool.isRequired,\n    disabled: PropTypes.bool,\n};\n\nconst defaultProps = {\n    outSumCurrency: 'RUB',\n    isTest: false,\n};\n\nfunction RobokassaButton({\n    merchantLogin,\n    invId,\n    outSum,\n    outSumCurrency,\n    createSignature,\n    disabled: rawDisabled,\n    isTest,\n}) {\n    const [signature, setSignature] = useState('');\n    const [disabled, setDisabled] = useState(true);\n    const isDisabled = disabled || rawDisabled;\n\n    useEffect(() => {\n        async function request() {\n            setDisabled(true);\n\n            try {\n                const json = await createSignature({});\n\n                setSignature(json.signature);\n            } finally {\n                setDisabled(false);\n            }\n        }\n        void request();\n    }, []);\n\n    return (\n        <form method=\"POST\" action={PAYMENT_URL}>\n            <input type=\"hidden\" name=\"MerchantLogin\" value={merchantLogin} />\n            <input type=\"hidden\" name=\"InvId\" value={invId} />\n            <input type=\"hidden\" name=\"SignatureValue\" value={signature} />\n            <input type=\"hidden\" name=\"OutSum\" value={outSum} />\n            <input type=\"hidden\" name=\"OutSumCurrency\" value={outSumCurrency} />\n            {isTest && <input type=\"hidden\" name=\"IsTest\" value=\"1\" />}\n\n            <PayButton disabled={isDisabled} provider=\"robokassa\" />\n        </form>\n    );\n}\n\nRobokassaButton.propTypes = propTypes;\nRobokassaButton.defaultProps = defaultProps;\n\nexport default RobokassaButton;\n","import PropTypes from 'prop-types';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { encode } from 'js-base64';\n\nimport { PayButton } from '../../../PayButton';\n\nconst CURRENCIES = ['USD', 'EUR', 'RUB', 'UAH', 'BYN', 'KZT'];\nconst PAYMENT_URL = 'https://www.liqpay.ua/api/3/checkout';\nconst ACTIONS = ['pay', 'hold', 'subscribe', 'paydonate', 'auth'];\nconst VERSION = 3;\n\nconst propTypes = {\n    publicKey: PropTypes.string.isRequired,\n    action: PropTypes.oneOf(ACTIONS),\n    amount: PropTypes.number.isRequired,\n    currency: PropTypes.oneOf(CURRENCIES).isRequired,\n    description: PropTypes.string.isRequired,\n    orderId: PropTypes.string.isRequired,\n    resultUrl: PropTypes.string,\n    serverUrl: PropTypes.string,\n    disabled: PropTypes.bool,\n    createSignature: PropTypes.func.isRequired,\n};\n\nconst defaultProps = {\n    action: ACTIONS[0],\n};\n\nfunction LiqpayButton({\n    publicKey,\n    action,\n    amount,\n    currency,\n    description,\n    orderId,\n    createSignature,\n    resultUrl,\n    serverUrl,\n    disabled: rawDisabled,\n}) {\n    const [disabled, setDisabled] = useState(true);\n    const [signature, setSignature] = useState('');\n    const isDisabled = disabled || rawDisabled;\n\n    const data = useMemo(() => {\n        const params = {\n            public_key: publicKey,\n            version: VERSION,\n            action,\n            amount,\n            currency,\n            description,\n            order_id: orderId,\n        };\n        if (resultUrl) params['result_url'] = resultUrl;\n        if (serverUrl) params['server_url'] = serverUrl;\n\n        return encode(JSON.stringify(params));\n    }, [publicKey, action, amount, currency, description, orderId]);\n\n    useEffect(() => {\n        async function request() {\n            if (!rawDisabled) {\n                setDisabled(true);\n\n                try {\n                    const json = await createSignature({ data });\n\n                    setSignature(json.signature);\n                } finally {\n                    setDisabled(false);\n                }\n            }\n        }\n\n        void request();\n    }, [data]);\n\n    return (\n        <form method=\"POST\" action={PAYMENT_URL}>\n            <input type=\"hidden\" name=\"data\" value={data} />\n            <input type=\"hidden\" name=\"signature\" value={signature} />\n\n            <PayButton disabled={isDisabled} provider=\"liqpay\" />\n        </form>\n    );\n}\n\nLiqpayButton.propTypes = propTypes;\nLiqpayButton.defaultProps = defaultProps;\n\nexport default LiqpayButton;\n","import { FiChevronsRight, FiTruck } from 'react-icons/fi';\nimport { FaMoneyBillAlt, FaPaypal, FaStripe } from 'react-icons/fa';\n\nimport { CashOnDeliveryPayment } from './CashOnDeliveryPayment';\nimport { StripePayment } from './StripePayment';\nimport { PayPalPayment } from './PayPalPayment';\nimport { WayforpayPayment } from './WayforpayPayment';\nimport { RobokassaPayment } from './RobokassaPayment';\nimport { LiqpayPayment } from './LiqpayPayment';\nimport { OtherPayment } from './OtherPayment';\n\nexport const PAYMENT_PROVIDERS = [\n    { provider: 'cod', icon: FiTruck },\n    { provider: 'paypal', icon: FaPaypal },\n    { provider: 'stripe', icon: FaStripe },\n    { provider: 'wayforpay', icon: FaMoneyBillAlt },\n    // { provider: 'robokassa', icon: FaMoneyBillAlt },\n    { provider: 'liqpay', icon: FiChevronsRight },\n    // { provider: 'other', icon: FaMoneyBillAlt },\n];\n\nexport const PAYMENT_PROVIDER_RENDERERS = {\n    cod: CashOnDeliveryPayment,\n    stripe: StripePayment,\n    paypal: PayPalPayment,\n    wayforpay: WayforpayPayment,\n    robokassa: RobokassaPayment,\n    liqpay: LiqpayPayment,\n    other: OtherPayment,\n};\n","import PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\n\nimport { __t } from '@mssgme/shared';\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { useModalThemes } from '../../../hooks';\nimport { ThemedButton } from '../../../UI';\n\nconst propTypes = {\n    order: LandingsPropTypes.order.isRequired,\n    onPay: PropTypes.func.isRequired,\n    disabled: PropTypes.bool,\n};\n\nexport function CashOnDeliveryPayment({ disabled, onPay }) {\n    const { contentStyle } = useModalThemes();\n\n    const handleOrder = useCallback(() => onPay('cod'), [onPay]);\n\n    return (\n        <ThemedButton fullWidth theme={contentStyle} disabled={disabled} onClick={handleOrder}>\n            {__t('make_order')}\n        </ThemedButton>\n    );\n}\n\nCashOnDeliveryPayment.propTypes = propTypes;\n","import PropTypes from 'prop-types';\nimport React, { useMemo } from 'react';\nimport { Elements } from '@stripe/react-stripe-js';\nimport { loadStripe } from '@stripe/stripe-js/pure';\nimport { useToggle } from 'react-use';\n\nimport { __t, PAYMENT_PROVIDERS } from '@mssgme/shared';\nimport { useModalThemes, usePaymentConfigs } from '../../../hooks';\nimport { ThemedButton, ThemedModal } from '../../../UI';\nimport StripeCheckoutForm from '../../StripeCheckoutForm';\n\nconst propTypes = {\n    order: PropTypes.object.isRequired,\n    onPay: PropTypes.func.isRequired,\n    disabled: PropTypes.bool,\n};\n\nexport function StripePayment({ order, disabled, onPay }) {\n    const { icon: Icon, label } = PAYMENT_PROVIDERS.stripe;\n    const { payments, isSingularOnline } = usePaymentConfigs();\n    const { contentStyle } = useModalThemes();\n    const [isModal, toggleModal] = useToggle(false);\n    const stripePromise = useMemo(() => loadStripe(payments.stripe.publicKey), [payments.stripe.publicKey]);\n\n    const elements = (\n        <Elements stripe={stripePromise}>\n            <StripeCheckoutForm orderId={order._id} disabled={disabled} onPay={onPay} />\n        </Elements>\n    );\n\n    if (isSingularOnline) {\n        return elements;\n    }\n\n    return (\n        <ThemedButton\n            fullWidth\n            beforeIcon={<Icon size={24} />}\n            theme={contentStyle}\n            disabled={disabled}\n            onClick={toggleModal}\n            contentAlignLeft\n        >\n            {__t('payWith', { provider: label })}\n\n            {isModal && (\n                <ThemedModal noop compact overlay padding title={label} onClose={toggleModal}>\n                    {elements}\n                </ThemedModal>\n            )}\n        </ThemedButton>\n    );\n}\n\nStripePayment.propTypes = propTypes;\n","import PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\nimport { PayPalButtons, PayPalScriptProvider } from '@paypal/react-paypal-js';\n\nimport { __t, PAYMENT_PROVIDERS } from '@mssgme/shared';\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { ThemedButton } from '../../../UI';\nimport { useCRMData, useModalThemes } from '../../../hooks';\n\n// paypal buttons docs: https://paypal.github.io/react-paypal-js\n\nimport styles from './PayPalPayment.scss';\n\nconst propTypes = {\n    order: LandingsPropTypes.order.isRequired,\n    onPay: PropTypes.func.isRequired,\n    disabled: PropTypes.bool,\n};\n\nexport function PayPalPayment({\n    order: {\n        total,\n        items,\n        contactInfo: { firstName, lastName },\n    },\n    disabled,\n    onPay,\n}) {\n    const { icon: Icon, label, supported_currencies } = PAYMENT_PROVIDERS.paypal;\n    const { payments } = useCRMData();\n    const { contentStyle } = useModalThemes();\n    const isSupportedCurrency = supported_currencies.includes(total.currency);\n\n    const createOrder = useCallback(\n        (data, actions) =>\n            actions.order.create({\n                purchase_units: [\n                    {\n                        amount: {\n                            currency_code: total.currency,\n                            value: total.amount,\n                            breakdown: {\n                                item_total: {\n                                    currency_code: total.currency,\n                                    value: total.amount,\n                                },\n                            },\n                        },\n                        payer: {\n                            name: {\n                                given_name: firstName,\n                                surname: lastName,\n                            },\n                        },\n                        items: items.map(({ name, price, quantity }) => ({\n                            name,\n                            unit_amount: {\n                                currency_code: price.currency,\n                                value: price.amount,\n                            },\n                            quantity,\n                        })),\n                    },\n                ],\n            }),\n        [total]\n    );\n\n    const onApprove = useCallback(\n        async (data, actions) => {\n            const details = await actions.order.capture();\n            await onPay('paypal', details);\n        },\n        [onPay]\n    );\n\n    return (\n        <div className={styles.root}>\n            <ThemedButton\n                fullWidth\n                beforeIcon={<Icon size={24} />}\n                theme={contentStyle}\n                disabled={disabled || !isSupportedCurrency}\n                className={styles.overlapButton}\n                contentAlignLeft\n            >\n                {__t('payWith', { provider: label })}\n            </ThemedButton>\n\n            {isSupportedCurrency && (\n                <PayPalScriptProvider options={{ 'client-id': payments.paypal.clientId, currency: total.currency }}>\n                    <PayPalButtons\n                        style={{ layout: 'horizontal', tagline: false }}\n                        disabled={disabled}\n                        createOrder={createOrder}\n                        onApprove={onApprove}\n                    />\n                </PayPalScriptProvider>\n            )}\n        </div>\n    );\n}\n\nPayPalPayment.propTypes = propTypes;\n","import PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\n\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { useCRMData, useFrontAPI } from '../../../hooks';\nimport RobokassaButton from './Buttons/RobokassaButton';\n\nconst propTypes = {\n    order: LandingsPropTypes.order.isRequired,\n    disabled: PropTypes.bool,\n};\n\nexport function RobokassaPayment({ order, disabled }) {\n    const api = useFrontAPI();\n    const {\n        payments: {\n            robokassa: { merchantLogin, test: isTest },\n        },\n    } = useCRMData();\n    const createSignature = useCallback(\n        (payload) => api.orders.signatures.createRobokassaSignature({ orderId: order._id, payload }),\n        [order._id]\n    );\n\n    return (\n        <RobokassaButton\n            merchantLogin={merchantLogin}\n            outSum={order.total.amount}\n            outSumCurrency={order.total.currency}\n            invId={order._id}\n            createSignature={createSignature}\n            disabled={disabled}\n            isTest={isTest}\n        />\n    );\n}\n\nRobokassaPayment.propTypes = propTypes;\n","import PropTypes from 'prop-types';\nimport React, { useCallback, useMemo } from 'react';\n\nimport { __t } from '@mssgme/shared';\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { useCRMData, useFrontAPI, BACKEND_ENDPOINTS, useWebsiteData } from '../../../hooks';\nimport LiqpayButton from './Buttons/LiqpayButton';\n\nconst propTypes = {\n    order: LandingsPropTypes.order.isRequired,\n    disabled: PropTypes.bool,\n};\n\nexport function LiqpayPayment({ order, disabled }) {\n    const api = useFrontAPI();\n    const orderReference = `${order._id}_uniq${Math.floor(Math.random() * 100000)}`;\n    const { payments } = useCRMData();\n    const { finalUrl } = useWebsiteData();\n    const description = `${__t('payment_for_order')}${order._id}:\\n\\n${order.items\n        .map(\n            (product, index) =>\n                `${index + 1}. ${product.name} ${product.quantity}x${product.price.amount}${product.price.currency}\\n`\n        )\n        .join('')}\\n\\n${finalUrl}`;\n    const { successUrl, serverUrl } = useMemo(\n        () => ({\n            successUrl: document.location.href,\n            serverUrl: BACKEND_ENDPOINTS.getLiqPayCallback(order),\n        }),\n        [order]\n    );\n\n    const createSignature = useCallback(\n        (payload) => api.orders.signatures.createLiqpaySignature({ orderId: order._id, payload }),\n        [order._id]\n    );\n\n    return (\n        <LiqpayButton\n            publicKey={payments.liqpay.publicKey}\n            amount={order.total.amount}\n            currency={order.total.currency}\n            orderId={orderReference}\n            description={description}\n            createSignature={createSignature}\n            resultUrl={successUrl}\n            serverUrl={serverUrl}\n            disabled={disabled}\n        />\n    );\n}\n\nLiqpayPayment.propTypes = propTypes;\n","import PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\nimport { useToggle } from 'react-use';\n\nimport { __t } from '@mssgme/shared';\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { useCRMData, useModalThemes } from '../../../hooks';\nimport { ThemedButton, ThemedModal } from '../../../UI';\n\nconst propTypes = {\n    order: LandingsPropTypes.order.isRequired,\n    onPay: PropTypes.func.isRequired,\n    disabled: PropTypes.bool,\n};\n\nexport function OtherPayment({ order, disabled, onPay }) {\n    const { payments } = useCRMData();\n    const { contentStyle } = useModalThemes();\n    const [isModal, toggleModal] = useToggle();\n\n    const handleOrder = useCallback(() => onPay('other'), [onPay]);\n    const handleModal = useCallback(() => {\n        if (payments.other.instructions) {\n            toggleModal(true);\n        } else {\n            handleOrder();\n        }\n    }, [payments.other.instructions, toggleModal]);\n\n    return (\n        <div>\n            <ThemedButton fullWidth theme={contentStyle} disabled={disabled} onClick={handleModal}>\n                {__t('make_order')}\n            </ThemedButton>\n\n            {isModal && (\n                <ThemedModal noop compact overlay padding title={__t('payments_instructions')} onClose={toggleModal}>\n                    {(handleClose) => (\n                        <div>\n                            <div style={{ whiteSpace: 'pre-wrap' }}>{payments.other.instructions}</div>\n\n                            <ThemedButton fullWidth theme={contentStyle} disabled={disabled} onClick={handleClose}>\n                                {__t('make_order')}\n                            </ThemedButton>\n                        </div>\n                    )}\n                </ThemedModal>\n            )}\n        </div>\n    );\n}\n\nOtherPayment.propTypes = propTypes;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_31v2e_-j\",\"pane\":\"_3kogH2CO\",\"products\":\"_2OMwWxnQ\",\"messengers\":\"_2H0GXi2n\",\"sectionHeading\":\"b6TQL0Qx\",\"buttons\":\"_10pWsvHs\",\"paymentButtons\":\"_36syB53y\"};","import PropTypes from 'prop-types';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useAsync, useAsyncFn, useToggle } from 'react-use';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport cn from 'classnames';\n\nimport { __t, MessengersBlockKind } from '@mssgme/shared';\nimport { NotFoundError } from '@mssgme/api-client';\nimport { useBooleanHandler, useNavigationUtils } from '@mssgme/hooks';\nimport {\n    handlesPaymentsStatus,\n    useCRMData,\n    useFrontAPI,\n    useModalThemes,\n    usePageTheme,\n    usePaymentConfigs,\n    useRenderer,\n} from '../../hooks';\nimport { ThemedButton, ThemedModal } from '../../UI';\nimport { PAYMENT_PROVIDER_RENDERERS } from '../OrderPage';\n\nimport styles from './UserOrderPage.scss';\n\nUserOrderPage.propTypes = {\n    orderId: PropTypes.string.isRequired,\n};\n\nexport function UserOrderPage({ orderId }) {\n    const api = useFrontAPI();\n    const payments = usePaymentConfigs();\n    const renderBlock = useRenderer();\n    const { generateUrl } = useNavigationUtils();\n    const { contacts } = useCRMData();\n    const { theme } = usePageTheme();\n    const { contentStyle } = useModalThemes();\n    const [order, setOrder] = useState(null);\n    const [orderLoadCount, setOrderLoadCount] = useState(0);\n    const [isPayNowModal, togglePayNowModal] = useToggle(false);\n    const [isShowingCancelPrompt, showCancelPrompt, hideCancelPrompt] = useBooleanHandler();\n\n    const { loading: orderLoading, error, value: loadedOrder } = useAsync(\n        () => api.orders.show({ orderId, query: { complete: true } }),\n        [orderId, orderLoadCount]\n    );\n    const messengers = useMemo(\n        () => (contacts.messengers.length ? [{ kind: MessengersBlockKind, messengers: contacts.messengers }] : []),\n        [contacts.messengers]\n    );\n    const { immediate, online } = useMemo(() => {\n        const mapper = ([provider]) => [provider, PAYMENT_PROVIDER_RENDERERS[provider]];\n\n        return {\n            immediate: payments.immediate.map(mapper),\n            online: payments.online.map(mapper),\n        };\n    }, [payments]);\n    const [{ loading: finalizeLoading }, handlePay] = useAsyncFn(\n        async (paymentMethod) => {\n            await api.orders.finalize({ orderId, payload: { paymentMethod } });\n            togglePayNowModal();\n            setOrderLoadCount((old) => old + 1);\n        },\n        [orderId]\n    );\n    const [{ loading: cancelLoading }, handleCancelOrder] = useAsyncFn(async () => {\n        await api.orders.cancel({ orderId });\n        hideCancelPrompt();\n        setOrderLoadCount((old) => old + 1);\n    }, [orderId]);\n\n    useEffect(() => {\n        if (loadedOrder) {\n            setOrder(loadedOrder);\n        }\n    }, [loadedOrder]);\n\n    if (!order || !order.finalized) {\n        return null;\n    }\n\n    const loading = finalizeLoading || orderLoading || cancelLoading;\n    const isJustOneOnlinePaymentMethod = !immediate.length && online.length === 1;\n    const onlineElements = online.map(\n        ([key, Renderer]) => order && <Renderer key={key} order={order} disabled={loading} onPay={handlePay} />\n    );\n\n    return (\n        <ThemedModal\n            overlay\n            compact\n            padding\n            title={`${__t('order_term')} #${order.feedback.order}`}\n            onClose={generateUrl('..')}\n        >\n            <div className={styles.root}>\n                {error ? (\n                    <div>{NotFoundError.is(error) ? __t('order_not_found') : error.message}</div>\n                ) : (\n                    <div>\n                        <div className={styles.pane} style={theme.blocks.features}>\n                            <div>\n                                <div>{__t('order_status')}</div>\n                                <div>{__t(`order_status_${order.feedback.status}`)}</div>\n                            </div>\n                            {handlesPaymentsStatus(order.paymentMethod) && (\n                                <div>\n                                    <div>{__t('payment_status')}</div>\n                                    <div>{__t(`payment_status_${order.status}`)}</div>\n                                </div>\n                            )}\n                        </div>\n                        <h3 className={styles.sectionHeading}>{__t('your_contacts')}</h3>\n                        <div className={styles.pane} style={theme.blocks.features}>\n                            <div>\n                                <div>{__t('name')}</div>\n                                <div>\n                                    {order.contactInfo.lastName} {order.contactInfo.firstName}\n                                </div>\n                            </div>\n                            <div>\n                                <div>{__t('phone')}</div>\n                                <div>{order.contactInfo.phoneNumber}</div>\n                            </div>\n                            {order.shippingAddress && (\n                                <div>\n                                    <div>{__t('shipping')}</div>\n                                    <div>\n                                        {[\n                                            order.shippingAddress.city,\n                                            order.shippingAddress.state,\n                                            order.shippingAddress.address,\n                                            order.shippingAddress.postalCode,\n                                        ]\n                                            .filter(Boolean)\n                                            .join(', ')}\n                                    </div>\n                                </div>\n                            )}\n                            {order.contactInfo.comment && (\n                                <div>\n                                    <div>{__t('comment')}</div>\n                                    <div>{order.contactInfo.comment}</div>\n                                </div>\n                            )}\n                        </div>\n                        <div className={styles.sectionHeading}>{__t('order_content')}</div>\n                        <div className={cn(styles.pane, styles.products)} style={theme.blocks.features}>\n                            {order.items.map((product, index) => (\n                                <div key={index}>\n                                    <div>{product.name}</div>\n                                    <div>\n                                        {product.quantity}x{product.price.amount} {product.price.currency}\n                                    </div>\n                                </div>\n                            ))}\n                            <div>\n                                <div>{__t('order_summary')}</div>\n                                <div>\n                                    {order.total.amount} {order.total.currency}\n                                </div>\n                            </div>\n                        </div>\n\n                        {messengers.length > 0 && (\n                            <>\n                                <h3 className={styles.sectionHeading}>{__t('store_contacts')}</h3>\n                                <div className={cn(styles.pane, styles.messengers)} style={theme.blocks.features}>\n                                    {messengers.map(renderBlock)}\n                                </div>\n                            </>\n                        )}\n\n                        <AnimatePresence>\n                            {order.status === 'failed' && order.feedback.status !== 'rejected' && (\n                                <motion.div\n                                    key=\"order-actions\"\n                                    className={styles.buttons}\n                                    exit={{ opacity: 0, height: 0, marginTop: '0px' }}\n                                >\n                                    {isJustOneOnlinePaymentMethod ? (\n                                        onlineElements\n                                    ) : (\n                                        <ThemedButton theme={contentStyle} onClick={togglePayNowModal}>\n                                            {__t('pay_order')}\n                                        </ThemedButton>\n                                    )}\n\n                                    <ThemedButton theme={contentStyle} contour onClick={showCancelPrompt}>\n                                        {__t('cancel_order')}\n                                    </ThemedButton>\n                                </motion.div>\n                            )}\n\n                            {!isJustOneOnlinePaymentMethod && isPayNowModal && (\n                                <ThemedModal\n                                    key=\"online-payment-options\"\n                                    overlay\n                                    compact\n                                    padding\n                                    title={__t('choose_payment_method')}\n                                    onClose={togglePayNowModal}\n                                >\n                                    <div className={styles.paymentButtons}>{onlineElements}</div>\n                                </ThemedModal>\n                            )}\n\n                            {isShowingCancelPrompt && (\n                                <ThemedModal\n                                    key=\"order-cancellation\"\n                                    overlay\n                                    compact\n                                    padding\n                                    title={__t('order_cancellation')}\n                                    onClose={hideCancelPrompt}\n                                >\n                                    <div>\n                                        <div style={{ textAlign: 'center', marginBottom: 16 }}>\n                                            {__t('order_cancellation_prompt')}\n                                        </div>\n\n                                        <ThemedButton\n                                            theme={contentStyle}\n                                            onClick={handleCancelOrder}\n                                            disabled={loading}\n                                        >\n                                            {__t('order_cancellation_prompt_button')}\n                                        </ThemedButton>\n                                    </div>\n                                </ThemedModal>\n                            )}\n                        </AnimatePresence>\n                    </div>\n                )}\n            </div>\n        </ThemedModal>\n    );\n}\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction ShoppingBagIcon(props, svgRef) {\n    return (\n        <IconBase fill=\"none\" viewBox=\"0 0 24 24\" ref={svgRef} {...props}>\n            <path\n                d=\"M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4H6zM3 6h18M16 10a4 4 0 11-8 0\"\n                stroke=\"currentColor\"\n                strokeWidth={2}\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(ShoppingBagIcon);\nexport default ForwardRef;\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction MapPinIcon(props, svgRef) {\n    return (\n        <IconBase fill=\"none\" viewBox=\"0 0 24 24\" ref={svgRef} {...props}>\n            <path\n                d=\"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 1118 0z\"\n                stroke=\"currentColor\"\n                strokeWidth={2}\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n            <path\n                d=\"M12 13a3 3 0 100-6 3 3 0 000 6z\"\n                stroke=\"currentColor\"\n                strokeWidth={2}\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(MapPinIcon);\nexport default ForwardRef;\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction CreditCardIcon(props, svgRef) {\n    return (\n        <IconBase fill=\"none\" viewBox=\"0 0 24 24\" ref={svgRef} {...props}>\n            <path\n                d=\"M21 4H3a2 2 0 00-2 2v12a2 2 0 002 2h18a2 2 0 002-2V6a2 2 0 00-2-2zM1 10h22\"\n                stroke=\"currentColor\"\n                strokeWidth={2}\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(CreditCardIcon);\nexport default ForwardRef;\n","import { useMemo } from 'react';\n\nimport { usePageTheme } from './useWebsiteTheme';\n\nexport const usePageColors = (styles) => {\n    const { theme } = usePageTheme();\n\n    return useMemo(() => {\n        const backgroundColor = styles && styles.backgroundColor;\n        const color = styles && styles.color;\n\n        return backgroundColor && color\n            ? styles\n            : {\n                backgroundColor: backgroundColor || theme.colors.background,\n                color: color || theme.colors.text,\n            };\n    }, [styles, theme.colors]);\n};\n","import { createContext } from 'react';\n\nconst StepContext = createContext(1);\n\nexport default StepContext;\n","import { useCallback, useContext } from 'react';\nimport StepContext from './StepContext';\n\nconst getPrevStep = (current, first) => Math.max(first, current - 1);\nconst getNextStep = (current, last) => Math.min(last, current + 1);\n\nfunction useStep() {\n    const { currentStep, setCurrentStep, steps } = useContext(StepContext);\n    const firstStep = 1;\n    const lastStep = steps.length;\n    const isFirstStep = currentStep === firstStep;\n    const isLastStep = currentStep === lastStep;\n    const nextStep = getNextStep(currentStep, lastStep);\n    const previousStep = getPrevStep(currentStep, firstStep);\n    const gotoStep = useCallback(\n        (step) => {\n            if (step === currentStep) {\n                return;\n            }\n\n            if (step < firstStep || step > lastStep) {\n                return;\n            }\n\n            if (step > currentStep && !steps[step - 2]?.isDone) {\n                return;\n            }\n\n            setCurrentStep(step);\n        },\n        [currentStep, firstStep, lastStep, steps]\n    );\n    const gotoNextStep = useCallback(() => setCurrentStep((current) => getNextStep(current, lastStep)), [lastStep]);\n    const gotoPreviousStep = useCallback(() => setCurrentStep((current) => getPrevStep(current, firstStep)), [\n        firstStep,\n    ]);\n    const getStepName = (step) => steps[step - 1].name;\n\n    return {\n        currentStep,\n        getStepName,\n        gotoStep,\n        gotoNextStep,\n        gotoPreviousStep,\n        firstStep,\n        lastStep,\n        isFirstStep,\n        isLastStep,\n        nextStep,\n        previousStep,\n    };\n}\n\nexport default useStep;\n","// extracted by mini-css-extract-plugin\nexport default {\"nav\":\"x1-zVrJv\",\"step\":\"_3PZiK4o6\",\"current\":\"Yj9eeavT\",\"done\":\"_367MqCEn\",\"icon\":\"HYDBXOFi\",\"mark\":\"_2db9WuMK\",\"divider\":\"_3tkHM2Ph\"};","import classNames from 'classnames';\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\n\nimport useStep from './useStep';\n\nimport styles from './StepSwitch.scss';\n\nexport const StepIcon = ({ as: Tag = 'li', step: { number, isCurrent, isDone, icon: Icon }, style }) => {\n    const { gotoStep } = useStep();\n\n    const handleClick = useCallback(() => gotoStep(number), [gotoStep, number]);\n\n    return (\n        <Tag\n            className={classNames(styles.step, {\n                [styles.done]: isDone,\n                [styles.current]: isCurrent,\n            })}\n            style={isCurrent ? style.stepCurrent : style.step}\n            onClick={handleClick}\n        >\n            <div className={styles.icon}>{Icon ? <Icon size={20} /> : number}</div>\n\n            <div className={styles.mark}>{isDone && '✔'}</div>\n        </Tag>\n    );\n};\n\nStepIcon.propTypes = {\n    as: PropTypes.elementType,\n    step: PropTypes.shape({\n        number: PropTypes.number.isRequired,\n        name: PropTypes.string.isRequired,\n        icon: PropTypes.elementType,\n        isCurrent: PropTypes.bool,\n        isDone: PropTypes.bool,\n    }).isRequired,\n    style: PropTypes.shape({\n        step: PropTypes.object,\n        stepCurrent: PropTypes.object,\n    }).isRequired,\n};\n","import React, { useState, Fragment, useMemo, useEffect } from 'react';\n\nimport { usePageColors } from '../../hooks';\nimport { StepIcon } from './StepIcon';\nimport StepContext from './StepContext';\n\nimport styles from './StepSwitch.scss';\n\nfunction StepSwitch({ children }) {\n    const [currentStep, setCurrentStep] = useState(1);\n    const [steps, setSteps] = useState(() =>\n        React.Children.toArray(children).map((child, index) => {\n            const number = index + 1;\n            return {\n                number,\n                name: child.props.name,\n                icon: child.props.icon,\n                child,\n                isDone: number < currentStep,\n                isCurrent: currentStep === number,\n            };\n        })\n    );\n    const colors = usePageColors();\n    const style = useMemo(\n        () => ({\n            divider: { backgroundColor: colors.color },\n            step: { backgroundColor: colors.backgroundColor, borderColor: colors.backgroundColor, color: colors.color },\n            stepCurrent: {\n                backgroundColor: colors.color,\n                borderColor: colors.color,\n                color: colors.backgroundColor,\n            },\n        }),\n        [colors]\n    );\n\n    useEffect(() => {\n        setSteps((old) =>\n            old.map((step) => ({\n                ...step,\n                isCurrent: step.number === currentStep,\n                isDone: step.isDone || currentStep > step.number,\n            }))\n        );\n    }, [currentStep]);\n\n    const content = steps.find((step) => step.isCurrent).child;\n\n    return (\n        <StepContext.Provider value={{ currentStep, setCurrentStep, steps }}>\n            <div>\n                <ul className={styles.nav}>\n                    {steps.map((step) => (\n                        <Fragment key={step.number}>\n                            {step.number !== 1 && <li className={styles.divider} style={style.divider} />}\n\n                            <StepIcon style={style} step={step} />\n                        </Fragment>\n                    ))}\n                </ul>\n                <div>{content}</div>\n            </div>\n        </StepContext.Provider>\n    );\n}\n\nexport default StepSwitch;\n","// extracted by mini-css-extract-plugin\nexport default {\"step\":\"v85lPsnD\",\"title\":\"_1YQ2PhE1\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Step.scss';\n\nconst propTypes = {\n    name: PropTypes.string,\n};\n\nfunction Step({ children, name }) {\n    return (\n        <div className={styles.step}>\n            {name && <h4 className={styles.title}>{name}</h4>}\n            {children}\n        </div>\n    );\n}\n\nStep.propTypes = propTypes;\n\nexport default Step;\n","import { formatPrice } from '@mssgme/shared';\n\nexport function printPrice(price) {\n    return formatPrice(price.amount, price.currency, navigator.language);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1cIEQnSo\",\"label\":\"_3O2qFkye\",\"value\":\"_1hQSAKZ3\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Row.scss';\n\nconst propTypes = {\n    label: PropTypes.string.isRequired,\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.element]).isRequired,\n};\n\nexport function Row({ label, value, ...rest }) {\n    return (\n        <div className={styles.root} {...rest}>\n            <div className={styles.label}>{label}</div>\n            <div className={styles.value}>{value}</div>\n        </div>\n    );\n}\n\nRow.propTypes = propTypes;\n","import { useEffect, useMemo, useState } from 'react';\nimport { useAsync } from 'react-use';\n\nimport { ServicesGridBlockKind } from '@mssgme/shared';\n\nconst PRODUCT_KIND = 'product';\nconst SERVICE_KIND = 'service';\nconst getIdsByKind = (items, kind) => items.filter((item) => item.kind === kind).map(({ productId }) => productId);\n\nexport const useOrderProducts = (website, order, retrieveFn) => {\n    const [resolved, setResolved] = useState(null);\n    const { pages = [] } = website;\n    const { value } = useAsync(async () => {\n        const productIds = getIdsByKind(order.items, PRODUCT_KIND);\n        const serviceIds = getIdsByKind(order.items, SERVICE_KIND);\n        const products = [];\n        const services = [];\n\n        if (productIds.length && retrieveFn) {\n            await Promise.all(\n                productIds.map(async (productId) => {\n                    try {\n                        const product = await retrieveFn({ productId });\n\n                        if (product) {\n                            products.push(product);\n                        }\n                    } catch (e) {\n                        // eslint-disable-next-line no-console\n                        console.warn(`Product with ID \"${productId}\" not found`);\n                    }\n                })\n            );\n        }\n\n        if (serviceIds.length) {\n            let total = serviceIds.length;\n            const missing = new Set(serviceIds);\n\n            for (const page of pages) {\n                for (const block of page.blocks) {\n                    if (block.kind !== ServicesGridBlockKind) {\n                        continue;\n                    }\n\n                    for (const item of block.items) {\n                        if (missing.has(item._id)) {\n                            services.push(item);\n                            total--;\n\n                            if (total <= 0) {\n                                break;\n                            }\n                        }\n                    }\n\n                    if (total <= 0) {\n                        break;\n                    }\n                }\n\n                if (total <= 0) {\n                    break;\n                }\n            }\n        }\n\n        return {\n            products,\n            services,\n        };\n    }, [order.items, retrieveFn]);\n\n    useEffect(() => {\n        if (value) {\n            setResolved(value);\n        }\n    }, [value]);\n\n    return useMemo(\n        () =>\n            order.items.map((item) => {\n                const product =\n                    resolved &&\n                    (item.kind === PRODUCT_KIND ? resolved.products : resolved.services).find(\n                        ({ _id }) => _id === item.productId\n                    );\n\n                return {\n                    ...item,\n                    product: product || { name: item.name, price: item.price, photoUrl: '' },\n                };\n            }),\n        [order.items, resolved]\n    );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"b04KnDG6\"};","import PropTypes from 'prop-types';\nimport React, { useMemo } from 'react';\n\nimport { cls } from '@mssgme/helpers';\nimport { usePageColors } from '../../hooks';\n\nimport styles from './Divider.scss';\n\nexport const Divider = ({ style: baseStyle, ...props }) => {\n    const colors = usePageColors();\n    const style = useMemo(() => ({ borderTop: `1px solid ${colors.color}`, ...baseStyle }));\n\n    return <div style={style} {...cls(styles.root, props)} />;\n};\n\nDivider.propTypes = {\n    style: PropTypes.object,\n};\n","import TinyColor2 from 'tinycolor2';\n\nexport default (rawColor, opacity) => {\n    const color = rawColor?.setAlpha ? rawColor : new TinyColor2(rawColor);\n\n    return color.setAlpha(opacity);\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"_1qCNo7At\",\"disabled\":\"_1lrfYPcp\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { cls } from '@mssgme/helpers';\nimport { getProps } from './PureButton';\n\nimport styles from './IconButton.scss';\n\nIconButton.propTypes = {\n    as: PropTypes.elementType,\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n};\n\nIconButton.defaultProps = {\n    as: 'button',\n};\n\nexport default function IconButton({ as: Component, children, disabled, ...rest }) {\n    return (\n        <Component {...cls([styles.button, disabled && styles.disabled], getProps(Component, rest))}>\n            {children}\n        </Component>\n    );\n}\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction CloseIcon(props, svgRef) {\n    return (\n        <IconBase fill=\"none\" viewBox=\"0 0 24 24\" ref={svgRef} {...props}>\n            <path\n                d=\"M18 6L6 18M6 6l12 12\"\n                stroke=\"currentColor\"\n                strokeWidth={2}\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(CloseIcon);\nexport default ForwardRef;\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction MinusIcon(props, svgRef) {\n    return (\n        <IconBase fill=\"none\" viewBox=\"0 0 24 24\" ref={svgRef} {...props}>\n            <path d=\"M5 12h14\" stroke=\"currentColor\" strokeWidth={2} strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(MinusIcon);\nexport default ForwardRef;\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction PlusIcon(props, svgRef) {\n    return (\n        <IconBase fill=\"none\" viewBox=\"0 0 24 24\" ref={svgRef} {...props}>\n            <path\n                d=\"M12 5v14M5 12h14\"\n                stroke=\"currentColor\"\n                strokeWidth={2}\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(PlusIcon);\nexport default ForwardRef;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2RnXDDix\",\"divider\":\"_3rFjyJjx\",\"knob\":\"_2uC3LJzf\",\"thumbnail\":\"_1b9pzxi4\",\"meta\":\"O-47leFn\",\"title\":\"_3gvv9TuI\",\"details\":\"_1k07gsKv\",\"row\":\"_1Uo9ybFj\",\"quantity\":\"_1wslwbIx\",\"quantityText\":\"_2jmlZhSO\",\"price\":\"_15UVvpdZ\",\"subTotal\":\"_1Xk7hugj\",\"list\":\"hnHwJyzE\"};","import PropTypes from 'prop-types';\nimport React, { useCallback, useMemo } from 'react';\nimport { IoMdImage } from 'react-icons/io';\n\nimport { getTransparentColor } from '@mssgme/helpers';\nimport { mediaUtils } from '@mssgme/shared';\nimport { IconButton, LandingsPropTypes, LazyImage } from '@mssgme/ui';\nimport { CloseIcon, MinusIcon, PlusIcon } from '@mssgme/icons';\nimport { usePageColors } from '../../hooks';\nimport { printPrice } from '../printPrice';\n\nimport styles from './OrderItem.scss';\n\nconst propTypes = {\n    item: LandingsPropTypes.orderItem.isRequired,\n    tag: PropTypes.oneOfType([PropTypes.string, PropTypes.elementType]),\n    onAdjust: PropTypes.func,\n};\n\nexport function OrderItem({ item, onAdjust, tag: Tag = 'li' }) {\n    const colors = usePageColors();\n    const style = useMemo(() => ({ borderColor: getTransparentColor(colors.color, 0.2) }));\n    const isEditable = !!onAdjust;\n    const isMultiEditable = item.quantity > 1 && isEditable;\n\n    const handleAdjust = useCallback(\n        (delta) => onAdjust([{ productId: item.productId, quantity: Math.max(0, item.quantity + delta) }]),\n        [item, onAdjust]\n    );\n    const handleAdd = useCallback(() => handleAdjust(+1), [handleAdjust]);\n    const handleSubtract = useCallback(() => handleAdjust(-1), [handleAdjust]);\n    const handleRemove = useCallback(() => handleAdjust(-Infinity), [handleAdjust]);\n\n    return (\n        <Tag className={styles.root}>\n            <div className={styles.divider} style={{ backgroundColor: colors.color }} />\n            <div className={styles.thumbnail}>\n                {item.product.photoUrl ? (\n                    <LazyImage src={mediaUtils.generateProductThumbnailUrl(item.product.photoUrl)} alt={item.name} />\n                ) : (\n                    <div className={styles.emptyPlaceholder}>\n                        <IoMdImage size={70} color=\"#fff\" />\n                    </div>\n                )}\n            </div>\n            <div className={styles.meta}>\n                <div className={styles.title} style={style}>\n                    <div>{item.name}</div>\n\n                    {isEditable && (\n                        <IconButton className={styles.knob} onClick={handleRemove}>\n                            <CloseIcon />\n                        </IconButton>\n                    )}\n                </div>\n                <div className={styles.details}>\n                    <div className={styles.row}>\n                        <div className={styles.quantity}>\n                            {isEditable && (\n                                <IconButton\n                                    className={styles.knob}\n                                    disabled={item.quantity <= 1}\n                                    onClick={handleSubtract}\n                                >\n                                    <MinusIcon size={16} />\n                                </IconButton>\n                            )}\n                            <div className={styles.quantityText} style={{ margin: isEditable ? '0 8px' : '0' }}>\n                                {!isEditable && 'x'}\n                                {item.quantity}\n                            </div>\n                            {isEditable && (\n                                <IconButton className={styles.knob} onClick={handleAdd}>\n                                    <PlusIcon size={16} />\n                                </IconButton>\n                            )}\n                        </div>\n                        <div className={styles.price} style={{ fontWeight: isMultiEditable ? 400 : 600 }}>\n                            {isMultiEditable && `${item.quantity} x `}\n                            {printPrice(isEditable ? item.price : item.subtotal)}\n                        </div>\n                    </div>\n\n                    {isMultiEditable && <div className={styles.subTotal}>= {printPrice(item.subtotal)}</div>}\n                </div>\n            </div>\n        </Tag>\n    );\n}\n\nOrderItem.propTypes = propTypes;\n","import PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\n\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { productsApi } from '@mssgme/lib';\nimport { useOrderProducts, useWebsiteData } from '../../hooks';\nimport { Divider } from '../Divider';\nimport { OrderItem } from './OrderItem';\n\nimport styles from './OrderItem.scss';\n\nconst propTypes = {\n    order: LandingsPropTypes.order.isRequired,\n    onAdjust: PropTypes.func,\n};\n\nexport function OrderItemsList({ order, onAdjust, ...rest }) {\n    const website = useWebsiteData();\n    const products = useOrderProducts(\n        website,\n        order,\n        useCallback(({ productId }) => productsApi.load(website.workspace, productId), [])\n    );\n\n    return (\n        <div {...rest}>\n            <Divider style={{ marginBottom: 0 }} />\n            <ul className={styles.list}>\n                {products.map((item) => (\n                    <OrderItem key={item._id} item={item} onAdjust={onAdjust} />\n                ))}\n            </ul>\n            <Divider style={{ marginTop: 0 }} />\n        </div>\n    );\n}\n\nOrderItemsList.propTypes = propTypes;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1ArzqQOx\",\"button\":\"_3jq98mXF\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { useAsyncFn } from 'react-use';\n\nimport { __t } from '@mssgme/shared';\nimport { useModalThemes } from '../../../hooks';\nimport { ThemedButton, useStep } from '../../../UI';\n\nimport styles from './StepsFooter.scss';\n\nStepsFooter.propTypes = {\n    next: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n    prev: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n    disabled: PropTypes.bool,\n};\n\nexport function StepsFooter({ prev, next, disabled }) {\n    const { contentStyle } = useModalThemes();\n    const { gotoPreviousStep, gotoNextStep } = useStep();\n\n    const [{ loading: isFetchingPrev }, handlePrev] = useAsyncFn(async () => {\n        if (typeof prev === 'function') {\n            return prev();\n        }\n\n        gotoPreviousStep();\n    }, [prev, gotoPreviousStep]);\n\n    const [{ loading: isFetchingNext }, handleNext] = useAsyncFn(async () => {\n        if (typeof next === 'function') {\n            return next();\n        }\n\n        gotoNextStep();\n    }, [next, gotoNextStep]);\n\n    return (\n        <footer className={styles.root}>\n            {prev && (\n                <ThemedButton\n                    className={styles.button}\n                    theme={contentStyle}\n                    fullWidth={!next}\n                    contour\n                    type=\"submit\"\n                    disabled={disabled}\n                    isFetching={isFetchingPrev}\n                    onClick={handlePrev}\n                >\n                    {__t('previous')}\n                </ThemedButton>\n            )}\n\n            {next && (\n                <ThemedButton\n                    className={styles.button}\n                    theme={contentStyle}\n                    fullWidth={!prev}\n                    type=\"submit\"\n                    disabled={disabled}\n                    isFetching={isFetchingNext}\n                    onClick={handleNext}\n                >\n                    {__t('next')}\n                </ThemedButton>\n            )}\n        </footer>\n    );\n}\n","import React, { useMemo } from 'react';\nimport { useAsyncFn } from 'react-use';\nimport { Redirect } from 'react-router-dom';\n\nimport { __t } from '@mssgme/shared';\nimport { useNavigationUtils } from '@mssgme/hooks';\nimport { useFrontAPI, useSavedOrders } from '../../../hooks';\nimport { printPrice } from '../../printPrice';\nimport { Row } from '../../Row';\nimport { OrderItemsList } from '../../OrderItem';\nimport { StepsFooter } from './StepsFooter';\n\nfunction AdjustingStep() {\n    const { generateUrl } = useNavigationUtils({ useMatchUrl: false });\n    const { currentOrder, removeOrderId } = useSavedOrders();\n    const backPath = useMemo(() => generateUrl('../..'), []);\n    const api = useFrontAPI();\n    const orderId = currentOrder?._id || null;\n\n    const [{ loading }, handleModifyItems] = useAsyncFn(\n        /** @param {{ productId: string, quantity: number }[]} items Order items */\n        async (items) => {\n            const order = await api.orders.modify({\n                orderId,\n                payload: {\n                    items,\n                },\n            });\n\n            if (!order.items.length) {\n                // todo: in the future, change the logic:\n                // after last order item count brought to 0 - disable 'Next' button, but do not remove the order yet;\n                // if the modal is closed, but order items count still 0 - delete the order entirely\n                removeOrderId(order._id);\n            }\n        },\n        [orderId]\n    );\n\n    if (!currentOrder) {\n        return orderId ? null : <Redirect to={backPath} />;\n    }\n\n    return (\n        <div>\n            <OrderItemsList order={currentOrder} onAdjust={currentOrder.finalized ? undefined : handleModifyItems} />\n            <Row label={__t('total_to_pay')} value={printPrice(currentOrder.total)} />\n\n            <StepsFooter next disabled={loading} />\n        </div>\n    );\n}\n\nexport default AdjustingStep;\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"_2Hf-7TD7\",\"label\":\"VD2M--7_\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useField } from 'formik';\n\nimport { __t } from '@mssgme/shared';\nimport { FormField } from '@mssgme/ui';\nimport { useInputTheme, useCustomInputTheme } from '../../../hooks';\n\nimport styles from './TextField.scss';\n\nconst propTypes = {\n    ...FormField.propTypes,\n    theme: PropTypes.object,\n    name: PropTypes.string.isRequired,\n};\n\nexport function TextField({ theme, ...props }) {\n    const defaultStyle = useInputTheme(theme);\n    const customStyle = useCustomInputTheme(theme);\n    const [field, meta] = useField(props);\n    const style = customStyle || defaultStyle;\n\n    return (\n        <FormField\n            shakeError\n            type=\"text\"\n            errors={meta.touched && meta.error}\n            label={props.label ? null : __t(props.name)}\n            style={style.input}\n            errorStyle={style.error}\n            inputClassName={styles.input}\n            labelClassName={styles.label}\n            {...field}\n            {...props}\n        />\n    );\n}\n\nTextField.propTypes = propTypes;\n","import { ValidationError } from '@mssgme/api-client';\n\nfunction captureSubmitError(fn) {\n    return async (values, helpers) => {\n        try {\n            await fn(values, helpers);\n        } catch (err) {\n            if (ValidationError.is(err)) {\n                for (let fieldName in err.errors) {\n                    helpers.setFieldError(fieldName, err.errors[fieldName]);\n                }\n            } else {\n                throw err;\n            }\n        }\n    };\n}\n\nexport default captureSubmitError;\n","import { useCallback } from 'react';\n\nimport { useFrontAPI } from '../hooks';\nimport { useStep } from '../UI';\nimport captureSubmitError from './captureSubmitError';\n\nexport function useOrderSubmit(orderId) {\n    const { gotoNextStep } = useStep();\n    const api = useFrontAPI();\n\n    return useCallback(\n        captureSubmitError(async (payload) => {\n            await api.orders.update({ orderId, payload });\n\n            gotoNextStep();\n        }),\n        [orderId, gotoNextStep]\n    );\n}\n","import React, { useMemo } from 'react';\nimport { Form, Formik } from 'formik';\n\nimport { __t } from '@mssgme/shared';\nimport { useCRMData, useSavedOrders } from '../../../hooks';\nimport { TextField } from '../../../UI';\nimport { useOrderSubmit } from '../../useOrderSubmit';\nimport { StepsFooter } from './StepsFooter';\n\nconst INITIAL_SHIPPING_ADDRESS = {\n    city: '',\n    state: '',\n    address: '',\n    postalCode: '',\n};\n\nfunction ShippingAddressStep() {\n    const { form } = useCRMData();\n    const { currentOrder } = useSavedOrders();\n    const initialValues = useMemo(\n        () => ({ shippingAddress: currentOrder?.shippingAddress || INITIAL_SHIPPING_ADDRESS }),\n        [currentOrder?.shippingAddress]\n    );\n    const doSubmit = useOrderSubmit(currentOrder?._id);\n\n    if (!currentOrder) {\n        return null;\n    }\n\n    const requestCity = !form.optional?.city;\n    const requestState = !form.optional?.state;\n    const requestPostalCode = !form.optional?.postalCode;\n\n    return (\n        <Formik initialValues={initialValues} onSubmit={doSubmit}>\n            {({ isSubmitting, handleSubmit }) => (\n                <Form>\n                    {requestCity && (\n                        <TextField\n                            required\n                            name=\"shippingAddress.city\"\n                            placeholder={__t('shippingAddress.placeholder.city')}\n                        />\n                    )}\n                    {requestState && (\n                        <TextField\n                            required\n                            name=\"shippingAddress.state\"\n                            placeholder={__t('shippingAddress.placeholder.state')}\n                        />\n                    )}\n                    <TextField\n                        required\n                        name=\"shippingAddress.address\"\n                        placeholder={__t('shippingAddress.placeholder.address')}\n                    />\n                    {requestPostalCode && (\n                        <TextField\n                            required\n                            name=\"shippingAddress.postalCode\"\n                            placeholder={__t('shippingAddress.placeholder.postalCode')}\n                        />\n                    )}\n\n                    <StepsFooter prev next={handleSubmit} disabled={isSubmitting} />\n                </Form>\n            )}\n        </Formik>\n    );\n}\n\nexport default ShippingAddressStep;\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction CheckCircleIcon(props, svgRef) {\n    return (\n        <IconBase fill=\"none\" viewBox=\"0 0 24 24\" ref={svgRef} {...props}>\n            <path\n                d=\"M22 11.08V12a10 10 0 11-5.93-9.14\"\n                stroke=\"currentColor\"\n                strokeWidth={2}\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n            <path\n                d=\"M22 4L12 14.01l-3-3\"\n                stroke=\"currentColor\"\n                strokeWidth={2}\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(CheckCircleIcon);\nexport default ForwardRef;\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction CircleIcon(props, svgRef) {\n    return (\n        <IconBase fill=\"none\" viewBox=\"0 0 24 24\" ref={svgRef} {...props}>\n            <path\n                d=\"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z\"\n                stroke=\"currentColor\"\n                strokeWidth={2}\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(CircleIcon);\nexport default ForwardRef;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2Zz_7uBp\",\"content\":\"_35vU92sW\",\"check\":\"DPAI-gUE\",\"active\":\"_1cImWuaZ\",\"disabled\":\"_18RV2B3w\"};","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport { cls } from '@mssgme/helpers';\nimport { CheckCircleIcon, CircleIcon } from '@mssgme/icons';\n\nimport styles from './CheckableItem.scss';\n\nexport const CheckableItem = ({ active, disabled, size = 24, children, color, contentClass, ...rest }) => {\n    return (\n        <div {...cls([styles.root, active && styles.active, disabled && styles.disabled], rest)}>\n            <div className={cn(styles.content, contentClass)}>{children}</div>\n            <div className={styles.check}>\n                {active ? <CheckCircleIcon color={color} size={size} /> : <CircleIcon color={color} size={size} />}\n            </div>\n        </div>\n    );\n};\n\nCheckableItem.propTypes = {\n    active: PropTypes.bool,\n    disabled: PropTypes.bool,\n    size: PropTypes.number,\n    color: PropTypes.string,\n    contentClass: PropTypes.string,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3IlKY5pN\",\"groupLabel\":\"_3ilybRMG\",\"choice\":\"_3xuRcIYp\",\"active\":\"NqPPc9JS\",\"rounded\":\"_2zIR-Sum\",\"checkMark\":\"_17ClkL4Z\",\"icon\":\"_2TR7NHYG\",\"label\":\"_81Eg-8go\",\"grid\":\"_3U0Cg6LG\"};","import React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport { FiCheck } from 'react-icons/fi';\n\nimport styles from './styles.scss';\n\nexport default function ListInput({\n    options,\n    groups,\n    value,\n    toggle,\n    multiple,\n    grid,\n    containerClassName,\n    choiceClassName,\n    activeClassName,\n    groupLabelClassName,\n    fullWidthClassName,\n    renderOption,\n    style,\n    onChange,\n}) {\n    const isSelected = (selected) => {\n        return multiple ? value.includes(selected) : value === selected;\n    };\n    const handleClick = (selected, e) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        const add = toggle && isSelected(selected);\n\n        if (multiple) {\n            if (add) {\n                onChange(value.filter((item) => item !== selected));\n            } else {\n                onChange([...new Set([...value, selected])]);\n            }\n        } else {\n            if (add) {\n                onChange(undefined);\n            } else {\n                onChange(selected);\n            }\n        }\n    };\n\n    const grouped = useMemo(() => {\n        const result = new Map((groups || []).map((group) => [group.id, { ...group, options: [] }]));\n\n        if (!result.get('default')) {\n            result.set('default', { id: 'default', options: [], label: '' });\n        }\n\n        if (groups) {\n            for (const option of options) {\n                if (option.group) {\n                    const group = result.get(option.group);\n\n                    if (group) {\n                        group.options.push(option);\n                    } else {\n                        result.set(option.group, { id: 'default', options: [option], label: option.group });\n                    }\n                }\n            }\n\n            for (const group of [...result.values()]) {\n                if (!group.options.length) {\n                    result.delete(group.id);\n                }\n            }\n        }\n\n        return new Map(\n            [...result.entries()].sort(([, a], [, b]) => {\n                const indexA = Number.isInteger(a.index) ? a.index : a.id;\n                const indexB = Number.isInteger(b.index) ? b.index : b.id;\n\n                return indexB - indexA;\n            })\n        );\n    }, [groups]);\n\n    const renderOptions = (options) =>\n        options.map((option) => {\n            const active = isSelected(option.value);\n            const Icon = option.icon;\n            const content = (renderOption && renderOption({ option, active })) ||\n                (option.props && option.props.children) || (\n                <>\n                    {Icon && (\n                        <div className={styles.icon}>\n                            <Icon size={24} />\n                        </div>\n                    )}\n                    <div className={styles.label}>{(option.props && option.props.children) || option.label}</div>\n                    <div className={cn({ [styles.checkMark]: true, [styles.active]: active })}>\n                        <FiCheck size={24} />\n                    </div>\n                </>\n            );\n\n            return (\n                <div\n                    key={option.value || option.label}\n                    className={cn(\n                        styles.choice,\n                        active && styles.active,\n                        option.rounded && styles.rounded,\n                        choiceClassName,\n                        active && activeClassName,\n                        option.fullWidth && fullWidthClassName\n                    )}\n                    onClick={onChange && handleClick.bind(null, option.value)}\n                    {...option.props}\n                >\n                    {content}\n                </div>\n            );\n        });\n\n    if (grouped.size > 1) {\n        return (\n            <div style={style}>\n                {[...grouped.values()].map(({ id, label, options }) => (\n                    <div key={id}>\n                        <div className={cn(styles.groupLabel, groupLabelClassName)}>{label}</div>\n\n                        <div className={cn(styles.root, grid && styles.grid, containerClassName)}>\n                            {renderOptions(options)}\n                        </div>\n                    </div>\n                ))}\n            </div>\n        );\n    }\n\n    return (\n        <div className={cn(styles.root, grid && styles.grid, containerClassName)} style={style}>\n            {renderOptions(options)}\n        </div>\n    );\n}\n\nconst OptionValuePropType = PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.bool]);\n\nexport const OptionProps = {\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    group: PropTypes.string,\n    value: OptionValuePropType,\n    icon: PropTypes.any,\n    fullWidth: PropTypes.bool,\n};\nexport const OptionGroupProps = {\n    label: PropTypes.any,\n    id: PropTypes.string,\n    index: PropTypes.number,\n    values: PropTypes.arrayOf(OptionValuePropType).isRequired,\n    icon: PropTypes.any,\n};\n\nListInput.propTypes = {\n    value: PropTypes.oneOfType([OptionValuePropType, PropTypes.arrayOf(OptionValuePropType)]),\n    options: PropTypes.arrayOf(PropTypes.shape(OptionProps)).isRequired,\n    groups: PropTypes.arrayOf(PropTypes.shape(OptionGroupProps)),\n    toggle: PropTypes.bool,\n    grid: PropTypes.bool,\n    multiple: PropTypes.bool,\n    renderOption: PropTypes.func,\n    style: PropTypes.object,\n    onChange: PropTypes.func.isRequired,\n    containerClassName: PropTypes.string,\n    choiceClassName: PropTypes.string,\n    activeClassName: PropTypes.string,\n    groupLabelClassName: PropTypes.string,\n    fullWidthClassName: PropTypes.string,\n};\n\nListInput.defaultProps = {\n    value: null,\n    groups: null,\n    toggle: false,\n    multiple: false,\n    grid: false,\n    onChoiceRef: null,\n    renderOption: null,\n    containerClassName: '',\n    choiceClassName: '',\n    activeClassName: '',\n    groupLabelClassName: '',\n    fullWidthClassName: '',\n};\n\nListInput.styles = styles;\n","// extracted by mini-css-extract-plugin\nexport default {\"orBar\":\"DAph2hqD\",\"choices\":\"_2NW-Ib1C\",\"choice\":\"bSNToVUt\",\"choiceWrapper\":\"_25Ad_UsP\",\"choiceContent\":\"_2ZWUE4aU\",\"paymentButtons\":\"_10jXd67k\"};","import React, { useCallback, useMemo, useState } from 'react';\nimport { useAsyncFn, useToggle } from 'react-use';\nimport { useHistory } from 'react-router-dom';\nimport { AnimatePresence } from 'framer-motion';\n\nimport { __t } from '@mssgme/shared';\nimport { getContourColor } from '@mssgme/helpers';\nimport { CheckableItem, ListInput } from '@mssgme/ui';\nimport { ThemedModal } from '../../../UI';\nimport { useCoreContext, useFrontAPI, useModalThemes, usePaymentConfigs, useSavedOrders } from '../../../hooks';\nimport { printPrice } from '../../printPrice';\nimport { Row } from '../../Row';\nimport { OrderItemsList } from '../../OrderItem';\nimport { PAYMENT_PROVIDER_RENDERERS, PAYMENT_PROVIDERS } from '../Providers';\nimport { StepsFooter } from './StepsFooter';\n\nimport styles from './PaymentStep.scss';\n\nconst ONLINE_KEY = 'online';\n\nfunction PaymentStep() {\n    const history = useHistory();\n    const api = useFrontAPI();\n    const payments = usePaymentConfigs();\n    const { currentOrder, removeCurrentOrderId } = useSavedOrders();\n    const { router } = useCoreContext();\n    const { contentStyle } = useModalThemes();\n    const [isPayNowModal, togglePayNowModal] = useToggle(false);\n\n    const { immediate, online } = useMemo(() => {\n        const mapper = ([provider]) => [provider, PAYMENT_PROVIDER_RENDERERS[provider]];\n\n        return {\n            immediate: payments.immediate.map(mapper),\n            online: payments.online.map(mapper),\n        };\n    }, [payments]);\n    const hasOnlineMethods = !!online.length;\n    const hasImmediateMethods = !!immediate.length;\n    const isJustOneOnlinePaymentMethods = hasOnlineMethods && !hasImmediateMethods;\n\n    const [{ loading }, handlePay] = useAsyncFn(\n        async (paymentMethod) => {\n            await api.orders.finalize({ orderId: currentOrder._id, payload: { paymentMethod } });\n\n            togglePayNowModal();\n            removeCurrentOrderId();\n            history.push(router.orders.toStatus(currentOrder._id, 'paid'));\n        },\n        [router, currentOrder]\n    );\n\n    const [selected, setSelected] = useState(hasOnlineMethods ? ONLINE_KEY : immediate[0]?.[0]);\n\n    const optionStyles = useMemo(() => {\n        const { backgroundColor, color, border } = getContourColor(\n            contentStyle.backgroundColor,\n            contentStyle.buttonBackground,\n            contentStyle.buttonTextColor\n        );\n\n        return {\n            option: {\n                backgroundColor,\n                color,\n                border: `1px solid ${border}`,\n            },\n            active: {\n                backgroundColor: contentStyle.buttonBackground,\n                color: contentStyle.buttonTextColor,\n                border: `1px solid ${contentStyle.buttonBackground}`,\n            },\n        };\n    }, [contentStyle]);\n    const options = useMemo(\n        () =>\n            currentOrder &&\n            [\n                hasOnlineMethods && {\n                    value: ONLINE_KEY,\n                    label: __t('pay_now'),\n                    icon: (\n                        <div>\n                            {online.map(([provider]) => {\n                                const found = PAYMENT_PROVIDERS.find((i) => i.provider === provider);\n\n                                return found && <found.icon key={provider} />;\n                            })}\n                        </div>\n                    ),\n                },\n                ...immediate.map(([key]) => ({\n                    value: key,\n                    label: __t(`payments_${key}`),\n                })),\n            ].filter(Boolean),\n        [currentOrder, online, immediate]\n    );\n\n    const renderOption = useCallback(\n        ({ option, active }) => {\n            const style = active ? optionStyles.active : optionStyles.option;\n\n            return (\n                <CheckableItem\n                    className={styles.choiceWrapper}\n                    contentClass={styles.choiceContent}\n                    style={style}\n                    active={active}\n                    color={style.color}\n                >\n                    {option.label}\n                    {option.icon}\n                </CheckableItem>\n            );\n        },\n        [optionStyles]\n    );\n\n    const handleNext = useCallback(() => {\n        if (selected === ONLINE_KEY) {\n            togglePayNowModal(true);\n        } else {\n            void handlePay(selected);\n        }\n    }, [selected, handlePay]);\n\n    if (!currentOrder) {\n        return null;\n    }\n\n    const onlineElements = (\n        <div className={styles.paymentButtons}>\n            {online.map(([key, Renderer]) => (\n                <Renderer key={key} order={currentOrder} disabled={loading} onPay={handlePay} />\n            ))}\n        </div>\n    );\n\n    return (\n        <div>\n            <OrderItemsList order={currentOrder} />\n            <Row label={__t('total_to_pay')} value={printPrice(currentOrder.total)} style={{ marginBottom: 16 }} />\n\n            {isJustOneOnlinePaymentMethods ? (\n                onlineElements\n            ) : (\n                <div style={{ marginBottom: -8 }}>\n                    <ListInput\n                        containerClassName={styles.choices}\n                        choiceClassName={styles.choice}\n                        value={selected}\n                        options={options}\n                        renderOption={renderOption}\n                        onChange={setSelected}\n                    />\n\n                    {hasOnlineMethods && (\n                        <AnimatePresence>\n                            {isPayNowModal && (\n                                <ThemedModal\n                                    overlay\n                                    compact\n                                    padding\n                                    title={__t('choose_payment_method')}\n                                    onClose={togglePayNowModal}\n                                >\n                                    {onlineElements}\n                                </ThemedModal>\n                            )}\n                        </AnimatePresence>\n                    )}\n                </div>\n            )}\n\n            <StepsFooter prev next={!isJustOneOnlinePaymentMethods && handleNext} disabled={loading} />\n        </div>\n    );\n}\n\nexport default PaymentStep;\n","import React, { useMemo } from 'react';\nimport { Form, Formik } from 'formik';\n\nimport { __t } from '@mssgme/shared';\nimport { Textarea } from '@mssgme/ui';\nimport { useCRMData, useSavedOrders } from '../../../hooks';\nimport { TextField } from '../../../UI';\nimport { useOrderSubmit } from '../../useOrderSubmit';\nimport { StepsFooter } from './StepsFooter';\n\nconst INITIAL_CONTACT_INFO = {\n    firstName: '',\n    lastName: '',\n    phoneNumber: '',\n    comment: '',\n};\n\nfunction ContactInfoStep() {\n    const { form } = useCRMData();\n    const { currentOrder } = useSavedOrders();\n    const initialValues = useMemo(() => ({ contactInfo: currentOrder?.contactInfo || INITIAL_CONTACT_INFO }), [\n        currentOrder?.contactInfo,\n    ]);\n    const doSubmit = useOrderSubmit(currentOrder?._id);\n    const noLastName = !!form.optional?.lastName;\n\n    if (!currentOrder) {\n        return null;\n    }\n\n    return (\n        <Formik initialValues={initialValues} onSubmit={doSubmit}>\n            {({ isSubmitting, handleSubmit }) => (\n                <Form>\n                    <TextField\n                        required\n                        name=\"contactInfo.firstName\"\n                        label={noLastName ? __t('contactInfo.name') : __t('contactInfo.firstName')}\n                        placeholder={\n                            noLastName ? __t('contactInfo.placeholder.name') : __t('contactInfo.placeholder.firstName')\n                        }\n                    />\n                    {!noLastName && (\n                        <TextField\n                            required\n                            name=\"contactInfo.lastName\"\n                            placeholder={__t('contactInfo.placeholder.lastName')}\n                        />\n                    )}\n                    <TextField\n                        required\n                        name=\"contactInfo.phoneNumber\"\n                        placeholder={__t('contactInfo.placeholder.phoneNumber')}\n                    />\n                    <TextField\n                        component={Textarea}\n                        name=\"contactInfo.comment\"\n                        placeholder={__t('contactInfo.placeholder.comment')}\n                    />\n\n                    <StepsFooter prev next={handleSubmit} disabled={isSubmitting} />\n                </Form>\n            )}\n        </Formik>\n    );\n}\n\nexport default ContactInfoStep;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2Nkxdw-M\",\"error\":\"APzUyhGO\"};","import PropTypes from 'prop-types';\nimport React, { useMemo } from 'react';\nimport { useAsync } from 'react-use';\nimport { Redirect, useLocation } from 'react-router-dom';\nimport { MdContactPhone } from 'react-icons/md';\n\nimport { __t } from '@mssgme/shared';\nimport { MapPinIcon, CreditCardIcon, ShoppingBagIcon } from '@mssgme/icons';\nimport { NotFoundError } from '@mssgme/api-client';\nimport { Spinner } from '@mssgme/ui';\nimport { useCoreContext, useCRMData, useFrontAPI } from '../../hooks';\nimport { Step, StepSwitch, ThemedModal } from '../../UI';\nimport AdjustingStep from './Steps/AdjustingStep';\nimport ShippingAddressStep from './Steps/ShippingAddressStep';\nimport PaymentStep from './Steps/PaymentStep';\nimport ContactInfoStep from './Steps/ContactInfoStep';\n\nimport styles from './OrderPage.scss';\n\nOrderPage.propTypes = {\n    orderId: PropTypes.string.isRequired,\n};\n\nexport function OrderPage({ orderId }) {\n    const api = useFrontAPI();\n    const location = useLocation();\n    const { form } = useCRMData();\n    const { loading, error, value } = useAsync(() => api.orders.show({ orderId, query: { complete: true } }), [\n        orderId,\n    ]);\n    const { router } = useCoreContext();\n    const backPath = location.state?.backPath || router.toHome();\n\n    if (!value) {\n        return null;\n    }\n\n    if (value.finalized) {\n        return <Redirect to={router.orders.toStatus(orderId, value.status)} />;\n    }\n\n    return (\n        <ThemedModal overlay compact title={__t('checkout')} onClose={backPath}>\n            <div className={styles.root}>\n                {loading ? (\n                    <Spinner />\n                ) : error ? (\n                    <div className={styles.error}>\n                        {NotFoundError.is(error) ? __t('order_not_found') : error.message}\n                    </div>\n                ) : (\n                    <StepSwitch>\n                        <Step name={__t('order_adjusting')} icon={ShoppingBagIcon}>\n                            <AdjustingStep />\n                        </Step>\n                        <Step name={__t('order_contact_info')} icon={MdContactPhone}>\n                            <ContactInfoStep />\n                        </Step>\n                        {!!form.collectAddress && (\n                            <Step name={__t('order_shipping_address')} icon={MapPinIcon}>\n                                <ShippingAddressStep />\n                            </Step>\n                        )}\n                        <Step name={__t('order_payment')} icon={CreditCardIcon}>\n                            <PaymentStep />\n                        </Step>\n                    </StepSwitch>\n                )}\n            </div>\n        </ThemedModal>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_16xOxYXh\",\"icon\":\"BzF9ozYT\",\"title\":\"_3s9Zed-X\",\"subTitle\":\"_3FQsGQSI\",\"orderTitle\":\"_1NfpeMBe\"};","import PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { FaRegFrown, FaRegSmileBeam } from 'react-icons/fa';\n\nimport { __t } from '@mssgme/shared';\nimport { LandingsPropTypes, LinkBlank } from '@mssgme/ui';\nimport { useCoreContext, useCRMData, useModalThemes, useViewOrder } from '../hooks';\nimport { ThemedButton, ThemedModal } from '../UI';\n// import { OrderItemsList } from './OrderItem';\n\nimport styles from './PaymentStatusPage.scss';\n\nPaymentStatusPage.propTypes = {\n    orderId: PropTypes.string.isRequired,\n    status: LandingsPropTypes.orderStatus.isRequired,\n};\n\nfunction PaymentStatusPage({ orderId, status }) {\n    const history = useHistory();\n    const { router } = useCoreContext();\n    const { form } = useCRMData();\n    const { contentStyle } = useModalThemes();\n    const { order, error } = useViewOrder(orderId);\n    const resolvedStatus = status === 'pending' ? 'paid' : status;\n\n    const handleClose = useCallback(\n        (to) => {\n            if (to === 'toOrder') {\n                return history.push(router.userOrders.toOrder(orderId));\n            }\n\n            return history.push(router.toHome());\n        },\n        [router]\n    );\n\n    if (error) {\n        return (\n            <ThemedModal overlay compact showHeader={false} onClose={handleClose}>\n                <div className={styles.root}>\n                    <p>{__t('order_not_found')}</p>\n                </div>\n            </ThemedModal>\n        );\n    }\n\n    return (\n        <ThemedModal overlay compact showHeader={false} onClose={handleClose}>\n            {(onClose) => (\n                <div className={styles.root}>\n                    {resolvedStatus === 'failed' ? (\n                        <FaRegFrown size={60} className={styles.icon} />\n                    ) : (\n                        <FaRegSmileBeam size={60} className={styles.icon} />\n                    )}\n\n                    <h1 className={styles.title}>{__t(`payment_${resolvedStatus}`)}</h1>\n                    {resolvedStatus !== 'failed' && (\n                        <>\n                            <p className={styles.subTitle}>{form.successMessage || __t('payment_paid_subtitle')}</p>\n                            {form.successURL?.url && (\n                                <p className={styles.subTitle}>\n                                    <LinkBlank href={form.successURL.url}>\n                                        {form.successURL.title || form.successURL.url}\n                                    </LinkBlank>\n                                </p>\n                            )}\n                        </>\n                    )}\n\n                    {/*<h2 className={styles.orderTitle}>{__t('order_adjusting')}</h2>*/}\n                    {/*{order && <OrderItemsList order={order} />}*/}\n\n                    <ThemedButton\n                        fullWidth\n                        style={{ marginTop: 16 }}\n                        theme={contentStyle}\n                        onClick={() => onClose('toOrder')}\n                    >\n                        {__t('view_order')}\n                    </ThemedButton>\n                    <ThemedButton\n                        fullWidth\n                        style={{ marginTop: 8 }}\n                        contour\n                        theme={contentStyle}\n                        onClick={() => onClose('toHome')}\n                    >\n                        {__t('back_to_home')}\n                    </ThemedButton>\n                </div>\n            )}\n        </ThemedModal>\n    );\n}\n\nexport default PaymentStatusPage;\n","import PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\nimport { Route } from 'react-router-dom';\n\nexport const PassthroughRoute = ({ path, exact, component: Component, makeProps = (p) => p }) => {\n    const render = useCallback(\n        ({ match }) => {\n            const props = makeProps(match.params);\n\n            return props && <Component {...props} />;\n        },\n        [Component, makeProps]\n    );\n\n    return <Route exact={exact} path={path} render={render} />;\n};\n\nPassthroughRoute.propTypes = {\n    path: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]).isRequired,\n    exact: PropTypes.bool,\n    component: PropTypes.any.isRequired,\n    makeProps: PropTypes.func,\n};\n","import React, { useMemo } from 'react';\n\nimport { useWebsiteData } from '../../hooks';\nimport { CollectionView, ProductView } from '../../Product';\nimport { OrderPage, PaymentStatusPage, UserOrderPage, UserOrdersPage } from '../../Order';\nimport { PassthroughRoute } from '../PassthroughRoute';\n\nexport default function PageProductsRouting() {\n    const website = useWebsiteData();\n    const contexts = useMemo(\n        () => ({\n            product: ({ productSlug, collectionSlug }) => ({\n                productSlug,\n                collectionSlug,\n                workspaceId: website.workspace,\n                defaultCollectionId: website.defaultCollectionId,\n            }),\n            collection: ({ collectionSlug }) => {\n                const collection = collectionSlug\n                    && website.collections.find(({ slug }) => slug === collectionSlug.toLowerCase());\n\n                if (!collection) {\n                    return null;\n                }\n\n                return {\n                    workspaceId: website.workspace,\n                    websiteId: website._id,\n                    collection,\n                };\n            },\n        }),\n        [website.workspace, website.defaultCollectionId, website.collections]\n    );\n\n    return (\n        <>\n            <PassthroughRoute path=\"/c/:collectionSlug\" makeProps={contexts.collection} component={CollectionView} />\n\n            <PassthroughRoute\n                path={['/p/:productSlug', '/c/:collectionSlug/p/:productSlug']}\n                makeProps={contexts.product}\n                component={ProductView}\n            />\n\n            <PassthroughRoute path=\"/user-orders\" component={UserOrdersPage} />\n            <PassthroughRoute path=\"/user-orders/:orderId\" exact component={UserOrderPage} />\n            <PassthroughRoute\n                path={[\n                    '/orders/:orderId',\n                    '/p/:productSlug/orders/:orderId',\n                    '/c/:collectionSlug/p/:productSlug/orders/:orderId',\n                ]}\n                exact\n                component={OrderPage}\n            />\n            <PassthroughRoute path=\"/orders/:orderId/payment/:status\" component={PaymentStatusPage} />\n        </>\n    );\n}\n","module.exports = window.PLANS || {};\n","// extracted by mini-css-extract-plugin\nexport default {\"flex\":\"_13OHpFIB\",\"slide\":\"_1u67jLhO\",\"nonInteractive\":\"_3X7yDO_4\"};","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useMemo } from 'react';\n\nimport { Swiper as BaseSwiper, SwiperSlide } from 'swiper/react';\nimport SwiperCore, { Autoplay, EffectFade, EffectFlip, Pagination, Lazy, Navigation } from 'swiper';\n\nimport { cls } from '@mssgme/helpers';\nimport { renderNode } from '../../helpers';\n\nimport styles from './Swiper.scss';\n\n// todo: direct \"import 'swiper/swiper.scss'\" mangles the identifiers and :global can't be used due to sass bug\n//  should either update swiper (if styles import was changed in newer versions) or fix scss-build stack (downgrade?)\nrequire('swiper/swiper.scss');\nrequire('swiper/components/pagination/pagination.scss');\nrequire('swiper/components/effect-flip/effect-flip.scss');\nrequire('swiper/components/effect-fade/effect-fade.scss');\n\nSwiperCore.use([Pagination, Lazy, Navigation, Autoplay, EffectFade, EffectFlip]);\n\nexport function Swiper({\n    children,\n    flex,\n    perView = 1,\n    initialSlide = 0,\n    allowTouchMove = true,\n    interactive = true,\n    forcePerView,\n    slideClass,\n    pagination,\n    slideStyle,\n    ...rest\n}) {\n    const array = (Array.isArray(children) ? children : React.Children.toArray(children)).filter(Boolean);\n    const count = array.length;\n    const exceedsPerView = count > perView;\n    const showPagination = pagination !== false;\n    const hasPagination = exceedsPerView && showPagination;\n    const slidesPerView = forcePerView || exceedsPerView ? perView : count;\n    const paginationOptions = useMemo(() => {\n        if (!hasPagination) {\n            return false; // this will hide pagination AND disable swiping behavior\n        }\n\n        return showPagination\n            ? { clickable: true, ...pagination } // pagination + swiping enabled\n            : { el: null }; // this will hide pagination but preserve swiping behavior\n    }, [hasPagination, showPagination, pagination]);\n\n    return (\n        <BaseSwiper\n            key={`${exceedsPerView}-${showPagination}-${count}`}\n            observer\n            resizeObserver\n            spaceBetween={0}\n            slidesPerView={slidesPerView}\n            allowTouchMove={allowTouchMove && exceedsPerView}\n            initialSlide={initialSlide}\n            pagination={paginationOptions}\n            {...cls([styles.root, flex && styles.flex], rest)}\n        >\n            {array.map((child, index) => (\n                <SwiperSlide\n                    key={child.key}\n                    style={renderNode(slideStyle, index)}\n                    className={cn(styles.slide, !interactive && styles.nonInteractive, slideClass)}\n                >\n                    {child}\n                </SwiperSlide>\n            ))}\n        </BaseSwiper>\n    );\n}\n\nSwiper.propTypes = {\n    children: PropTypes.any.isRequired,\n    initialSlide: PropTypes.number,\n    perView: PropTypes.number,\n    forcePerView: PropTypes.bool,\n    interactive: PropTypes.bool,\n    allowTouchMove: PropTypes.bool,\n    flex: PropTypes.bool,\n    slideClass: PropTypes.string,\n    slideStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n    pagination: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n};\n","import { satisfies } from 'compare-versions';\nimport { memoize } from 'lodash';\n\n/**\n * @param {string} base Base version\n * @param {string} versionString Version comparison\n * @returns {bool} Comparison result from expression `base` `versionString`\n */\nexport default memoize(\n    (base, version) => {\n        // remove alpha/beta/rc portion, or version '1.0.0-alpha' would not satisfy constraint '>=1.0.0'\n        base = base.includes('-') ? base.split('-', 2)[0] : base;\n\n        return satisfies(base, version);\n    },\n    (base, versionString) => `${base}${versionString}`\n);\n"],"sourceRoot":""}