!function(e){function t(t){for(var n,r,s=t[0],i=t[1],c=t[2],u=0,m=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(l,r)&&l[r]&&m.push(l[r][0]),l[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(d&&d(t);m.length;)m.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,r=1;r<a.length;r++){var i=a[r];0!==l[i]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={5:0,4:0},l={5:0,4:0},o=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(e){var t=[];r[e]?t.push(r[e]):0!==r[e]&&{8:1,9:1,10:1,11:1,13:1,14:1}[e]&&t.push(r[e]=new Promise((function(t,a){for(var n=({0:"locales-en",1:"locales-ru",2:"locales-uk"}[e]||e)+"."+{0:"31d6cfe0d16ae931b73c",1:"31d6cfe0d16ae931b73c",2:"31d6cfe0d16ae931b73c",8:"c4f9d6c7ab1d64a39016",9:"3823bc4c5554a9e82c54",10:"7c0b553b8b9a5baae621",11:"77fc3f9044d1dc6d638f",12:"31d6cfe0d16ae931b73c",13:"b4cfd000ada41c8de6ae",14:"3a02315690d0bb0ea399",15:"31d6cfe0d16ae931b73c",16:"31d6cfe0d16ae931b73c",17:"31d6cfe0d16ae931b73c"}[e]+".css",l=s.p+n,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var c=(d=o[i]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(c===n||c===l))return t()}var u=document.getElementsByTagName("style");for(i=0;i<u.length;i++){var d;if((c=(d=u[i]).getAttribute("data-href"))===n||c===l)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var n=t&&t.target&&t.target.src||l,o=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete r[e],m.parentNode.removeChild(m),a(o)},m.href=l,document.getElementsByTagName("head")[0].appendChild(m)})).then((function(){r[e]=0})));var a=l[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise((function(t,n){a=l[e]=[t,n]}));t.push(a[2]=n);var o,i=document.createElement("script");i.charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.src=function(e){return s.p+""+({0:"locales-en",1:"locales-ru",2:"locales-uk"}[e]||e)+"."+{0:"e794c2f8c757441f752e",1:"890c4f6e72af48e8e5e4",2:"05a73e12ee7e7cdd95b3",8:"d19a26fecbdd36ffa7fa",9:"6c8aed4c3549e7752bae",10:"2e80f9127622f0c0ec45",11:"af80e6386a0049f6c35e",12:"916ccc99f953acb654c5",13:"11abba52dc2dd0e10c1d",14:"9f8cefcab7dc1d23211c",15:"c9443f660d070571c858",16:"dae2c545ca8b86da7adb",17:"26772d0dea54baedd489"}[e]+".js"}(e);var c=new Error;o=function(t){i.onerror=i.onload=null,clearTimeout(u);var a=l[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",c.name="ChunkLoadError",c.type=n,c.request=r,a[1](c)}l[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:i})}),12e4);i.onerror=i.onload=o,document.head.appendChild(i)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="https://cdn.jsdelivr.net/gh/mssgme/mssgme-static@v5.6.0-alpha.6/webapp/dist/",s.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var d=c;o.push([1,3,6]),a()}({"+18g":function(e,t,a){e.exports={root:"_1glRY0rF",groupLabel:"_16Wq4liu",choice:"_3fydW0kx",active:"_16ReI578",rounded:"_1QUYqB9k",checkMark:"_1t6UuA27",icon:"m3OjKhnQ",label:"_3T8US985",grid:"erYBT9L4"}},"+6N8":function(e,t,a){e.exports={root:"_3Pr47PJn",compact:"I8E6idFE",icon:"_2Qb77u38",label:"_3RfFh6kI"}},"+Dyy":function(e,t,a){e.exports={root:"_3k-nuRxD",nonCritical:"_1Aibx8vd",shake:"UXidJGd_",animated:"_381Qe2DK"}},"+JKf":function(e,t,a){e.exports={root:"_209HhxJY",brandingLink:"_1q2XA-ae",logo:"_3UY_5Csc",description:"_3TuTnat3"}},"+Lhc":function(e,t,a){e.exports={root:"_2iTG_BAh",navItemWrapper:"NYawix6z",en:"_2ON_mHPH",navItem:"_2x7xhmdk",navItemIcon:"GYJ6Emx4",copied:"_3XtoWBkI",navItemLabel:"Nz5WjzF9"}},"/0JN":function(e,t,a){e.exports={publishedLabel:"_2YoJKcNL",publishedDot:"_13gDQo8W",green:"U4ZMf_H_"}},"/7Un":function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("c2re"),r=a.n(n),l=a("H8sf"),o=a.n(l),s=a("ERkP"),i=a("mgDV"),c=a("eSoL");const u=()=>{const{crm:e}=Object(s.useContext)(c.a);return Object(s.useMemo)(()=>o()(r()(i.a),e),[e])}},"/Alo":function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("ERkP"),r=a.n(n),l=a("ENGl"),o=a("VaxB"),s=a("WHnS"),i=a.n(s);function c(e){let{as:t,children:a,disabled:n,...s}=e;return r.a.createElement(t,Object(l.a)([i.a.button,n&&i.a.disabled],Object(o.b)(t,s)),a)}c.defaultProps={as:"button"}},"/Eez":function(e,t,a){e.exports={ordersList:"_30nntV0S",orderHeader:"_3OfcWgc1",orderContent:"_3aAAM7Mj"}},"/ZIs":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("t4dI");function r(e){return Object(n.a)(e.amount,e.currency,navigator.language)}},"/kq6":function(e,t,a){"use strict";function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&Object.entries(e).map(e=>{let[a,r]=e;return r&&"object"==typeof r?n(r,t+a):t+a+r}).join(",")}a.d(t,"a",(function(){return n}))},0:function(e,t){},"0+Ew":function(e,t,a){e.exports={root:"_1XYLb-uQ",right:"_2APOa6pg"}},"0/0W":function(e,t,a){"use strict";a.d(t,"b",(function(){return u}));var n=a("uZih"),r=a.n(n),l=a("MwrP"),o=a.n(l),s=a("UduM"),i=a.n(s);const c=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return e=>i()(e,...t)},u=e=>c({_id:e}),d=(e,t)=>a=>a[t]===e,m=(e,t)=>{const a=e.toLowerCase();return e=>(e[t]||"").toLowerCase().includes(a)},p={0:d,1:m},b=(e,t)=>{const a=Object.entries(e);return e=>!!(a.every(t=>{let[a,n]=t;return!n||e[a]===n})^!!t)};t.a={match:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a=>Object.entries(a).reduce((e,a)=>{let[n,r]=a;if(!r)return e;const l=t[n],o="function"==typeof l?l:p[l]||d;return e.filter(o(r,n))},e)},isMatch:c,isMatchId:u,byEquality:d,bySubstring:m,mapping:p,filterWithSpecifier:b,filterWithExclusion:(e,t)=>{if(!t)return e;const a=t.filter,n=t.exclude,l=!!a,s=!o()(n),i=l||s?r()(t,["filter","exclude"]):t;return l&&(e=e.filter(a)),s&&(e=e.filter(b(n,!0))),o()(i)||(e=e.filter(b(i))),e}}},"0FM3":function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("ERkP"),r=a.n(n),l=a("O94r"),o=a.n(l),s=a("MhLP"),i=a("MZ43"),c=a.n(i);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const d=e=>{let{disabled:t,className:a,...n}=e;return r.a.createElement("span",u({className:o()(c.a.root,{[c.a.disabled]:t},a)},n),Object(s.a)("show_more"))}},"0MFu":function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return o}));var n=a("ERkP"),r=a("pO+y");const l=r.a.MediaSizes,o=()=>({getMediaSizeUrl:Object(n.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.Original;return t===l.Original?r.a.generateAbsoluteUrl(e):r.a.generateThumbnailUrl(e,t)}),[])})},"0Yj9":function(e,t,a){e.exports={root:"_1OtgChBK",content:"_2AAqsGqC",backgroundWrapper:"OvzEYKcF"}},"0g5o":function(e,t,a){e.exports={list:"_2TE8Pk8k",container:"QGcLw81K",deleting:"_3QCicHzY",item:"_1TE9Ja00",actions:"_3K1twyXy",hidden:"_11C7qape",before:"_1QQZSnCx",after:"_2ZCiVj4a",inner:"_17qTLYH8"}},"0iqz":function(e,t,a){e.exports={contentContainer:"_3QLlsJK-",logo:"_1rnCMOiy",heading:"_27SCezQR",order:"_2j5PqO2s",orderList:"cHmdccbu",payForm:"_2NjwMdom"}},"0k8D":function(e,t,a){var n={"./en/ui.json":["maHe",0],"./ru/ui.json":["6X5w",1],"./uk/ui.json":["Rwdq",2]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a.t(r,3)}))}r.keys=function(){return Object.keys(n)},r.id="0k8D",e.exports=r},1:function(e,t,a){a("w0yH"),a("dnJR"),e.exports=a("b/0l")},"13zW":function(e,t,a){e.exports={root:"N0hcX0Mu",bgColor:"vADAxJ71",viewMode:"_2yyz-doq",bgImage:"_2oVcgCoG",layout:"KNlK9yL1",content:"UnsUNQJH",contentInner:"_3VLCbFsG",emptyPage:"_1lEQrikH"}},"1DrK":function(e,t,a){e.exports={root:"_2vkt1t3R"}},"1JCD":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return l}));var n=a("ERkP");const r=e=>Object(n.useMemo)(()=>function(e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}(e),e),l=(e,t)=>{const a=Object(n.useRef)(t),r=Object(n.useRef)([]),l=(e,t)=>{r.current[e]=t,a.current&&a.current(r.current)},[o,s]=Object(n.useState)(Array.from({length:e},(e,t)=>l.bind(null,t)));return a.current=t,Object(n.useLayoutEffect)(()=>{r.current=Array.from({length:e},(e,t)=>r.current[t]||null),s(r.current.map((e,t)=>l.bind(null,t)))},[e]),o}},"1UfL":function(e,t,a){e.exports={domainPreview:"EkGUM-oa",label:"_2jSkys0K",preview:"pYZOVZ1A",value:"_30VifMh3",empty:"_1lJl4opA",after:"BqvVl_1B"}},"1dbL":function(e,t,a){e.exports={header:"_2Wrf-dSm","nav-button":"_38uA1qcl",navButton:"_38uA1qcl",disabled:"y9MHSV6k"}},"1yEr":function(e,t,a){e.exports={compact:"_2nthI8_y",paneWrapper:"_2JkClRr8",withCover:"LE7AZCDS",withPadding:"_3mlqLj--",pane:"_2ZzUS9Ys",logoBox:"_2m6MDavz",contentWrapper:"e7iIOILm",content:"_2RTjN5vm",center:"_7PxK9ey2"}},2:function(e,t){},"2CZK":function(e,t,a){e.exports={content:"_1_bazxAz",userLink:"_20QCzqMi",copied:"_23-F4U1r",tipImg:"wubUodle"}},"2JL+":function(e,t,a){e.exports={root:"_2lMByo0C"}},"2OCk":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("fvrP");const r=()=>Object(n.c)("ui",e=>a("0k8D")(`./${e}/ui.json`))},"2Oxj":function(e,t,a){e.exports={root:"_1VSmSeHB","colors-list":"_2w-yyI5f",colorsList:"_2w-yyI5f",input:"_2DSd53wW",customColorBtn:"_3G2Llxqs","hex-input-container":"_27ZOPPt0",hexInputContainer:"_27ZOPPt0",check:"NHNtg30Z",disabled:"_2PzzFlV4"}},"2TlH":function(e,t,a){e.exports={root:"_2b1xZuTe",header:"_3vY9K1Oq",logo:"_3rH9TYyh",heading:"_2dOf0-vH",subheading:"_2gH-2kem",list:"_2Vto5KuY",key:"SHstHwNv",value:"_2tgYOhvu"}},"2cPd":function(e,t,a){e.exports={element:"_33w4_Vvq",area:"_3oo-iIvT",marker:"PXns_AED",line:"_7cpHNpVy",h:"KNKnw8Xk",v:"_2GYR9GNN",portal:"_2j_0QKKw"}},"2cVh":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return l}));var n=a("jpDv");function r(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(n.b)({baseTheme:Object(n.c)(),elementPath:"page",compile:t,inherit:e})}function l(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(n.b)({theme:e.theme,baseTheme:Object(n.c)(),elementPath:"blocks."+e.kind.toLowerCase(),compile:t})}},"3F7H":function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a("RNvQ"),r=a.n(n),l=a("S6Js"),o=a.n(l),s=a("2srY"),i=a.n(s),c=a("ERkP"),u=a("ljKo"),d=a("w8s/");function m(e){let{onChange:t,onSubmit:a,errorsPrefix:n,resetOnSuccess:l=!1,autoSubmit:s=!1,autoSubmitDebounce:m=400,initialValues:p,...b}=e;const[g,f]=Object(c.useState)({}),h=Object(d.a)(a),v=Object(u.e)({initialValues:p,onSubmit:function(){return h.run(...arguments)},...b});Object(c.useEffect)(()=>{h.fulfilled&&(v.setSubmitting(!1),v.setStatus("success"),l&&v.resetForm())},[h.fulfilled]),Object(c.useEffect)(()=>{h.rejected&&(v.setSubmitting(!1),v.setStatus("failure"))},[h.rejected]),Object(c.useEffect)(()=>{v.setErrors(n?i()(h.validationErrors,n):h.validationErrors)},[h.validationErrors]),o()(()=>{t&&t(v.values,v)},[v.values]);const y=Object(c.useCallback)(r()(v.submitForm,m),[m,v.submitForm]);return o()(()=>{s&&v.dirty&&y()},[y,s,v.dirty]),{warnings:g,setWarnings:f,submit:h,errorsPrefix:n,...v}}},"3OO6":function(e,t,a){e.exports={list:"_3Cppyps7",line:"_2SjhUfjm",number:"Mbcv3vT5"}},"3PMf":function(e,t,a){e.exports={root:"_1Fx5CKXf",intro:"uxUM8TJY",title:"_3nyufGiy",subHeading:"_3uyF2C7y",link:"_3Mj8h2xH",list:"_243Iorhe",icon:"_3GHY8oxq",copyLink:"_2dSIhYN9",notificationText:"_1sm1MHij",hidden:"_3JftKRX9",copied:"_1V6FObAo",primaryText:"_2VPBynVI"}},"3X63":function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a("ERkP"),r=a.n(n),l=a("O94r"),o=a.n(l),s=a("daAW"),i=a("ENGl"),c=a("9j0U"),u=a("RnxZ"),d=a("eSoL"),m=a("mz7T"),p=a("uqVd"),b=a.n(p);function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const f=e=>{let{steady:t,...a}=e;const{generateUrl:l}=Object(c.a)(),{enabledPayments:p}=Object(d.c)(),{currentOrder:f}=Object(m.a)(),h=p&&(null==f?void 0:f.items.length),v=Object(n.useMemo)(()=>l("orders/"+(null==f?void 0:f._id)),[f,l]);return h?r.a.createElement(s.b,g({to:v},Object(i.a)(o()([b.a.root,t&&b.a.steady]),a)),r.a.createElement(u.a,{className:b.a.icon,size:20}),r.a.createElement("div",{className:b.a.badge},f.items.length)):null}},"3j4c":function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return v})),a.d(t,"d",(function(){return y}));var n=a("d5aQ"),r=a("3pNR"),l=a("70+s"),o=a("GLwx"),s=a("T8kG");const i={icon:r.N,color:"#7f7f7f",alias:"email"};var c={fivehundredpix:{icon:s.a,color:"#222222"},bandsintown:{icon:l.b,color:"#1B8793"},behance:{icon:s.c,color:"#007CFF"},codepen:{icon:s.d,color:"#151515"},dribbble:{icon:s.f,color:"#ea4c89"},dropbox:{icon:s.g,color:"#1081DE"},email:i,facebook:{icon:o.b,color:"#3b5998"},flickr:{icon:s.k,color:"#0063db"},foursquare:{icon:s.l,color:"#0072b1"},github:{icon:s.m,color:"#4183c4"},google_play:{icon:s.o,color:"#40BBC1"},google:{icon:s.p,color:"#dd4b39"},instagram:{icon:s.s,color:"#E1306C"},itunes:{icon:s.t,color:"#E049D1"},linkedin:{icon:s.u,color:"#007fb1"},mailto:i,medium:{icon:s.w,color:"#333332"},meetup:{icon:s.x,color:"#E51937"},pinterest:{icon:s.C,color:"#cb2128"},reddit:{icon:s.D,color:"#FF4500"},rss:{icon:s.G,color:"#EF8733"},sharethis:{icon:r.Y,color:"#00BF00"},smugmug:{icon:l.c,color:"#8cca1e"},snapchat:{icon:s.I,color:"#FFC91B"},soundcloud:{icon:s.J,color:"#FF5700"},spotify:{icon:s.K,color:"#2EBD59"},squarespace:{icon:s.L,color:"#1C1C1C"},tumblr:{icon:s.O,color:"#2c4762"},twitch:{icon:s.P,color:"#6441A5"},twitter:{icon:s.Q,color:"#00aced"},vimeo:{icon:s.T,color:"#1ab7ea"},vk:{icon:s.U,color:"#45668e"},vsco:{icon:l.f,color:"#83878A"},wechat:{icon:n.n,color:"#00c80f"},whatsapp:{icon:s.V,color:"#25D366"},yelp:{icon:s.X,color:"#B90C04"},youtube:{icon:s.Y,color:"#ff3333"},youtu:{icon:s.Y,color:"#ff3333",alias:"youtube"},telegram:{icon:s.N,color:"#0088cc"},t:{icon:s.N,color:"#0088cc",alias:"telegram"},tiktok:{icon:l.e,color:"#010101"}},u=a("ilhn"),d={call:{icon:r.S,color:"#333333",match:/^tel:/},star:{icon:r.cb,color:"#333333"},bookmark:{icon:r.k,color:"#333333"},gift:{icon:r.D,color:"#333333"},dollar:{icon:r.x,color:"#333333"},download:{icon:u.d,color:"#333333"},arrow_right:{icon:r.h,color:"#333333"},arrow_up:{icon:r.i,color:"#333333"},checkmark:{icon:r.n,color:"#333333"},shopping_cart:{icon:r.ab,color:"#333333"},help:{icon:u.f,color:"#333333"},globe:{icon:r.E,color:"#333333"}};const m=e=>[...new Set(Object.entries(e).map(e=>{let[t,{alias:a}]=e;return a||t}))],p={...d,...c},b={general:m(d),social:m(c)},g=Object.keys(p),f=(m(p),new RegExp("^(?:https?:\\/\\/(?:[a-z0-9]*\\.)?)?("+g.join("|")+")\\..*"));function h(e){return p[e]?p[e].icon:null}function v(e){return p[e]?p[e].color:null}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sharethis";if(!e)return t;const a=e.replace(f,"$1");return a!==e&&p[a]?p[a].alias||a:t}},"3w6v":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("QwRn"),r=a("bjXo"),l=a("XJ4S");const o=()=>{const{theme:e}=Object(r.a)(n.t);return Object(l.a)(e)}},"4+Wm":function(e,t,a){e.exports={root:"_3ex5y7py",error:"_10JGEa2E"}},"4I22":function(e,t,a){e.exports={root:"_1rhUYCwm",horizontalButton:"_3J841VH5"}},"4ZcM":function(e,t,a){e.exports={selectionRanges:"_1S-JDnRe",disabled:"XqpveZpl",selectionArea:"JwOQAV4l"}},"4djT":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("ERkP"),r=a.n(n);function l(){return r.a.createElement("svg",{viewBox:"0 0 107 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M49.718 14.366C49.718 13.838 49.568 13.454 49.268 13.214C48.98 12.962 48.584 12.836 48.08 12.836C47.744 12.836 47.42 12.902 47.108 13.034C46.808 13.154 46.532 13.322 46.28 13.538C46.304 13.634 46.322 13.736 46.334 13.844C46.346 13.952 46.352 14.06 46.352 14.168V19.964C46.268 20 46.148 20.03 45.992 20.054C45.836 20.09 45.674 20.108 45.506 20.108C45.158 20.108 44.9 20.042 44.732 19.91C44.564 19.778 44.48 19.556 44.48 19.244V14.366C44.48 13.838 44.33 13.454 44.03 13.214C43.73 12.962 43.328 12.836 42.824 12.836C42.488 12.836 42.17 12.89 41.87 12.998C41.57 13.106 41.318 13.226 41.114 13.358V19.964C41.03 20 40.91 20.03 40.754 20.054C40.61 20.09 40.448 20.108 40.268 20.108C39.92 20.108 39.662 20.042 39.494 19.91C39.326 19.778 39.242 19.556 39.242 19.244V13.304C39.242 13.028 39.296 12.806 39.404 12.638C39.512 12.47 39.692 12.302 39.944 12.134C40.292 11.906 40.73 11.714 41.258 11.558C41.786 11.402 42.32 11.324 42.86 11.324C43.424 11.324 43.928 11.402 44.372 11.558C44.828 11.714 45.2 11.942 45.488 12.242C45.824 11.978 46.22 11.762 46.676 11.594C47.144 11.414 47.684 11.324 48.296 11.324C48.764 11.324 49.202 11.384 49.61 11.504C50.018 11.612 50.366 11.792 50.654 12.044C50.954 12.284 51.188 12.59 51.356 12.962C51.524 13.334 51.608 13.778 51.608 14.294V19.964C51.512 20 51.386 20.03 51.23 20.054C51.086 20.09 50.924 20.108 50.744 20.108C50.396 20.108 50.138 20.042 49.97 19.91C49.802 19.778 49.718 19.556 49.718 19.244V14.366ZM60.3775 17.678C60.3775 18.482 60.0775 19.112 59.4775 19.568C58.8775 20.024 58.0075 20.252 56.8675 20.252C56.3995 20.252 55.9675 20.216 55.5715 20.144C55.1755 20.072 54.8335 19.97 54.5455 19.838C54.2695 19.706 54.0535 19.55 53.8975 19.37C53.7415 19.19 53.6635 18.992 53.6635 18.776C53.6635 18.596 53.7055 18.428 53.7895 18.272C53.8855 18.116 54.0115 17.99 54.1675 17.894C54.5035 18.11 54.8875 18.308 55.3195 18.488C55.7515 18.668 56.2555 18.758 56.8315 18.758C57.3715 18.758 57.7855 18.668 58.0735 18.488C58.3615 18.296 58.5055 18.026 58.5055 17.678C58.5055 17.378 58.4035 17.138 58.1995 16.958C58.0075 16.778 57.7195 16.64 57.3355 16.544L56.1115 16.22C55.2955 16.004 54.6955 15.71 54.3115 15.338C53.9275 14.966 53.7355 14.456 53.7355 13.808C53.7355 13.46 53.8075 13.136 53.9515 12.836C54.0955 12.524 54.3055 12.26 54.5815 12.044C54.8695 11.816 55.2235 11.642 55.6435 11.522C56.0635 11.39 56.5435 11.324 57.0835 11.324C57.5155 11.324 57.9055 11.36 58.2535 11.432C58.6135 11.492 58.9195 11.582 59.1715 11.702C59.4355 11.81 59.6395 11.948 59.7835 12.116C59.9275 12.284 59.9995 12.464 59.9995 12.656C59.9995 12.848 59.9575 13.016 59.8735 13.16C59.7895 13.292 59.6815 13.4 59.5495 13.484C59.3335 13.352 59.0095 13.208 58.5775 13.052C58.1575 12.896 57.7015 12.818 57.2095 12.818C56.7055 12.818 56.3095 12.908 56.0215 13.088C55.7335 13.256 55.5895 13.496 55.5895 13.808C55.5895 14.048 55.6675 14.246 55.8235 14.402C55.9915 14.558 56.2735 14.684 56.6695 14.78L57.7135 15.05C58.6255 15.29 59.2975 15.614 59.7295 16.022C60.1615 16.43 60.3775 16.982 60.3775 17.678ZM68.6392 17.678C68.6392 18.482 68.3392 19.112 67.7392 19.568C67.1392 20.024 66.2692 20.252 65.1292 20.252C64.6612 20.252 64.2292 20.216 63.8332 20.144C63.4372 20.072 63.0952 19.97 62.8072 19.838C62.5312 19.706 62.3152 19.55 62.1592 19.37C62.0032 19.19 61.9252 18.992 61.9252 18.776C61.9252 18.596 61.9672 18.428 62.0512 18.272C62.1472 18.116 62.2732 17.99 62.4292 17.894C62.7652 18.11 63.1492 18.308 63.5812 18.488C64.0132 18.668 64.5172 18.758 65.0932 18.758C65.6332 18.758 66.0472 18.668 66.3352 18.488C66.6232 18.296 66.7672 18.026 66.7672 17.678C66.7672 17.378 66.6652 17.138 66.4612 16.958C66.2692 16.778 65.9812 16.64 65.5972 16.544L64.3732 16.22C63.5572 16.004 62.9572 15.71 62.5732 15.338C62.1892 14.966 61.9972 14.456 61.9972 13.808C61.9972 13.46 62.0692 13.136 62.2132 12.836C62.3572 12.524 62.5672 12.26 62.8432 12.044C63.1312 11.816 63.4852 11.642 63.9052 11.522C64.3252 11.39 64.8052 11.324 65.3452 11.324C65.7772 11.324 66.1672 11.36 66.5152 11.432C66.8752 11.492 67.1812 11.582 67.4332 11.702C67.6972 11.81 67.9012 11.948 68.0452 12.116C68.1892 12.284 68.2612 12.464 68.2612 12.656C68.2612 12.848 68.2192 13.016 68.1352 13.16C68.0512 13.292 67.9432 13.4 67.8112 13.484C67.5952 13.352 67.2712 13.208 66.8392 13.052C66.4192 12.896 65.9632 12.818 65.4712 12.818C64.9672 12.818 64.5712 12.908 64.2832 13.088C63.9952 13.256 63.8512 13.496 63.8512 13.808C63.8512 14.048 63.9292 14.246 64.0852 14.402C64.2532 14.558 64.5352 14.684 64.9312 14.78L65.9752 15.05C66.8872 15.29 67.5592 15.614 67.9912 16.022C68.4232 16.43 68.6392 16.982 68.6392 17.678ZM76.127 19.208C75.899 19.352 75.617 19.472 75.281 19.568C74.957 19.664 74.567 19.712 74.111 19.712C73.583 19.712 73.079 19.64 72.599 19.496C72.131 19.34 71.717 19.1 71.357 18.776C70.997 18.44 70.709 18.008 70.493 17.48C70.289 16.952 70.187 16.304 70.187 15.536C70.187 14.84 70.289 14.234 70.493 13.718C70.709 13.19 71.003 12.752 71.375 12.404C71.759 12.044 72.209 11.774 72.725 11.594C73.253 11.414 73.835 11.324 74.471 11.324C75.059 11.324 75.599 11.402 76.091 11.558C76.595 11.702 77.003 11.876 77.315 12.08C77.519 12.212 77.675 12.362 77.783 12.53C77.903 12.698 77.963 12.902 77.963 13.142V20.234C77.963 20.834 77.855 21.35 77.639 21.782C77.435 22.214 77.147 22.562 76.775 22.826C76.415 23.102 75.983 23.3 75.479 23.42C74.975 23.552 74.435 23.618 73.859 23.618C73.247 23.618 72.719 23.558 72.275 23.438C71.831 23.318 71.507 23.198 71.303 23.078C70.931 22.85 70.745 22.55 70.745 22.178C70.745 21.974 70.787 21.8 70.871 21.656C70.955 21.524 71.063 21.416 71.195 21.332C71.471 21.524 71.837 21.698 72.293 21.854C72.749 22.01 73.235 22.088 73.751 22.088C74.507 22.088 75.089 21.932 75.497 21.62C75.917 21.32 76.127 20.828 76.127 20.144V19.208ZM74.381 18.236C74.789 18.236 75.131 18.176 75.407 18.056C75.683 17.936 75.917 17.792 76.109 17.624V13.268C75.929 13.16 75.707 13.064 75.443 12.98C75.179 12.884 74.867 12.836 74.507 12.836C73.775 12.836 73.187 13.058 72.743 13.502C72.299 13.946 72.077 14.618 72.077 15.518C72.077 16.01 72.137 16.43 72.257 16.778C72.377 17.126 72.539 17.408 72.743 17.624C72.947 17.84 73.187 17.996 73.463 18.092C73.751 18.188 74.057 18.236 74.381 18.236ZM79.5095 19.046C79.5095 18.698 79.6115 18.41 79.8155 18.182C80.0315 17.954 80.3255 17.84 80.6975 17.84C81.0815 17.84 81.3755 17.954 81.5795 18.182C81.7835 18.41 81.8855 18.698 81.8855 19.046C81.8855 19.394 81.7835 19.682 81.5795 19.91C81.3755 20.138 81.0815 20.252 80.6975 20.252C80.3255 20.252 80.0315 20.138 79.8155 19.91C79.6115 19.682 79.5095 19.394 79.5095 19.046ZM93.927 14.366C93.927 13.838 93.777 13.454 93.477 13.214C93.189 12.962 92.793 12.836 92.289 12.836C91.953 12.836 91.629 12.902 91.317 13.034C91.017 13.154 90.741 13.322 90.489 13.538C90.513 13.634 90.531 13.736 90.543 13.844C90.555 13.952 90.561 14.06 90.561 14.168V19.964C90.477 20 90.357 20.03 90.201 20.054C90.045 20.09 89.883 20.108 89.715 20.108C89.367 20.108 89.109 20.042 88.941 19.91C88.773 19.778 88.689 19.556 88.689 19.244V14.366C88.689 13.838 88.539 13.454 88.239 13.214C87.939 12.962 87.537 12.836 87.033 12.836C86.697 12.836 86.379 12.89 86.079 12.998C85.779 13.106 85.527 13.226 85.323 13.358V19.964C85.239 20 85.119 20.03 84.963 20.054C84.819 20.09 84.657 20.108 84.477 20.108C84.129 20.108 83.871 20.042 83.703 19.91C83.535 19.778 83.451 19.556 83.451 19.244V13.304C83.451 13.028 83.505 12.806 83.613 12.638C83.721 12.47 83.901 12.302 84.153 12.134C84.501 11.906 84.939 11.714 85.467 11.558C85.995 11.402 86.529 11.324 87.069 11.324C87.633 11.324 88.137 11.402 88.581 11.558C89.037 11.714 89.409 11.942 89.697 12.242C90.033 11.978 90.429 11.762 90.885 11.594C91.353 11.414 91.893 11.324 92.505 11.324C92.973 11.324 93.411 11.384 93.819 11.504C94.227 11.612 94.575 11.792 94.863 12.044C95.163 12.284 95.397 12.59 95.565 12.962C95.733 13.334 95.817 13.778 95.817 14.294V19.964C95.721 20 95.595 20.03 95.439 20.054C95.295 20.09 95.133 20.108 94.953 20.108C94.605 20.108 94.347 20.042 94.179 19.91C94.011 19.778 93.927 19.556 93.927 19.244V14.366ZM99.7625 16.742C99.9305 17.426 100.255 17.936 100.735 18.272C101.227 18.596 101.851 18.758 102.607 18.758C103.111 18.758 103.573 18.68 103.993 18.524C104.413 18.368 104.749 18.2 105.001 18.02C105.337 18.212 105.505 18.482 105.505 18.83C105.505 19.034 105.427 19.226 105.271 19.406C105.115 19.574 104.899 19.724 104.623 19.856C104.359 19.976 104.041 20.072 103.669 20.144C103.309 20.216 102.919 20.252 102.499 20.252C101.803 20.252 101.167 20.156 100.591 19.964C100.027 19.772 99.5405 19.484 99.1325 19.1C98.7245 18.716 98.4065 18.242 98.1785 17.678C97.9625 17.114 97.8545 16.46 97.8545 15.716C97.8545 14.996 97.9625 14.366 98.1785 13.826C98.3945 13.274 98.6885 12.818 99.0605 12.458C99.4325 12.086 99.8705 11.804 100.375 11.612C100.879 11.42 101.419 11.324 101.995 11.324C102.571 11.324 103.093 11.42 103.561 11.612C104.041 11.792 104.449 12.05 104.785 12.386C105.133 12.71 105.397 13.1 105.577 13.556C105.769 14.012 105.865 14.51 105.865 15.05C105.865 15.35 105.793 15.572 105.649 15.716C105.505 15.848 105.295 15.938 105.019 15.986L99.7625 16.742ZM101.995 12.782C101.335 12.782 100.783 13.004 100.339 13.448C99.9065 13.892 99.6785 14.528 99.6545 15.356L104.083 14.726C104.035 14.186 103.837 13.73 103.489 13.358C103.141 12.974 102.643 12.782 101.995 12.782Z",fill:"currentColor"}),r.a.createElement("rect",{width:"30",height:"30",rx:"6",fill:"currentColor"}),r.a.createElement("path",{d:"M10.6 8.02644C10.6 7.54679 11.0029 7.15796 11.4999 7.15796C11.997 7.15796 12.3999 7.54679 12.3999 8.02644V16.1322C12.3999 16.6118 11.997 17.0007 11.4999 17.0007C11.0029 17.0007 10.6 16.6118 10.6 16.1322V8.02644ZM17.7999 9.1844C17.7999 8.70475 18.2028 8.31593 18.6999 8.31593C19.1969 8.31593 19.5999 8.70475 19.5999 9.1844V17.2901C19.5999 17.7698 19.1969 18.1586 18.6999 18.1586C18.2028 18.1586 17.7999 17.7698 17.7999 17.2901V9.1844ZM14.1999 6.86847C14.1999 6.38883 14.6029 6 15.0999 6C15.597 6 15.9999 6.38883 15.9999 6.86847V14.9742C15.9999 15.4539 15.597 15.8427 15.0999 15.8427C14.6029 15.8427 14.1999 15.4539 14.1999 14.9742V6.86847ZM23.7094 18.2446C24.1572 18.0365 24.6951 18.2182 24.9107 18.6503C25.1263 19.0825 24.9381 19.6015 24.4902 19.8096L16.8932 23.3393C13.4597 24.9346 9.33623 23.5419 7.68308 20.2286C7.23347 19.3275 7 18.3403 7 17.3402V10.9213C7 10.4417 7.40294 10.0529 7.89999 10.0529C8.39704 10.0529 8.79998 10.4417 8.79998 10.9213V17.3402C8.79998 18.0794 8.97255 18.8091 9.30486 19.4751C10.5268 21.924 13.5746 22.9534 16.1124 21.7743L23.7094 18.2446Z",fill:"white"}))}},"4mRT":function(e,t,a){e.exports={root:"_1SsyeNHF",pageHeader:"_19IxxRgc",backLink:"_2d5tAGv1",title:"_22JEPE2D",pagesContainer:"_1-dheFgj",preview:"_3XU33PAe",multipleGroups:"_2SF6kYMx"}},"4tHN":function(e,t,a){e.exports={buttonContainer:"_3XEeBR_f",button:"_2uy18yW1",icon:"_1MFizoAf",label:"_3GTbRL9m"}},"5GoW":function(e,t,a){e.exports={root:"_2rwtEH7Z",toggle:"_3sEjkB8o",wrap:"_1cuvrTe1",toggler:"_2OlUZokt",input:"tVzqHMIk",builderInput:"_30UIr2ER",label:"_2_EM4NSb",check:"tFTGpsMU",unchecked:"_29aUW4n5",checked:"_3xa2Jg4o",disabled:"_3uu-9onS"}},"5PMy":function(e,t,a){e.exports={root:"hOvN_uFc",reveal:"nr53XmwN",closing:"_2w10BEBf",hide:"_1t0Cb6L3",success:"_38psdO5x",danger:"_2fEDUad9",close:"-k2tUgTV"}},"69Mk":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"c",(function(){return i}));a("zr3P"),a("DL3M");var n=a("9EWH");Object(n.b)();const r=function(e,t){const a=function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];if(t)return{type:e,...t(...n)};const[l,...o]=n;return{type:e,payload:l,meta:o}};return a.type=e,a.toString=()=>e,a};class l{constructor(e,t){t={immutable:!0,...t},this._state=e,this._immutable=t.immutable,this._cases={}}addCase(e,t){if(Array.isArray(e))for(let a of e)this._cases[String(a)]=t;else this._cases[String(e)]=t;return this}hasCase(e){return this._cases.hasOwnProperty(e)}runCase(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return this._cases[e](...a)}createReducer(){var e=this;let t;return t=this._immutable?function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e._state,a=arguments.length>1?arguments[1]:void 0;return Object(n.d)(t)&&e.hasCase(a.type)?e.runCase(a.type,t,a):Object(n.a)(t,t=>{if(e.hasCase(a.type))return e.runCase(a.type,t,a)})}:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e._state,a=arguments.length>1?arguments[1]:void 0;return e.hasCase(a.type)?e.runCase(a.type,t,a):t},t.builder=this,t}}function o(e,t,a){if("function"==typeof t&&2===t.length)return function(e,t){return function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return Object(n.a)(a,e=>t(e,r))}}(e,t);return function(e,t,a){const n=new l(e,a);if("function"==typeof t)t(n);else{if("object"!=typeof t)throw new Error("Invalid handler type");for(const e of Object.keys(t))n.addCase(e,t[e])}return n}(e,t,a).createReducer()}function s(e,t,a){const n=e.findIndex(t);return n>=0&&(e[n]=a),n>=0}function i(e,t){const a=e.findIndex(t);if(a>=0)return e.splice(a,1)[0]}},"6dw/":function(e,t,a){e.exports={root:"BsKLqmb8",brandingLink:"_2ZghsOrS",logo:"_3aMxDgy6",description:"_3PiYOHox"}},"6o4N":function(e,t,a){e.exports={root:"_1-wXXMqr",item:"_2KAyyCHE",active:"_2TV-qkno",list:"_3GvQE09T",controlContainerLeft:"_3H2nLtjV",controlContainerRight:"a0rYYZfB",control:"_1xfOoPpI"}},"6uhe":function(e,t,a){e.exports={noPadding:"_6_6NjVWO",saveButton:"_2ej67MJB"}},"6xH+":function(e,t,a){e.exports={root:"_33AWLB7n",heading:"aaBjobzD",success:"_1jA7oASQ"}},"70Vl":function(e,t,a){e.exports={root:"JrECQsKV",right:"SyOEvytA"}},"74f7":function(e,t,a){"use strict";a.d(t,"a",(function(){return O})),a.d(t,"b",(function(){return k}));const n=e=>{let{id:t,name:a,colors:n}=e;return{id:t,name:a,theme:{colorId:t,colors:n,page:{backgroundColor:n.background},blocks:{timer:{color:n.text},giphy:{},customcode:{color:n.featureTextColor,backgroundColor:n.featureBackgroundColor},subscriptionform:{color:n.text,buttonBackground:n.buttonBackground,buttonTextColor:n.buttonTextColor,inputBackgroundColor:n.featureBackgroundColor,inputTextColor:n.featureTextColor},servicesgrid:{color:n.text,backgroundColor:n.featureBackgroundColor,buttonBackground:n.buttonBackground,buttonTextColor:n.buttonTextColor},custom:{},products:{color:n.text,productsCategoryTextColor:n.productsCategoryTextColor,backgroundColor:n.featureBackgroundColor,buttonBackground:n.buttonBackground,buttonTextColor:n.buttonTextColor},hat:{textColor:n.text,paneColor:n.panel},divider:{backgroundColor:n.dividerColor},heading:{color:n.text},text:{color:n.text},link:{backgroundColor:n.buttonBackground,color:n.buttonTextColor,contrastedColor:!1},messengers:{themeColors:!["lightTheme","darkTheme","wbTheme","bwTheme"].includes(t),backgroundColor:n.buttonBackground,color:n.buttonTextColor},accordion:{color:n.text},features:{color:n.featureTextColor,backgroundColor:n.featureBackgroundColor},quote:{color:n.text,lineColor:n.panel},list:{color:n.text},socials:{color:n.text}}}}},r=n({id:"lightTheme",name:"Classic Light",colors:{background:"#ffffffff",panel:"#f7f7fAff",text:"#333333ff",dividerColor:"#ededf0ff",buttonBackground:"#f7f7faff",buttonTextColor:"#2979ffff",featureBackgroundColor:"#f7f7faff",featureTextColor:"#333333ff",productsCategoryTextColor:"#333333ff"}}),l=n({id:"darkTheme",name:"Classic Dark",colors:{background:"#333333ff",panel:"#444444ff",text:"#ffffffff",dividerColor:"#555555ff",buttonBackground:"#ffffffff",buttonTextColor:"#333333ff",featureBackgroundColor:"#444444ff",featureTextColor:"#ffffffff",productsCategoryTextColor:"#ffffffff"}}),o=n({id:"pinkTheme",name:"Pink",colors:{background:"#282fbeff",panel:"#ff3265ff",text:"#ffffffff",dividerColor:"#ff3265ff",buttonBackground:"#ff3265ff",buttonTextColor:"#ffffffff",featureBackgroundColor:"#242babff",featureTextColor:"#ffffffff",productsCategoryTextColor:"#ffffffff"}}),s=n({id:"taxiTheme",name:"Taxi",colors:{background:"#fdd935ff",panel:"#000000ff",text:"#000000ff",dividerColor:"#000000ff",buttonBackground:"#000000ff",buttonTextColor:"#fdd935ff",featureBackgroundColor:"#e3c22fff",featureTextColor:"#000000ff",productsCategoryTextColor:"#000000ff"}}),i=n({id:"flatTheme",name:"Flat",colors:{background:"#fff5daff",panel:"#ff6b71ff",text:"#000000ff",dividerColor:"#ff6b71ff",buttonBackground:"#ff6b71ff",buttonTextColor:"#ffffffff",featureBackgroundColor:"#f0e6cbff",featureTextColor:"#000000ff",productsCategoryTextColor:"#000000ff"}}),c=n({id:"neonTheme",name:"Neon",colors:{background:"#2d283eff",panel:"#812bb2ff",text:"#ffffffff",dividerColor:"#812bb2ff",buttonBackground:"#812bb2ff",buttonTextColor:"#ffffffff",featureBackgroundColor:"#423d51ff",featureTextColor:"#ffffffff",productsCategoryTextColor:"#ffffffff"}}),u=n({id:"sweetTheme",name:"Sweet",colors:{background:"#e1f2f7ff",panel:"#ef0d50ff",text:"#000000ff",dividerColor:"#ef0d50ff",buttonBackground:"#ef0d50ff",buttonTextColor:"#ffffffff",featureBackgroundColor:"#d2e3e8ff",featureTextColor:"#000000ff",productsCategoryTextColor:"#000000ff"}}),d=n({id:"strongTheme",name:"Strong",colors:{background:"#191919ff",panel:"#fab162ff",text:"#ffffffff",dividerColor:"#fab162ff",buttonBackground:"#fab162ff",buttonTextColor:"#000000ff",featureBackgroundColor:"#333333ff",featureTextColor:"#ffffffff",productsCategoryTextColor:"#ffffffff"}}),m=n({id:"cherryTheme",name:"Cherry",colors:{background:"#ff4653ff",panel:"#ff5764ff",text:"#ffffffff",dividerColor:"#ffffffff",buttonBackground:"#9b1b3bff",buttonTextColor:"#ffffffff",featureBackgroundColor:"#ff5764ff",featureTextColor:"#ffffffff",productsCategoryTextColor:"#ffffffff"}}),p=n({id:"creamTheme",name:"Cream",colors:{background:"#f8e5e5ff",panel:"#f9f6f6ff",text:"#000000ff",dividerColor:"#ffffffff",buttonBackground:"#000000ff",buttonTextColor:"#ffffffff",featureBackgroundColor:"#f9f6f6ff",featureTextColor:"#000000ff",productsCategoryTextColor:"#000000ff"}}),b=n({id:"pastelTheme",name:"Pastel",colors:{background:"#fda49fff",panel:"#ffaea5ff",text:"#000000ff",dividerColor:"#000000ff",buttonBackground:"#101357ff",buttonTextColor:"#ffffffff",featureBackgroundColor:"#ffaea5ff",featureTextColor:"#000000ff",productsCategoryTextColor:"#000000ff"}}),g=n({id:"acidTheme",name:"Acid",colors:{background:"#c8eb00ff",panel:"#d9fc11ff",text:"#000000ff",dividerColor:"#ffffffff",buttonBackground:"#000000ff",buttonTextColor:"#ffffffff",featureBackgroundColor:"#d9fc11ff",featureTextColor:"#000000ff",productsCategoryTextColor:"#000000ff"}}),f=n({id:"berriesTheme",name:"Berries",colors:{background:"#150941ff",panel:"#261a52ff",text:"#ffffffff",dividerColor:"#ffffffff",buttonBackground:"#f90040ff",buttonTextColor:"#ffffffff",featureBackgroundColor:"#261a52ff",featureTextColor:"#ffffffff",productsCategoryTextColor:"#ffffffff"}}),h=n({id:"tingeTheme",name:"Tinge",colors:{background:"#edc8b8ff",panel:"#dcb7a7ff",text:"#000000ff",dividerColor:"#0000004d",buttonBackground:"#ab3b61ff",buttonTextColor:"#ffffffff",featureBackgroundColor:"#dcb7a7ff",featureTextColor:"#000000ff",productsCategoryTextColor:"#000000ff"}}),v=n({id:"tealTheme",name:"Teal",colors:{background:"#3aafa9ff",panel:"#4bbfbaff",text:"#ffffffff",dividerColor:"#ffffff4d",buttonBackground:"#19242aff",buttonTextColor:"#ffffffff",featureBackgroundColor:"#4bbfbaff",featureTextColor:"#ffffffff",productsCategoryTextColor:"#ffffffff"}}),y=n({id:"bwTheme",name:"Black on White",colors:{background:"#ffffffff",panel:"#aaaaaaff",text:"#000000ff",dividerColor:"#555555ff",buttonBackground:"#000000ff",buttonTextColor:"#ffffffff",featureBackgroundColor:"#f7f7faff",featureTextColor:"#333333ff",productsCategoryTextColor:"#000000ff"}}),E=n({id:"wbTheme",name:"White on Black",colors:{background:"#000000ff",panel:"#444444ff",text:"#ffffffff",dividerColor:"#555555ff",buttonBackground:"#ffffffff",buttonTextColor:"#333333ff",featureBackgroundColor:"#444444ff",featureTextColor:"#ffffffff",productsCategoryTextColor:"#ffffffff"}}),O={[y.id]:y,[E.id]:E,[r.id]:r,[l.id]:l,[d.id]:d,[s.id]:s,[o.id]:o,[m.id]:m,[c.id]:c,[i.id]:i,[u.id]:u,[p.id]:p,[b.id]:b,[g.id]:g,[f.id]:f,[h.id]:h,[v.id]:v},j=Object.keys(O)[0],k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O[j].theme;const a=e&&O[e];return a?a.theme:t}},"78+7":function(e,t,a){e.exports={input:"_1dyhRiJj",label:"_2MWtz0R7"}},"79Bz":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("T8kG"),r=a("3pNR"),l=a("ilhn");const o={stripe:{label:"Stripe",icon:n.M},liqpay:{label:"LiqPay",icon:r.r},paypal:{label:"PayPal",icon:n.B,supported_currencies:["AUD","BRL","CAD","CNY","CZK","DKK","EUR","HKD","HUF","ILS","JPY","MYR","MXN","TWD","NZD","NOK","PHP","PLN","GBP","RUB","SGD","SEK","CHF","THB","USD"]},wayforpay:{label:"Wayforpay",icon:l.g},robokassa:{label:"Robokassa",icon:l.g}}},"7Fpq":function(e,t,a){e.exports={portal:"_1GVqVXG1",reveal:"b6ewaljM",root:"_3Moyham0",revealUp:"_3blhgFUj",small:"_15o8YIz4",medium:"yA7rdnMa",large:"qc0EeBrw"}},"7WsD":function(e,t,a){e.exports={root:"_1a1Cy2vg",disabled:"_2XVL7F6q",label:"_1PuWzDfQ",soon:"CFqm6Ynt",icon:"_3fFq4M7-",badge:"_26F9_IoN",arrow:"_1SDYBI7m",chevronData:"_11UMbx1h"}},"7b/9":function(e,t,a){e.exports={list:"_2D7IR_qB",break:"_2Ivycaki",placeholder:"_9cCuDD55",compactMode:"_2sBv3FCW",beefyMode:"cae-TAaD",listMode:"_1RA-kOth",squeeze:"_2JG8E4Kv"}},"80Pf":function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return s}));var n=a("sZZk");const r={minWidth:1025},l={maxWidth:767};const o=()=>!!Object(n.useMediaQuery)(l),s=()=>!!Object(n.useMediaQuery)(r)},"8g3Z":function(e,t,a){e.exports={root:"_8n1bLZKM",changeLabel:"_2Lm4epIQ",currencyBadgeWrapper:"_2DsBV72S",lax:"_1GyeQxfo",currencyCode:"uhWZCabU",currencySeparator:"_3-b9wZgQ"}},"9X6j":function(e,t,a){e.exports={step:"_3oj43rEo",title:"_2xDAIZiz"}},"9iM6":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("ERkP"),r=a.n(n),l=a("ljKo"),o=a("hkFG");function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function i(e){let{as:t=o.a,isInitialHidden:a=!1,onClick:i,...c}=e;const{submitForm:u,dirty:d,isSubmitting:m}=Object(l.f)(),p=!d&&a,b=Object(n.useCallback)(e=>{e.preventDefault(),u()});return p?null:r.a.createElement(t,s({isFetching:m,disabled:!d,onClick:i||b},c))}},"9j0U":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("ERkP"),r=a("zCf4");function l(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];const n=t.join("/"),r="/"===n.charAt(0)?"/":"",l=n.split("/"),o=[];for(let e=0;e<l.length;e++)"string"==typeof l[e]&&l[e]&&"."!==l[e]&&(".."===l[e]?o.pop():o.push(l[e]));return r+o.join("/")}function o(e){const t=Object(r.j)(),a=Object(r.h)();return{generateUrl:Object(n.useCallback)((n,r)=>{var o;return"/"!==n.charAt(0)?l(null!==(o=r=e?{...e,...r}:r)&&void 0!==o&&o.useMatchUrl?t.url:a.pathname,n):l(n)},[t.url,a.pathname,null==e?void 0:e.useMatchUrl])}}},"9kWU":function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a("ERkP"),r=a.n(n),l=a("aWzz"),o=a.n(l),s=a("O94r"),i=a.n(s),c=a("3pNR"),u=a("+18g"),d=a.n(u);function m(){return(m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function p(e){let{options:t,groups:a,value:l,toggle:o,multiple:s,grid:u,containerClassName:p,choiceClassName:b,activeClassName:g,groupLabelClassName:f,fullWidthClassName:h,renderOption:v,style:y,onChange:E}=e;const O=e=>s?l.includes(e):l===e,j=(e,t)=>{t.preventDefault(),t.stopPropagation();const a=o&&O(e);E(s?a?l.filter(t=>t!==e):[...new Set([...l,e])]:a?void 0:e)},k=Object(n.useMemo)(()=>{const e=new Map((a||[]).map(e=>[e.id,{...e,options:[]}]));if(e.get("default")||e.set("default",{id:"default",options:[],label:""}),a){for(const a of t)if(a.group){const t=e.get(a.group);t?t.options.push(a):e.set(a.group,{id:"default",options:[a],label:a.group})}for(const t of[...e.values()])t.options.length||e.delete(t.id)}return new Map([...e.entries()].sort((e,t)=>{let[,a]=e,[,n]=t;const r=Number.isInteger(a.index)?a.index:a.id;return(Number.isInteger(n.index)?n.index:n.id)-r}))},[a]),w=e=>e.map(e=>{const t=O(e.value),a=e.icon,n=v&&v({option:e,active:t})||e.props&&e.props.children||r.a.createElement(r.a.Fragment,null,a&&r.a.createElement("div",{className:d.a.icon},r.a.createElement(a,{size:24})),r.a.createElement("div",{className:d.a.label},e.props&&e.props.children||e.label),r.a.createElement("div",{className:i()({[d.a.checkMark]:!0,[d.a.active]:t})},r.a.createElement(c.n,{size:24})));return r.a.createElement("div",m({key:e.value||e.label,className:i()(d.a.choice,t&&d.a.active,e.rounded&&d.a.rounded,b,t&&g,e.fullWidth&&d.a.fullWidth,e.fullWidth&&h),onClick:E&&j.bind(null,e.value)},e.props),n)});return k.size>1?r.a.createElement("div",{style:y},[...k.values()].map(e=>{let{id:t,label:a,options:n}=e;return r.a.createElement("div",{key:t},r.a.createElement("div",{className:i()(d.a.groupLabel,f)},a),r.a.createElement("div",{className:i()(d.a.root,u&&d.a.grid,p)},w(n)))})):r.a.createElement("div",{className:i()(d.a.root,u&&d.a.grid,p),style:y},w(t))}const b=o.a.oneOfType([o.a.string,o.a.number,o.a.bool]);o.a.oneOfType([o.a.string,o.a.element]),o.a.string,o.a.any,o.a.bool,o.a.any,o.a.string,o.a.number,o.a.arrayOf(b).isRequired,o.a.any;p.defaultProps={value:null,groups:null,toggle:!1,multiple:!1,grid:!1,onChoiceRef:null,renderOption:null,containerClassName:"",choiceClassName:"",activeClassName:"",groupLabelClassName:"",fullWidthClassName:""},p.styles=d.a},"9nPs":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return c}));var n=a("ERkP"),r=a("uDfI"),l=a("pQvG"),o=a("LHeh"),s=a("eSoL");const i={getBaseUrl(e){let{workspace:t,_id:a}=e;return`${document.location.origin}/storefront/api/workspaces/${t}/orders/${a}/signatures`},getWayforpayCallback(e){return this.getBaseUrl(e)+"/wayforpay/callbacks"},getLiqPayCallback(e){return this.getBaseUrl(e)+"/liqpay/callbacks"}},c=()=>{const e=Object(r.b)(),{workspace:t}=Object(s.c)();return Object(n.useMemo)(()=>(o.a.param("workspaceId",t),Object(l.a)(o.b,e)),[e])}},"9nTi":function(e,t,a){"use strict";a.d(t,"a",(function(){return Q}));var n=a("XZwl"),r=a.n(n),l=a("O94r"),o=a.n(l),s=a("ERkP"),i=a.n(s),c=a("2F2M"),u=a("MhLP"),d=a("IYO+"),m=a("eSoL"),p=a("Py4j"),b=a("ULhd"),g=a("HLiK"),f=a("YafY"),h=a("TLwS"),v=a("xynv"),y=a("3pNR"),E=a("zcZP"),O=a("mL7N"),j=a("ENGl"),k=a("0MFu"),w=a("Xv4g"),C=a.n(w);function _(){return(_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const P=i.a.forwardRef((function(e,t){let{photoUrl:a,title:n,index:r,style:l,onLoad:o,onClick:c,...u}=e;const{getMediaSizeUrl:d}=Object(k.b)(),m=Object(s.useCallback)(()=>{c(r)},[r,c]);return i.a.createElement("div",_({ref:t},Object(j.a)(C.a.slide,u)),i.a.createElement("div",{className:C.a.slideImage},i.a.createElement("img",{"data-src":d(a,k.a.Large),className:"swiper-lazy",alt:n,onLoad:o,onClick:m}),i.a.createElement("div",{className:C.a.zoomIcon,style:l.common},i.a.createElement(y.ob,{size:14})),i.a.createElement("div",{className:C.a.imagePreloader,style:l.background},i.a.createElement("div",null,i.a.createElement(E.a,null)))))}));p.a.use([b.a,g.a,f.a]);const x={loadPrevNext:!0,preloaderClass:C.a.imagePreloader,loadedClass:C.a.loaded},S=e=>{let{photos:t,title:a,isActive:n,isPrev:r,isNext:l,themeStyles:c,style:u,onClose:d}=e;const m=i.a.useRef(null),p=i.a.useRef(null),b=Object(s.useRef)(null),[g,f]=Object(s.useState)(!1),[j,k]=Object(s.useState)(null),[w,_]=Object(s.useState)(!1),[S,N]=Object(s.useState)(0),I=t.length>1,T=!!b.current&&!!m.current&&!!p.current,M=g&&(!I||T),L=n||r||l,B=Object(s.useCallback)(()=>_(!0),[]),F=Object(s.useCallback)(()=>_(!1),[]),R=Object(s.useCallback)(e=>{N(e),B()}),A=Object(s.useMemo)(()=>I&&{el:b.current,clickable:!0,renderBullet:(e,t)=>`<div class="${t} ${C.a.dot}"><div style="background-color: ${c?c.color:"null"}"></div></div>`,clickableClass:C.a.clickablePagination,bulletActiveClass:C.a.activeBullet},[b.current,I,c]),U=Object(s.useCallback)(()=>{j&&j.updateAutoHeight()},[j]);return Object(s.useEffect)(()=>{L&&f(!0)},[L]),i.a.createElement("div",{className:C.a.swiperContainer},M?i.a.createElement(h.a,{className:C.a.swiper,nested:!0,autoHeight:!0,lazy:x,allowTouchMove:I,pagination:A,navigation:{prevEl:m.current,nextEl:p.current},initialSlide:0,spaceBetween:0,slidesPerView:1,speed:600,watchOverflow:I,loop:I,onSwiper:k},t.map((e,t)=>i.a.createElement(v.a,{tag:P,key:e+t,index:t,photoUrl:e,title:a,style:u,onLoad:U,onClick:R}))):i.a.createElement("div",{className:C.a.preloader},i.a.createElement("div",null,i.a.createElement(E.a,null))),I&&i.a.createElement("div",{className:o()(C.a.controlsContainer,{[C.a.hidden]:!M})},i.a.createElement("div",{className:o()(C.a.controls,C.a.noSwiping),style:u.pagination},i.a.createElement("div",{className:C.a.control,ref:m},i.a.createElement(y.p,{size:16})),i.a.createElement("div",{className:C.a.pagination,ref:b}),i.a.createElement("div",{className:C.a.control,ref:p},i.a.createElement(y.q,{size:16})))),i.a.createElement("div",{className:o()(C.a.closeButtonWrapper,C.a.noSwiping),onClick:d,style:{display:"flex"}},i.a.createElement("div",{className:C.a.closeButton,style:u.common},i.a.createElement(y.nb,{size:14}))),w&&i.a.createElement(i.a.Suspense,{fallback:null},i.a.createElement(O.a,{activeIndex:S,images:t.map(e=>({url:e})),onClose:F})))};var N=a("SG7T"),I=a("OqJV"),T=a.n(I),M=a("daAW"),L=a("RnxZ"),B=a("9j0U"),F=a("9nPs"),R=a("bekz"),A=a("mz7T"),U=a("aEcQ"),z=a("bjXo"),D=a("c9JU"),W=a("JoJJ"),V=a("j69l"),q=a.n(V);function H(){return(H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var G=function(e){let{service:t,interactive:a,onCartAdd:n,productCurrency:l,...o}=e;const c=Object(F.b)(),{generateUrl:d}=Object(B.a)(),{router:m}=Object(R.c)(),{currentOrder:p,saveOrderId:b}=Object(A.a)(),{_id:g}=Object(U.b)(),{contentStyle:f}=Object(z.a)(),h=Object(s.useMemo)(()=>!(null==p||!p.items.find(e=>e.productId===t._id)),[p,t._id]),v=Object(s.useMemo)(()=>{var e,t;const a=null==p||null===(e=p.items[0])||void 0===e||null===(t=e.price)||void 0===t?void 0:t.currency;return!(!a||a===l)},[null==p?void 0:p.items,l]),[y,E]=r()(!1),[{loading:O},j]=T()(async()=>{if(h||!a)return;if(v)return void E(!0);const e={items:[{productId:t._id,quantity:1}]};let r;return p?r=await c.orders.modify({orderId:p._id,payload:e}):(r=await c.orders.create({pageId:g,payload:e}),b(r._id)),n&&n(),r},[a,t._id,g,p,h,v,b]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(D.a,H({fullWidth:!0,className:q.a.root,theme:f,disabled:!a,isFetching:O,beforeIcon:h&&i.a.createElement(L.a,null)},h?{tag:M.b,to:{pathname:m.orders.toView(p._id,d(".")),state:{backPath:m.product.toView(t.slug)}}}:{onClick:j},o),h?Object(u.a)("to_cart"):Object(u.a)("buy")),y&&i.a.createElement(W.a,{overlay:!0,compact:!0,padding:!0,title:Object(u.a)("error_occurred"),onClose:E},i.a.createElement("div",{style:{textAlign:"center"}},Object(u.a)("different_currencies_error"))))};const $=e=>{let{contacts:t,service:a,interactive:n,enabledPayments:r,onCartAdd:l,currency:o,...s}=e;const{renderBlock:c}=Object(N.b)();return i.a.createElement("div",Object(j.a)(C.a.contacts,s),r&&i.a.createElement("div",{className:C.a.actionsBuy,style:{marginBottom:null!=t&&t.length?0:12}},i.a.createElement(G,{service:a,productCurrency:o,interactive:n,onCartAdd:l})),(null==t?void 0:t.length)>0&&t.map(c))};var K=a("ogeA"),Z=a("FErb");const J=e=>{var t,a;let{service:n,themeStyles:r}=e;const l=(null===(t=n.externalButton)||void 0===t?void 0:t.url)||n.externalUrl,o=l&&(e=>{try{return e&&new URL(e)}catch(e){return null}})(l);return l?i.a.createElement(D.a,{fullWidth:!0,tag:Z.a,theme:r,href:l,"data-id":n._id,"data-title":n.title||n.name,"data-element":"custom-link","data-event-name":Object(K.a)(l),className:C.a.externalButton},i.a.createElement("div",{className:C.a.buttonContent},i.a.createElement("span",null,(null===(a=n.externalButton)||void 0===a?void 0:a.title)||Object(u.a)("visit_website")),!!o&&i.a.createElement("span",{className:C.a.url},o.hostname))):null};var Y=a("3X63");function Q(e){let{service:{description:t,price:a},service:n,contacts:l,isActive:p,isPrev:b,isNext:g,interactive:f,themeStyles:h,backUrl:v,onClose:y}=e;const{enabledPayments:E}=Object(m.c)(),[O,j]=r()(!1),k=Object(s.useRef)(null),w=n.title||n.name,_=!Object(d.a)(h.backgroundColor),P=Object(s.useMemo)(()=>{const{color:e,backgroundColor:t}=h;return{common:{color:e,backgroundColor:t},color:{color:e},background:{backgroundColor:t},pagination:{backgroundColor:t.slice(0,-2)+"80",color:e},contacts:{backgroundImage:`linear-gradient(to bottom, ${t.substring(0,7)}00 0%, ${t} 18px, ${t} 100%)`}}},[h]),x=p||b||g,N=(E||l&&l.length>0)&&i.a.createElement($,{style:P.contacts,contacts:l,service:n,interactive:f,enabledPayments:E,onCartAdd:j,currency:null==a?void 0:a.currency}),I=Object(s.useCallback)(e=>{var t;null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),y(v)},[v,y]);return Object(s.useEffect)(()=>{k.current&&0!==k.current.scrollTop&&k.current.scrollTo({top:0,behavior:"smooth"})},[x]),Object(s.useEffect)(()=>{if(!O)return;const e=setTimeout(()=>j(!1),1e3);return()=>{clearTimeout(e)}},[O]),i.a.createElement("div",{className:C.a.wrapper},i.a.createElement("div",{className:o()(C.a.root,{[C.a.active]:p}),ref:k,style:P.color},i.a.createElement(S,{photos:n.photos,title:w,isActive:p,isPrev:b,isNext:g,themeStyles:h,style:P,onClose:I}),i.a.createElement("div",{className:o()(C.a.content,_&&C.a.dark)},i.a.createElement("div",null,i.a.createElement("h1",{className:C.a.title},w),a&&i.a.createElement("div",{className:C.a.price,style:P.color},a.formattedDiscount&&i.a.createElement("span",{className:C.a.discountPrice},0===a.discount?Object(u.a)("free"):a.formattedDiscount),0===a.amount?Object(u.a)("free"):i.a.createElement("span",{className:a.formattedDiscount?C.a.lineThrough:null},a.formatted)),i.a.createElement(J,{themeStyles:h,service:n})),t&&i.a.createElement("p",{className:C.a.description},t),N&&i.a.createElement("div",{className:C.a.fixedPane},N),i.a.createElement(c.a,null,O&&i.a.createElement(c.b.div,{className:C.a.cartBouncer,animate:{bottom:16},exit:{bottom:-60},transition:{type:"spring",stiffness:100}},i.a.createElement(Y.a,{style:{position:"absolute",bottom:0,right:0}}))))),N)}},AQGM:function(e,t,a){e.exports={root:"_8-zb9UF0",topPanel:"wD6MYl1C",header:"_1ueG_iuU",backLink:"_3A5bHMpl",title:"_3o4UECHt",preview:"WsbjsjWF"}},AYI7:function(e,t,a){e.exports={imageUploadContainer:"_1XCEMBI1",imagesBlock:"_1xWAi80z",imagesList:"_13txC9Uy",imagePreview:"_3jPhN0RN",sortable:"_24HAYq7O",mainImageIcon:"_34SPqSaC",removePhotoBtn:"_1hazS1rV",imagePreviewContainer:"_21uQ0FDF",addPhotoBtn:"_116-rWN9",addPhotoBtnInput:"_220t2l7d",addPhotoBtnContent:"_3yNMV1c9",addPhotoBtnPlus:"d_La9xJG"}},AZaG:function(e,t,a){e.exports=a.p+"ui/img/colors.png"},AobH:function(e,t,a){e.exports={root:"_8a_hjzPI",pane:"_1AIJUvaz",products:"_3ELrtD5Y",messengers:"_343uMopS",sectionHeading:"EmJXIY9m",buttons:"_1ec_G1Vc",paymentButtons:"_2D5P-EsH"}},AyoN:function(e,t,a){"use strict";var n=a("ERkP"),r=a.n(n),l=a("05Xt");function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const s={"extra-fast":100,fast:200,normal:300,slow:500,"extra-slow":800};var i=a("p7gr"),c=a.n(i);t.a=function(e,t){function a(e){let{in:a,appear:n,duration:i,children:c,...u}=e;const d=i in s?s[i]:i,m=r.a.cloneElement(c,{...c.props,style:{...c.props.style,transitionDuration:d+"ms"}},c.props.children);return r.a.createElement(l.a,o({unmountOnExit:!0,in:a,appear:n,timeout:d,classNames:t},u),m)}return a.defaultProps={in:!1,appear:!1,duration:"slow"},a.displayName=e,a}("Fade",c.a)},BDZU:function(e,t,a){e.exports={root:"_3FQC3j8t",counter:"_2CoofjoG",input:"FxeVuoLS",inlineEdit:"_3FOXJYH8",error:"_3uicicaH",sizeNormal:"_1OdE2tfB",small:"_3kZ1ohAb",grey:"_34W0Elyg",disabled:"_369krVg7",select:"b7LfVWcC","input-wrapper":"_36QWC-Hw",inputWrapper:"_36QWC-Hw",builderInput:"_1jDJbVZs",hexInput:"aSkwu-kr",contextBlock:"_2uN_00ek",clearAddon:"_2ohuNewl",icon:"_28qttYXA",root_grey:"_2Pw21nfY",rootGrey:"_2Pw21nfY",before:"_3nLZfnnt",after:"_2QXEhrpg",hasRightAddon:"_1PXVPb8D",hidden:"_13cK3vzT","padding-right":"JQjly3pS",paddingRight:"JQjly3pS",clearable:"_1opAtTOp"}},BTiL:function(e,t,a){e.exports={root:"_21qkvQiP",logoBox:"XRRj7Xu3",logoBorder:"_10CGdG_H",content:"Bwl7pcSD",left:"_2OR8jADY",right:"_2h4W18nH"}},BX6u:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a("O94r"),r=a.n(n),l=a("ERkP"),o=a.n(l),s=a("ENGl"),i=a("ZUB1");function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function u(e,t){return l.createElement(i.b,c({fill:"none",viewBox:"0 0 24 24",ref:t},e),l.createElement("path",{d:"M22 11.08V12a10 10 0 11-5.93-9.14",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M22 4L12 14.01l-3-3",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var d=l.forwardRef(u);function m(){return(m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function p(e,t){return l.createElement(i.b,m({fill:"none",viewBox:"0 0 24 24",ref:t},e),l.createElement("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var b=l.forwardRef(p),g=a("ywyh"),f=a.n(g);const h=e=>{let{active:t,disabled:a,size:n=24,children:l,color:i,contentClass:c,...u}=e;return o.a.createElement("div",Object(s.a)([f.a.root,t&&f.a.active,a&&f.a.disabled],u),o.a.createElement("div",{className:r()(f.a.content,c)},l),o.a.createElement("div",{className:f.a.check},t?o.a.createElement(d,{color:i,size:n}):o.a.createElement(b,{color:i,size:n})))}},BZFO:function(e,t,a){e.exports={root:"NhHrezGh",fetching:"_3rYlbVbk",productsList:"_3AG2h_3f",sortable:"cqqddTLX"}},BeaO:function(e,t,a){var n={"./en/products.json":["RAbp",0],"./ru/products.json":["YWNx",1],"./uk/products.json":["6pkB",2]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a.t(r,3)}))}r.keys=function(){return Object.keys(n)},r.id="BeaO",e.exports=r},BqG0:function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"f",(function(){return i})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return d}));var n=a("v6Oa"),r=a("WusW");class l extends n.a{constructor(e){super(),this.name="ApiError",this.errors={},this.status=500,Object.assign(this,e)}static is(e){return!!e&&(this.name===e.name||this.type===e.type||e instanceof this)}get type(){return this.name}}class o extends l{constructor(){super(...arguments),this.name="RequestError"}}class s extends l{constructor(e){super({status:404,message:"NotFound error",...e}),this.name="NotFoundError"}}class i extends l{constructor(e){super({status:400,message:"Validation error",errors:Object(r.i)(e.json),...e}),this.name="ValidationError"}}class c extends l{constructor(e){super({status:401,message:"Authorization error",...e}),this.name="AuthorizationError";const t=e.json;null!=t&&t.permission&&(this.permission=t.permission,this.code=t.code,this.plan=t.plan,this.target=t.target)}isFeatureAccessError(){return!!this.permission}}class u extends l{constructor(e){let{status:t,message:a,json:{error:n}}=e;super({status:t||403,message:(null==n?void 0:n.message)||a||"Forbidden"}),this.name="ForbiddenError",this.code=null==n?void 0:n.code}}class d extends l{constructor(e){super({status:429,message:e.json.error||"Too Many Requests",within:e.json.within,...e}),this.name="LimitRequestsError"}}},"Bu+i":function(e,t,a){e.exports={root:"_3Jzo2Yhb"}},CEBz:function(e,t,a){e.exports={badge:"_3PR88RbU",count:"_2dW8LHqA"}},CUtQ:function(e,t,a){e.exports={root:"_1sFRTjHs",layout:"_29GTx8Ht",rootInner:"_3-C6XtKn",content:"_21cCGj8G",contentInner:"_1zP1fyyp",embedded:"_3Ip34wXr"}},CX5T:function(e,t,a){"use strict";var n=a("ERkP"),r=a("ZUB1");function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function o(e,t){return n.createElement(r.b,l({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M15 2H9a1 1 0 00-1 1v2a1 1 0 001 1h6a1 1 0 001-1V3a1 1 0 00-1-1z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}const s=n.forwardRef(o);t.a=s},CvQj:function(e,t,a){e.exports=a.p+"landings/img/poweredByGiphy.png"},D1I9:function(e,t,a){e.exports={label:"y2OGXN6B",icon:"_5QT_yuqA",typesList:"_97-5_0U2"}},D79b:function(e,t,a){e.exports={intro:"_3T55X1yL",currencyBadgeWrapper:"_4ZHLacpa",lax:"_3ON1dxUG",currencyCode:"_1niSoud1",currencySeparator:"_1tIggsv5",colsGroup:"_29BOBUA3"}},DXsD:function(e,t,a){e.exports={root:"IUcSwpnU"}},DiuU:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("JMwB"),r=a("yDK5"),l=a("WusW"),o=a("BqG0");class s{constructor(e){let{method:t,url:a,payload:n,headers:r={}}=e;this.method=t,this.url=a,this.payload=n,this.headers=r}}class i extends r.EventEmitter{constructor(e){let{baseUrl:t="/api",headers:a,middlewares:n=[]}=e;super(),this._baseUrl=Object(l.h)(t),this._headers=a,this._params={},this._middlewares=n,this.addMiddleware(this.addHeaders)}addMiddleware(e){this._middlewares.push(e)}addHeaders(e){e.headers["Accept-Language"]=navigator.language}param(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];if(0===t.length)throw new Error("key argument is required");if(1===t.length)return this._params[t[0]];const[n,r]=t;null==r?delete this._params[n]:this._params[n]=r}generateUrl(e){let{endpoint:t,params:a={},query:r={}}=e;const l=Object(n.a)(t)({...this._params,...a}),o=new URL(this._baseUrl+l);for(const[e,t]of Object.entries(r))if(t&&"object"==typeof t)for(const[a,n]of Object.entries(t))o.searchParams.append(`${e}[${a}]`,n);else o.searchParams.append(e,t);return o}createApiRequest(e,t,a){const n=new s({method:e.toUpperCase(),url:t,payload:a,headers:{...this._headers}});return this._middlewares.forEach(e=>{e.call(this,n)}),n}async execRequest(e){let t;try{t=await fetch(e.url,{credentials:"same-origin",mode:"cors",method:e.method,body:e.payload,headers:e.headers})}catch(t){throw t.message=`${t.message}\n\tat "${e.url}"`,t}const a=Object(l.f)(t.headers),n=a?await t.json():void 0;if(t.ok)return a?n:await t.text();switch(t.status){case 400:case 422:throw new o.f({status:t.status,json:n});case 401:throw new o.a({status:t.status,json:n});case 403:throw new o.b({status:t.status,json:n});case 404:throw new o.d({status:t.status,json:n});case 429:throw new o.c({status:t.status,json:n});default:throw new o.e({status:t.status,message:t.statusText,json:n})}}async apiCall(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{payload:n,query:r,...l}=a,o=this.generateUrl({endpoint:t,params:l,query:r}),s=this.createApiRequest(e,o,n);return this.execRequest(s)}method(e,t){return a=>this.apiCall(e,t,a)}get(e){return this.method("GET",e)}put(e){return this.method("PUT",e)}patch(e){return this.method("PATCH",e)}post(e){return this.method("POST",e)}delete(e){return this.method("DELETE",e)}}},EL29:function(e,t,a){e.exports={root:"_1h0R6UTk"}},ENGl:function(e,t,a){"use strict";var n=a("kUU+"),r=a.n(n),l=a("O94r"),o=a.n(l);const s=r()((e,t)=>({...t,className:o()(e,t.className)}));t.a=s},ERHk:function(e,t,a){e.exports=a.p+"landings/img/tiktokTip.jpg"},ESaj:function(e,t,a){"use strict";var n=a("ERkP");function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var l=n.createElement("path",{d:"M6.08 3.625v12.688c0 .75.629 1.359 1.404 1.359.775 0 1.403-.609 1.403-1.36V3.626c0-.75-.628-1.36-1.403-1.36s-1.403.61-1.403 1.36zm11.226 1.813v12.687c0 .75.629 1.36 1.404 1.36.775 0 1.403-.61 1.403-1.36V5.437c0-.75-.628-1.359-1.403-1.359s-1.404.609-1.404 1.36zm-5.612-3.625V14.5c0 .75.628 1.36 1.403 1.36s1.403-.61 1.403-1.36V1.812c0-.75-.628-1.359-1.403-1.359s-1.403.609-1.403 1.36zM26.52 19.619l-11.845 5.525c-3.956 1.845-8.708.234-10.614-3.599a7.504 7.504 0 01-.787-3.342V8.156c0-.75-.628-1.36-1.403-1.36s-1.403.61-1.403 1.36v10.047c0 1.566.364 3.111 1.065 4.521 2.577 5.187 9.007 7.366 14.36 4.87l11.845-5.525c.698-.326.992-1.139.655-1.815-.336-.676-1.174-.96-1.873-.635z",fillRule:"evenodd"});t.a=function(e){return n.createElement("svg",r({viewBox:"-10 -10 49 49"},e),l)}},EUVg:function(e,t,a){e.exports={root:"_3WZ38uKF",preview:"_3qf2OIMS",innerContent:"_2VNyTphc",imageContainer:"_2L615uwL",actionsContainer:"_2Jwn6Uss",fileInput:"_1k0X-vez",opacityBlock:"_3AwAqOMu"}},EoaD:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const n=(e,t)=>e===t;function r(e,t){let{ordered:a,isEqual:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.length===t.length&&(a?!t.some((t,a)=>!r(e[a],t)):!t.some(t=>!e.some(e=>r(e,t))))}},EwNN:function(e,t,a){"use strict";var n,r=a("SRTf");t.a=Object(r.a)(null===(n=window.navigator)||void 0===n?void 0:n.userAgent)},FDOz:function(e,t,a){e.exports={centered:"_3uV6ogoG",logoBox:"_1sr6HW8u",content:"_3NpaYGhD"}},FErb:function(e,t,a){"use strict";var n=a("ERkP"),r=a.n(n);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.a=function(e){return r.a.createElement("a",l({target:"_blank",rel:"noopener noreferrer"},e))}},"FW/3":function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("ERkP"),r=a.n(n),l=a("ENGl"),o=a("0MFu"),s=a("rKKn"),i=a.n(s);function c(e){let{path:t,opacity:a,...n}=e;const{getMediaSizeUrl:s}=Object(o.b)();return r.a.createElement("div",Object(l.a)(i.a.root,n),r.a.createElement("img",{src:s(t,o.a.Large),alt:"background image",style:{opacity:a}}))}c.defaultProps={opacity:1,style:{}}},Fyjq:function(e,t,a){"use strict";var n={};a.r(n),a.d(n,"messenger",(function(){return f})),a.d(n,"skype",(function(){return h})),a.d(n,"telegram",(function(){return y})),a.d(n,"viber",(function(){return O})),a.d(n,"vk",(function(){return k})),a.d(n,"whatsapp",(function(){return C})),a.d(n,"instagram",(function(){return _}));var r=a("ERkP"),l=a.n(r),o=a("QwRn"),s=a("ENGl"),i=a("2cVh"),c=a("ZFej"),u=a("O94r"),d=a.n(u),m=a("EwNN"),p=a("qDrI");class b{constructor(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._ua=e,this._name=t.name,this._bot="public"===t.type,this._secret="secret"===t.type,this._community="community"===t.type,this._redirectUrl=t.redirectUrl,this._params={},this._auto="auto"===t.type;for(let e in a)this.isSupported(e)&&this.addParam(e,a[e])}isSupported(e){return!1}addParam(e,t){if(!this.isSupported(e))throw new Error(`Unsupported param "${e}"`);this._params[e]=t}removeParam(e){delete this._params[e]}getUrl(){}getRedirectUrl(){return this._redirectUrl+Object(p.a)(this._params)}getPlatform(){}}const g=["ref"];class f extends b{isSupported(e){return!!(this._bot&&g.indexOf(e)>=0)}getUrl(){return this._auto?this._name:"https://m.me/"+(this._name+Object(p.a)(this._params))}getPlatform(){return"messenger"}}class h extends b{getUrl(){return`skype:${this._name}?chat`}getPlatform(){return"skype"}}const v=["start"];class y extends b{isSupported(e){return!!(this._bot&&v.indexOf(e)>=0)}getUrl(){return this._auto?this._name:this._secret?"tg://join?invite="+this._name:/^https?:\/\/t\.me\/(\+|joinchat\/).+$/i.test(this._name)?this._name.replace(/(^https?:\/\/t\.me\/(?:\+|joinchat\/))(.+)/,"tg://join?invite=$2"):"tg://resolve"+Object(p.a)(Object.assign({domain:this._name},this._params))}getPlatform(){return"telegram"}}const E=["context","text"];class O extends b{isSupported(e){return!!(this._bot&&E.indexOf(e)>=0)}getUrl(){if(this._bot)return"viber://pa"+Object(p.a)(Object.assign({chatURI:this._name},this._params));if(this._community)return this._name;{const e=this._ua.Android?this._name.replace("+",""):this._name;return"viber://chat"+Object(p.a)(Object.assign({number:e},this._params))}}getPlatform(){return"viber"}}const j=["ref","ref_source"];class k extends b{isSupported(e){return!!(this._bot&&j.indexOf(e)>=0)}getUrl(){return this._auto?this._name:"https://vk.me/"+(this._name+Object(p.a)(this._params))}getPlatform(){return"vk"}}const w=["text"];class C extends b{isSupported(e){return w.indexOf(e)>=0}getUrl(){if(this._auto||this._bot)return this._name;return"https://wa.me/"+(this._name.replace("+","")+Object(p.a)(this._params))}getPlatform(){return"whatsapp"}}class _ extends b{getUrl(e){return e&&e.isMobile?this._name:"https://instagram.com/"+this._name.replace(/^https:\/\/ig\.me\/m\//i,"")}getPlatform(){return"instagram"}}const P=(x=m.a,(e,t)=>{const a=e.messenger;if(!n[a])throw new Error("Unsupported platform");return new n[a](x,e,t)});var x;function S(){return(S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var N=r.createElement("path",{d:"M18.2 11.3c-.5-.5-2.7-2.1-7.5-2.1 0 0-5.7-.3-8.5 2.2C.6 13 .1 15.2 0 18c0 2.8-.1 8.1 5 9.5v2.2s0 .9.5 1.1c.7.2 1.1-.5 1.8-1.2.4-.4.9-1 1.3-1.4 3.5.3 6.1-.4 6.4-.5.7-.2 4.7-.7 5.3-6 .7-5.4-.3-8.9-2.1-10.4m.6 10c-.5 4.4-3.8 4.7-4.4 4.9-.3.1-2.6.7-5.5.5 0 0-2.2 2.6-2.9 3.3-.1.1-.2.2-.3.1-.1 0-.2-.2-.1-.4v-3.6c-4.3-1.2-4-5.7-4-8s.5-4.3 1.8-5.6c2.4-2.1 7.2-1.8 7.2-1.8 4.1 0 6 1.2 6.5 1.7 1.5 1.3 2.2 4.4 1.7 8.9"}),I=r.createElement("path",{d:"M12.6 18.2c-.1 0-.3-.1-.3-.3 0-.9-.5-1.4-1.4-1.4-.2 0-.3-.1-.3-.3 0-.2.1-.3.3-.3 1.2.1 1.8.7 1.9 1.9.1.2 0 .4-.2.4"}),T=r.createElement("path",{d:"M14 18.7c-.2 0-.3-.1-.3-.3 0-.9-.2-1.7-.8-2.3-.6-.6-1.3-1-2.4-1-.2 0-.3-.1-.3-.3 0-.2.1-.3.3-.3 1.2.1 2.1.5 2.7 1.2.7.7 1 1.6 1 2.7.1.1 0 .3-.2.3"}),M=r.createElement("path",{d:"M15.5 19.2c-.1 0-.3-.1-.3-.3 0-1.7-.5-2.9-1.5-3.9-1-.9-2.2-1.4-3.6-1.4-.2 0-.3-.1-.3-.3 0-.2.1-.3.3-.3 1.6 0 2.9.5 4 1.6 1.1 1 1.6 2.5 1.6 4.3 0 .2-.1.3-.2.3zM11.1 21.6s.4 0 .6-.2l.4-.5c.2-.3.7-.4 1.1-.2.3.1.7.4 1 .6.3.2.9.7.9.7.3.3.4.6.2 1s-.5.7-.8 1c-.3.2-.6.4-.9.4h-.1c-.1 0-.2 0-.4-.1-.4-.1-1.1-.4-2.3-1.1-.8-.4-1.4-.9-2-1.3-.3-.2-.6-.5-.9-.8-.3-.3-.6-.6-.8-.9-.4-.5-.9-1.2-1.3-2-.7-1.2-1-1.9-1.1-2.3 0-.1-.1-.2-.1-.4v-.1c0-.3.2-.6.4-.9.3-.4.7-.6 1-.8.4-.2.8-.1 1 .2 0 0 .5.6.7.9.2.3.5.7.6 1 .3.5.1.9-.2 1.1l-.5.4c-.1.3-.1.7-.1.7s.7 2.9 3.6 3.6"});var L=function(e){return r.createElement("svg",S({viewBox:"-0.7 9 22 22"},e),N,I,T,M)};function B(){return(B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var F=r.createElement("path",{d:"M18.3 10.9s2.9-4.1 3.2-5.4c.1-.5-.1-.7-.6-.7h-2.5c-.6 0-.8.2-1 .6 0 0-1.4 2.9-3 4.7-.5.6-.8.8-1.1.8-.2 0-.3-.2-.3-.7V5.5c0-.7-.1-.8-.6-.8h-4c-.3 0-.5.2-.5.4 0 .6.9.8.9 2.4v3.4c0 .7 0 1-.4 1-.9 0-2.9-3-4.1-6.4-.2-.7-.5-.9-1.1-.9H.6c-.4 0-.6.2-.6.6 0 .7.8 3.8 3.9 7.9 2.1 2.8 4.8 4.3 7.3 4.3 1.5 0 1.9-.2 1.9-.9v-2.2c0-.5.2-.8.5-.8s1 .1 2.4 1.5c1.7 1.6 1.8 2.3 2.7 2.3h2.8c.3 0 .6-.1.6-.6 0-.6-.8-1.8-2.1-3.1-.5-.7-1.4-1.4-1.6-1.8-.5 8.7-.4 8.5-.1 8.1"});var R=function(e){return r.createElement("svg",B({viewBox:"0 0 22 22"},e),F)};function A(){return(A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var U=r.createElement("path",{d:"M7.57 10.532l7.034 5.197c.802.443 1.382.214 1.582-.745l2.863-13.493C19.342.316 18.6-.217 17.833.131L1.02 6.616C-.128 7.075-.121 7.715.81 8l4.315 1.347 9.99-6.302c.47-.286.903-.132.548.183"});var z=function(e){return r.createElement("svg",A({viewBox:"-0.5 -2 20 20"},e),U)};function D(){return(D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var W=r.createElement("path",{d:"M21.2 21.8v.1-.2.1c.1-.6.2-1.3.2-1.9 0-1.4-.3-2.8-.8-4-.5-1.2-1.3-2.3-2.2-3.3-1-1-2.1-1.7-3.3-2.2-1.3-.5-2.6-.8-4-.8-.7 0-1.3.1-2 .2 0 0 .1 0 .1.1H9h.1C8.2 9.3 7.2 9 6.2 9c-1.7 0-3.2.7-4.4 1.8C.6 12 0 13.5 0 15.2c0 1 .3 2.1.8 3v-.1.2s0-.1-.1-.1c-.1.6-.2 1.2-.2 1.8 0 1.4.3 2.8.8 4 .5 1.2 1.3 2.3 2.2 3.3 1 1 2.1 1.7 3.3 2.2 1.3.5 2.6.8 4 .8.6 0 1.2-.1 1.8-.2 0 0-.1 0-.1-.1h.1c.9.5 2 .8 3 .8 1.6 0 3.2-.6 4.3-1.8 1.2-1.2 1.8-2.7 1.8-4.3.3-.9 0-2-.5-2.9zM11 26.3c-3.7 0-5.3-1.8-5.3-3.2 0-.7.5-1.2 1.2-1.2 1.6 0 1.2 2.3 4.1 2.3 1.5 0 2.3-.8 2.3-1.7 0-.5-.2-1.1-1.2-1.3l-3.3-.8c-2.6-.7-3.1-2.1-3.1-3.4 0-2.8 2.6-3.8 5.1-3.8 2.3 0 5 1.3 5 2.9 0 .7-.6 1.1-1.3 1.1-1.3 0-1.1-1.9-3.8-1.9-1.3 0-2.1.6-2.1 1.5s1.1 1.1 2 1.4l2.4.5c2.7.6 3.3 2.1 3.3 3.6 0 2.3-1.7 4-5.3 4zm1.7 3.8s.1 0 .1.1h.1l-.2-.1zm8.5-8.2v-.1s0-.1-.1-.1l.1.2zM.8 18v.1s0 .1.1.1L.8 18zm8.3-8.2s-.1 0-.1-.1h-.1l.2.1z"});var V=function(e){return r.createElement("svg",D({viewBox:"-0.1 8.9 22 22"},e),W)};function q(){return(q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var H=r.createElement("path",{d:"M11.2 28.8c-2.8 0-5-1.5-5-1.5l-3.4 1.1 1.1-3.3s-1.8-2.5-1.8-5.4c0-5 4.1-9.1 9.1-9.1s9.1 4.1 9.1 9.1-4.1 9.1-9.1 9.1zm0-19.9C5.2 8.9.4 13.8.4 19.7c0 3 1.6 5.6 1.6 5.6l-2 5.8 5.9-1.9s2.2 1.3 5.2 1.3c6 0 10.8-4.9 10.8-10.8S17.1 8.9 11.2 8.9z"}),G=r.createElement("path",{d:"M7 15s.3-.2.4-.2h.9s.2 0 .3.3c.1.2.8 1.9.9 2.1.1.1.2.5 0 .7-.2.3-.7.8-.7.8s-.2.2 0 .4c.2.3.7 1.1 1.5 1.8.7.7 1.6 1.2 2.1 1.3.5.1.6 0 .7-.3.2-.2.7-.9.7-.9s.2-.3.6-.1c.4.2 2.1 1 2.1 1s.2 0 .2.3c0 .2.2 1-.5 1.7-.6.7-2 1-2.7.8-.6-.2-2.8-.7-4.2-2-1.4-1.3-2.5-2.7-3-3.7-.4-1-.3-1.6-.3-1.8 0-.3.2-1.6 1-2.2"});var $=function(e){return r.createElement("svg",q({viewBox:"0 9 22 22"},e),H,G)};function K(){return(K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Z=r.createElement("path",{d:"M9.7 9.8c-1.7.1-3.3.5-4.6 1.2-.2.1-.3.2-.3.2l-1.2.8c-4.5 3.6-4.9 10.6-.8 14.7l.4.4c.3.3.3.4.3 1.4 0 1.3 0 1.4.3 1.6.3.3.6.3 1.2.1.4-.2 1.8-.8 1.9-.8.2-.1.3 0 .7 0 2.3.6 4.7.4 6.9-.4 4.4-1.8 6.8-6.2 6-11-1-5.1-5.5-8.5-10.8-8.2m6.6 6.9c.4.2.3.3-.4 1.6-.3.5-.7 1.2-1 1.5-.2.3-.5.8-.6.9-.4.6-.6 1-.8 1.2-.4.6-.8.9-1.4.9-.6 0-.5 0-2-1.1s-1.4-1.1-1.6-1.1c-.3-.1-.3-.1-1.3.7-2.4 1.9-2.5 1.9-2.6 1.9-.3 0-.6-.2-.6-.5 0-.2 0-.2.3-.6.2-.1.3-.3.7-.9.1-.1.2-.3.3-.4.1-.1.2-.3.3-.4.1-.1.3-.4.4-.7.2-.3.4-.7.6-.9.1-.3.3-.7.4-.8.4-.6.8-.8 1.4-.8.5 0 .5 0 2.1 1.2 1.4 1 1.4 1 1.6 1 .2 0 .1.1 2.5-1.8 1.3-1 1.4-1.1 1.7-.9"});var J=function(e){return r.createElement("svg",K({viewBox:"-0.7 9 22 22"},e),Z)};function Y(){return(Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Q=r.createElement("path",{d:"M10.345 11.865c2.762 0 3.09.01 4.181.06 2.804.128 4.113 1.458 4.24 4.24.05 1.091.06 1.419.06 4.18 0 2.764-.01 3.09-.06 4.181-.128 2.78-1.434 4.113-4.24 4.24-1.091.05-1.417.061-4.181.061-2.762 0-3.09-.01-4.18-.06-2.81-.129-4.113-1.465-4.24-4.242-.05-1.09-.061-1.417-.061-4.18 0-2.762.011-3.089.06-4.18.129-2.782 1.435-4.113 4.24-4.24 1.092-.05 1.419-.06 4.181-.06zm0-1.865c-2.81 0-3.161.012-4.265.062C2.323 10.235.235 12.32.063 16.08.013 17.184 0 17.535 0 20.345s.012 3.162.062 4.266c.172 3.756 2.257 5.845 6.017 6.017 1.105.05 1.456.062 4.266.062s3.162-.012 4.266-.062c3.753-.172 5.846-2.257 6.016-6.017.05-1.104.063-1.457.063-4.266 0-2.81-.012-3.161-.062-4.265-.169-3.753-2.256-5.845-6.017-6.017-1.104-.05-1.457-.063-4.266-.063zm0 5.033a5.312 5.312 0 100 10.625 5.312 5.312 0 000-10.625zm0 8.76a3.448 3.448 0 110-6.896 3.448 3.448 0 010 6.896zm5.522-10.211a1.242 1.242 0 100 2.484 1.242 1.242 0 000-2.484z"});var X={viber:L,vk:R,telegram:z,line:V,skype:V,whatsapp:$,messenger:J,instagram:function(e){return r.createElement("svg",Y({viewBox:"-0.7 9.4 22 22"},e),Q)}},ee=a("ugfU"),te=a.n(ee);function ae(){return(ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const ne=e=>m.a.isMobile||"viber"!==e.platform?P(e).getUrl(m.a):e.redirectUrl;function re(e){let{index:t,count:a,messenger:n,interactive:r,className:o,theme:s,style:i,...c}=e;const u={...n,messenger:n.platform,name:n.value},p=u.platform,b=a>1,g=b&&!!t,f=b&&!(t>=a-1),h=r?"a":"div",v=X[p],y=a>4&&"beefy"===s.messengersMode;return l.a.createElement(h,ae({className:d()(te.a.root,te.a[p],te.a[s.messengersMode],{[te.a.notFirst]:g,[te.a.notLast]:f,[te.a.themeColors]:s.themeColors,[te.a.squeeze]:y},o),target:"_blank",rel:"noopener noreferrer",href:ne(u),"data-messenger":p,style:{...i,color:s.themeColors?i.color:"#fff"}},c,{onClick:e=>{if(!r)return e.preventDefault();if(m.a.Android){e.preventDefault();const{currentTarget:t}=e,a=t.href;window.open(a)}}}),l.a.createElement(v,{className:"logo"}),l.a.createElement("div",{className:te.a.splitter}),(!b||(e=>"compact"!==e.messengersMode)(s))&&l.a.createElement("span",null))}re.defaultProps={className:""};var le=re,oe=a("7b/9"),se=a.n(oe);function ie(){return(ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ce(e){let{block:t,insets:a,interactive:n,...o}=e;const{theme:u,style:d}=Object(i.a)(t),m=t.messengers.filter(e=>e.enabled),p=m.length,b="beefy"===u.messengersMode,g=Object(r.useMemo)(()=>u.padding?a:{...a,margin:c.a.removeHorizontalInsets(a.margin)},[u.padding,a]);return l.a.createElement(c.a,ie({insets:g},Object(s.a)([se.a.root,se.a[u.messengersMode+"Mode"],b&&se.a.squeeze],o)),p>0&&l.a.createElement("ul",{className:se.a.list,"data-count":p},m.map((e,t)=>l.a.createElement(l.a.Fragment,{key:e.platform+t},t>0&&l.a.createElement("li",{className:se.a.break}),l.a.createElement("li",{key:e.platform+t},l.a.createElement(le,{count:p,index:t,messenger:e,interactive:n,theme:u,style:d}))))),0===m.length&&l.a.createElement("div",{className:se.a.placeholder,"data-count":m.length},l.a.createElement("div",{style:d}),l.a.createElement("div",{style:d}),l.a.createElement("div",{style:d}),l.a.createElement("div",{style:d})))}ce.defaultProps=c.a.defaultProps,ce.kind=o.o;t.a=ce},FzeQ:function(e,t,a){e.exports={root:"_1dQs-yBr",topPanel:"_3acOWVOe",slim:"_3t6E25be",content:"_14Nlor5g",padded:"_32rshq9P",light:"wAnaJtXd",inverse:"_4oGzQfTK"}},"G8k+":function(e,t,a){e.exports={root:"_3y9gPC9m",disabled:"_1xqMysc8",addPhotoBtn:"q2LBRtfB",addPhotoBtnInput:"_2IDZPi-t",addPhotoBtnContent:"_34EyjBsG",removePhotoBtn:"_1ErQcD3A",imagePreview:"eRSv9BsO",sortable:"_2Bbdl-iH",mainImageIcon:"_2nlH4j0w",imagePreviewContainer:"_2-QQ_RMe"}},GDxB:function(e,t,a){e.exports={root:"_1JQo-LEb",backLink:"_3t9IFgRc",title:"_1OwpPs3e",slim:"_2bz0UFg7"}},GEq1:function(e,t,a){e.exports={root:"w4cOrvCK",uri:"_2SB8FbSF"}},GSBN:function(e,t,a){var n={"./en/userwebsite.json":["KHt6",0],"./ru/userwebsite.json":["HZ68",1],"./uk/userwebsite.json":["lt6M",2]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a.t(r,3)}))}r.keys=function(){return Object.keys(n)},r.id="GSBN",e.exports=r},Gfot:function(e,t,a){"use strict";t.a=(e,t)=>(t={lead:!1,end:!0,...t},0===e.length||(t.lead&&"/"===e.charAt(0)&&(e=e.slice(1)),t.end&&"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1))),e)},GmWt:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("ERkP");function r(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[t,a]=Object(n.useState)(e),r=Object(n.useCallback)(()=>a(!0),[]),l=Object(n.useCallback)(()=>a(!1),[]),o=Object(n.useCallback)(e=>a("boolean"==typeof e?e:e=>!e),[]);return[t,r,l,o]}},"HY/Q":function(e,t,a){e.exports={root:"_1YMwoW7A",viewMode:"_2RNSz0Qw",container:"_3sqgJfwF",sortMode:"_-4NF_GTl",row:"LTlpfKX5",backButton:"_3yjJgiRy",button:"_14z6wjDu",title:"_1oyEgTEt"}},Hp5t:function(e,t,a){e.exports=a.p+"landings/img/instagramTip.jpg"},"I+dq":function(e,t,a){"use strict";var n=a("ERkP"),r=a("ZUB1");function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function o(e,t){return n.createElement(r.b,l({viewBox:"0 0 29 29",fill:"none",ref:t},e),n.createElement("path",{d:"M5.76 3.242c0-.767.645-1.39 1.44-1.39.795 0 1.44.623 1.44 1.39v12.97c0 .767-.645 1.389-1.44 1.389-.795 0-1.44-.622-1.44-1.39V3.243zm11.52 1.853c0-.767.644-1.39 1.44-1.39.795 0 1.44.623 1.44 1.39v12.97c0 .767-.645 1.389-1.44 1.389-.796 0-1.44-.622-1.44-1.39V5.095zM11.52 1.39c0-.768.645-1.39 1.44-1.39.795 0 1.44.622 1.44 1.39v12.969c0 .767-.645 1.39-1.44 1.39-.795 0-1.44-.623-1.44-1.39V1.389zM26.735 19.59c.716-.333 1.577-.042 1.922.65.345.691.044 1.521-.673 1.854L15.83 27.743c-5.493 2.552-12.091.324-14.736-4.977A10.345 10.345 0 010 18.144V7.874c0-.767.645-1.39 1.44-1.39.795 0 1.44.623 1.44 1.39v10.27c0 1.183.276 2.35.808 3.416 1.955 3.919 6.831 5.566 10.892 3.679l12.155-5.648z",fill:"currentColor"}))}const s=n.forwardRef(o);t.a=s},I8l9:function(e,t,a){"use strict";var n=a("ERkP"),r=a.n(n),l=a("QwRn"),o=a("2cVh"),s=a("uYSu"),i=a("ZFej"),c=a("O94r"),u=a.n(c),d=a("QbNu"),m=a.n(d),p=a("FErb"),b=a("K1Ij"),g=a("EwNN"),f=a("ogeA"),h=a("SrJr"),v=a("MhLP"),y=a("eSoL"),E=a("prrS"),O=a.n(E);function j(){return(j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function k(e){let{block:t,link:a,interactive:n,theme:l,style:o,className:s,onClick:i,...c}=e;const{title:d,name:E,url:k}=Object(y.b)(a.page)||a,w=m()(o.backgroundColor).darken(4).toString(),C=n?p.a:"div";return r.a.createElement("div",{className:u()(O.a.wrapper,O.a[l.width])},r.a.createElement(C,j({"data-element":"custom-link","data-event-name":Object(f.a)(k),"data-id":t._id,"data-title":d||E||Object(h.a)(k),id:t._id,className:u()(O.a.root,l.icon&&O.a.hasIcon,s,"link-button"),href:k,style:o,onClick:e=>{if(!n)return e.preventDefault();if(i)return e.preventDefault(),i({link:a});if(g.a.Android){e.preventDefault();const{currentTarget:t}=e,a=t.href;window.open(a)}}},c),l.icon&&r.a.createElement("div",{className:O.a.icon,style:{borderRight:"1px solid "+w}},r.a.createElement(b.a,{name:l.icon,size:20})),r.a.createElement("div",{className:O.a.content},r.a.createElement("div",null,d||E||Object(h.a)(k)||Object(v.a)("link_placeholder")),l.urlSubtitle&&r.a.createElement("div",{className:O.a.subTitle},Object(h.a)(k)))))}k.defaultProps={className:"",onClick:null};var w=k;function C(){return(C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function _(e){let{block:t,onClick:a,insets:n,interactive:l,...c}=e;const{theme:u,style:d}=Object(o.a)(t),m=Object(s.b)(n,u.padding);return r.a.createElement(i.a,C({insets:m},c),r.a.createElement(w,{link:t.link,block:t,theme:u,style:d,interactive:l,onClick:a}))}_.defaultProps={...i.a.defaultProps,onClick:null},_.kind=l.m;t.a=_},IGmO:function(e,t,a){e.exports={root:"_2A-g-L8t"}},IN2C:function(e,t,a){e.exports={nav:"_2cR55btH",step:"_1h1RbcWG",current:"_2tK7bbbN",done:"_3ww5HFRy",icon:"_1YG4x_gl",mark:"_1awjTQgS",divider:"iNPNQ4uP"}},"IYO+":function(e,t,a){"use strict";var n=a("QbNu"),r=a.n(n);t.a=e=>{const t=null!=e&&e.getBrightness?e:new r.a(e);return t.getBrightness()>=220||t.getAlpha()<.35}},Ic6u:function(e,t,a){e.exports={root:"U74FWy7T",icon:"_3PYAjZoT",title:"_1vCvyQ4_",subTitle:"_3WdCClL2",orderTitle:"_1pe2oBl3"}},Ie7n:function(e,t,a){e.exports={headerButtons:"_8OtCbFmf",navItem:"oRZ9GWTq",navItemLabel:"_33XeFzig",navItemMeta:"_28wO2I6D",navItemMetaText:"Z3lQ8s1B",navItemIcon:"_3MUQgEDX",storeFrontHeader:"_2s6Z5Rne",storeFrontHeaderHeading:"_3V2W70o5",storeFrontHeaderCounter:"_2KGTdWMX"}},IfCt:function(e,t,a){e.exports={content:"BmTWnk0L",moreBtnContainer:"_255KtKq3",moreBtn:"_12qqqhVr",animated:"A7yekjwt",revealItem:"jW7ysaHV"}},IsRz:function(e,t,a){e.exports={root:"_1wTv6tNW",content:"jngAYCzh",cover:"_3CwM9fl7",line:"ENkvx4lU",image:"_2YZFUBRu",messengers:"_1eC1WXoG",modalContainer:"VBEAZA85",revealLayer:"_1gl1sYdl",modal:"BNhnw43F",revealModal:"t8CxdAKk",modalHeading:"_23D9CnmA",modalContent:"cPm7QESt"}},J7j6:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a("480R"),r=a.n(n),l=a("O94r"),o=a.n(l),s=a("oXEs"),i=a.n(s),c=a("ERkP"),u=a.n(c),d=a("3pNR"),m=a("ENGl"),p=a("WlUR"),b=a("BDZU"),g=a.n(b);function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}v.defaultProps={containerClassName:"",hasError:!1,disabled:!1,type:"text",inputStyle:"default",builderInput:!1,autoFocus:!1,isSelectAddon:!0};const h=(e,t,a)=>{let n=Object(p.a)(e);return n&&("string"!=typeof n&&a?a&&(n=u.a.cloneElement(n,Object(m.a)(o()(n.props.className,g.a.select),n.props))):n=u.a.createElement("div",{className:o()(g.a.contextBlock,t)},n)),n};function v(e){let{className:t,containerClassName:a,inputClassName:n,hasError:l,icon:s,size:m,beforeInput:p,afterInput:b,hexInput:v,hidden:y,maxLength:E,value:O,disabled:j,refInput:k,inputStyle:w,builderInput:C,autoFocus:_,isSelectAddon:P,clearable:x,...S}=e;const N=x&&!!O,I=Object(c.useCallback)(()=>{var e;return null===(e=S.onChange)||void 0===e?void 0:e.call(S,{target:{name:S.name,value:""}})},[S.name,S.onChange]),T=h(p,t,P),M=h(b,t,P),L=o()(g.a.root,{[g.a.icon]:s,[g.a.before]:T,[g.a.after]:M,[g.a.hidden]:y,[g.a.hexInput]:v,[g.a.disabled]:j,[g.a.builderInput]:C,[g.a.clearable]:N},w&&g.a["root_"+w],a),B=o()(t,g.a.input,{[g.a.error]:l,[g.a.paddingRight]:E,[g.a.small]:"small"===m,[g.a.sizeNormal]:"normal"===m},w&&g.a[w],n),F=O?String(O).trim().length:0,R=Object(c.useRef)();return r()(()=>{_&&setTimeout(()=>{var e;return null===(e=R.current)||void 0===e?void 0:e.focus()},100)}),u.a.createElement("div",{className:L},s&&u.a.createElement(s,{size:25,color:"#C7C7CC"}),T,u.a.createElement("div",{className:g.a.inputWrapper},u.a.createElement("input",f({ref:i()(R,k),className:B,value:O,maxLength:E,disabled:j},S)),E&&u.a.createElement("span",{className:g.a.counter},E-F),N&&u.a.createElement("div",{className:o()(g.a.clearAddon,!M&&g.a.hasRightAddon),onClick:I},u.a.createElement(d.nb,{size:14,style:{marginBottom:-1}}))),M)}},"JF+8":function(e,t,a){e.exports={root:"_1pYH9adn",mobileMode:"_2_egbHgs"}},JPUg:function(e,t,a){"use strict";a.r(t);var n=a("9OUN");t.default=(e,t,a)=>Object(n.createStore)(e,t,Object(n.applyMiddleware)(...a))},"Jl3+":function(e,t,a){e.exports={root:"_2cUE9XJa",toggleContainer:"_3w9HJGBm",publishedLabel:"_1fTwMyxE",builderLabel:"_1M6f0Tsw",currencyBadge:"_3olGrvkk",disabled:"_2oOE1519"}},JoJJ:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a("O94r"),r=a.n(n),l=a("7nmT"),o=a.n(l),s=a("ERkP"),i=a.n(s),c=a("zCf4"),u=a("2F2M"),d=a("3pNR"),m=a("g0yd"),p=a("WlUR"),b=a("2cVh"),g=a("et1+"),f=a.n(g);const h=e=>{e.stopPropagation()},v=(e,t,a)=>(Object(u.c)("",e,t,a),{stop:()=>e.stop()}),y=e=>{let{handleHash:t,compact:a,overlay:n,padding:l,fullWidth:g,children:y,showHeader:E,title:O,onClose:j,onClosing:k}=e;const w=Object(c.g)(),C=Object(u.d)("100%"),{theme:_}=Object(b.b)(),P=Object(s.useMemo)(()=>({container:{y:C,backgroundColor:_.colors.background,color:_.colors.text},close:{color:_.colors.text}}),[_.colors]),x=document.querySelector("#page_root, #mainRoot"),[S,N]=Object(s.useState)(!0),I=Object(s.useCallback)((async function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];S||(N(!0),t&&w.replace(w.location.pathname),k&&!1===await k()||v(C,"100%",{duration:.3,type:"ease",onComplete:()=>{j&&(!0===j?w.goBack():"string"==typeof j?w.push(j):j(...a))}}))}),[S,j,k,t]);return Object(s.useEffect)(()=>v(C,"0%",{duration:.3,type:"ease",onComplete:()=>N(!1)}).stop,[]),Object(m.a)(),x?o.a.createPortal(i.a.createElement("div",{className:f.a.rootContainer,onClick:h},(a||n)&&i.a.createElement(u.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeInOut",duration:.3},className:f.a.overlay,onClick:I}),i.a.createElement(u.b.div,{className:r()(f.a.root,a&&f.a.compact,g&&f.a.fullWidth),style:P.container},(E||O)&&i.a.createElement("div",{className:f.a.header},i.a.createElement("div",{className:f.a.closeButton,style:P.close,onClick:I},i.a.createElement(d.nb,{size:24})),O&&i.a.createElement("div",{className:f.a.title},O),i.a.createElement("div",{className:f.a.closeButton,style:{opacity:0,pointerEvents:"none"}},i.a.createElement(d.nb,{size:24}))),i.a.createElement("div",{className:r()(f.a.content,l&&f.a.padded)},Object(p.a)(y,I)))),x):null};y.defaultProps={showHeader:!0,fullWidth:!0}},JrDk:function(e,t,a){"use strict";a.d(t,"e",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return b})),a.d(t,"d",(function(){return g}));var n=a("2srY"),r=a.n(n),l=a("pO+y"),o=a("QwRn");const s=(e,t,a)=>{const n=[];let r=0;switch(t.kind){case o.d:for(const{blockId:l}of t.areas){const t=e.blocks.find(e=>{let{_id:t}=e;return String(t)===String(l)});if(t){const{processed:l,results:o}=s(e,t,a);r+=l,n.push(...o)}}}const l=a(t);return!1!==l&&(r++,l&&n.push(l)),{processed:r,results:n}},i={Image:"Image",Background:"Background",Logo:"Logo",Icon:"Icon"},c=e=>{let{path:t}=e;const a=l.a.getRelativeUrl(t);return e=>e&&(t===e||a===l.a.getRelativeUrl(e))},u=(e,t)=>{switch(e.kind){case o.k:return t(e.url)&&[{entity:o.k,as:i.Image}];case o.l:return e.images.map(e=>{let{url:a}=e;return t(a)&&{entity:o.l,as:i.Image}}).filter(Boolean);case o.i:return[t(e.bgUrl)&&{entity:o.i,as:i.Background},t(e.logoUrl)&&{entity:o.i,as:i.Logo}].filter(Boolean);case o.g:return e.items.map(e=>"image"===e.glyph.type&&t(e.glyph.url)&&{entity:o.g,as:i.Icon}).filter(Boolean);case o.r:return[].concat(...e.items.map(e=>e.photos.map(e=>t(e)&&{entity:o.r,as:i.Image}))).filter(Boolean)}},d=(e,t)=>{const a=[];t(r()(e,"seo.ogImageUrl"))&&a.push({entity:"page.og-image",as:i.Image}),t(r()(e,"theme.page.backgroundImage"))&&a.push({entity:"page",as:i.Background});for(const n of e.blocks){const e=u(n,t);e&&e.length&&a.push(...e)}return a},m=(e,t)=>{let{pages:a,seo:n}=t;const r=c(e),l=[];r(n.ogImageUrl)&&l.push({entity:"website.og-image",as:i.Image});for(const e of a){const t=d(e,r);t.length&&l.push(...t)}return l},p=(e,t)=>!!t(r()(e,"seo.ogImageUrl"))||(!!t(r()(e,"theme.page.backgroundImage"))||!!e.blocks.find(e=>{switch(e.kind){case o.k:return t(e.url);case o.l:return!!e.images.find(e=>{let{url:a}=e;return t(a)});case o.i:return t(e.bgUrl)||t(e.logoUrl);case o.g:return!!e.items.find(e=>"image"===e.glyph.type&&t(e.glyph.url));case o.r:return!!e.items.find(e=>e.photos.find(t))}})),b=(e,t)=>p(t,c(e)),g=(e,t)=>{let{pages:a,seo:n}=t;const r=c(e);if(r(n.ogImageUrl))return!0;for(const e of a)if(p(e,r))return!0}},JuRJ:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("NAgK"),r=a.n(n),l=a("ERkP"),o=a("QwRn");const s=(e,t)=>e.filter(e=>e.kind===t).map(e=>{let{productId:t}=e;return t}),i=(e,t,a)=>{const[n,i]=Object(l.useState)(null),{pages:c=[]}=e,{value:u}=r()(async()=>{const e=s(t.items,"product"),n=s(t.items,"service"),r=[],l=[];if(e.length&&a&&await Promise.all(e.map(async e=>{try{const t=await a({productId:e});t&&r.push(t)}catch(t){console.warn(`Product with ID "${e}" not found`)}})),n.length){let e=n.length;const t=new Set(n);for(const a of c){for(const n of a.blocks)if(n.kind===o.r){for(const a of n.items)if(t.has(a._id)&&(l.push(a),e--,e<=0))break;if(e<=0)break}if(e<=0)break}}return{products:r,services:l}},[t.items,a]);return Object(l.useEffect)(()=>{u&&i(u)},[u]),Object(l.useMemo)(()=>t.items.map(e=>{const t=n&&("product"===e.kind?n.products:n.services).find(t=>{let{_id:a}=t;return a===e.productId});return{...e,product:t||{name:e.name,price:e.price,photoUrl:""}}}),[t.items,n])}},Jvu7:function(e,t,a){e.exports={root:"_2mwkSAes",header:"_3ycP1kgp",title:"OahPEVY2",icon:"_1Y_LxCMG",iconBtn:"_1vfbU2FI"}},K1Ij:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("ERkP"),r=a.n(n),l=a("3j4c");function o(e){let{name:t,...a}=e;const n=Object(l.b)(t);return r.a.createElement(n,a)}},"K9/B":function(e,t,a){e.exports={wrapped:"_2aX6LxR2",notes:"eEJg3WF8",header:"_1kzrsRhC",content:"ZR9urcgE",list:"_3fx6mU7i",contentRight:"_3ViY-9eA",status:"_2OdXXfL0",new:"_3T0qB87A",processing:"_3b3XGyxd",accepted:"_2R3wi0Ov",rejected:"_2izb8I4j",total:"_5jC_dQaS"}},KCEa:function(e,t,a){e.exports={colorsList:"_36N3m5SU",colorBlock:"_1Pntf3sS",colorItem:"_17DEIh9O",colorPreview:"_1YQjYkU5",checkMark:"_6iOiLeZ0",active:"_272LoBLz"}},KFXP:function(e,t,a){e.exports={root:"_3Sq9-r7Q",disabled:"_1cU4utPI",thumbnail:"_1MqaIt0d",emptyPlaceholder:"_2a5NeReg",meta:"_2dagt2X7",title:"_2G8XK2K1",price:"k3NjjvWl",discountPrice:"_2ZpOvnTV",lineThrough:"_3YfW6p5p"}},KPzO:function(e,t,a){e.exports={root:"_39bju2AV",container:"_3x2RtXkB",wrapper:"yhWj1DWB",title:"_2gdbOKS0",url:"_2LTyUIgf",chevron:"Km_kRI7_",status:"_1qglRcab"}},KUlc:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("ERkP"),r=a.n(n);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function o(e){const{html:t,...a}=e,o=Object(n.useRef)(null);return Object(n.useEffect)(()=>{o.current&&(e=>{let t,a;Array.from(e.querySelectorAll("script")).forEach(e=>{const n=()=>new Promise((t,a)=>{const n=document.createElement("script");Array.from(e.attributes).forEach(e=>{n.setAttribute(e.name,e.value)}),e.src||(n.text=e.text),n.onload=t,n.onerror=a,e.parentNode&&e.parentNode.replaceChild(n,e)});a?a.then(()=>n()):(a=n(),t=a)})})(o.current)},[o.current]),r.a.createElement("div",l({},a,{ref:o,dangerouslySetInnerHTML:{__html:t}}))}},KUx3:function(e,t,a){e.exports={root:"aSUXsOga",tag:"_19259Fn6",tagRemove:"_42GiSMdm",input:"_2bMiEsQx"}},KZL9:function(e,t,a){e.exports={emptyMessage:"_29bRLjW6"}},Kyz8:function(e,t,a){e.exports={root:"qBdGctDv",badge:"_3jOnrQfH",badgeButton:"PG4hrKkG",disabled:"_3J2XFkh9",changeButton:"_10qaHkCI"}},L4rG:function(e,t,a){e.exports={root:"_1rE5G82y"}},LHeh:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return m}));var n=a("WusW"),r=a("DiuU"),l=a("niLw");const o="/pages/:pageId",s="/workspaces/:workspaceId/orders",i="/workspaces/:workspaceId/orders/:orderId";class c extends r.a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({middlewares:[l.b,l.a],headers:{Accept:"application/json"},...e}),this._params={workspaceId:""},this.resources={orders:{create:this.put(o+"/orders"),show:this.get(i),list:this.get(s),update:this.put(i),modify:this.post(i+"/modify"),finalize:this.post(i+"/finalize"),cancel:this.post(i+"/cancel"),signatures:{createStripePaymentIntent:this.post(i+"/signatures/stripe/payment-intents"),createWayforpaySignature:this.post(i+"/signatures/wayforpay/signatures"),createRobokassaSignature:this.post(i+"/signatures/robokassa/signatures"),createLiqpaySignature:this.post(i+"/signatures/liqpay/signatures")}}}}}const u=new c({baseUrl:"/storefront/api"}),d=Object(n.b)("CLEAR_ORDER"),m=Object(n.c)(u,{clearOrder:d})},LLXx:function(e,t,a){"use strict";var n=a("QbNu"),r=a.n(n);const l=e=>null!=e&&e.getBrightness?e:new r.a(e);t.a=(e,t,a)=>{const n=l(e).getBrightness(),r=l(t).getBrightness();return Math.abs(n-r)<30?{backgroundColor:e,color:l(a).setAlpha(.9).toRgbString(),border:t}:{backgroundColor:e,color:t,border:t}}},LR57:function(e,t,a){var n={"./en/common.json":["ZpEu",0],"./ru/common.json":["SrS5",1],"./uk/common.json":["iUtR",2]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a.t(r,3)}))}r.keys=function(){return Object.keys(n)},r.id="LR57",e.exports=r},LgBX:function(e,t,a){e.exports={root:"uEHJHiZd"}},LqVn:function(e,t,a){e.exports={rightButton:"_2ODwBSi8",section:"zTVxUYkC",noPadding:"_2Gzvvg81",top:"fBa_ob7e"}},Lyau:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a("ERkP"),r=a.n(n),l=a("daAW"),o=a("9j0U"),s=a("MhLP"),i=a("2cVh"),c=a("mz7T"),u=a("JoJJ"),d=a("/Eez"),m=a.n(d);function p(){const{generateUrl:e}=Object(o.a)(),{theme:t}=Object(i.b)(),{userOrders:a}=Object(c.a)(),n=a.filter(e=>e.finalized&&e.feedback);return r.a.createElement(u.a,{overlay:!0,compact:!0,title:Object(s.a)("my_orders"),onClose:e(".."),padding:!0},r.a.createElement("ul",{className:m.a.ordersList},n.map(a=>{return r.a.createElement("li",{key:a._id},r.a.createElement(l.b,{to:e(a._id),style:t.blocks.features},r.a.createElement("div",{className:m.a.orderHeader},r.a.createElement("div",null,r.a.createElement("h2",null,Object(s.a)("order_term")," #",a.feedback.order),r.a.createElement("div",null,r.a.createElement("span",{style:{color:t.colors.background,backgroundColor:t.colors.text}},Object(s.a)("order_status_"+a.feedback.status)),(n=a.paymentMethod,o=a.feedback.status,!["cod","other"].includes(n)&&"rejected"!==o&&r.a.createElement("span",{style:{color:t.colors.background,backgroundColor:t.colors.text}},Object(s.a)("payment_status_"+a.status))))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("span",null,new Date(a.feedback.timestamp).toLocaleDateString())))),r.a.createElement("div",{className:m.a.orderContent},r.a.createElement("div",null,r.a.createElement("h3",null,Object(s.a)("products")),r.a.createElement("span",null,a.items.map(e=>`${e.name} x${e.quantity}`).join(", "))),r.a.createElement("div",null,a.total.amount," ",a.total.currency))));var n,o})))}},"M/b2":function(e,t,a){e.exports={root:"_3WPxu7ZX",disabled:"_3rx3enBs",container:"_3olAWxIa",standart:"_2A2Y1yno",small:"_3oTbEFT8",inline:"dZuah_1S","full-width":"_1r1_o73Y",fullWidth:"_1r1_o73Y",rounded:"_3VK4L6Nu",transparent:"xBrVDt1Z",primary:"_2swXni9d",primary2:"mebmMNXf",secondary:"_1NM90QdA",secondary2:"_3TURZe-W",warning:"_2LIOaVuw",danger:"_1g8nvjS4",success:"_2TCbOq1V",grey:"_2XpNWZJU",white:"_17R8ZI5Z",link:"_3vtN-UYL",solid:"_1rdP1VrH",nopadding:"_31w0F5SW","secondary-outline":"_2K258hG1",secondaryOutline:"_2K258hG1",icon:"_1KiJ2wrg",noborder:"_3B_QT2Ke",socialBtnOnly:"_1JtX377S",socialBtnWithText:"_347gn7ol",facebook:"_3hvAVfn-",iconFixedLeft:"_3Obc4ZuM",iconFixedRight:"_1ul-VDPR"}},MTr3:function(e,t,a){e.exports={root:"_1Z4isZxA",card:"_3cVmaHyt",divider:"Bx5wfp8A",downIconWrapper:"_3U-EdnxK"}},MZ43:function(e,t,a){e.exports={root:"_2rpWMKUC",disabled:"_20Ggf-z0"}},MhLP:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return o}));var n=a("gc+k"),r=a.n(n);const l=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.locales=e}extend(e){this.locales=Object.assign({},this.locales,e)}t(e,t){return this.locales[e]?r()(this.locales[e],t):e}},o=l.t.bind(l)},Mixo:function(e,t,a){e.exports={actions:"_3gP1FFYZ",action:"_3TBs_R70"}},MreW:function(e,t,a){e.exports={root:"_3DKO2m-O",rootLegacy:"_2UTQET2R",overlay:"_2IzdX-ZH",sheet:"_3ntjDAQd",fullWidth:"_20YK30bS",sheetPane:"_1S8Qvrh7",fullHeight:"_3viitpsL",sheetLegacy:"_1PopjMG2",inverse:"_2qBBzFLP",sheetyPane:"_1nOTRt6J",header:"_38tNjEA6",content:"mmfzVsCo"}},N93I:function(e,t,a){e.exports={root:"_21I308Oc",item:"_3PvLVwec",thumbnail:"_3JiaEONk",meta:"_192MHM1g",title:"toF6OYDJ",details:"_3cL566DP"}},NGKs:function(e,t,a){e.exports={root:"_3UHoUxGK",title:"wi8wpf7j"}},NRq2:function(e,t,a){e.exports={root:"_2Lz3ap6D"}},NVbM:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=e=>{e=e||new Error("Unhandled error"),console.error(e),window.Sentry&&window.Sentry.captureException(e)}},Njpl:function(e,t,a){"use strict";var n=a("ERkP"),r=a.n(n),l=a("O94r"),o=a.n(l),s=a("70Vl"),i=a.n(s);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const u=e=>{let{className:t,hasError:a,align:n,children:l,as:s="div",...u}=e;return r.a.createElement(s,c({className:o()(t,i.a.root,{[i.a.right]:"right"===n})},u),l)};u.defaultProps={hasError:!1},t.a=u},NoNJ:function(e,t,a){e.exports={logo:"_3r83HkAA",heading:"_3MKgTIkx",plansList:"_3hjXoHo_",active:"_1J9O7tmZ",disabled:"_3aNhnsbC",plansListTextLine:"_17RsdFzx",label:"dRvwjPoT",currentPeriod:"i6Mzm50D",featuresList:"_3MY_lovS",checkIcon:"_1y4wBomi",footerCta:"ZBePL55y",terms:"XZdZkyfO"}},O4Uv:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("ERkP"),r=a("Xpt6"),l=a("hB6H");function o(){const e=Object(l.a)();return Object(n.useEffect)(()=>{function t(){e()}return r.a.on("changeAccessToken",t),()=>{r.a.removeListener("changeAccessToken",t)}},[]),{accessToken:r.a.accessToken,isAuthenticated:r.a.isAuthenticated,user:r.a.user}}},"O6/N":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("ERkP"),r=a("TFaS");const l=()=>{const[e]=Object(n.useState)(()=>{var e,t;return null===(e=(t=window).matchMedia)||void 0===e?void 0:e.call(t,"(prefers-color-scheme: dark)")}),[t,a]=Object(n.useState)(null==e?void 0:e.matches);return Object(n.useEffect)(()=>{if(!e)return;const t=!e.addEventListener,n=e=>{a(e.matches)};return t?e.addListener(n):e.addEventListener("change",n),()=>{t?e.removeListener(n):e.removeEventListener("change",n)}},[e]),t},o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{colorId:"autoTheme",light:"bwTheme",dark:"wbTheme"};const t=l();return Object(n.useMemo)(()=>{const a=e&&e.colorId.startsWith("autoTheme"),n=t?"dark":"light",l=t?"light":"dark",o=a&&e[n]||n+"Theme",s=a&&e[l]||l+"Theme";return{isAuto:a,theme:Object(r.b)(o),opposite:Object(r.b)(s)}},[t,e])}},OAxj:function(e,t,a){var n={"./en/billing.json":["C94d",0],"./ru/billing.json":["kIu3",1],"./uk/billing.json":["1rVq",2]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a.t(r,3)}))}r.keys=function(){return Object.keys(n)},r.id="OAxj",e.exports=r},OdJe:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n=a("DL3M"),r=a.n(n),l=a("2srY"),o=a.n(l),s=a("f9bD"),i=a.n(s),c=a("QbNu"),u=a.n(c),d=a("IYO+"),m=a("vlqj"),p=a("EoaD");const b=(e,t)=>{if(Array.isArray(t))return[...t];const a={};for(const[n,r]of Object.entries(t)){const t=e[n];if(t&&r&&"object"==typeof r){const e=b(t,r);Array.isArray(e)?Object(p.a)(t,e)||(a[n]=e):Object.keys(e).length&&(a[n]=e)}else t!==r&&(a[n]=r)}return a},g=(e,t)=>{if(void 0===e)return t.initial;switch(t.type){case"select":case"choice":if(t.multiple){if(Array.isArray(e)&&e.every(e=>t.options.some(t=>t.value===e)))return e}else if(t.options.some(t=>t.value===e))return e;break;default:return e}return t.initial},f=["color","fontSize","textAlign","borderColor","backgroundColor"],h={falloff:e=>`linear-gradient(to bottom, ${e}, ${e.clone().darken(30)})`,slope:e=>{const t=Object(d.a)(e),a=e.clone().darken(t?5:20);return`linear-gradient(180deg, ${e}, ${a})`}},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"%";return(a,n,r)=>{if("number"!=typeof n)return;const l=o()(r.units,e,t);a[e]=`${n}${l}`}},y={width:v("width"),height:v("height"),minHeight:v("minHeight","px"),lineHeight:v("lineHeight","px"),padding:v("padding","px"),borderRadius:v("borderRadius"),gradient:(e,t,a)=>{if(!t)return;const n=!0===t?h.slope:h[t];if(!n)throw new Error(`Gradient "${t}" is not defined`);const r=new u.a(a.backgroundColor);e.backgroundImage=n(r)},contrastedColor:(e,t,a)=>{if(!t)return;const n=Object(d.a)(a.backgroundColor)?"#333":"#fff";e.color=String(n)},textStyle:(e,t)=>t.forEach(t=>{switch(t){case"bold":e.fontWeight=t;break;case"italic":e.fontStyle=t;break;case"underline":case"line-through":e.textDecorationLine?e.textDecorationLine+=" "+t:e.textDecorationLine=t}})},E={resolve:(e,t,a)=>t!==a&&a?(e&&(t=o()(t,e,{}),a=o()(a,e,{})),Object(m.a)(t,a)):e?o()(t,e,{}):t,compile(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(e).forEach(a=>{let[n,r]=a;if(null!=r)if("object"!=typeof r||Array.isArray(r))if(f.includes(n))t[n]=r;else{const a=y[n];a&&a(t,r,e)}else t[n]=this.compile(r)}),t},enrich(e,t,a,n){let{parent:l,path:s,sections:c}=a;const u=this.resolve(s,l?o()(e,l):e,t),d={},m=e=>o()(u,e);for(const{styles:e}of c){for(const t of e){if(t.if)continue;const e=t.path,a=o()(u,e),n=g(a,t);r()(d,e,n),r()(u,e,n)}for(const t of e){if(!t.if)continue;const e=t.path;let a=void 0;t.if(m)?a=g(o()(u,e),t):n&&(a=t.disabledValue),r()(d,e,a),r()(u,e,a)}}return r()({},s,(p=d,i()(p,e=>void 0!==e)));var p},diff(e,t,a){return b(e,this.enrich(e,t,a,!0))}}},Opjg:function(e,t,a){e.exports={gallery:"_198qYsiI",pills:"_35IDZyxl",pill:"_2lOk5k5V",interactive:"_37rJRHjK",active:"_19Bnhf0n",filters:"BQzWcNh3",list:"_2lSBZYtC",actions:"_1mRMO_0L",image:"awTXFQg9",content:"_2EUDjIBS",preview:"_203cfI5E",legend:"_2CnLh8EL",row:"_3eKYj5KJ",attribute:"_21BVoMlm",item:"_DfvKaxn",uploadButton:"g-4XSO5U",fileInput:"_3n544wGG",spinner:"_3jBJQSiq"}},PeSY:function(e,t,a){e.exports={root:"_1hRcJTff",label:"_1A4iK1tt",value:"_2Z0XJWOu"}},PieU:function(e,t,a){e.exports={content:"QcLxHgsI"}},Pj6T:function(e,t,a){e.exports={planPane:"_2KtG8RLW",planPaneHeader:"_2m8tLa2i",planName:"_10ZGdVWL",currentPlanLabel:"_1rY38HNr",planPaneFeaturesList:"y813T44Q",checkmark:"_2Olw9IFn"}},Q5Mw:function(e,t,a){e.exports={root:"_1Gj_ZdL9",filter:"_3IQPKGIz",list:"_3p7GW1iC",saveButton:"_1-2pv9qX"}},QBDO:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=e=>{let{left:t,top:a,width:n,height:r,segments:l}=e;const o=12/l;return`${a*o+1} / ${t*o+1} / ${a*o+r*o+1} / ${t*o+n*o+1}`}},QcaR:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a("ERkP"),r=a.n(n),l=a("O94r"),o=a.n(l),s=a("daAW"),i=a("9j0U"),c=a("CX5T"),u=a("3X63"),d=a("eSoL"),m=a("mz7T"),p=a("aPca"),b=a.n(p);const g=()=>{const{generateUrl:e}=Object(i.a)(),{enabledPayments:t}=Object(d.c)(),{currentOrder:a,userOrders:n}=Object(m.a)(),l=n.filter(e=>e.finalized).length>0,p=!(t&&null!=a&&a.items.length);return r.a.createElement("div",{className:b.a.root},l&&r.a.createElement(s.b,{to:e("user-orders"),className:o()([b.a.ordersButton,p&&b.a.single])},r.a.createElement(c.a,{size:p?20:16})),r.a.createElement(u.a,{steady:!0}))}},Qrrv:function(e,t,a){e.exports={root:"_2Dxoxfce"}},QwRn:function(e,t,a){"use strict";a.d(t,"v",(function(){return n})),a.d(t,"h",(function(){return r})),a.d(t,"e",(function(){return l})),a.d(t,"t",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"r",(function(){return i})),a.d(t,"p",(function(){return c})),a.d(t,"s",(function(){return u})),a.d(t,"q",(function(){return d})),a.d(t,"n",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"x",(function(){return b})),a.d(t,"g",(function(){return g})),a.d(t,"b",(function(){return f})),a.d(t,"l",(function(){return h})),a.d(t,"f",(function(){return v})),a.d(t,"i",(function(){return y})),a.d(t,"j",(function(){return E})),a.d(t,"k",(function(){return O})),a.d(t,"o",(function(){return j})),a.d(t,"m",(function(){return k})),a.d(t,"u",(function(){return w})),a.d(t,"w",(function(){return C})),a.d(t,"a",(function(){return _}));const n="Timer",r="Giphy",l="CustomCode",o="SubscriptionForm",s="Custom",i="ServicesGrid",c="Products",u="Socials",d="Quote",m="List",p="Audio",b="VideoGallery",g="Features",f="Accordion",h="ImageGallery",v="Divider",y="Hat",E="Heading",O="Image",j="Messengers",k="Link",w="Text",C="Video",_=[n,r,l,o,s,i,c,u,d,m,p,b,g,f,h,v,y,E,O,j,k,w,C]},RIc0:function(e,t,a){"use strict";var n=a("ERkP"),r=a("ZUB1");function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function o(e,t){return n.createElement(r.b,l({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}const s=n.forwardRef(o);t.a=s},RiRQ:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("ERkP"),r=a.n(n),l=a("ENGl"),o=a("Qrrv"),s=a.n(o);function i(e){return r.a.createElement("div",Object(l.a)(s.a.root,e))}},Rm68:function(e,t,a){e.exports={root:"_3T8flEht",img:"HbKNGwRb",fit:"_1_mbwJuT",spinner:"IXievtO7",visible:"_3PBzucKK",inline:"_3i3kJ50X"}},RnxZ:function(e,t,a){"use strict";var n=a("ERkP"),r=a("ZUB1");function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function o(e,t){return n.createElement(r.b,l({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M9 22a1 1 0 100-2 1 1 0 000 2zM20 22a1 1 0 100-2 1 1 0 000 2zM1 1h4l2.68 13.39a2 2 0 002 1.61h9.72a2 2 0 002-1.61L23 6H6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}const s=n.forwardRef(o);t.a=s},"Rr0/":function(e,t,a){"use strict";var n=a("WusW"),r=a("Xpt6");const l=Object(n.c)(r.a);function o(e,t){return Object(n.d)(r.a,e,t)}l.init=()=>async e=>{if(r.a.isAuthenticated)return t=[l.users.me(),l.workspaces.retrieve(),l.billing.details(),l.billing.products.prices(),l.websites.list(),l.collections.list()],Promise.all(t.map(t=>e(t)));var t};const s=(e,t)=>({contactId:e,payload:t}),i=(e,t)=>({feedbackId:e,result:t});l.listenConnect=o("connect"),l.listenDisconnect=o("disconnect"),l.listenReconnect=o("reconnect"),l.listenVerifyVersion=o("verifyVersion"),l.listenUserUpdated=o("user_updated",e=>e),l.listenNewMessages=o("newMessages",s),l.listenCreateConversation=o("createConversation",s),l.listenUpdateConversation=o("updateConversation",s),l.listenSubscriptionCreated=o("subscription_created"),l.listenSubscriptionUpdated=o("subscription_updated"),l.listenSubscriptionCancelled=o("subscription_cancelled"),l.listenPaymentSucceeded=o("subscription_payment_succeeded"),l.listenPaymentInitialSucceeded=o("initial_subscription_payment_succeeded"),l.listenPaymentFailed=o("subscription_payment_failed"),l.listenPaymentRetryFailed=o("retry_subscription_payment_failed"),l.listenHighRiskTransactionUpdated=o("high_risk_transaction_updated"),l.listenCreateFeedback=o("createFeedback",i),l.listenUpdateFeedback=o("updateFeedback",i),l.conversations.filterList=function(){let{query:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(a,n)=>{const r=n(),{status:o,assign:s,searchValue:i,showNewFirst:c}=r.ui.conversationsFilter;return e={status:o,assign:s,searchValue:i,sort:c?"new":"old",...e},a(l.conversations.list({query:e,...t}))}},l.unsubscribe=function(e,t){const a=a=>async n=>{n({type:e,payload:a}),await t(a)};return a.type=e="@API/"+e,a.toString=()=>e,a}("unsubscribe",e=>{let{cancelUrl:t}=e;window.open(t)}),t.a=l},S1dg:function(e,t,a){e.exports={code:"_1yMVcNw1",label:"-kXCR0qN"}},SG7T:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return l}));var n=a("ERkP");const r=a.n(n).a.createContext({renderBlock:()=>null}),l=()=>Object(n.useContext)(r)},SRTf:function(e,t,a){"use strict";t.a=function(e){const t=(e||"").toLowerCase(),a={Android:t.includes("android"),BlackBerry:t.includes("blackberry"),iOS:/iphone|ipad|ipod/i.test(t),OperaMini:t.includes("opera mini"),IEMobile:t.includes("iemobile"),Safari:t.includes("safari"),WebView:t.includes("wv")};return a.isMobile=a.Android||a.BlackBerry||a.iOS||a.OperaMini||a.IEMobile,a}},SrJr:function(e,t,a){"use strict";var n=a("ctgp");const r=/^(?:[\w\d]+:\/*)?([^:/$]+)(?::\d+)?(.*)$/i;t.a=e=>{const t=e.match(r);return t?`${t[1]}${t[2]}`:Object(n.a)(e)}},T4sm:function(e,t,a){e.exports={root:"_1Pzo05vG",headerButtons:"_3SVRYJwc"}},TFaS:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return d}));var n=a("pFSi"),r=a.n(n),l=a("vlqj");var o=a("74f7"),s=a("aFgR");const i={simple:(e=>{let{id:t,name:a}=e;return{id:t,name:a,theme:{styleId:t,page:{backgroundImage:null,backgroundImageOpacity:1,alignment:"top"},blocks:{timer:{},giphy:{},customcode:{},subscriptionform:{gridMode:"list",borderRadius:8,units:{borderRadius:"px"}},servicesgrid:{gridMode:"grid",borderRadius:10,units:{borderRadius:"px"}},custom:{},products:{filterMode:"tabs",gridMode:"grid",borderRadius:30,units:{borderRadius:"px"}},hat:{headerMode:"avatar",align:"center",padding:"no",borderRadius:16,units:{borderRadius:"px"}},divider:{template:"line",margin:"medium",width:100,height:2,size:"small",alignment:"center",units:{width:"%",height:"px"}},heading:{size:"large",textAlign:"left",textStyle:["bold"]},text:{fontSize:"1em",textAlign:"left",textStyle:[]},video:{ratio:"rectangle",borderRadius:16,padding:"yes",units:{borderRadius:"px"}},videogallery:{ratio:"rectangle",padding:!0,autoplay:0,effect:"",borderRadius:16,units:{borderRadius:"px"}},image:{ratio:"original",fit:"fill",borderRadius:16,width:100,alignment:"center",padding:!0,units:{borderRadius:"px",width:"%"}},imagegallery:{ratio:"rectangle",padding:!0,perView:1,autoplay:0,effect:"",borderRadius:16,units:{borderRadius:"px"}},link:{gradient:!1,icon:null,width:"full",borderRadius:14,urlSubtitle:!1,padding:!0,units:{borderRadius:"px"}},messengers:{messengersMode:"beefy",borderRadius:10,padding:!0,units:{borderRadius:"px"}},accordion:{fontSize:"1em",textStyle:[],exclusive:!0,iconAlignment:"right"},quote:{template:"line",fontSize:"1em"},audio:{borderRadius:16,padding:"yes",units:{borderRadius:"px"}},list:{textStyle:[],listLabel:"dot"},socials:{size:"large",alignment:"center"}}}}})({id:"simple",name:"Simple"})},c=r()(e=>Object(l.a)(i.simple.theme,Object(o.b)(e))),u=()=>c(),d=(e,t)=>{const a=c(e.colorId),n=c(t),r=Object(s.a)(a,e);return Object(l.a)(n,r)}},Tf4A:function(e,t,a){e.exports={overlay:"_36Cgs8AW",root:"_3_8fT5t5",card:"_1u0RzZNO",top:"U0Gdq_Ak",list:"_3_MFp6tA",icon:"_12k1nmlh",itemDescription:"_22ZtsCCG"}},To1o:function(e,t,a){e.exports={root:"_2yHaQ73V",light:"_3-jvKrnu",noBorder:"_35gYDfCj",title:"GoRy6ef1",rightButton:"jRc_gGdg",icon:"CiRHx4va",bottomContent:"_1T2vLupd"}},U1TF:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const n={baseUrl:"/api"};class r{constructor(e){this.options={...n,...e}}get(e){return this.request(e)}post(e,t){return this.request(e,{method:"POST",body:t})}put(e,t){return this.request(e,{method:"PUT",body:t})}delete(e){return this.request(e,{method:"DELETE"})}async request(e,t){if(Array.isArray(e)){let t;[e,t]=e,e+=function(e){if("object"!=typeof e)return"";const t=[];for(let a in e){const n=e[a];null!=n&&t.push(`${a}=${n}`)}return t.length>0?"?"+t.join("&"):""}(t)}(function(e){return e.startsWith("http://")||e.startsWith("https://")})(e)||(e=this.options.baseUrl+e);const{method:a,headers:n,body:r,...l}={method:"GET",...t},o=await fetch(e,{method:["PUT","DELETE"].includes(a.toUpperCase())?"POST":a,headers:{Accept:"application/json","Content-Type":"application/json","X-HTTP-Method-Override":a.toUpperCase(),...n},body:r?JSON.stringify(r):void 0,...l});if(!o.ok)switch(o.status){case 400:{const{errors:e}=await o.json();throw(e=>{const t=new Error("Validation error");return t.type="validation",t.errors=e,t})(e)}case 401:case 403:throw(e=>{const t=new Error(e);return t.type="authorization",t})(o.statusText);default:throw((e,t)=>{const a=Error(t);return a.status=e,a.type="api",a})(o.status,o.statusText)}if(204!==o.status)return o.json()}}},UUvU:function(e,t,a){e.exports={contentContainer:"_1DhysS5i",heading:"_1k2I_dIV",form:"_1uRWw_nS"}},UYoG:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("ERkP"),r=a("uDfI"),l=a("pQvG"),o=a("ojX2");function s(){const e=Object(r.b)();return Object(n.useMemo)(()=>Object(l.a)(o.a,e),[e])}},Ua0p:function(e,t,a){"use strict";var n=a("V8Kl"),r=a("0uRC"),l=e=>t=>a=>{try{return t(a)}catch(t){console.error("Exception in a reducer!",t),"Sentry"in window&&Sentry.withScope(n=>{n.setExtras({action:a,state:e.getState()}),Sentry.captureException(t)})}},o=a("9OUN"),s=a("69Mk"),i=a("Rr0/");function c(e,t){switch(t.type){case i.a.conversations.assign.successType:case i.a.conversations.assignMe.successType:case i.a.messages.create.successType:e.byContactId[t.contactId]=t.result.conversation;break;case i.a.conversations.changeStatus.successType:case i.a.conversations.read.successType:case i.a.conversations.retrieve.successType:e.byContactId[t.contactId]=t.result;break;case i.a.contacts.update.successType:e.byContactId[t.contactId].contact=t.result}}function u(e,t){e.byContactId[t.contactId]=t.payload,-1===e.ids.indexOf(t.contactId)&&e.ids.unshift(t.contactId)}var d=Object(s.b)({byContactId:{},ids:[],hasNext:!0,next:null},{[i.a.conversations.list.success]:(e,t)=>{t.query&&t.query.next||(e.ids=[]),e.hasNext=t.result.hasNext,e.next=t.result.next,t.result.results.forEach(t=>{e.byContactId[t.contact._id]=t,-1===e.ids.indexOf(t.contact._id)&&e.ids.push(t.contact._id)})},[i.a.conversations.assign.successType]:c,[i.a.conversations.assignMe.successType]:c,[i.a.conversations.changeStatus.successType]:c,[i.a.conversations.read.successType]:c,[i.a.conversations.retrieve.successType]:c,[i.a.contacts.update.successType]:c,[i.a.listenUpdateConversation]:u,[i.a.listenCreateConversation]:u});const m=(e,t)=>{const a={};for(const[t,n]of Object.entries(e))a[n._id]=t;const n=Array.from(e);for(const e of t){const t=a[e._id];void 0!==t?n[t]=e:n.push(e)}return n.sort((e,t)=>t.received-e.received)};function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{hasNext:!0,next:null,items:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.a.conversations.messages.successType:return{...e,hasNext:t.result.messages.hasNext,next:t.result.messages.next,items:t.query&&t.query.next?m(e.items,t.result.messages.results):[...t.result.messages.results]};case i.a.conversations.sendMessage.successType:case i.a.conversations.sendAttachment.successType:case i.a.conversations.assign.successType:case i.a.conversations.assignMe.successType:return{...e,items:t.result.messages.concat(e.items)};case i.a.listenNewMessages.type:return{...e,items:m(t.payload,e.items)};default:return e}}var b=Object(s.b)({},{[i.a.conversations.unread.success]:(e,t)=>t.result,[i.a.conversations.read.success]:(e,t)=>{e[t.contactId]=0}});var g=Object(s.b)({all:0,unassigned:0,my:0},{[i.a.conversations.statistics.success]:(e,t)=>t.result.conversations}),f=Object(o.combineReducers)({list:d,messages:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.a.conversations.messages.successType:case i.a.conversations.sendMessage.successType:case i.a.conversations.sendAttachment.successType:case i.a.conversations.assign.successType:case i.a.conversations.assignMe.successType:case i.a.listenNewMessages.type:return{...e,[t.contactId]:p(e[t.contactId],t)};default:return e}},unread:b,statistics:g}),h=a("wFLD"),v=a.n(h);const y={user:null,markers:[],token:v.a.get("accessToken")};var E=a("9EWH"),O=a("0/0W");function j(e,t){e.card.domain=t.result.domain}function k(e,t){e.card=t.result}var w=Object(s.b)({card:{}},{[i.a.card.update.success]:k,[i.a.card.patch.success]:k,[i.a.card.messengers.create.success]:(e,t)=>{e.card.messengers.push(t.result)},[i.a.card.messengers.update.success]:(e,t)=>{Object(s.d)(e.card.messengers,Object(O.b)(t.messengerId),t.result)},[i.a.card.messengers.delete.success]:(e,t)=>{Object(s.c)(e.card.messengers,Object(O.b)(t.messengerId))},[i.a.card.messengers.sort.success]:(e,t)=>{e.card.messengers=t.result},[i.a.card.links.create.success]:(e,t)=>{e.card.links.push(t.result)},[i.a.card.links.update.success]:(e,t)=>{Object(s.d)(e.card.links,Object(O.b)(t.linkId),t.result)},[i.a.card.links.delete.success]:(e,t)=>{Object(s.c)(e.card.links,Object(O.b)(t.linkId))},[i.a.card.domain.connect.success]:j,[i.a.card.domain.disconnect.success]:j,[i.a.products.create.success]:e=>{e.card.products.count++},[i.a.products.delete.success]:e=>{e.card.products.count=Math.max(0,e.card.products.count-1)}});var C=Object(s.b)({integrations:[]},{[i.a.integrations.create.success]:(e,t)=>{e.integrations.push(t.result.integration)},[i.a.integrations.delete.success]:(e,t)=>{Object(s.c)(e.integrations,Object(O.b)(t.integrationId))}});var _=Object(s.b)({team:[]},{[i.a.team.create.success]:(e,t)=>{e.team.push(t.result)},[i.a.team.update.success]:(e,t)=>{Object(s.d)(e.team,Object(O.b)(t.memberId),t.result)},[i.a.team.delete.success]:(e,t)=>{Object(s.c)(e.team,Object(O.b)(t.memberId))}}),P=Object(s.b)([],{[i.a.bots.create.success]:(e,t)=>{e.push(t.result)},[i.a.bots.update.success]:(e,t)=>{Object(s.d)(e,Object(O.b)(t.botId),t.result)},[i.a.bots.delete.success]:(e,t)=>{Object(s.c)(e,Object(O.b)(t.botId))}});var x=Object(s.b)({replies:[]},{[i.a.replies.list.success]:(e,t)=>{e.replies=t.result},[i.a.replies.create.success]:(e,t)=>{e.replies.unshift(t.result)},[i.a.replies.update.success]:(e,t)=>{Object(s.d)(e.replies,Object(O.b)(t.replyId),t.result)},[i.a.replies.delete.success]:(e,t)=>{Object(s.c)(e.replies,Object(O.b)(t.replyId))}});var S=Object(s.b)({quantities:{websites:0,templates:0}},{[i.a.websites.list.success]:(e,t)=>{e&&(e.quantities.websites=t.result.length)},[i.a.websites.create.success]:e=>{e.quantities.websites++},[i.a.websites.scaffold.success]:e=>{e.quantities.websites++},[i.a.websites.delete.success]:e=>{e.quantities.websites=Math.max(0,e.quantities.websites-1)},[i.a.pageTemplates.create.success]:e=>{e.quantities.templates++},[i.a.pageTemplates.delete.success]:e=>{e.quantities.templates=Math.max(0,e.quantities.templates-1)}});var N=Object(s.b)({crm:{defaultCurrency:"USD",onBoarding:!1}},{[i.a.crm.settings.update.success]:(e,t)=>{e.crm=t.result}});const I=[];var T=Object(s.b)({isFetching:!0,result:null,plans:null},{[i.a.billing.details.request]:(e,t)=>{e.isFetching=!0},[i.a.billing.details.success]:(e,t)=>{e.isFetching=!1,e.result=t.result},[i.a.billing.details.failure]:(e,t)=>{e.isFetching=!1,e.error=t.error},[i.a.billing.update.success]:(e,t)=>{e.result=t.result},[i.a.billing.applyCoupon.success]:(e,t)=>{e.result=t.result},[i.a.billing.products.prices.success]:(e,t)=>{e.plans=t.result}});const M=e=>{e.isFetching=!0},L=e=>{e.isFetching=!1},B={collectionId:null,items:[],next:null,filter:{name:"",collectionId:""},guid:0,isFetching:!1};var F=Object(s.b)(B,{[i.a.products.create.request]:M,[i.a.products.update.request]:M,[i.a.products.delete.request]:M,[i.a.products.sort.request]:M,[i.a.products.list.failure]:L,[i.a.products.retrieve.failure]:L,[i.a.products.create.failure]:L,[i.a.products.update.failure]:L,[i.a.products.delete.failure]:L,[i.a.products.sort.failure]:L,[i.a.products.create.success]:(e,t)=>{L(e),e.items.unshift(t.result)},[i.a.products.retrieve.success]:(e,t)=>{L(e),Object(s.d)(e.items,Object(O.b)(t.productId),t.result)},[i.a.products.update.success]:(e,t)=>{L(e),Object(s.d)(e.items,Object(O.b)(t.productId),t.result)},[i.a.products.delete.success]:(e,t)=>{L(e),Object(s.c)(e.items,Object(O.b)(t.productId))},[i.a.products.list.request]:(e,t)=>{var a;e.isFetching=!0,(e.guid<(t.guid||0)||null===(a=t.query)||void 0===a||!a.next)&&(e.items=[])},[i.a.products.list.success]:(e,t)=>{var a;if(t.guid&&t.guid<e.guid)return e;e.collectionId=t.collection||null,e.items=null!==(a=t.query)&&void 0!==a&&a.next?e.items.concat(t.result.results):t.result.results,e.next=t.result.next,e.isFetching=!1},[i.a.products.sort.success]:(e,t)=>{e.items=t.result,e.isFetching=!1},SET_PRODUCTS_FILTER:(e,t)=>{e.filter.name=t.payload.name,e.filter.collectionId=t.payload.collectionId,e.next=null,e.guid=e.guid+1},CLEAR_PRODUCTS_STORE:()=>B});const R=e=>{e.isFetching=!0},A=e=>{e.isFetching=!1},U={collectionId:null,items:[],next:null,filter:{name:"",collectionId:""},guid:0,isFetching:!1};var z=Object(s.b)(U,{[i.a.products.create.request]:R,[i.a.products.update.request]:R,[i.a.products.delete.request]:R,[i.a.products.sort.request]:R,[i.a.products.sublist.failure]:A,[i.a.products.retrieve.failure]:A,[i.a.products.create.failure]:A,[i.a.products.update.failure]:A,[i.a.products.delete.failure]:A,[i.a.products.sort.failure]:A,[i.a.products.create.success]:(e,t)=>{A(e),e.items.unshift(t.result)},[i.a.products.retrieve.success]:(e,t)=>{A(e),Object(s.d)(e.items,Object(O.b)(t.productId),t.result)},[i.a.products.update.success]:(e,t)=>{A(e),Object(s.d)(e.items,Object(O.b)(t.productId),t.result)},[i.a.products.delete.success]:(e,t)=>{A(e),Object(s.c)(e.items,Object(O.b)(t.productId))},[i.a.products.sublist.request]:(e,t)=>{var a;e.isFetching=!0,(e.guid<(t.guid||0)||null===(a=t.query)||void 0===a||!a.next)&&(e.items=[])},[i.a.products.sublist.success]:(e,t)=>{var a;if(t.guid&&t.guid<e.guid)return e;e.collectionId=t.collection||null,e.items=null!==(a=t.query)&&void 0!==a&&a.next?e.items.concat(t.result.results):t.result.results,e.next=t.result.next,e.isFetching=!1},[i.a.products.sort.success]:(e,t)=>{e.items=t.result,e.isFetching=!1},[i.a.collections.products.update]:e=>{e.guid++},SET_PRODUCTS_SUB_FILTER:(e,t)=>{e.filter.name=t.payload.name,e.filter.collectionId=t.payload.collectionId,e.next=null,e.guid=e.guid+1},CLEAR_PRODUCTS_SUB_STORE:()=>U});const D=(e,t)=>({botId:e||null,currentPath:[{id:t?t.botData.startResponseId:1}]}),W=D();var V=Object(s.b)(W,{SELECT_BOT:(e,t)=>{let{botId:a,bot:n}=t;e.botId!==a&&Object.assign(e,D(a,n))},SET_DIALOG_PATH:(e,t)=>{let{path:a}=t;e.currentPath=a},OPEN_DIALOG_BRANCH:(e,t)=>{let{parentResponseID:a,nextResponseID:n,content:r}=t;const l=[];for(const t of e.currentPath)if(l.push(t),t.id===a){n&&l.push({parentResponseID:a,id:n,reaction:{content:r}});break}e.currentPath=l}});const q=e=>t=>{t.isFetching=e},H=(e,t)=>({...e,...t.result,isFetching:!1,lastRequest:Date.now()});var G=Object(s.b)({items:[],isFetching:!1,allPublishedProductsCount:0,allCollectionsCount:0,publishedCollectionsCount:0,allProductsCount:0,lastRequest:null},{[i.a.collections.list.request]:q(!0),[i.a.collections.retrieve.request]:q(!0),[i.a.collections.create.request]:q(!0),[i.a.collections.update.request]:q(!0),[i.a.collections.delete.request]:q(!0),[i.a.collections.products.update.request]:q(!0),[i.a.collections.sort.request]:q(!0),[i.a.products.migrate.request]:q(!0),[i.a.collections.list.failure]:q(!1),[i.a.collections.retrieve.failure]:q(!1),[i.a.collections.create.failure]:q(!1),[i.a.collections.update.failure]:q(!1),[i.a.collections.delete.failure]:q(!1),[i.a.collections.products.update.failure]:q(!1),[i.a.collections.sort.failure]:q(!1),[i.a.products.migrate.failure]:q(!1),[i.a.collections.retrieve.success]:q(!1),[i.a.collections.list.success]:H,[i.a.collections.sort.success]:H,[i.a.collections.update.success]:H,[i.a.collections.create.success]:H,[i.a.collections.delete.success]:H,[i.a.collections.products.update.success]:H,[i.a.products.migrate.success]:H,[i.a.products.sort.success]:e=>e}),$=a("cGUp"),K=a.n($),Z=a("lWQz");const J={mobileMenuVisible:!1,pagePreview:null,isClientExpired:!1,conversationsFilter:{status:"open",assign:"all",searchValue:"",showNewFirst:!0,...v.a.get("conversationsFilter")||{}},unsubscribe:{status:"initial"},isAdvancedStylingMode:v.a.get("advancedStylingMode")||!1,isMobileContainer:!1,backTrack:""};var Y=Object(s.b)(J,{[Z.ui.toggleMobileMenu]:(e,t)=>{e.mobileMenuVisible=t.payload},[Z.ui.toggleStylingMode]:e=>{e.isAdvancedStylingMode=!e.isAdvancedStylingMode},[Z.ui.toggleMobileContainer]:(e,t)=>{e.isMobileContainer="boolean"==typeof t.payload?t.payload:!e.isMobileContainer},[Z.ui.setMessage]:(e,t)=>{e.message=t.payload},[Z.ui.setConversationsFilter]:(e,t)=>{e.conversationsFilter={...e.conversationsFilter,...t.payload}},[Z.ui.setPagePreview]:(e,t)=>{e.pagePreview=t.payload},[Z.ui.setPageBlockPreview]:(e,t)=>{if(t.payload._id)e.pagePreview.blocks=e.pagePreview.blocks.map(e=>e._id===t.payload._id?t.payload:e);else{e.pagePreview.blocks.length>0&&!e.pagePreview.blocks.slice(-1).pop()._id?e.pagePreview.blocks=e.pagePreview.blocks.map(e=>e._id?e:t.payload):e.pagePreview.blocks.push(t.payload)}},[i.a.listenVerifyVersion]:(e,t)=>{e.isClientExpired=t.payload!==K.a.version},[i.a.unsubscribe]:(e,t)=>{e.unsubscribe.status="pending"},[i.a.listenSubscriptionCancelled]:(e,t)=>{e.unsubscribe.state="finish"},[Z.ui.setBackTrack]:(e,t)=>{e.backTrack=t.payload}});var Q=Object(s.b)({socketId:null,isConnected:!1,reconnected:0},{[i.a.listenConnect]:(e,t)=>{e.socketId=t.socketId,e.isConnected=!0},[i.a.listenDisconnect]:e=>{e.socketId=null,e.isConnected=!1},[i.a.listenReconnect]:e=>{e.reconnected++}}),X=a("JrDk"),ee=a("QwRn");const te=(e,t)=>((e,t)=>e.find(Object(O.b)(t.websiteId)))(e,t).pages,ae=(e,t)=>te(e,t).find(Object(O.b)(t.pageId)),ne=(e,t)=>e.blocks.find(Object(O.b)(t));var re=Object(s.b)([],{[i.a.websites.create.success]:(e,t)=>{e.unshift(t.result)},[i.a.websites.scaffold.success]:(e,t)=>{e.unshift(t.result)},[i.a.websites.list.success]:(e,t)=>t.result,[i.a.websites.update.success]:(e,t)=>{Object(s.d)(e,Object(O.b)(t.websiteId),t.result)},[i.a.websites.delete.success]:(e,t)=>{Object(s.c)(e,Object(O.b)(t.websiteId))},[i.a.websites.domain.update.success]:(e,t)=>{e.find(Object(O.b)(t.websiteId)).domain=t.result},[i.a.websites.domain.delete.success]:(e,t)=>{e.find(Object(O.b)(t.websiteId)).domain={name:""}},[i.a.pages.create.success]:(e,t)=>{te(e,t).unshift(t.result)},[i.a.pages.applyTemplate.success]:(e,t)=>{Object(s.d)(e,Object(O.b)(t.websiteId),t.result)},[i.a.pages.update.success]:(e,t)=>{Object(s.d)(te(e,t),Object(O.b)(t.pageId),t.result)},[i.a.pages.delete.success]:(e,t)=>{Object(s.c)(te(e,t),Object(O.b)(t.pageId))},[i.a.blocks.create.success]:(e,t)=>{ae(e,t).blocks.push(t.result)},[i.a.blocks.toggle.success]:(e,t)=>{ae(e,t).blocks=t.result},[i.a.blocks.clone.success]:(e,t)=>{ae(e,t).blocks=t.result},[i.a.blocks.cloneMany.success]:(e,t)=>{ae(e,t).blocks=t.result},[i.a.blocks.update.success]:(e,t)=>{Object(s.d)(ae(e,t).blocks,Object(O.b)(t.blockId),t.result)},[i.a.blocks.convert.success]:(e,t)=>{Object(s.d)(e,Object(O.b)(t.websiteId),t.result.website)},[i.a.blocks.delete.success]:(e,t)=>{const a=ae(e,t),{results:n}=Object(X.e)(a,ne(a,t.blockId),e=>{let{_id:t}=e;return t});if(a.blocks=a.blocks.filter(e=>{let{_id:t}=e;return!n.includes(t)}),!a.blocks.length){const n=e.find(Object(O.b)(t.websiteId));a.enabled=!1,n.enabled=!1}},[i.a.blocks.deleteMany.success]:(e,t)=>{const a=ae(e,t),n=[];for(const e of t.payload.blockId){const{results:t}=Object(X.e)(a,ne(a,e),e=>{let{_id:t}=e;return t});n.push(...t)}if(a.blocks=a.blocks.filter(e=>{let{_id:t}=e;return!n.includes(t)}),!a.blocks.length){const n=e.find(Object(O.b)(t.websiteId));a.enabled=!1,n.enabled=!1}},[i.a.blocks.sort.success]:(e,t)=>{ae(e,t).blocks=t.result},[i.a.websites.crm.settings.update.success]:(e,t)=>{Object(s.d)(e,Object(O.b)(t.websiteId),t.result)},[i.a.collections.delete.success]:(e,t)=>{const a=t.collectionId;for(const{pages:t}of e)for(const e of t)for(const{kind:t,collections:r}of e.blocks){var n;t===ee.p&&(null!=r&&null!==(n=r.include)&&void 0!==n&&n.includes(a)&&(r.include=r.include.filter(e=>e!==a)))}}});const le=e=>t=>{t.isFetching=e};var oe=Object(s.b)({items:[],guid:0,isFetching:!1},{[i.a.pageTemplates.create.request]:le(!0),[i.a.pageTemplates.retrieve.request]:le(!0),[i.a.pageTemplates.update.request]:le(!0),[i.a.pageTemplates.delete.request]:le(!0),[i.a.pageTemplates.create.failure]:le(!1),[i.a.pageTemplates.update.failure]:le(!1),[i.a.pageTemplates.delete.failure]:le(!1),[i.a.pageTemplates.list.failure]:le(!1),[i.a.pageTemplates.create.success]:(e,t)=>{e.items.unshift(t.result),e.isFetching=!1},[i.a.pageTemplates.retrieve.success]:(e,t)=>{Object(s.d)(e.items,Object(O.b)(t.templateId),t.result)||e.items.unshift(t.result),e.isFetching=!1},[i.a.pageTemplates.update.success]:(e,t)=>{Object(s.d)(e.items,Object(O.b)(t.templateId),t.result),e.isFetching=!1},[i.a.pageTemplates.delete.success]:(e,t)=>{Object(s.c)(e.items,Object(O.b)(t.templateId)),e.isFetching=!1},[i.a.pageTemplates.list.request]:e=>{e.isFetching=!0},[i.a.pageTemplates.list.success]:(e,t)=>{if(t.guid&&t.guid<e.guid)return e;e.items=t.result,e.isFetching=!1}});const se=e=>t=>{t.isFetching=e},ie=(e,t,a)=>{t&&(e.counts[t]=(e.counts[t]||0)+1),a&&(e.counts[a]=Math.max(0,(e.counts[a]||0)-1)),e.recent=e.counts},ce=(e,t)=>{e.isFetching=!1,e.items.find(Object(O.b)(t.feedbackId))||(e.items.unshift(t.result),e.counts.all++,ie(e,t.result.status))},ue=(e,t)=>{const a=e.items.find(Object(O.b)(t.feedbackId));Object(s.d)(e.items,Object(O.b)(t.feedbackId),t.result),(null==a?void 0:a.status)!==t.result.status&&ie(e,t.result.status,null==a?void 0:a.status),e.isFetching=!1},de={all:[],new:[],processing:[],accepted:[],rejected:[]},me={items:[],next:null,filter:{status:"new"},recent:{},counts:{all:0,new:0,processing:0,accepted:0,rejected:0},totals:de,guid:0,isFetching:!1};var pe=Object(s.b)(me,{[i.a.feedbacks.create.request]:se(!0),[i.a.feedbacks.retrieve.request]:se(!0),[i.a.feedbacks.list.request]:se(!0),[i.a.feedbacks.update.request]:se(!0),[i.a.feedbacks.delete.request]:se(!0),[i.a.feedbacks.create.failure]:se(!1),[i.a.feedbacks.update.failure]:se(!1),[i.a.feedbacks.delete.failure]:se(!1),[i.a.feedbacks.list.failure]:se(!1),[i.a.feedbacks.recent.success]:(e,t)=>{e.recent=t.result.counts,e.totals={...de,...t.result.totals}},[i.a.feedbacks.create.success]:ce,[i.a.feedbacks.retrieve.success]:(e,t)=>{Object(s.d)(e.items,Object(O.b)(t.feedbackId),t.result)||e.items.unshift(t.result),e.isFetching=!1},[i.a.feedbacks.update.success]:ue,[i.a.feedbacks.delete.success]:(e,t)=>{e.isFetching=!1,e.counts.all=Math.max(0,e.counts.all-1);const a=Object(s.c)(e.items,Object(O.b)(t.feedbackId));ie(e,null,null==a?void 0:a.status)},[i.a.feedbacks.list.success]:(e,t)=>{let{guid:a,result:n,query:r}=t;if(a&&a<e.guid)return e;e.items=null!=r&&r.next?e.items.concat(n.results):n.results,e.counts=n.counts,e.recent=n.counts,e.totals={...de,...n.totals},e.next=n.next,e.isFetching=!1},[i.a.orders.update.success]:(e,t)=>{const a=e.items.find(e=>{let{purchase:a}=e;return(null==a?void 0:a._id)===t.orderId});a&&ue(e,{feedbackId:a._id,result:{...a,purchase:t.result}})},[i.a.listenCreateFeedback]:ce,[i.a.listenUpdateFeedback]:ue,SET_FEEDBACK_ITEMS_FILTER:(e,t)=>{e.filter=t.payload||{},e.next=null,e.guid=e.guid+1}});const be=e=>t=>{t.isFetching=e};var ge=Object(s.b)({items:[],next:null,guid:0,isFetching:!1},{[i.a.users.invites.create.request]:be(!0),[i.a.users.invites.delete.request]:be(!0),[i.a.users.invites.create.failure]:be(!1),[i.a.users.invites.delete.failure]:be(!1),[i.a.users.invites.list.failure]:be(!1),[i.a.users.invites.delete.success]:be(!1),[i.a.users.invites.create.success]:(e,t)=>{e.items.unshift(t.result),e.isFetching=!1},[i.a.users.invites.delete.success]:(e,t)=>{Object(s.c)(e.items,Object(O.b)(t.inviteId)),e.isFetching=!1},[i.a.users.invites.list.request]:e=>{e.isFetching=!0},[i.a.users.invites.list.success]:(e,t)=>{if(t.guid&&t.guid<e.guid)return e;e.items=t.query&&t.query.next?e.items.concat(t.result.results):t.result.results,e.next=t.result.next,e.isFetching=!1}});var fe=Object(o.combineReducers)({conversations:f,currentUser:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.a.users.me.success.type:case i.a.users.updateMyAccount.success.type:return{...e,user:t.result};case i.a.auth.login.success.type:case i.a.auth.getToken.success.type:case i.a.users.create.success.type:case i.a.users.join.success.type:return{...e,...t.result};case i.a.listenUserUpdated.type:return t.user._id!==e.user._id?e:{...e,markers:t.marker?[...e.markers,t.marker]:e.markers,user:{...e.user,...t.user}};default:return e}},workspace:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return Object(E.a)(e,e=>{switch(t.type){case i.a.workspaces.retrieve.successType:case i.a.workspaces.create.successType:case i.a.workspaces.update.successType:return t.result;case i.a.onboarding.update.successType:e.onboarding=t.result;break;default:w(e,t),C(e,t),_(e,t),P(e,t),x(e,t),S(e,t),N(e,t)}})},cardStatistics:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.a.card.statistics.success.type:return t.result;default:return e}},billingDetails:T,products:F,subproducts:z,collections:G,invites:ge,websites:re,templates:oe,feedback:pe,botEditor:V,ui:Y,socket:Q}),he=a("OrNH"),ve=a("YAaD");function*ye(){const e=yield Object(he.d)(),{status:t}=e.ui.conversationsFilter;yield Object(he.c)(i.a.conversations.statistics({query:{status:t}}))}function*Ee(){const e=yield Object(he.d)();yield Object(he.a)([v.a,"set"],"conversationsFilter",e.ui.conversationsFilter),yield Object(he.c)(i.a.conversations.filterList())}function*Oe(){yield Object(he.c)(i.a.conversations.unread())}function*je(e){let{result:t}=e;yield Object(he.c)(i.a.feedbacks.recent({websiteId:t.website}))}function*ke(){yield Object(he.c)(Z.ui.setConversationsFilter({assign:"all",status:"open",searchValue:"",showNewFirst:!0}))}function*we(){yield Object(he.c)(i.a.collections.list())}function*Ce(){const e=yield Object(he.d)(),{user:t}=e.currentUser;t&&window.Sentry.setUser({email:t.email,oid:t._id})}function*_e(e){if(window.matchMedia("(max-width: 767px)").matches)yield Object(he.a)(ve.a.push,"/i");else{const{conversations:t}=yield Object(he.d)(),a=t.list.ids.map(e=>t.list.byContactId[e]).filter(t=>t.status!==e.status&&t.contact._id!==e.contactId);yield Object(he.a)(ve.a.push,a.length>0?"/i/"+a[0].contact._id:"/i")}}function*Pe(e){yield Object(he.c)(i.a.workspaces.retrieve())}function*xe(e){yield Object(he.c)(Z.ui.setConversationsFilter({status:"open"})),yield Object(he.c)(i.a.conversations.retrieve({contactId:e.contactId}))}function*Se(){yield Object(he.c)(i.a.workspaces.retrieve()),yield Object(he.c)(i.a.billing.details()),ve.a.location.pathname.startsWith("/billing/")?yield Object(he.a)(ve.a.push,"/billing"):ve.a.location.pathname.startsWith("/s/billing/")&&(yield Object(he.a)(ve.a.push,"/s/billing"))}function*Ne(){const e=yield Object(he.d)();yield Object(he.a)([v.a,"set"],"advancedStylingMode",e.ui.isAdvancedStylingMode)}function*Ie(){window.Sentry&&(yield Object(he.b)(1e3,"*",Ce)),yield Object(he.b)(100,[i.a.conversations.assign.success,i.a.conversations.assignMe.success,i.a.conversations.changeStatus.success,i.a.listenCreateConversation.type,i.a.listenUpdateConversation.type,Z.ui.setConversationsFilter],ye),yield Object(he.e)(i.a.conversations.assignMe.success,ke),yield Object(he.e)(Z.ui.setConversationsFilter,Ee),yield Object(he.e)(Z.ui.toggleStylingMode,Ne),yield Object(he.e)([i.a.listenCreateConversation.type,i.a.listenUpdateConversation.type,i.a.workspaces.my],Oe),yield Object(he.e)([i.a.feedbacks.update.success,i.a.feedbacks.delete.success,i.a.feedbacks.create.success,i.a.listenCreateFeedback.type,i.a.listenUpdateFeedback.type],je),yield Object(he.e)([i.a.products.create.success,i.a.products.update.success,i.a.products.delete.success,i.a.websites.create.success,i.a.websites.scaffold.success,i.a.websites.delete.success,i.a.collections.products.update.success,i.a.blocks.convert.success],we),yield Object(he.e)([i.a.billing.update.success,i.a.billing.subscription.cancel.success,i.a.billing.changeCreditCard.success,i.a.listenSubscriptionCreated.type,i.a.listenSubscriptionUpdated.type,i.a.listenSubscriptionCancelled.type,i.a.listenPaymentSucceeded.type,i.a.listenPaymentRetryFailed.type,i.a.listenHighRiskTransactionUpdated.type],Se),yield Object(he.e)(i.a.conversations.changeStatus.success,_e),yield Object(he.e)([i.a.integrations.create.success,i.a.integrations.delete.success],Pe),yield Object(he.e)([i.a.conversations.sendMessage.success,i.a.conversations.sendAttachment.success],xe)}var Te=a("uZih"),Me=a.n(Te),Le=a("PxNW"),Be=a("Oz2X"),Fe=a.n(Be),Re=a("QqVf");const Ae={[i.a.auth.login.successType]:()=>({event:"login",method:"email"}),[i.a.users.create.successType]:()=>({event:"sign_up",method:"email"}),[i.a.users.create.failureType]:e=>({event:"Sign up error",error:Me()(e.error,["stack","json"])}),[i.a.websites.update.successType]:(e,t)=>{const a=t.websites.find(Object(Re.a)({_id:e.websiteId}));if((null==a||!a.enabled)&&e.payload.enabled)return{event:"website_published"}},[i.a.listenSubscriptionCreated.type]:e=>({event:"subscription_created",...e.payload}),[i.a.listenSubscriptionCancelled.type]:()=>({event:"subscription_cancelled"}),[i.a.users.me.successType]:e=>({event:"account_load",userId:e.result._id,email:e.result.email}),[i.a.workspaces.retrieve.successType]:e=>({event:"workspace_load",workspaceId:e.result._id,plan:e.result.billing.plan}),[Z.checkout.applyCoupon.type]:e=>({event:"checkout.applyCoupon",coupon:e.payload.coupon}),[Z.checkout.changeCountry.type]:e=>({event:"checkout.changeCountry",country:e.payload.country}),[Z.checkout.close.type]:()=>({event:"checkout.close"}),[Z.checkout.complete.type]:()=>({event:"checkout.complete"}),[Z.checkout.completePayment.type]:()=>({event:"checkout.completePayment"}),[Z.checkout.load.type]:()=>({event:"checkout.load"}),[Z.checkout.error.type]:e=>({event:"checkout.error",error:e.payload.error}),[Z.checkout.selectPaymentMethod.type]:e=>({event:"checkout.selectPaymentMethod",paymentMethod:e.payload.payment_method}),[i.a.blocks.create.successType]:e=>({event:"Create block",kind:e.result.kind}),[i.a.blocks.update.successType]:e=>({event:"Update block",kind:e.result.kind}),[i.a.blocks.delete.successType]:(e,t)=>{const a=t.websites.find(Object(Re.a)({_id:e.websiteId})),n=null==a?void 0:a.pages.find(Object(Re.a)({_id:e.pageId})),r=null==n?void 0:n.blocks.find(Object(Re.a)({_id:e.blockId}));return{event:"Delete block",kind:null==r?void 0:r.kind}},[i.a.blocks.deleteMany.successType]:(e,t)=>{const a=t.websites.find(Object(Re.a)({_id:e.websiteId})),n=null==a?void 0:a.pages.find(Object(Re.a)({_id:e.pageId})),r=null==n?void 0:n.blocks.find(Object(Re.a)({_id:e.payload.blockId[0]}));return{event:"Delete block",kind:null==r?void 0:r.kind}},[i.a.websites.create.successType]:()=>({event:"Create website"}),[i.a.websites.scaffold.successType]:()=>({event:"Create website"}),[i.a.websites.delete.successType]:()=>({event:"Delete website"})},Ue=Fe()(),ze=Object(Le.createMiddleware)(Ae,Ue,{logger:null}),De=!!window.dataLayer;let We;We=a("JPUg").default;const Ve=Object(r.a)(),qe=[];De&&qe.push(ze);{const{OpenReplay:e}=a("bHoB");if(K.a.open_replay_project_key){const{openReplayMiddleware:t,openReplayEventsTrackerMiddleware:a}=e({projectKey:K.a.open_replay_project_key});qe.push(t,a)}}t.a=e=>{const t=We(fe,e,[n.a,Ve,...qe,l]);return Ve.run(Ie),t}},Ugh9:function(e,t,a){e.exports={root:"_88KZycSC"}},UrX7:function(e,t,a){e.exports={glyph:"_3gFA97jx"}},VADM:function(e,t,a){e.exports={root:"_2qJbPdL1",total:"_3ABN5b9y",chevron:"_1hE3zRH6",delta:"_33VWdCQu",up:"_3Iraz7GL",down:"_2iSRrdeJ",button:"_1OP5igYE",expanded:"_1LLnXTzH",list:"_3_P-Nzaa"}},VDJN:function(e,t,a){e.exports={root:"_2peaOx0u",disabled:"_3bvSs3xW",icon:"W0Y3cY1n",large:"_2Cflc8Aq",box:"_3rT1mfRR",withSubLabel:"_2A4EQVDp",label:"_7NCuFDkk",subTitle:"_2v17InDZ",title:"_3Lqd6i1W",preview:"PlFF_A0y",imageBox:"zSTYT3JK",list:"_1_jLK-PJ"}},VIEm:function(e,t,a){"use strict";var n=a("wgY5"),r=a.n(n),l=a("d1Di");const o=(e,t,a)=>r()(e).locale(a).format(t);t.a=function(e){let{type:t,value:a}=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"!=typeof navigator&&navigator.language;if(a)switch(t){case"date":return{normalized:new Date(+a).toLocaleDateString()};case"datetime":return{normalized:o(new Date(+a),"LLL",n)};case"address":{let e={};try{e=a&&JSON.parse(a)||{}}catch(e){}return{normalized:["city","state","address","postalCode"].map(t=>e[t]).filter(Boolean).join(", ")}}case"phone":return{normalized:Object(l.a)(a,n),link:"tel:"+Object(l.b)(a,18,!1)};case"email":return{normalized:a,link:"mailto:"+a}}return{normalized:a}}},VOer:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("ERkP"),r=a.n(n),l=a("O94r"),o=a.n(l),s=a("V0IW"),i=a("w/pt"),c=a.n(i);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function d(e){let{className:t,hasError:a,maxLength:n,value:l,size:i,builderInput:d,...m}=e;const p=o()(c.a.root,t,{[c.a.error]:a,[c.a.paddingRight]:n,[c.a[i]]:!0,[c.a.builderInput]:d}),b=l||"";return r.a.createElement("div",{className:c.a.container},r.a.createElement(s.a,u({value:b,className:p,maxLength:n},m)),n&&r.a.createElement("span",{className:c.a.counter},n-b.trim().length))}d.defaultProps={minRows:2,maxRows:5,builderInput:!1}},VaxB:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return c}));var n=a("ERkP"),r=a.n(n),l=a("O94r"),o=a.n(l);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function i(e){let{as:t,className:a,startIcon:n,endIcon:l,children:i,styles:u,...d}=e;return r.a.createElement(t,s({className:o()(u.button,a)},c(t,d)),n&&r.a.createElement("span",{className:u.startIcon},n),i,l&&r.a.createElement("span",{className:u.endIcon},l))}function c(e,t){const{type:a,disabled:n,...r}=t,l={...r};return"button"===e?(l.type=a||"button",l.disabled=n):(l.role="button",l.tabIndex="0",n&&(l["aria-disabled"]=!0)),l}i.defaultProps={as:"button",styles:{}}},VwT8:function(e,t,a){e.exports={saveButton:"_9DyTaGNJ"}},Vx5P:function(e,t,a){"use strict";a.d(t,"a",(function(){return N}));var n=a("OqJV"),r=a.n(n),l=a("NAgK"),o=a.n(l),s=a("XZwl"),i=a.n(s),c=a("ERkP"),u=a.n(c),d=a("2F2M"),m=a("O94r"),p=a.n(m),b=a("QwRn"),g=a("MhLP"),f=a("BqG0"),h=a("9j0U"),v=a("GmWt"),y=a("9nPs"),E=a("vVOL"),O=a("/7Un"),j=a("2cVh"),k=a("bjXo"),w=a("SG7T"),C=a("JoJJ"),_=a("c9JU"),P=a("q0/i"),x=a("AobH"),S=a.n(x);function N(e){let{orderId:t}=e;const a=Object(y.b)(),n=Object(E.b)(),{generateUrl:l}=Object(h.a)(),{contacts:s}=Object(O.a)(),{theme:m}=Object(j.b)(),{contentStyle:x}=Object(k.a)(),{renderBlock:N}=Object(w.b)(),[I,T]=Object(c.useState)(null),[M,L]=Object(c.useState)(0),[B,F]=i()(!1),[R,A,U]=Object(v.a)(),{loading:z,error:D,value:W}=o()(()=>a.orders.show({orderId:t,query:{complete:!0}}),[t,M]),V=Object(c.useMemo)(()=>s.messengers.length?[{kind:b.o,messengers:s.messengers}]:[],[s.messengers]),{immediate:q,online:H}=Object(c.useMemo)(()=>{const e=e=>{let[t]=e;return[t,P.b[t]]};return{immediate:n.immediate.map(e),online:n.online.map(e)}},[n]),[{loading:G},$]=r()(async e=>{await a.orders.finalize({orderId:t,payload:{paymentMethod:e}}),F(),L(e=>e+1)},[t]),[{loading:K},Z]=r()(async()=>{await a.orders.cancel({orderId:t}),U(),L(e=>e+1)},[t]);if(Object(c.useEffect)(()=>{W&&T(W)},[W]),!I||!I.finalized)return null;const J=G||z||K,Y=!q.length&&1===H.length,Q=H.map(e=>{let[t,a]=e;return I&&u.a.createElement(a,{key:t,order:I,disabled:J,onPay:$})});return u.a.createElement(C.a,{overlay:!0,compact:!0,padding:!0,title:`${Object(g.a)("order_term")} #${I.feedback.order}`,onClose:l("..")},u.a.createElement("div",{className:S.a.root},D?u.a.createElement("div",null,f.d.is(D)?Object(g.a)("order_not_found"):D.message):u.a.createElement("div",null,u.a.createElement("div",{className:S.a.pane,style:m.blocks.features},u.a.createElement("div",null,u.a.createElement("div",null,Object(g.a)("order_status")),u.a.createElement("div",null,Object(g.a)("order_status_"+I.feedback.status))),Object(E.a)(I.paymentMethod)&&u.a.createElement("div",null,u.a.createElement("div",null,Object(g.a)("payment_status")),u.a.createElement("div",null,Object(g.a)("payment_status_"+I.status)))),u.a.createElement("h3",{className:S.a.sectionHeading},Object(g.a)("your_contacts")),u.a.createElement("div",{className:S.a.pane,style:m.blocks.features},u.a.createElement("div",null,u.a.createElement("div",null,Object(g.a)("name")),u.a.createElement("div",null,I.contactInfo.lastName," ",I.contactInfo.firstName)),u.a.createElement("div",null,u.a.createElement("div",null,Object(g.a)("phone")),u.a.createElement("div",null,I.contactInfo.phoneNumber)),I.shippingAddress&&u.a.createElement("div",null,u.a.createElement("div",null,Object(g.a)("shipping")),u.a.createElement("div",null,[I.shippingAddress.city,I.shippingAddress.state,I.shippingAddress.address,I.shippingAddress.postalCode].filter(Boolean).join(", "))),I.contactInfo.comment&&u.a.createElement("div",null,u.a.createElement("div",null,Object(g.a)("comment")),u.a.createElement("div",null,I.contactInfo.comment))),u.a.createElement("div",{className:S.a.sectionHeading},Object(g.a)("order_content")),u.a.createElement("div",{className:p()(S.a.pane,S.a.products),style:m.blocks.features},I.items.map((e,t)=>u.a.createElement("div",{key:t},u.a.createElement("div",null,e.name),u.a.createElement("div",null,e.quantity,"x",e.price.amount," ",e.price.currency))),u.a.createElement("div",null,u.a.createElement("div",null,Object(g.a)("order_summary")),u.a.createElement("div",null,I.total.amount," ",I.total.currency))),V.length>0&&u.a.createElement(u.a.Fragment,null,u.a.createElement("h3",{className:S.a.sectionHeading},Object(g.a)("store_contacts")),u.a.createElement("div",{className:p()(S.a.pane,S.a.messengers),style:m.blocks.features},V.map(N))),u.a.createElement(d.a,null,"failed"===I.status&&"rejected"!==I.feedback.status&&u.a.createElement(d.b.div,{key:"order-actions",className:S.a.buttons,exit:{opacity:0,height:0,marginTop:"0px"}},Y?Q:u.a.createElement(_.a,{theme:x,onClick:F},Object(g.a)("pay_order")),u.a.createElement(_.a,{theme:x,contour:!0,onClick:A},Object(g.a)("cancel_order"))),!Y&&B&&u.a.createElement(C.a,{key:"online-payment-options",overlay:!0,compact:!0,padding:!0,title:Object(g.a)("choose_payment_method"),onClose:F},u.a.createElement("div",{className:S.a.paymentButtons},Q)),R&&u.a.createElement(C.a,{key:"order-cancellation",overlay:!0,compact:!0,padding:!0,title:Object(g.a)("order_cancellation"),onClose:U},u.a.createElement("div",null,u.a.createElement("div",{style:{textAlign:"center",marginBottom:16}},Object(g.a)("order_cancellation_prompt")),u.a.createElement(_.a,{theme:x,onClick:Z,disabled:J},Object(g.a)("order_cancellation_prompt_button"))))))))}},VyCz:function(e,t,a){e.exports={root:"sjkooUkD",builderInput:"_2-zxXJso",error:"_3BqGFZix",normal:"_1GueOB0s",small:"_3g4ydYNG",placeholder:"_1pYd-Hvo",disabled:"_1-VxaVbA"}},WHnS:function(e,t,a){e.exports={button:"_38O3mnDy",disabled:"_2H3E7i5k"}},WVsI:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("ERkP"),r=a.n(n),l=a("ESaj");function o(e){let{as:t=l.a}=e;return r.a.createElement("div",{style:{width:200,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement("div",{style:{width:"100%",filter:"grayscale(1)",opacity:.1}},r.a.createElement(t,{style:{display:"block",width:"100%",height:"auto"}})))}},WlUR:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=(e,t)=>e&&"function"==typeof e?e(t):e||null},WusW:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"g",(function(){return m})),a.d(t,"f",(function(){return p})),a.d(t,"h",(function(){return b})),a.d(t,"i",(function(){return f})),a.d(t,"b",(function(){return h})),a.d(t,"d",(function(){return v})),a.d(t,"c",(function(){return y}));var n=a("DL3M"),r=a.n(n),l=a("zUnl"),o=a.n(l),s=a("Wi9y"),i=a.n(s),c=a("BqG0");const u="application/json";function d(e){return e instanceof FormData}function m(e){return"object"==typeof e}function p(e){const t=e.get("Content-Type");return!!t&&i.a.parse(t).type===u}function b(e){return o()(e)?e:window.location.origin+e}const g=e=>async function(){return e(...arguments)};function f(e){const t={};if(e&&e.errors)for(let a in e.errors)r()(t,a,e.errors[a]);return t}function h(e){function t(t){return{type:e,...t}}return e="@API/"+e,t.type=e,t.toString=()=>e,t}function v(e,t,a){const n="@API/SOCKET/"+t;a||(a=e=>({payload:e}));const r=()=>r=>{const l=e.createSocket();l.on(t,(function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=o.clientId===e.clientId;s||r({type:n,socketId:l.id,...o,...a(...Array.isArray(t)?t:[t]),ignore:!1})}))};return r.type=n,r.toString=()=>n,r}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function a(t,a){a=g(a);const n=h(t),r=h(t+"/SUCCESS"),l=h(t+"/FAILURE");function o(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t={...e._params,...t},async(e,o)=>{e(n(t));try{const n=await a(t);return e(r({...t,result:n})),n}catch(a){throw e(l({...t,error:a})),a instanceof c.f||"Sentry"in window&&Sentry.withScope(e=>{e.setExtras({action:l.toString(),state:o()}),Sentry.captureException(a)}),a}}}return o.request=n,o.requestType=n.type,o.success=r,o.successType=r.type,o.failure=l,o.failureType=l.type,o.toString=n.toString,o.type=n.type,o}function n(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(const[l,o]of Object.entries(e)){if(l.startsWith("_"))continue;const e=t?`${t}.${l}`:l;"object"==typeof o?r[l]=n(o,e):"function"==typeof o&&(r[l]=a(e,o))}return r}return n(e.resources,null,t)}},XJ4S:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("ERkP");const r=e=>Object(n.useMemo)(()=>e&&{input:{backgroundColor:e.inputBackgroundColor,color:e.inputTextColor,border:"none",borderRadius:e.borderRadius},error:{color:e.inputTextColor,padding:"2px 8px",backgroundColor:e.inputBackgroundColor,display:"inline-block",borderRadius:e.borderRadius}},[e])},Xpt6:function(e,t,a){"use strict";var n=a("2srY"),r=a.n(n),l=a("wFLD"),o=a.n(l),s=a("cGUp"),i=a.n(s),c=a("WusW");const u={auth:"/auth",billing:"/workspaces/:workspaceId/billing",bot:"/bot",bots:"/workspaces/:workspaceId/bots",card:"/workspaces/:workspaceId/card",collections:"/workspaces/:workspaceId/collections",contacts:"/workspaces/:workspaceId/contacts",conversations:"/workspaces/:workspaceId/conversations",integrations:"/workspaces/:workspaceId/integrations",messages:"/workspaces/:workspaceId/conversations/:contactId/messages",onboarding:"/workspaces/:workspaceId/onboarding",products:"/workspaces/:workspaceId/products",crm:"/workspaces/:workspaceId/crm",endpoints:"/workspaces/:workspaceId/endpoints",replies:"/workspaces/:workspaceId/replies",websites:"/workspaces/:workspaceId/websites",pages:"/workspaces/:workspaceId/websites/:websiteId/pages",feedbacks:"/workspaces/:workspaceId/websites/:websiteId/feedback",blocks:"/workspaces/:workspaceId/websites/:websiteId/pages/:pageId/blocks",orders:"/workspaces/:workspaceId/orders",tags:"/workspaces/:workspaceId/tags",templates:"/workspaces/:workspaceId/templates",team:"/workspaces/:workspaceId/team",users:"/users",invites:"/workspaces/:workspaceId/invites",workspaces:"/workspaces"};var d=new class{constructor(e){this.baseUrl=e}async listFiles(e){return this.makeGet("/files",e)}async uploadFile(e){let{file:t,workspace:a,website:n,destination:r}=e;const l=new FormData;return l.append("file",t),l.append("workspace",a),l.append("website",n),l.append("destination",r),this.makePost("/api/files",l)}async uploadImage(e){let{file:t,workspace:a,website:n,destination:r}=e;const l=new FormData;return l.append("file",t),l.append("variant","normal"),l.append("workspace",a),n&&l.append("website",n),l.append("destination",r),this.makePost("/api/images",l)}async uploadIcon(e){let{file:t,workspace:a,website:n,destination:r}=e;const l=new FormData;return l.append("file",t),l.append("variant","icon_192"),l.append("format","png"),l.append("workspace",a),l.append("website",n),l.append("destination",r),this.makePost("/api/images",l)}deleteFiles(e){return this.makePost("/api/files/delete",e)}getHeaders(){return{Accept:c.a,Authorization:"Bearer "+this.getAccessToken()}}getAccessToken(){return o.a.get("accessToken")}async makePost(e,t){const a=new URL(e,this.baseUrl),n=Object(c.e)(t),r=this.getHeaders();n||(r["Content-Type"]=c.a);const l=await fetch(a,{method:"POST",body:n?t:JSON.stringify(t),headers:r});if(204!==l.status)return Object(c.f)(l.headers)?l.json():l.text()}async makeGet(e,t){const a=new URL(e,this.baseUrl);a.search=new URLSearchParams(t);const n=await fetch(a,{headers:this.getHeaders()});return Object(c.f)(n.headers)?n.json():n.text()}}(i.a.media_url),m=a("lSUb"),p=a("WSu0"),b=a.n(p),g=a("MMod"),f=a.n(g),h=a("YF1/"),v=a.n(h),y=a("fvrP"),E=a("DiuU"),O=a("niLw");const j=Object(m.default)(b.a);class k extends E.a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({middlewares:[O.b,O.a],headers:{Accept:c.a},...e}),this._params={workspaceId:""},this._socket=null,this.resources={auth:{login:async e=>{const t=await this.apiCall("POST",u.auth+"/login",e);return this.accessToken=t.token,t},logout:async()=>(this._socket&&this._socket.close(),this.accessToken=null,await this.apiCall("GET",u.auth+"/logout")),getToken:async e=>{const t=await this.apiCall("GET",u.auth+"/token/:code",e);return this.accessToken=t.token,t}},billing:{update:this.put(u.billing),changePlan:this.post(u.billing+"/change-plan"),previewPlanChange:this.post(u.billing+"/preview-plan-change"),changeCreditCard:this.put(u.billing+"/card"),applyCoupon:this.put(u.billing+"/apply-coupon"),getCoupon:this.get(u.billing+"/coupons/:couponId"),details:this.get(u.billing+"/details"),subscription:{create:this.post(u.billing+"/subscription/create"),cancel:this.post(u.billing+"/subscription/cancel"),pause:this.post(u.billing+"/subscription/pause"),renew:this.post(u.billing+"/subscription/renew"),changeCard:this.post(u.billing+"/subscription/change-card")},products:{prices:this.get(u.billing+"/products/prices")}},bot:{donate:this.post(u.bot+"/donate"),subscribe:this.post(u.bot+"/subscribe")},bots:{create:this.post(""+u.bots),update:this.put(u.bots+"/:botId"),delete:this.delete(u.bots+"/:botId"),upload:async e=>{let{payload:t,botId:a,field:n="file"}=e;const r=new FormData;return r.append(n,t),this.apiCall("POST",u.bots+"/:botId/upload",{botId:a,payload:r,query:{field:n}})}},card:{update:this.put(""+u.card),patch:this.patch(""+u.card),statistics:this.get(u.card+"/statistics"),messengers:{create:this.post(u.card+"/messengers"),sort:this.put(u.card+"/messengers/sort"),update:this.put(u.card+"/messengers/:messengerId"),delete:this.delete(u.card+"/messengers/:messengerId")},links:{create:this.post(u.card+"/links"),update:this.put(u.card+"/links/:linkId"),delete:this.delete(u.card+"/links/:linkId")},domain:{connect:this.put(u.card+"/domain"),disconnect:this.delete(u.card+"/domain")},uploadAvatar:e=>{let{payload:t}=e;return this.resources.workspaces.upload({payload:t,uploadType:"photo",field:"design.photo"})},uploadCover:e=>{let{payload:t}=e;return this.resources.workspaces.upload({payload:t,uploadType:"background",field:"design.background.image"})}},onboarding:{update:this.put(u.onboarding)},collections:{list:this.get(u.collections),create:this.post(u.collections),retrieve:this.get(u.collections+"/:collectionId"),sort:this.put(u.collections+"/sort"),update:this.put(u.collections+"/:collectionId"),delete:this.delete(u.collections+"/:collectionId"),products:{get:this.get(u.collections+"/:collectionId/products"),update:this.put(u.collections+"/:collectionId/products")}},contacts:{list:this.get(u.contacts),update:this.put(u.contacts+"/:contactId"),delete:this.delete(u.contacts+"/:contactId")},conversations:{list:this.get(u.conversations),retrieve:this.get(u.conversations+"/:contactId"),read:this.put(u.conversations+"/:contactId/read"),assign:this.put(u.conversations+"/:contactId/assign/:userId"),assignMe:this.put(u.conversations+"/:contactId/assign/me"),changeStatus:this.put(u.conversations+"/:contactId/status/:status"),block:this.put(u.conversations+"/:contactId/block"),uploadAttachment:async e=>{let{payload:t,contactId:a}=e;const n=new FormData;return n.append("file",t),this.apiCall("POST",u.conversations+"/:contactId/uploads/attachment",{contactId:a,payload:n,query:{field:"file"}})},sendAttachment:async e=>{let{contactId:t,payload:a}=e;const{file:n,...r}=a,{url:l,filename:o,mime:s,size:i}=await this.resources.conversations.uploadAttachment({contactId:t,payload:n});return this.resources.messages.create({contactId:t,payload:{type:"image/png"===s||"image/jpeg"===s?"image":"file",mediaUrl:l,fileName:o,fileSize:i,destination:"client",...r}})},sendMessage:e=>{let{contactId:t,payload:a}=e;return this.apiCall("POST",u.messages,{contactId:t,payload:{type:"text",destination:"client",...a}})},messages:this.get(u.messages),statistics:this.get(u.conversations+"/statistics"),unread:this.get(u.conversations+"/unread")},integrations:{create:this.post(u.integrations),delete:this.delete(u.integrations+"/:integrationId")},messages:{list:this.get(u.messages),create:this.post(u.messages)},products:{list:this.get(u.products),sublist:this.get(u.products),create:this.post(u.products),retrieve:this.get(u.products+"/:productId"),update:this.put(u.products+"/:productId"),delete:this.delete(u.products+"/:productId"),sort:this.put(u.products+"/sort"),migrate:this.post(u.products+"/migrate"),listByCollection:this.get(u.products+"/:collectionId/sorted"),retrieveBySlug:this.get(u.products+"/:collectionId/:productSlug"),uploadPhoto:e=>{let{payload:t,websiteId:a}=e;return d.uploadImage({file:t,workspace:this.getWorkspaceId(),website:a,destination:`w/${this.getWorkspaceId()}/websites/${a}/products`})},uploadPhotos:async e=>{let{payloads:t,websiteId:a}=e;const n=await Promise.all(t.map(async e=>{try{const{url:t}=await this.resources.products.uploadPhoto({payload:e,websiteId:a});return{file:e.name,result:t}}catch(t){return{file:e.name,error:t.errors&&t.errors.photos||t.message}}}));return{success:n.filter(e=>{let{result:t}=e;return t}),failed:n.filter(e=>{let{error:t}=e;return t})}}},replies:{list:this.get(u.replies),create:this.post(u.replies),update:this.put(u.replies+"/:replyId"),delete:this.delete(u.replies+"/:replyId")},reviews:{list:this.get(u.reviews),create:this.post(u.reviews),delete:this.delete(u.reviews+"/:reviewId"),my:this.get(u.reviews+"/my")},team:{create:this.post(u.team),update:this.put(u.team+"/:memberId"),delete:this.delete(u.team+"/:memberId")},users:{create:async e=>{const t=await this.apiCall("POST",""+u.users,e);return this.accessToken=t.token,t},checkInvite:this.post(u.users+"/check-invite"),checkRegistrationInvite:this.post(u.users+"/check-reg-invite"),recoveryPassword:this.post(u.users+"/recovery-password"),join:async e=>{const t=await this.apiCall("POST",u.users+"/join",e);return this.accessToken=t.token,t},me:this.get(u.users+"/me"),updateMyAccount:this.put(u.users+"/me"),changeMyPassword:this.put(u.users+"/me/change-password"),sendFeedback:this.put(u.users+"/me/feedback"),saveMySubscription:this.put(u.users+"/me/save-subscription"),uploadAvatar:e=>{let{payload:t,field:a}=e;return this.resources.workspaces.upload({uploadType:"photo",payload:t,field:a})},invites:{list:this.get(u.invites),create:this.post(u.invites),delete:this.delete(u.invites+"/:inviteId")},switchApp:this.put(u.users+"/me/switch-app"),connectTelegram:this.post(u.users+"/me/connect-telegram")},workspaces:{my:this.get(u.workspaces+"/my"),create:this.post(u.workspaces),retrieve:this.get(u.workspaces+"/:workspaceId"),update:this.put(u.workspaces+"/:workspaceId"),delete:this.delete(u.workspaces+"/:workspaceId"),upload:async e=>{let{payload:t,field:a,uploadType:n}=e;const r=new FormData;return r.append(a,t),this.apiCall("POST",u.workspaces+"/:workspaceId/uploads/:uploadType",{payload:r,query:{field:a},uploadType:n})}},websites:{list:this.method("GET",u.websites),create:this.method("POST",u.websites),scaffold:this.method("POST",u.websites+"/scaffold"),retrieve:this.method("GET",u.websites+"/:websiteId"),update:this.method("PUT",u.websites+"/:websiteId"),delete:this.method("DELETE",u.websites+"/:websiteId"),retrieveBySlug:this.method("GET",u.websites+"/slug/:websiteSlug"),domain:{update:this.method("PUT",u.websites+"/:websiteId/domain"),delete:this.method("DELETE",u.websites+"/:websiteId/domain"),get:this.method("GET",u.websites+"/:websiteId/domain")},upload:async e=>{let{websiteId:t,payload:a}=e;return d.uploadImage({file:a,workspace:this.getWorkspaceId(),website:t,destination:`w/${this.getWorkspaceId()}/websites/${t}`})},uploadFavicon:async e=>{let{websiteId:t,payload:a}=e;return d.uploadIcon({file:a,workspace:this.getWorkspaceId(),website:t,destination:`w/${this.getWorkspaceId()}/websites/${t}`})},uploadMany:async e=>{let{websiteId:t,payloads:a,field:n="files"}=e;const r=await Promise.all(a.map(async e=>{try{const a=await this.resources.websites.upload({websiteId:t,field:n,payload:e});return{file:e.name,result:a}}catch(t){return{file:e.name,error:t.errors&&t.errors[n]||t.message}}}));return{success:r.filter(e=>{let{result:t}=e;return t}),failed:r.filter(e=>{let{error:t}=e;return t})}},deleteUpload:async e=>{let{path:t}=e;return d.deleteFiles({path:[t]})},crm:{settings:{update:this.post(u.websites+"/:websiteId/crm/settings")}}},pages:{list:this.method("GET",u.pages),create:this.method("POST",u.pages),retrieve:this.method("GET",u.pages+"/:pageId"),update:this.method("PUT",u.pages+"/:pageId"),delete:this.method("DELETE",u.pages+"/:pageId"),retrieveBySlug:this.method("GET",u.pages+"/slug/:pageSlug"),statistics:this.get(u.pages+"/:pageId/statistics"),applyTemplate:this.post(u.pages+"/:pageId/apply-template/:templateId")},feedbacks:{list:this.method("GET",u.feedbacks),create:this.method("POST",u.feedbacks),count:this.method("GET",u.feedbacks+"/count"),recent:this.method("GET",u.feedbacks+"/recent"),retrieve:this.method("GET",u.feedbacks+"/:feedbackId"),update:this.method("PUT",u.feedbacks+"/:feedbackId"),delete:this.method("DELETE",u.feedbacks+"/:feedbackId")},orders:{list:this.method("GET",u.orders),update:this.method("PUT",u.orders+"/:orderId")},blocks:{create:this.post(u.blocks),update:this.put(u.blocks+"/:blockId"),clone:this.put(u.blocks+"/:blockId/clone"),convert:this.put(u.blocks+"/:blockId/convert"),delete:this.delete(u.blocks+"/:blockId"),toggle:this.put(u.blocks+"/toggle"),cloneMany:this.put(u.blocks+"/cloneMany"),deleteMany:this.put(u.blocks+"/deleteMany"),sort:this.put(u.blocks+"/sort")},tags:{list:this.get(u.tags),create:this.post(u.tags),retrieve:this.get(u.tags+"/:tagId"),update:this.put(u.tags+"/:tagId"),delete:this.delete(u.tags+"/:tagId")},pageTemplates:{list:this.get(u.templates),create:this.post(u.templates),retrieve:this.get(u.templates+"/:templateId"),update:this.put(u.templates+"/:templateId"),delete:this.delete(u.templates+"/:templateId"),uploadThumbnail:e=>{let{payload:t,field:a}=e;return this.resources.workspaces.upload({uploadType:"template",payload:t,field:a})}},crm:{settings:{update:this.post(u.crm+"/settings")}},endpoints:{sample:this.get(u.endpoints+"/test"),test:this.post(u.endpoints+"/test")}},this._socketUrl=e.socketUrl,this._accessToken=o.a.get("accessToken"),this._storeClientId()}_storeClientId(){let e=o.a.get("client_uuid");e||(e=v()(),o.a.set("client_uuid",e)),this.clientId=e}addHeaders(e){this._accessToken&&(e.headers.Authorization=`Bearer "${this._accessToken}"`),e.headers["Accept-Language"]=y.a.language,e.headers["X-Client-Id"]=this.clientId}get isAuthenticated(){return!!this._accessToken}get accessToken(){return this._accessToken}set accessToken(e){this._accessToken=e,e?o.a.set("accessToken",e):o.a.remove("accessToken"),this.emit("changeAccessToken")}get aboutMe(){return this._accessToken?j(this._accessToken):null}_createSocket(){const e=f()(this._socketUrl,{transports:["websocket"],query:{token:this._accessToken,clientId:this.clientId}});return e.on("connect",()=>{e.emit("start")}),e}createSocket(){return this._socket||(this._socket=this._createSocket()),this._socket}async execRequest(e){try{return await super.execRequest(e)}catch(e){throw 403!==e.status||e.permission||(this._socket&&this._socket.close(),this.accessToken=null),e}}getWorkspaceId(){return this._params.workspaceId}}const w=new k({socketUrl:i.a.websocket_url});function C(){const e=r()(w.aboutMe,"workspaces[0].workspace");w.param("workspaceId",e),o.a.set("currentWorkspace",e)}w.isAuthenticated&&C(),w.on("changeAccessToken",()=>{C()});t.a=w},Xv4g:function(e,t,a){e.exports={wrapper:"_2yWtFMfy",opacity:"_1Y5Aj4ql",root:"_30P4N9xc",active:"_9KNYpByy",closeButtonWrapper:"aRzSMc0d",closeButton:"_3WyDkccz",swiperContainer:"_19fWv1Gm",preloader:"_3YduR47f",swiper:"_1QI_gePB",slide:"_2zDSu6L4",slideImage:"O2-VEyWN",imagePreloader:"_2x76N0z2",loaded:"dRw0xClR",zoomIcon:"_1SMymm6R",controlsContainer:"_3etDUqOc",hidden:"_1_RaxP9Q",controls:"_3ll1WzRc",control:"_320wP-Qb",pagination:"_2R2sJ84q",clickablePagination:"_1EuCyAjD",dot:"_2oZHEF9p",activeBullet:"YzlAOsk6",content:"nvG9L3rF",dark:"_16ZdNn75",title:"_2B25hA65",price:"_3V_B7zIg",lineThrough:"Ho-PmdUJ",description:"_2dHRHJ3U",externalButton:"_19-uesOY",buttonContent:"_3QVipUD0",url:"C3BNF5wJ",blurred:"_3i0z4AqG",contacts:"_2AJRR7QC",actionsBuy:"Bk99m8u6",fixedPane:"Jcuuj80d",noSwiping:"cjtx3htq",cartBouncer:"_1hSt2FtA"}},Xxoi:function(e,t,a){e.exports={root:"JCEoNS4H",center:"eA7uiZrQ",left:"_2dFbE4YW",right:"_2GtOK2PS",blurred:"_3OVhT8pP",imageBlock:"_11VVX4nJ",clickable:"_2UscXrfh",imageContainer:"_3geG2yst",placeholder:"_2IdNCkzO",original:"biuzk2a8",square:"_3DwdArZD",image:"AedDNr1b",rectangle:"_3Lpdr_1H","fit-inside":"_3AmTQMwr",fitInside:"_3AmTQMwr","fit-outside":"_1IPKj-RR",fitOutside:"_1IPKj-RR",stretch:"_3DqF69fN",fill:"xhdh4puU"}},Y5BU:function(e,t,a){e.exports={root:"_3TjTcnKX"}},YAaD:function(e,t,a){"use strict";var n=a("11Hm"),r=a("sfid");const l=Object(n.a)({getUserConfirmation:(e,t)=>{r.a.notify(e,t)||t(!0)}});t.a=l},YlX0:function(e,t,a){e.exports={toggle:"_5FNxmnZT",builderInput:"_14u-PiMQ"}},"Z2/Z":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return l}));var n=a("T8kG");const r={messenger:n.j,viber:n.S,telegram:n.N,vk:n.U,whatsapp:n.V,instagram:n.s,skype:n.H},l={whatsapp:{label:"WhatsApp",color:"#4FCE5D"},telegram:{label:"Telegram",color:"#0088CC"},viber:{label:"Viber",color:"#675CA8"},messenger:{label:"Facebook messenger",color:"#0084FF"},vk:{label:"Vkontakte",color:"#597BA0"},skype:{label:"Skype",color:"#00AFF0"},line:{label:"Line",color:"#00AFF0"},instagram:{label:"Instagram Direct",color:"#E1306C"}}},ZFej:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("Niah"),r=a.n(n),l=a("ERkP"),o=a.n(l),s=a("1JCD"),i=a("/kq6"),c=a("uYSu");function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const d=o.a.forwardRef((function(e,t){let{embedded:a,insets:n,interactive:r,sortable:l,isViewMode:s,isMobileMode:i,lazy:d,style:p,...b}=e;const g=a?p:c.a.resolveInsets(n,p),f=d?m:"div";return o.a.createElement(f,u({ref:t,style:g},b))}));d.resolveInsets=c.a.resolveInsets,d.removeHorizontalInsets=c.a.removeHorizontalInsets,d.defaultProps={interactive:!0,embedded:!1,sortable:!1,style:null,isMobileMode:!0,insets:c.a.normalInsets};const m=o.a.forwardRef((function(e,t){var a;let{style:n,children:c,...d}=e;const[m,{height:p}]=r()(),b=Object(l.useRef)(),g=Object(s.a)([t,m,b]),f=Object(l.useMemo)(()=>({...n,height:p}),[p,Object(i.a)(n)]),h=Object(l.useMemo)(()=>{var e;return{__html:null===(e=b.current)||void 0===e?void 0:e.innerHTML}},[null===(a=b.current)||void 0===a?void 0:a.innerHTML]);return o.a.createElement(l.Suspense,{fallback:o.a.createElement("div",u({ref:g,style:f,dangerouslySetInnerHTML:h},d))},o.a.createElement("div",u({ref:g,style:n},d),c))}))},aCeS:function(e,t,a){e.exports={root:"_3Mk_YxH_",new:"_2-PCSgei",processing:"_3W-Uwvrj",accepted:"_9bY5wEwI",rejected:"AzUN0jbt",disabled:"_1a19ERm2",toggle:"_2tiEYK4Z",label:"_3H0Zlxv0",menu:"_2FCk-RKZ",visible:"eMikR5Fs",option:"_2k94keh1",active:"_17o9dBPy"}},aDtm:function(e,t,a){e.exports={root:"_1lxQwYsZ",mainContainer:"_2mS_Z72i",mainContainerInner:"_2cIbrEP4",hasProBanner:"_2syL7D4N",header:"X3a4NcWm",logo:"_2cmWxUgZ",headerButton:"_3cl5vR2R",headerRight:"_1wsq3Hbl",name:"NC9MfzK-",help:"LVIfar7u",mobileContainer:"_1SiW0dO-"}},aEcQ:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return l}));var n=a("ERkP");const r=a.n(n).a.createContext({}),l=()=>Object(n.useContext)(r)},aFgR:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("nnRT"),r=a.n(n);function l(e,t){if(t&&"object"==typeof t&&(e&&"object"==typeof e)){const a=Array.isArray(e)&&Array.isArray(t),n=a?[]:{},o=a?t.keys():Object.keys(t);for(const a of o){const o=e[a],s=t[a];r()(o,s)||(n[a]=l(o,s))}return n}return t}},aKnd:function(e,t,a){"use strict";var n=a("ERkP"),r=a.n(n),l=a("MhLP"),o=a("QwRn"),s=a("ENGl"),i=a("2cVh"),c=a("ZFej"),u=a("hOVo"),d=a.n(u);function m(){return(m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const p={huge:"h1",large:"h2",medium:"h3",small:"h4"};function b(e){let{block:t,block:{_id:a,content:o},style:u,...b}=e;const{theme:g,style:f}=Object(i.a)(t),h=Object(n.useMemo)(()=>u?{...f,...u}:f,[f,u]),v=p[g.size||"h1"];return r.a.createElement(c.a,m({style:h},Object(s.a)(d.a.root,b)),o&&r.a.createElement(v,null,o),!a&&!o&&r.a.createElement(v,{style:{color:"#e0e0e0"}},Object(l.a)("header")))}b.defaultProps=c.a.defaultProps,b.kind=o.j;t.a=b},aPca:function(e,t,a){e.exports={root:"_1Ogvz0qw",ordersButton:"_2K1avlJj",single:"_1pIdEt8T"}},ajX2:function(e,t,a){e.exports={root:"_3J4HDIJz",title:"_2R2xNEG4",close:"sLlwqgYH",warning:"_1dA6hWyZ"}},"b/0l":function(e,t,a){"use strict";a.r(t);var n=a("ERkP"),r=a.n(n),l=a("7nmT"),o=a.n(l),s=a("oUSA"),i=a("Ua0p"),c=a("zCf4"),u=a("uDfI"),d=a("zEc2"),m=a("liE7"),p=a("YAaD"),b=a("fvrP"),g=a("2OCk"),f=a("WlUR"),h=a("yDK5");const v=Object(n.createContext)(new h.EventEmitter);function y(e){let{children:t}=e;const[a]=Object(n.useState)(()=>new h.EventEmitter);return r.a.createElement(v.Provider,{value:a},t)}var E=a("O94r"),O=a.n(E),j=a("aWzz"),k=a.n(j),w=a("7Fpq"),C=a.n(w);const _=document.getElementById("root");function P(e){let{className:t,children:a,size:l,onClose:s}=e;const i=Object(n.useRef)(function(){const e=document.createElement("div");return e.className=C.a.portal,e}());Object(n.useLayoutEffect)(()=>{function e(e){e.target===i.current&&s&&s()}return _.appendChild(i.current),i.current.addEventListener("click",e),()=>{i.current.removeEventListener("click",e),_.removeChild(i.current)}},[]);const c=r.a.createElement("div",{className:O()(C.a.root,t,C.a[l])},r.a.createElement("div",{className:C.a.content},a));return o.a.createPortal(c,i.current)}function x(){return(x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}P.propTypes={className:k.a.string,onClose:k.a.func.isRequired,children:k.a.any,size:k.a.oneOf(["small","medium","large"])},P.defaultProps={size:"medium"};var S=n.createElement("path",{d:"M6.01 5l3.78-3.78A.714.714 0 108.78.21L5 3.99 1.22.21A.714.714 0 00.21 1.22L3.99 5 .21 8.78a.714.714 0 001.01 1.01L5 6.01l3.78 3.78a.714.714 0 101.01-1.01L6.01 5z",fill:"currentColor",fillRule:"evenodd"});var N=function(e){return n.createElement("svg",x({viewBox:"0 0 10 10"},e),S)},I=a("sMkB"),T=a.n(I);function M(){return(M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}let L;class B extends r.a.Component{constructor(e){super(e),this.showModalNotification=e=>{this.setState({modalNotification:e})},this.hideModalNotification=()=>{this.setState({modalNotification:null})},L=this,this.state={modalNotification:null}}render(){const{modalNotification:e}=this.state,{children:t}=this.props;return r.a.createElement(r.a.Fragment,null,e&&r.a.createElement(F,M({},e.props,{onClose:this.hideModalNotification,description:e.message.description,title:e.message.title})),t)}}class F extends r.a.Component{constructor(){super(...arguments),this.closeModal=()=>{this.setState({showModal:!1},()=>{this.props.onClose&&this.props.onClose(),F.clear()})}}static notify(e,t){L.showModalNotification({message:e,props:t})}static clear(){L.hideModalNotification()}render(){const{className:e,description:t,title:a,closeButton:n,size:l}=this.props;return r.a.createElement(P,{onClose:this.closeModal,className:T.a.container,size:l},r.a.createElement("div",{className:O()(T.a.root,e)},r.a.createElement("div",{className:T.a.iconBtn,onClick:this.closeModal},n&&r.a.createElement(N,{className:T.a.icon})),r.a.createElement("div",{className:T.a.header},r.a.createElement("div",{className:T.a.title},"function"!=typeof a?a:a())),r.a.createElement("div",{className:T.a.content},t)))}}F.defaultProps={closeButton:!0};var R=a("3pNR");const A="success",U="danger",z={closeDelay:0,notifyStyle:A,showClose:!1,isRaw:!1};class D extends h.EventEmitter{constructor(){super(),this.count=0,this.notifications=new Map}notify(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=this.createNotification(e,t);return this.handleNotificationDelay(a),this.notifications.set(a.id,a),this.emit("notify",a),a.id}success(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.notify(e,{...t,notifyStyle:A})}danger(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.notify(e,{...t,notifyStyle:U})}createNotification(e,t){return{id:this.getNotificationId(),message:e,options:{...z,...t}}}handleNotificationDelay(e){if(e.options.closeDelay>0){const t=setTimeout(()=>{this.remove(e.id)},e.options.closeDelay);e.timerId=t}}remove(e){if(!this.notifications.has(e))return;const t=this.notifications.get(e);t.timerId&&clearTimeout(t.timerId),this.notifications.delete(e),this.emit("remove",t)}clear(){this.notifications.clear(),this.emit("clear")}getNotificationId(){return this.count++}getNotifications(){return Array.from(this.notifications.values())}getReverseNotifications(){return this.getNotifications().reverse()}getLastNotification(){return this.getNotifications().pop()}static getInstance(){return D.instance||(D.instance=new D),D.instance}}D.instance=void 0;var W=D,V=a("5PMy"),q=a.n(V);const H={closeDelay:0,isRaw:!1,notifyStyle:A,showClose:!1};function G(e){let{className:t,notifyStyle:a,showClose:n,isRaw:l,onClose:o,children:s}=e;return r.a.createElement("div",{className:O()(q.a.root,t,q.a[a])},l?r.a.createElement("div",{className:q.a.content,dangerouslySetInnerHTML:{__html:s}}):r.a.createElement("div",{className:q.a.content},s),n&&r.a.createElement("a",{className:q.a.close,href:"#",onClick:e=>{e.preventDefault(),o&&o()}},r.a.createElement(R.nb,{size:20,color:"#fff"})))}G.defaultProps=H,G.notify=function(){return W.getInstance().notify(...arguments)};var $=G,K=a("NRq2"),Z=a.n(K);var J=function(){const[,e]=Object(n.useState)(0),t=W.getInstance();return Object(n.useEffect)(()=>{const a=()=>e(e=>e+1);return t.on("notify",a),t.on("remove",a),t.on("clear",a),()=>{t.off("notify",a),t.off("remove",a),t.off("clear",a)}},[]),t};function Y(){return(Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Q={notificationComponent:k.a.elementType,className:k.a.string},X={notificationComponent:$};function ee(e){let{className:t,notificationComponent:a}=e;const n=J(),l=r.a.createElement("div",{className:O()(Z.a.root,t)},n.getNotifications().map(e=>r.a.createElement(a,Y({key:e.id,onClose:()=>n.remove(e.id)},e.options),e.message)));return o.a.createPortal(l,document.body)}ee.propTypes=Q,ee.defaultProps=X;var te=ee,ae=a("hAze");const ne=r.a.createContext(null);function re(){return(re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function le(e){const[t,a]=Object(n.useState)(null);return Object(n.useEffect)(()=>{function e(e){e.preventDefault&&e.preventDefault(),a(e)}return window.addEventListener("beforeinstallprompt",e),()=>window.removeEventListener("beforeinstallprompt",e)}),r.a.createElement(ne.Provider,re({value:t},e))}var oe=a("WVsI"),se=a("4djT");const ie=()=>r.a.createElement(oe.a,{as:se.a});var ce=a("O4Uv");function ue(e){const{isAuthenticated:t}=Object(ce.a)();return t?r.a.createElement(c.b,e):(window.location.href="/auth/login",null)}var de=a("UYoG"),me=a("vxJK"),pe=a("+l7i");const be=e=>e.workspace,ge=(Object(pe.a)(be,(e,t)=>e.integrations.find(e=>e.type===t)),Object(pe.a)(be,e=>e.team.filter(e=>"Member"===e.kind).map(e=>e.user)),Object(pe.a)(be,(e,t)=>e.card.messengers.find(e=>e.messenger===t)),e=>e.currentUser.user),fe=e=>e.currentUser.markers,he=Object(pe.a)(ge,be,(e,t)=>e.workspaces.reduce((e,t)=>(e[t.workspace]=t.role,e),{})[t._id]);function ve(){return Object(u.c)(ge)}function ye(){return Object(u.c)(e=>e.workspace)}function Ee(){const{api:e}=Object(de.a)();return Object(n.useCallback)(async(t,a)=>{const{redirect_to:n}=await e.users.switchApp({payload:{app:t,...a}});n&&(window.location.href=n)},[e])}var Oe=a("cGUp"),je=a.n(Oe);var ke=a("hkFG"),we=a("jVHu"),Ce=a.n(we);function _e(e){let{isBlockedByIp:t}=e;const{t:a,i18n:n}=Object(m.useTranslation)(),l="ru"===n.language?"https://mssg.me/help":"https://mssg.me/mssgmeen";return r.a.createElement("div",{className:Ce.a.root},t?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,a("AccountBlocked.ip"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,a("AccountBlocked.heading"))),r.a.createElement("p",null,a("AccountBlocked.description")),r.a.createElement("p",null,r.a.createElement(ke.a,{tag:"a",href:l},a("AccountBlocked.button"))))}_e.defaultProps={isBlockedByIp:!1};var Pe=a("H8sf"),xe=a.n(Pe),Se=a("Idyl"),Ne=a.n(Se),Ie=a("f1DE"),Te=a.n(Ie),Me=a("daAW");function Le(){const e=Object(u.c)(he);function t(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return a.includes(e)}const a=t("owner","admin"),n=t("owner"),r=t("manager");return{hasAccess:t,role:e,isAdmin:a,isOwner:n,isManager:r}}function Be(){return Object(u.c)(e=>e.ui)}const Fe=()=>{const{features:e}=ye();return Object(n.useMemo)(()=>{const t=new Set(e||[]);return function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return a.some(e=>t.has(e))}},[e])},Re=e=>!!Fe()(e);var Ae=a("wgY5"),Ue=a.n(Ae);function ze(){const{billing:e}=ye(),t=!!e;let a,n,r,l,o=!0,s=!1,i=!1,c=!1,u=!1,d=!1,m=!1,p=!1,b=!1;var g,f;e&&(o="basic"===e.plan,s=e&&"trialing"===e.status,i=e&&"unpaid"===e.status,c=e&&"past_due"===e.status,u="unlimited"===e.plan,d=!!e.cancelAtPeriodEnd,r=s?new Date(e.trialEnd):null,n=!(!e||!e.trialEnd),a=e.plan,m=(null==e?void 0:e.pause)&&"active"===(null==e?void 0:e.status),p="paused"===(null==e?void 0:e.status),l=(null==e||null===(g=e.pause)||void 0===g?void 0:g.pausedFrom)&&Ue.a.utc(e.pause.pausedFrom).format("LL"),b=o&&["pending","rejected"].includes(null==e||null===(f=e.highRiskTransaction)||void 0===f?void 0:f.status)&&(null==e?void 0:e.highRiskTransaction));return{hasBilling:t,isFree:o,isTrial:s,trialEndedAt:r,plan:a,hasTrialEnd:n,isUnpaid:i,isUnlimited:u,isUnsubscribed:d,billing:e,isPastDue:c,isPrePaused:m,isPaused:p,pausedFrom:l,highRiskTransaction:b}}function De(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[t,a]=Object(n.useState)(e),r=Object(n.useCallback)(e=>{var t;null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),a(e=>!e)}),l=Object(n.useCallback)(e=>{var t;null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),a(!0)}),o=Object(n.useCallback)(e=>{var t;null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),a(!1)}),s={onClose:o,isOpen:t};return{isOpen:t,toggle:r,show:l,hide:o,props:s}}var We=a("Jvu7"),Ve=a.n(We);function qe(){return(qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function He(e){let{isOpen:t,className:a,onClose:n,children:l,title:o,closeButton:s,modal:i}=e;return t?r.a.createElement(P,qe({},i,{onClose:n,className:Ve.a.container}),r.a.createElement("div",{className:O()(Ve.a.root,a)},s&&r.a.createElement("div",{className:Ve.a.iconBtn,onClick:n},r.a.createElement(N,{className:Ve.a.icon})),o&&r.a.createElement("div",{className:Ve.a.header},r.a.createElement("div",{className:Ve.a.title},"function"!=typeof o?o:o())),r.a.createElement("div",{className:Ve.a.content},l))):null}function Ge(){return(Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function $e(e){let{children:t,acceptLabel:a,isOpen:n,onAccept:l,onClose:o,...s}=e;if(!n)return null;return r.a.createElement(He,Ge({onClose:o,modal:{size:"small"}},s),r.a.createElement("p",null,t),r.a.createElement("p",null,r.a.createElement(ke.a,{fullWidth:!0,onClick:e=>{e&&e.preventDefault(),l()}},a)))}function Ke(){return(Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ze(e){const{t:t}=Object(m.useTranslation)();return r.a.createElement($e,Ke({},e,{title:t("UpdateDialog.heading"),acceptLabel:t("UpdateDialog.update"),onAccept:function(){window.location.reload()}}),t("UpdateDialog.content"))}function Je(){const e=De(),t=Object(u.c)(e=>e.ui.isClientExpired);return Object(n.useEffect)(()=>{t&&async function(){if("caches"in window){const e=await caches.keys();await Promise.all(e.map(e=>caches.delete(e)))}if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistration();if(!e)return;await e.update()}}().then(()=>{e.show()})},[t]),r.a.createElement(Ze,e.props)}He.defaultProps={closeButton:!0,isOpen:!1};const Ye=()=>{const{api:e}=Object(de.a)();return Object(n.useEffect)(()=>{e.listenConnect(),e.listenDisconnect(),e.listenReconnect(),e.listenVerifyVersion()},[]),null};Ye.propTypes={};var Qe=a("9j0U");const Xe="/billing",et="/billing/plans/pro400";function tt(){let{preventDynamicBack:e=!1,reason:t=!0,code:a,target:r="pro"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{generateUrl:l}=Object(Qe.a)({useMatchUrl:!0}),{isAdmin:o}=Le(),s=Object(u.c)(e=>{var t;return null===(t=e.billingDetails.result)||void 0===t?void 0:t.subscription}),i=Object(n.useMemo)(()=>{var n;const i=(null==s||null===(n=s.plan)||void 0===n?void 0:n.id)||"basic";return{pathname:l(s?Xe:et),state:{preventDynamicBack:e,reason:t&&{code:a||(o?"upgrade":"manager"),plan:i,target:r},referrer:l(".")}}},[s]);return i}var at=a("hQZ1"),nt=a.n(at);var rt=e=>{let{onClose:t}=e;const a=tt(),{t:n}=Object(m.useTranslation)("ui");return r.a.createElement("div",{className:nt.a.root},r.a.createElement("div",{className:nt.a.close,onClick:t},r.a.createElement(R.nb,{size:16,color:"#fff"})),r.a.createElement(Me.b,{to:a,className:nt.a.content},r.a.createElement("p",{dangerouslySetInnerHTML:{__html:n("UpgradeTopBanner.message")}}),r.a.createElement("div",{className:nt.a.button},n("UpgradeTopBanner.button"))))},lt=a("NAgK"),ot=a.n(lt),st=a("lSUb"),it=a("kvt5"),ct=a.n(it);const ut=()=>Object.values(ct.a),dt=Object(st.default)(()=>{const e=ut(),t=e.filter(e=>e.paddle).map(e=>e.id),a=[...e.filter(e=>!e.paddle).map(e=>e.id),"unlimited"],n=e.filter(e=>e.deprecated).map(e=>e.id),r=e.filter(e=>!n.includes(e.id)).map(e=>e.id);return{BASIC:"basic",UNLIMITED:"unlimited",UNPAID:a,PAID:t,UPGRADEABLE:["basic",...t.filter(e=>r.includes(e))],DEPRECATED:n,ACTUAL:r}}),mt=e=>e&&ut().find(t=>t.id===e),pt="*",bt=["create","view","edit","delete"],gt=new Set(["create","view","edit","delete",pt,"?"]);class ft{constructor(e,t,a,n,r){this.user=e,this.subject=t,this.role=a,this.resource=n,this.actions=r}get description(){return`[@${this.role} ${this.resource}${this.isEvery()?"":":"+this.actions.join(",")}]${this.subject?" @ "+JSON.stringify(this.subject):""}`}get currentUser(){var e,t;return null===(e=this.user)||void 0===e||null===(t=e.workspace)||void 0===t?void 0:t.owner}get currentUserId(){const e=this.currentUser;return e?String(e._id||e):null}match(e){const{resource:t,actions:a}=ft.parsePermission(e);return this.on(t)&&this.isEvery(a)}only(e){return new ft(this.user,this.subject,this.role,this.resource,e)}on(e){return this.resource===e}includes(e){return this.actions.includes(e)}is(e){return 1===this.actions.length&&this.actions[0]===e}isAny(){return this.actions.includes("?")}isEvery(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt).every(e=>this.actions.includes(e))}static parsePermission(e){const[t,a=pt]=e.split(":"),n=new Set;if(a)for(const e of a.split(","))if(e===pt)for(const e of bt)n.add(e);else{if(!gt.has(e))throw new Error(`Unknown action "${e}"`);n.add(e)}else for(const e of bt)n.add(e);return{resource:t,actions:[...n]}}}const ht=bt.length,vt={create:!0,view:!0,edit:!0,delete:!0};class yt{constructor(e,t){this.name=e,this.access=t||{...vt},this._any=null}merge(e){return Object.assign(this.access,e.access),this._any=null,this}get grantsAny(){if(null===this._any){let e=0;for(const t of Object.values(this.access))if(e++,t)return this._any=!0,!0;this._any=e!==ht&&void 0}return this._any}isGranted(e){return"?"===e?this.grantsAny:this.access[e]}}class Et{constructor(e,t){this.name=e,this.parent=t,this.resources=[]}getResourceIds(){return this.resources.map(e=>e.name)}addResource(e){const t=this.getResource(e.name);return t?t.merge(e):(this.resources.push(e),e)}getResource(e){return this.resources.find(t=>t.name===e)}isGranted(e){let t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.getResource(e.resource);if(n){let a;if(e.isAny()){if(a=n.isGranted("?"),void 0!==a)return a}else{t=new Set(e.actions);for(const a of e.actions){const e=n.isGranted(a);if(!1===e)return!1;!0===e&&t.delete(a)}if(!t.size)return!0;e=e.only([...t])}}return!a&&this.parent&&this.parent.isGranted(e)||!1}}class Ot{constructor(){this.roles=[]}getRoleIds(){return this.roles.map(e=>e.name)}getRuleIds(){return[...new Set([].concat(...this.roles.map(e=>e.getResourceIds())))]}addRole(e){if(this.getRole(e.name))throw new Error(`Multiple definitions of "${e.name}" role`);return this.roles.push(e),e}getRole(e){return this.roles.find(t=>t.name===e)}isGranted(e){const t=this.getRole(e.role);return!!t&&t.isGranted(e)}}class jt{constructor(e){this.definitions=e}load(){const e=new Ot;for(const{id:t,rules:{extend:a,grant:n,reject:r}}of this.definitions){const l=a&&e.getRole(a),o=e.addRole(new Et(t,l));for(const[e,t]of[[n,!0],[r,!1]])if(e)for(const a of e)o.addResource(this.parseRuleDefinition(a,t))}return e}parseRuleDefinition(e,t){if("object"==typeof e){const{rule:a,...n}=e,r=this.parseRuleDefinition(a,t);return r.payload=n,r}const{resource:a,actions:n}=ft.parsePermission(e);return new yt(a,n.reduce((e,a)=>(e[a]=t,e),{}))}}class kt{supports(e){return!1}vote(e){}}var wt=a("DgHl"),Ct=a.n(wt);class _t extends kt{static getLimitByRole(e){switch(e){case"basic":case"start400":case"pro400":return 1;case"business400":return 10;default:return 3}}supports(e){return"websites"===e.resource}vote(e){return!(e.includes("create")&&!this.canCreate(e))&&!("basic"===e.role&&e.includes("edit")&&!this.canEditBasic(e))}canCreate(e){return e.user.workspace.quantities.websites<_t.getLimitByRole(e.role)}canEditBasic(e){e.subject;return!0}}class Pt extends kt{constructor(e){super(),this.loader=e}supports(e){return!0}vote(e){return this.acl.isGranted(e)}grantsInArrayPayload(e,t){const a="function"==typeof t?t:e=>e===t;let n=this.acl.getRole(e.role);for(;n;){const t=n.getResource(e.resource);if(t)if(t.payload){const{grant:e,reject:n}=t.payload;if(e&&("*"===e||e.some(a)))return!0;if(n&&("*"===n||n.some(a)))return!1}else if(n.isGranted(e,!0))return!0;n=n.parent}return!1}checkVersion(e,t){const a=t.match(/^([!<=>]+)\s*(.*)$/);if(!a)throw new Error(`ACL version "${t}" is malformed in plan definition`);const[,n,r]=a;return((e,t,a)=>{const n=Ct()(t,a);switch(e){case"<":return n<0;case">":return n>0;case"<=":return n<=0;case">=":return n>=0;case"!=":return 0!==n;case"=":default:return 0===n}})(n,e,r)}get acl(){return this._acl||(this._acl=this.loader()),this._acl}}class xt extends Pt{supports(e){return"page-blocks"===e.resource}vote(e){const t=super.vote(e);return!(t&&(e.includes("create")||e.includes("edit"))&&!this.canEdit(e))&&t}canEdit(e){if(!e.subject)return!0;const{user:{workspace:{projectVersion:t}},subject:{kind:a}}=e;return this.grantsInArrayPayload(e,e=>"string"==typeof e?e===a:e.kind===a&&this.checkVersion(t,e.version))}}let St;const Nt=()=>St||(St=new jt(ut()).load()),It=new Pt(Nt),Tt=new class extends class{constructor(){this.voters=[]}addVoter(e){this.voters.push(e)}vote(e){for(const t of this.voters){if(!t.supports(e))continue;const a=t.vote(e);if(void 0!==a)return a}return!0}}{isGranted(e,t,a,n){const{resource:r,actions:l}=ft.parsePermission(a);return this.vote(new ft(e,n,t,r,l))}};Tt.addVoter(new class extends kt{supports(e){return"unlimited"===e.role&&"page-templates"!==e.resource}vote(){return!0}}),Tt.addVoter(new class extends kt{supports(e){return"collections"===e.resource}vote(e){if("basic"===e.role){if(e.includes("create"))return!1;if(e.includes("edit"))return!1}return!(e.includes("edit")&&!this.canEdit(e))&&!(e.includes("delete")&&!this.canDelete(e))}canEdit(e){return e.subject&&!e.subject.default}canDelete(e){return!e.subject.default}}),Tt.addVoter(new class extends kt{supports(e){if("basic"===e.role&&"messengers"===e.resource){const t=e.user.workspace.projectVersion;if(Ct()(t,"2.11")>=0)return!0}return!1}vote(e){return!(e.includes("create")&&!this.canCreate(e))&&!(e.includes("edit")&&!this.canEdit(e))}canCreate(e){return this.canEdit(e)}canEdit(e){if(!e.subject)return!0;const{user:{workspace:t},subject:a}=e,n=t.card.messengers.find(e=>e.enabled);return!(n&&n.messenger!==a.messenger)}}),Tt.addVoter(new class extends kt{supports(e){return"basic"===e.role&&"products"===e.resource}vote(e){return!(e.includes("create")&&!this.canCreate(e))&&!(e.includes("edit")&&!this.canEdit(e))}canCreate(e){return this.canEdit(e)}canEdit(e){if(e.subject&&e.subject.slug)return!0;const{user:{workspace:t}}=e;return t.card.products.count<10}}),Tt.addVoter(new _t),Tt.addVoter(new class extends kt{supports(e){return"page-templates"===e.resource}vote(e){return!(e.includes("create")&&!this.canCreate(e))&&(!(e.includes("edit")&&!this.canEdit(e))&&!(e.includes("delete")&&!this.canDelete(e)))}canCreate(e){const t=e.user.workspace.quantities.templates;switch(e.role){case"unlimited":return t<20;default:return!1}}canDelete(e){return this.canEdit(e)}canEdit(e){var t;return null===(t=e.subject)||void 0===t||!t._id||String(e.subject.author)===e.currentUserId}}),Tt.addVoter(new class extends Pt{supports(e){return"page-themes"===e.resource}vote(e){const t=super.vote(e);return!(t&&e.includes("edit")&&!this.canEdit(e))&&t}canEdit(e){return!e.subject||this.grantsInArrayPayload(e,e.subject.colorId)}}(Nt)),Tt.addVoter(new class extends Pt{supports(e){return"page-styling"===e.resource}vote(e){const t=super.vote(e);return!(t&&e.includes("edit")&&!this.canEdit(e))&&t}canEdit(e){return!e.subject||this.grantsInArrayPayload(e,e.subject.type)}}(Nt)),Tt.addVoter(new xt(Nt)),Tt.addVoter(new class extends xt{supports(e){return"page-blocks-publish"===e.resource}vote(e){return super.vote(e)&&this.canEdit(e)}}(Nt)),Tt.addVoter(It);const Mt=(e,t,a,n)=>{var r,l;return Tt.isGranted(e,n||(null==e||null===(r=e.workspace)||void 0===r||null===(l=r.billing)||void 0===l?void 0:l.plan),t,a)};class Lt extends Error{constructor(e,t,a,n,r){super(e),this.status=403,this.code=t,this.plan=a,this.permission=n,this.target=r}}class Bt{constructor(e,t,a,n,r,l){this.user=e,this.permission=t,this.subject=a,this.granted=n,this.paid=r,this.upgrade=l}get approve(){return this.granted&&this.paid}get billing(){return this.user.workspace.billing||{}}get plan(){return this.billing.plan}get error(){if(!this._error&&!this.approve){if(this.granted&&!this.paid)this._error=this.createPayError();else{const e=this.upgrade;this._error=e?this.createUpgradeError(e):this.createForbiddenError()}}return this._error||null}createPayError(){return new Lt("Pay for "+this.plan,"unpaid",this.plan,this.permission,this.plan)}createUpgradeError(e){return new Lt("Upgrade to "+e,"upgrade",this.plan,this.permission,e)}createForbiddenError(){return new Lt("Access forbidden","forbidden",this.plan,this.permission)}}const Ft=(e,t,a,n)=>{let r=a;"function"==typeof r&&(n=r,r=null);const l=t.workspace.billing||{},o=Mt(t,e,r),s=!function(e){let{plan:t,status:a,paid:n}=e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(!t||"trialing"!==a&&!["basic","unlimited"].includes(t))&&!(n||r&&"past_due"===a)}(l,t.allowPastDue)||Mt(t,e,r,"basic"),i=o?l.plan:((e,t,a)=>{var n,r;const{UPGRADEABLE:l}=dt(),o=null==e||null===(n=e.workspace)||void 0===n||null===(r=n.billing)||void 0===r?void 0:r.plan,s=It.acl.getRoleIds(),i=s.indexOf(o);if(i>=0)for(const n of s.slice(i+1)){if(!l.includes(n))continue;if(Tt.isGranted(e,n,t,a))return n}})(t,e,r),c=new Bt(t,e,r,o,s,i);return n&&n(c.error,c.approve),c},Rt=(e,t,a,n)=>{for(const r of a){if(Ft(e,t,r,n).error)return!1}return!0},At=(e,t,a)=>{if(Array.isArray(e)){for(const n of e)At(n,t,a);return}return(Array.isArray(a)?Rt:Ft)(e,t,a,e=>{if(e)throw e})},Ut=(e,t,a,n)=>{if(Array.isArray(e)){for(const r of e)if(!Ut(r,t,a,n))return!1;return!0}return Array.isArray(a)?Rt(e,t,a,n):Ft(e,t,a,n).approve};function zt(){return(zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Dt=e=>{let{renderNoAccess:t,children:a,componentNoAccess:n,...l}=e;const o=ye(),{error:s}=ot()(()=>new Promise((e,t)=>{Ft(l.rule,{...l,workspace:o},l.subject,(a,n)=>a?t(a):e(n))}),[o,l.subject,l.rule]);return s?n?r.a.createElement(n,zt({reason:s},l)):t?t(s):null:a||null};function Wt(){return(Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Vt=e=>{let{to:t,children:a,...n}=e;return r.a.createElement(ke.a,Wt({to:t,tag:Me.b},n),a)},qt=a("2F2M"),Ht=a("MreW"),Gt=a.n(Ht);function $t(){return($t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Kt={root:{visible:{pointerEvents:"auto"},hidden:{pointerEvents:"none"}},overlay:{visible:{backgroundColor:"rgba(0,0,0,.5)"},hidden:{backgroundColor:"rgba(0,0,0,0)"}},sheet:{visible:{y:0},hidden:{y:"calc(100% + 20px)"}}},Zt={overlay:{ease:"easeInOut"},sheet:{type:"spring",damping:40,stiffness:400},sheetPane:{type:"spring",damping:40,stiffness:400}};function Jt(e){let{children:t,isClosing:a,onClose:l,onExit:o,paneMotionProps:s,fullWidth:i,fullHeight:u,inverse:d,sheetPaneProps:m,...p}=e;const b=Object(c.g)(),g=Object(n.useCallback)(()=>Jt.applyClose(l,b),[l,b]);return r.a.createElement(qt.b.div,$t({className:O()(Gt.a.root,{[Gt.a.rootLegacy]:!1}),variants:Kt.root,initial:"hidden",animate:a?"hidden":"visible",enter:"visible",exit:"hidden"},p),r.a.createElement(qt.b.div,{className:Gt.a.overlay,variants:Kt.overlay,transition:Zt.overlay,initial:"hidden",animate:a?"hidden":"visible",exit:"hidden",enter:"visible",onClick:g,onAnimationComplete:a?o:void 0}),r.a.createElement(qt.b.div,{className:O()({[Gt.a.sheet]:!0,[Gt.a.fullWidth]:i,[Gt.a.fullHeight]:u,[Gt.a.sheetLegacy]:!1}),variants:Kt.sheet,transition:Zt.sheet,initial:"hidden",animate:a?"hidden":"visible",exit:"hidden",enter:"visible"},r.a.createElement(qt.b.div,$t({className:O()(Gt.a.sheetPane,d&&Gt.a.inverse),dragMomentum:!1,transition:Zt.sheetPane},s,m),Object(f.a)(t,g))))}function Yt(){return(Yt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Qt(e){let{header:t,children:a,motionProps:n,padding:l,style:o,...s}=e;const i=n?qt.b.div:"div";return r.a.createElement(i,Yt({className:Gt.a.sheetyPane},n),t&&r.a.createElement(i,{className:Gt.a.header},t),r.a.createElement(i,Yt({className:Gt.a.content,style:l?{padding:16,...o}:o},s),a))}Jt.defaultProps={paneMotionProps:{},isClosing:!1,onExit:null,fullWidth:!0,fullHeight:!1,sheetPaneProps:{}},Jt.applyClose=(e,t)=>{"function"==typeof e?e():e&&t.push(e)},Qt.defaultProps={header:null,padding:!0,motionProps:null,style:null};var Xt=a("Niah"),ea=a.n(Xt);function ta(e){Object(n.useEffect)(()=>{if("string"!=typeof e)return;const t=document.title;return document.title="Mssg.me - "+e,()=>{document.title=t}},[])}var aa=a("To1o"),na=a.n(aa);function ra(){return(ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function la(e){let{title:t,closePath:a,rightButton:l,light:o,closeIcon:s,bottomContent:i,...c}=e;const[u,{width:d}]=ea()(),m=Object(n.useMemo)(()=>"function"==typeof a?{onClick:()=>a()}:{to:a},[a]),p=d>50?d:50,b="function"==typeof a?"div":Me.b;return ta(t),r.a.createElement(r.a.Fragment,null,!1!==t&&r.a.createElement("div",ra({className:O()({[na.a.root]:!0,[na.a.light]:o,[na.a.noBorder]:i||!t})},c),a&&r.a.createElement(b,ra({className:na.a.icon},m),r.a.createElement(s,{size:22,color:"#333"})),r.a.createElement("span",{className:na.a.title,style:{padding:`0 ${p}px`}},t),!!l&&r.a.createElement("div",{ref:u,className:na.a.rightButton},Object(f.a)(l))),i&&r.a.createElement("div",{className:na.a.bottomContent},i))}la.defaultProps={closePath:null,closeIcon:R.nb,rightButton:null};var oa=a("2g66"),sa=a.n(oa);const ia=e=>{let{onClosing:t,onClose:a}=e;const[r,l]=Object(n.useState)(!1),[o,s]=Object(n.useState)(!1),i=sa()(),c=Object(n.useCallback)((async function(){if(!o&&i()){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];if(t){s(!0);try{if(!1===await t(...a))return}finally{i()&&s(!1)}}l(a)}}),[o,t]),u=Object(n.useCallback)(()=>{i()&&l(!1),a&&a(...Array.isArray(r)?r:[])},[r,a]);return{isClosing:!!r&&!o,onClose:c,onExit:u}};function ca(){return(ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const ua=e=>{let{title:t,render:a,portalTo:o,padding:s,onClosing:i,onClose:c,closeIcon:u,rightButton:d,children:m,...p}=e;const{isClosing:b,onClose:g,onExit:h}=ia({onClosing:i,onClose:c}),v=Object(n.useCallback)(()=>{g(!0)},[g]),y=Object(n.useCallback)(()=>{g(!1)},[g]);return Object(l.createPortal)(r.a.createElement(Jt,ca({isClosing:b,onClose:g,onExit:h},p),r.a.createElement(Qt,{padding:s,header:t&&r.a.createElement(la,{title:t,closePath:g,closeIcon:u,rightButton:Object(f.a)(d,g)})},Object(f.a)(a||m,{handleClose:g,handleTrue:v,handleFalse:y}))),document.querySelector(o))};ua.defaultProps={padding:!0,portalTo:"#mainRoot"};var da=a("j4PE"),ma=a.n(da);function pa(){return(pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ba(e){var t;let{className:a,children:n,referrer:l,reason:o,center:s=!1,onCancel:i,modal:c,...u}=e;const{t:d}=Object(m.useTranslation)("ui"),{isAdmin:p}=Le(),b=`${je.a.upgrade_redirects[o.code]}${"upgrade"===o.code?"/"+o.target:""}`,g=d(`NoAccess.${o.code}.heading`,o),f=d(`NoAccess.${o.code}.features.${null===(t=o.permission)||void 0===t?void 0:t.replace(":",".")}`,"",o)||d(`NoAccess.${o.code}.description`,o),h=r.a.createElement("div",null,r.a.createElement("h2",null,g),r.a.createElement("p",null,f),l&&r.a.createElement(Vt,{fullWidth:!0,btnStyle:"secondary2",to:l,style:{marginBottom:8}},d("NoAccess.cancel")),i&&r.a.createElement(ke.a,{fullWidth:!0,btnStyle:"secondary2",onClick:i,style:{marginBottom:8}},d("NoAccess.cancel")),p&&b&&r.a.createElement(Vt,{fullWidth:!0,btnStyle:"primary",to:b,"data-button":"upgrade-to-"+o.target},d(`NoAccess.${o.code}.button`,o)),n);return c?r.a.createElement(ua,u,r.a.createElement("div",{className:O()(ma.a.root,a,{[ma.a.center]:s})},h)):r.a.createElement("div",pa({className:O()(ma.a.root,a,{[ma.a.center]:s})},u),h)}function ga(){return(ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const fa=e=>{let{component:t,children:a,...n}=e;return r.a.createElement(Dt,ga({center:!0,componentNoAccess:ba},n),a||t&&r.a.createElement(t,null))};var ha=a("ZUB1");function va(){return(va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ya(e,t){return n.createElement(ha.b,va({viewBox:"0 0 103 24",fill:"none",ref:t},e),n.createElement("path",{d:"M45.718 11.366c0-.528-.15-.912-.45-1.152-.288-.252-.684-.378-1.188-.378-.336 0-.66.066-.972.198-.3.12-.576.288-.828.504.024.096.042.198.054.306.012.108.018.216.018.324v5.796a1.554 1.554 0 01-.36.09 2.155 2.155 0 01-.486.054c-.348 0-.606-.066-.774-.198-.168-.132-.252-.354-.252-.666v-4.878c0-.528-.15-.912-.45-1.152-.3-.252-.702-.378-1.206-.378-.336 0-.654.054-.954.162-.3.108-.552.228-.756.36v6.606a1.554 1.554 0 01-.36.09 2.008 2.008 0 01-.486.054c-.348 0-.606-.066-.774-.198-.168-.132-.252-.354-.252-.666v-5.94c0-.276.054-.498.162-.666.108-.168.288-.336.54-.504.348-.228.786-.42 1.314-.576a5.626 5.626 0 011.602-.234c.564 0 1.068.078 1.512.234.456.156.828.384 1.116.684.336-.264.732-.48 1.188-.648.468-.18 1.008-.27 1.62-.27.468 0 .906.06 1.314.18.408.108.756.288 1.044.54.3.24.534.546.702.918.168.372.252.816.252 1.332v5.67a1.95 1.95 0 01-.378.09 2.008 2.008 0 01-.486.054c-.348 0-.606-.066-.774-.198-.168-.132-.252-.354-.252-.666v-4.878zm10.66 3.312c0 .804-.3 1.434-.9 1.89-.6.456-1.47.684-2.61.684-.468 0-.9-.036-1.297-.108a4.325 4.325 0 01-1.026-.306 1.963 1.963 0 01-.648-.468.887.887 0 01-.233-.594c0-.18.041-.348.125-.504.096-.156.222-.282.378-.378.337.216.72.414 1.152.594.432.18.936.27 1.512.27.54 0 .954-.09 1.242-.27a.92.92 0 00.432-.81c0-.3-.102-.54-.306-.72-.191-.18-.48-.318-.863-.414l-1.224-.324c-.817-.216-1.416-.51-1.8-.882-.384-.372-.576-.882-.576-1.53 0-.348.072-.672.216-.972.144-.312.354-.576.63-.792a3.032 3.032 0 011.062-.522c.42-.132.9-.198 1.44-.198.431 0 .822.036 1.17.108.36.06.666.15.918.27.264.108.468.246.611.414a.816.816 0 01.216.54c0 .192-.041.36-.126.504-.084.132-.191.24-.323.324-.216-.132-.54-.276-.972-.432a3.899 3.899 0 00-1.369-.234c-.504 0-.9.09-1.188.27-.288.168-.431.408-.431.72 0 .24.077.438.233.594.169.156.45.282.846.378l1.045.27c.912.24 1.584.564 2.016.972.431.408.648.96.648 1.656zm8.261 0c0 .804-.3 1.434-.9 1.89-.6.456-1.47.684-2.61.684-.468 0-.9-.036-1.296-.108a4.325 4.325 0 01-1.026-.306 1.963 1.963 0 01-.648-.468.887.887 0 01-.234-.594c0-.18.042-.348.126-.504.096-.156.222-.282.378-.378.336.216.72.414 1.152.594.432.18.936.27 1.512.27.54 0 .954-.09 1.242-.27a.92.92 0 00.432-.81c0-.3-.102-.54-.306-.72-.192-.18-.48-.318-.864-.414l-1.224-.324c-.816-.216-1.416-.51-1.8-.882-.384-.372-.576-.882-.576-1.53 0-.348.072-.672.216-.972.144-.312.354-.576.63-.792a3.032 3.032 0 011.062-.522c.42-.132.9-.198 1.44-.198.432 0 .822.036 1.17.108.36.06.666.15.918.27.264.108.468.246.612.414a.816.816 0 01.216.54c0 .192-.042.36-.126.504-.084.132-.192.24-.324.324-.216-.132-.54-.276-.972-.432a3.899 3.899 0 00-1.368-.234c-.504 0-.9.09-1.188.27-.288.168-.432.408-.432.72 0 .24.078.438.234.594.168.156.45.282.846.378l1.044.27c.912.24 1.584.564 2.016.972.432.408.648.96.648 1.656zm7.488 1.53c-.228.144-.51.264-.846.36a4.155 4.155 0 01-1.17.144 5.234 5.234 0 01-1.512-.216 3.48 3.48 0 01-1.242-.72c-.36-.336-.648-.768-.864-1.296-.204-.528-.306-1.176-.306-1.944 0-.696.102-1.302.306-1.818.216-.528.51-.966.882-1.314.384-.36.834-.63 1.35-.81.528-.18 1.11-.27 1.746-.27.588 0 1.128.078 1.62.234.504.144.912.318 1.224.522.204.132.36.282.468.45.12.168.18.372.18.612v7.092c0 .6-.108 1.116-.324 1.548-.204.432-.492.78-.864 1.044a3.39 3.39 0 01-1.296.594 6.375 6.375 0 01-1.62.198c-.612 0-1.14-.06-1.584-.18-.444-.12-.768-.24-.972-.36-.372-.228-.558-.528-.558-.9 0-.204.042-.378.126-.522.084-.132.192-.24.324-.324.276.192.642.366 1.098.522.456.156.942.234 1.458.234.756 0 1.338-.156 1.746-.468.42-.3.63-.792.63-1.476v-.936zm-1.746-.972c.408 0 .75-.06 1.026-.18s.51-.264.702-.432v-4.356a3.165 3.165 0 00-.666-.288 2.74 2.74 0 00-.936-.144c-.732 0-1.32.222-1.764.666-.444.444-.666 1.116-.666 2.016 0 .492.06.912.18 1.26s.282.63.486.846c.204.216.444.372.72.468.288.096.594.144.918.144zm5.129.81c0-.348.102-.636.305-.864.216-.228.51-.342.883-.342.384 0 .678.114.882.342.204.228.305.516.305.864s-.102.636-.306.864c-.203.228-.497.342-.881.342-.372 0-.666-.114-.882-.342-.204-.228-.306-.516-.306-.864zm14.417-4.68c0-.528-.15-.912-.45-1.152-.288-.252-.684-.378-1.188-.378-.336 0-.66.066-.972.198-.3.12-.576.288-.828.504.024.096.042.198.054.306.012.108.018.216.018.324v5.796a1.554 1.554 0 01-.36.09 2.155 2.155 0 01-.486.054c-.348 0-.606-.066-.774-.198-.168-.132-.252-.354-.252-.666v-4.878c0-.528-.15-.912-.45-1.152-.3-.252-.702-.378-1.206-.378-.336 0-.654.054-.954.162-.3.108-.552.228-.756.36v6.606a1.554 1.554 0 01-.36.09 2.008 2.008 0 01-.486.054c-.348 0-.606-.066-.774-.198-.168-.132-.252-.354-.252-.666v-5.94c0-.276.054-.498.162-.666.108-.168.288-.336.54-.504.348-.228.786-.42 1.314-.576a5.626 5.626 0 011.602-.234c.564 0 1.068.078 1.512.234.456.156.828.384 1.116.684.336-.264.732-.48 1.188-.648.468-.18 1.008-.27 1.62-.27.468 0 .906.06 1.314.18.408.108.756.288 1.044.54.3.24.534.546.702.918.168.372.252.816.252 1.332v5.67a1.95 1.95 0 01-.378.09 2.008 2.008 0 01-.486.054c-.348 0-.606-.066-.774-.198-.168-.132-.252-.354-.252-.666v-4.878zm5.835 2.376c.168.684.492 1.194.972 1.53.493.324 1.117.486 1.873.486.504 0 .966-.078 1.386-.234.42-.156.756-.324 1.008-.504.336.192.504.462.504.81a.866.866 0 01-.234.576 2.124 2.124 0 01-.648.45c-.264.12-.582.216-.955.288-.36.072-.75.108-1.17.108a6.006 6.006 0 01-1.907-.288 3.957 3.957 0 01-1.459-.864 3.958 3.958 0 01-.954-1.422c-.215-.564-.323-1.218-.323-1.962 0-.72.108-1.35.323-1.89.216-.552.51-1.008.883-1.368.371-.372.81-.654 1.313-.846a4.512 4.512 0 011.62-.288 4.09 4.09 0 011.567.288c.48.18.888.438 1.224.774.348.324.612.714.792 1.17.192.456.288.954.288 1.494 0 .3-.072.522-.216.666-.144.132-.354.222-.63.27l-5.257.756zm2.233-3.96c-.66 0-1.213.222-1.657.666-.431.444-.66 1.08-.683 1.908l4.428-.63a2.231 2.231 0 00-.594-1.368c-.349-.384-.847-.576-1.495-.576zM4.8 2.702c0-.64.537-1.158 1.2-1.158.663 0 1.2.518 1.2 1.158V13.51c0 .64-.537 1.158-1.2 1.158-.663 0-1.2-.519-1.2-1.158V2.702zm9.6 1.544c0-.64.537-1.158 1.2-1.158.663 0 1.2.518 1.2 1.158v10.807c0 .64-.537 1.159-1.2 1.159-.663 0-1.2-.519-1.2-1.159V4.246zM9.6 1.158C9.6.518 10.137 0 10.8 0c.663 0 1.2.518 1.2 1.158v10.808c0 .64-.537 1.158-1.2 1.158-.663 0-1.2-.519-1.2-1.158V1.158zm12.68 15.168c.596-.277 1.313-.035 1.6.541a1.14 1.14 0 01-.56 1.546l-10.129 4.706c-4.578 2.127-10.076.27-12.28-4.148A8.62 8.62 0 010 15.121V6.56c0-.639.537-1.157 1.2-1.157.663 0 1.2.518 1.2 1.158v8.558c0 .986.23 1.959.673 2.847 1.63 3.265 5.693 4.638 9.077 3.065l10.13-4.706z",fill:"currentColor"}))}var Ea=n.forwardRef(ya);const Oa=()=>{const{api:e}=Object(de.a)();return Object(n.useEffect)(()=>{e.listenSubscriptionCreated(),e.listenSubscriptionUpdated(),e.listenSubscriptionCancelled(),e.listenPaymentSucceeded(),e.listenPaymentInitialSucceeded(),e.listenPaymentFailed(),e.listenPaymentRetryFailed(),e.listenHighRiskTransactionUpdated()},[]),null};Oa.propTypes={};var ja=a("sfid");const ka={id:0},wa=e=>{let{blocked:t,forbid:a}=e;const r=Object(c.g)(),[l,o]=Object(n.useState)(null),[s,i]=Object(n.useState)(!1),[u]=Object(n.useState)(()=>"blocker-"+ ++ka.id),d=sa()(),m=!!l;Object(n.useEffect)(()=>{if(t)return ja.a.subscribe(r,u,e=>{d()?(o(()=>e),i(!0)):ja.a.unsubscribe(u)}).when(a),()=>{ja.a.unsubscribe(u)}},[u,t,a]);const p=Object(n.useCallback)(e=>{l(e),e&&ja.a.unsubscribe(u),d()&&(o(null),e||i(!1))},[l]),b=Object(n.useCallback)(()=>p(!1),[p]),g=Object(n.useCallback)(()=>p(!0),[p]);return{isBlocking:m,wasBlocking:s,uid:u,cancel:b,leave:g}};const Ca=e=>e.ui.backTrack;var _a=a("ENGl"),Pa=a("GDxB"),xa=a.n(Pa);const Sa=e=>{var t;let{title:a,backPath:l,titleRightContent:o,preferDynamicBack:s,slim:i}=e;const u=Object(c.g)(),d=s&&!(null!==(t=u.location.state)&&void 0!==t&&t.preventDynamicBack),m=Object(n.useCallback)(e=>{d&&(e.preventDefault(),u.goBack())},[d]);return r.a.createElement("div",{className:O()(xa.a.root,i&&xa.a.slim)},r.a.createElement(Me.b,{to:l,className:xa.a.backLink,onClick:m},r.a.createElement(R.g,{size:24,color:"#333"})),a&&r.a.createElement("h1",{className:xa.a.title},a),o)};Sa.defaultProps={title:null,titleRightContent:null,preferDynamicBack:!1};var Na=a("FzeQ"),Ia=a.n(Na);function Ta(){return(Ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Ma=e=>{let{title:t,children:a,backPath:l,topPanelChildren:o,titleRightContent:s,light:i,inverse:c,nopadding:u,preferDynamicBack:d,forceTop:m,slimTop:p,...b}=e;return Object(n.useEffect)(()=>{const e=document.querySelector("#mainRoot > div");e&&m&&(e.scrollTop=0)},[m]),r.a.createElement("div",Object(_a.a)(O()(Ia.a.root,i&&Ia.a.light,c&&Ia.a.inverse,!u&&Ia.a.padded),b),r.a.createElement("div",Ta({className:O()(Ia.a.topPanel,p&&Ia.a.slim)},b),r.a.createElement(Sa,Ta({title:t,backPath:l,titleRightContent:s,preferDynamicBack:d,slim:p},b)),o),r.a.createElement("div",{className:Ia.a.content},a))};Ma.defaultProps={topPanelChildren:null,forceTop:!0,backPath:""};var La=a("N+9o"),Ba=a.n(La),Fa=a("XZwl"),Ra=a.n(Fa),Aa=a("w8s/"),Ua=a("Bu+i"),za=a.n(Ua);function Da(e){let{children:t}=e;return r.a.createElement("div",{className:za.a.root},t)}var Wa=a("zcZP"),Va=a("tt3H"),qa=a.n(Va);function Ha(e){let{plan:t,period:a,isOpen:o,onAccept:s,onClose:i,pendingPlanChange:c}=e;const u=document.getElementById("mainRoot"),{t:d}=Object(m.useTranslation)("billing"),{api:p}=Object(de.a)(),{run:b,result:g,getValidationError:f}=Object(Aa.a)(()=>p.billing.previewPlanChange({payload:{planId:t.id,period:a}}),[t,a]),h=null==g?void 0:g.currency,v=f("message");return Object(n.useEffect)(()=>{o&&b()},[o,b]),u?Object(l.createPortal)(r.a.createElement(qt.a,null,o&&r.a.createElement(Jt,{onClose:i},r.a.createElement(Qt,{header:r.a.createElement(la,{title:d("PlansPage.changePlanModal.title"),closePath:i})},g?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:qa.a.order},r.a.createElement("ul",{className:qa.a.orderList},r.a.createElement("li",null,r.a.createElement("span",null,d("ConfirmSubscriptionPage.order.plan")),r.a.createElement("span",null,t.name," (",d("monthly"===a?"ConfirmSubscriptionPage.order.monthly":"ConfirmSubscriptionPage.order.annually"),")")),r.a.createElement("li",null,r.a.createElement("span",null,d("ConfirmSubscriptionPage.order.total")),r.a.createElement("span",null,`${g.amount>0?g.amount:0} ${h}`)))),g.amount<0&&r.a.createElement("p",{style:{margin:"0 0 16px 6px",color:"#777",fontSize:14}},d("SinglePlanPage.balanceMessage",{balanceAmount:-g.amount,currency:h})),r.a.createElement(ke.a,{tag:"div",fullWidth:!0,onClick:s,isFetching:c},d("PlansPage.changePlanModal.changePlan"))):v?r.a.createElement("div",{className:qa.a.error},v):r.a.createElement("div",{className:qa.a.loadingContainer},r.a.createElement(Wa.a,null))))),u):null}const{useTranslation:Ga}=a("liE7");function $a(){const{t:e}=Ga();return Object(n.useCallback)(t=>{let{amount:a,currency:n}=t;return e("prices."+n,{amount:a,defaultValue:`${a} ${n}`})},[e])}function Ka(){return(Ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Za=n.createElement("path",{d:"M12.333 1L5 8.333 1.667 5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"});var Ja=function(e){return n.createElement("svg",Ka({width:14,height:10,fill:"none"},e),Za)},Ya=a("NoNJ"),Qa=a.n(Ya);function Xa(){return(Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function en(){const{t:e}=Object(m.useTranslation)("billing"),{plan:t}=Object(c.i)(),{url:a}=Object(c.j)(),{plan:l,subscription:o,isCurrentPlan:s,currentPlanPeriod:i}=Object(u.c)((e=>t=>{var a,n;let{billingDetails:{plans:r,result:l}}=t;const o=(null==l||null===(a=l.subscription)||void 0===a||null===(n=a.plan)||void 0===n?void 0:n.id)===e,s=null==l?void 0:l.subscription;return{plan:null==r?void 0:r.find(t=>t.id===e),subscription:s,isCurrentPlan:o,currentPlanPeriod:null==s?void 0:s.period}})(t)),{api:d}=Object(de.a)(),[p,b]=Object(n.useState)(s&&"annually"===i?"monthly":"annually"),[g,f]=Ra()(!1),h=Object(Aa.a)(()=>d.billing.changePlan({payload:{planId:t,period:p}}),[]),v=$a(),y=function(e,t){const a=Math.ceil(100-t/(12*e)*100);return Math.abs(a)}(l.prices.monthly.amount,l.prices.annually.amount),E=e("PlansPage.features."+l.id,{returnObjects:!0});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Qa.a.contentContainer},r.a.createElement("div",{className:Qa.a.heading},r.a.createElement("h1",null,e("SinglePlanPage.heading",{planName:l.name})),r.a.createElement("p",null,e("SinglePlanPage.subHeading"))),r.a.createElement("ul",{className:Qa.a.plansList},r.a.createElement("li",{className:O()({[Qa.a.active]:"monthly"===p,[Qa.a.disabled]:s&&"monthly"===i}),onClick:()=>b("monthly")},r.a.createElement("div",null,r.a.createElement("div",{className:Qa.a.plansListTextLine},r.a.createElement("span",null,v(l.prices.monthly))," ",e("pagePlans.per_month"))),s&&"monthly"===i&&r.a.createElement("span",{className:O()(Qa.a.label,Qa.a.currentPeriod)},e("pagePlans.currentPeriod"))),r.a.createElement("li",{className:O()({[Qa.a.active]:"annually"===p,[Qa.a.disabled]:s&&"annually"===i}),onClick:()=>b("annually")},r.a.createElement("div",null,r.a.createElement("div",{className:Qa.a.plansListTextLine},r.a.createElement("span",null,v(l.prices.annually))," ",e("pagePlans.per_year")),r.a.createElement("div",{className:Qa.a.plansListTextLine},e("pagePlans.or")," ",r.a.createElement("span",null,v({amount:Ba()(l.prices.annually.amount/12,2),currency:l.prices.annually.currency}))," ",e("pagePlans.per_month")),s&&"annually"===i?r.a.createElement("span",{className:O()(Qa.a.label,Qa.a.currentPeriod)},e("pagePlans.currentPeriod")):y?r.a.createElement("span",{className:Qa.a.label},e("pagePlans.discount",{discount:y})):null))),r.a.createElement("ul",{className:Qa.a.featuresList},E.map((t,a)=>r.a.createElement("li",{key:"feat_"+a},r.a.createElement("div",{className:Qa.a.checkIcon},r.a.createElement(Ja,null)),e(t)))),r.a.createElement("div",{className:Qa.a.footerCta},(()=>{var t;if(!o)return r.a.createElement(ke.a,{tag:Me.b,fullWidth:!0,style:{fontWeight:600,fontSize:16},to:`${a}/${p}`,"data-button":"choose-plan-and-continue"},e("pagePlans.choose_button.go_to_payment"));if(null!=o&&null!==(t=o.actions)&&void 0!==t&&t.changePlan){var n;const t=null!=o&&null!==(n=o.actions)&&void 0!==n&&n.preview?{tag:"button",type:"button",onClick:f,isFetching:h.pending}:{tag:Me.b,to:`${a}/${p}`};return r.a.createElement(ke.a,Xa({fullWidth:!0,style:{fontWeight:600,fontSize:16},"data-button":s?"change-plan-period":"change-plan-to"},t),s?e("PlansPage.common.changePlanPeriod"):`${e("PlansPage.common.changePlanTo")} ${l.name}`)}return r.a.createElement(Da,null,e("warnings.resume_subscription"))})(),r.a.createElement("div",{className:Qa.a.terms},r.a.createElement("a",{href:"https://mssg.me/privacy-policy",target:"_blank",rel:"noopener noreferrer"},e("pagePlans.privacy")),r.a.createElement("a",{href:"https://mssg.me/terms-of-use",target:"_blank",rel:"noopener noreferrer"},e("pagePlans.terms"))))),r.a.createElement(Ha,{plan:l,period:p,isOpen:g,onAccept:h.run,onClose:f,pendingPlanChange:h.pending}))}function tn(){const{generateUrl:e}=Object(Qe.a)();return r.a.createElement(Ma,{backPath:e("../.."),preferDynamicBack:!0,light:!0},r.a.createElement(en,null))}var an=a("dTSm"),nn=a("j/tK"),rn=a.n(nn);var ln=e=>{let{message:t}=e;return r.a.createElement("div",{className:rn.a.root},r.a.createElement("div",null,r.a.createElement(an.a,{size:"70"}),r.a.createElement("div",{className:rn.a.message},t)))};function on(e){const{total:t,currency:a}=e.eventData.checkout.prices.customer;return{amount:t,currency:a}}k.a.func,k.a.func,k.a.func,k.a.func,k.a.func,k.a.func,k.a.func,k.a.func,k.a.func,k.a.string,k.a.string,k.a.number,k.a.string,k.a.string,k.a.object;function sn(e){let{onPaymentComplete:t,onApplyCoupon:a,onRemoveCoupon:l,onComplete:o,onChangeCountry:s,onError:i,onLoad:c,onSelectPaymentMethod:u,onClose:d,...m}=e;const{isReady:p}=function(e){let{...t}=e;const a=function(e){let{eventCallback:t}=e;const[a,r]=Object(n.useState)(null);return Object(n.useEffect)(()=>{!async function(){const e=await(a={vendor:je.a.paddle_vendor_id,eventCallback:t},new Promise((e,t)=>{try{if("Paddle"in window)window.Paddle.Options(a),e(window.Paddle);else{const n=document.createElement("script");n.src="https://cdn.paddle.com/paddle/paddle.js",n.async=!0;const r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r),n.addEventListener("load",()=>{je.a.paddle_sandbox&&window.Paddle.Environment.set("sandbox"),window.Paddle.Setup(a),e(window.Paddle)}),n.addEventListener("error",t)}}catch(e){t(e)}}));var a;r(e)}()},[t]),a}(t),[r,l]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{if(!r&&a){a.Checkout.open({method:"inline",disableLogout:!0,allowQuantity:!1,frameTarget:"checkout-container",frameInitialHeight:416,frameStyle:"width:100%; background-color: transparent; border: none;",...t});document.querySelector(".paddle-frame").addEventListener("load",()=>{l(!0)})}},[a,r]),{paddle:a,isReady:r}}({...m,eventCallback:e=>{switch(e.event){case"Checkout.PaymentComplete":t&&t(!0);break;case"Checkout.Coupon.Remove":l&&l({price:on(e)});break;case"Checkout.Coupon.Applied":a&&a({price:on(e),coupon:e.eventData.coupon.coupon_code});break;case"Checkout.Complete":o&&o(e.eventData);break;case"Checkout.Location.Submit":s&&s({price:on(e),country:e.eventData.country});break;case"Checkout.Error":i&&i(e.eventData);break;case"Checkout.Loaded":c&&c();break;case"Checkout.PaymentMethodSelected":u&&u(e.eventData);break;case"Checkout.Close":d&&d()}}});return r.a.createElement("div",{className:"checkout-container"},!p&&r.a.createElement("div",{style:{width:"100%",height:300,display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(Wa.a,null)))}function cn(){return(cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var un={paddle:{checkout:sn,changeCard:function(e){const{api:t}=Object(de.a)(),a=Object(c.g)(),{generateUrl:n}=Object(Qe.a)();return r.a.createElement(sn,cn({onComplete:async()=>{await t.billing.details(),a.push(n(".."))}},e))}},liqpay:{checkout:function(e){let{data:t,signature:a}=e;return r.a.createElement("form",{method:"POST",action:"https://www.liqpay.ua/api/3/checkout",acceptCharset:"utf-8"},r.a.createElement("input",{type:"hidden",name:"data",value:t}),r.a.createElement("input",{type:"hidden",name:"signature",value:a}),r.a.createElement(ke.a,{fullWidth:!0},"Pay"))}}};function dn(){return(dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function mn(e,t){return function(){e&&e(...arguments),t(...arguments)}}k.a.string.isRequired,k.a.oneOf(["monthly","annually"]).isRequired,k.a.func,k.a.func;function pn(e){let{planId:t,period:a,onApplyCoupon:l,onChangeCountry:o}=e;const{t:s}=Object(m.useTranslation)("billing"),{api:i,checkout:c}=Object(de.a)(),{result:u}=Object(me.a)(()=>i.billing.subscription.create({payload:{planId:t,period:a}}),[t]),[d,p]=Object(n.useState)(!1);if(!u)return r.a.createElement(Wa.a,null);const b=un[u.provider].checkout;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,dn({},u.params,{onPaymentComplete:mn(()=>p(!0),c.completePayment),onApplyCoupon:mn(l,c.applyCoupon),onChangeCountry:mn(o,c.changeCountry),onComplete:c.complete,onLoad:c.load,onError:c.error,onSelectPaymentMethod:c.selectPaymentMethod,onClose:c.close})),d&&r.a.createElement(ln,{message:s("ConfirmSubscriptionPage.loaderMessage")}))}function bn(){return(bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var gn=n.createElement("path",{d:"M8.376 9.763v5.928c0 1.077.902 1.95 2.013 1.95 1.112 0 2.013-.873 2.013-1.95V9.763c0-1.077-.901-1.95-2.013-1.95-1.111 0-2.013.873-2.013 1.95zM24.48 2.545v18.2c0 1.078.902 1.951 2.014 1.951 1.111 0 2.012-.873 2.012-1.95V2.545c0-1.077-.9-1.95-2.012-1.95s-2.014.873-2.014 1.95zM16.428 9.617v6.747c0 1.077.902 1.95 2.014 1.95 1.111 0 2.012-.873 2.012-1.95V9.617c0-1.077-.9-1.95-2.012-1.95s-2.014.873-2.014 1.95z",fill:"currentColor"}),fn=n.createElement("path",{d:"M37.698 22.89l-16.992 7.925c-5.676 2.647-12.493.336-15.226-5.163a10.765 10.765 0 01-1.13-4.794V6.445c0-1.077-.901-1.95-2.013-1.95-1.112 0-2.013.873-2.013 1.95v14.413c0 2.246.522 4.463 1.528 6.486 3.698 7.44 12.92 10.567 20.6 6.985l16.993-7.926c1.002-.467 1.423-1.633.94-2.603-.482-.97-1.685-1.378-2.687-.91z",fill:"currentColor"});var hn=function(e){return n.createElement("svg",bn({width:41,height:36,fill:"none"},e),gn,fn)},vn=a("0iqz"),yn=a.n(vn);function En(){const{t:e}=Object(m.useTranslation)("billing"),{generateUrl:t}=Object(Qe.a)(),{plan:a,period:l}=Object(c.i)(),{plan:o,allowPay:s}=Object(u.c)(e=>{let{billingDetails:{plans:t,result:n}}=e;return{plan:null==t?void 0:t.find(e=>e.id===a),allowPay:!(null!=n&&n.subscription)}}),[i,d]=Object(n.useState)(o.prices[l]),{api:p}=Object(de.a)(),b=$a(),g=Object(u.c)(e=>e.currentUser.user);return s?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ma,{light:!0,preferDynamicBack:!0,backPath:{pathname:t("../.."),state:{preventDynamicBack:!0}}},r.a.createElement("div",{className:yn.a.contentContainer},r.a.createElement("div",{className:yn.a.logo},r.a.createElement(hn,null)),r.a.createElement("div",{className:yn.a.heading},r.a.createElement("h1",null,e("ConfirmSubscriptionPage.title"))),r.a.createElement("div",{className:yn.a.order},r.a.createElement("ul",{className:yn.a.orderList},r.a.createElement("li",null,r.a.createElement("span",null,e("ConfirmSubscriptionPage.order.plan")),r.a.createElement("span",null,o.name," (",e("ConfirmSubscriptionPage.order."+l),")")),r.a.createElement("li",null,r.a.createElement("span",null,e("ConfirmSubscriptionPage.order.total")),r.a.createElement("span",null,b(i))))),r.a.createElement("div",{className:yn.a.payForm},r.a.createElement(pn,{planId:a,period:l,onApplyCoupon:e=>{let{price:t}=e;d(t)},onChangeCountry:e=>{let{price:t,country:a}=e;d(t),p.users.updateMyAccount({payload:{...g,country:a,currency:t.currency}})}}))))):r.a.createElement(c.a,{to:t("../..")})}function On(e){switch(e){case"USD":return"US$";case"RUB":return"";default:return e}}var jn=a("Pj6T"),kn=a.n(jn);function wn(e){var t;let{Tag:a,plan:n}=e;const{t:l}=Object(m.useTranslation)("billing"),{generateUrl:o}=Object(Qe.a)(),s=Object(u.c)(e=>{var t;return null===(t=e.billingDetails.result)||void 0===t?void 0:t.subscription}),i=(null==s||null===(t=s.plan)||void 0===t?void 0:t.id)===n.id,c=null==s?void 0:s.period,d=null==s?void 0:s.price,p=l("PlansPage.features."+n.id,{returnObjects:!0});return r.a.createElement(a,{className:kn.a.planPane},r.a.createElement("div",{className:kn.a.planPaneHeader},r.a.createElement("h2",null,r.a.createElement("span",{className:kn.a.planName},n.name),i&&r.a.createElement("span",{className:kn.a.currentPlanLabel},l("PlansPage.common.currentPlan"))),i&&r.a.createElement("p",null,r.a.createElement("span",null,d.amount," ",On(d.currency))," "+l("PlansPage.common."+c)),!i&&r.a.createElement("p",null,r.a.createElement("span",null,Ba()(n.prices.annually.amount/12,2)," ",On(n.prices.annually.currency))," "+l("PlansPage.common.perMonth"))),!s&&r.a.createElement(ke.a,{tag:Me.b,to:o(n.id),fullWidth:!0,outline:"pro400"!==n.id,style:{border:"pro400"!==n.id?"1px solid":"none",fontSize:16,fontWeight:"600"}},l("PlansPage.common.choose")," ",n.name),s&&r.a.createElement(ke.a,{tag:Me.b,to:o(n.id),fullWidth:!0,outline:!0,style:{border:"1px solid",fontSize:16,fontWeight:"600"}},!i&&l("PlansPage.common.changePlanTo")+" "+n.name,i&&l("PlansPage.common.changePlanPeriod")),r.a.createElement("ul",{className:kn.a.planPaneFeaturesList},p.map((e,t)=>r.a.createElement("li",{key:t},r.a.createElement("div",{className:kn.a.checkmark},r.a.createElement(Ja,null)),l(e)))))}wn.defaultProps={Tag:"div"};var Cn=a("cgra"),_n=a.n(Cn);function Pn(){const{t:e}=Object(m.useTranslation)("billing"),{generateUrl:t}=Object(Qe.a)(),{lang:a}=ve(),n=Object(u.c)(e=>e.billingDetails.plans);return 1===n.length?r.a.createElement(c.a,{to:t(n[0].id)}):r.a.createElement(Ma,{backPath:t(".."),preferDynamicBack:!0,style:{backgroundColor:"#f7f7fa"}},r.a.createElement("div",{className:_n.a.root},r.a.createElement("div",{className:_n.a.header},r.a.createElement("h1",null,e("PlansPage.heading")),r.a.createElement("p",null,e("PlansPage.subHeading"))),r.a.createElement("ul",{className:_n.a.plansList},n.map(e=>r.a.createElement(wn,{key:e.id,Tag:"li",plan:e}))),r.a.createElement("div",{className:_n.a.footer},r.a.createElement("h2",null,e("PlansPage.footerMessage")),r.a.createElement(ke.a,{tag:"a",href:"https://mssg.me/"+("ru"===a?"help":"mssgmeen"),target:"_blank",rel:"noopener noreferrer",outline:!0,style:{background:"#fff",fontSize:16}},e("PlansPage.common.contactUs")))))}var xn=a("KPzO"),Sn=a.n(xn);function Nn(){return(Nn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function In(e){let{title:t,url:a,status:n,badge:l,tag:o,children:s,dataElement:i,...c}=e;const u=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:Sn.a.title,title:t},t),a&&r.a.createElement("span",{className:Sn.a.url},a),n&&r.a.createElement("span",{className:Sn.a.status},n),r.a.createElement("div",{className:Sn.a.chevron},l,r.a.createElement(R.q,{size:22,color:"#333"})));return r.a.createElement(o,Nn({},Object(_a.a)([Sn.a.root,!!s&&Sn.a.container],c),i?{"data-element":i}:{}),s,s?r.a.createElement("div",{className:Sn.a.wrapper},u):u)}In.defaultProps={tag:Me.b,url:"",status:"",children:null,className:"",dataElement:""};var Tn=In,Mn=a("ESaj"),Ln=a("iGu5"),Bn=a.n(Ln);var Fn=e=>{let{as:t="span",hollow:a,badgeStyle:n,...l}=e;return r.a.createElement(t,Object(_a.a)(O()(Bn.a.root,Bn.a[n],a&&Bn.a.hollow),l))},Rn=a("gamn"),An=a.n(Rn);function Un(e){let{subscription:t}=e;const{t:a}=Object(m.useTranslation)("billing");if(!t)return r.a.createElement("span",{className:An.a.root},r.a.createElement("span",null,"Free"));const{plan:n,price:l,period:o}=t;return r.a.createElement("span",{className:An.a.root},r.a.createElement("span",{className:An.a.name},n.name,!1),l&&r.a.createElement("span",{className:An.a.price},a("billingHome.planLabel."+o,{price:l.amount,currency:l.currency})))}var zn=a("uZG2"),Dn=a.n(zn);const Wn={trialing:"blue",active:"green",past_due:"red",canceled:"red",unpaid:"red",paused:"red",pre_paused:"red"};function Vn(e){let{subscription:t,highRiskTransaction:a}=e;const{t:n}=Object(m.useTranslation)("billing"),{status:l,trialEndedAt:o,pause:s}=t,i=o||(null==s?void 0:s.pausedFrom)||null,c=i?new Date(i):null,u="pending"===(null==a?void 0:a.status)?"blue":"rejected"===(null==a?void 0:a.status)?"red":null;return r.a.createElement("span",{className:O()(Dn.a.root,Dn.a[u||Wn[l]])},a&&r.a.createElement("span",null,n("billingHome.highRiskTransaction."+(null==a?void 0:a.status))),!a&&r.a.createElement("span",{title:c&&n("{{date, LLL}}",{date:c})},n("billingHome.currentStatus."+l,{date:c,basic:"basic"})))}const qn=e=>{let{invoice:t,currency:a}=e;const{t:n}=Object(m.useTranslation)("billing");return r.a.createElement(r.a.Fragment,null,n("billingHome.invoices.planned.details",{date:new Date(t.date),amount:t.price.amount,currency:t.price.currency||a}))};qn.propTypes={invoice:k.a.shape({date:k.a.number.isRequired,price:k.a.shape({amount:k.a.number.isRequired,currency:k.a.string.isRequired})}).isRequired,currency:k.a.string};var Hn=qn,Gn=a("ljKo"),$n=a("3F7H");function Kn(e){let{children:t,...a}=e;const n=Object($n.a)(a);return r.a.createElement(Gn.c,{value:n},Object(f.a)(t,n))}var Zn=a("eIpD"),Jn=a.n(Zn);const{useWarning:Yn,useRestriction:Qn}=function(){const e=new h.EventEmitter,t=function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return e.emit("show",...a)},a=()=>e.emit("hide");return{useWarning:function(){const[r,l]=Object(n.useState)({isPresented:!1,warning:null});return Object(n.useEffect)(()=>{const t=e=>l({isPresented:!0,warning:e}),a=()=>l(e=>({...e,isPresented:!1}));return e.on("show",t),e.on("hide",a),()=>{e.removeListener("show",t),e.removeListener("hide",a)}},[]),{...r,show:t,hide:a}},useRestriction:function(e,r){const l=ye(),[o,s]=Object(n.useState)(),i=Object(n.useCallback)((e,t)=>Ut(e,{workspace:l},t,s),[l]),c=Object(n.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return t(e)}),[o]),u=Object(n.useCallback)(()=>s(null),[]),d=Object(n.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),t(o)},[o]);return Jn()(()=>{e&&i(e,r)},[i,e,r]),{warning:o,hasWarning:!!o,showWarning:c,clearWarning:u,hideWarning:a,handleBlockedEvent:o?d:void 0,checkRule:i}}}}();var Xn=a("0+Ew"),er=a.n(Xn);function tr(e){let{align:t,...a}=e;return r.a.createElement("div",Object(_a.a)([er.a.root,{[er.a.right]:"right"===t}],a))}var ar=a("kjYQ"),nr=a.n(ar);function rr(e){let{disabled:t,required:a,optional:n,children:l,...o}=e;const{t:s}=Object(m.useTranslation)("ui"),i=a?r.a.createElement("span",{className:nr.a.requiredMark,title:s("labels.field_required")},"*"):n&&r.a.createElement("span",{className:nr.a.optionalMark,title:s("labels.field_optional")},s("labels.optional"));return r.a.createElement("label",Object(_a.a)(O()(nr.a.root,t&&nr.a.disabled),o),l,i)}rr.styles=nr.a;var lr=a("RiRQ"),or=a("Ugh9"),sr=a.n(or);function ir(e){return r.a.createElement(lr.a,Object(_a.a)(sr.a.root,e))}function cr(){return(cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ur(e){let{as:t,id:a,children:l,tag:o=tr,builderInput:s,...i}=e;const{row:{name:c,label:u,labelClassName:d,errorClassName:p,restrictRule:b,required:g,optional:f,...h},control:v}=function(e){const{style:t,className:a,name:n,label:r,labelClassName:l,errorClassName:o,restrictRule:s,required:i,optional:c,disabled:u,controlProps:d,...m}=e;return{row:{required:i,optional:c,style:t,className:a,name:n,label:r,labelClassName:l,errorClassName:o,restrictRule:s,disabled:u},control:{name:n,disabled:u,...d,...m}}}(i),{t:y}=Object(m.useTranslation)(),{hasWarning:E,showWarning:O}=Qn(b),j=Object(Gn.f)(),{name:k,warning:w,getFieldProps:C,getFieldMeta:_}=j,P=C(c),x=_(c);a||(a=`${k||"form"}_${c}`.replace(".","_"));const S=Object(n.useCallback)((e,t)=>r.a.createElement(rr,cr({className:d,required:g,optional:f,disabled:v.disabled,htmlFor:a,style:s?{...null==t?void 0:t.style,paddingLeft:10,color:"#333",marginBottom:4}:null==t?void 0:t.style},t),e),[d,g,f,v.disabled,a,s]);let N;return N=l?"function"==typeof l?l({field:{...P,id:a,name:c,builderInput:s,...v},form:j,meta:x,makeLabel:S}):l:Object(n.createElement)(t||"input",{...P,id:a,name:c,...v},l),r.a.createElement(o,cr({},h,{onClick:E?e=>{e.preventDefault(),O()}:null}),u&&S(u),N,w&&r.a.createElement(ir,null,y(w)),x.error&&x.touched&&!((I=x.error)&&"object"==typeof I)&&r.a.createElement(lr.a,{className:p},y(x.error)));var I}var dr=a("VOer");function mr(){return(mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function pr(e){let{onChange:t,inputStyles:a,...n}=e;return r.a.createElement(ur,n,e=>{let{field:{name:n,value:l,...o},form:{errors:s,touched:i,setFieldValue:c}}=e;return r.a.createElement(dr.a,mr({name:n,value:l},o,{style:a,hasError:s[n]&&i[n],onChange:t||(e=>{c(n,e.target.value,!1)})}))})}var br=a("9iM6");function gr(){return(gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function fr(e){let{children:t,...a}=e;const{t:n}=Object(m.useTranslation)("ui");return r.a.createElement(br.a,gr({size:"small",noborder:!0,btnStyle:"primary",isInitialHidden:!0},a),t&&t,!t&&n("button.save"))}function hr(e){let{onSubmit:t,onClose:a}=e;const{t:l}=Object(m.useTranslation)("billing"),{billing:o}=ze(),[s,i]=Object(n.useState)(!1),c=Object(n.useMemo)(()=>({reason:o.unsubscribeReason.reason}),[o.unsubscribeReason.reason]),u=Object(n.useCallback)(async e=>{await t(e),i(!0)},[t]);return r.a.createElement(Kn,{initialValues:c,validateOnMount:!0,onSubmit:u},e=>r.a.createElement(Gn.a,{autoComplete:"off"},r.a.createElement(pr,{required:!0,builderInput:!0,style:{marginBottom:0},placeholder:l("UnsubscribeModal.reasonPlaceholder"),name:"reason",maxLength:5e3,minRows:4,maxRows:8}),r.a.createElement(fr,{btnStyle:"danger",fullWidth:!0,size:"standart",isInitialHidden:!1,disabled:s||e.isSubmitting,style:{marginTop:24,fontSize:16},isFetching:e.isSubmitting},l("UnsubscribeModal.buttons.cancelSubscription")),r.a.createElement(ke.a,{tag:"div",fullWidth:!0,btnStyle:"secondary2",style:{marginTop:10,fontSize:16},onClick:a},l("UnsubscribeModal.buttons.closeModal"))))}function vr(){const{t:e}=Object(m.useTranslation)("billing"),{api:t}=Object(de.a)(),[a,l]=Ra()(!1),o=Object(n.useCallback)(e=>t.billing.subscription.cancel({payload:e}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{btnStyle:"secondary2",fullWidth:!0,isFetching:a,onClick:l,style:{backgroundColor:"#f7f7fa"}},e("billingHome.unsubscription.cancel")),a&&r.a.createElement(ua,{onClose:l,render:t=>{let{handleClose:a}=t;return r.a.createElement("div",null,r.a.createElement("div",{style:{position:"absolute",padding:16,left:0,top:0,cursor:"pointer"},onClick:a},r.a.createElement(R.nb,{size:22,color:"#333",style:{display:"block"}})),r.a.createElement("div",{style:{textAlign:"center",paddingTop:22}},r.a.createElement("div",{style:{fontSize:36,marginBottom:20,lineHeight:1}},""),r.a.createElement("h3",{style:{fontWeight:"bold",fontSize:20,lineHeight:"26px",margin:"0 0 22px 0"}},e("UnsubscribeModal.title")),r.a.createElement("div",null,r.a.createElement(hr,{onSubmit:o,onClose:a}))))}}))}function yr(){const{t:e}=Object(m.useTranslation)("billing"),{api:t}=Object(de.a)(),{pending:a,run:n}=Object(Aa.a)(()=>t.billing.subscription.renew(),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{btnStyle:"secondary2",fullWidth:!0,isFetching:a,onClick:n,style:{backgroundColor:"#f7f7fa"}},e("billingHome.button.subscribe")))}fr.defaultProps={children:null};var Er=a("2TlH"),Or=a.n(Er);function jr(e){let{children:t}=e;return 0===r.a.Children.count(t)?null:r.a.createElement("div",{className:Or.a.buttonsContainer},t)}function kr(){var e,t,a,n,l;const{t:o}=Object(m.useTranslation)("billing"),s=Object(u.c)(e=>{var t;return null===(t=e.billingDetails.result)||void 0===t?void 0:t.subscription}),{generateUrl:i}=Object(Qe.a)();return r.a.createElement(Ma,{light:!0,backPath:i("..")},r.a.createElement("div",{style:{backgroundColor:"#fff"}},r.a.createElement("div",{className:Or.a.header},r.a.createElement(Mn.a,{className:Or.a.logo}),r.a.createElement("h1",{className:Or.a.heading},o("billingHome.heading")),r.a.createElement("p",{className:Or.a.subheading},o("billingHome.subheading"))),r.a.createElement("ul",{className:O()(Or.a.list)},r.a.createElement("li",null,r.a.createElement("span",{className:Or.a.key},o("billingHome.billingPlan")),r.a.createElement("span",{className:Or.a.value},r.a.createElement(Un,{subscription:s}))),s&&r.a.createElement("li",null,r.a.createElement("span",{className:Or.a.key},o("billingHome.status")),r.a.createElement("span",{className:Or.a.value},r.a.createElement(Vn,{subscription:s}))),(null==s?void 0:s.nextPayment)&&r.a.createElement("li",null,r.a.createElement("span",{className:Or.a.key},o("billingHome.invoices.planned.header")),r.a.createElement("span",{className:Or.a.value},r.a.createElement(Hn,{invoice:s.nextPayment}))),(null==s?void 0:s.card)&&r.a.createElement("li",null,r.a.createElement("span",{className:Or.a.key},o("billingHome.cardUsed")),r.a.createElement("span",{className:Or.a.value},s.card))),!s&&r.a.createElement(Tn,{title:o("common:misc.promo.pane.title"),url:o("common:misc.promo.pane.description"),to:i("plans/pro400"),style:{border:"1px solid #2979FF",background:"#F3F8FF",boxShadow:"none"}}),r.a.createElement(jr,null,(null==s||null===(e=s.actions)||void 0===e?void 0:e.payNow)&&r.a.createElement(Vt,{to:i(`pay/${s.plan.id}/${s.period}`),fullWidth:!0,btnStyle:"primary",style:{marginBottom:8}},o("billingHome.button.pay")),(null==s||null===(t=s.actions)||void 0===t?void 0:t.changePlan)&&r.a.createElement(ke.a,{tag:Me.b,to:i("plans"),fullWidth:!0,btnStyle:"secondary2",style:{marginBottom:8,backgroundColor:"#f7f7fa"}},o("billingHome.button.changeBillingPlan")),(null==s||null===(a=s.actions)||void 0===a?void 0:a.changePaymentMethod)&&r.a.createElement(ke.a,{tag:Me.b,to:i("change-card"),fullWidth:!0,btnStyle:"secondary2",style:{marginBottom:8,backgroundColor:"#f7f7fa"}},o("billingHome.button.changeCard")),(null==s||null===(n=s.actions)||void 0===n?void 0:n.cancel)&&r.a.createElement(vr,null),(null==s||null===(l=s.actions)||void 0===l?void 0:l.renew)&&r.a.createElement(yr,null))))}function wr(){const{api:e}=Object(de.a)(),{result:t}=Object(me.a)(()=>e.billing.subscription.changeCard(),[]);if(!t)return r.a.createElement(Wa.a,null);const a=un[t.provider].changeCard;return r.a.createElement(a,t.params)}var Cr=a("UUvU"),_r=a.n(Cr);function Pr(){const{t:e}=Object(m.useTranslation)("billing"),{generateUrl:t}=Object(Qe.a)();return Object(u.c)(e=>{var t,a;let{billingDetails:{result:n}}=e;return null==n||null===(t=n.subscription)||void 0===t||null===(a=t.actions)||void 0===a?void 0:a.changePaymentMethod})?r.a.createElement(Ma,{preferDynamicBack:!0,light:!0,backPath:{pathname:t(".."),state:{preventDynamicBack:!0}}},r.a.createElement("div",{className:_r.a.contentContainer},r.a.createElement("div",{className:_r.a.heading},r.a.createElement("h1",null,e("ChangeCardPage.title")),r.a.createElement("p",null,e("ChangeCardPage.subtitle"))),r.a.createElement("div",{className:_r.a.form},r.a.createElement(wr,null)))):r.a.createElement(c.a,{to:t("..")})}const xr={billing:"/s"};function Sr(){const e=Ee(),t=Object(u.c)(Ca),{redirectTo:a}=function(e,t){const[a,r]=Object(n.useState)(),[l,o]=Object(n.useMemo)(()=>e&&Array.isArray(e)?e:[e,t],[e,t]),s=Object(n.useCallback)(e=>{let{pathname:t}=e;if(l&&!t.startsWith("/"+l.replace(/^\//,"")))return r(o[l]),!0},[o,l,a]);return wa({blocked:!!l&&!a,forbid:s}),{redirectTo:a}}(t,xr),{isAdmin:l}=Le(),{path:o}=Object(c.j)(),s=Object(u.c)(e=>{var t,a;return"pending"===(null===(t=e.workspace.billing)||void 0===t||null===(a=t.highRiskTransaction)||void 0===a?void 0:a.status)});return Object(n.useEffect)(()=>{a&&e("inbox",{redirectTo:a})},[a]),l?r.a.createElement(c.d,null,s&&r.a.createElement(c.a,{from:o+"/*",to:o}),r.a.createElement(c.b,{exact:!0,path:[o+"/plans/:plan/:period/:trial?",o+"/pay/:plan/:period?"],component:En}),r.a.createElement(c.b,{exact:!0,path:o+"/plans/:plan",component:tn}),r.a.createElement(c.b,{exact:!0,path:o+"/plans",component:Pn}),r.a.createElement(c.b,{exact:!0,path:o+"/change-card",component:Pr}),r.a.createElement(c.b,{exact:!0,path:o,component:kr}),r.a.createElement(c.a,{to:o})):null}var Nr=a("RNvQ"),Ir=a.n(Nr),Tr=a("O4qs");class Mr{mark(){}dismiss(){}}class Lr extends Mr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'link[rel="icon"]';super(),this.icon=e,this.selector=t,this.default=this.element.href}get element(){return document.querySelector(this.selector)}mark(){this.element.href=this.icon}dismiss(){this.element.href=this.default}}class Br extends Mr{constructor(e,t){super(),this.sources=e,this.options=t||{}}get sound(){return this._sound||(this._sound=new Tr.Howl({src:this.sources,preload:!0,autoplay:!1,loop:!1,volume:1,...this.options}),this._sound.on("fade",()=>{this.sound.stop()})),this._sound}get volume(){return this.options.volume||1}get duration(){return this.options.duration||0}mark(){this.sound.playing()||(this.sound.stop().volume(this.volume).play(),this.duration&&this.sound.fade(this.volume,0,this.duration))}}var Fr=a("nnRT"),Rr=a.n(Fr);class Ar extends class{constructor(e){this.notify=Ir()(()=>{for(const e of this.markers)e.mark()},100),this.markers=e}dismiss(){for(const e of this.markers)e.dismiss()}}{constructor(){super([new Lr("/favicon_dot32.png",'link[data-icon="fav32"]'),new Br([je.a.statics_url+"/webapp/sound/inbox.ogg",je.a.statics_url+"/webapp/sound/inbox.mp3",je.a.statics_url+"/webapp/sound/inbox.wav"],{duration:4e3})])}}const Ur=e=>{let{children:t}=e;const{api:a}=Object(de.a)(),{updateTimestamp:l}=(e=>{const t=Object(u.c)(e=>e.feedback.recent),a=Object.entries(t).filter(t=>{let[a,n]=t;return n>0&&e({status:a,count:n})}).reduce((e,t)=>{let[a,n]=t;return e[a]=n,e},{}),r=Object.entries(a).reduce((e,t)=>{let[,a]=t;return e+a},0),l=r>0,[o,s]=Object(n.useState)(()=>a),[i,c]=Object(n.useState)(0);return Jn()(()=>{if(!Rr()(a,o)){s(a);for(const[e,t]of Object.entries(a)){if(t-(o[e]||0)>0){c(Date.now());break}}}},[o,a]),{recentFeedback:a,recentFeedbackCount:r,updateTimestamp:i,hasRecent:l}})(e=>{let{status:t}=e;return"new"===t}),[o]=Object(n.useState)(()=>new Ar),s=Object(u.c)(e=>e.socket.reconnected);return Object(n.useEffect)(()=>{a.listenCreateFeedback(),a.listenUpdateFeedback()},[]),Object(n.useEffect)(()=>{function e(){o.dismiss(),document.removeEventListener("mousemove",e)}if(l)return document.addEventListener("mousemove",e),e},[l,o]),r.a.createElement(n.Fragment,{key:"c-f-"+s},t)};var zr=a("jpDv"),Dr=a("//nZ"),Wr=a.n(Dr),Vr=a("TFaS"),qr=a("0/0W"),Hr=a("/kq6");const Gr=e=>e.collections;function $r(e){const t=Object(u.c)(Gr);return Object(n.useMemo)(()=>{if(e){const a=qr.a.filterWithExclusion(t.items,e);if(a.length!==t.items.length){const e=a.find(e=>e.default),n=e?e.publishedProductsCount:a.reduce((e,t)=>e+t.publishedProductsCount,0);return{...t,allPublishedProductsCount:n,items:a}}}return t},[t,Object(Hr.a)(e)])}function Kr(){return Object(u.c)(e=>e.websites)}function Zr(e){const t=Object(u.c)(t=>t.websites.find(e)),a=Object(n.useMemo)(()=>({website:null==t?void 0:t._id}),[null==t?void 0:t._id]),{crm:r}=ye(),{items:l}=$r(a);return Object(n.useMemo)(()=>t?{...t,crm:t.crm.onBoarding?{...r,onBoarding:!0}:t.crm,collections:l}:{homePageId:null,pages:[],collections:l,crm:r},[r,t,l])}function Jr(e){return Zr(t=>t._id===e)}function Yr(e){return Zr(t=>t._id===e)}function Qr(e){return Wr()(e,["name","slug","seo","tracking","enabled","branding","embeddedCode","scaffold","theme"])}function Xr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e.homePageId;const a="function"==typeof t?t(e):t,n=e.pages.find(e=>{let{_id:t}=e;return t===a});return{website:e,page:n,pageId:a,websiteId:e._id}}const el=()=>{const e=Object(c.g)(),{api:t}=Object(de.a)(),[a,n]=Ne()("visualBuilderHelpTip",!0),{pending:r,run:l,...o}=Object(Aa.a)((async function(){let{templateId:r,theme:l,redirect:o=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=await t.websites.scaffold({payload:{theme:l||Object(Vr.a)(),templateId:r}});o&&(a&&n(!1),e.push({pathname:`/pages/-/${s._id}/edit${a?"/help":""}`}))}),[]);return{pending:r,create:l,link:"/pages/create",...o}};var tl=a("enaZ"),al=a("DiEm"),nl=a.n(al),rl=a("480R"),ll=a.n(rl),ol=a("mgDV");const sl=e=>{let{back:t,path:a,isBackOverriddenBack:n}=e;return{toEntry:()=>t,toHome:()=>a,settings:{toSettings:()=>a+"/settings",toOnboarding:e=>`${a}/settings/onboard${e?"/start":""}`,toCurrency:()=>a+"/settings/currency",toMessengers:()=>a+"/settings/messengers",toPayments:()=>a+"/settings/payments",toNotifications:()=>a+"/settings/notifications",toGlobalNotifications:e=>({pathname:"/s/notifications",state:{backPath:e||a+"/settings/notifications",successRedirectPath:e||a+"/settings/notifications"}}),toImport:()=>a+"/settings/import"},product:{toAll:()=>a,toNew:e=>e?`${a}/collections/${e}/new`:a+"/new",toEdit:(e,t)=>t?`${a}/collections/${t}/product/edit/${e}`:`${a}/edit/${e}`},collection:{toAll:()=>a+"/collections",toNew:()=>a+"/collections/new",toViewProducts:e=>e?`${a}/collections/${e}`:a+"/collections",toEdit:e=>`${a}/collections/${e}/edit`},isBackOverriddenBack:n}},il=r.a.createContext({path:"/products",specifier:{website:""},isSpecific:!1,crm:ol.a,router:sl({back:"/",path:"/products"}),setEntry:()=>{},modal:!0}),cl=()=>Object(n.useContext)(il);function ul(){return(ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function dl(e,t){return n.createElement(ha.b,ul({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var ml=n.forwardRef(dl),pl=a("g0yd"),bl=a("T8kG");function gl(){return(gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var fl=e=>{var t;let{plan:a,children:n,...l}=e;return r.a.createElement(Fn,gl({badgeStyle:"primary"},l),n,(null===(t=mt(a))||void 0===t?void 0:t.name)||"PRO")},hl=a("jIz7"),vl=a.n(hl);const yl=e=>{let{children:t,overlay:a,striped:n,...l}=e;return r.a.createElement("div",{className:vl.a.root},r.a.createElement("div",Object(_a.a)([vl.a.blockedContent,n&&vl.a.striped],l),t),r.a.createElement("div",{className:vl.a.blockedOverlay},r.a.createElement("div",{className:vl.a.blockedWrapper},a)))},El=e=>{let{children:t,warning:a}=e;const{t:n}=Object(m.useTranslation)("ui");return a?r.a.createElement(yl,null,r.a.createElement(fl,{plan:a.target},r.a.createElement(bl.v,{size:8})," "),r.a.createElement("div",null,n(`NoAccess.${a.code}.heading`,{target:a.target||"pro"}))):t||null};function Ol(){return(Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function jl(e){let{children:t,overlay:a,noVisuals:n,fullWidth:l=!0,modal:o=!0,...s}=e;const{isPresented:i,warning:u,hide:d}=Yn(),m=(null==u?void 0:u.target)&&"/billing/plans/"+(null==u?void 0:u.target),p=a?a.code?a:u:"forbidden"===(null==u?void 0:u.code)&&u;return p&&i?r.a.createElement(El,Ol({warning:p},s),t):o?r.a.createElement(r.a.Fragment,null,n&&m&&r.a.createElement(c.a,{to:m}),t,r.a.createElement(qt.a,null,i&&r.a.createElement(ua,{fullWidth:l,onClose:d,padding:!1},r.a.createElement(ba,Ol({reason:u,onCancel:d},s))))):i?r.a.createElement(ba,Ol({reason:u,onCancel:d},s)):t}const kl=e=>{let{contentStyles:t,nopadding:a,motionProps:n,children:l,...o}=e;return r.a.createElement(Qt,{header:r.a.createElement(la,o),style:t,padding:!a,motionProps:n},r.a.createElement(jl,{fullWidth:!0},l))};var wl=a("PieU"),Cl=a.n(wl);function _l(e){let{cancel:t,leave:a}=e;const{t:n}=Object(m.useTranslation)("ui");return r.a.createElement("div",{className:Cl.a.root},r.a.createElement("div",{className:Cl.a.content},r.a.createElement("p",null,n("NavigationGuardMessage.message"))),r.a.createElement("div",null,r.a.createElement(ke.a,{type:"button",fullWidth:!0,btnStyle:"secondary2",onClick:t,style:{marginBottom:12}},n("NavigationGuardMessage.buttons.goBack")),r.a.createElement(ke.a,{type:"button",fullWidth:!0,btnStyle:"danger",onClick:a},n("NavigationGuardMessage.buttons.exitNoSave"))))}function Pl(){return(Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const xl={initial:"hidden",enter:"visible",exit:"hidden",variants:{visible:{opacity:1},hidden:{opacity:0}},transition:{delay:.2}},Sl=e=>{let{guardChanges:t,children:a,...l}=e;const{dirty:o,status:s}=Object(Gn.f)(),i=t&&o&&"success"!==s,{isBlocking:c,wasBlocking:u,cancel:d,leave:m}=wa({blocked:i,forbid:"function"==typeof t?t:null}),p=Object(pl.a)(),b=c||u&&!p,g=Object(n.useMemo)(()=>(e=>({initial:e?"hidden":"visible",enter:"visible",exit:"hidden",variants:{visible:{opacity:1},hidden:{opacity:0}},transition:{delay:.2}}))(o),[o]);return b?r.a.createElement(kl,Pl({key:"blocker"},l,{motionProps:xl,nopadding:!1,closePath:null,rightButton:null,contentStyles:null}),r.a.createElement(_l,{cancel:d,leave:m})):r.a.createElement(kl,Pl({key:"content",motionProps:t?g:null},l),a)};function Nl(){return(Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Il=e=>{let{children:t,editing:a,guardChanges:n,contentStyles:l,light:o,nopadding:s,title:i,rightButton:c,bottomContent:u,onClose:d,...m}=e;const p={nopadding:s,contentStyles:l,title:i,light:o,bottomContent:u,rightButton:c};return r.a.createElement(Jt,Nl({onClose:d},m),e=>a?r.a.createElement(Sl,Nl({guardChanges:n,closePath:d},p),Object(f.a)(t,e)):r.a.createElement(kl,Nl({closePath:d},p),Object(f.a)(t,e)))};Il.defaultProps={...Jt.defaultProps,guardChanges:!1,rightButton:null,editing:!0};var Tl=a("LqVn"),Ml=a.n(Tl);function Ll(){return(Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Bl=e=>{let{modal:t,fullHeight:a,topPanelChildren:l,rightButton:o,editing:s,preferDynamicBack:i,backPath:u,guardChanges:d,...m}=e;const p=Object(c.g)(),b=Object(n.useCallback)(()=>{i?p.goBack():"function"==typeof u?u():p.push(u)},[i,u]);return Object(pl.a)(),t?r.a.createElement(Il,Ll({fullHeight:a,fullWidth:!0,editing:s,guardChanges:d,rightButton:r.a.createElement("div",{className:Ml.a.rightButton},o),bottomContent:l,onClose:b},m)):r.a.createElement(Ma,Ll({slimTop:!0,topPanelChildren:l,titleRightContent:o,preferDynamicBack:i,backPath:u},m))};Bl.defaultProps={...Ma.defaultProps,modal:!1,light:!0,inverse:!0,nopadding:!0,editing:!1,fullHeight:!0},Bl.Section=e=>{let{nopadding:t,top:a,...n}=e;return r.a.createElement("div",Object(_a.a)([Ml.a.section,t&&Ml.a.noPadding,a&&Ml.a.top],n))};var Fl=a("/Alo"),Rl=a("lTSC"),Al=a.n(Rl);function Ul(){return(Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class zl extends n.Component{constructor(){super(...arguments),this.handleScroll=e=>{let{target:t}=e;this.props.onBottomScroll&&t.scrollHeight-t.scrollTop<t.clientHeight+1&&this.props.onBottomScroll()}}render(){const{className:e,nopadding:t,noHeader:a,onBottomScroll:n,...l}=this.props,o=O()(Al.a.root,e,{[Al.a.noPadding]:t,[Al.a.noHeader]:a});return r.a.createElement("div",Ul({className:o},l,{onScroll:this.handleScroll}))}}zl.defaultProps={nopadding:!1};var Dl=zl,Wl=a("b2Ym"),Vl=a.n(Wl);function ql(){return(ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Hl=e=>{let{children:t,gap:a=32,padded:l,style:o,...s}=e;const i=Object(n.useMemo)(()=>l?o:{bottom:a,margin:`${a}px ${a}px`,...o},[o]);return r.a.createElement("div",ql({style:i},Object(_a.a)([Vl.a.root,l&&Vl.a.padded],s)),t)},Gl=(e,t)=>{const a=$r(e),n=t&&a.items.find(t);return{collections:a,collectionId:(null==n?void 0:n._id)||"",collection:n}},$l=e=>e.products;function Kl(e,t){const a=Object(u.c)(t||$l);return Object(n.useMemo)(()=>{if(e){const t=qr.a.filterWithExclusion(a.items,e);if(t.length!==a.items.length)return{...a,items:t}}return a},[a,Object(Hr.a)(e)])}const Zl=e=>{let{specifier:t,collectionId:a,list:r,setProductsFilter:l,clearProductsStore:o,selector:s}=e;const[i,c]=Object(n.useState)(!0),u=Kl(t,s),d=Object(n.useMemo)(()=>{const e=Object.entries(u.filter).reduce((e,t)=>{let[a,n]=t;return n&&(e[a]=n),e},{});return Object.keys(e).length?JSON.stringify(e):null},[u.filter]),m=Object(n.useCallback)((async function(){let{keep:e,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await r({guid:u.guid+(e?0:1),query:{...t,...a&&{collection:a},...n}})}),[u.guid,a,t]),p=Object(n.useCallback)(async()=>{!u.isFetching&&u.next&&await m({keep:1,...u.next&&{next:u.next},...d&&{filter:d}})},[m,u.next,u.isFetching,d]),b=Object(n.useCallback)(()=>l({collectionId:a,name:""}),[a]),g=Object(n.useCallback)(e=>{let{target:{name:t,value:n}}=e;return l({[t]:n,collectionId:a})},[a]),f=Object(n.useMemo)(()=>Ir()((async function(){await r(...arguments),c(!1)}),400),[]);return Object(n.useEffect)(()=>{c(!0),f({guid:u.guid+1,query:{...t,...a&&{collection:a},...d&&{filter:d}}})},[u.guid,a,d,t]),nl()(()=>{f.cancel(),o()}),{collectionId:a,products:i?{...u,items:[],isFetching:!0,next:null}:u,setFilter:g,clearFilter:b,load:m,loadMore:p}};var Jl=a("ilhn"),Yl=a("J7j6");function Ql(){return(Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Xl(e){let{...t}=e;const{t:a}=Object(m.useTranslation)("products");return r.a.createElement(Yl.a,Ql({builderInput:!0,name:"name",placeholder:a("labels.search"),icon:Jl.h,autoComplete:"off",clearable:!0},t))}var eo=a("kGh7"),to=a("MhLP"),ao=a("pO+y"),no=a("cbkF"),ro=a("u3rw"),lo=a.n(ro);function oo(e){let{tag:t="div",outer:a="div",product:l,to:o,renderMeta:s,onClick:i,noPadding:c}=e;const{t:u}=Object(m.useTranslation)("products"),d=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:lo.a.title},l.name),r.a.createElement("div",{className:lo.a.columns},r.a.createElement("div",null,l.price&&r.a.createElement("div",{className:lo.a.price},l.price.formattedDiscount&&r.a.createElement("span",{className:lo.a.discountPrice},l.price.formattedDiscount),0===l.price.amount?Object(to.a)("free"):r.a.createElement("span",{className:l.price.formattedDiscount?lo.a.lineThrough:null},l.price.formatted)),r.a.createElement("div",{className:O()(lo.a.status,l.published&&lo.a.published)},u("labels.published."+!!l.published))),l.notes&&r.a.createElement("div",{className:lo.a.notes},l.notes))),p=Object(n.useCallback)(e=>{e.preventDefault(),i(l)},[i,l]);return r.a.createElement(a,{className:O()({[lo.a.root]:!0,[lo.a.noPadding]:c,[lo.a.disabled]:!l.published})},r.a.createElement(t,{className:lo.a.productRoot,to:o,title:l.name,onClick:i&&p},r.a.createElement("div",{className:lo.a.thumbnail},l.photoUrl?r.a.createElement(no.a,{src:ao.a.generateProductThumbnailUrl(l.photoUrl),alt:l.name}):r.a.createElement("div",{className:lo.a.emptyPlaceholder},r.a.createElement(eo.g,{size:"40%",color:"#fff"}))),r.a.createElement("div",{className:lo.a.meta},Object(f.a)(s||d,{product:l,meta:d}))))}var so=a("BZFO"),io=a.n(so);function co(e){let{products:t,renderMeta:a,onClick:n,noPadding:l,collectionId:o}=e;const{router:s}=cl();return t.length?r.a.createElement("div",{className:io.a.root},r.a.createElement("ul",{className:io.a.productsList},t.map(e=>r.a.createElement(oo,{key:e._id,outer:"li",tag:Me.b,product:e,to:s.product.toEdit(e._id,o),title:e.name,renderMeta:a,onClick:n,noPadding:l})))):null}var uo=a("s6AY"),mo=a.n(uo);function po(){return(po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function bo(e){let{children:t,disabled:a,...n}=e;const{t:l}=Object(m.useTranslation)("products");return r.a.createElement("div",{className:mo.a.root},r.a.createElement("span",po({className:O()({[mo.a.button]:!0,[mo.a.disabled]:a})},n),t||l("labels.loadMore")))}bo.defaultProps={disabled:!1};var go=a("DXsD"),fo=a.n(go);function ho(){return(ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function vo(e){let{className:t,title:a,description:n,...l}=e;return r.a.createElement("div",ho({className:O()(fo.a.root,t)},l),r.a.createElement("h3",null,a),r.a.createElement("p",null,n))}function yo(e){let{products:t,loadMore:a,isSearch:n}=e;const{t:l}=Object(m.useTranslation)("products");if(t.isFetching)return r.a.createElement(an.a,null);const o=0===t.items.length;return r.a.createElement(r.a.Fragment,null,t.next&&a&&r.a.createElement(bo,{onClick:a}),o&&(n||t.filter.name?r.a.createElement(vo,{title:l("labels.notFound.products.heading"),description:l("labels.notFound.products.description")}):r.a.createElement(vo,{title:l("pageProducts.emptyHeading"),description:l("pageProducts.emptyDescription")})))}var Eo=a("Ie7n"),Oo=a.n(Eo);function jo(){const{t:e}=Object(m.useTranslation)("products"),{router:t,isSpecific:a,specifier:n,modal:l}=cl(),{collections:o,collectionId:s}=Gl(n,e=>e.default),{products:i,setFilter:c,loadMore:u}=((e,t)=>{const{api:a,setProductsFilter:n,clearProductsStore:r}=Object(de.a)();return Zl({specifier:e,collectionId:t,list:a.products.list,setProductsFilter:n,clearProductsStore:r})})(n,s),d=o.items.filter(e=>e.published&&e.publishedProductsCount>0);return r.a.createElement(Bl,{title:e("pageProducts.header"),rightButton:r.a.createElement("div",{className:Oo.a.headerButtons},r.a.createElement(Fl.a,{to:t.settings.toSettings(),as:Me.b},r.a.createElement(R.W,{size:24,color:"#333"}))),topPanelChildren:r.a.createElement(Xl,{onChange:c,value:i.filter.name}),backPath:t.toEntry(),modal:l},r.a.createElement(qt.a,null,!i.filter.name&&r.a.createElement(qt.b.div,{initial:{height:0,opacity:0,overflow:"hidden"},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{stiffness:1}},r.a.createElement(Bl.Section,null,r.a.createElement(Me.b,{to:t.collection.toAll(),className:Oo.a.navItem},r.a.createElement("span",{className:Oo.a.navItemLabel},r.a.createElement(ml,{size:24}),e("ProductsHome.collections")),r.a.createElement("div",{className:Oo.a.navItemMeta},r.a.createElement("span",{className:Oo.a.navItemMetaText},e("labels.active",{count:d.length})),r.a.createElement(R.q,{size:22,className:Oo.a.navItemIcon})))))),r.a.createElement(Dl,{nopadding:!0,style:{flex:1,marginTop:8,background:"#fff"}},r.a.createElement(Bl.Section,{nopadding:!0,style:{padding:0,paddingBottom:i.next&&u?16:0,margin:i.items.length?0:"auto"}},r.a.createElement(co,{products:i.items}),r.a.createElement(yo,{products:i,loadMore:u}))),a&&r.a.createElement(Hl,{padded:!0,style:{marginTop:8}},r.a.createElement(ke.a,{fullWidth:!0,tag:Me.b,to:t.product.toNew()},"+ ",e("pageProducts.tipAddProduct"))))}var ko=a("NLJN"),wo=a.n(ko),Co=a("LDiu"),_o=a.n(Co);const Po=()=>{const e=["USD","EUR","RUB","UAH"],t=wo.a.codes().filter(t=>!e.includes(t)),a=[...e,...t];return{codes:a,options:a.map(e=>{var t;return{value:e,label:(null===(t=wo.a.code(e))||void 0===t?void 0:t.currency)||e,symbol:_o.a[e]||e}})}};let xo;const So={get codes(){return xo||(xo=Po()),xo.codes},get options(){return xo||(xo=Po()),xo.options}};var No=a("tvc/"),Io=a.n(No);function To(e,t,a){const r=Object(n.useMemo)(()=>qr.a.match(e,a),[e]);return Object(n.useMemo)(()=>r(t),[r,t])}var Mo=a("9kWU");const Lo=e=>{const t=new RegExp(Io()(e),"i");return e=>!!String(e.value).match(t)||(!!String(e.label).match(t)||(!!String(e.symbol).match(t)||void 0))},Bo=e=>{let{renderCurrency:t,value:a,onApply:l}=e;const{t:o}=Object(m.useTranslation)("ui"),[s,i]=Object(n.useState)({search:""}),c=To(So.options,s,{search:Lo}),u=Object(n.useCallback)(e=>{let{target:{name:t,value:a}}=e;return i(e=>({...e,[t]:a}))});return r.a.createElement(ua,{fullHeight:!1,padding:!1,title:o("CurrencyPicker.label"),onClose:l},e=>{let{handleClose:n}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Mo.a,{style:{padding:"8px 16px 0 16px"},value:a,options:c,renderOption:t,onChange:n}),r.a.createElement(Hl,{padded:!0},r.a.createElement(Yl.a,{builderInput:!0,name:"search",placeholder:o("labels.search"),icon:Jl.h,autoComplete:"off",clearable:!0,value:s.search,onChange:u})))})};var Fo=a("8g3Z"),Ro=a.n(Fo);const Ao=e=>{let{name:t,value:a,onChange:l}=e;const{t:o}=Object(m.useTranslation)("ui"),{isOpen:s,show:i,hide:c}=De(),u=Object(n.useCallback)(e=>{let{option:{value:t,symbol:a,label:n},active:l,lax:o}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:O()(Ro.a.currencyBadgeWrapper,o&&Ro.a.lax)},r.a.createElement(Fn,{badgeStyle:"flat"},a||t),r.a.createElement("div",{className:Ro.a.currencyCode},t)),r.a.createElement("div",{className:Ro.a.currencySeparator},""),r.a.createElement("div",{className:Mo.a.styles.label,title:n},n),r.a.createElement("div",{className:O()(Mo.a.styles.checkMark,l&&Mo.a.styles.active)},r.a.createElement(R.n,{size:24})))}),d=Object(n.useCallback)(e=>{c(),e&&l&&l({target:{name:t,value:e}})},[t,l,c]);return r.a.createElement("div",{className:Ro.a.root,onClick:i},u({option:So.options.find(e=>a===e.value),lax:!0}),r.a.createElement("span",{className:Ro.a.changeLabel},o("labels.change")),s&&r.a.createElement(Bo,{value:a,renderCurrency:u,onApply:d}))};function Uo(){return(Uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function zo(e){return r.a.createElement(ur,Uo({as:Ao},e))}const Do=r.a.createContext(null);function Wo(){return(Wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Vo=e=>{for(const t of e){const e=!t||Array.isArray(t)?t:t();if(null!=e&&e.length)return e}return[]};function qo(e){var t;let{children:a,successRedirectPath:l,initialData:o={},initialDirty:s=!1,showSubmit:i=!0,doRedirect:u=!0,restrictRule:d=null,...p}=e;const b=Object(c.g)(),g=ye(),h=Object(n.useContext)(Do),{api:v}=Object(de.a)(),{t:y}=Object(m.useTranslation)(),{router:E,specifier:O,crm:j,setEntry:k}=cl(),w=Object(n.useMemo)(()=>({defaultCurrency:j.defaultCurrency||"USD",notifications:j.notifications||{email:!0,telegram:!0,webhook:!0},onBoarding:j.onBoarding,onBoardingStep:j.onBoardingStep,contacts:{messengers:Vo([j.contacts.messengers,null==h?void 0:h.map(e=>{let{type:t,platform:a,value:n}=e;return{type:t,platform:a,value:n}}),()=>{var e;return((null===(e=g.card)||void 0===e?void 0:e.messengers)||[]).map(e=>({type:e.type,platform:e.messenger,value:e.name}))}])},payments:j.payments||{},form:j.form||{collectAddress:!1,successMessage:"",optional:{postalCode:!0,lastName:!0}},...o}),[j,h,null===(t=g.card)||void 0===t?void 0:t.messengers]),{handleBlockedEvent:C}=Qn(d,j||w);Object(pl.a)();const _=Object(n.useCallback)(async e=>{const t=E.isBackOverriddenBack&&E.toEntry();null!=O&&O.website?await v.websites.crm.settings.update({websiteId:O.website,payload:e}):await v.crm.settings.update({payload:e}),t&&k(t),u&&b.push(l||E.toHome())},[g,O]);return r.a.createElement(Kn,Wo({initialValues:w,onSubmit:_},p),e=>r.a.createElement(jl,null,r.a.createElement(Gn.a,{autoComplete:"off",style:{display:"flex",flexDirection:"column",flex:1}},r.a.Children.map(a,t=>t&&Object(f.a)(t,e)),i&&r.a.createElement(fr,Wo({fullWidth:!0,size:"standart",isInitialHidden:!1,disabled:!(s||e.dirty),style:{marginTop:16},isFetching:e.isSubmitting},C?{onClick:C}:{}),y("ui:labels.apply")))))}function Ho(){const{t:e}=Object(m.useTranslation)("products"),{router:t}=cl();return r.a.createElement(Bl,{preferDynamicBack:!0,modal:!0,inverse:!1,nopadding:!1,fullHeight:!1,backPath:t.settings.toSettings(),title:e("ProductsCurrency.title")},r.a.createElement(qo,{successRedirectPath:t.settings.toSettings()},r.a.createElement(zo,{builderInput:!0,name:"defaultCurrency"})))}var Go=a("eIfy"),$o=a.n(Go),Ko=a("NcRm");const Zo=["whatsapp","telegram","instagram","viber","messenger","vk","skype"];var Jo=a("cr77");function Yo(){return(Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Qo=n.createElement("circle",{cx:1,cy:1,r:1,fill:"currentColor"}),Xo=n.createElement("circle",{cx:5,cy:1,r:1,fill:"currentColor"}),es=n.createElement("circle",{cx:1,cy:6,r:1,fill:"currentColor"}),ts=n.createElement("circle",{cx:5,cy:6,r:1,fill:"currentColor"}),as=n.createElement("circle",{cx:1,cy:11,r:1,fill:"currentColor"}),ns=n.createElement("circle",{cx:5,cy:11,r:1,fill:"currentColor"});var rs=function(e){return n.createElement("svg",Yo({viewBox:"0 0 6 12",fill:"none"},e),Qo,Xo,es,ts,as,ns)};function ls(){return(ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var os=n.createElement("circle",{cx:2,cy:2,r:2}),ss=n.createElement("circle",{cx:8,cy:2,r:2}),is=n.createElement("circle",{cx:2,cy:8,r:2}),cs=n.createElement("circle",{cx:8,cy:8,r:2});var us=function(e){return n.createElement("svg",ls({viewBox:"0 0 10 10",fill:"currentColor"},e),os,ss,is,cs)},ds=a("nrLq"),ms=a.n(ds);function ps(){return(ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const bs=e=>{let{small:t,active:a=!0,hidden:n,iconSize:l=6,...o}=e;const s="medium"===t?us:rs;return r.a.createElement("div",ps({"data-element":"drag-handle"},Object(_a.a)(O()({[ms.a.root]:!0,[ms.a.small]:t&&"string"!=typeof t,[ms.a.active]:a,[ms.a.hidden]:n},ms.a[t]),o)),r.a.createElement(s,{style:{width:l}}))};bs.shouldCancelStart=e=>{let{target:t}=e,a=t;for(;a;){if(a.dataset&&"drag-handle"===a.dataset.element)return!1;a=a.parentNode}return!0},bs.helperClass=ms.a.sortable;var gs=bs,fs=a("SrJr");function hs(){return(hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var vs=n.createElement("defs",null,n.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"skype-rounded_svg__a"},n.createElement("stop",{stopColor:"#00B8F1",offset:"0%"}),n.createElement("stop",{stopColor:"#007DD6",offset:"100%"}))),ys=n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("circle",{fill:"url(#skype-rounded_svg__a)",fillRule:"nonzero",cx:20,cy:20,r:20}),n.createElement("path",{d:"M29.998 24.546A5.493 5.493 0 0124.468 30a5.572 5.572 0 01-2.617-.648 9.716 9.716 0 01-1.744.157 9.47 9.47 0 01-9.539-9.406c0-.635.065-1.269.194-1.89A5.38 5.38 0 0110 15.451 5.493 5.493 0 0115.53 10a5.563 5.563 0 012.944.834 9.684 9.684 0 011.632-.138c5.231-.037 9.502 4.175 9.539 9.407 0 .68-.074 1.357-.223 2.02.38.75.578 1.58.576 2.423zm-5.34-3.72a3.131 3.131 0 00-.962-1.142 5.867 5.867 0 00-1.461-.75c-.62-.218-1.25-.403-1.889-.555-.545-.14-.944-.25-1.181-.323a3.47 3.47 0 01-.688-.299 1.56 1.56 0 01-.51-.432.911.911 0 01-.166-.559c.01-.376.21-.72.53-.917a2.444 2.444 0 011.479-.41 2.191 2.191 0 011.426.37c.328.294.59.656.766 1.061.132.278.304.535.51.762.202.18.468.272.738.254.338.004.66-.146.874-.407.227-.255.352-.584.352-.925a2.516 2.516 0 00-.268-1.092 3.342 3.342 0 00-.833-1.047 4.28 4.28 0 00-1.41-.788 6.093 6.093 0 00-1.994-.293 6.506 6.506 0 00-2.505.442 3.642 3.642 0 00-1.657 1.29 3.357 3.357 0 00-.583 1.94 3.23 3.23 0 00.551 1.916c.378.522.883.937 1.468 1.205.718.327 1.469.578 2.239.75.652.154 1.178.301 1.566.437.345.113.657.306.912.564.227.246.345.573.33.907 0 .478-.237.926-.633 1.194a2.75 2.75 0 01-1.72.5 2.677 2.677 0 01-1.24-.25 1.961 1.961 0 01-.717-.621 4.99 4.99 0 01-.49-.975 2.167 2.167 0 00-.5-.819 1.055 1.055 0 00-.75-.293 1.185 1.185 0 00-.891.371c-.233.243-.36.568-.354.904.016.616.205 1.216.545 1.73.351.571.833 1.051 1.406 1.4.937.509 1.993.757 3.059.718.916.02 1.826-.16 2.666-.525a3.85 3.85 0 002.332-3.609c.018-.58-.101-1.158-.347-1.685v.001z",fill:"#FFF"}));var Es=function(e){return n.createElement("svg",hs({width:40,height:40},e),vs,ys)};function Os(){return(Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var js=n.createElement("defs",null,n.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"99.082%",id:"telegram-rounded_svg__a"},n.createElement("stop",{stopColor:"#20B7FA",offset:"0%"}),n.createElement("stop",{stopColor:"#0985C9",offset:"100%"}))),ks=n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("circle",{fill:"url(#telegram-rounded_svg__a)",cx:20,cy:20,r:20}),n.createElement("image",{width:20,height:16,xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHUAAABgCAYAAAAjHz2UAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAWHSURBVHgB7Z3rYtsgDIXbJHv/922bdJys6qgKNsJcJCz/mC8BI+njyMSw9PXFN1MR+AxbzuDXsOGz5z+5Qn59fgTePh6ff67lmAC2vPR8/05lwZYitwLxdv90pW4FaPRnj0Cyhcpa3GO070u19wgkW+dLhzqhi9Sm1lJTHWpppBqU6w2TTHSoFIlO+0fIr6PHow61E8xRqkyZ71BTUam8dg+qvLQe9VTY4lArgsarzFQltyUMpv17Kg9K6fn7/fF5u+jTBF4o3Uqd8HL/IoAUi4GPPpz/CTnU/7HYPIIyr4CpmeaXBw51E+XLyxNmSLMGWH574lC/Q/HzIAgzjGR/XrNy5lAZqVYv1dlth5461BBuLd8vW5E/NVRN3y9bAH18rYkw+tSoD4F0JUF9S+Nr4jsqWj2NUi0PfKTdY3moq6XYEsCXkkLWyiDF0mbN9hb2LqVUDSmWnmsxnNHZYomB0uigxcDoOAWTPsN+hI1kg9n0qyXFYmk1BTOGOPo4XuJtLv1qSLEErBQm3h9TnV77SzQ7bwbqiPRVGnBMRF9DFEvLj553VQ1V40R0qToJ+IzOqBJqjwXOFOTavVSdaGcGULSrBqrml+pSdc4EqgLqrN4M5/c2jG9u1/JnJ91vtk/TlDrbcQKQ29eoE/ea4RcfWxeP4HLOS67PWK0usQ9la9WJujOAol3eAYcodZazcFiy8eBI6mrysesbJTiKTRKcGWWhzlWAIn7Nlap5FJvqMEdg4n4aO20zqBqdS0Gka0eenXQPrT4fhqrVMQo83+NhEL8n5Z+Xnmv2u+qZ+hG6OW2lQdBQLsydLwcUGYdvoq80mnsndyw+b6VO3FNbDFJjgqL0q82RGNjecc0729w9rcQhm36tptgYCNKtZIosrsuPrQCF3b+UCpiYKhTlZR4BBeeptFRrliWg8PGHUjHlhffXloFi4NASKIaEtZ1hVr2nUt9DnroJfv9ulrF77baEibYA1GIHv6wAtLU6rQDNdeJXa88LrtacY7yc5NyKQnO+/3imShyfXbaHOmnZqcWUG/N42m9NrbkeGjsmPda4yG3Ph1wcnkrFhxbGeCEtNh3ZUtAwszR6GSe13WP/K9O8fdzDL0Hry8q5Xnk0KFaenyk/czH5BZVXnp2aQ/vhJbx88Rf3I3U+27eUTaXXckBRfxdq3Mjo9bhbhsd21RxbBgp/t2IjyrOYh6QNo89eW3hVuWn00XatA93zX6TUrZu1CFS4R7dUS7a3sJPuNXO/pdRmULmDkuBhNiUMzrrZQrZJbKI6WvdToKaCgRkgXK9Z9Z66n+TaSkDh9xbUX1NvkkBJy86ACRtXA/oe/vbM1tY95W01PuKz1YAiZlsqxeei0S8qWNpWBFoS/2WhnhUooC8J9cxAl4RKI+ySNLVqmeWUOuDr7tS+EOZbdttfbvS7eurdG/mC+HJK3e3GJyiwHFRMpJ99Ww4qVuSfHetyUKFSzBCeWbBLQn2CDWR7zvnOSPGYzSrZlhv9cqe1rrnidpacl4x8cZ/loVKwRi/FoXZb7kuhLpt+eTCxFOcsz9nTQAVkgOWwVzw/hZMpcBbfPHn6TZGMrpUGKKoy9TD8t5Di9k+r1DhCFgZRkk54qmdqDDI+xrNWooS4rsZjVyqjovVn+CRKdagMKp1qG0hJoHr6JYpsjyBanfFxpTKYqdPZqpWoFPa7UlMU2TVrqnWlMoB7pzNU60rdo3LwcwuqdaUegDxKta7UA5CkVUeoVgoUPrhSpSQz5Xuptgaqj34zkKSXEfwAVlqtS3mH2jCs+BWZGmXlTChdk8Tre/rlEWl03uKvZdV2EFdqI4j8NkdVe+QVpSuV0+hwXqPaWpXCfIfaAWLulqUj5CNAHWou+p2vbyn3KFCY/hci7VfH8M0kWwAAAABJRU5ErkJggg==",transform:"translate(10 12)"}));var ws=function(e){return n.createElement("svg",Os({width:40,height:40},e),js,ks)};function Cs(){return(Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var _s=n.createElement("defs",null,n.createElement("linearGradient",{x1:"50%",y1:"3.348%",x2:"50%",y2:"99.556%",id:"viber-rounded_svg__a"},n.createElement("stop",{stopColor:"#865FFC",offset:"0%"}),n.createElement("stop",{stopColor:"#4F3AA1",offset:"100%"}))),Ps=n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("circle",{fill:"url(#viber-rounded_svg__a)",cx:20,cy:20,r:20}),n.createElement("path",{d:"M28.148 11.173c-.544-.5-2.745-2.098-7.647-2.12 0 0-5.781-.35-8.6 2.237-1.568 1.568-2.12 3.863-2.178 6.71-.058 2.847-.134 8.18 5.008 9.628h.005l-.003 2.208s-.032.894.555 1.076c.712.22 1.13-.459 1.81-1.19.373-.402.887-.993 1.276-1.444 3.516.295 6.22-.38 6.528-.48.71-.232 4.728-.745 5.382-6.08.673-5.498-.327-8.976-2.136-10.545m.596 10.149c-.553 4.453-3.81 4.735-4.41 4.927-.256.082-2.633.673-5.62.478 0 0-2.225 2.685-2.92 3.384-.109.11-.236.153-.321.132-.12-.029-.153-.17-.151-.378a28850.934 28850.934 0 00.018-3.667c-4.35-1.209-4.096-5.75-4.046-8.126.049-2.378.495-4.326 1.823-5.636C15.5 10.278 20.41 10.6 20.41 10.6c4.147.018 6.134 1.267 6.595 1.685 1.53 1.31 2.309 4.445 1.739 9.037",fill:"#FFF",fillRule:"nonzero"}),n.createElement("path",{d:"M22.519 18.153a.277.277 0 01-.277-.263c-.047-.941-.49-1.402-1.395-1.45a.277.277 0 01.03-.554c1.194.064 1.857.748 1.919 1.976a.277.277 0 01-.264.29l-.013.001",fill:"#FFF"}),n.createElement("path",{d:"M23.941 18.63h-.006a.277.277 0 01-.27-.283c.02-.948-.25-1.715-.829-2.346-.575-.63-1.365-.972-2.415-1.05a.277.277 0 01.04-.552c1.182.086 2.119.5 2.785 1.228.67.73.997 1.65.972 2.732a.277.277 0 01-.277.271",fill:"#FFF"}),n.createElement("path",{d:"M25.398 19.2a.277.277 0 01-.277-.275c-.013-1.695-.502-2.99-1.493-3.957-.979-.954-2.216-1.443-3.677-1.454a.277.277 0 01.002-.554h.002c1.609.011 2.975.553 4.06 1.611 1.088 1.062 1.646 2.525 1.66 4.35a.277.277 0 01-.275.279h-.002zM20.917 21.59s.39.034.6-.227l.408-.514c.197-.255.674-.418 1.14-.158.26.146.726.434 1.018.65.31.227.943.754.945.756.302.255.372.63.166 1.024l-.002.008a4.264 4.264 0 01-.85 1.049c-.005.002-.005.004-.008.006-.294.244-.582.383-.865.417a1.143 1.143 0 01-.494-.049l-.01-.013c-.436-.123-1.163-.43-2.376-1.1a14.085 14.085 0 01-1.997-1.319c-.292-.23-.593-.493-.898-.796l-.03-.03-.031-.03-.03-.031-.03-.03a10.448 10.448 0 01-.797-.899 14.122 14.122 0 01-1.319-1.996c-.67-1.213-.977-1.94-1.1-2.377l-.013-.01a1.143 1.143 0 01-.05-.493c.035-.283.174-.572.419-.865l.006-.008c.326-.357.675-.64 1.048-.85l.008-.003c.395-.205.77-.136 1.024.167.002.001.53.635.757.945.215.292.503.757.65 1.017.26.466.097.943-.159 1.14l-.514.409c-.26.21-.226.6-.226.6s.761 2.882 3.61 3.61",fill:"#FFF"}));var xs=function(e){return n.createElement("svg",Cs({width:40,height:40},e),_s,Ps)};function Ss(){return(Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Ns=n.createElement("defs",null,n.createElement("linearGradient",{x1:"50%",y1:"1.006%",x2:"50%",y2:"100%",id:"vk-rounded_svg__a"},n.createElement("stop",{stopColor:"#639FE5",offset:"0%"}),n.createElement("stop",{stopColor:"#3A76BB",offset:"100%"}))),Is=n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("circle",{fill:"url(#vk-rounded_svg__a)",cx:20,cy:20,r:20}),n.createElement("path",{d:"M26.359 19.884s2.7-3.81 2.969-5.061c.089-.447-.108-.698-.573-.698h-2.343c-.536 0-.733.233-.894.572 0 0-1.266 2.7-2.808 4.4-.494.55-.746.715-1.019.715-.22 0-.322-.183-.322-.68v-4.345c0-.608-.071-.787-.572-.787H17.04c-.286 0-.465.166-.465.393 0 .573.877.702.877 2.254v3.201c0 .644-.036.894-.34.894-.805 0-2.718-2.772-3.791-5.92-.215-.643-.448-.822-1.056-.822H9.924c-.34 0-.59.232-.59.572 0 .626.733 3.523 3.612 7.404 1.931 2.611 4.47 4.024 6.76 4.024 1.395 0 1.735-.232 1.735-.823v-2.003c0-.5.196-.715.483-.715.321 0 .89.103 2.217 1.413C25.715 25.374 25.822 26 26.681 26h2.629c.268 0 .518-.125.518-.572 0-.59-.769-1.646-1.95-2.897-.482-.644-1.269-1.342-1.52-1.664-.357-.375-.25-.59 0-.983",fill:"#FFFFFE"}));var Ts=function(e){return n.createElement("svg",Ss({width:40,height:40},e),Ns,Is)};function Ms(){return(Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Ls=n.createElement("defs",null,n.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"whatsapp-rounded_svg__a"},n.createElement("stop",{stopColor:"#5DFB79",offset:"0%"}),n.createElement("stop",{stopColor:"#09B927",offset:"100%"}))),Bs=n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("circle",{fill:"url(#whatsapp-rounded_svg__a)",fillRule:"nonzero",cx:20,cy:20,r:20}),n.createElement("path",{d:"M10.736 29l1.361-4.948a9.577 9.577 0 0115.088-11.518 9.46 9.46 0 012.806 6.752 9.581 9.581 0 01-9.586 9.544h-.004c-1.6 0-3.175-.4-4.581-1.163L10.736 29z",stroke:"#FFF",strokeWidth:2}),n.createElement("path",{d:"M24.797 21.545a1.106 1.106 0 00-.42-.272c-.22-.117-1.297-.686-1.497-.763a.33.33 0 00-.493.12c-.148.233-.566.759-.694.915a.323.323 0 01-.475.06 5.952 5.952 0 01-1.762-1.164 6.976 6.976 0 01-1.218-1.624.355.355 0 01.096-.478c.098-.103.222-.272.329-.41.09-.12.164-.251.218-.391a.461.461 0 00-.018-.41c-.055-.117-.493-1.27-.676-1.74-.177-.456-.358-.395-.493-.4a9.538 9.538 0 00-.42-.01.777.777 0 00-.584.297 2.698 2.698 0 00-.764 1.952 4.72 4.72 0 00.889 2.423 10.062 10.062 0 003.742 3.537c.407.189.824.354 1.249.494.445.146.92.179 1.381.095a2.262 2.262 0 001.482-1.112c.144-.354.189-.741.128-1.119z",fill:"#FFF"}));var Fs=function(e){return n.createElement("svg",Ms({width:40,height:40},e),Ls,Bs)};function Rs(){return(Rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var As=n.createElement("defs",null,n.createElement("linearGradient",{x1:"50%",y1:"4.074%",x2:"50%",y2:"99.556%",id:"messenger-rounded_svg__a"},n.createElement("stop",{stopColor:"#00ADFF",offset:"0%"}),n.createElement("stop",{stopColor:"#0071FE",offset:"100%"}))),Us=n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("circle",{fill:"url(#messenger-rounded_svg__a)",cx:20,cy:20,r:20}),n.createElement("path",{d:"M19.93 8.667c-6.22 0-11.263 4.698-11.263 10.493 0 3.303 1.638 6.249 4.197 8.172v4.001l3.835-2.118c1.024.285 2.108.44 3.231.44 6.22 0 11.263-4.699 11.263-10.495 0-5.795-5.042-10.493-11.263-10.493zm1.12 14.131L18.18 19.72l-5.597 3.078 6.157-6.576 2.938 3.078 5.527-3.078-6.157 6.576z",fill:"#FFF",fillRule:"nonzero"}));var zs=function(e){return n.createElement("svg",Rs({width:40,height:40},e),As,Us)};function Ds(){return(Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Ws={messenger:{type:"messenger",flatIcon:bl.j,icon:zs,name:"Facebook Messenger",background:"#0078FF"},telegram:{type:"telegram",flatIcon:bl.N,icon:ws,name:"Telegram",background:"#0088cc"},vk:{type:"vk",flatIcon:bl.U,icon:Ts,name:"VK",background:"#4c75a3"},viber:{type:"viber",flatIcon:bl.S,icon:xs,name:"Viber",background:"#665CAC"},skype:{type:"skype",flatIcon:bl.H,icon:Es,name:"Skype",background:"#00AFF0"},whatsapp:{type:"whatsapp",flatIcon:bl.V,icon:Fs,name:"WhatsApp",background:"#00E35D"},instagram:{type:"instagram",flatIcon:bl.s,icon:Fs,name:"Instagram Direct",background:"#E1306C"}},Vs=e=>{let{type:t,messenger:a,...n}=e;const l=Ws[a];if(!l)return null;const{icon:o,flatIcon:s,name:i,background:c}=l,u="full"===t?o:s;return r.a.createElement(u,Ds({title:i},n))};Vs.defaultProps={type:"full"},Vs.map=Ws;var qs=a("kYWB"),Hs=a.n(qs);function Gs(){return(Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const $s=e=>{let{name:t,platform:a,sortable:l,onEdit:o,onDelete:s,mode:i,...c}=e;const{t:u}=Object(m.useTranslation)("ui"),{getFieldMeta:d}=Object(Gn.f)(),{value:p}=d(t),b="small"===i,g=!p,f=u("messengers."+a),h=p?((e,t)=>"telegram"===e&&"secret"===t)(p.platform,p.type)?u("messengers.labels.chatInvite",{token:p.value}):Object(fs.a)(p.value):"",v=Object(n.useCallback)(()=>o(a),[a,o]),y=Object(n.useCallback)(()=>s(a),[a,s]);return r.a.createElement(ur,Gs({name:t,style:b?{marginBottom:6}:void 0},c),r.a.createElement("div",{className:O()(Hs.a.messengerRow,Hs.a[i])},r.a.createElement("div",{className:Hs.a.messengerLeft},!!l&&r.a.createElement(gs,{active:!!l,iconSize:b?8:9,small:"auto",style:{color:"#7C7C7D"}}),g&&r.a.createElement("div",{className:Hs.a.iconWrapper,onClick:v},r.a.createElement(Vs,{type:"flat",messenger:a,className:Hs.a.icon}))),r.a.createElement("div",{className:O()(Hs.a.value,!g&&Hs.a.active)},f),b&&r.a.createElement("div",{className:Hs.a.previewValue},h),r.a.createElement("div",{className:Hs.a.buttons},g&&r.a.createElement("div",{onClick:v,className:O()(Hs.a.button)},r.a.createElement(R.U,{size:20})),!g&&r.a.createElement("div",{onClick:y,className:O()(Hs.a.button,Hs.a.remove)},r.a.createElement(R.gb,{size:20}))),r.a.createElement("div",{className:Hs.a.layer,onClick:v})))};$s.defaultProps={sortable:!1,productsOnboard:!1,mode:"normal"};var Ks=a("uZih"),Zs=a.n(Ks);var Js=a("VyCz"),Ys=a.n(Js);function Qs(){return(Qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Xs=e=>{let{className:t,multiple:a,placeholder:n,options:l,hasError:o,size:s,value:i,builderInput:c,disabled:u,...d}=e;return r.a.createElement("select",Qs({className:O()(t,Ys.a.root,{[Ys.a.error]:o,[Ys.a[s]]:!!Ys.a[s],[Ys.a.placeholder]:n&&!i,[Ys.a.disabled]:u,[Ys.a.builderInput]:c}),multiple:a,value:i,disabled:u,"data-value":i},d),n&&r.a.createElement("option",{value:""},n),l.map(e=>r.a.createElement("option",{key:e.value,value:e.value,disabled:e.disabled},e.label)))};Xs.defaultProps={builderInput:!1,hasError:!1,multiple:!1};var ei=Xs;function ti(){return(ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ai(e){let{platform:t,...a}=e;const{t:n}=Object(m.useTranslation)("ui");let l=[];return"whatsapp"===t&&l.push({label:n("selectMessengerType.phone"),value:"private"},{label:n("selectMessengerType.chat"),value:"public"},{label:n("selectMessengerType.auto"),value:"auto"}),"telegram"===t&&l.push({label:n("selectMessengerType.channel"),value:"private"},{label:n("selectMessengerType.secret"),value:"secret"},{label:n("selectMessengerType.auto"),value:"auto"}),"viber"===t&&l.push({label:n("selectMessengerType.phone"),value:"private"},{label:n("selectMessengerType.public"),value:"public"},{label:n("selectMessengerType.community"),value:"community"}),r.a.createElement(ei,ti({},a,{options:l}))}function ni(){return(ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ri(e){let{typeName:t="type",platformName:a="messenger",platform:n,type:l,onChange:o,...s}=e;return r.a.createElement(ur,s,e=>{let{field:s,form:{getFieldProps:i,setFieldValue:c,setFieldTouched:u,getFieldMeta:d}}=e;const m=l||d(t).value,p=n||d(a).value,b=e=>t=>{const a=e?e(t.target.value):t.target.value;o?o({...t,target:{name:t.target.name,value:a}}):(c(t.target.name,a,!1),u(t.target.name,!0,!1))},g=b(e=>(u(s.name,!0,!0),e)),f=b(e=>((e,t)=>("viber"===e||"whatsapp"===e)&&"private"===t)(p,m)?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=e&&e.length||0;if(0===n)return"";const r=(a||e.indexOf("+")>=0?"+":"")+e.replace(/\D/g,"");return r.slice(0,t)}(e):e),h="auto"!==m,v="private"===m&&["whatsapp","viber"].includes(p);let y;switch(p){case"messenger":y=h?"m.me/":null;break;case"vk":y=h?"vk.me/":null;break;case"telegram":case"whatsapp":case"viber":y=("telegram"!==p||h)&&r.a.createElement(ai,ni({},i(t),{builderInput:!0,platform:p,onChange:g}))}return r.a.createElement(Yl.a,ni({},s,{builderInput:!0,beforeInput:y,autoCapitalize:"off",autoComplete:v?"tel":"off",type:v?"tel":"text",onChange:f}))})}var li=a("zQUO"),oi=a("ajX2"),si=a.n(oi);function ii(){return(ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ci(e){let{className:t,title:a,children:l,bottomComponent:o,noTitle:s,tipId:i,tipParams:c,styled:u,...d}=e;const{t:p}=Object(m.useTranslation)("ui"),b=a||p("warning"===u?"FieldTip.warningLabel":"FieldTip.defaultLabel"),g=l||i&&p(i,c),[f,h]=Ne()("tip."+i,!0),v=Object(n.useCallback)(()=>h(!1));return f?r.a.createElement("div",ii({className:O()(si.a.root,si.a[u],t)},d),!s&&r.a.createElement("div",{className:si.a.title},r.a.createElement("span",null,b),i&&r.a.createElement(Fl.a,{className:si.a.close,onClick:v},r.a.createElement(li.a,null))),"string"==typeof g?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:g}}):r.a.createElement("div",null,g),o):null}ci.defaultProps={className:"",bottomComponent:null,title:null,noTitle:!1,styled:"default"};var ui=ci;function di(){return(di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const mi=e=>{let{name:t,platform:a,onApply:n,validationSchema:l,...o}=e;const{t:s}=Object(m.useTranslation)("ui"),{getFieldMeta:i}=Object(Gn.f)(),c=["telegram","messenger","vk","instagram"].includes(a)?"auto":"private",{value:u={platform:a,type:c,value:"",enabled:!0}}=i(t);return r.a.createElement(ua,di({title:s("messengers."+a),onClose:n,render:e=>{let{handleClose:t}=e;return r.a.createElement(Kn,{initialValues:u,validationSchema:l,validateOnMount:!1,onSubmit:t},e=>{let{values:t,dirty:n,submitForm:l}=e;return r.a.createElement("div",null,r.a.createElement(ui,{title:s("messengers.help.tip"),style:{whiteSpace:"pre-wrap",fontSize:14,marginBottom:16}},s(`messengers.help.${a}.${t.type}`,s(`messengers.help.${a}.auto`))),r.a.createElement(ri,{required:!0,name:"value",typeName:"type",platformName:"platform",placeholder:s(`messengers.placeholder.${a}.${t.type}`)}),r.a.createElement(ke.a,{fullWidth:!0,size:"standart",style:{marginTop:16},disabled:!n,onClick:l},s("labels.apply")))})}},o))};function pi(){return(pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const bi=["skype","instagram"],gi=Zo.filter(e=>!bi.includes(e)),fi=Object(Ko.b)($s),hi=Object(Ko.a)(e=>{let{items:t,existing:a,name:n,onEdit:l,onDelete:o,mode:s,...i}=e;return r.a.createElement(ur,pi({name:n,className:Hs.a.list},i),t.map((e,t)=>{const i=t>=a;return r.a.createElement(fi,{key:e,index:t,collection:i?1:0,sortable:a>1&&!i,platform:e,name:i?`${n}.${e}`:`${n}.${t}`,onEdit:l,onDelete:o,mode:s})}))});hi.defaultProps={...hi.defaultProps,shouldCancelStart:gs.shouldCancelStart,helperClass:O()(gs.helperClass,Hs.a.sortable),lockAxis:"y",lockToContainerEdges:!0,lockOffset:"0%"};const vi=e=>{let{name:t,validationSchema:a,mode:l,...o}=e;const{getFieldMeta:s,setFieldValue:i,setFieldTouched:c}=Object(Gn.f)(),{value:u}=s(t),[d,m]=Object(n.useState)(),p=u.findIndex(e=>{let{platform:t}=e;return t===d}),b=d?p>=0?p:u.length:-1,{combined:g,existing:f}=Object(n.useMemo)(()=>{const e=u.map(e=>{let{platform:t}=e;return t}),t=gi.filter(t=>e.indexOf(t)<0);return{combined:e.concat(t),existing:e}},[u.map(e=>{let{platform:t}=e;return t}).join(",")]),h=Object(n.useCallback)(e=>{i(t,u.filter(t=>t.platform!==e)),c(t,!0,!0)},[t,u]),v=Object(n.useCallback)(e=>{if(e)if(e.value){const a=Object(Jo.a)({value:e.value,platform:e.platform,type:e.type});i(`${t}.${b}`,{...e,value:a},!0),c(`${t}.${b}`,!0,!0)}else h(d);m(null)},[d,b]),y=Object(n.useCallback)(e=>{let{oldIndex:a,newIndex:n}=e;a!==n&&i(t,$o()(u,a,n))},[u]);return r.a.createElement(ur,pi({className:Hs.a.root,name:t},o),r.a.createElement(hi,{items:g,name:t,existing:f.length,onSortEnd:y,onEdit:m,onDelete:h,mode:l}),d&&b>=0&&r.a.createElement(mi,{fullWidth:!0,name:`${t}.${b}`,platform:d,onApply:v,validationSchema:a}))};function yi(){const{t:e}=Object(m.useTranslation)("products"),{router:t}=cl();return r.a.createElement(Bl,{preferDynamicBack:!0,modal:!0,inverse:!1,nopadding:!1,fullHeight:!1,backPath:t.settings.toSettings(),title:e("ProductsContacts.title")},r.a.createElement(qo,{successRedirectPath:t.settings.toSettings()},r.a.createElement(vi,{builderInput:!0,mode:"small",name:"contacts.messengers"})))}function Ei(e){const{notificationSettings:t}=ve();return Object(n.useMemo)(()=>{const a={email:!1,telegram:!1,webhook:!1,enabled:!1};for(const r of["email","telegram","webhook"]){var n;a[r]=!(null==t||null===(n=t[r])||void 0===n||!n.enabled||e&&!e.notifications[r])}return a.enabled=a.email||a.telegram,a},[t,e])}function Oi(){return(Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var ji=n.createElement("rect",{x:.75,y:.75,width:16.5,height:16.5,rx:6,ry:6,fill:"none",stroke:"#c7c7cc",strokeWidth:1.5});var ki=function(e){return n.createElement("svg",Oi({width:18,height:18},e),ji)};function wi(){return(wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Ci=n.createElement("path",{d:"M5.35 8.89a.48.48 0 00-.71 0 .57.57 0 000 .76l2.5 2.69a.48.48 0 00.71 0l5.5-5.92a.57.57 0 000-.76.48.48 0 00-.71 0L7.5 11.2z",fill:"#fff"}),_i=n.createElement("rect",{width:18,height:18,rx:6,ry:6,fill:"#007aff"}),Pi=n.createElement("path",{d:"M5.35 8.89a.48.48 0 00-.71 0 .57.57 0 000 .76l2.5 2.69a.48.48 0 00.71 0l5.5-5.92a.57.57 0 000-.76.48.48 0 00-.71 0L7.5 11.2z",fill:"#fff",stroke:"#fff"});var xi=function(e){return n.createElement("svg",wi({width:18,height:18},e),Ci,_i,Pi)},Si=a("5GoW"),Ni=a.n(Si);function Ii(){return(Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Ti=e=>{let{className:t,hasError:a,placeholder:n,styled:l,disabled:o,builderInput:s,...i}=e;return r.a.createElement("label",{className:O()(t,Ni.a.root,Ni.a[l],o&&Ni.a.disabled,s&&Ni.a.builderInput)},r.a.createElement("div",{className:Ni.a.wrap},r.a.createElement("input",Ii({className:Ni.a.input,type:"checkbox",disabled:o},i)),"toggle"!==l&&r.a.createElement(ki,{className:Ni.a.unchecked}),"toggle"!==l&&r.a.createElement(xi,{className:Ni.a.checked}),"toggle"===l&&r.a.createElement("div",{className:Ni.a.toggler})),n&&r.a.createElement("div",{className:Ni.a.label},n))};Ti.defaultProps={checked:!1,hasError:!1,disabled:!1,styled:"default",builderInput:!1};var Mi=Ti,Li=a("YlX0"),Bi=a.n(Li);function Fi(){return(Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ri(e){let{label:t,onChange:a,...n}=e;return r.a.createElement(ur,n,e=>{let{field:{value:l,name:o,...s},form:{setFieldValue:i},makeLabel:c}=e;return r.a.createElement(Mi,Fi({},s,{name:n.name,checked:l,placeholder:c(t,{style:{marginBottom:0}}),styled:"toggle",className:Bi.a.toggle,onChange:e=>{const t=!!e.target.checked;i(o,t),a&&a(o,t)}}))})}const Ai=()=>{const{pathname:e}=Object(c.h)(),{t:t}=Object(m.useTranslation)("products"),{router:a,crm:n}=cl(),{enabled:l,email:o,telegram:s,webhook:i}=Ei(n),u=Re("notifications_webhook"),d=r.a.createElement(ke.a,{fullWidth:!0,tag:Me.b,btnStyle:"secondary",style:{marginTop:16},to:a.settings.toGlobalNotifications(e)},t("ProductsNotifications.labels.configure"));return r.a.createElement(r.a.Fragment,null,l?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ri,{builderInput:!0,name:"notifications.email",label:t("ProductsNotifications.labels.notifications.email"),disabled:!o}),!o&&r.a.createElement(ui,{tipId:"products:ProductsNotifications.settingsDisabled.email"}),r.a.createElement(Ri,{builderInput:!0,name:"notifications.telegram",label:t("ProductsNotifications.labels.notifications.telegram"),disabled:!s}),!s&&r.a.createElement(tr,null,r.a.createElement(ui,{tipId:"products:ProductsNotifications.settingsDisabled.telegram"})),u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ri,{builderInput:!0,name:"notifications.webhook",label:t("ProductsNotifications.labels.notifications.webhook"),disabled:!i}),!i&&r.a.createElement(tr,null,r.a.createElement(ui,{tipId:"products:ProductsNotifications.settingsDisabled.webhook"})))):r.a.createElement(ui,null,t("ProductsNotifications.settingsHint")),d)};function Ui(){const{t:e}=Object(m.useTranslation)("products"),{router:t,crm:a}=cl(),{enabled:n}=Ei(a);return r.a.createElement(Bl,{modal:!0,inverse:!1,nopadding:!1,fullHeight:!1,backPath:t.settings.toSettings(),title:e("ProductsNotifications.title")},r.a.createElement(qo,{showSubmit:n,successRedirectPath:t.settings.toSettings()},r.a.createElement(Ai,null)))}const zi=()=>{const{t:e}=Object(m.useTranslation)("products"),[{value:t}]=Object(Gn.d)("form");return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ri,{builderInput:!0,name:"form.optional.lastName",label:e("ProductsOnboarding.labels.optional.lastName")}),r.a.createElement(Ri,{builderInput:!0,name:"form.collectAddress",label:e("ProductsOnboarding.labels.collectAddress")}),r.a.createElement(Ri,{builderInput:!0,name:"form.optional.postalCode",disabled:!t.collectAddress,label:e("ProductsOnboarding.labels.optional.postalCode")}),r.a.createElement(pr,{minRows:3,maxLength:5e3,builderInput:!0,name:"form.successMessage",label:e("ProductsOnboarding.labels.successMessage.label"),placeholder:Object(to.a)("payment_paid_subtitle")}))};function Di(){const{t:e}=Object(m.useTranslation)("products"),{router:t}=cl();return r.a.createElement(Bl,{preferDynamicBack:!0,modal:!0,inverse:!1,nopadding:!1,fullHeight:!1,backPath:t.settings.toSettings(),title:e("ProductsOrderForm.title")},r.a.createElement(qo,{successRedirectPath:t.settings.toSettings()},r.a.createElement(zi,null)))}const Wi=()=>{const{t:e}=Object(m.useTranslation)("products");return r.a.createElement(zo,{builderInput:!0,name:"defaultCurrency",label:e("ProductsOnboarding.labels.currency"),style:{margin:0}})},Vi=()=>{const{t:e}=Object(m.useTranslation)("products");return r.a.createElement(vi,{builderInput:!0,mode:"small",name:"contacts.messengers",label:e("ProductsOnboarding.labels.messengers")})};var qi=a("79Bz"),Hi=a("L7b9");const Gi=()=>Object(Hi.e)().trim().ensure().when("enabled",{is:!0,then:Object(Hi.e)().required("common:errorsList.field_required")}),$i=Object(Hi.d)({clientId:Gi()}),Ki=Object(Hi.d)({publicKey:Gi(),secretKey:Gi()}),Zi=Object(Hi.d)({merchantAccount:Gi(),merchantSecretCode:Gi()}),Ji=Object(Hi.d)({publicKey:Gi(),privateKey:Gi()}),Yi=Object(Hi.d)({instructions:Gi()});function Qi(){return(Qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Xi(e){let{mask:t,unmask:a,onChange:n,...l}=e;return r.a.createElement(ur,l,e=>{let{field:{name:l,value:o,...s},form:{errors:i,touched:c,setFieldValue:u}}=e;return r.a.createElement(Yl.a,Qi({},s,{name:l,value:a?a(o):o,hasError:i[l]&&c[l],onChange:n||(e=>{u(l,t?t(e.target.value):e.target.value)})}))})}function ec(e){let{enabled:t,name:a}=e;return null}ec.propTypes={enabled:k.a.bool,name:k.a.string};const tc={cod:{title:"CashOnDelivery",icon:R.hb,form:ec},paypal:{title:"Paypal",icon:bl.B,form:function(e){let{enabled:t,name:a}=e;const{t:n}=Object(m.useTranslation)("products"),{valid:l,tip:o}=ac("paypal");return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xi,{builderInput:!0,name:(a?a+".":"")+"clientId",label:n("fields.payments.paypal.clientId.label"),placeholder:n("fields.payments.paypal.clientId.placeholder"),disabled:!t,required:!0}),l?r.a.createElement(ui,null,n("Payments.Paypal.tip")):r.a.createElement(ui,{styled:"warning"},o))},schema:$i},stripe:{title:"Stripe",icon:bl.M,form:function(e){let{enabled:t,name:a}=e;const{t:n}=Object(m.useTranslation)("products");return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xi,{builderInput:!0,name:(a?a+".":"")+"publicKey",label:n("fields.payments.stripe.publicKey.label"),placeholder:n("fields.payments.stripe.publicKey.placeholder"),disabled:!t,required:!0}),r.a.createElement(Xi,{builderInput:!0,name:(a?a+".":"")+"secretKey",label:n("fields.payments.stripe.secretKey.label"),placeholder:n("fields.payments.stripe.secretKey.placeholder"),disabled:!t,required:!0}),r.a.createElement(ui,null,r.a.createElement("p",{style:{margin:0},dangerouslySetInnerHTML:{__html:n("Payments.Stripe.tip")}})))},schema:Ki},wayforpay:{title:"Wayforpay",icon:bl.z,form:function(e){let{enabled:t,name:a}=e;const{t:n}=Object(m.useTranslation)("products");return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xi,{builderInput:!0,name:(a?a+".":"")+"merchantAccount",label:n("fields.payments.wayforpay.merchantAccount.label"),placeholder:n("fields.payments.wayforpay.merchantAccount.placeholder"),disabled:!t,required:!0}),r.a.createElement(Xi,{builderInput:!0,name:(a?a+".":"")+"merchantSecretCode",label:n("fields.payments.wayforpay.merchantSecretCode.label"),placeholder:n("fields.payments.wayforpay.merchantSecretCode.placeholder"),disabled:!t,required:!0}),r.a.createElement(ui,null,r.a.createElement("p",{style:{margin:0},dangerouslySetInnerHTML:{__html:n("Payments.Wayforpay.tip")}})))},schema:Zi},robokassa:{title:"Robokassa",icon:bl.z,form:function(e){let{enabled:t,name:a}=e;const{t:n}=Object(m.useTranslation)("products");return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xi,{builderInput:!0,name:(a?a+".":"")+"merchantLogin",label:n("fields.payments.robokassa.merchantLogin.label"),placeholder:n("fields.payments.robokassa.merchantLogin.placeholder"),disabled:!t,required:!0}),r.a.createElement(Xi,{builderInput:!0,name:(a?a+".":"")+"merchantPassword",label:n("fields.payments.robokassa.merchantPassword.label"),placeholder:n("fields.payments.robokassa.merchantPassword.placeholder"),disabled:!t,required:!0}),r.a.createElement(Ri,{builderInput:!0,name:(a?a+".":"")+"test",label:n("fields.payments.robokassa.test.label"),disabled:!t}))}},liqpay:{title:"Liqpay",icon:R.r,form:function(e){let{enabled:t,name:a=""}=e;const{t:n}=Object(m.useTranslation)("products");return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xi,{builderInput:!0,name:(a?a+".":"")+"publicKey",label:n("fields.payments.liqpay.publicKey.label"),placeholder:n("fields.payments.liqpay.publicKey.placeholder"),disabled:!t,required:!0}),r.a.createElement(Xi,{builderInput:!0,name:(a?a+".":"")+"privateKey",label:n("fields.payments.liqpay.privateKey.label"),placeholder:n("fields.payments.liqpay.privateKey.placeholder"),disabled:!t,required:!0}),r.a.createElement(ui,null,r.a.createElement("p",{style:{margin:0},dangerouslySetInnerHTML:{__html:n("Payments.Liqpay.tip")}})))},schema:Ji},other:{title:"Other",icon:bl.z,form:function(e){let{enabled:t,name:a}=e;const{t:n}=Object(m.useTranslation)("products");return r.a.createElement(r.a.Fragment,null,r.a.createElement(pr,{builderInput:!0,name:(a?a+".":"")+"instructions",label:n("fields.payments.other.instructions.label"),placeholder:n("fields.payments.other.instructions.placeholder"),maxLength:5e3,disabled:!t,required:!0}))},schema:Yi}},ac=e=>{const{t:t}=Object(m.useTranslation)("products"),{crm:a}=cl(),{supported_currencies:n}=qi.a[e]||{},{title:r}=tc[e]||{},l=a.defaultCurrency.toUpperCase(),o=!(n&&!n.includes(l));return{valid:o,tip:!o&&t(`Payments.${r}.unsupportedCurrencyTip`,{currency:l})}};var nc=a("jUDO"),rc=a.n(nc);function lc(){return(lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const oc=e=>{let{name:t,provider:a,onEdit:l,onDelete:o,...s}=e;const{t:i}=Object(m.useTranslation)("products"),{getFieldMeta:c}=Object(Gn.f)(),{value:u}=c(t),{icon:d,title:p}=tc[a],{valid:b,tip:g}=ac(a),[f,h]=Ra()(),v=!u.enabled,y=Object(n.useCallback)(()=>{l(a)},[v,b,a,l]),E=Object(n.useCallback)(()=>o(a),[a,o]);return r.a.createElement(ur,lc({name:t,className:rc.a.field},s),r.a.createElement("div",{className:O()(rc.a.row,rc.a.small)},r.a.createElement("div",{className:rc.a.left},d&&r.a.createElement("div",{className:rc.a.iconWrapper,onClick:y},r.a.createElement(d,null))),r.a.createElement("div",{className:O()(rc.a.value,!v&&rc.a.active)},i(`Payments.${p}.heading`)),r.a.createElement("div",{className:rc.a.buttons},!b&&r.a.createElement("div",{onClick:h,className:O()(rc.a.button,rc.a.danger),title:g},r.a.createElement(R.b,{size:16})),v?r.a.createElement("div",{onClick:y,className:O()(rc.a.button)},r.a.createElement(R.U,{size:20})):r.a.createElement("div",{onClick:E,className:O()(rc.a.button,rc.a.remove)},r.a.createElement(R.gb,{size:20}))),r.a.createElement("div",{className:rc.a.layer,onClick:y}),f&&r.a.createElement(ua,{title:i(`Payments.${p}.heading`),onClose:h},r.a.createElement(ui,{styled:"warning"},g))))};function sc(){return(sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const ic=e=>{let{name:t,provider:a,onApply:n,...l}=e;const{t:o}=Object(m.useTranslation)("products"),{getFieldMeta:s}=Object(Gn.f)(),{value:i={enabled:!0}}=s(t),{title:c,form:u,schema:d}=tc[a],{handleBlockedEvent:p}=Qn("payments",i);return r.a.createElement(ua,sc({title:o(`Payments.${c}.heading`),onClose:n,render:e=>{let{handleClose:t}=e;return r.a.createElement(Kn,{initialValues:i,validationSchema:d,onSubmit:t},e=>{let{values:t,dirty:n,submitForm:l}=e;return r.a.createElement("div",null,r.a.createElement(Ri,{builderInput:!0,name:"enabled",label:o(`fields.payments.${a}.enabled.label`)}),u&&r.a.createElement(u,{enabled:t.enabled}),r.a.createElement(ke.a,{fullWidth:!0,size:"standart",style:{marginTop:16},disabled:!n,onClick:p||l},o("ui:labels.apply")))})}},l))};function cc(){return(cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const uc=["cod","paypal","stripe","wayforpay","liqpay","other"],dc=e=>{let{name:t,...a}=e;const{getFieldMeta:l,setFieldValue:o,setFieldTouched:s}=Object(Gn.f)(),{value:i}=l(t),[c,u]=Object(n.useState)(),d=Re("payments_other"),m=Object(n.useCallback)((e,a)=>{o(t,{...i,[e]:a||{...i[e],enabled:!1}}),s(t,!0,!0)},[t,i]),p=Object(n.useCallback)(e=>{e&&(e.enabled?(o(`${t}.${c}`,e,!0),s(`${t}.${c}`,!0,!0)):m(c,e)),u(null)},[c]);return r.a.createElement(ur,cc({className:rc.a.root,name:t},a),r.a.createElement("ul",{className:rc.a.list},uc.map(e=>("other"!==e||d||i[e].enabled)&&r.a.createElement(oc,{key:e,provider:e,name:`${t}.${e}`,onEdit:u,onDelete:m}))),c&&r.a.createElement(ic,{fullWidth:!0,name:`${t}.${c}`,provider:c,onApply:p}))},mc=()=>{const{t:e}=Object(m.useTranslation)("products");return r.a.createElement(dc,{name:"payments",label:e("ProductsOnboarding.labels.payments")})};var pc=a("wAqd"),bc=a.n(pc);const gc=()=>{const{t:e}=Object(m.useTranslation)("products"),{router:t}=cl();return r.a.createElement("div",{className:bc.a.stepContainer,style:{justifyContent:"flex-end"}},r.a.createElement(br.a,{fullWidth:!0,style:{marginTop:16},btnStyle:"secondary",isInitialHidden:!1,disabled:!1},e("ProductsOnboarding.labels.repeat")),r.a.createElement(ke.a,{fullWidth:!0,style:{marginTop:16},tag:Me.b,to:t.toHome()},e("ui:labels.close")))},fc=()=>{const e={currency:Wi,messengers:Vi,payments:mc,form:zi,notifications:Ai,finished:gc},t=["currency","messengers","payments","form","notifications","finished"],a=t.length-1,n=e=>t.indexOf(e)>=t.length-1,r=e=>Object.values(e.payments).some(e=>{let{enabled:t}=e;return t}),l=t.indexOf("payments"),o=a-["form","notifications"].length;return{stepsCount:(e,s)=>{const i=r(s),c=t.indexOf(e);return!i&&(c<=l||n(e))?o:a},stepNumber:(e,a)=>{const l=r(a),s=t.indexOf(e);return!l&&n(e)?o:s+1},firstStep:()=>t[0],nextStep:(e,a)=>{const o=r(a),s=t.indexOf(e),i=s+1;return!o&&s>=l&&!n(e)?"finished":t[i]||t[0]},getForm:t=>e[t],isFinalStep:n}},hc=e=>{let{step:t}=e;const{t:a}=Object(m.useTranslation)("products"),{values:l,setFieldValue:o}=Object(Gn.f)(),s=Object(n.useMemo)(()=>fc()),i=s.nextStep(t,l),c=s.isFinalStep(t);return Object(n.useEffect)(()=>{l.onBoardingStep!==i&&o("onBoardingStep",i)},[l.onBoardingStep,i]),r.a.createElement("div",{className:bc.a.intro,style:{marginTop:-16}},r.a.createElement("h1",null,a("ProductsOnboarding.title")),!c&&r.a.createElement("span",{className:bc.a.step},a("ProductsOnboarding.steps",{step:s.stepNumber(t,l),total:s.stepsCount(t,l)})),r.a.createElement("p",null,a("ProductsOnboarding.stepTips."+t)))};function vc(e){let{fromStart:t}=e;const a=Object(n.useRef)(t),l=Object(n.useMemo)(()=>fc()),{router:o,crm:s,specifier:i}=cl(),{api:c}=Object(de.a)(),[u,d]=Object(n.useState)(()=>l.isFinalStep(s.onBoardingStep)||a.current?l.firstStep():s.onBoardingStep),m=l.getForm(u),p=l.isFinalStep(u);return Object(n.useEffect)(()=>{a.current||d(s.onBoardingStep),a.current=!1},[s]),r.a.createElement(Bl,{modal:!0,inverse:!1,nopadding:!1,backPath:async()=>{await c.websites.crm.settings.update({websiteId:i.website,payload:{...s,onBoarding:!1}}),history.push(o.toHome())}},r.a.createElement(qo,{initialData:{onBoarding:!1},showSubmit:!p,successRedirectPath:o.settings.toOnboarding(),doRedirect:!1,initialDirty:!0},r.a.createElement(hc,{step:u}),r.a.createElement("div",{className:bc.a.stepContainer},r.a.createElement(m,null))))}const yc=k.a.shape({kind:k.a.string.isRequired,status:k.a.bool}),Ec=k.a.shape({enabled:k.a.bool,name:k.a.string,slug:k.a.string,blocks:k.a.arrayOf(yc.isRequired).isRequired}),Oc=k.a.shape({public:k.a.bool,name:k.a.string.isRequired,primaryTags:k.a.arrayOf(k.a.string).isRequired,secondaryTags:k.a.arrayOf(k.a.string).isRequired,blocks:k.a.arrayOf(yc.isRequired).isRequired}),jc=k.a.shape({enabled:k.a.bool,name:k.a.string.isRequired,slug:k.a.string.isRequired}),kc=k.a.shape({enabled:k.a.bool,name:k.a.string,slug:k.a.string}),wc=k.a.shape({amount:k.a.number,currency:k.a.string}),Cc=k.a.shape({productId:k.a.string.isRequired,kind:k.a.oneOf(["product","service"]),name:k.a.string.isRequired,price:wc,quantity:k.a.number.isRequired,subtotal:wc.isRequired,photoUrl:k.a.string}),_c=k.a.oneOf(["new","pending","paid","failed"]),Pc=k.a.oneOf(["stripe","paypal","wayforpay","robokassa","liqpay","cod","transfer","other"]),xc={block:yc,page:Ec,website:jc,websitePartial:kc,template:Oc,order:k.a.shape({_id:k.a.string.isRequired,website:k.a.oneOfType([k.a.string,jc]).isRequired,status:_c.isRequired,finalized:k.a.bool,contactInfo:k.a.shape({}),shippingAddress:k.a.shape({}),paymentMethod:Pc,metadata:k.a.object,total:wc.isRequired,items:k.a.arrayOf(Cc.isRequired).isRequired,createdAt:k.a.oneOfType([k.a.string,k.a.object]).isRequired}),orderItem:Cc,orderStatus:_c,paymentMethod:Pc,price:wc,partials:{website:k.a.shape({status:k.a.bool,name:k.a.string,slug:k.a.string}),template:k.a.shape({public:k.a.bool,name:k.a.string,primaryTags:k.a.arrayOf(k.a.string),secondaryTags:k.a.arrayOf(k.a.string),blocks:k.a.arrayOf(yc)})}};function Sc(){return(Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Nc=e=>{let{provider:t,title:a,children:n,...l}=e;const{t:o}=Object(m.useTranslation)("products"),{router:s}=cl();return r.a.createElement(Bl,{preferDynamicBack:!0,modal:!0,inverse:!1,nopadding:!1,fullHeight:!1,backPath:s.settings.toPayments(),title:a},r.a.createElement(qo,Sc({successRedirectPath:s.settings.toPayments(),restrictRule:"payments"},l),r.a.createElement(Ri,{builderInput:!0,name:`payments.${t}.enabled`,label:o(`fields.payments.${t}.enabled.label`)}),r.a.createElement(Ic,{provider:t},n)))},Ic=e=>{let{provider:t,children:a}=e;return Object(f.a)(a,Object(Gn.d)(`payments.${t}.enabled`)[0].value)};function Tc(e){let{provider:t}=e;const{t:a}=Object(m.useTranslation)("products"),{title:l,form:o,schema:s}=tc[t],i=Object(n.useMemo)(()=>Object(Hi.d)({payments:Object(Hi.d)({[t]:s})}),[t,s]);return r.a.createElement(Nc,{provider:t,validationSchema:i,title:a(`Payments.${l}.heading`)},e=>r.a.createElement(o,{enabled:e,name:"payments."+t}))}Ic.propTypes={provider:xc.paymentMethod.isRequired};var Mc=a("nnm9"),Lc=a.n(Mc),Bc=a("BX6u");const Fc=e=>{const t=Object(n.useMemo)(()=>({exclude:e}),[e]),a=$r(t);return{items:Object(n.useMemo)(()=>a.items.filter(e=>e.productsCount),[a.items]),excludes:t}},Rc=e=>e.subproducts,Ac=(e,t)=>{const{api:a,setProductsSubFilter:n,clearProductsSubStore:r}=Object(de.a)();return Zl({specifier:e,collectionId:t,list:a.products.sublist,setProductsFilter:n,clearProductsStore:r,selector:Rc})};var Uc=a("EoaD"),zc=a("m1/L"),Dc=a.n(zc);function Wc(){return(Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Vc=e=>Object.entries(e).filter(e=>{let[,t]=e;return t}).map(e=>{let[t]=e;return t}),qc=e=>{let{value:t,items:a,groupItems:l,renderItem:o,onDone:s,...i}=e;const{t:c}=Object(m.useTranslation)("products"),[u,d]=Object(n.useState)(""),p=Object(n.useMemo)(()=>u?a.filter(qr.a.bySubstring(u,"name")):a,[u,a]),b=Object(n.useMemo)(()=>l&&l(p),[l,p]),g=Object(n.useMemo)(()=>t.reduce((e,t)=>(e[t]=!0,e),{}),[t]),f=Object(n.useCallback)(e=>{s(e?{action:"success",value:Vc(e)}:{action:"cancel"})},[s]),h=Object(n.useCallback)(e=>{let{target:{value:t}}=e;return d(t)}),v=Object($n.a)({initialValues:g,onSubmit:f}),y=Object(n.useCallback)(e=>{let{_id:t}=e;return v.setFieldValue(t,!v.values[t])},[v.values]),E=e=>e.map(e=>r.a.createElement(Hc,{key:e._id,col:e,active:v.values[e._id],renderItem:o,onClick:y}));return r.a.createElement(Gn.c,{value:v},r.a.createElement(ua,Wc({padding:!1,portalTo:"#visual-builder,#mainRoot",onClose:v.handleSubmit,title:c("CollectionsSelector.heading")},i),r.a.createElement(jl,{fullWidth:!0},r.a.createElement(Gn.a,{autoComplete:"off",className:Dc.a.root},p.length>0?r.a.createElement("ul",{className:Dc.a.list},b?b.map((e,t)=>{let{key:a,label:n,items:l}=e;return r.a.createElement(r.a.Fragment,{key:"group-"+(a||t)},r.a.createElement("li",{className:Dc.a.groupItem},n),E(l))}):E(p)):u&&r.a.createElement(vo,{title:c("labels.notFound.collections.heading"),description:c("labels.notFound.collections.description")}),a.length>1&&r.a.createElement("div",{className:Dc.a.filter},r.a.createElement(Xi,{builderInput:!0,value:u,onChange:h,placeholder:c("labels.search"),icon:Jl.h,autoComplete:"off",clearable:!0}))))))},Hc=e=>{let{col:t,active:a,renderItem:l,onClick:o}=e;const{t:s}=Object(m.useTranslation)("products"),i=Object(n.useCallback)(()=>{t.isFixed||o(t)},[t,o]);return r.a.createElement("li",{className:O()(Dc.a.listItem,t.isFixed&&Dc.a.fixed),onClick:i},l?l(t,a,Dc.a):r.a.createElement(Bc.a,{active:a,disabled:!!t.isFixed},r.a.createElement("div",{className:Dc.a.title},t.name),r.a.createElement("div",{className:Dc.a.subtitle},s("labels.products",{count:t.publishedProductsCount}))))};var Gc=a("Kyz8"),$c=a.n(Gc);function Kc(){return(Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Zc=e=>{let{label:t,toggleLabel:a,emptyLabel:l,fixed:o,collections:s,renderItem:i,groupItems:c,...u}=e;const{t:d}=Object(m.useTranslation)("products"),{getFieldMeta:p,setFieldValue:b}=Object(Gn.f)(),{isOpen:g,toggle:f}=De(),{value:h}=p(u.name),v=Object(n.useMemo)(()=>{const e=s.map(e=>({...e,name:e.default?d("labels.allProducts"):e.name||"",isFixed:o&&(Array.isArray(o)?o.includes(e._id):o===e._id)})).sort((e,t)=>e.default!==t.default?+t.default-+e.default:e.isFixed!==t.isFixed?+t.isFixed-+e.isFixed:0);return{mapped:e.filter(e=>{let{_id:t,isFixed:a}=e;return a||h.includes(t)}),all:e}},[s,h,o]),y=Object(n.useMemo)(()=>h.filter(e=>!s.find(Object(qr.b)(e))),[h,s]),E=Object(n.useCallback)(()=>{u.disabled||f()},[u.disabled,f]),j=Object(n.useCallback)(e=>{b(u.name,h.filter(t=>e!==t))},[h]),k=Object(n.useCallback)(e=>{let{action:t,value:a}=e;if("success"===t){const e=[...a,...y.filter(e=>!a.includes(e))];Object(Uc.a)(h,e)||b(u.name,e)}f(!1)},[y,h]),w=a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{flex:1}},t),r.a.createElement(ke.a,{tag:"a",noborder:!0,nopadding:!0,className:$c.a.changeButton,btnStyle:"transparent",disabled:u.disabled,onClick:E},a)):t;return r.a.createElement(ur,Kc({label:w},u),r.a.createElement("div",{className:O()($c.a.root,u.disabled&&$c.a.disabled),onClick:E},r.a.createElement("ul",null,v.mapped.map(e=>r.a.createElement(Jc,{key:e._id,item:e,disabled:u.disabled||e.isFixed,onRemove:j}))),!v.mapped.length&&l),g&&r.a.createElement(qc,{value:h,items:v.all,renderItem:i,groupItems:c,onDone:k}))},Jc=e=>{let{item:t,disabled:a,onRemove:l}=e;const o=Object(n.useCallback)(e=>{var n,r;a||(null===(n=e.preventDefault)||void 0===n||n.call(e),null===(r=e.stopPropagation)||void 0===r||r.call(e),l(t._id))},[a,t,l]);return r.a.createElement(Fn,{as:"li",badgeStyle:"flat",className:$c.a.badge},r.a.createElement("span",null,t.name),!t.isFixed&&r.a.createElement("div",{className:$c.a.badgeButton},r.a.createElement(li.a,{size:12,onClick:o})))};var Yc=a("D79b"),Qc=a.n(Yc);function Xc(){const e=Object(c.g)(),t=Kr(),{t:a}=Object(m.useTranslation)("products"),{api:l}=Object(de.a)(),{router:o,specifier:s,modal:i}=cl(),{items:u,excludes:d}=Fc(s),p=s.website,b=Object(n.useCallback)((e,t,n)=>r.a.createElement(Bc.a,{active:t,disabled:!!e.isFixed},r.a.createElement("div",{className:n.title},e.name),r.a.createElement("div",{className:n.subtitle},a("labels.products",{count:e.productsCount})))),g=Object(n.useCallback)(e=>{if(e.find(e=>{let{website:t}=e;return t})<=1)return null;const n={key:"-",items:[],label:r.a.createElement("div",{className:Qc.a.colsGroup},r.a.createElement("div",null,a("labels.notImported")))},l=[],o=new Map,s=e=>{const a=o.get(e);if(void 0===a){const a=t.find(Object(qr.b)(e))||null;return o.set(e,a),a}return a};for(const t of e){const e=t.website,a=s(e);if(a){const n=l.find(t=>t.key===e);n?n.items.push(t):l.push({key:e,items:[t],label:r.a.createElement("div",{className:Qc.a.colsGroup},r.a.createElement("div",null,a.name),r.a.createElement(Fn,{badgeStyle:"flat"},a.finalUrl))})}else n.items.push(t)}return n.items.length&&l.unshift(n),l},[t]),f=Object(n.useCallback)(async t=>{await l.products.migrate({payload:t}),e.push(o.toHome())},[o.toHome()]),h=Object(n.useMemo)(()=>g(u),[]),v=Object(n.useMemo)(()=>({websiteId:p,collections:h.length>1?[]:u.map(e=>{let{_id:t}=e;return t})}),[p]);return Object(pl.a)(),p?u.length?r.a.createElement(Bl,{preferDynamicBack:!0,inverse:!1,nopadding:!1,modal:i},r.a.createElement("div",{className:Qc.a.intro},r.a.createElement("h1",null,a("ProductsImport.title")),r.a.createElement("p",null,a("ProductsImport.subtitle"))),r.a.createElement(Kn,{initialValues:v,onSubmit:f},e=>{let{values:t}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Zc,{builderInput:!0,name:"collections",label:a("ProductsImport.labels.collections"),toggleLabel:a("ui:labels.change"),emptyLabel:r.a.createElement(ui,{style:{marginBottom:16}},a("ProductsImport.select")),collections:u,renderItem:b,groupItems:g}),r.a.createElement(br.a,{fullWidth:!0,disabled:!t.collections.length,style:{lineHeight:44}},a("ProductsImport.labels.import")),r.a.createElement(eu,{key:t.collections.join(","),collections:t.collections,specifier:d}))})):r.a.createElement(Bl,{preferDynamicBack:!0,inverse:!1,nopadding:!1,modal:i},r.a.createElement("div",{className:Qc.a.intro},r.a.createElement("h1",null,a("ProductsImport.title")),r.a.createElement("p",null,a("ProductsImport.nothingToImport.header")),r.a.createElement("p",null,a("ProductsImport.nothingToImport.message")))):r.a.createElement(c.a,{to:o.toHome()})}const eu=e=>{let{collections:t,specifier:a}=e;const{t:l}=Object(m.useTranslation)("products"),{products:o,loadMore:s}=Ac(a,Object(n.useMemo)(()=>t.join(","),[t]));return t.length?r.a.createElement("div",null,r.a.createElement(ui,{style:{marginTop:16}},l("ProductsImport.productsTip")),r.a.createElement(co,{products:o.items,onClick:Lc.a}),r.a.createElement(yo,{products:o,loadMore:s,isSearch:!0})):null};var tu=a("rIDk"),au=a.n(tu);const nu=Object(Ko.b)(e=>{let{col:t,draggable:a,renderItem:l,onClick:o}=e;const{t:s}=Object(m.useTranslation)("products"),{router:i}=cl(),c=Object(n.useCallback)(e=>{(o||t.isFixed)&&e.preventDefault(),o&&!t.isFixed&&o(t)},[t,o]),u=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:au.a.info},r.a.createElement("div",{className:au.a.label},t.default?s("labels.allProducts"):t.name),r.a.createElement("div",{className:au.a.counter},s("labels.products",{count:t.publishedProductsCount}))));return r.a.createElement("li",{className:O()(au.a.listItem,a&&au.a.draggable,t.isFixed&&au.a.fixed)},r.a.createElement(Me.b,{to:i.collection.toViewProducts(t.id),onClick:c},l?l(t,u):u),a&&r.a.createElement(gs,{title:s("ui:labels.dragTip")}))}),ru=Object(Ko.a)(e=>{let{collections:t,draggable:a,renderItem:n,onClick:l}=e;return r.a.createElement("ul",{className:au.a.list},t.map((e,t)=>r.a.createElement(nu,{key:e._id,index:t,col:e,disabled:!a,draggable:a,renderItem:n,onClick:l})))});function lu(e){let{collections:t,draggable:a,renderItem:l,onClick:o,isFetching:s}=e;const{api:i}=Object(de.a)(),[c,u]=Object(n.useState)([]),d=Object(n.useCallback)(async e=>{let{oldIndex:t,newIndex:a}=e;if(t===a)return;const n=c[t]._id,r=c[a]._id;u(e=>$o()(e,t,a)),await i.collections.sort({payload:{col1Id:n,col2Id:r}})},[c]);return Jn()(()=>{u(t)},[t]),r.a.createElement("div",{className:O()({[au.a.root]:!0,[au.a.fetching]:s})},r.a.createElement(ru,{collections:c,renderItem:l,onClick:o,axis:"y",lockAxis:"y",onSortEnd:d,helperClass:O()(au.a.sortable,gs.helperClass),draggable:a,shouldCancelStart:gs.shouldCancelStart}))}function ou(){const{t:e}=Object(m.useTranslation)("products"),{router:t,specifier:a,isSpecific:l,modal:o}=cl(),{isFetching:s,items:i}=$r(a),[c,u]=Object(n.useState)(()=>({...a,name:""})),d=To(i,c,{name:1}),p=Object(n.useCallback)(e=>{let{target:{name:t,value:a}}=e;u(e=>({...e,[t]:a}))});return r.a.createElement(Bl,{title:e("Collections.title"),topPanelChildren:r.a.createElement(Xl,{onChange:p,value:c.name}),backPath:t.toHome(),modal:o},r.a.createElement(fa,{rule:"collections:view"},r.a.createElement(Dl,{nopadding:!0,style:{flex:1,marginTop:8}},d.length>0?r.a.createElement(lu,{collections:d,isFetching:s,draggable:!1}):c.name?r.a.createElement(vo,{title:e("labels.notFound.collections.heading"),description:e("labels.notFound.collections.description"),style:{margin:"auto"}}):r.a.createElement(vo,{title:e("Collections.emptyTitle"),description:e("Collections.emptyDescription"),style:{margin:"auto"}})),l&&r.a.createElement(Hl,{padded:!0,style:{marginTop:8}},r.a.createElement(ke.a,{fullWidth:!0,tag:Me.b,to:t.collection.toNew()},"+ ",e("Collections.tipAddCollection")))))}lu.defaultProps={draggable:!0};var su=a("OqJV"),iu=a.n(su);var cu=a("Q5Mw"),uu=a.n(cu);function du(){return(du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const mu=e=>Object.entries(e).filter(e=>{let[,t]=e;return t}).map(e=>{let[t]=e;return t}),pu=e=>{let{products:t,value:a,onDone:l,...o}=e;const{t:s}=Object(m.useTranslation)("products"),i=Object(n.useMemo)(()=>a.reduce((e,t)=>(e[t]=!0,e),{}),[a]),c=Object(n.useCallback)(e=>{l(e?{action:"success",value:mu(e)}:{action:"cancel"})},[l]),u=Object($n.a)({initialValues:i,onSubmit:c}),d=Object(n.useCallback)(e=>{let{_id:t}=e;return u.setFieldValue(t,!u.values[t])},[u.values]),p=Object(n.useCallback)(e=>{let{product:t,meta:a}=e;return r.a.createElement(Bc.a,{active:u.values[t._id]},a)},[u.values]);return r.a.createElement(Gn.c,{value:u},r.a.createElement(ua,du({padding:!1,portalTo:"#visual-builder,#mainRoot",title:s("ProductsSelector.heading"),onClose:u.handleSubmit},o),r.a.createElement(jl,{fullWidth:!0},r.a.createElement(Gn.a,{autoComplete:"off",className:uu.a.root},r.a.createElement("div",{className:uu.a.list},r.a.createElement(co,{products:t.items,renderMeta:p,onClick:d}),r.a.createElement(yo,{products:t})),r.a.createElement("div",{className:uu.a.filter},r.a.createElement(Xi,{builderInput:!0,name:"name",value:t.filter.name,onChange:t.handleFilter,placeholder:s("labels.search"),icon:Jl.h,autoComplete:"off",clearable:!0})),r.a.createElement("div",{className:uu.a.filter,style:{position:"static",opacity:0,pointerEvents:"none"}},r.a.createElement(Xi,{builderInput:!0,name:"name",value:t.filter.name,onChange:t.handleFilter,placeholder:s("labels.search"),icon:Jl.h,autoComplete:"off",clearable:!0}))))))};var bu=a("vrKG"),gu=a.n(bu);function fu(){return(fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const hu=e=>{let{collectionId:t,label:a,toggleLabel:l,...o}=e;const{isOpen:s,toggle:i}=De(),{getFieldMeta:c,setFieldValue:u}=Object(Gn.f)(),{value:d=[]}=c(o.name),m=(e=>{const{api:t}=Object(de.a)(),{specifier:a}=cl(),[r,l]=Object(n.useState)({name:""}),[o,s]=Object(n.useState)([]),i=sa()(),c=Object(n.useMemo)(()=>Object.entries(r).reduce((e,t)=>{let[a,n]=t;return n&&(e[a]=n),e},{}),[r]),u=To(o,c,{name:1}),[{loading:d},m]=iu()(async n=>{const r=await t.products.listByCollection({collectionId:e,query:{...a,...n}});i()&&s(r)},[e,a]),p=Object(n.useCallback)(()=>l({name:""}),[]),b=Object(n.useCallback)(e=>{let{target:{name:t,value:a}}=e;return l(e=>({...e,[t]:a}))});return Object(n.useEffect)(()=>{m()},[m]),{collectionId:e,items:u,filter:r,tidyFilter:c,clearFilter:p,handleFilter:b,isFetching:d,load:m}})(t),p=Object(n.useMemo)(()=>m.items.filter(e=>{let{_id:t}=e;return d.includes(t)}).slice(0,500),[d,m.items]),b=Object(n.useCallback)(()=>{o.disabled||i()},[o.disabled,i]),g=Object(n.useCallback)(e=>{let{action:t,value:a}=e;"success"!==t||Object(Uc.a)(d,a)||u(o.name,a),i(!1)},[d]),f=l?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{flex:1,marginLeft:16}},a," (",d.length,")"),r.a.createElement(ke.a,{tag:"a",noborder:!0,nopadding:!0,btnStyle:"transparent",disabled:o.disabled,onClick:b,style:{marginRight:16}},l)):a;return r.a.createElement(ur,fu({label:f},o,{style:{display:"grid",gridTemplateRows:"auto auto 1fr",gridTemplateColumns:"1fr",height:"100%"}}),r.a.createElement("div",{className:gu.a.separator}),r.a.createElement(Dl,{nopadding:!0,style:{minHeight:0,background:"#fff"}},r.a.createElement("div",{className:O()(gu.a.root,o.disabled&&gu.a.disabled),onClick:b},r.a.createElement(co,{products:p,onClick:Lc.a}))),s&&r.a.createElement(pu,{products:m,value:d,onDone:g}))};var vu=a("NVbM");function yu(e){let{collectionId:t}=e;const{t:a}=Object(m.useTranslation)("products"),{router:l,isSpecific:o,modal:s}=cl(),{collection:i,isFetching:u,isNew:d,isRedirecting:p,handleSubmit:b,handleRemoveClick:g}=(e=>{const t=!e,a=Object(c.g)(),{api:r}=Object(de.a)(),{router:l,specifier:o}=cl(),{items:s,isFetching:i}=$r(o),{loading:u,value:d}=ot()(async()=>e&&r.collections.products.get({collectionId:e}),[e]),m=Object(n.useMemo)(()=>s.find(t=>t._id===e)||{name:"",slug:"",website:null,default:!1,published:!0,products:[],...o},[s,o]),[p,b]=Object(n.useState)(()=>({products:[],...m})),[g,f]=Object(n.useState)(!1),h=Object(n.useCallback)(async(n,o)=>{let{setValues:s,setTouched:i}=o;const c=Wr()(n,["name","website","slug","published","default"]),{items:u,collectionId:d}=t?await r.collections.create({payload:c}):await r.collections.update({collectionId:e,payload:c}),m={...u.find(e=>e._id===d),products:n.products};n.products&&await r.collections.products.update({collectionId:d,payload:{ids:n.products}}),b(m),f(!0),s(m),i({});const p=l.collection.toViewProducts(d);t?a.replace(p):a.push(p)},[e]),v=Object(n.useCallback)(async t=>{t.preventDefault();try{await r.collections.delete({collectionId:e}),f(!0),setTimeout(()=>a.push(l.collection.toAll()),100)}catch(t){Object(vu.a)(t)}},[e]);return Object(n.useEffect)(()=>{e&&!p._id&&b(e=>({products:e.products||[],...m}))},[m]),Object(n.useEffect)(()=>{b(e=>{const t=d||[];return Object(Uc.a)(e.products||[],t,{ordered:!0})?e:{...e,products:t}})},[d]),{isNew:t,isFetching:i||u,isRedirecting:g,collection:p,handleSubmit:h,handleRemoveClick:v}})(t),{generateUrl:f}=Object(Qe.a)(),h=Object(c.g)(),v=(i.default?a("labels.allProducts"):i.name)||a("CollectionEdit.title"),y=Object($n.a)({initialValues:i,onSubmit:b}),E=Object(n.useCallback)(()=>h.push(f("..")),[f]);return Object(n.useEffect)(()=>{y.setFieldValue("products",i.products),y.setFieldTouched("products",!1)},[i.products]),r.a.createElement(fa,{modal:!0,padding:!1,rule:"collections:edit",subject:i,onClose:E},r.a.createElement(Gn.c,{value:y},r.a.createElement(Bl,{modal:s,fullHeight:!d,editing:!0,guardChanges:!p,title:v,rightButton:r.a.createElement(r.a.Fragment,null,r.a.createElement(fr,{nopadding:!0,btnStyle:"transparent"},a(d?"ui:labels.save":"ui:labels.apply")),!(y.dirty||d||i.default)&&r.a.createElement(Fl.a,{title:a("ui:button.remove"),disabled:u,onClick:g},r.a.createElement(R.fb,{size:24,color:"red"}))),backPath:t?l.collection.toViewProducts(t):l.collection.toAll()},r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:y.handleSubmit,style:{display:"grid",height:"100%",gridTemplateRows:"auto 1fr",gridTemplateColumns:"1fr"}},r.a.createElement(Bl.Section,{style:{marginTop:d?0:8}},!d&&!y.values.published&&r.a.createElement(Ri,{builderInput:!0,name:"published",label:a("CollectionEdit.fields.name"),disabled:u||i.default}),r.a.createElement(Xi,{builderInput:!0,name:"name",maxLength:100,disabled:u||i.default,autoFocus:d,placeholder:a("CollectionEdit.placeholders.name")})),!d&&r.a.createElement(Bl.Section,{style:{padding:"6px 0 0 0",minHeight:0,overflow:"hidden"}},r.a.createElement(hu,{collectionId:i._id,name:"products",label:a("CollectionEdit.fields.products"),toggleLabel:a(d?"ui:labels.add":"ui:labels.change"),disabled:u||i.default||!o}))))))}var Eu=a("T4sm"),Ou=a.n(Eu);function ju(e){let{collectionId:t}=e;const{t:a}=Object(m.useTranslation)("products"),{router:n,isSpecific:l,specifier:o,modal:s}=cl(),{collection:i}=Gl(o,e=>e._id===t),{products:c,setFilter:u,loadMore:d}=Ac(o,t),p=i?i.default?a("labels.allProducts"):i.name:"";return r.a.createElement(Bl,{modal:s,title:p,rightButton:r.a.createElement("div",{className:Ou.a.headerButtons},!(null!=i&&i.default)&&r.a.createElement(Fl.a,{as:Me.b,to:n.collection.toEdit(t),title:a("Collections.tipEditCollection")},r.a.createElement(eo.e,{size:22,color:"#000"}))),topPanelChildren:r.a.createElement(Xl,{onChange:u,value:c.filter.name}),backPath:n.collection.toAll()},r.a.createElement(Dl,{nopadding:!0,style:{flex:1,marginTop:8,background:"#fff"}},r.a.createElement(Bl.Section,{nopadding:!0,style:{margin:c.items.length?0:"auto",padding:`0 0 ${c.next&&d?16:0} 0`}},r.a.createElement(co,{products:c.items,collectionId:t}),r.a.createElement(yo,{products:c,loadMore:d}))),l&&r.a.createElement(Hl,{padded:!0,style:{marginTop:8}},r.a.createElement(ke.a,{fullWidth:!0,tag:Me.b,to:n.product.toNew(null!=i&&i.default?null:t)},"+ ",a("pageProducts.tipAddProduct"))))}const ku=/^([^\s]+:\/\/)*([^/?]+)(.*)$/i;function wu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://";const a=e&&e.trim().match(ku);if(a){const e=a[1]||t,n=a[2],r=a[3];return e.toLowerCase()+n.toLowerCase()+r}return e}var Cu=a("t4dI"),_u=a("bto2"),Pu=a("Jl3+"),xu=a.n(Pu);function Su(){return(Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Nu=So.options.map(e=>({...e,label:`${e.value} - ${e.label}`})),Iu=e=>""===e?null:parseFloat(e),Tu=e=>{let{amount:t,discount:a,currency:n}=e;return`${t}:${a}:${n}`},Mu=e=>{let{name:t,value:a,errors:l,refAmount:o,onChange:s,hideDiscount:i,builderInput:c,disabled:u,disabledCurrency:d,...p}=e;const{t:b,i18n:g}=Object(m.useTranslation)("ui"),f=Tu(a),h=Object(n.useMemo)(()=>((e,t)=>({...t&&{hasDiscount:!!e.discount},value:{...e,amount:null===e.amount?"":String(e.amount),discount:null===e.discount?"":String(e.discount)},normalizedValue:{...e}}))(a),[]),[v,y]=Object(n.useState)(h.value),E=Object(n.useCallback)(e=>{let{target:{name:t,value:a}}=e;if(u)return;const n=a.replace(",",".").trim();if(""!==n&&("amount"===t||"discount"===t)){if(!n.match(/^\d{0,9}(\d\.\d{0,2})?$/))return}y(e=>({...e,[t]:n}))},[u]);return Object(n.useEffect)(()=>{const e=((e,t)=>{let{amount:a,discount:n,currency:r}=e;const l=Iu(a),o=Iu(n);return{amount:l,discount:o,formatted:null===l?"":Object(Cu.a)(l,r,t),formattedDiscount:null===o?"":Object(Cu.a)(o,r,t),currency:r}})(v,g.language);s&&f!==Tu(e)&&s({target:{name:t,value:e}})},[t,s,v,f,g.language]),r.a.createElement("div",Su({className:xu.a.root},p),r.a.createElement(_u.a,{builderInput:c,name:"amount",value:v.amount,onChange:E,type:"text",errors:b((null==l?void 0:l.amount)||(null==l?void 0:l.currency)),inputMode:"decimal",autoComplete:"off",disabled:u,refInput:o,afterInput:r.a.createElement(ei,{className:O()(xu.a.currencyBadge,d&&xu.a.disabled),options:Nu,name:"currency",value:v.currency,disabled:d,onChange:E}),clearable:!0}),!i&&r.a.createElement(_u.a,{builderInput:c,name:"discount",value:v.discount,label:b("PriceCompoundInput.discountLabel"),onChange:E,type:"text",errors:b(null==l?void 0:l.discount),inputMode:"decimal",autoComplete:"off",disabled:u,afterInput:r.a.createElement("div",{className:O()(xu.a.currencyBadge,xu.a.disabled)},v.currency),clearable:!0}))};function Lu(){return(Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Bu(e){let{onChange:t,...a}=e;return r.a.createElement(ur,a,e=>{let{field:{name:a,...n},form:{errors:l,touched:o,setFieldValue:s,setFieldTouched:i},meta:{initialValue:c}}=e;return r.a.createElement(Mu,Lu({},n,{name:a,errors:o[a]&&l[a],onChange:t||(e=>{s(a,e.target.value,!1),i(a,Tu(c||{})!==Tu(e.target.value),!1)})}))})}Mu.defaultProps={hideDiscount:!1};function Fu(e){let{isNew:t,product:a,children:l}=e;const o=Object(c.g)(),{generateUrl:s}=Object(Qe.a)(),{formik:i,isFetching:u,isRedirecting:d,hasExternalUrl:m,toggleLink:p,handleDelete:b}=(e=>{let{product:t,isNew:a,onSuccess:r}=e;const{api:l}=Object(de.a)(),{crm:o}=cl(),s=o.defaultCurrency,i=Object(n.useMemo)(()=>{var e,a;const n=(null===(e=t.externalButton)||void 0===e?void 0:e.url)||t.externalUrl||"";return{...t,price:t.price||{amount:null,discount:null,currency:s},externalButton:{title:(null===(a=t.externalButton)||void 0===a?void 0:a.title)||"",url:n},_cols:Object.values(t.cols||{}).map(e=>{let{collectionId:t}=e;return t})}},[t,s]),c=i._id,[u,d]=Ra()(!!i.externalButton.url),[m,p]=Object(n.useState)(!1),b=Object(n.useCallback)(async e=>{let{price:n,externalButton:o,_cols:s,...i}=e;const d={...Wr()(i,["name","description","website","slug","photos","published","notes"]),externalButton:u?o:{title:null,url:null},price:((null==n?void 0:n.amount)||0===(null==n?void 0:n.amount))&&n||null,cols:s.reduce((e,a)=>{var n,r;const l=null===(n=t.cols)||void 0===n||null===(r=n[a])||void 0===r?void 0:r.order;return e[a]=l?{collectionId:a,order:l}:{collectionId:a},e},{})};a?await l.products.create({payload:d}):await l.products.update({productId:c,payload:d}),p(!0),r({action:"submit"})},[c,u,t.cols]),[{loading:g},f]=iu()(async e=>{null==e||e.preventDefault();try{await l.products.delete({productId:c}),p(!0),r({action:"remove"})}catch(e){Object(vu.a)(e)}},[c]),h=Object($n.a)({initialValues:i,onSubmit:b});return{isNew:a,isRedirecting:m,isFetching:g||h.isSubmitting,defaultCurrency:s,hasExternalUrl:u,toggleLink:d,handleDelete:f,formik:h}})({product:a,isNew:t,onSuccess:Object(n.useCallback)(()=>setTimeout(()=>o.goBack(),100),[o])});return r.a.createElement(fa,{rule:"products:edit",subject:a,modal:!0,onClose:()=>o.push(s("..")),padding:!1},r.a.createElement(Gn.c,{value:i},r.a.createElement(jl,null,r.a.createElement(Gn.a,{autoComplete:"off"},l({...i,handleDelete:b,hasExternalUrl:m,toggleLink:p,isFetching:u,isRedirecting:d})))))}Fu.defaultProps={collectionId:null};var Ru=a("GLwx");const Au=["image/png","image/x-png","image/jpeg","image/webp"];var Uu=a("AYI7"),zu=a.n(Uu);function Du(){return(Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Wu=e=>{if("remBtn"===e.target.dataset.id)return!0},Vu=Object(Ko.b)(e=>{let{url:t,isMain:a,onRemove:l}=e;const o=Object(n.useCallback)(()=>l&&l(t),[t,l]);return r.a.createElement("li",{className:zu.a.imagePreview},r.a.createElement("div",{className:zu.a.imagePreviewContainer},r.a.createElement("img",{src:ao.a.generateProductThumbnailUrl(t),alt:"Photo"})),a&&r.a.createElement("div",{className:zu.a.mainImageIcon},r.a.createElement(Ru.d,{size:20,color:"#fff"})),l&&r.a.createElement("div",{className:zu.a.removePhotoBtn,onClick:o,"data-id":"remBtn"},r.a.createElement(R.U,{size:12})))}),qu=Object(Ko.a)(e=>{let{name:t,photos:a,accept:n,maxPhotos:l,onRemovePhoto:o,isUploading:s,isFetching:i,onPhotoChange:c}=e;const{t:u}=Object(m.useTranslation)("products");return r.a.createElement("ul",{className:zu.a.imagesList},a.map((e,t)=>r.a.createElement(Vu,{key:e,index:t,url:e,isMain:0===t,onRemove:o})),a.length<l&&r.a.createElement("li",{className:zu.a.imagePreview},r.a.createElement("div",{className:zu.a.addPhotoBtn},r.a.createElement("div",{className:zu.a.addPhotoBtnContent},s?r.a.createElement(an.a,null):r.a.createElement("div",{className:zu.a.addPhotoBtnPlus},r.a.createElement(R.m,{size:20}),u("labels.addPhotos"))),!s&&r.a.createElement("input",{className:zu.a.addPhotoBtnInput,type:"file",name:t,accept:n,disabled:i,multiple:!0,onChange:c}))))}),Hu=e=>{let{name:t,maxPhotos:a=6,...l}=e;const{getFieldMeta:o,setFieldValue:s,setFieldTouched:i,setFieldError:u,isSubmitting:d}=Object(Gn.f)(),{value:p}=o(t),{accept:b,isUploading:g,onSortEnd:f,onPhotoChange:h,onRemovePhoto:v}=(e=>{let{maxPhotos:t,onChange:a}=e;const{t:r}=Object(m.useTranslation)("products"),{api:l}=Object(de.a)(),{websiteSlug:o}=Object(c.i)(),s=Yr(o),[{loading:i},u]=iu()(async e=>{const{success:t,failed:a}=await l.products.uploadPhotos({payloads:e,websiteId:s._id});if(a.length)throw a.map(e=>{let{file:t,error:a}=e;return r("common:errorsList.upload_failed",{file:t,error:r(a)})}).join(". ");if(t.length)return t.map(e=>{let{result:t}=e;return t})}),d=Object(n.useCallback)(async e=>{let{target:{files:n}}=e;await a(async(e,a)=>{const l=e.length,o=n&&Array.from(n).filter(e=>{let{type:t}=e;return Au.includes(t)});if(!o||0===o.length)return;if(l+o.length>t)throw r("productEdit.errors.invalid_photos_count");a&&a();const s=await u(o);return s?[...new Set(e.concat(s))]:void 0})},[t,a]),p=Object(n.useCallback)(e=>a(t=>t.filter(t=>t!==e)),[a]),b=Object(n.useCallback)(e=>{let{oldIndex:t,newIndex:n}=e;t!==n&&a(e=>$o()(e,t,n))},[a]);return{accept:Au,isUploading:i,onPhotoChange:d,onRemovePhoto:p,onSortEnd:b}})({maxPhotos:a,onChange:Object(n.useCallback)(async e=>{try{i(t,!0);const a=await e(p,()=>u(t,"")),n=a&&!Rr()(p,a);i(t,!!n),n&&s(t,a)}catch(e){setTimeout(()=>u(t,"string"==typeof e?e:e.message),100)}},[t,p])});return r.a.createElement(ur,Du({builderInput:!0,name:t},l),r.a.createElement("div",{className:zu.a.imageUploadContainer},r.a.createElement("div",{className:zu.a.imagesBlock},p&&r.a.createElement(qu,{photos:p,accept:b,maxPhotos:a,isUploading:g,isFetching:d,onPhotoChange:h,onRemovePhoto:v,onSortEnd:f,axis:"xy",helperClass:zu.a.sortable,shouldCancelStart:Wu}))))};var Gu=a("/0JN"),$u=a.n(Gu);const Ku=e=>{let{active:t}=e;const{t:a}=Object(m.useTranslation)("products");return r.a.createElement("div",{className:$u.a.publishedLabel},r.a.createElement("span",{className:O()($u.a.publishedDot,t&&$u.a.green)}),r.a.createElement("span",null,a(t?"productEdit.fields.active":"productEdit.fields.inactive")))};function Zu(e){let{productId:t,collectionId:a}=e;const{t:l}=Object(m.useTranslation)("products"),{modal:o,isSpecific:s}=cl(),{defaultCollection:i,product:c,collections:u,isNew:d,isLoading:p}=((e,t)=>{const{api:a}=Object(de.a)(),{specifier:r,crm:l,isSpecific:o}=cl(),{items:s}=Kl(r),{collections:i,collectionId:c}=Gl(r,e=>e.default),[u,d]=Object(n.useState)(()=>{const a=s.find(t=>{let{_id:a}=t;return a===e});if(a)return a;const n={[c]:{collectionId:c}};return{published:!0,name:"",slug:"",description:"",website:null,photos:[],price:{amount:null,discount:null,currency:l.defaultCurrency},externalButton:{title:"",url:""},cols:t?{...n,[t]:{collectionId:t}}:n,...r}}),m=!e,p=!m&&!u._id,b=Object(n.useCallback)(async()=>{try{d(await a.products.retrieve({productId:e}))}catch(e){}},[e]);return Object(n.useEffect)(()=>{p&&b()},[p,b]),Object(n.useEffect)(()=>{if(e){const t=s.find(t=>{let{_id:a}=t;return a===e});d(t||(e=>({...e,_id:null})))}},[e]),{defaultCollection:c,product:u,collections:i,isNew:m,isLoading:p,isSpecific:o}})(t,a),b=Object(n.useMemo)(()=>[i,...a?[a]:[]],[i,a]),g=Re("product_external_link");return Object(pl.a)(),p?r.a.createElement(an.a,null):r.a.createElement(Fu,{key:c._id,product:c,isNew:d},e=>{let{values:t,dirty:a,isFetching:n,isRedirecting:i,setFieldValue:c,handleDelete:m,hasExternalUrl:p,toggleLink:f}=e;return r.a.createElement(Bl,{modal:o,preferDynamicBack:!0,editing:!0,guardChanges:!i,title:l(d?"productEdit.headerTitle":"productEdit.headerEditTitle"),rightButton:r.a.createElement(fr,{nopadding:!0,btnStyle:"transparent"},l(d?"ui:labels.save":"ui:labels.apply"))},r.a.createElement(Bl.Section,{top:!0},r.a.createElement(Hu,{builderInput:!0,name:"photos",required:!0}),r.a.createElement(Xi,{builderInput:!0,name:"name",required:!0,label:l("productEdit.fields.title.label"),placeholder:l("productEdit.fields.title.placeholder"),maxLength:100}),r.a.createElement(Bu,{builderInput:!0,name:"price",label:l("productEdit.fields.price"),disabledCurrency:!0}),r.a.createElement(pr,{builderInput:!0,name:"description",label:l("productEdit.fields.description.label"),placeholder:l("productEdit.fields.description.placeholder"),maxLength:4e3}),r.a.createElement(pr,{builderInput:!0,name:"notes",label:l("productEdit.fields.notes"),maxLength:4e3})),r.a.createElement(Bl.Section,null,r.a.createElement(Zc,{builderInput:!0,name:"_cols",label:l("productEdit.fields.collections.label"),placeholder:l("productEdit.fields.collections.placeholder"),toggleLabel:l("productEdit.fields.collections.add"),disabled:n||!s,fixed:b,collections:u.items})),(p||g)&&r.a.createElement(Bl.Section,null,r.a.createElement(Ri,{builderInput:!0,name:"_hasExternalButton",label:l("productEdit.fields.url.label"),value:p,required:p,onChange:f}),p&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Xi,{builderInput:!0,name:"externalButton.url",placeholder:l("productEdit.fields.url.placeholder"),maxLength:800,clearable:!0,onBlur:()=>{var e;c("externalButton.url",wu(null===(e=t.externalButton)||void 0===e?void 0:e.url))}}),r.a.createElement(Xi,{builderInput:!0,name:"externalButton.title",label:l("productEdit.fields.url.title.label"),placeholder:l("productEdit.fields.url.title.placeholder"),maxLength:50,clearable:!0}))),r.a.createElement(Bl.Section,null,r.a.createElement(Ri,{builderInput:!0,name:"published",label:r.a.createElement(Ku,{active:t.published})}),!d&&r.a.createElement(ke.a,{fullWidth:!0,type:"button",btnStyle:"danger",disabled:n||a,style:{marginTop:32},onClick:m},l("ui:button.remove"))))})}var Ju=a("70+s"),Yu=a("MI/4"),Qu=a("Z0z+"),Xu=a("Z2/Z"),ed=a("d5aQ"),td=a("zXFk");const ad={stripe:bl.M,paypal:bl.B,wayforpay:bl.z,robokassa:()=>"RK",liqpay:R.r,cod:R.hb,transfer:ed.b,other:td.e},nd=Il.bind(null);nd.propTypes=Il.propTypes,nd.defaultProps={...Il.defaultProps,editing:!1};var rd=a("VDJN"),ld=a.n(rd);function od(){return(od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function sd(){return(sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function id(e){let{tag:t,label:a,subLabel:n,labelIcon:l,labelColor:o,iconColor:s,rightIcon:i,previewType:c,preview:u,restrict:d,disabled:m,className:p,onClick:b,noOnClick:g,asterisksRestrictMode:f,cleanRestrictMode:h,...v}=e;const{rule:y,subject:E,iconOnly:j}=d||{},{warning:k,handleBlockedEvent:w}=Qn(y,E),C=h?null:f&&k?i:k?r.a.createElement(fl,{plan:k.target}):i;return r.a.createElement(t,sd({className:O()({[ld.a.root]:!0,[ld.a.disabled]:m,[p]:!!p})},g?{}:{onClick:!j&&w||b},v),l&&r.a.createElement("div",{className:O()({[ld.a.icon]:!0,[ld.a.large]:!!n})},r.a.createElement(l,{size:n?22:18,color:s})),r.a.createElement("div",{className:O()({[ld.a.box]:!0,[ld.a.withSubLabel]:!!n})},r.a.createElement("div",{className:ld.a.label,style:{color:o}},r.a.createElement("div",{className:ld.a.title,style:{color:o}},a,f&&k?" *":""),n&&r.a.createElement("div",{className:ld.a.subTitle},n)),u&&r.a.createElement("div",{className:ld.a.preview,style:{paddingRight:"image"===c?0:6}},"text"===c&&u,"image"===c&&r.a.createElement("div",{className:ld.a.imageBox},r.a.createElement("img",{src:u,alt:"preview"}))),C))}id.List=function(e){return r.a.createElement("ul",Object(_a.a)(ld.a.list,e),r.a.Children.map(e.children,e=>e&&r.a.createElement("li",null,e)))},id.ACLItem=e=>{let{item:t,generateUrl:a}=e;const{handleBlockedEvent:n,warning:l}=Qn(t.restrictRule);return r.a.createElement(id,od({tag:Me.b,to:"string"==typeof t.to&&(null==a?void 0:a(t.to))||t.to,labelIcon:t.icon,label:t.label,preview:null!=l&&l.target?r.a.createElement(fl,{plan:l.target}):t.preview,disabled:!(!l||l.target),draggable:!1,labelColor:t.labelColor,restrict:t.restrict&&t.restrict(t)},t.restrictAllowClick?{}:{onClick:n}))},id.defaultProps={tag:"div",previewType:"text",preview:"",className:"",rightIcon:null,labelColor:"#333",iconColor:"#333",subLabel:"",restrict:null,onClick:null,noOnClick:!1,disabled:!1,asterisksRestrictMode:!1};const cd=e=>{let{title:t,menuFactory:a,onClose:l}=e;const{generateUrl:o}=Object(Qe.a)(),s=Object(n.useMemo)(()=>a(),[a]),i=l||o("..");return Object(pl.a)(),r.a.createElement(nd,{title:t,onClose:i},r.a.createElement(id.List,null,s.filter(e=>!1!==e.filter).map(e=>r.a.createElement(id.ACLItem,{key:e.label,item:e,generateUrl:o}))))},ud={email:R.N,telegram:Ju.d,webhook:Qu.a},dd=e=>{const t=["email","telegram","webhook"].filter(t=>e[t]);if(t.length)return r.a.createElement("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"}},t.map(e=>{const t=ud[e];return r.a.createElement(t,{key:e,size:16})}))},md=e=>e.length?r.a.createElement("div",{style:{display:"flex",flexWrap:"nowrap",alignItems:"center",justifyContent:"right"}},e.map((e,t)=>{const a=ad[e];return r.a.createElement(a,{key:t,size:16,style:{display:"block",marginLeft:4}})})):null,pd=e=>{const t=So.options.find(t=>e===t.value);return r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center"}},t.symbol||e," - ",e)};function bd(){const{t:e}=Object(m.useTranslation)("products"),{router:t,specifier:a,crm:l}=cl(),{items:o}=Fc(a),s=Ei(l),i=!!o.length,c=Object(n.useCallback)(()=>(e=>{let{t:t,router:a,hasImportable:n,crm:l,notifications:o}=e;return[{to:a.settings.toCurrency(),label:t("SettingsMenu.items.currency"),icon:R.x,preview:pd(l.defaultCurrency)||t("ui:labels.no")},{to:a.settings.toMessengers(),label:t("SettingsMenu.items.messengers"),icon:R.O,preview:(s=l.contacts.messengers.map(e=>{let{platform:t}=e;return t}),(s.length?r.a.createElement("div",{style:{display:"flex",flexWrap:"nowrap",alignItems:"center",justifyContent:"right"}},s.map((e,t)=>{const a=Xu.b[e];return r.a.createElement(a,{key:t,size:16,style:{display:"block",marginLeft:4}})})):null)||t("ui:labels.no"))},{to:"form",icon:R.s,label:t("SettingsMenu.items.form"),restrictRule:"payments:edit"},{to:a.settings.toPayments(),label:t("SettingsMenu.items.payments"),icon:R.w,restrictRule:"payments:edit",restrictAllowClick:!0,preview:md(Object.keys(l.payments).filter(e=>l.payments[e].enabled))||t("ui:labels.off")},{to:a.settings.toNotifications(),label:t("SettingsMenu.items.notifications"),icon:R.j,restrictRule:"payments:edit",preview:dd(o)||t("ui:labels.no")},{to:a.settings.toOnboarding(!0),label:t("SettingsMenu.items.onboard"),icon:Yu.a},{to:a.settings.toImport(),label:t("SettingsMenu.items.import"),icon:eo.c,filter:n}];var s})({t:e,router:t,hasImportable:i,crm:l,notifications:s}),[s,e,t,i,l]);return r.a.createElement(cd,{title:e("SettingsMenu.header"),menuFactory:c})}const gd=[{provider:"cod",icon:R.hb},{provider:"paypal",icon:bl.B},{provider:"stripe",icon:bl.M},{provider:"wayforpay",icon:bl.z},{provider:"liqpay",icon:R.r},{provider:"other",icon:bl.z}];function fd(){const{t:e}=Object(m.useTranslation)("products"),{generateUrl:t}=Object(Qe.a)(),{crm:a}=cl(),n=Re("payments_other");return r.a.createElement(nd,{title:e("SettingsMenu.items.paymentProviders.heading"),onClose:t("..")},r.a.createElement(id.List,null,gd.map(l=>{var o;let{provider:s,icon:i}=l;const c=!(null===(o=a.payments[s])||void 0===o||!o.enabled);return"other"!==s||c||n?r.a.createElement(id,{key:s,tag:Me.b,to:t(s),label:e("SettingsMenu.items.paymentProviders."+s),labelIcon:i,preview:e(c?"ui:labels.on":"ui:labels.off")}):null})))}function hd(){return(hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function vd(){const{router:e,crm:t,modal:a}=cl(),{pathname:l,state:o}=Object(c.h)(),s=Object(n.useMemo)(()=>null==o?void 0:o.blockUrl,[]),i=Object(n.useMemo)(()=>{return[{path:""+(t=e.toHome()),component:jo},{path:t+"/settings",component:bd},{path:t+"/settings/currency",component:Ho},{path:t+"/settings/messengers",component:yi},{path:t+"/settings/notifications",component:Ui},{path:t+"/settings/form",component:Di},{path:t+"/settings/onboard/:fromStart?",component:vc},{path:t+"/settings/payments",component:fd},{path:t+"/settings/payments/:provider",component:Tc},{path:t+"/settings/import",component:Xc},{path:t+"/collections",component:ou},{path:t+"/collections/new",component:yu},{path:t+"/collections/:collectionId([a-f\\d]{24})",component:ju},{path:t+"/collections/:collectionId([a-f\\d]{24})/new",component:Zu},{path:t+"/collections/:collectionId([a-f\\d]{24})/product/edit/:productId",component:Zu},{path:t+"/collections/:collectionId/edit",component:yu},{path:t+"/new/:collectionId?",component:Zu},{path:t+"/edit/:productId",component:Zu}];var t},[e.toHome()]),u=!!Object(c.f)(l,e.settings.toOnboarding()),d=e=>{let{component:t,props:a,...n}=e;const o=Object(c.f)(l,n);return o&&r.a.createElement(t,hd({key:n.path},o.params,a))};return(e=>{const{setEntry:t}=cl();ll()(()=>t(e)),nl()(()=>t())})(s),t.onBoarding&&!u?r.a.createElement(c.a,{to:e.settings.toOnboarding()}):a?r.a.createElement(qt.a,null,i.map(d)):r.a.createElement(c.d,null,i.map(e=>{let{component:t,props:a,...n}=e;return r.a.createElement(c.b,hd({key:n.path,exact:!0,render:e=>{let{match:{params:n}}=e;return r.a.createElement(t,hd({},a,n))}},n))}))}var yd=a("O6/N");const Ed=async e=>a("GSBN")(`./${e}/userwebsite.json`),Od=()=>function(e){const{i18n:t}=Object(m.useTranslation)(),[a,r]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{!async function(){try{const a=await e(t.language);to.b.extend(a.default||a)}finally{r(!0)}}()},[t.language]),{isLoaded:a,i18n:t}}(Ed);var jd=a("eSoL"),kd=a("aEcQ"),wd=a("c2re"),Cd=a.n(wd),_d=a("hB6H");function Pd(e){let{base:t,websiteId:a,children:l,modal:o}=e;const s=Object(_d.a)(),i=ye(),c=Jr(a),u=Object(n.useRef)(),d=c?c.crm:i.crm,m=Object(n.useMemo)(()=>xe()(Cd()(ol.a),d),[d]),p=Object(n.useMemo)(()=>{u.current=null;const e={back:t,path:t+"/products",specifier:{website:a},isSpecific:!!a,crm:m,get router(){return u.current||(u.current=sl(e))},setEntry(a){var n;const r=null===(n=u.current)||void 0===n?void 0:n.toEntry();if(a){if(a===r)return;u.current=sl({...e,back:a,isBackOverriddenBack:!0})}else{if(!r||t===r)return;u.current=sl(e)}s()},modal:o};return e},[t,a,m,o]);return r.a.createElement(il.Provider,{value:p},l)}Pd.defaultProps={base:"",websiteId:null,crm:{},modal:!0};const xd=e=>{let{website:t,page:a,base:l,children:o}=e;const s=Object(n.useMemo)(()=>{var e,t;return(null===(e=a.blocks)||void 0===e||null===(t=e.find(e=>"Messengers"===e.kind))||void 0===t?void 0:t.messengers)||null},[a.blocks]);return r.a.createElement(jd.a.Provider,{value:t},r.a.createElement(kd.a.Provider,{value:a},r.a.createElement(Pd,{base:l,websiteId:t._id},r.a.createElement(Do.Provider,{value:s},o))))};var Sd=a("83lN"),Nd=a.n(Sd);function Id(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;const[,t]=Nd()(),[a,r]=Object(n.useState)(!1),l=Object(n.useRef)();Object(n.useEffect)(()=>()=>{l.current&&clearTimeout(l.current)},[]);const o=Object(n.useCallback)(a=>{t(a),r(!0),l.current=setTimeout(()=>r(!1),e)},[e]);return{isCopied:a,copyText:o}}var Td=a("kxXC"),Md=a.n(Td);function Ld(){return(Ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Bd=function(e){let{url:t,textToCopy:a,...n}=e;const{t:l}=Object(m.useTranslation)("landings"),{websiteSlug:o}=Object(c.i)(),s=Yr(o),{page:i}=Xr(s),{isCopied:u,copyText:d}=Id(),p=i.enabled;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",Ld({className:O()({[Md.a.root]:!0,[Md.a.notPublished]:!p})},n),r.a.createElement("a",{onClick:e=>{s.enabled||e.preventDefault()},href:t,target:"_blank",rel:"noopener noreferrer",className:Md.a.personalLink},p?Object(fs.a)(t):l("Website.View.Home.not_published")),a&&s.enabled&&r.a.createElement("div",{style:{pointerEvents:u?"none":"auto"},className:O()({[Md.a.copyButton]:!0,[Md.a.copied]:u}),onClick:()=>d(a)},r.a.createElement(R.v,{size:20}),r.a.createElement(R.n,{size:20}))))};function Fd(){return(Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Rd=n.createElement("path",{d:"M2 16v4a2 2 0 002 2h4M2 8V4a2 2 0 012-2h4m14 6V4a2 2 0 00-2-2h-4m6 14v4a2 2 0 01-2 2h-4M6 6h4v4H6V6zM14 6h4v4h-4V6zM6 14h4v4H6v-4zM18 14h-4v4M18 18h.01",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"});var Ad=function(e){return n.createElement("svg",Fd({viewBox:"0 0 24 24",fill:"none"},e),Rd)},Ud=a("+Lhc"),zd=a.n(Ud);function Dd(){return(Dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Wd=e=>({scale:[1,1.2,1],transition:{ease:"easeInOut",delay:e,duration:1,times:[0,.3,.6]}});var Vd=function(e){let{textToCopy:t,sharePageTo:a,qrPageTo:n,embedTo:l,website:o,...s}=e;const{i18n:i,t:u}=Object(m.useTranslation)("ui"),{generateUrl:d}=Object(Qe.a)({useMatchUrl:!0}),p=Object(c.g)(),{isCopied:b,copyText:g}=Id(),f=o.enabled,h=p.location&&p.location.state&&"publishedMessage"===p.location.state.from,v=e=>{e.preventDefault(),p.push(d("not-published"))};return r.a.createElement(qt.b.div,Dd({className:zd.a.root},s,{animate:h?{opacity:[0,1],height:[0,80],transition:{ease:"easeInOut",duration:.6,times:[0,.6],opacity:{delay:.3}}}:{}}),t&&r.a.createElement(qt.b.div,{className:O()({[zd.a.navItemWrapper]:!0,[zd.a.en]:"en"===i.language}),animate:h?Wd(.9):{},"data-button":"btn-share-copy-link"},r.a.createElement("div",{style:{pointerEvents:b?"none":"auto"},className:O()({[zd.a.navItem]:!0,[zd.a.en]:"en"===i.language,[zd.a.copied]:b}),onClick:f?()=>g(t):v},r.a.createElement("div",{className:zd.a.navItemIcon},r.a.createElement(R.v,{size:22}),r.a.createElement(R.n,{size:22})),r.a.createElement("span",{className:zd.a.navItemLabel},u(b?"labels.copied":"labels.copyLink")))),n&&r.a.createElement(qt.b.div,{className:O()({[zd.a.navItemWrapper]:!0,[zd.a.en]:"en"===i.language}),animate:h?Wd(1.2):{},"data-button":"btn-share-qr"},r.a.createElement(Me.b,{className:O()({[zd.a.navItem]:!0,[zd.a.en]:"en"===i.language}),to:n,onClick:f?null:v},r.a.createElement("div",{className:zd.a.navItemIcon},r.a.createElement(Ad,{style:{width:24,height:24}})),r.a.createElement("span",{className:zd.a.navItemLabel},u("labels.qrCode")))),a&&r.a.createElement(qt.b.div,{className:O()({[zd.a.navItemWrapper]:!0,[zd.a.en]:"en"===i.language}),animate:h?Wd(1.5):{},"data-button":"btn-open-share-page"},r.a.createElement(Me.b,{className:O()({[zd.a.navItem]:!0,[zd.a.en]:"en"===i.language}),to:a,onClick:f?null:v},r.a.createElement("div",{className:zd.a.navItemIcon},r.a.createElement(R.Y,{size:22,color:"#333"})),r.a.createElement("span",{className:zd.a.navItemLabel},u("labels.share")))),l&&r.a.createElement(qt.b.div,{className:O()({[zd.a.navItemWrapper]:!0,[zd.a.en]:"en"===i.language}),animate:h?Wd(1.8):{},"data-button":"btn-embed-code"},r.a.createElement(Me.b,{className:O()({[zd.a.navItem]:!0,[zd.a.en]:"en"===i.language}),to:l},r.a.createElement("div",{className:zd.a.navItemIcon},r.a.createElement(R.u,{style:{width:24,height:24}})),r.a.createElement("span",{className:zd.a.navItemLabel},u("labels.widget")))))},qd=a("vOyp"),Hd=a.n(qd);function Gd(e){let{heading:t,className:a,children:n}=e;const l=r.a.Children.toArray(n);return r.a.createElement("div",{className:O()(Hd.a.root,a)},t&&r.a.createElement("h2",{className:Hd.a.heading},t),r.a.createElement("ul",{className:Hd.a.list},l.map((e,t)=>r.a.createElement("li",{key:t},e))))}function $d(){return($d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Kd=n.createElement("path",{fill:"currentColor",d:"M5.6 7L.3 12.3c-.4.4-.4 1 0 1.4.4.4 1 .4 1.4 0l6-6c.4-.4.4-1 0-1.4l-6-6C1.3-.1.7-.1.3.3s-.4 1 0 1.4L5.6 7z"});var Zd=function(e){return n.createElement("svg",$d({width:8,height:14},e),Kd)},Jd=a("7WsD"),Yd=a.n(Jd);function Qd(){return(Qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Xd(e){let{tag:t="a",themeStyles:a=Yd.a,className:n,chevron:l=!0,soon:o=!1,disabled:s=!1,icon:i,children:c,...u}=e;return r.a.createElement(t,Qd({className:O()(a.root,n,o&&a.soon,s&&a.disabled)},u),i&&r.a.createElement("span",{className:a.icon},r.a.createElement(i,{size:20})),r.a.createElement("span",{className:a.label},c),o?r.a.createElement("i",{className:a.badge},"Soon"):!0===l?r.a.createElement(Zd,{className:a.arrow}):r.a.createElement("div",{className:a.chevronData},l,r.a.createElement(Zd,{className:a.arrow})))}function em(){return(em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function tm(e){return r.a.createElement(Xd,em({tag:Me.c,activeClassName:Xd.styles.active},e))}Xd.styles=Yd.a;const am=e=>{const{api:t}=Object(de.a)(),[a,r]=Object(n.useState)({domain:"",state:"",dns_records:null});return Object(me.a)(async()=>{if(e.domain.name){const a=await t.websites.domain.get({websiteId:e._id});return r(a)}r({domain:"",state:""})},[e.domain.name]),{...a,isNew:"new"===a.state,isWaitingSSl:"wait_ssl"===a.state,isReady:"ready"===a.state,isEmpty:!a.state,DNSRecords:a.dns_records}};function nm(){return(nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function rm(e){var t,a;let{website:l,children:o,title:s,saveButtonTitle:i,backPath:c}=e;const{t:u}=Object(m.useTranslation)("landings"),{api:d}=Object(de.a)(),p=Object(n.useRef)(null),b=!l._id,g={name:(null==l||null===(t=l.domain)||void 0===t?void 0:t.name)||""},{handleBlockedEvent:f,hasWarning:h}=Qn("domain",l||g),v=Object(n.useCallback)(async e=>{await d.websites.domain.update({websiteId:l._id,payload:e})},[l._id]),{run:y,pending:E}=Object(Aa.a)(async()=>{var e;await d.websites.domain.delete({websiteId:l._id}),null===(e=p.current)||void 0===e||e.setValues({name:""})},[l._id]),O=Object($n.a)({initialValues:g,onSubmit:v});return p.current=O,Object(pl.a)(),r.a.createElement(Gn.c,{value:O},r.a.createElement(Il,{guardChanges:!h,onClose:c,title:s},r.a.createElement(Gn.a,{autoComplete:"off"},o({handleDelete:y,isDeleting:E,...O}),!(null!=l&&null!==(a=l.domain)&&void 0!==a&&a.name)&&r.a.createElement(fr,nm({fullWidth:!0,size:"standart",isInitialHidden:!1,disabled:O.isSubmitting||!O.dirty,style:{marginTop:16},isFetching:O.isSubmitting},f?{onClick:f}:{}),i||u(b?"labels.website.create":"ui:labels.apply")))))}rm.defaultProps={restrictRule:null,saveButtonTitle:null};var lm=a("zDYa"),om=a.n(lm);function sm(){return(sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var im=function(e){var t;let{...a}=e;const{t:n}=Object(m.useTranslation)("landings"),{generateUrl:l}=Object(Qe.a)(),{websiteSlug:o}=Object(c.i)(),s=Yr(o),i=null==s||null===(t=s.domain)||void 0===t?void 0:t.name,{isNew:u,isReady:d,isWaitingSSl:p,DNSRecords:b}=am(s),g=p||d?`http${d?"s":""}://${i}`:"";return r.a.createElement(rm,sm({title:n("Website.Edit.Domain.heading"),website:s,backPath:l(".."),saveButtonTitle:n("Website.Edit.Domain.buttons.connect")},a),e=>{var t,a,l;let{isSubmitting:o,handleDelete:s,isDeleting:c}=e;return r.a.createElement(r.a.Fragment,null,!i&&r.a.createElement(ui,null,r.a.createElement("p",null,n("Website.Edit.Domain.tips.empty.messages.1")),r.a.createElement("p",{style:{margin:0},dangerouslySetInnerHTML:{__html:n("Website.Edit.Domain.tips.empty.messages.2")}})),u&&i&&r.a.createElement("div",null,r.a.createElement(ui,{title:n("Website.Edit.Domain.tips.new.title"),className:om.a.fieldTip},r.a.createElement("p",null,n("Website.Edit.Domain.tips.new.messages.1")),r.a.createElement("ol",{className:om.a.list},r.a.createElement("li",{style:{marginBottom:6}},n("Website.Edit.Domain.tips.new.messages.list.1")),r.a.createElement("li",{style:{marginBottom:6}},n("Website.Edit.Domain.tips.new.messages.list.2")),r.a.createElement("li",{style:{marginBottom:6},dangerouslySetInnerHTML:{__html:n("Website.Edit.Domain.tips.new.messages.list.3",{host:null==b||null===(t=b[1])||void 0===t?void 0:t.host,cname:null==b||null===(a=b[1])||void 0===a?void 0:a.value})}}),r.a.createElement("li",{dangerouslySetInnerHTML:{__html:n("Website.Edit.Domain.tips.new.messages.list.4",{host:null==b||null===(l=b[1])||void 0===l?void 0:l.host})}})),r.a.createElement("p",{style:{margin:0}},n("Website.Edit.Domain.tips.new.messages.ps")),r.a.createElement("p",{style:{margin:"12px 0 0 0"}},r.a.createElement("a",{href:"https://mssg.me/faq-next#q3-3",target:"_blank",rel:"noopener noreferrer"},n("Website.Edit.Domain.tips.new.messages.faq"))))),p&&r.a.createElement(ui,{title:n("Website.Edit.Domain.tips.waitingSSL.title")},n("Website.Edit.Domain.tips.waitingSSL.messages.1")),d&&r.a.createElement(ui,{title:n("Website.Edit.Domain.tips.ready.title")},n("Website.Edit.Domain.tips.ready.messages.1")),!i&&r.a.createElement(Xi,{label:n("Website.Edit.Domain.form.domainName.label"),style:{marginTop:16},builderInput:!0,name:"name",placeholder:n("Website.fields.domain.name.placeholder"),maxLength:50,autoCapitalize:"off",disabled:u||p}),i&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:om.a.statusContainer},r.a.createElement("span",{className:om.a.label},n("Website.Edit.Domain.form.domainName.label")),r.a.createElement("div",{className:om.a.status},r.a.createElement("div",{className:om.a.domain},g&&r.a.createElement("a",{href:g,target:"_blank",rel:"noopener noreferrer"},i),!g&&r.a.createElement("span",null,i)),r.a.createElement("div",{className:om.a.statusMark},r.a.createElement("div",{className:O()({[om.a.mark]:!0,[om.a.waitingSSL]:p,[om.a.ready]:d}),title:u?"Resolving domain...":d?"Domain connected":p?"Generating SSL...":null})))),r.a.createElement(ke.a,{fullWidth:!0,tag:"div",btnStyle:"danger",isFetching:c||o,onClick:s,style:{marginTop:16}},n("Website.Edit.Domain.buttons.remove"))))})};function cm(){return(cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const um={enabled:!1,name:"",slug:"",seo:{faviconUrl:null,ogImageUrl:null,title:"",description:""},tracking:{facebook:"",google:"",yandex:"",tiktok:""},branding:!0,embeddedCode:{content:"",onLoad:!1,inHead:!1,fit:!0}};function dm(e){let{website:t,templateId:a,children:l,title:o,restrictRule:s,backPath:i,successRedirectPath:u,initialData:d,saveButtonTitle:p,noGuardChanges:b,initialEnabledSubmitButton:g,hint:f,...h}=e;const{t:v}=Object(m.useTranslation)("landings"),{api:y}=Object(de.a)(),E=Object(c.g)(),O=!t._id,j=xe()(um,Qr(t),d),[k,w]=Ra()(!1),{handleBlockedEvent:C,hasWarning:_}=Qn(s,t||j),P=Object(n.useCallback)(async e=>{let n=u||i;if(O){const t=await y.websites.create({payload:e});n={pathname:`/pages/-/${t._id}/edit`,state:{templateId:a}}}else await y.websites.update({websiteId:t._id,payload:e});w(!0),"function"==typeof n?n():setTimeout(()=>E.push(n),200)},[t,a,i,u]);return Object(pl.a)(),r.a.createElement(Kn,cm({initialValues:j,onSubmit:P},h),e=>r.a.createElement(Il,{guardChanges:!b&&!(k||_),onClose:i,title:o},r.a.createElement(Gn.a,{autoComplete:"off"},l(e),r.a.createElement(fr,cm({fullWidth:!0,size:"standart",isInitialHidden:!1,disabled:k||e.isSubmitting||!g&&!e.dirty,style:{marginTop:16},isFetching:e.isSubmitting},C?{onClick:C}:{}),p||v(O?"labels.website.create":"ui:labels.apply")),f)))}dm.defaultProps={templateId:null,restrictRule:null,successRedirectPath:null,initialData:null,saveButtonTitle:null,noGuardChanges:!1,initialEnabledSubmitButton:!1};var mm=a("JrDk");const pm=e=>{const t=ye();return Object(n.useMemo)(()=>{if(!e)return!1;let a=!1;const n={workspace:t},r=e=>{a=!("upgrade"!==(null==e?void 0:e.code)||!e.target)&&e};return e.theme&&Ft("page-themes:edit",n,e.theme,r),!a&&e.blocks.length&&Rt("page-blocks-publish",n,e.blocks,r),{warning:a,upgrade:a&&a.target||!1}},[t,null==e?void 0:e.blocks,null==e?void 0:e.theme])};function bm(){return(bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const gm=(e,t,a)=>{const l=Object(c.g)(),o=Object(c.h)(),{path:s}=Object(c.j)(),{generateUrl:i}=Object(Qe.a)({useMatchUrl:!0}),{api:u}=Object(de.a)(),{upgrade:d}=pm({blocks:t.blocks}),{warning:m}=Qn("page-extended-gallery",e),[p,b]=Ra()(!1),g="/pages/-/"+e._id,f={pathname:i((null==a?void 0:a.published)||"."),state:{from:"publishedMessage"}},h=Object(n.useMemo)(()=>m&&e.uploads.filter(t=>!Object(mm.d)(t,e)).length,[m,e]),v=Object(n.useCallback)(()=>{b(!1)},[]),y=Object(n.useCallback)(()=>{b(!1),l.push(f)},[f]);return{isFinishing:p,...Object(Aa.a)(async()=>{if(t.blocks.length){if(d)return l.push(i("has-advanced-blocks"));await u.websites.update({websiteId:e._id,payload:{...Qr(e),enabled:!0,scaffold:!1}}),y()}else l.push(g+"/not-published/no-blocks")},[e,t,g,y,d]),successPath:f,handleClose:v,handleSuccess:y,canPublish:!d,unusedAssets:h,routePath:s,match:(e,t)=>{const a=Object(c.f)(o.pathname,e);return a&&r.a.createElement(t,bm({key:e.path},a.params))}}};var fm=a("lecG"),hm=a.n(fm);function vm(){return(vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const ym=e=>{var t;let{routes:a,website:n,page:o,...s}=e;const{t:i}=Object(m.useTranslation)("landings"),{pending:c,run:u,isFinishing:d,handleClose:p,handleSuccess:b,routePath:g,match:f,unusedAssets:h}=gm(n,o,a),{generateUrl:v}=Object(Qe.a)(),y=null===(t=n.domain)||void 0===t?void 0:t.name;return r.a.createElement(r.a.Fragment,null,!n.enabled&&r.a.createElement(ke.a,vm({onClick:u,isFetching:c},s)),Object(l.createPortal)(r.a.createElement(qt.a,null,d&&r.a.createElement(dm,{website:n,initialData:{scaffold:!1,enabled:!0},title:i("Website.Edit.PublishButton.heading"),backPath:p,successRedirectPath:b,saveButtonTitle:i("Website.Edit.PublishButton.applyButton"),noGuardChanges:!0,initialEnabledSubmitButton:!0,hint:!!h&&r.a.createElement("div",{className:hm.a.unusedPhotosHint},i("Website.Edit.PublishButton.unused",{count:h}))},()=>r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{margin:"0 0 20px 0",textAlign:"center"}},r.a.createElement("p",{style:{margin:0}},i("Website.Edit.PublishButton.fieldTip"))),r.a.createElement(Xi,{builderInput:!0,name:"slug",beforeInput:i("common:label.host"),label:i("Website.fields.slug.publishLabel"),placeholder:i("Website.fields.slug.placeholder"),maxLength:50,autoCapitalize:"off",controlProps:{style:{textTransform:"lowercase"}}}),r.a.createElement("div",{className:hm.a.domainPreview},r.a.createElement("span",{className:hm.a.label},i("Website.Edit.PublishButton.domain.label")),r.a.createElement("div",{className:hm.a.preview},r.a.createElement("div",{className:hm.a.value},r.a.createElement("span",{className:O()({[hm.a.empty]:!y})},y||"www.example.com")),r.a.createElement("div",{className:hm.a.after},r.a.createElement(Me.b,{to:v("domain")},i(y?"Website.Edit.PublishButton.domain.buttons.change":"Website.Edit.PublishButton.domain.buttons.connect"))))))),d&&f({path:g+"/domain",exact:!0},im)),document.getElementById("mainRoot")))};var Em=a("CEBz"),Om=a.n(Em);const jm=["new","processing"],km=e=>{let{websiteId:t,short:a}=e;const{t:l}=Object(m.useTranslation)("landings"),{api:o}=Object(de.a)(),{value:s,loading:i}=ot()(async()=>o.feedbacks.count({query:{types:jm},websiteId:t}),[t]),{counts:c,hasItems:u}=Object(n.useMemo)(()=>{const e=jm.reduce((e,t)=>(e[t]=s&&s[t]||0,e),{});return{counts:e,hasItems:!(!e.new&&!e.processing)}});return u?r.a.createElement(Fn,{badgeStyle:"flat",className:Om.a.badge},i?r.a.createElement(Wa.a,{inline:!0,color:"#eee"}):jm.map(e=>!!c[e]&&r.a.createElement("span",{key:e,className:O()(Om.a.count,Om.a[e])},a?c[e]:l("labels.feedback.counts."+e,{count:c[e]})))):null};var wm=a("kT0o"),Cm=a.n(wm);const _m={Porn:"Porn/Adult Dating site",Casino:"Casino promotions etc.",Misdirective:"Missdirective links, probably to hide illegal content",Illegal:"Illegal content","User request":"By user request",DMCA:"Copyright violation","ToS/Other":"Other ToS violations"},Pm=e=>{let{moderation:{blocked:t,pending:a,reason:n}}=e;const{t:l}=Object(m.useTranslation)("landings"),o=n&&(_m[n]||n);return r.a.createElement("div",{className:Cm.a.root},t&&r.a.createElement("div",{className:Cm.a.heading},l("BanBanner.heading")),o&&r.a.createElement("div",{className:Cm.a.reason},r.a.createElement("span",{className:Cm.a.reasonHeading},l("BanBanner.reasonHeading")),r.a.createElement("span",{className:Cm.a.reasonText},o)),r.a.createElement("div",{className:Cm.a.appeal},l("BanBanner.appeal")," ",r.a.createElement(Me.b,{to:"/s/support"},l("BanBanner.link")),"."),a&&r.a.createElement("div",{className:Cm.a.pending},l("BanBanner.pending")))},xm=(e,t)=>({_id:"",homePageId:(null==e?void 0:e._id)||null,workspace:"",slug:"",finalUrl:"",collections:[],uploads:[],theme:{},seo:{},crm:ol.a,name:(null==e?void 0:e.name)||"",pages:e?[e]:[],...t}),Sm=r.a.createContext({websiteId:null,pageId:null,blockId:null}),Nm=()=>Object(n.useContext)(Sm);var Im=a("dWF5"),Tm=a("c1qN"),Mm=a.n(Tm);function Lm(){const{t:e}=Object(m.useTranslation)("landings"),{generateUrl:t}=Object(Qe.a)(),{websiteSlug:a}=Object(c.i)(),l=Yr(a),{page:o}=Xr(l),{isWaitingSSl:s,isReady:i}=am(l),[u,{height:d}]=ea()(),p=s||i?`http${i?"s":""}://${l.domain.name}`:o.absoluteUrl,b=t(".."),g=Object(n.useMemo)(()=>d/(193/343),[d]);return r.a.createElement(nd,{fullHeight:!0,onClose:b,sheetPaneProps:{style:{backgroundColor:"#f7f7fa"}}},r.a.createElement("div",{className:Mm.a.root},r.a.createElement("div",{className:Mm.a.intro},r.a.createElement("h1",{className:Mm.a.title},e("Editor.SharePublished.heading")),r.a.createElement("p",{className:Mm.a.subHeading},e("Editor.SharePublished.subHeading"))),r.a.createElement("div",{className:Mm.a.pageContainer,ref:u},r.a.createElement("div",{className:Mm.a.pageWrapper,style:{transform:`scale(${193/343})`,borderRadius:20/(193/343)}},r.a.createElement(Im.a,{website:l,page:o,embedded:!0,style:{height:g}}),r.a.createElement("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:Mm.a.pageWrapperLink}))),r.a.createElement("div",{className:Mm.a.userLink},r.a.createElement("div",{className:Mm.a.status}),r.a.createElement("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:Mm.a.link},Object(fs.a)(p)),r.a.createElement(Me.b,{to:t("name"),className:Mm.a.editBtn},r.a.createElement(R.z,{size:22}))),r.a.createElement("div",{className:Mm.a.actions},r.a.createElement("ul",{className:Mm.a.list},r.a.createElement("li",null,r.a.createElement(Me.b,{to:t("share"),className:Mm.a.button},r.a.createElement("div",{className:Mm.a.circle},r.a.createElement(R.X,{size:24})),r.a.createElement("span",{className:Mm.a.title},e("Editor.SharePublished.nav.share")))),r.a.createElement("li",null,r.a.createElement(Me.b,{to:t("bio"),className:Mm.a.button},r.a.createElement("div",{className:Mm.a.circle},r.a.createElement("div",{className:Mm.a.iconsSlider},r.a.createElement("div",{className:O()(Mm.a.icon)},r.a.createElement(R.J,{size:24})),r.a.createElement("div",{className:O()(Mm.a.icon)},r.a.createElement(Ju.e,{size:24})))),r.a.createElement("span",{className:Mm.a.title},e("Editor.SharePublished.nav.bio")))),r.a.createElement("li",null,r.a.createElement("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:Mm.a.button},r.a.createElement("div",{className:Mm.a.circle},r.a.createElement(R.A,{size:24})),r.a.createElement("span",{className:Mm.a.title},e("Editor.SharePublished.nav.view"))))))))}Lm.defaultProps={title:"Editor.ShareNew.heading"};var Bm=a("80Pf"),Fm=a("3PMf"),Rm=a.n(Fm);function Am(e){let{title:t,isPublishedShare:a}=e;const{t:n}=Object(m.useTranslation)("landings"),{generateUrl:l}=Object(Qe.a)(),{websiteSlug:o}=Object(c.i)(),s=Yr(o),{page:i}=Xr(s),{isCopied:u,copyText:d}=Id(2500),{isWaitingSSl:p,isReady:b}=am(s),g=Object(Bm.b)(),f=p||b?`http${b?"s":""}://${s.domain.name}`:i.absoluteUrl,h=l("..");return r.a.createElement(nd,{fullHeight:a,title:n(t),onClose:h},r.a.createElement("div",{className:Rm.a.root},r.a.createElement("div",{className:Rm.a.intro},a&&r.a.createElement("h1",{className:Rm.a.title},n("Editor.ShareNew.publishedHeading")),r.a.createElement("p",{className:Rm.a.subHeading,style:{marginTop:a?10:30}},n(a?"Editor.ShareNew.publishedSubHeading":"Editor.ShareNew.shareSubHeading")),r.a.createElement("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:Rm.a.link},Object(fs.a)(f))),r.a.createElement("ul",{className:Rm.a.list},r.a.createElement("li",null,r.a.createElement(Me.b,{to:{pathname:l("socials/instagram"),state:{backPath:"../.."}},"data-button":"btn-share-instagram"},n("Editor.ShareNew.labels.addToInstagram"),r.a.createElement("div",{className:Rm.a.icon},r.a.createElement(R.J,{size:24})))),r.a.createElement("li",null,r.a.createElement(Me.b,{to:{pathname:l("socials/tiktok"),state:{backPath:"../.."}},"data-button":"btn-share-tiktok"},n("Editor.ShareNew.labels.addToTikTok"),r.a.createElement("div",{className:Rm.a.icon},r.a.createElement(Ju.e,{size:24})))),r.a.createElement("li",null,r.a.createElement("div",{onClick:()=>d(f),className:O()({[Rm.a.copyLink]:!0,[Rm.a.copied]:u}),"data-button":"btn-share-copy-link"},r.a.createElement("span",{className:Rm.a.primaryText},n("Editor.ShareNew.labels.copyLink")),r.a.createElement("span",{className:Rm.a.notificationText},n("Editor.ShareNew.labels.copied")),r.a.createElement("div",{className:Rm.a.icon},r.a.createElement(R.v,{size:24})),r.a.createElement("div",{className:O()(Rm.a.icon,Rm.a.hidden)},r.a.createElement(R.n,{size:24})))),r.a.createElement("li",null,r.a.createElement(Me.b,{to:l("socials"),onClick:async e=>{if("share"in navigator&&g){e.preventDefault();try{await navigator.share({url:f})}catch(e){if(!e.message.includes("AbortError"))throw e}}},"data-button":"btn-share"},n("Editor.ShareNew.labels.share"),r.a.createElement("div",{className:Rm.a.icon},r.a.createElement(R.Y,{size:24})))),r.a.createElement("li",null,r.a.createElement(Me.b,{to:l("qr"),"data-button":"btn-share-qr"},n("Editor.ShareNew.labels.qr"),r.a.createElement("div",{className:Rm.a.icon},r.a.createElement(Ad,{style:{display:"block",width:24,height:24}})))),r.a.createElement("li",null,r.a.createElement(Me.b,{to:l("embed"),"data-button":"btn-share-widget"},n("Editor.ShareNew.labels.widget"),r.a.createElement("div",{className:Rm.a.icon},r.a.createElement(R.u,{size:24})))))))}function Um(){const{t:e}=Object(m.useTranslation)("landings"),{generateUrl:t}=Object(Qe.a)(),{websiteSlug:a}=Object(c.i)(),{website:n,page:l}=Xr(Yr(a)),o=t("..");return r.a.createElement(nd,{title:e("Editor.NotPublishedMessage.heading"),onClose:o},r.a.createElement("p",{style:{margin:0,color:"#777",textAlign:"center"}},e("Editor.NotPublishedMessage.message")),r.a.createElement(ym,{fullWidth:!0,style:{marginTop:16},website:n,page:l},e("Editor.NotPublishedMessage.publish")))}function zm(){const{t:e}=Object(m.useTranslation)("landings"),{generateUrl:t}=Object(Qe.a)(),{websiteSlug:a}=Object(c.i)(),n=t("../..");return r.a.createElement(nd,{title:e("Editor.NoBlocksMessage.heading"),onClose:n},r.a.createElement("p",{style:{margin:0,color:"#777",textAlign:"center"}},e("Editor.NoBlocksMessage.message")),r.a.createElement(ke.a,{fullWidth:!0,tag:Me.b,to:t(`/pages/-/${a}/edit`),style:{marginTop:16}},e("Editor.NoBlocksMessage.addBlock")))}Am.defaultProps={title:"Editor.ShareNew.heading",isPublishedShare:!1};var Dm=a("h/fj"),Wm=a("jrjp"),Vm=a.n(Wm);function qm(){const{t:e}=Object(m.useTranslation)("landings"),{generateUrl:t}=Object(Qe.a)(),a=t(".."),l=ye(),{websiteSlug:o}=Object(c.i)(),{page:s}=Xr(Yr(o)),i=tt(),u=Object(n.useMemo)(()=>s.blocks.map(e=>{try{At("page-blocks-publish",{workspace:l},e)}catch(t){return e}}).filter(Boolean),[s.blocks,l]),d=Object(n.useMemo)(()=>Object(Dm.flow)(Object(Dm.groupBy)()("kind"),Object(Dm.map)(e=>({...Object(Dm.head)(e),qty:e.length})))(u),[u]);return r.a.createElement(nd,{title:e("Editor.HasAdvancedBlocksMessage.header"),onClose:a},r.a.createElement("ul",{className:Vm.a.blocksList},d.map((t,a)=>r.a.createElement("li",{key:a},r.a.createElement("span",null,e("labels.block.kinds."+t.kind)),r.a.createElement("span",null,`x${t.qty} `)))),r.a.createElement("p",{className:Vm.a.p,dangerouslySetInnerHTML:{__html:e("Editor.HasAdvancedBlocksMessage.message")}}),r.a.createElement(ke.a,{fullWidth:!0,tag:Me.b,to:i,style:{marginTop:20,fontSize:16},"data-button":"advanced-blocks-upgrade"},e("Editor.HasAdvancedBlocksMessage.button")))}var Hm=a("1UfL"),Gm=a.n(Hm);function $m(e){var t;let{backPath:a}=e;const{t:n}=Object(m.useTranslation)("landings"),{generateUrl:l}=Object(Qe.a)(),{websiteSlug:o}=Object(c.i)(),{website:s}=Xr(Yr(o)),i=null===(t=s.domain)||void 0===t?void 0:t.name,u=l(a);return r.a.createElement(dm,{website:s,title:n("Editor.EditWebsiteName.title"),backPath:u,successRedirectPath:u,saveButtonTitle:n("Editor.EditWebsiteName.save"),noGuardChanges:!0,initialEnabledSubmitButton:!0},()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(Xi,{builderInput:!0,name:"slug",beforeInput:n("common:label.host"),label:n("Website.fields.slug.publishLabel"),placeholder:n("Website.fields.slug.placeholder"),maxLength:50,autoCapitalize:"off",controlProps:{style:{textTransform:"lowercase"}}}),r.a.createElement("div",{className:Gm.a.domainPreview},r.a.createElement("span",{className:Gm.a.label},n("Editor.EditWebsiteName.domain.label")),r.a.createElement("div",{className:Gm.a.preview},r.a.createElement("div",{className:Gm.a.value},r.a.createElement("span",{className:O()({[Gm.a.empty]:!i})},i||"www.example.com")),r.a.createElement("div",{className:Gm.a.after},r.a.createElement(Me.b,{to:l("domain")},n(i?"Editor.EditWebsiteName.domain.buttons.change":"Editor.EditWebsiteName.domain.buttons.connect")))))))}$m.defaultProps={backPath:".."};var Km=a("S1dg"),Zm=a.n(Km);function Jm(){const{t:e}=Object(m.useTranslation)("landings"),{generateUrl:t}=Object(Qe.a)(),{websiteSlug:a}=Object(c.i)(),{websiteId:n,pageId:l}=Xr(Yr(a)),{isCopied:o,copyText:s}=Id(),i=t(".."),u=`<script src="${je.a.main_url}/widget/${n}/${l}" async><\/script>`;return r.a.createElement(nd,{title:e("Website.View.Embed.heading"),onClose:i},r.a.createElement(ui,{style:{whiteSpace:"pre-wrap",fontSize:14,marginBottom:16}},e("Website.View.Embed.tip")),r.a.createElement("span",{className:Zm.a.label},e("Website.View.Embed.codeLabel")),r.a.createElement("div",{className:Zm.a.code},u),r.a.createElement(ke.a,{style:{pointerEvents:o?"none":"auto"},btnStyle:o?"success":"primary",fullWidth:!0,onClick:()=>s(u)},e(o?"Website.View.Embed.copied":"Website.View.Embed.copyCode")))}var Ym=a("H+F+"),Qm=a.n(Ym),Xm=a("OHEV"),ep=a.n(Xm),tp=a("t9yd"),ap=a.n(tp);function np(e){var t,a;let{backPath:l}=e;const{t:o}=Object(m.useTranslation)("landings"),{generateUrl:s}=Object(Qe.a)(),{websiteSlug:i}=Object(c.i)(),u=Yr(i),{page:d}=Xr(u),{isWaitingSSl:p,isReady:b}=am(u),[g,f]=Object(n.useState)(null),h=Object(c.g)(),v=null==h||null===(t=h.location)||void 0===t||null===(a=t.state)||void 0===a?void 0:a.backPath,y=p||b?`http${b?"s":""}://${u.domain.name}`:d.absoluteUrl,E=s(v||l);return Qm()(async()=>{const e=await ep.a.toDataURL(y,{width:1e3});f(e)},1e3),r.a.createElement(nd,{title:o("Editor.ShareQr.heading"),onClose:E},g&&r.a.createElement("p",{className:ap.a.tip},o("Editor.ShareQr.tip")),r.a.createElement("div",{className:ap.a.qrWrapper},!g&&r.a.createElement("div",{className:ap.a.spinnerContainer},r.a.createElement(an.a,null)),g&&r.a.createElement("img",{className:ap.a.qr,src:g,alt:"QR-code"})),g&&r.a.createElement(ke.a,{className:ap.a.button,tag:"a",href:g,download:"my_simpl_qr.png",fullWidth:!0},o("Editor.ShareQr.downloadQr")))}np.defaultProps={backPath:".."};var rp=a("KXD0"),lp=a("+fnw"),op=a("szO6"),sp=a("m07B"),ip=a("Bsc6"),cp=a("oPd3"),up=a("GpKR"),dp=a("4tHN"),mp=a.n(dp);function pp(e){let{backPath:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{generateUrl:n}=Object(Qe.a)(),{websiteSlug:l}=Object(c.i)(),o=Yr(l),{isWaitingSSl:s,isReady:i}=am(o),{page:u}=Xr(o),d=s||i?`http${i?"s":""}://${o.domain.name}`:u.absoluteUrl,p=n(t);return r.a.createElement(nd,{title:a("Editor.ShareSocial.heading"),onClose:p},r.a.createElement("div",null,r.a.createElement(Me.b,{to:n("instagram"),className:mp.a.buttonContainer,"data-button":"btn-share-socials-instagram"},r.a.createElement("div",{className:mp.a.button,style:{backgroundImage:"linear-gradient(45deg, #405de6, #5851db, #833ab4, #c13584, #e1306c, #fd1d1d)"}},r.a.createElement("div",{className:mp.a.icon},r.a.createElement(R.J,{size:20})),r.a.createElement("div",{className:mp.a.label},"Instagram"))),r.a.createElement(Me.b,{to:n("tiktok"),className:mp.a.buttonContainer,"data-button":"btn-share-socials-tiktok"},r.a.createElement("div",{className:mp.a.button,style:{backgroundImage:"linear-gradient(45deg, #000, #666)"}},r.a.createElement("div",{className:mp.a.icon},r.a.createElement(Ju.e,{size:20})),r.a.createElement("div",{className:mp.a.label},"TikTok"))),r.a.createElement(rp.a,{url:d,className:mp.a.buttonContainer,"data-button":"btn-share-socials-facebook"},r.a.createElement("div",{className:mp.a.button,style:{backgroundColor:"rgb(59, 89, 152)"}},r.a.createElement("div",{className:mp.a.icon},r.a.createElement(R.C,{size:20})),r.a.createElement("div",{className:mp.a.label},"Facebook"))),r.a.createElement(lp.a,{url:d,className:mp.a.buttonContainer,"data-button":"btn-share-socials-vkontakte"},r.a.createElement("div",{className:mp.a.button,style:{backgroundColor:"rgb(69, 102, 142)"}},r.a.createElement("div",{className:mp.a.icon},r.a.createElement(bl.U,{size:19})),r.a.createElement("div",{className:mp.a.label},"Vkontakte"))),r.a.createElement(op.a,{url:d,className:mp.a.buttonContainer,"data-button":"btn-share-socials-twitter"},r.a.createElement("div",{className:mp.a.button,style:{backgroundColor:"#00aced"}},r.a.createElement("div",{className:mp.a.icon},r.a.createElement(R.ib,{size:19})),r.a.createElement("div",{className:mp.a.label},"Twitter"))),r.a.createElement(sp.a,{url:d,className:mp.a.buttonContainer,"data-button":"btn-share-socials-whatsapp"},r.a.createElement("div",{className:mp.a.button,style:{backgroundColor:"#25D366"}},r.a.createElement("div",{className:mp.a.icon},r.a.createElement(bl.V,{size:20})),r.a.createElement("div",{className:mp.a.label},"WhatsApp"))),r.a.createElement(ip.a,{url:d,className:mp.a.buttonContainer,"data-button":"btn-share-socials-viber"},r.a.createElement("div",{className:mp.a.button,style:{backgroundColor:"#7360f2"}},r.a.createElement("div",{className:mp.a.icon},r.a.createElement(bl.S,{size:20})),r.a.createElement("div",{className:mp.a.label},"Viber"))),r.a.createElement(cp.a,{appId:je.a.facebook_app_id,url:d,className:mp.a.buttonContainer,"data-button":"btn-share-socials-messenger"},r.a.createElement("div",{className:mp.a.button,style:{backgroundColor:"#0078FF"}},r.a.createElement("div",{className:mp.a.icon},r.a.createElement(bl.j,{size:20})),r.a.createElement("div",{className:mp.a.label},"Messenger"))),r.a.createElement(up.a,{url:d,className:mp.a.buttonContainer,"data-button":"btn-share-socials-telegram"},r.a.createElement("div",{className:mp.a.button,style:{backgroundColor:"#0088cc"}},r.a.createElement("div",{className:mp.a.icon},r.a.createElement(bl.N,{size:20})),r.a.createElement("div",{className:mp.a.label},"Telegram")))))}pp.defaultProps={backPath:".."};var bp=a("yJzA"),gp=a.n(bp);function fp(e){let{backPath:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{generateUrl:n}=Object(Qe.a)(),l=n(t);return r.a.createElement(nd,{title:a("Editor.SocialsShareBio.title"),onClose:l},r.a.createElement("div",null,r.a.createElement(Me.b,{to:n("instagram"),className:gp.a.buttonContainer,"data-button":"btn-share-socials-instagram"},r.a.createElement("div",{className:gp.a.button,style:{backgroundImage:"linear-gradient(45deg, #405de6, #5851db, #833ab4, #c13584, #e1306c, #fd1d1d)"}},r.a.createElement("div",{className:gp.a.icon},r.a.createElement(R.J,{size:20})),r.a.createElement("div",{className:gp.a.label},a("Editor.SocialsShareBio.title")," Instagram"))),r.a.createElement(Me.b,{to:n("tiktok"),className:gp.a.buttonContainer,"data-button":"btn-share-socials-tiktok"},r.a.createElement("div",{className:gp.a.button,style:{backgroundImage:"linear-gradient(45deg, #000, #666)"}},r.a.createElement("div",{className:gp.a.icon},r.a.createElement(Ju.e,{size:20})),r.a.createElement("div",{className:gp.a.label},a("Editor.SocialsShareBio.title")," TikTok")))))}fp.defaultProps={backPath:".."};var hp=a("ctgp");function vp(){return(vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function yp(e){let{tag:t,href:a,classes:l,share:o,onCopy:s,...i}=e;const{t:c}=Object(m.useTranslation)("ui"),{isCopied:u,copyText:d}=Id(),p=Object(Bm.b)(),b=o&&"share"in navigator&&p,g=Object(n.useCallback)(e=>{e.preventDefault(),b?navigator.share({url:a}):(d(a),s&&s(e))},[b,a,s]);return"a"===t&&(i.href=a),r.a.createElement(r.a.Fragment,null,r.a.createElement(t,vp({"data-success":c("labels.copied")},Object(_a.a)([l.tag,{[l.copied]:u}],i)),Object(hp.a)(a)),r.a.createElement("span",{onClick:g,"data-button":"user-link-copy-button"},c(b?"labels.share":"labels.copy")))}yp.defaultProps={tag:"i",classes:{},share:!1};var Ep=a("Hp5t"),Op=a.n(Ep),jp=a("2CZK"),kp=a.n(jp);function wp(e){var t,a;let{backPath:n}=e;const{t:l}=Object(m.useTranslation)("landings"),{generateUrl:o}=Object(Qe.a)(),{websiteSlug:s}=Object(c.i)(),i=Object(c.g)(),u=null==i||null===(t=i.location)||void 0===t||null===(a=t.state)||void 0===a?void 0:a.backPath,d=Yr(s),{page:{absoluteUrl:p}}=Xr(d),{isWaitingSSl:b,isReady:g}=am(d),f=b||g?`http${g?"s":""}://${d.domain.name}`:p,h=o(u||n);return r.a.createElement(nd,{title:l("Editor.InstagramShareNew.title"),onClose:h},r.a.createElement("div",{className:kp.a.content},r.a.createElement("ol",null,r.a.createElement("li",{dangerouslySetInnerHTML:{__html:l("Editor.InstagramShareNew.steps.1")}})),r.a.createElement("div",{className:kp.a.userLink},r.a.createElement(yp,{href:f,classes:{copied:kp.a.copied}})),r.a.createElement("ol",{start:"2"},r.a.createElement("li",{dangerouslySetInnerHTML:{__html:l("Editor.InstagramShareNew.steps.2")}}),r.a.createElement("li",{dangerouslySetInnerHTML:{__html:l("Editor.InstagramShareNew.steps.3")}})),r.a.createElement("img",{className:kp.a.tipImg,src:Op.a,alt:"Tip"}),r.a.createElement(ke.a,{fullWidth:!0,tag:"div",btnStyle:"transparent",style:{fontSize:16,marginBottom:16},onClick:()=>window.open("https://www.instagram.com/","_blank")},l("Editor.InstagramShareNew.openInstagram"))))}wp.defaultProps={backPath:".."};var Cp=a("ERHk"),_p=a.n(Cp),Pp=a("esXH"),xp=a.n(Pp);function Sp(e){var t,a;let{backPath:n}=e;const{t:l}=Object(m.useTranslation)("landings"),{generateUrl:o}=Object(Qe.a)(),{websiteSlug:s}=Object(c.i)(),i=Object(c.g)(),u=null==i||null===(t=i.location)||void 0===t||null===(a=t.state)||void 0===a?void 0:a.backPath,d=Yr(s),{page:{absoluteUrl:p}}=Xr(d),{isWaitingSSl:b,isReady:g}=am(d),f=b||g?`http${g?"s":""}://${d.domain.name}`:p,h=o(u||n);return r.a.createElement(nd,{title:l("Editor.TikTokShare.title"),onClose:h},r.a.createElement("div",{className:xp.a.content},r.a.createElement("ol",null,r.a.createElement("li",{dangerouslySetInnerHTML:{__html:l("Editor.TikTokShare.steps.1")}})),r.a.createElement("div",{className:xp.a.userLink},r.a.createElement(yp,{href:f,classes:{copied:xp.a.copied}})),r.a.createElement("ol",{start:"2"},r.a.createElement("li",{dangerouslySetInnerHTML:{__html:l("Editor.TikTokShare.steps.2")}}),r.a.createElement("li",{dangerouslySetInnerHTML:{__html:l("Editor.TikTokShare.steps.3")}})),r.a.createElement("img",{className:xp.a.tipImg,src:_p.a,alt:"Tip"}),r.a.createElement(ke.a,{fullWidth:!0,tag:"div",btnStyle:"transparent",style:{fontSize:16,marginBottom:16},onClick:()=>window.open("https://www.tiktok.com/","_blank")},l("Editor.TikTokShare.openTikTok"))))}Sp.defaultProps={backPath:".."};const Np={filter:e=>!(e.match(/^absolute.*Url$/i)||["_id","id","redirectUrl","createdAt","updatedAt"].includes(e)),arrays:["items","messengers","images","videos"],doc:e=>"link"===e},Ip=e=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Np;const t=a=>{if(!a)return a;const n=Array.isArray(a)?[]:{};for(const[o,s]of Object.entries(a)){var r,l;null!==(r=e.filter)&&void 0!==r&&r.call(e,o,s)&&(e.arrays&&Array.isArray(s)&&e.arrays.includes(o)?n[o]=s.map(t):s&&null!==(l=e.doc)&&void 0!==l&&l.call(e,o,s)?n[o]=t(s):n[o]=s)}return n};return t}(e?{...Np,filter:t=>!e.includes(t)&&Np.filter(t)}:Np);var Tp=a("GmWt"),Mp=a("2srY"),Lp=a.n(Mp),Bp=a("dB7f"),Fp=a("sjmd"),Rp=a.n(Fp);function Ap(e){let{accept:t,name:a,onChange:l,onDelete:o,preview:s,previewUrl:i,isUploading:c,innerLabel:u,removable:d,actions:p,style:b}=e;const{t:g}=Object(m.useTranslation)("ui"),f=Object(n.useCallback)(()=>l(null,{}),[l]);return r.a.createElement("div",{className:Rp.a.root,style:b},s||r.a.createElement(Bp.a,{url:i}),r.a.createElement("div",{className:Rp.a.label},u),r.a.createElement("div",{className:Rp.a.actions},r.a.createElement("div",{className:Rp.a.button,style:{pointerEvents:c?"none":"auto"}},r.a.createElement("div",{style:{opacity:c?0:1}},r.a.createElement("span",null,g(i?"labels.change":"labels.upload")),r.a.createElement("input",{type:"file",className:Rp.a.fileInput,accept:t,name:a,onChange:l})),c&&r.a.createElement("div",{className:Rp.a.spinner},r.a.createElement(an.a,{color:"white",size:14}))),p,(i&&d||"force"===d)&&r.a.createElement("div",{className:O()(Rp.a.button,Rp.a.remove),onClick:o||f},r.a.createElement(R.gb,{size:14}))))}function Up(){return(Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}Ap.defaultProps={className:"",accept:"image/png,image/x-png,image/jpeg",isUploading:!1,previewUrl:null,innerLabel:"Image",removable:!1,preview:null,actions:null,onDelete:null};const zp=e=>{let{name:t,upload:a,onChange:n}=e;return Object(Aa.a)(async(e,r)=>{const l=Lp()(e,"target.files.0");l?n(await a({payload:l,field:t})):r&&n(r)})};function Dp(e){let{as:t,upload:a,name:l,previewName:o,onChange:s,children:i,...c}=e;const{setFieldError:u,setFieldValue:d,setFieldTouched:m,getFieldMeta:p}=Object(Gn.f)(),{error:b}=p(l),{run:g,pending:f,getValidationError:h}=zp({name:l,upload:a,onChange:Object(n.useCallback)(e=>{s?s(e):(d(l,e.filename||""),o&&d(o,e.url||""),m(l,!0,!1))},[l,o,s])}),v=h(l)||b;return Object(n.useEffect)(()=>{v&&v!==b&&(u(l,v),m(l,!0,!1))},[v,b]),r.a.createElement(ur,Up({name:l},c),e=>{let{field:a}=e;return r.a.createElement(t,Up({},a,{isUploading:f,preview:"function"==typeof i?i({isFetching:f}):i,onChange:g}))})}Dp.defaultProps={as:Ap};var Wp=a("UoMw"),Vp=a.n(Wp),qp=a("1DrK"),Hp=a.n(qp);const Gp=["#e67e22","#2ecc71","#3498db","#8e44ad","#e74c3c","#1abc9c","#2c3e50"];function $p(e){let{className:t,name:a,src:n,size:l,fontSize:o}=e;o||(o=Math.round(.3888*l));const s=a.split(" ").slice(0,2).join(" ");return r.a.createElement(Vp.a,{className:O()(Hp.a.root,t),style:{fontSize:o},size:l,name:s,src:n,title:a,colors:Gp})}$p.defaultProps={size:36};var Kp=a("mevy"),Zp=a.n(Kp);function Jp(e){let{className:t,preview:a,help:l,name:o,blob:s,disabled:i,onChange:c,onRemove:u}=e;Object(n.useEffect)(()=>{c&&c({target:{name:o,files:s?[s]:[]}})},[c,o,s]);const d=r.a.Children.only(a),m=d&&r.a.cloneElement(d,{...d.props,className:O()(d.props.className,Zp.a.preview)});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:O()(Zp.a.root,t)},m,r.a.createElement("div",null,!!l&&r.a.createElement("div",{className:Zp.a.help},l)),u&&r.a.createElement("div",{className:O()(Zp.a.closeBtn,i&&Zp.a.disabled),onClick:u},r.a.createElement(eo.b,{size:22,color:"#fff"}))))}Jp.defaultProps={blob:null,hasError:!1,previewComponent:$p};var Yp=a("hh9v"),Qp=a.n(Yp),Xp=a("KUx3"),eb=a.n(Xp);function tb(e){let{id:t,placeholder:a,value:n,onChange:l,onBlur:o}=e;return r.a.createElement(Qp.a,{className:eb.a.react,tagProps:{className:eb.a.tag,classNameRemove:eb.a.tagRemove},inputProps:{className:eb.a.input,id:t,placeholder:a,onBlur:o},value:n,addOnBlur:!0,addOnPaste:!0,onlyUnique:!0,onChange:e=>l(e)})}function ab(){return(ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function nb(e){let{onChange:t,...a}=e;return r.a.createElement(ur,a,e=>{let{field:{name:a,...n},form:{setFieldValue:l,setFieldTouched:o},meta:{initialValue:s}}=e;return r.a.createElement(tb,ab({name:a},n,{onChange:e=>{const n=!Object(Uc.a)(s,e,{ordered:!0});l(a,n?e:s),o(a,n,n),t&&t(a,e)}}))})}tb.defaultProps={placeholder:"+ Add tag"};const rb=Object(Hi.d)({thumbnailUrl:Object(Hi.e)().ensure().trim().required("common:errorsList.invalid_url").max(800,"common:errorsList.url_length"),name:Object(Hi.e)().ensure().trim().required("common:errorsList.template_name_required").min(3,"common:errorsList.template_name_length").max(250,"common:errorsList.template_name_length")});function lb(){return(lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ob(e){let{template:t,children:a,title:l,backPath:o,successRedirectPath:s,...i}=e;const u=Object(c.g)(),{t:d}=Object(m.useTranslation)("landings"),{api:p}=Object(de.a)(),[b,g]=Ra()(!1),h=!t._id,v=xe()({public:!1,name:"",primaryTags:[],secondaryTags:[],blocks:[],uploads:[]},t),y=Object(n.useCallback)(e=>{g(!0),setTimeout(()=>u.push(e),100)},[u]),E=Object(n.useCallback)(async e=>{let a=s||o;if(h){a="/pages/templates/"+(await p.pageTemplates.create({payload:e}))._id}else await p.pageTemplates.update({templateId:t._id,payload:e});y(a)},[t._id,y]);return Object(pl.a)(),r.a.createElement(Kn,lb({initialValues:v,onSubmit:E,validationSchema:rb},i),e=>r.a.createElement(Il,{guardChanges:!b,onClose:o,title:l},r.a.createElement(Gn.a,{autoComplete:"off"},Object(f.a)(a,e),r.a.createElement(fr,{fullWidth:!0,size:"standart",isInitialHidden:!1,disabled:b||!e.dirty||!e.isValid,style:{marginTop:16},isFetching:e.isSubmitting},d(h?"labels.template.create":"ui:labels.apply")))))}ob.defaultProps={backPath:"/templates",successRedirectPath:"/templates"};const sb=r.a.lazy(()=>Promise.all([a.e(17),a.e(14)]).then(a.bind(null,"4Inx")));function ib(){return(ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const cb=e=>{let{name:t,website:a,page:l,...o}=e;const s=t+"Url",{api:i}=Object(de.a)(),{getFieldMeta:c,setFieldValue:u,setFieldTouched:d,setFieldError:m}=Object(Gn.f)(),{value:p,error:b}=c(t),{value:g}=c(s),[f,h]=Object(n.useState)(),[v,y,E]=Object(Tp.a)(),O=Object(n.useCallback)(i.pageTemplates.uploadThumbnail),j=Object(n.useCallback)(e=>{let{path:a,url:n}=e;u(s,n),u(t,a),d(t)},[t]),k=Object(n.useCallback)(e=>{m(t,null==e?void 0:e.message),d(t,!!e,!1)},[t]);return r.a.createElement(Dp,ib({as:v?Ap:Jp,name:t,blob:v?null:f,disabled:!f,previewName:s,innerLabel:v?"( 750x1400 )":void 0,previewUrl:p,upload:O,removable:v,controlProps:{style:v?{padding:6,height:"unset"}:null},onChange:j,onRemove:v?void 0:y,onDelete:v?E:void 0},o),r.a.createElement(sb,{website:a,page:l,src:g,error:b,onChange:h,onError:k}))};function ub(){const{t:e}=Object(m.useTranslation)("landings"),{generateUrl:t}=Object(Qe.a)(),{websiteSlug:a}=Object(c.i)(),{website:l,page:o}=Xr(Yr(a)),s=Object(n.useMemo)(()=>({public:!1,name:"",primaryTags:[],secondaryTags:[],blocks:o.blocks.map(Ip()),uploads:l.uploads.filter(e=>Object(mm.c)(e,o)).map(Ip(["url"])),theme:o.theme})),i=Object(n.useMemo)(()=>({...l,branding:!1}),[l]);return r.a.createElement(ob,{title:e("Template.Edit.Create.heading"),template:s,backPath:t(".."),successRedirectPath:t("..")},r.a.createElement(cb,{name:"thumbnail",website:i,page:s}),r.a.createElement(Xi,{builderInput:!0,required:!0,name:"name",label:e("Template.fields.name.label"),placeholder:e("Template.fields.name.placeholder"),maxLength:250}),r.a.createElement(nb,{builderInput:!0,name:"primaryTags",label:e("Template.fields.tags.label"),placeholder:e("Template.fields.tags.placeholder")}))}const db={facebook:{label:"Facebook pixel ID"},google:{label:"Google PageAnalytics tracking ID"},yandex:{label:"Yandex Metrika tracking ID"},tiktok:{label:"TikTok tracking ID"}};var mb=function(e){let{platform:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{generateUrl:n}=Object(Qe.a)(),{websiteSlug:l}=Object(c.i)(),o=Yr(l);return r.a.createElement(dm,{website:o,title:a("labels.platform."+t),restrictRule:"page-tracking",backPath:n(".."),successRedirectPath:n("..")},()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(ui,{style:{marginBottom:16,whiteSpace:"pre-wrap"}},a(`Website.fields.tracking.${t}.fieldTip`)),r.a.createElement(Xi,{builderInput:!0,label:db[t].label,name:"tracking."+t,placeholder:a(`Website.fields.tracking.${t}.placeholder`)})))},pb=a("0MFu");var bb=function(){const{t:e}=Object(m.useTranslation)("landings"),{generateUrl:t}=Object(Qe.a)(),{websiteSlug:a}=Object(c.i)(),{api:n}=Object(de.a)(),{getMediaSizeUrl:l}=Object(pb.b)(),o=Yr(a);return r.a.createElement(dm,{title:e("Website.Edit.SEO.heading"),website:o,restrictRule:"page-seo",backPath:t(".."),successRedirectPath:t("..")},t=>{let{values:a,setFieldValue:s}=t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dp,{gallery:!1,removable:!0,name:"faviconUrl",innerLabel:"Favicon",previewUrl:l(a.seo.faviconUrl,pb.a.Icon,!0),upload:e=>n.websites.uploadFavicon({websiteId:o._id,...e}),onChange:e=>{let{path:t}=e;return s("seo.faviconUrl",t||null)}}),r.a.createElement(Dp,{removable:!0,name:"ogImageUrl",innerLabel:"Open Graph Image",previewUrl:l(a.seo.ogImageUrl,pb.a.Icon),upload:e=>n.websites.upload({websiteId:o._id,...e}),onChange:e=>{let{path:t}=e;return s("seo.ogImageUrl",t||null)}}),r.a.createElement(Xi,{builderInput:!0,label:e("Website.fields.seo.title.label"),name:"seo.title",placeholder:a.name,maxLength:80}),r.a.createElement(pr,{builderInput:!0,label:e("Website.fields.seo.description.label"),name:"seo.description",placeholder:e("Website.fields.seo.description.placeholder"),maxLength:200,maxRows:4}))})};var gb=function(){const{t:e}=Object(m.useTranslation)("landings"),{generateUrl:t}=Object(Qe.a)(),{websiteSlug:a}=Object(c.i)(),n=Yr(a);return r.a.createElement(dm,{title:e("Website.Edit.URL.heading"),website:n,backPath:t("..")},()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(Xi,{builderInput:!0,name:"slug",beforeInput:e("common:label.host"),placeholder:e("Website.fields.slug.placeholder"),maxLength:50,autoCapitalize:"off",controlProps:{style:{textTransform:"lowercase"}}})))};var fb=function(){const{t:e}=Object(m.useTranslation)("landings"),{generateUrl:t}=Object(Qe.a)(),{websiteSlug:a}=Object(c.i)(),n=Yr(a);return r.a.createElement(dm,{title:e("Website.Edit.Name.heading"),website:n,backPath:t("..")},()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(Xi,{builderInput:!0,name:"name",placeholder:e("Website.fields.name.placeholder"),maxLength:250})))};var hb=function(e){let{backPath:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{generateUrl:n}=Object(Qe.a)(),{websiteSlug:l}=Object(c.i)(),o=Yr(l);return r.a.createElement(dm,{title:a("Website.Edit.Embedded.heading"),website:o,restrictRule:"page-embedding",backPath:n(t||"..")},e=>{let{values:t,setFieldValue:n}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pr,{builderInput:!0,name:"embeddedCode.content",placeholder:a("Website.fields.embeddedCode.content.placeholder"),maxLength:1e4,minRows:6,maxRows:19,inputStyles:{whiteSpace:"pre"}}),r.a.createElement(Ri,{disabled:t.embeddedCode.onLoad,builderInput:!0,name:"embeddedCode.inHead",label:a("Website.fields.embeddedCode.inHead.label")}),r.a.createElement(ui,{tipId:"landings:Website.fields.embeddedCode.inHead.hint",style:{marginBottom:24}}),r.a.createElement(Ri,{builderInput:!0,name:"embeddedCode.onLoad",label:a("Website.fields.embeddedCode.onLoad.label"),onChange:e=>e&&n("embeddedCode.inHead",!1)}),r.a.createElement(ui,{tipId:"landings:Website.fields.embeddedCode.onLoad.hint"}))})};var vb=function(){const{t:e}=Object(m.useTranslation)("landings"),{generateUrl:t}=Object(Qe.a)(),{websiteSlug:a}=Object(c.i)(),n=Yr(a);return r.a.createElement(dm,{title:e("Website.Edit.Status.heading"),website:n,backPath:t(".."),successRedirectPath:t("..")},t=>{let{values:a,setFieldValue:n}=t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Mo.a,{value:a.enabled,options:[{label:e("Website.fields.enabled.published"),value:!0},{label:e("Website.fields.enabled.notPublished"),value:!1}],onChange:e=>n("enabled",e)}))})};var yb=function(){const{t:e}=Object(m.useTranslation)("landings"),{generateUrl:t}=Object(Qe.a)(),{websiteSlug:a}=Object(c.i)(),n=Yr(a);return r.a.createElement(dm,{title:e("Website.Edit.Branding.heading"),website:n,backPath:t(".."),successRedirectPath:t("..")},t=>{let{values:a,setFieldValue:n}=t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Mo.a,{value:a.branding,options:[{label:e("Website.fields.branding.enabled"),value:!0},{label:e("Website.fields.branding.disabled"),value:!1}],onChange:e=>n("branding",e)}))})};var Eb=function(){const e=Object(c.g)(),{t:t}=Object(m.useTranslation)("landings"),{api:a}=Object(de.a)(),{generateUrl:n}=Object(Qe.a)(),{websiteSlug:l}=Object(c.i)(),o=Yr(l),s=n(".."),{pending:i,run:u}=Object(Aa.a)(async()=>{await a.websites.delete({websiteId:o._id}),e.push("/pages")},[o._id,e]);return r.a.createElement(nd,{title:t("Website.Edit.Delete.heading"),onClose:s},r.a.createElement("p",{style:{margin:0,color:"#777",textAlign:"center"}},t("Website.Edit.Delete.fieldTip")),r.a.createElement(ke.a,{tag:Me.b,to:n(".."),fullWidth:!0,style:{marginTop:16},btnStyle:"secondary2"},t("labels.website.cancelDelete")),r.a.createElement(ke.a,{fullWidth:!0,onClick:u,style:{marginTop:10},btnStyle:"danger",isFetching:i},t("labels.website.delete")))},Ob=a("h++M"),jb=a.n(Ob),kb=a("I+dq");function wb(){return(wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Cb=n.createElement("path",{d:"M13.673 5.843c.216.537.365 1.098.444 1.673l-.033-.247c.081.615.081 1.24 0 1.855l.033-.247a7.002 7.002 0 01-.485 1.775l.093-.22a6.972 6.972 0 01-.88 1.506l.144-.187c-.367.475-.791.9-1.266 1.268l.188-.145c-.473.363-.99.665-1.538.897l.22-.093a7.006 7.006 0 01-1.75.476l.246-.033a7.05 7.05 0 01-1.853 0l.246.033a6.986 6.986 0 01-1.75-.476l.22.093a6.984 6.984 0 01-1.538-.897l.187.144a7.114 7.114 0 01-1.26-1.26l.145.188a6.982 6.982 0 01-.897-1.538l.093.22a7.006 7.006 0 01-.476-1.75l.033.246a7.048 7.048 0 010-1.853l-.033.247a6.985 6.985 0 01.476-1.751l-.093.22a6.983 6.983 0 01.897-1.538l-.145.187c.365-.47.79-.894 1.26-1.26l-.187.145c.473-.363.99-.665 1.54-.897l-.22.093a6.961 6.961 0 011.758-.476l-.247.033c.61-.08 1.227-.08 1.836 0l-.246-.033a7.058 7.058 0 011.782.485 19.656 19.656 0 00-.22-.092l.202.089c.105.068.22.103.344.109a.694.694 0 00.37-.017.947.947 0 00.553-.426c.113-.215.17-.476.093-.713-.07-.217-.21-.454-.426-.554C10.877.823 10.199.59 9.485.479 8.775.368 8.066.325 7.351.41c-.719.085-1.416.236-2.086.513-.365.15-.723.314-1.064.514-.352.207-.68.448-1 .704C2.095 3.023 1.279 4.227.788 5.55A7.82 7.82 0 00.36 7.525a7.793 7.793 0 00.09 2.023c.109.675.325 1.316.605 1.938.285.638.67 1.214 1.114 1.751.889 1.082 2.086 1.879 3.398 2.353a7.851 7.851 0 004 .315c1.362-.23 2.625-.863 3.68-1.743 1.13-.945 1.963-2.237 2.404-3.637a7.9 7.9 0 00.108-4.27 7.196 7.196 0 00-.297-.905.69.69 0 00-.165-.315.717.717 0 00-.259-.24.941.941 0 00-.713-.092c-.224.072-.441.211-.554.426-.113.206-.19.488-.098.714z",fill:"currentColor"}),_b=n.createElement("path",{d:"M18.058 16.783l-1.475-1.475-2.345-2.345-.532-.532a.952.952 0 00-.656-.27c-.228 0-.498.1-.656.27-.161.176-.281.408-.27.656a.973.973 0 00.27.656l1.475 1.475 2.346 2.345.531.532c.169.169.417.27.656.27.228 0 .499-.1.656-.27.161-.176.282-.407.27-.656a.966.966 0 00-.27-.656zM5.82 10.4c.42-.418.838-.837 1.257-1.256l1.999-1.999.456-.456h-1.31l.867.867 1.384 1.385.318.318a.94.94 0 001.31 0l.591-.59 1.422-1.422 1.719-1.72 1.484-1.483c.239-.24.484-.477.719-.72l.011-.01a.953.953 0 00.27-.656c0-.228-.1-.499-.27-.656-.176-.161-.408-.282-.656-.27a.973.973 0 00-.656.27l-.59.59-1.422 1.422-1.72 1.72-1.483 1.483c-.24.24-.484.477-.72.72l-.01.01h1.31l-.867-.867-1.385-1.384-.318-.318a.94.94 0 00-1.31 0L6.964 6.634l-2 1.999-.455.456a.953.953 0 00-.27.656c0 .228.1.498.27.655.176.162.407.282.656.271a.964.964 0 00.655-.27z",fill:"currentColor"}),Pb=n.createElement("path",{d:"M14.623 3.577H17.403l-.927-.927V5.43c0 .238.104.488.27.656a.936.936 0 00.656.27c.24-.01.488-.088.656-.27a.961.961 0 00.27-.656V3 2.65a.94.94 0 00-.926-.926h-2.779a.964.964 0 00-.656.27.936.936 0 00-.27.656c.01.24.089.488.27.656.182.165.406.27.656.27z",fill:"currentColor"});var xb=function(e){return n.createElement("svg",wb({viewBox:"0 0 19 19",fill:"none"},e),Cb,_b,Pb)};function Sb(){return(Sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Nb(){const{t:e}=Object(m.useTranslation)("landings"),{websiteSlug:t}=Object(c.i)(),{website:a,page:l}=Xr(Yr(t)),{canPublish:o}=gm(a,l),s=Fe(),i=Object(n.useCallback)(()=>(e=>{var t,a;let{t:n,page:l,website:o,canPublish:s,feature:i}=e;const c=Object.entries(o.tracking).filter(e=>!!e[1]).map(e=>jb()(e[0])),u=!o.scaffold;return[{to:o.enabled||l.blocks.length?"status":"no-blocks",label:n("Website.View.Settings.items.status"),icon:R.eb,preview:o.enabled?n("ui:labels.yes"):n("ui:labels.no"),filter:!o.scaffold&&s||o.enabled},{to:"name",label:n("Website.View.Settings.items.name"),icon:Jl.k,preview:o.name,filter:u},{to:"url",label:n("Website.View.Settings.items.slug"),icon:R.K,preview:`${Object(fs.a)(je.a.main_url)}/${o.slug}`,filter:u},{to:"domain",label:n("Website.View.Settings.items.domain"),icon:R.E,restrictRule:"domain",restrictAllowClick:!0,preview:(null==o||null===(t=o.domain)||void 0===t?void 0:t.name)||n("ui:labels.notSet"),filter:u},{to:"seo",label:n("Website.View.Settings.items.seo"),icon:function(){return r.a.createElement(xb,{style:{display:"block",width:18,height:18,color:"#333"}})},restrictRule:"page-seo:edit",restrictAllowClick:!0,preview:o.seo.title||o.seo.description?n("labels.changed"):n("labels.asDefault")},{to:"tracking",label:n("Website.View.Settings.items.tracking"),icon:ed.c,restrictRule:"page-tracking:edit",restrictAllowClick:!0,preview:c.length>0?c.join(", "):n("ui:labels.notSet")},{to:"embedded",label:n("Website.View.Settings.items.embedded"),icon:Jl.a,preview:null===(a=o.embeddedCode)||void 0===a?void 0:a.content,restrictRule:"page-embedding:edit",restrictAllowClick:!0},{to:"branding",label:n("Website.View.Settings.items.branding"),icon:function(e){return r.a.createElement(kb.a,Sb({},e,{style:{display:"block",width:16,position:"relative",left:1}}))},restrictRule:"page-branding:edit",preview:o.branding?n("ui:labels.on"):n("ui:labels.off")},{to:"template",label:n("Website.View.Settings.items.template"),icon:function(e){return r.a.createElement(R.v,Sb({},e,{style:{display:"block",width:19}}))},restrictRule:"page-templates:create",filter:!(!l.blocks.length||!i("templates"))},{to:"delete",label:n("labels.website.delete"),labelColor:"#dc5960",icon:function(e){return r.a.createElement(R.fb,Sb({},e,{color:"#dc5960"}))}}]})({t:e,website:a,page:l,canPublish:o,feature:s}),[e,a,l,o,s]);return r.a.createElement(cd,{title:e("Website.View.Settings.heading"),menuFactory:i})}function Ib(){const{t:e}=Object(m.useTranslation)("landings"),{websiteSlug:t}=Object(c.i)(),{tracking:a}=Yr(t),l=Object(n.useCallback)(()=>(e=>{let{t:t,tracking:a}=e;return[{to:"facebook",label:t("labels.platform.facebook"),icon:bl.i,preview:a.facebook||t("ui:labels.notSet")},{to:"google",label:t("labels.platform.google"),icon:bl.n,preview:a.google||t("ui:labels.notSet")},{to:"yandex",label:t("labels.platform.yandex"),icon:bl.W,preview:a.yandex||t("ui:labels.notSet")},{to:"tiktok",label:t("labels.platform.tiktok"),icon:Ju.e,preview:a.tiktok||t("ui:labels.notSet")}]})({t:e,tracking:a}),[e,a]);return r.a.createElement(cd,{title:e("Feedback.View.Settings.heading"),menuFactory:l})}var Tb=a("pFSi"),Mb=a.n(Tb),Lb=a("2Lg3"),Bb=a.n(Lb),Fb=a("xDYg"),Rb=a.n(Fb);class Ab extends r.a.Component{constructor(){super(...arguments),this.state={isControlled:!1,selected:this.props.defaultSelected}}static getDerivedStateFromProps(e,t){if(e.selected!==t.prevSelected){const t=!Bb()(e.selected);return{isControlled:t,selected:t?e.selected:e.defaultSelected,prevSelected:e.selected}}return null}handleClick(e,t){t.preventDefault();const{isControlled:a}=this.state,{onSelect:n}=this.props;!a&&this.setState({selected:e}),n&&n(e)}render(){const{selected:e}=this.state,{className:t,children:a}=this.props;let n=0;const l=r.a.Children.map(a,t=>{if("Tab"===t.type.role){const a=r.a.cloneElement(t,{...t.props,isSelected:n===e,onClick:this.handleClick.bind(this,n)});return n++,a}return t});return r.a.createElement("div",{className:O()(Rb.a.tabs,t)},l)}}Ab.defaultProps={defaultSelected:0},Ab.role="Tabs";var Ub=Ab;const zb=e=>{let{isSelected:t,children:a,onClick:n}=e;return r.a.createElement("div",{className:O()(Rb.a.tab,{[Rb.a.active]:t}),onClick:n},r.a.createElement("span",null,a))};zb.role="Tab";var Db=zb;var Wb=a("VADM"),Vb=a.n(Wb);function qb(){return(qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Hb=e=>{let{amount:t,prev:a}=e;const n=void 0===a?void 0:t-a;return r.a.createElement("span",null,!!n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:Vb.a.delta},"(",r.a.createElement("span",{className:O()({[Vb.a.up]:n>0,[Vb.a.down]:n<0})},(e=>e>0?"+"+e:e)(n)),")")," "),r.a.createElement("span",null,t))},Gb=e=>{let{heading:t,amount:a,prev:n,hasChevron:l,expanded:o,...s}=e;return r.a.createElement("div",qb({className:Vb.a.total,style:{paddingRight:l?36:16,cursor:l?"pointer":"initial"}},s),r.a.createElement("span",null,t),r.a.createElement(Hb,{amount:a,prev:n}),l&&r.a.createElement("div",{className:Vb.a.chevron,style:{transform:o?"rotate(180deg)":"none"}},r.a.createElement(R.o,{size:16,color:"#333"})))},$b=e=>{let{stats:t,expanded:a}=e;const n=Yb(t),l=e=>{const a=t.prev.find(t=>t.key===e.key);return a?Jb(a):void 0};return r.a.createElement(qt.b.ul,{className:Vb.a.list,animate:{height:a?"auto":0},transition:{ease:"easeInOut"}},n?t.current.map(e=>r.a.createElement("li",{key:e.key},r.a.createElement("span",null,e.label),r.a.createElement(Hb,{amount:e.value,prev:l(e)}))):t.map(e=>({...e,...Qb(e)})).map(e=>r.a.createElement("li",{key:e.key},r.a.createElement("span",null,e.label),r.a.createElement(Hb,{amount:e.current,prev:e.prev}))))},Kb=e=>Array.isArray(e)?Zb(e):Jb(e),Zb=e=>e.reduce((e,t)=>e+t.value,0),Jb=e=>{return t=e,!isNaN(parseFloat(t))&&isFinite(t)?e:e.value||0;var t},Yb=e=>"object"==typeof e&&"current"in e&&"prev"in e,Qb=e=>Yb(e)?(e=>({current:Kb(e.current),prev:Kb(e.prev)}))(e):{current:Kb(e),prev:void 0},Xb=e=>Array.isArray(Yb(e)?e.current:e),eg=e=>{let{heading:t,expandable:a,stats:l}=e;const[o,s]=Object(n.useState)(!1),i=Object(n.useCallback)(()=>s(!o),[l,o]),{current:c,prev:u}=Qb(l);return r.a.createElement("div",{className:Vb.a.root},r.a.createElement(Gb,{heading:t,amount:c,prev:u,onClick:i,hasChevron:a,expanded:o}),a&&Xb(l)&&r.a.createElement($b,{stats:l,expanded:o,onToggle:i}))};eg.defaultProps={heading:"Actions",expandable:!0,stats:[]};var tg=eg,ag=a("1dbL"),ng=a.n(ag);function rg(){return(rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const lg={0:"day",1:"week",2:"month"},og=Mb()((e,t)=>({from:e.clone().startOf(t),to:e.clone().endOf(t)}),(e,t)=>`${+e}:${t}`);function sg(e,t){const{min:a}=ug(t);let n=e.clone().subtract(1,t);return n>a?n:null}function ig(e,t){const{max:a}=ug(t);let n=e.clone().add(1,t);return n<a?n:null}const cg=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ue()().set({second:0,millisecond:0});const a=lg[e],n=sg(t,a),r=ig(t,a);return{prev:n,next:r,prevRange:n&&og(n,a),...og(t,a)}};function ug(e){let t=Ue()().endOf("day"),a=Ue()().subtract(2,"month").startOf("month");return"month"!==e&&(a=a.startOf("week")),{min:a,max:t}}const dg=e=>{let{disabled:t=!1,...a}=e;return r.a.createElement("a",rg({href:"#",className:O()(ng.a.navButton,{[ng.a.disabled]:t})},a))},mg=e=>r.a.createElement("div",rg({className:ng.a.header},e)),pg=e=>{let{groups:t,showDelta:a,getStats:l}=e;const{t:o}=Object(m.useTranslation)("ui"),[s,i]=Object(n.useState)(1),[c,u]=Object(n.useState)(()=>cg(s)),d=e=>t=>{t.preventDefault();const a=c[e];a&&u(cg(s,a))},p=Object(Aa.a)(e=>{let{from:t,to:a}=e;return l(+t,+a)}),b=Object(Aa.a)(e=>{let{from:t,to:a}=e;return l(+t,+a)}),[g,f]=Object(n.useState)({current:[],prev:[]});Object(n.useEffect)(()=>{p.run(c),a&&c.prevRange&&b.run(c.prevRange)},[c.from,c.to,a]),Object(n.useEffect)(()=>{p.result&&p.result!==g.current&&f(e=>({...e,current:p.result})),b.result&&b.result!==g.prev&&f(e=>({...e,prev:b.result}))},[g,p.result,b.result]);const h=(e,t)=>(t||[]).filter(t=>t.action===e),v=t.map(e=>({...e,stats:a&&c.prevRange?{prev:h(e.action,g.prev),current:h(e.action,g.current)}:h(e.action,g.current)}));return r.a.createElement("div",null,r.a.createElement(Ub,{selected:s,onSelect:e=>{i(e),u(cg(e))}},r.a.createElement(Db,null,o("Analytics.ranges.day")),r.a.createElement(Db,null,o("Analytics.ranges.week")),r.a.createElement(Db,null,o("Analytics.ranges.month"))),r.a.createElement(mg,null,r.a.createElement(dg,{disabled:!c.prev,onClick:d("prev")},r.a.createElement(R.p,null)),r.a.createElement("p",null,o(0===s?"Analytics.rangeLabels.day":"Analytics.rangeLabels.range",c)),r.a.createElement(dg,{disabled:!c.next,onClick:d("next")},r.a.createElement(R.q,null))),v.map(e=>{let{action:t,label:a,expandable:n,stats:l}=e;return r.a.createElement(tg,{key:t,expandable:n,stats:l,heading:a})}))};function bg(){const{t:e}=Object(m.useTranslation)("landings"),{api:t}=Object(de.a)(),{generateUrl:a}=Object(Qe.a)(),{websiteSlug:n}=Object(c.i)(),{websiteId:l,pageId:o}=Xr(Yr(n)),s=a(".."),i=[{action:"page.view",label:e("Page.View.Analytics.groups.visits"),expandable:!1},{action:"messenger.click",label:e("Page.View.Analytics.groups.clicks_messengers")},{action:"link.click",label:e("Page.View.Analytics.groups.clicks_links")}];return r.a.createElement(nd,{title:e("Page.View.Analytics.heading"),onClose:s},r.a.createElement(fa,{rule:"analytics"},r.a.createElement(pg,{groups:i,showDelta:!0,getStats:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"now-7d",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"now";return t.pages.statistics({websiteId:l,pageId:o,query:{from:e,to:a}}).catch(vu.a)}})))}function gg(){return Object(u.c)(e=>e.feedback)}function fg(e){return t=t=>t._id===e,Object(u.c)(e=>e.feedback.items.find(t))||null;var t}var hg=a("ty7O"),vg=a("6o4N"),yg=a.n(vg);function Eg(){return(Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Og=e=>{let{items:t,value:a,onSelect:l,noArrows:o,...s}=e;const{root:i,hasLeftBtn:c,moveLeft:u,list:d,hasRightBtn:m,moveRight:p,moveTo:b,currentIndex:g}=Object(hg.a)(t.length),f=Object(n.useMemo)(()=>{const e=e=>`linear-gradient(${e}, #fff 0%, #fff 45%, ${"#ffffff".substring(0,7)}00 100%)`;return{left:{backgroundImage:[e("90deg"),e("90deg"),e("90deg")]},right:{backgroundImage:[e("-90deg"),e("-90deg"),e("-90deg")]}}}),h=Object(n.useCallback)((e,n)=>{e.preventDefault();const r=t.findIndex(e=>{let{value:t}=e;return t===n.value});n.value===a||(b(r),l(n.value,r))},[a,t,b,l]);return Object(n.useEffect)(()=>{t.length&&(b(0),l(t[0].value))},[t.length]),Object(n.useEffect)(()=>{const e=t.findIndex(e=>{let{value:t}=e;return t===a});t.length&&b(e)},[a,g]),r.a.createElement("div",Eg({ref:i},Object(_a.a)(yg.a.root,s)),c&&!o&&r.a.createElement("div",{className:yg.a.controlContainerLeft,style:f.left,onClick:u},r.a.createElement("div",{className:yg.a.control},"")),r.a.createElement("ul",{className:yg.a.list,ref:d},t.map((e,t)=>{const n=a===e.value;return r.a.createElement("li",{key:t,"data-index":t,className:O()({[yg.a.item]:!0,[yg.a.active]:n}),onClick:t=>h(t,e)},e.props&&e.props.children||e.label)})),m&&!o&&r.a.createElement("div",{className:yg.a.controlContainerRight,style:f.right,onClick:p},r.a.createElement("div",{className:yg.a.control},"")))};var jg=a("/ZIs");function kg(){return(kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function wg(e,t){return n.createElement(ha.b,kg({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M12 6v6l4 2",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var Cg=n.forwardRef(wg);function _g(){return(_g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Pg(e,t){return n.createElement(ha.b,_g({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M20 6L9 17l-5-5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var xg=n.forwardRef(Pg);function Sg(){return(Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ng(e,t){return n.createElement(ha.b,Sg({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zM15 9l-6 6M9 9l6 6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var Ig=n.forwardRef(Ng),Tg=a("1JCD");const Mg=e=>(null==e||e.preventDefault(),null==e||e.stopPropagation(),!1),Lg={active:!0,threshold:0,dataElement:"element-drag"},Bg={x:0,y:0},Fg=e=>{const{active:t=Lg.active,threshold:a=Lg.threshold,dataElement:r=Lg.dataElement}=e||Lg,[l,o]=Object(n.useState)({isDown:!1,isDragging:!1,origin:Bg,offset:Bg}),s=Object(n.useCallback)(e=>{let t=e.target;for(;!t.dataset||t.dataset.element!==r;){if(!t.parentNode)return;t=t.parentNode}const a=e.changedTouches&&e.changedTouches[0]||e;o({isDown:!0,isDragging:!1,origin:{x:a.clientX,y:a.clientY},offset:Bg})},[]),i=Object(n.useCallback)(()=>{o(e=>({...e,isDown:!1,isDragging:!1,offset:Bg}))},[]),c=Object(n.useCallback)(e=>{const t=e.changedTouches&&e.changedTouches[0]||e,n=t.clientX-l.origin.x,r=t.clientY-l.origin.y,s=l.offset.x-n,i=l.offset.y-r;(s||i)&&(o(e=>({...e,isDragging:e.isDown&&(e.isDragging||s**2+i**2>=a**2),offset:e.isDown?{x:n,y:r}:Bg})),Mg(e))},[l.origin]),u=Object(n.useCallback)(e=>"touch"!==e.pointerType||Mg(e),[]);return Object(n.useEffect)(()=>l.isDown?(window.addEventListener("mousemove",c),window.addEventListener("touchmove",c,{passive:!1}),window.addEventListener("mouseup",i),window.addEventListener("touchend",i),window.addEventListener("contextmenu",u,{passive:!1}),()=>{window.removeEventListener("mousemove",c),window.removeEventListener("touchmove",c),window.removeEventListener("mouseup",i),window.removeEventListener("touchend",i),window.removeEventListener("contextmenu",u)}):(window.addEventListener("touchstart",s,{passive:!1}),()=>{window.removeEventListener("touchstart",s)}),[l.isDown,c,i]),Object(n.useEffect)(()=>{t||i()},[t]),{...l,bind:{"data-element":r,draggable:!1,onMouseDown:s,onDragStart:Mg,onSelect:Mg,onClick:l.isDragging?Mg:void 0}}},Rg=()=>{const{isDragging:e,bind:t,origin:a,offset:r}=Fg(),[l,o]=ea()(),[s,i]=Object(n.useState)({cx:0,cy:0,width:0,height:0}),[c,u]=Object(n.useState)(null),d=Object(n.useRef)(),m=Object(Tg.a)([d,l]),p=((e,t,a)=>{let{cx:n,cy:r,width:l,height:o}=e;const s=t.x-n,i=s+a.x,c=t.y-r,u=c+a.y,d=Math.max(Math.min(s,i),0),m=Math.max(Math.min(c,u),0),p=Math.min(Math.max(s,i),l),b=Math.min(Math.max(c,u),o);return{left:d,top:m,right:p,bottom:b,width:p-d,height:b-m}})(s,a,r);return Object(n.useEffect)(()=>{let t=d.current;if(!e||!t)return;let a=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;const r=t.getBoundingClientRect();a+=r.left,n+=r.top,s.cx===a&&s.cy===n||i({cx:a,cy:n,width:o.width,height:o.height})},[e]),Jn()(()=>{e&&u(p)},[e,p]),[{ref:m,...t},{isDragging:e,parent:o,area:c,current:e?p:null}]},Ag=Object(n.createContext)({openedId:null,onAside:()=>{}}),Ug=e=>{let{id:t,beforeWidth:a,afterWidth:r}=e;const[l,o]=Object(n.useState)(0),[s,i]=Object(n.useState)(0),{openedId:c,onAside:u}=Object(n.useContext)(Ag),d=!(c&&c!==t),{isDragging:m,offset:p,bind:b}=Fg({active:d,dataElement:"element-drag-"+t}),g=l+p.x,f=m?Math.abs(g):0,h=m||!!l,v=h&&g>0,y=h&&g<0,E=Math.sign(g),O=E*(E<0?r:a),j=(s?Math.min(Math.abs(s),Math.abs(g)):Math.abs(g))/(Math.abs(O)||1),k=Object(n.useMemo)(()=>({before:{opacity:j},after:{opacity:j},inner:m||l?{transform:`translateX(${g}px)`,pointerEvents:m?"none":"auto",transition:m?"none":void 0}:null}),[m,l,g,j]);return Object(n.useEffect)(()=>{const e=.5*O;f&&O&&(f>=Math.abs(O)?s!==O&&i(O):f&&s&&f<=Math.abs(e)&&i(0))},[O,f,s]),Object(n.useEffect)(()=>{m||l===s||o(s)},[m,l]),Object(n.useEffect)(()=>{d||(o(0),i(0))},[d]),Object(n.useEffect)(()=>{u(t,h)},[u,t,h]),{bind:b,containersStyle:k,isUnderlayed:h,isBefore:v,isAfter:y,progress:j}};var zg=a("0g5o"),Dg=a.n(zg);const Wg=e=>{let{children:t}=e;const[a,l]=Object(n.useState)(),o=Object(n.useCallback)((e,t)=>l(t?e:null),[]),s=Object(n.useMemo)(()=>({openedId:a,onAside:o}),[a]);return r.a.createElement(Ag.Provider,{value:s},r.a.createElement("ul",{className:Dg.a.list},Object(f.a)(t,s)))},Vg=e=>~~(e/864e5),qg=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"items";return{type:t,base:e,items:[e],days:Vg(e.timestamp)}},Hg=(e,t)=>{if(Vg(t.timestamp)!==e.days)return"date"},Gg=e=>{const t=e.toLowerCase();if(t.match(/^#\d*$/)){const e=+t.slice(1);return t=>!(e&&t.order!==e)}return e=>{for(const{value:a}of e.data.values())if(String(a).toLowerCase().includes(t))return!0;if(e.notes&&String(e.notes).toLowerCase().includes(t))return!0}};function $g(){return($g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Kg=e=>{let{action:{icon:t,title:a},action:l,onSelect:o,...s}=e;const i=Object(n.useCallback)(()=>o(l),[l,o]);return r.a.createElement("div",$g({onClick:i},s),r.a.createElement(t,null),a)};function Zg(){return(Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Jg=e=>{let{as:t="div",isDeleting:a,id:l,actions:o,children:s,onAction:i,...c}=e;const[u,{height:d}]=ea()(),[m,{width:p}]=ea()(),[b,{width:g}]=ea()(),{bind:f,containersStyle:h,isUnderlayed:v,isBefore:y,isAfter:E}=Ug({id:l,beforeWidth:p,afterWidth:g}),{before:j,after:k}=Object(n.useMemo)(()=>({before:v&&o(c,!0),after:v&&o(c,!1)}),[v,o]),[w,C]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{a&&d&&!w&&C(!0)},[d,a,w]),r.a.createElement(t,{ref:u,className:O()(Dg.a.container,a&&w&&Dg.a.deleting),style:d&&a?{height:d}:void 0},r.a.createElement("div",Zg({className:Dg.a.item},f),v&&r.a.createElement("div",{className:O()(Dg.a.actions,Dg.a.before,!y&&Dg.a.hidden),style:h.before},r.a.createElement("div",{ref:m},j.map((e,t)=>r.a.createElement(Fl.a,Zg({key:`${t}-${e.title}`,as:Kg,action:e,onSelect:i},e.props))))),v&&r.a.createElement("div",{className:O()(Dg.a.actions,Dg.a.after,!E&&Dg.a.hidden),style:h.after},r.a.createElement("div",{ref:b},k.map((e,t)=>r.a.createElement(Fl.a,Zg({key:`${t}-${e.title}`,as:Kg,action:e,onSelect:i},e.props))))),r.a.createElement("div",{className:Dg.a.inner,style:h.inner},s)))};var Yg=a("yjkv"),Qg=a.n(Yg),Xg=a("d1Di"),ef=a("CX5T"),tf=a("K9/B"),af=a.n(tf);const nf={new:"new",pending:"processing",paid:"accepted",failed:"rejected"},rf=e=>{var t,a;let{item:l,to:o}=e;const{t:s}=Object(m.useTranslation)("landings"),{date:i,contacts:c}=Object(n.useMemo)(()=>({date:Ue()(l.createdAt).local(),contacts:Qg()([].concat(...["name","phone","email"].map(e=>l.data.filter(t=>e===t.type))),"type").map((e,t)=>({key:t,value:"phone"===e.type?Object(Xg.a)(e.value):e.value}))}),[l.data]),u=(null===(t=l.purchase)||void 0===t?void 0:t.total)||l.value,d=(null===(a=l.purchase)||void 0===a?void 0:a.status)||"paid",p=o?Me.b:"div";return r.a.createElement(p,{className:af.a.wrapped,to:o},r.a.createElement("div",{className:af.a.header},r.a.createElement("span",null,"#",l.order),r.a.createElement("span",null,i.format("D MMM HH:mm"))),r.a.createElement("div",{className:af.a.content},r.a.createElement("ul",{className:af.a.list},c.map(e=>{let{key:t,value:a}=e;return r.a.createElement("li",{key:t},a)})),r.a.createElement("div",{className:af.a.contentRight},r.a.createElement("span",{className:O()(af.a.status,af.a[l.status])},s("Feedback.View.List.labels.state."+l.status)),!!u&&r.a.createElement("span",{className:O()(af.a.status,af.a.total,af.a[nf[d]])},Object(jg.a)(u)))),l.notes&&r.a.createElement("div",{className:af.a.notes},r.a.createElement(ef.a,null),r.a.createElement("span",null,l.notes)))};function lf(){return(lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const of=(sf=function(e){let{item:t,to:a,render:l,onDeleting:o,onAction:s,...i}=e;const c=Object(n.useCallback)(e=>o(()=>s(t,e)),[t,s,o]);return l({item:t,id:t._id,children:r.a.createElement(rf,lf({item:t,to:a},i)),onAction:c})},e=>{let{as:t,actions:a,onAction:l,...o}=e;const s=sa()(),[i,c]=Object(n.useState)(!1),u=Object(n.useCallback)(e=>{c(!0),setTimeout(async()=>{try{await e()}catch(e){throw s()&&c(!1),e}},200)},[]),d=Object(n.useCallback)(e=>r.a.createElement(Jg,Zg({as:t,actions:a,onAction:l,isDeleting:i},e)),[i]);return r.a.createElement(sf,Zg({render:d,onDeleting:u,onAction:l},o))});var sf,cf=a("mBV0"),uf=a.n(cf);const df={processing:Cg,accepted:xg},mf={rejected:Ig};function pf(e){let{websiteId:t}=e;const{api:a}=Object(de.a)(),{items:l,filter:o,next:s,isFetching:i,guid:c}=gg(),{t:u}=Object(m.useTranslation)("landings"),{generateUrl:d}=Object(Qe.a)(),p=To(l,o,{term:Gg}),g=Object(n.useMemo)(()=>Array.from(function*(e){let t,a,n=0;for(e[n]&&(yield qg(e[n],"date"));a=e[n++];){if(t){const e=Hg(t,a);e&&(yield t,"date"===e&&(yield qg(a,"date")),t=void 0)}t?t.items.push(a):t=qg(a)}t&&(yield t)}(p)),[p]),f=Object(n.useMemo)(()=>Object.entries(o).reduce((e,t)=>{let[a,n]=t;return n&&(e[a]=n),e},{}),[o]),h=Object(n.useCallback)(()=>{!i&&s&&a.feedbacks.list({websiteId:t,query:{...f,next:s}})},[t,f,s,i]),v=Object(n.useCallback)(async(e,t)=>{let{status:n}=t;return a.feedbacks.update({websiteId:e.website,feedbackId:e._id,payload:{status:n}})},[]),y=Object(n.useCallback)((e,t)=>{let{item:a}=e;return Object.entries(t?df:mf).map(e=>{let[t,n]=e;return{status:t,icon:n,title:u("Feedback.View.List.labels.state."+t),props:{disabled:a.status===t,className:O()(uf.a.action,uf.a[t])}}})},[]);return Object(n.useEffect)(()=>{a.feedbacks.list({guid:c+1,query:{...f&&{...f}},websiteId:t})},[t,c,f]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Wg,null,g.map(e=>{let{type:t,base:a,items:l}=e;return"date"===t?r.a.createElement("li",{key:a._id+"-date",className:uf.a.dateSection},Object(b.b)(new Date(a.timestamp),"LL")):r.a.createElement(n.Fragment,{key:a._id+"-items"},l.map((e,t)=>r.a.createElement(of,{key:e._id||t,item:e,to:d(e._id),as:"li",actions:y,onAction:v})))})),!p.length&&(i?r.a.createElement(Wa.a,{color:"#2979ff"}):r.a.createElement("div",{className:uf.a.emptyMessage},r.a.createElement("h3",null,u("Feedback.View.List.emptyMessage")))),s&&r.a.createElement(ke.a,{fullWidth:!0,style:{marginTop:16},isFetching:i,onClick:h},u("Feedback.View.List.labels.loadMore")))}var bf=a("mAmT"),gf=a.n(bf);const ff=e=>Object.entries(e).map(e=>{let[t,a]=e;return`${t}-${a}`}).join(":"),hf=e=>{let{totals:t}=e;return r.a.createElement("div",null,t.map(e=>r.a.createElement("div",{key:e.currency},Object(jg.a)(e))))};function vf(){const{t:e}=Object(m.useTranslation)("landings"),{websiteSlug:t}=Object(c.i)(),{setFeedbackItemsFilter:a}=Object(de.a)(),{generateUrl:l}=Object(Qe.a)(),{_id:o}=Yr(t),s=l(".."),i=Object(n.useMemo)(()=>Ir()(e=>a(e),400),[]),{filter:u,counts:d,totals:p}=gg(),[b,g]=Object(n.useState)(u),f=Object(n.useRef)(!1),h=Object(n.useCallback)(e=>g(t=>t.status===e?t:{...t,status:e}),[]),v=Object(n.useCallback)(e=>{let{target:{name:t,value:a}}=e;g(e=>e[t]===a?e:{...e,[t]:a}),"term"===t&&(f.current=!0)},[]);Object(n.useEffect)(()=>{if(f.current)return f.current=!1,i(b),()=>i.cancel();a(b)},[b]),nl()(()=>a({status:"new"}));const y=Object(n.useMemo)(()=>{const t=(t,a)=>{const n=d[a||t],l=p[a||t];return{value:t,props:{children:r.a.createElement("div",{className:gf.a.tab},e("Feedback.View.List.labels.state."+(a||t)),!!n&&r.a.createElement("div",{className:gf.a.counter},r.a.createElement("div",null,n)),!(null==l||!l.length)&&r.a.createElement("div",{className:gf.a.counter},r.a.createElement(hf,{totals:l})))}}};return[t("new"),t("processing"),t("accepted"),t("rejected")]},[ff(d),ff(p)]);return r.a.createElement(Bl,{padding:!0,modal:!0,backPath:s,title:e("Feedback.View.List.heading"),topPanelChildren:r.a.createElement(r.a.Fragment,null,r.a.createElement(Yl.a,{builderInput:!0,name:"term",placeholder:e("ui:labels.search"),icon:Jl.h,autoComplete:"off",clearable:!0,value:b.term||"",onChange:v}),r.a.createElement(Og,{style:{marginTop:6},items:y,value:u.status,onSelect:h})),contentStyles:{display:"block"}},r.a.createElement(Bl.Section,{style:{minHeight:"calc(100% - 8px)"}},r.a.createElement(pf,{websiteId:o})))}var yf=a("nVmp"),Ef=a.n(yf);const Of=e=>{let{label:t,children:a,spread:n,...l}=e;return r.a.createElement("div",Object(_a.a)(Ef.a.infoLine,l),t&&r.a.createElement("div",{className:Ef.a.prop},t),!!a&&r.a.createElement("div",{className:O()(Ef.a.value,n&&Ef.a.spread)},a))};var jf=a("VIEm"),kf=a("FErb"),wf=a("iXl6");const Cf={date:R.l,datetime:R.l,address:wf.a,phone:R.S,email:R.N},_f=e=>{let{item:t,cut:a=!1}=e;const{t:l}=Object(m.useTranslation)("landings"),{link:o,normalized:s,Icon:i}=Object(n.useMemo)(()=>({...Object(jf.a)(t),Icon:Cf[t.type]}),[t.type,t.value]),[c,u]=Object(n.useState)(a&&s.length>100?s.slice(0,100)+"...":s),d=Object(n.useCallback)(()=>u(s),[s]),p=c.length<s.length,b=o?kf.a:"div";return r.a.createElement(b,o?{href:o}:{},r.a.createElement("div",{className:O()(Ef.a.dataContainer,p&&a&&Ef.a.cut),onClick:d},c||r.a.createElement("span",{style:{color:"rgba(0,0,0,0.35)"}},l("Feedback.Edit.Item.placeholders.empty")),p&&r.a.createElement("span",{style:{color:"#007aff",marginLeft:3,fontSize:14}},l("Feedback.Edit.Item.labels.more"))),i&&r.a.createElement(i,{size:20}))},Pf=e=>{let{data:t,typed:a,divide:n=!0,cut:l=!1}=e;return t.length?r.a.createElement(r.a.Fragment,null,n&&r.a.createElement("div",{className:Ef.a.divider}),t.map((e,t)=>r.a.createElement(Of,{key:e.label+t,label:e.label,spread:a},r.a.createElement(_f,{item:e,cut:l})))):null};function xf(){return(xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Sf(e,t){return n.createElement(ha.b,xf({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M18 15l-6-6-6 6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var Nf=n.forwardRef(Sf),If=a("RIc0"),Tf=a("xHJ9"),Mf=a.n(Tf);const Lf=e=>{let{status:t,...a}=e;return r.a.createElement("div",Object(_a.a)([Mf.a.root,Mf.a[t]],a))};var Bf=a("AyoN"),Ff=a("aCeS"),Rf=a.n(Ff);function Af(){return(Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Uf=e=>{let{value:t,label:a,active:l,onSelect:o}=e;const s=Object(n.useCallback)(()=>o(t),[t,o]);return r.a.createElement("div",{className:O()(Rf.a.option,l&&Rf.a.active),onClick:s},r.a.createElement(Lf,{status:t})," ",a)},zf=e=>{let{value:t,disabled:a,className:l,onChange:o,onToggle:s}=e;const{t:i}=Object(m.useTranslation)("landings"),c=Object(n.useMemo)(()=>[{value:"new",label:i("Feedback.View.List.labels.state.new")},{value:"processing",label:i("Feedback.View.List.labels.state.processing")},{value:"accepted",label:i("Feedback.View.List.labels.state.accepted")},{value:"rejected",label:i("Feedback.View.List.labels.state.rejected")}],[i]),{isOpen:u,toggle:d,hide:p}=De(),b=c.find(e=>e.value===t);Object(n.useEffect)(()=>{s&&s(u)},[u]);const g=Object(n.useCallback)(e=>{o(e),p()},[o]);return r.a.createElement("div",{className:O()(Rf.a.root,Rf.a[t],a&&Rf.a.disabled,l)},r.a.createElement("div",{className:Rf.a.toggle,onClick:d},r.a.createElement("span",{className:Rf.a.label},(null==b?void 0:b.label)||""),u?r.a.createElement(Nf,{size:10}):r.a.createElement(If.a,{size:10})),r.a.createElement(Bf.a,{duration:200,in:u},r.a.createElement("ul",{className:Rf.a.menu},c.map((e,a)=>r.a.createElement(Uf,Af({key:a,active:e.value===t,onSelect:g},e))))))},Df=["status","notes"],Wf=e=>{let{item:t,children:a,onSubmit:l}=e;const o=Object(n.useCallback)(e=>{const a={};for(const[n,r]of Object.entries(e))r!==t[n]&&(a[n]=r);Object.keys(a).length&&l&&l(a)},[t,l]),s=Object($n.a)({initialValues:Wr()(t,Df),onSubmit:o});return Object(n.useEffect)(()=>{s.setValues(Wr()(t,Df))},[t]),r.a.createElement(Gn.c,{value:s},Object(f.a)(a,{handleSubmit:s.submitForm}))};function Vf(){return(Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const qf=e=>{let{label:t,name:a,editable:l,onSubmit:o,...s}=e;const{t:i}=Object(m.useTranslation)("landings"),c=Object(n.useCallback)(()=>o&&o(),[o]);return r.a.createElement(Of,{label:t},r.a.createElement(pr,Vf({name:a,builderInput:!0,maxRows:50,style:{marginTop:6},disabled:!l,placeholder:l?i("Feedback.Edit.Item.placeholders.notes"):"",onBlur:c},s)))};var Hf=a("yO+E"),Gf=a.n(Hf);function $f(){return($f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Kf(e){let{options:t,value:a,toggle:n,multiple:l,containerClassName:o,choiceClassName:s,activeClassName:i,onChoiceRef:c,onChange:u}=e;const d=Object(Tg.b)(t.length,c),m=e=>l?a.includes(e):a===e,p=(e,t)=>{t.preventDefault(),t.stopPropagation();const r=n&&m(e);u(l?r?a.filter(t=>t!==e):[...new Set([...a,e])]:r?void 0:e)};return r.a.createElement("div",{className:O()(Gf.a.root,o)},t.map((e,t)=>{const a=m(e.value);return r.a.createElement("a",$f({href:"#",key:e.value,ref:d[t],className:O()(Gf.a.choice,a&&Gf.a.active,s,a&&i),onClick:u&&p.bind(null,e.value)},e.props),Object(f.a)(e.props&&e.props.children||e.label,{choice:e,active:a}))}))}k.a.oneOfType([k.a.string,k.a.element,k.a.func]),k.a.string;Kf.defaultProps={value:null,toggle:!1,multiple:!1,onChoiceRef:null,containerClassName:"",choiceClassName:"",activeClassName:""};var Zf=a("pPyN"),Jf=a("k6VN"),Yf=a.n(Jf);function Qf(){return(Qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Xf(e){let{classes:t,...a}=e;return r.a.createElement("div",{className:Yf.a.root},r.a.createElement(yp,Qf({classes:{copied:Yf.a.copied,...t}},a)))}Xf.defaultProps=yp.defaultProps;var eh=a("vVOL");const th=e=>{const{isWaitingSSl:t,isReady:a}=am(e);return e.scaffold?null:t||a?e.domain.name:e.absoluteUrl},ah={new:"new",pending:"processing",paid:"accepted",failed:"rejected"},nh=e=>{let{website:t,purchase:a,onSubmit:l,onClose:o}=e;const{t:s}=Object(m.useTranslation)("landings"),{online:i}=Object(eh.b)(),[c,u]=Object(n.useState)(),d=th(t),p="failed"===a.status&&!!i.length&&`${d}/user-orders/${a._id}`,b=Object(n.useMemo)(()=>{const e=e=>({value:e,label:t=>r.a.createElement(Bc.a,{active:t.active},r.a.createElement("div",{className:Ef.a.choiceLabel},r.a.createElement(Lf,{status:ah[e]}),s("ui:orders.paymentStatus."+e)))});return[e("paid"),e("failed")]},[s]),g=Object(n.useCallback)(e=>a.status!==e&&u(e),[a.status]),f=Object(n.useCallback)(e=>{u(),e&&l&&l({status:c})},[c,l]);return r.a.createElement(ua,{title:s("Feedback.Edit.Item.labels.orderStatus"),onClose:o},r.a.createElement(Kf,{containerClassName:Ef.a.paymentStatusSelect,choiceClassName:Ef.a.choice,activeClassName:Ef.a.active,value:a.status,options:b,onChange:g}),p&&r.a.createElement(tr,{style:{marginTop:16}},r.a.createElement(Zf.a,null,s("Feedback.Edit.Item.labels.orderLink")),r.a.createElement(Xf,{href:p})),c&&r.a.createElement(ua,{title:s("Feedback.Edit.Purchase.heading"),onClose:f},e=>{let{handleTrue:t}=e;return r.a.createElement("div",null,r.a.createElement("div",null,s("Feedback.Edit.Purchase.confirmStatusChange",{paymentStatus:s("ui:orders.paymentStatus."+c)})),r.a.createElement(ke.a,{fullWidth:!0,btnStyle:"primary",style:{marginTop:16},onClick:t},s("ui:labels.apply")))}))},rh=e=>{let{website:t,purchase:a,onSubmit:n}=e;const{t:l}=Object(m.useTranslation)("landings"),[o,s]=Ra()();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Of,{label:l("Feedback.Edit.Item.labels.price")},Object(jg.a)(a.total)),r.a.createElement(Of,{label:l("Feedback.Edit.Item.labels.paymentMethod")},l("ui:orders.paymentMethod."+a.paymentMethod)),r.a.createElement(Of,{label:l("Feedback.Edit.Item.labels.orderStatus")},r.a.createElement(Xd,{tag:"span",className:O()(Ef.a.paymentStatus,Ef.a[a.status]),chevron:!!n,disabled:!n,onClick:n?s:void 0},l("ui:orders.paymentStatus."+a.status))),o&&r.a.createElement(nh,{website:t,purchase:a,onSubmit:n,onClose:s}))};var lh=a("JuRJ"),oh=a("N93I"),sh=a.n(oh);const ih=e=>{let{website:t,purchase:a,resolver:n}=e;const{t:l}=Object(m.useTranslation)("landings"),o=Object(lh.a)(t,a,n);return r.a.createElement(Of,{className:sh.a.root,label:l("Feedback.Edit.Item.labels.orderItems")},o.map(e=>{let{productId:t,price:a,quantity:n,product:{photoUrl:l,name:o}}=e;return r.a.createElement("div",{key:t,className:sh.a.item},r.a.createElement("div",{className:sh.a.thumbnail},l?r.a.createElement(no.a,{src:ao.a.generateProductThumbnailUrl(l),alt:o}):r.a.createElement("div",{className:sh.a.emptyPlaceholder},r.a.createElement(eo.g,{size:40}))),r.a.createElement("div",{className:sh.a.meta},r.a.createElement("div",{className:sh.a.title},o),r.a.createElement("div",{className:sh.a.details},Object(jg.a)(a),"  ",n)))}))};function ch(e){let{website:t,item:a,isFetching:l,productResolver:o,onSubmit:s,onPurchaseSubmit:i}=e;const{t:c}=Object(m.useTranslation)("landings"),{contacts:u,additional:d}=Object(n.useMemo)(()=>{const e=[].concat(...["name","phone","email"].map(e=>a.data.filter(t=>t.type===e))),t=a.data.filter(t=>!e.includes(t)),n={Name:"name",Phone:"phone",Comment:"comment",Paid:"paid","Shipping address":"address"},r=e=>e.map(e=>n[e.label]?{...e,label:c("Feedback.Edit.Item.labels."+n[e.label])}:e);return{contacts:r(e),additional:r(t)}},[a.data]),p=Object(n.useCallback)(e=>s&&s({status:e}),[s]);return r.a.createElement(Wf,{item:a,onSubmit:s},e=>{let{handleSubmit:n}=e;return r.a.createElement("div",{className:Ef.a.root},r.a.createElement("div",{className:Ef.a.statusContainer},r.a.createElement(zf,{className:Ef.a.statusSelect,disabled:l||!s,value:a.status,onChange:p})),r.a.createElement(Of,{label:c("Feedback.Edit.Item.labels.date")},Object(b.b)(new Date(a.timestamp),"LLL")),a.purchase&&r.a.createElement(rh,{website:t,purchase:a.purchase,onSubmit:i}),r.a.createElement(Pf,{data:u,typed:!0}),r.a.createElement(Pf,{data:d,cut:!0}),a.purchase&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ef.a.divider}),r.a.createElement(ih,{website:t,purchase:a.purchase,resolver:o})),!(!a.notes&&!s)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ef.a.divider}),r.a.createElement(qf,{name:"notes",label:c("Feedback.Edit.Item.labels.notes"),maxLength:5e3,editable:!!s,onSubmit:n})))})}function uh(e){var t;let{feedbackId:a}=e;const{t:l}=Object(m.useTranslation)("landings"),{generateUrl:o}=Object(Qe.a)(),{api:s}=Object(de.a)(),{isFetching:i}=gg(),c=Object(jd.c)(),u=fg(a),d=c._id,p=null==u||null===(t=u.purchase)||void 0===t?void 0:t._id,b=Object(n.useCallback)(e=>{let{productId:t}=e;return s.products.retrieve({productId:t})}),g=Object(n.useCallback)(e=>{s.feedbacks.update({websiteId:u.website,feedbackId:u._id,payload:e})},[u]),f=Object(n.useCallback)(e=>{s.orders.update({orderId:p,payload:e})},[p]);return Object(n.useEffect)(()=>{u||s.feedbacks.retrieve({websiteId:d,feedbackId:a})},[d,a,u]),u?r.a.createElement(nd,{title:l("Feedback.Edit.Item.heading",u),onClose:o("..")},r.a.createElement(ch,{isFetching:i,website:c,item:u,productResolver:b,onSubmit:g,onPurchaseSubmit:f})):null}function dh(){return(dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const mh=()=>{const e=Object(c.h)(),{path:t,params:a}=Object(c.j)(),{_id:l}=Yr(a.websiteSlug),o=Object(n.useMemo)(()=>({websiteId:l,pageId:null,blockId:null}),[l]),s="/:share(share|published|published/share|share/share)",i=(t,a,n)=>{const l=Object(c.f)(e.pathname,t);return l&&r.a.createElement(a,dh({key:t.path},l.params,n))};return r.a.createElement(Sm.Provider,{value:o},r.a.createElement(qt.a,null,i({path:t+"/published",exact:!1},Lm),i({path:t+"/:share(share|published/share)",exact:!1},Am),i({path:t+"/not-published",exact:!0},Um),i({path:t+"/not-published/no-blocks",exact:!0},zm),i({path:t+"/has-advanced-blocks",exact:!0},qm),i({path:`${t}${s}/name`,exact:!1},$m),i({path:`${t}${s}/name/domain`,exact:!0},im),i({path:`${t}${s}/embed`,exact:!0},Jm),i({path:`${t}${s}/qr`,exact:!0},np),i({path:t+"/standalone/qr",exact:!0},np),i({path:`${t}${s}/socials`,exact:!1},pp),i({path:`${t}${s}/bio`,exact:!1},fp),i({path:`${t}${s}/:socials(socials|bio)/instagram`,exact:!0},wp),i({path:`${t}${s}/:socials(socials|bio)/tiktok`,exact:!0},Sp),i({path:t+"/settings",exact:!1},Nb),i({path:t+"/settings/tracking",exact:!1},Ib),i({path:t+"/settings/tracking/:platform",exact:!0},mb),i({path:t+"/settings/seo",exact:!0},bb),i({path:t+"/settings/url",exact:!0},gb),i({path:t+"/settings/domain",exact:!0},im),i({path:t+"/settings/name",exact:!0},fb),i({path:t+"/settings/embedded",exact:!0},hb),i({path:t+"/settings/status",exact:!0},vb),i({path:t+"/settings/branding",exact:!0},yb),i({path:t+"/settings/no-blocks",exact:!0},zm),i({path:t+"/settings/template",exact:!0},ub),i({path:t+"/settings/delete",exact:!0},Eb),i({path:t+"/analytics",exact:!0},bg),i({path:t+"/feedback",exact:!1},vf),i({path:t+"/feedback/:feedbackId",exact:!0},uh)))};function ph(){var e;const{t:t}=Object(m.useTranslation)("landings"),{websiteSlug:a}=Object(c.i)(),{website:n,page:l}=Xr(Yr(a)),{generateUrl:o}=Object(Qe.a)({useMatchUrl:!0}),{name:s,absoluteUrl:i}=Jr(n._id),{isFree:u}=ze(),{isWaitingSSl:d,isReady:p}=am(n),b=tt(),g=l.enabled,f=d||p?`http${p?"s":""}://${n.domain.name}`:i;if(!l)return r.a.createElement(c.a,{to:o("..")});const h=r.a.createElement(r.a.Fragment,null,r.a.createElement(Bd,{style:{margin:"12px 0 8px 0"},url:f,website:n}),g&&r.a.createElement(Vd,{sharePageTo:o("share"),qrPageTo:{pathname:o("standalone/qr"),state:{backPath:"../.."}},textToCopy:f,website:n,style:{marginTop:16}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ma,{title:s,backPath:o("../.."),titleRightContent:r.a.createElement(r.a.Fragment,null,r.a.createElement(ym,{btnStyle:"primary",style:{padding:"0 16px",fontWeight:500,height:36,borderRadius:8,marginLeft:5},website:n,page:l,routes:{published:"published"},"data-button":"publish"},t("Editor.Dashboard.header.publish")),g&&u&&r.a.createElement(Vt,{outline:!0,btnStyle:"primary",to:b,style:{border:"1px solid",backgroundColor:"rgba(41, 121, 255, 0.05)",padding:"0 16px",fontWeight:500,height:36,borderRadius:8,marginLeft:5},"data-button":"website-home-upgrade-button"},t("common:misc.upgrade"))),topPanelChildren:h},r.a.createElement(jl,null,r.a.createElement(Gd,null,r.a.createElement(tm,{to:o("edit"),icon:R.z},t("Website.View.Home.items.editor")),r.a.createElement(tm,{to:o("analytics"),icon:R.T},t("Website.View.Home.items.analytics")),r.a.createElement(tm,{to:o("feedback"),icon:bl.R,chevron:r.a.createElement(km,{websiteId:n._id})},t("Website.View.Home.items.feedback")),r.a.createElement(tm,{to:o("products"),icon:R.Z},t("Website.View.Home.items.products")),r.a.createElement(tm,{to:o("settings"),icon:R.W},t("Website.View.Home.items.settings")))),(null===(e=n.moderation)||void 0===e?void 0:e.blocked)&&r.a.createElement(Pm,{moderation:n.moderation})),r.a.createElement(mh,null))}var bh=a("NGKs"),gh=a.n(bh);const fh=e=>{let{title:t}=e;return r.a.createElement("div",{className:gh.a.root},r.a.createElement("h1",{className:gh.a.title},t))};var hh=a("ybHp"),vh=a.n(hh);const yh=e=>{let{title:t,children:a,...n}=e;return r.a.createElement("div",Object(_a.a)([vh.a.root,!!t&&vh.a.withTitle],n),r.a.createElement(jl,null,t&&r.a.createElement(fh,{title:t}),r.a.createElement("div",{className:vh.a.container},a)))};var Eh=a("vCv2"),Oh=a.n(Eh);function jh(){return(jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function kh(e){let{children:t,className:a,gutter:n,...l}=e;return t=r.a.Children.toArray(t),r.a.createElement("ul",jh({className:O()({[Oh.a.root]:!0,[a]:!!a})},l),t.map((e,a)=>r.a.createElement("li",{key:a,style:{marginBottom:t[a+1]?n:0}},e)))}kh.defaultProps={className:"",gutter:16};var wh=kh;const Ch=e=>{let{strict:t,rule:a,children:l}=e;const{warning:o,hasWarning:s,showWarning:i}=Qn(a),c=Object(n.useCallback)(e=>{e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),i()},[i]);return t&&"forbidden"===(null==o?void 0:o.code)?null:"function"==typeof l?l(s?c:void 0):s?r.a.createElement("div",{onClick:c},l):l};function _h(){const{t:e}=Object(m.useTranslation)("landings"),{link:t,pending:a,create:l}=el();Object(n.useCallback)(()=>l(),[l]);return r.a.createElement(Ch,{strict:!0,rule:"websites:create"},a=>r.a.createElement(ke.a,{fullWidth:!0,rounded:!0,style:{height:56,fontSize:16,lineHeight:"24px",boxShadow:"1px 2px 6px rgba(0, 0, 0, 0.08)"},tag:Me.b,to:t,onClick:a},"+ ",e("labels.website.createNew")))}var Ph=a("KZL9"),xh=a.n(Ph);function Sh(e){let{website:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{generateUrl:n}=Object(Qe.a)(),l=th(t);return r.a.createElement(Tn,{key:t._id,title:t.name,url:l&&Object(fs.a)(l),status:!t.enabled&&a("ui:labels.notPublished"),to:n("-/"+t._id),badge:r.a.createElement(km,{websiteId:t._id,short:!0})})}function Nh(){const{t:e}=Object(m.useTranslation)("landings"),{isFree:t}=ze(),a=tt(),n=Kr(),l=n.length>0,o=r.a.createElement(_h,null),s=t&&r.a.createElement(Tn,{title:e("common:misc.promo.pane.title"),url:e("common:misc.promo.pane.description"),to:a,style:{width:"100%",border:"1px solid #2979FF",background:"#F3F8FF",boxShadow:"none"},dataElement:"upgrade-pane"});return r.a.createElement(yh,{title:l&&e("Builder.View.Home.heading")},l?r.a.createElement(r.a.Fragment,null,r.a.createElement(wh,{gutter:8,style:{width:"100%"}},n.map((e,t)=>r.a.createElement(Sh,{key:e._id||t,website:e})),s),r.a.createElement(Hl,null,o)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:xh.a.emptyMessage},r.a.createElement("h2",null,e("Builder.View.Home.empty.title")),r.a.createElement("p",null,e("Builder.View.Home.empty.message")),r.a.createElement("div",null,o))))}var Ih=a("TLwS"),Th=a("xynv");function Mh(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const[t,a]=Object(n.useState)(e),{items:r}=Object(u.c)(e=>e.templates),{api:l}=Object(de.a)(),{pending:o,run:s}=Object(Aa.a)(async()=>{try{return await l.pageTemplates.list()}finally{a(!1)}},[]);return Object(n.useEffect)(()=>{e&&s()},[e]),{pending:o||t,fetch:s,templates:r}}function Lh(e){const{api:t}=Object(de.a)(),{templates:a}=Mh(!1),r=a.find(t=>{let{_id:a}=t;return a===e}),[l,o]=Object(n.useState)(r);return Object(me.a)(async()=>{if(!l){const a=await t.pageTemplates.retrieve({templateId:e});o(a)}},[e]),Object(n.useEffect)(()=>{r&&r!==l&&o(r)},[r]),l}var Bh=a("uh+q"),Fh=a.n(Bh);function Rh(){return(Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Ah=e=>{let{index:t,template:a,themeId:l,scale:o,offset:s,isPrev:i,isNext:c,onClick:u,wrapperRef:d,contentRef:m,...p}=e;const{_id:b}=ye(),{website:g,page:f}=Object(n.useMemo)(()=>{const e=l?Object(Vr.c)(a.theme,l):a.theme,t={...a,theme:e};return{website:xm(t,{workspace:b,theme:e,uploads:a.uploads,branding:!1}),page:t}},[a,l]),h=Object(n.useMemo)(()=>({transformOrigin:(i?"100%":c?0:"50%")+" 0",transform:`scale(${o}) translateX(${i?s+"px":c?-s+"px":0})`,borderRadius:20/o||1}),[i,c,o]),v=Object(n.useCallback)(()=>u&&u(t),[t,u]);return r.a.createElement("div",Rh({className:Fh.a.slideContent},p),r.a.createElement("div",{ref:d,className:Fh.a.slideWrapper},r.a.createElement("div",{ref:m,className:Fh.a.pageWrapper,style:h,onClick:v},l||!a.thumbnailUrl?r.a.createElement(Im.a,{embedded:!0,interactive:!1,website:g,page:f,contentClass:Fh.a.page}):r.a.createElement("img",{alt:a.name,src:a.thumbnailUrl,className:Fh.a.page}))))};var Uh=a("QwRn");const zh={tag:"blank",label:"blank"},Dh=[{tag:"links",label:"links",icon:""},{tag:"contacts",label:"contacts",icon:""},{tag:"shop",label:"hop",icon:""}],Wh=e=>{let{t:t}=e;return{_id:"",name:t("Website.Edit.ChooseTemplate.tags.blank"),uploads:[],secondaryTags:[],primaryTags:["blank"],theme:xe()(Cd()(Object(Vr.a)()),{page:{alignment:"middle"}}),blocks:[{_id:"header",kind:Uh.j,enabled:!0,content:t("Website.Edit.ChooseTemplate.blankLabels.heading"),theme:{blocks:{heading:{textAlign:"center"}}}},{_id:"text",kind:Uh.u,enabled:!0,content:t("Website.Edit.ChooseTemplate.blankLabels.description"),theme:{blocks:{text:{textAlign:"center"}}}}]}},Vh=(e,t)=>{const a=t.map(t=>{let{tag:a}=t;return e.filter(qh(a))}),n=[].concat(...a);return Qg()(n,"_id")},qh=e=>t=>{let{primaryTags:a}=t;return a.includes(e)},Hh=e=>{var t;return null==e||null===(t=e.primaryTags)||void 0===t?void 0:t[0]},Gh=e=>{let{templates:t,value:a,onSelect:l}=e;const{t:o}=Object(m.useTranslation)("landings"),s=Object(n.useMemo)(()=>[...Dh.filter(e=>{let{tag:a}=e;return t.find(qh(a))}),zh],[t]),i=Object(n.useMemo)(()=>s.map(e=>{let{tag:t,icon:n,label:l}=e;return{value:t,props:{children:r.a.createElement("div",{className:O()(Fh.a.tab,{[Fh.a.active]:a===t})},n," ",l&&o("Website.Edit.ChooseTemplate.tags."+l))}}}),[a,s]);return r.a.createElement("div",{className:Fh.a.tabs},r.a.createElement(Og,{className:Fh.a.tabsSelector,items:i,value:a,onSelect:l,noArrows:!0}))};a("4EWf");var $h=function(){var e;const{t:t}=Object(m.useTranslation)("landings"),{create:a,pending:l}=el(),{generateUrl:o}=Object(Qe.a)({useMatchUrl:!0}),{templates:s,pending:i}=Mh(),[c,u]=Object(n.useState)(null),[d,{height:p,width:b}]=ea()(),[g,{height:f}]=ea()(),h=Object(n.useMemo)(()=>[...Vh(s,Dh),Wh({t:t})],[s,t]),[v,y]=Object(n.useState)(Hh(h[0])),[E,O]=Object(n.useState)(null===(e=h[0])||void 0===e?void 0:e._id),[j,k]=Object(n.useState)(null),w=Object(n.useMemo)(()=>({height:p+43}),[p]),C=p/f,_=(b-b*C)/2,P=h.length-1,x=Object(n.useMemo)(()=>o("."),[]),S=Object(n.useCallback)(e=>c&&c.slideTo(e),[c]),N=Object(n.useCallback)(e=>{y(e);const t=h.findIndex(qh(e));t>=0&&S(t)},[S]),I=Object(n.useCallback)(e=>{const t=h[e.activeIndex];O(t._id),y(Hh(t))},[h]),T=Object(n.useCallback)(()=>{const e=h.find(Object(qr.b)(E)),t=j?Object(Vr.c)(e.theme,j):e._id?e.theme:Object(Vr.a)();a({theme:t,templateId:E})},[h,E,j]);return Object(n.useEffect)(()=>{i||P?P&&!E&&O(h[0]._id):a()},[i,P]),nl()(()=>{u(null)}),Object(pl.a)(),i||!P?null:r.a.createElement(nd,{fullHeight:!0,onClose:x,nopadding:!0,inverse:!0},r.a.createElement("div",{className:Fh.a.root},r.a.createElement("div",{className:Fh.a.header},r.a.createElement("h1",null,t("Website.Edit.ChooseTemplate.heading")),r.a.createElement("p",null,t("Website.Edit.ChooseTemplate.subHeading"))),r.a.createElement(Gh,{templates:h,value:v,onSelect:N}),r.a.createElement("div",{className:Fh.a.slider},!i&&r.a.createElement(Ih.a,{onSwiper:u,onSlideChange:I,className:Fh.a.swiper},h.map((e,t)=>{const a=e._id===E,n=t===h.length-1;return r.a.createElement(Th.a,{key:e._id,style:{zIndex:a?-1:0}},a=>{let{isPrev:l,isNext:o}=a;return r.a.createElement(Ah,{key:j,wrapperRef:n?d:null,contentRef:n?g:null,style:w,isPrev:l,isNext:o,index:t,template:e,themeId:j,scale:C,offset:_,onClick:S})})}))),r.a.createElement("div",{className:Fh.a.footer},r.a.createElement(ke.a,{fullWidth:!0,className:Fh.a.button,isFetching:l,onClick:T},t("Website.Edit.ChooseTemplate.select")))))};function Kh(e){this.intervalId=0,this.canvas=e,this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.ctx=e.getContext("2d"),this.width=e.width,this.height=e.height,this.yPositions=[],this.ySpeeds=[],this.yTimes=[],this.lastChars=[];for(let e=0;e<this.width/10;e++)this.yPositions[e]=Math.random()*(this.height/10),this.ySpeeds[e]=.5*(Math.random()+.3),this.yTimes[e]=0,this.lastChars[e]=" ";this.ctx.font="10pt Consolas"}Kh.prototype.Clear=function(){const e=this.ctx.fillStyle;this.ctx.fillStyle="#000000",this.ctx.fillRect(0,0,400,300),this.ctx.fillStyle=e;for(let e=0;e<20;e++)this.Draw()},Kh.prototype.Draw=function(){requestAnimationFrame(this.Draw.bind(this)),this.ctx.fillStyle="#00FF00";for(let e=0;e<this.lastChars.length;e++)this.ctx.fillText(this.lastChars[e],10*e+1,10*this.yPositions[e]);this.ctx.fillStyle="rgba(0, 0, 0, 0.04)",this.ctx.fillRect(0,0,this.width,this.height),this.ctx.fillStyle="#FFFFFF";for(let e=0;e<this.yPositions.length;e++){if(this.yTimes[e]>1){const t=Math.random()>.9?15*Math.random()+12688:93*Math.random()+33,a=String.fromCharCode(t);this.lastChars[e]=a,this.ctx.fillText(a,10*e+1,10*this.yPositions[e]+10),this.yPositions[e]++,10*this.yPositions[e]>this.height&&(this.yPositions[e]=0),this.yTimes[e]=0}this.yTimes[e]+=this.ySpeeds[e]}},Kh.prototype.Start=function(){this.Draw()};const Zh=e=>{let{onTimeout:t,duration:a=2e3}=e;const l=Object(n.useRef)(null);return Object(n.useEffect)(()=>{new Kh(l.current).Start(),(()=>{let e=0;const t=["webkit","moz"];for(let e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,a){const n=(new Date).getTime(),r=Math.max(0,16-(n-e)),l=window.setTimeout(()=>t(n+r),r);return e=n+r,l}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})})();const e=setTimeout(t,a);return()=>{clearTimeout(e)}},[l,t,a]),r.a.createElement(qt.b.div,{transition:{duration:1,ease:"easeInOut"},style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:10,opacity:.7},initial:{opacity:0},animate:{opacity:.7},exit:{opacity:0}},r.a.createElement("canvas",{ref:l,width:400,height:300,style:{position:"absolute",top:0,left:0}}))};var Jh=a("fggk"),Yh=a("9OUN"),Qh=a("iA/U"),Xh=a("V8Kl"),ev=a("LHeh");var tv=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case ev.b.orders.list.successType:return a.result;case ev.b.orders.create.successType:return[a.result,...t];case ev.b.orders.update.successType:case ev.b.orders.modify.successType:case ev.b.orders.finalize.successType:case ev.b.orders.cancel.successType:return null!==(e=a.result.items)&&void 0!==e&&e.length?t.map(e=>e._id===a.result._id?a.result:e):t.filter(e=>e._id!==a.result._id);default:return t}};var av=Object(Yh.combineReducers)({orders:tv,page:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e},mode:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e},website:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}});var nv=function(e){return Object(Yh.createStore)(av,e,Object(Qh.composeWithDevTools)(Object(Yh.applyMiddleware)(Xh.a)))},rv=a("xOYh"),lv=a("ZFej"),ov=a("FW/3"),sv=a("QcaR"),iv=a("SG7T"),cv=a("bekz");function uv(e){let{base:t,children:a}=e;const l=Object(_d.a)(),o=Object(n.useRef)(),s=Object(n.useMemo)(()=>{o.current=null;const e={path:""+t,get router(){return o.current||(o.current=Object(cv.b)(e))},setEntry(a){var n;const r=null===(n=o.current)||void 0===n?void 0:n.toEntry();if(a){if(a===r)return;o.current=Object(cv.b)({...e,back:a,isBackOverriddenBack:!0})}else{if(!r||t===r)return;o.current=Object(cv.b)(e)}l()}};return e},[t]);return r.a.createElement(cv.a.Provider,{value:s},a)}var dv=a("4I22"),mv=a.n(dv);function pv(){return(pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function bv(e){let{handle:t,message:a,okText:n,...l}=e;const{t:o}=Object(m.useTranslation)("landings");return r.a.createElement(ua,pv({fullWidth:!0,portalTo:"#visual-builder",onClose:t},l),e=>{let{handleTrue:t,handleFalse:l}=e;return r.a.createElement("div",{className:mv.a.root},r.a.createElement("p",null,a),r.a.createElement(ke.a,{fullWidth:!0,className:mv.a.horizontalButton,btnStyle:"secondary2",onClick:l},o("ui:button.cancel")),r.a.createElement(ke.a,{fullWidth:!0,className:mv.a.horizontalButton,btnStyle:"danger",onClick:t},n))})}function gv(){return(gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function fv(e){const{t:t}=Object(m.useTranslation)("landings");return r.a.createElement(bv,gv({title:t("labels.deleteBlockHeading"),message:t("labels.deleteBlock"),okText:t("labels.block.delete")},e))}const hv=()=>{const e=Re("desktop_layout"),t=!!Object(c.j)("/pages/-/:any/edit/preview"),a=!Object(c.j)("/pages/-/:any/edit/preview/desktop")&&t||!e,r=(l="/pages/-/:any/help",!(null===(o=Object(c.j)({path:l,strict:!0}))||void 0===o||!o.isExact));var l,o;const s=e&&t,i=s&&!a;return Object(n.useMemo)(()=>({isViewMode:t,isMobileMode:a,isHelpPage:r,isDesktopPreviewMode:i,isInFormatSelectionMode:s}),[t,a,r,i,s])};var vv=e=>(e||"").replace(/([a-zA-Z][A-Z])/g,e=>`${e[0]}-${e[1]}`).toLowerCase();const yv=(e,t)=>{const{t:a}=Object(m.useTranslation)("landings"),[r,l]=Object(n.useState)(null),{pending:o,run:s}=Object(Aa.a)(async n=>{try{const a=await e(n);t&&t(n,a)}catch(e){W.getInstance().notify(a(e.message),{notifyStyle:"danger",showClose:!0,closeDelay:2e3})}},[e,t]),i=Object(n.useCallback)(async e=>{if(l(null),e)return s(r)},[r,t]);return{pending:o,isShown:!!r,initiate:l,run:s,handle:i}},Ev=e=>{const t=Object(de.a)();return yv(t.api.blocks.deleteMany,e)},Ov=e=>{const t=Object(de.a)();return yv(t.api.blocks.cloneMany,e)},jv=e=>e._id,kv=(e,t)=>{const a=Object(c.g)(),r=e._id,l=t._id,{api:o}=Object(de.a)(),{url:s}=Object(c.j)(),[i,u]=Object(n.useState)(t.blocks),[d,m]=Ra()(!1),[p,b]=Ra()(!1),[g,f]=(()=>{const e=Object(n.useRef)(null),t=Object(n.useCallback)(()=>{const t=setTimeout(()=>{var t,a,n;const r=null===(t=e.current)||void 0===t?void 0:t.clientHeight,l=null===(a=e.current)||void 0===a?void 0:a.scrollHeight;null===(n=e.current)||void 0===n||n.scrollTo({top:l-r,behavior:"smooth"})},300);return()=>clearTimeout(t)},[]);return[e,t]})(),h=((e,t)=>{const[a,r]=Object(n.useState)([]),l=Object(n.useMemo)(()=>a.join(""),[a]),o=Object(n.useCallback)(e=>r(e),[]),s=Object(n.useCallback)(e=>e&&r([e]),[]),i=Object(n.useCallback)(e=>e&&r(t=>t.includes(e)?t.filter(t=>t!==e):[e,...t]),[]);return Object(n.useEffect)(()=>{const n=a.length;if(!n)return;const l=t.map(jv),o=e.map(jv),s=o.filter(e=>!l.includes(e)),i=l.filter(e=>!o.includes(e));if(s.length||i.length)if(1===n){const n=a[0],l=e.findIndex(Object(qr.b)(n)),o=t.length-1;let d;var c,u;if(s.length&&s.includes(n)&&(d=l-1),i.length)d=(null===(c=e[e.length-1])||void 0===c?void 0:c._id)!==(null===(u=t[o])||void 0===u?void 0:u._id)?o:l+1;if(void 0!==d){const e=t[Math.max(0,Math.min(d,o))];e&&r([e._id])}}else{n!==a.filter(e=>!s.includes(e)).length&&r(e=>e.filter(e=>!s.includes(e)))}},[t]),{items:a,hash:l,handleSelect:o,handleSelectOne:s,handleToggle:i}})(i,t.blocks),v=Object(n.useMemo)(()=>i.map(e=>{let{_id:t}=e;return t}),[i]),y=Object(n.useCallback)(e=>a.push(`${s}/block/${vv(e.kind)}/${e._id}`),[]),E=Object(n.useCallback)(e=>h.handleSelectOne(e._id),[]),O=Object(n.useCallback)(()=>h.handleSelect([]),[]),j=Object(n.useCallback)(e=>h.handleToggle(e._id),[]),k=Object(n.useCallback)(()=>b(!0),[]),w=Object(Aa.a)(async e=>{let{oldIndex:t,newIndex:a}=e;if(b(!1),t!==a){u($o()(i,t,a));try{await o.blocks.sort({pageId:l,websiteId:r,payload:{oldIndex:t,newIndex:a}})}catch(e){throw u(i),e}}},[r,l,i]),C=Object(n.useCallback)(async(e,t)=>{const a=i.findIndex(t=>t._id===e._id),n=a+t;n<0||n>=i.length||await w.run({oldIndex:a,newIndex:n})},[i,w.run]),{isShown:_,initiate:P,handle:x}=Ev(O),{run:S}=(e=>{const t=Object(de.a)();return yv(t.api.blocks.toggle,e)})(),{run:N}=Ov(Object(n.useCallback)((e,t)=>{const a=t.filter(e=>{let{_id:t}=e;return!i.find(Object(qr.b)(t))}).map(e=>{let{_id:t}=e;return t});h.handleSelect(a)},[i])),[{loading:I},T]=iu()(async e=>{let{selection:t,action:a,enable:n}=e;if(!t.length)return;const o=t.map(e=>{let{_id:t}=e;return t});switch(a){case"up":case"down":{const e="up"===a,n=e?-1:1,r=e?t:t.slice().reverse();for(const e of r)await C(e,n);const l=document.getElementById("block-"+t[0]._id);var s;if(l)null===(s=l.scrollIntoView)||void 0===s||s.call(l,{behavior:"smooth",block:"nearest"});return}case"remove":return P({websiteId:r,pageId:l,payload:{blockId:o}});case"clone":return N({websiteId:r,pageId:l,payload:{blockId:o}});case"toggle":return S({websiteId:r,pageId:l,payload:{blockId:o,enable:n}})}},[C,r,l]),M=I||_;return Object(n.useEffect)(()=>{var e;const a=t.blocks.length-1,n=t.blocks[a],r=i.length<t.blocks.length,l=(null===(e=i[i.length-1])||void 0===e?void 0:e._id)!==(null==n?void 0:n._id);if(u(t.blocks),r&&l)return n.kind===Uh.e&&m(!0),f()},[t.blocks]),{ref:g,isDeleting:_,isDisabledDashboard:M,isMatrix:d,isSorting:p,blockIds:v,blocksHash:v.join(","),blocks:i,setBlocks:u,selection:h,toggleMatrix:m,handleBlockEdit:y,handleBlockSelect:E,handleClearSelection:O,handleBlockToggle:j,handleSortEnd:w,handleSortStart:k,handleAction:T,handleDeletion:x}};var wv=a("LLXx"),Cv=a("uYSu"),_v=a("Bcqe"),Pv=a.n(_v);const xv=e=>{if(!e||!e.getBoundingClientRect)return null;const{left:t,top:a,right:n,bottom:r}=e.getBoundingClientRect(),l=n-t,o=r-a;if(!l&&!o)return null;let s=e,i=0,c=0;for(;s;)c+=s.scrollTop||0,i+=s.scrollLeft||0,s=s.parentNode;return{left:t+i,top:a+c,right:n+i,bottom:r+c,width:l,height:o}},Sv={left:0,top:0,right:0,bottom:0,width:0,height:0},Nv=(e,t)=>{let[a,n]=t;const r={left:1/0,right:-1/0,top:1/0,bottom:-1/0,width:0,height:0};return e.forEach(e=>{let{area:{left:t,top:a,right:n,bottom:l}}=e;t<r.left&&(r.left=t),a<r.top&&(r.top=a),n>r.right&&(r.right=n),l>r.bottom&&(r.bottom=l)}),r.left-=a,r.right+=a,r.top-=n,r.bottom+=n,r.width=r.right-r.left,r.height=r.bottom-r.top,r},Iv=Object(n.createContext)({ref:{current:null},update:Lc.a,listen:Lc.a}),Tv=e=>{let{children:t}=e;const a=Object(n.useRef)(),[l,o]=Object(n.useState)([]),{update:s,emit:i,listen:c}=Object(n.useMemo)(()=>(e=>{let{get:t,set:a,maxListeners:n=500,throttleMs:r=150}=e;const l="selectionchange",o=new h.EventEmitter;return o.setMaxListeners(n),{emit:Pv()(()=>o.emit(l,t()),r),update:(e,n)=>{const r=((e,t,a)=>{const n=[];let r=a&&a.height,l=!1;for(const i of e)i.id===t?r&&(o=i.area,s=a,o.left===s.left&&o.top===s.top&&o.width===s.width&&o.height===s.height?n.push(i):n.push({id:t,area:a}),l=!0,r=!1):n.push(i);var o,s;if(r&&!l&&(n.push({id:t,area:a}),l=!0),l||n.length!==e.length)return n})(t(),e,n);r&&a(r)},listen:e=>(o.addListener(l,e),e(t()),()=>o.removeListener(l,e))}})({get:()=>a.current||[],set:e=>{a.current=e,o(e)}}),[]),u=Object(n.useMemo)(()=>({ref:a,update:s,listen:c}),[a,s,c]);return Object(n.useEffect)(i,[l]),r.a.createElement(Iv.Provider,{value:u},t)},Mv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const[t,a]=Object(n.useState)(Sv),[r,l]=ea()(),o=Object(n.useRef)(),s=Object(n.useCallback)(e=>{o.current=e,a(xv(e)||Sv)},e);Object(n.useLayoutEffect)(()=>{a(xv(o.current)||Sv)},[l,...e]);const i=Object(Tg.a)([s,r]);return[i,t]},Lv=(e,t)=>Object(n.useCallback)(a=>{if(!e)return null==a||a.preventDefault(),null==a||a.stopPropagation(),t&&t()},[e,t]);var Bv=a("nmqT"),Fv=a.n(Bv);function Rv(){return(Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Av=e=>{let{block:t,scale:a,index:l,isScaled:o,isInteractive:s,isSelected:i,isMultiSelectable:c,isAnimated:u,children:d,onClick:p,onDoubleTap:b,onToggle:g,...f}=e;const[h,{height:v}]=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=Object(_d.a)(),{update:l}=Object(n.useContext)(Iv),[o,s]=Mv([a,e,t,r.count]);return Object(n.useLayoutEffect)(()=>{if(t)return l(e,s),()=>{l(e)}},[e,t,s.top,s.height]),[{ref:o,onTransitionEnd:r},s]}(t._id,i,l),{t:y}=Object(m.useTranslation)("landings"),{style:E,dhStyle:j}=Object(n.useMemo)(()=>{const e=`scale(${a})`,t=-v*(1-a)/2;return{dhStyle:o?{transform:e}:void 0,style:o?{transform:e,marginTop:t,marginBottom:t}:null}},[v,o,a]),k=Lv(s,Object(n.useCallback)(()=>p&&p(t),[t,p])),w=Lv(s,Object(n.useCallback)(()=>b&&b(t),[t,b])),C=Lv(s,Object(n.useCallback)(()=>g&&g(t),[t,g]));return s&&!t.enabled?r.a.createElement("div",null):r.a.createElement("div",Rv({"data-block":t._id,"data-block-kind":t.kind},f),r.a.createElement(gs,{small:"medium",iconSize:10,active:o,hidden:s,className:Fv.a.dragHandle,style:j}),r.a.createElement("div",{className:O()(Fv.a.contentWrapper,!s&&Fv.a.nonInteractive),onClick:k,onDoubleClick:w},r.a.createElement("div",Rv({},h,{className:O()(Fv.a.content,!!v&&Fv.a.ready,!t.enabled&&Fv.a.hidden,!s&&Fv.a.nonInteractive,u&&Fv.a.animated),style:E}),t.enabled?d:r.a.createElement(yl,{className:Fv.a.cropped,striped:!0,overlay:y("labels.block.hidden",{kind:y("labels.block.kinds."+t.kind)})},d))),r.a.createElement("div",{className:O()(Fv.a.checkMark,c&&Fv.a.multiSelectable,i&&Fv.a.checked),onClick:C},r.a.createElement("div",{className:Fv.a.checkIcon})))};function Uv(){return(Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const zv=Mb()(e=>Cv.a.resolveInsets({margin:Cv.a.removeHorizontalInsets(Cv.a.unpackInsets(e.margin))})),Dv=Mb()(e=>({padding:0,margin:Cv.a.removeVerticalInsets(Cv.a.unpackInsets(e.margin))})),Wv=Object(Ko.b)(e=>{let{block:t,blockIndex:a,options:n,onBlockClick:l,onBlockDoubleTap:o,onBlockToggle:s,renderBlock:i}=e;const{warning:c}=Qn("page-blocks",t),u=((e,t,a)=>{let{blocks:n,theme:r}=e;return zv(Cv.a.computeComponentInsets(n,t,a,r))})(n,t,a),d=i(t,a);return r.a.createElement(Av,{className:O()(Fv.a.wrapper,{[Fv.a.interactive]:n.isViewMode,[Fv.a.nested]:t.nested}),block:t,index:a,scale:n.scale,isScaled:n.isScaled,isInteractive:n.isViewMode,isSelected:n.selection.includes(t._id),isMultiSelectable:n.selection.length>0,isAnimated:n.isAnimated,style:u,onClick:l,onDoubleTap:o,onToggle:s},c&&n.isWebsitePublished?r.a.createElement(El,{warning:c},d):d)}),Vv=Object(Ko.a)(e=>{let{blocks:t,selection:a,isViewMode:l,isMobileMode:o,isAnimated:s,isWebsitePublished:i,draggable:c,onBlockClick:u,onBlockDoubleTap:d,onBlockToggle:m,theme:p,...b}=e;const{renderBlock:g}=Object(iv.b)(),{border:f}=Object(wv.a)(p.backgroundColor,p.colors.buttonBackground,p.colors.buttonTextColor),[h,{width:v}]=ea()(),y=((v||375)-80)/(v||375),E=Object(n.useMemo)(()=>({selection:a,isScaled:!l,isViewMode:l,isMobileMode:o,isWebsitePublished:i,isAnimated:s,blocks:t,contrastedColor:f,width:v,scale:y,theme:p}),[t,s,l,o,i,a,f,v,y]);return r.a.createElement("div",Uv({ref:h,id:"blocks-container"},Object(_a.a)(Fv.a.root,b)),t.map((e,t)=>r.a.createElement(Wv,{key:e._id||`${e.kind}-${t}`,index:t,block:e,blockIndex:t,options:E,disabled:!c,renderBlock:g,onBlockClick:u,onBlockDoubleTap:d,onBlockToggle:m})))});Vv.defaultProps={...Vv.defaultProps,axis:"y",lockAxis:"y",lockOffset:["50%","50%"],pressDelay:200,lockToContainerEdges:!0,helperClass:Fv.a.dragged,shouldCancelStart:gs.shouldCancelStart};var qv=a("MTr3"),Hv=a.n(qv);function Gv(e){const{t:t}=Object(m.useTranslation)("landings");return r.a.createElement("div",Object(_a.a)(Hv.a.root,e),r.a.createElement("div",{className:Hv.a.card},r.a.createElement("h2",null,t("EmptyPagePreview.EmptyPage.heading")),r.a.createElement("p",null,t("EmptyPagePreview.EmptyPage.subHeading")),r.a.createElement(qt.b.div,{className:Hv.a.downIconWrapper,animate:{y:[0,20,0],opacity:[.5,1,.5]},transition:{ease:"easeInOut",loop:"Infinity",duration:3}},r.a.createElement(td.a,{size:30}))))}var $v=a("khBj");function Kv(){return(Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Zv(e,t){return n.createElement(ha.b,Kv({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M12 2.69l5.66 5.66a8 8 0 11-11.31 0L12 2.69z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var Jv=n.forwardRef(Zv);function Yv(){return(Yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Qv(e,t){return n.createElement(ha.b,Yv({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M12 15a3 3 0 100-6 3 3 0 000 6z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var Xv=n.forwardRef(Qv),ey=a("hYl8"),ty=a.n(ey);function ay(){return(ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const ny=e=>{let{disabled:t,active:a=!0,slim:n=!1,icon:l,title:o,...s}=e;const i=s.to?Me.c:"div",c=s.to?{title:o,exact:!0,activeClassName:ty.a.activeButton}:{title:o};return r.a.createElement("div",{className:O()(ty.a.buttonWrapper,n&&ty.a.slim,a&&ty.a.activeWrapper)},r.a.createElement(i,ay({className:O()(ty.a.button,t&&ty.a.disabled)},c,s),r.a.createElement(l,null),o&&r.a.createElement("span",{className:ty.a.title},o)))};function ry(e){let{isEmptyPage:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{url:n}=Object(c.j)();return r.a.createElement("div",{className:ty.a.row},r.a.createElement(ny,{to:n+"/styling",title:a("Editor.Dashboard.items.theme"),icon:Jv,disabled:t}),r.a.createElement(ny,{to:n+"/preview",title:a("Editor.Dashboard.items.preview"),icon:Xv,disabled:t}))}function ly(e){let{isEmptyPage:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{url:n}=Object(c.j)();return r.a.createElement("div",{className:ty.a.row},r.a.createElement(ny,{to:n+"/preview/desktop",title:a("Editor.Dashboard.items.preview"),icon:bl.e,disabled:t}),r.a.createElement(ny,{to:n+"/preview",title:a("Editor.Dashboard.items.preview"),icon:bl.y,disabled:t}))}function oy(){return(oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function sy(e,t){return n.createElement(ha.b,oy({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M16 3l5 5L8 21H3v-5L16 3z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var iy=n.forwardRef(sy);function cy(){return(cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function uy(e,t){return n.createElement(ha.b,cy({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M12 19V5M5 12l7-7 7 7",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var dy=n.forwardRef(uy);function my(){return(my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function py(e,t){return n.createElement(ha.b,my({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M12 5v14M19 12l-7 7-7-7",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var by=n.forwardRef(py);function gy(){return(gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function fy(e,t){return n.createElement(ha.b,gy({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M3 6h18M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2m3 0v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6h14z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var hy=n.forwardRef(fy);function vy(){return(vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function yy(e,t){return n.createElement(ha.b,vy({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M20 9h-9a2 2 0 00-2 2v9a2 2 0 002 2h9a2 2 0 002-2v-9a2 2 0 00-2-2z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var Ey=n.forwardRef(yy);function Oy(){return(Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function jy(e,t){return n.createElement(ha.b,Oy({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.498 18.498 0 01-2.16 3.19m-6.72-1.07a3.001 3.001 0 01-5.194-2.098A3 3 0 019.88 9.88m8.06 8.06A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94l11.88 11.88zM1 1l22 22",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var ky=n.forwardRef(jy);function wy(){return(wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Cy=e=>{let{index:t,item:a,disabled:l,context:o,onAction:s}=e;const{t:i}=Object(m.useTranslation)("landings"),c=Object(n.useMemo)(()=>!!(l||a.disabled&&a.disabled({...o,index:t})),[l,a.disabled,t,o]),u="function"==typeof a.title?a.title(o):a.title,d=a.icon(o),p=!(a.active&&!a.active(o)),b=Object(n.useCallback)(()=>{var e;return s({...o,...null===(e=a.parameters)||void 0===e?void 0:e.call(a,o),action:a.action})},[s,o,a.action,a.parameters]),g=Object(n.useMemo)(()=>a.to?{to:a.to(o),slim:a.slim}:{onClick:b,slim:a.slim},[a.to,a.slim,b,o]);return r.a.createElement(ny,wy({title:i("Editor.Dashboard.items."+u),icon:d,disabled:c,active:p},g))},_y=e=>{let{block:t}=e;return!!t},Py=e=>e.every(e=>{let{enabled:t}=e;return t}),xy=[{title:"edit",icon:()=>iy,active:_y,to:e=>{let{block:t,url:a}=e;return t&&`${a}/block/${vv(t.kind)}/${t._id}`}},{title:"up",icon:()=>dy,slim:!0,action:"up",active:_y,disabled:e=>{let{index:t}=e;return t<=0}},{title:"down",icon:()=>by,slim:!0,action:"down",active:_y,disabled:e=>{let{index:t,blocks:a}=e;return t<0||t>=a.length-1}},{title:"remove",icon:()=>hy,action:"remove"},{title:"clone",icon:()=>Ey,action:"clone"},{title:e=>{let{selection:t}=e;return Py(t)?"hide":"show"},icon:e=>{let{selection:t}=e;return Py(t)?ky:Xv},disabled:e=>{let{selection:t}=e;return!(t.length&&t.reduce((e,t)=>e&&e.enabled===t.enabled?e:null))},action:"toggle",parameters:e=>{let{selection:t}=e;return{enable:!Py(t)}}}];function Sy(e){let{blocks:t,selected:a,isDisabled:l,onAction:o}=e;const{url:s}=Object(c.j)(),{context:i,index:u}=Object(n.useMemo)(()=>{const e=1===a.length,n=Object(qr.b)(a[0]),r=e?t.findIndex(n):-1,l=e?t.find(n):null;return{index:r,context:{selection:t.filter(e=>{let{_id:t}=e;return a.includes(t)}),blocks:t,block:l,url:s}}},[s,a,t]);return r.a.createElement("div",{className:O()(ty.a.row,ty.a.tight,ty.a.padLeft,!a.length&&ty.a.noSelection)},r.a.createElement("div",{className:ty.a.divider}),xy.map(e=>r.a.createElement(Cy,{key:e.action||e.title,index:u,context:i,disabled:l||!a,item:e,onAction:o})))}function Ny(){return(Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Iy(e){let{isFocusMode:t,isAddonMode:a,isEmptyPage:l,onClearSelection:o,...s}=e;const i=!!s.selected.length,u=Object(Bm.b)(),d=i&&!t,{t:p}=Object(m.useTranslation)("landings"),{url:b}=Object(c.j)(),g=Object(n.useCallback)(e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),o()},[o]);return r.a.createElement("div",{className:O()({[ty.a.root]:!0,[ty.a.sideways]:d,[ty.a.focusMode]:t,[ty.a.onlyFirstRow]:(u||!a)&&!i})},r.a.createElement("div",{className:ty.a.content},r.a.createElement(Sy,Ny({isEmptyPage:l},s)),r.a.createElement(ry,Ny({isEmptyPage:l},s)),r.a.createElement(ly,Ny({isEmptyPage:l},s))),r.a.createElement("div",{className:ty.a.addButton},r.a.createElement(Me.b,{to:t?b:b+"/add-block",title:t?"":p("labels.block.create"),onClick:d?g:void 0},r.a.createElement($v.a,{size:24}))))}var Ty=a("s2Gj"),My=a.n(Ty),Ly=a("piMj"),By=a("nLs+"),Fy=a("Lyau"),Ry=a("Vx5P"),Ay=a("i7N3"),Uy=a("mxQN");const zy={[Uh.v]:e=>({expireDate:Ue()(Date.now()+864e5).format("YYYY-MM-DDTHH:mm"),...e}),[Uh.h]:e=>({...e,giphyId:"dw36yjtOAtuSZyxEJG"}),[Uh.e]:e=>({...e,content:""}),[Uh.t]:(e,t)=>({title:"",items:[{type:"name",label:t("Page.Edit.SubscriptionForm.fieldTypes.name.initialValue"),required:!0,size:250},{type:"phone",label:t("Page.Edit.SubscriptionForm.fieldTypes.phone.initialValue"),required:!0,size:250},{type:"email",label:t("Page.Edit.SubscriptionForm.fieldTypes.email.initialValue"),required:!0,size:250}],ctaLabel:"",ctaText:"",sendLabel:t("Page.Edit.SubscriptionForm.fields.sendLabel.defaultValue"),sentText:t("Page.Edit.SubscriptionForm.fields.sentText.defaultValue"),sentUrl:"",hasUrl:!1,...e}),[Uh.d]:e=>({...e,areas:[]}),[Uh.r]:e=>({items:[],contacts:[],...e}),[Uh.p]:e=>({title:"",collections:{include:[],exclude:[]},products:{include:[],exclude:[]},sort:{},total:0,limit:6,...e}),[Uh.s]:e=>({items:[],...e}),[Uh.q]:e=>({content:"",author:"",...e}),[Uh.n]:e=>({items:[],...e}),[Uh.c]:e=>({...e}),[Uh.x]:e=>({videos:[],autoplay:0,...e}),[Uh.g]:e=>({items:[],...e}),[Uh.b]:e=>({items:[],...e}),[Uh.l]:e=>({images:[],autoplay:0,...e}),[Uh.f]:e=>({...e}),[Uh.i]:e=>({bgUrl:"",logoUrl:"",title:"",subtitle:"",...e}),[Uh.j]:e=>({content:"",...e}),[Uh.k]:e=>({url:"",modal:!0,...e}),[Uh.o]:e=>({messengers:[],...e}),[Uh.m]:e=>({link:{title:"",url:""},...e}),[Uh.u]:e=>({content:"",...e}),[Uh.w]:e=>({url:"",...e})},Dy=r.a.createContext(),Wy={callback:null,mixin:null},Vy=(e,t)=>{switch(t.type){case"callback":return{...e,callback:t.callback};case"mixin":return{...e,mixin:t.mixin};case"reset":return Wy}},qy=e=>{let{children:t}=e;const[{callback:a,mixin:l},o]=r.a.useReducer(Vy,Wy),s=Object(n.useCallback)(e=>o({type:"callback",callback:e}),[o]),i=Object(n.useCallback)(e=>o({type:"mixin",mixin:e}),[o]),c=Object(n.useCallback)(()=>o({type:"reset"}),[o]);return r.a.createElement(Dy.Provider,{value:{callback:a,mixin:l,setCallback:s,setMixin:i,reset:c}},t)},Hy=()=>{const e=Object(n.useContext)(Dy);if(!e)throw new Error("BlockEditContext provider is missing in the hierarchy");return e},Gy=e=>{let{blockId:t,as:a,website:r,page:l,t:o,...s}=e;const{generateUrl:i}=Object(Qe.a)(),{callback:c,mixin:u}=Hy(),d=!t,m=Object(n.useMemo)(()=>({basePath:i("."),backPath:i(".",{useMatchUrl:!0}),successRedirectPath:i(".",{useMatchUrl:!0})}),[]),p=a.block.kind,b=zy[p],g=d?void 0:l.blocks.find(e=>e._id===t),f=Object(n.useMemo)(()=>({...g&&!d?g:b({kind:p,enabled:!0},o),...u}),[d,p,g,u]),h=!(!t||f._id);return{isNew:d,bind:{websiteId:r._id,pageId:l._id,blockId:t,page:l,block:g,blockType:p,initialValues:f,isDeleted:h,isSafe:!c,blockComponent:a.block,stylingPath:"blocks."+p.toLowerCase(),themePropPath:"theme",canToggle:!1,...m,...s}}};function $y(){return($y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Ky=n.createElement("path",{d:"M1 15l5-5 5 5M19 5l-5 5-5-5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"});var Zy=function(e){return n.createElement("svg",$y({width:20,height:20,fill:"none"},e),Ky)},Jy=a("Tf4A"),Yy=a.n(Jy);function Qy(){const{t:e}=Object(m.useTranslation)("landings"),{generateUrl:t}=Object(Qe.a)();return r.a.createElement(qt.b.div,{className:Yy.a.root},r.a.createElement(qt.b.div,{className:Yy.a.overlay,variants:{visible:{backgroundColor:"rgba(0,0,0,.5)",pointerEvents:"auto"},hidden:{backgroundColor:"rgba(0,0,0,0)",transition:{ease:"easeInOut",delay:.1},pointerEvents:"none"}},transition:{ease:"easeInOut"},initial:"hidden",animate:"visible",exit:"hidden",enter:"visible"},r.a.createElement(Me.b,{to:t("..")})),r.a.createElement(qt.b.div,{className:Yy.a.card,variants:{visible:{opacity:1,scale:1,y:0,transition:{ease:"easeInOut",delay:.1}},hidden:{opacity:0,scale:.8,y:20}},transition:{ease:"easeInOut"},initial:"hidden",animate:"visible",exit:"hidden",enter:"visible"},r.a.createElement("ul",{className:Yy.a.list},r.a.createElement("li",null,r.a.createElement("div",{className:Yy.a.icon},r.a.createElement(R.y,{size:20})),r.a.createElement("div",{className:Yy.a.itemDescription},e("Editor.Help.items.theme"))),r.a.createElement("li",null,r.a.createElement("div",{className:Yy.a.icon,style:{backgroundColor:"#007aff",color:"#fff"}},r.a.createElement(R.U,{size:20})),r.a.createElement("div",{className:Yy.a.itemDescription},e("Editor.Help.items.addBlock"))),r.a.createElement("li",null,r.a.createElement("div",{className:Yy.a.icon},r.a.createElement(Zy,{size:20})),r.a.createElement("div",{className:Yy.a.itemDescription},e("Editor.Help.items.sort"))))))}function Xy(){return(Xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var eE=n.createElement("path",{d:"M438.827 186.347l-80.213-88.149c-15.872-15.872-41.728-15.893-57.749.128-5.077 5.077-8.533 11.157-10.325 17.643-15.957-12.224-38.976-11.008-53.675 3.691a40.64 40.64 0 00-10.347 17.621c-15.957-12.181-38.976-10.987-53.653 3.712-4.971 4.971-8.384 10.901-10.24 17.216l-37.803-37.803c-15.872-15.872-41.728-15.893-57.749.128-15.893 15.872-15.893 41.728 0 57.621L212.31 323.392l-86.144 13.525c-23.275 3.328-40.832 23.552-40.832 47.083 0 17.643 14.357 32 32 32h201.152c31.339 0 60.8-12.203 82.965-34.368l33.557-33.557c22.144-22.123 34.325-51.563 34.325-82.859 0-29.227-10.837-57.237-30.506-78.869zm-18.902 146.645l-33.557 33.557c-18.133 18.133-42.24 28.117-67.883 28.117H117.333c-5.888 0-10.667-4.779-10.667-10.667 0-12.971 9.685-24.128 22.677-25.984l106.987-16.811c3.968-.619 7.232-3.413 8.491-7.232 1.237-3.797.235-8-2.603-10.837L82.155 163.072c-7.573-7.573-7.573-19.904.107-27.605a19.436 19.436 0 0113.739-5.675c4.971 0 9.941 1.899 13.739 5.696l106.731 106.731c4.16 4.16 10.923 4.16 15.083 0 2.069-2.091 3.115-4.821 3.115-7.552s-1.045-5.461-3.136-7.552l-43.584-43.584c-7.573-7.573-7.573-19.883.128-27.584 7.552-7.552 19.904-7.552 27.456 0l43.605 43.605c4.16 4.16 10.923 4.16 15.083 0a10.716 10.716 0 003.115-7.552c0-2.731-1.045-5.461-3.136-7.552l-22.251-22.251c-7.573-7.573-7.573-19.883.128-27.584 7.552-7.552 19.904-7.552 27.456 0l22.357 22.357c.043.021.021.021.021.021l.021.021.021.021.021.021h.021c.021 0 .021.021.021.021 4.181 3.968 10.795 3.883 14.869-.213 4.16-4.16 4.16-10.923 0-15.083l-.917-.917c-3.669-3.669-5.696-8.555-5.696-13.739s2.005-10.048 5.803-13.845c7.595-7.552 19.883-7.531 27.115-.363l79.872 87.787C439.125 218.389 448 241.301 448 265.216c0 25.6-9.963 49.664-28.075 67.776z"});var tE=function(e){return n.createElement("svg",Xy({viewBox:"0 0 469.333 469.333"},e),eE)};function aE(){return(aE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var nE=n.createElement("path",{d:"M183.381 109.931C167.851 75.563 133.547 53.333 96 53.333c-52.928 0-96 43.072-96 96 0 37.547 22.229 71.851 56.597 87.403 1.429.64 2.923.939 4.395.939 4.053 0 7.936-2.347 9.728-6.272 2.411-5.376.021-11.691-5.333-14.123-26.752-12.096-44.053-38.763-44.053-67.947 0-41.173 33.493-74.667 74.667-74.667 29.184 0 55.851 17.301 67.947 44.053 2.411 5.376 8.747 7.787 14.101 5.333 5.375-2.431 7.764-8.745 5.332-14.121z"});var rE=function(e){return n.createElement("svg",aE({viewBox:"0 0 469.333 469.333"},e),nE)},lE=a("kokG"),oE=a.n(lE);function sE(e){let{setTipVisible:t}=e;const{t:a}=Object(m.useTranslation)("landings"),l=Object(n.useCallback)(()=>{t(!1)},[t]);return r.a.createElement(qt.b.div,{className:oE.a.root},r.a.createElement(qt.b.div,{className:oE.a.overlay,variants:{visible:{backgroundColor:"rgba(0,0,0,.5)",transition:{ease:"easeInOut",delay:.4}},hidden:{backgroundColor:"rgba(0,0,0,0)",transition:{ease:"easeInOut",delay:.1}}},transition:{ease:"easeInOut"},initial:"hidden",animate:"visible",exit:"hidden",enter:"visible",onClick:l}),r.a.createElement(qt.b.div,{className:oE.a.card,variants:{visible:{y:0,transition:{ease:"easeInOut",delay:.5}},hidden:{y:"calc(100% + 20px)"}},transition:{ease:"easeInOut"},initial:"hidden",animate:"visible",exit:"hidden",enter:"visible"},r.a.createElement("div",null,r.a.createElement("span",{className:oE.a.heading},a("Editor.SortHelp.hint.label")),r.a.createElement("p",{className:oE.a.tip},a("Editor.SortHelp.hint.tip"))),r.a.createElement("div",null,r.a.createElement(qt.b.div,{className:oE.a.block,style:{zIndex:1},animate:{y:[0,0,66,66,66,66,0,0],boxShadow:["0 0 0px rgba(0,0,0,0)","0 0 20px rgba(0,0,0,.5)","0 0 20px rgba(0,0,0,.5)","0 0 0px rgba(0,0,0,0)","0 0 0px rgba(0,0,0,0)","0 0 20px rgba(0,0,0,.5)","0 0 20px rgba(0,0,0,.5)","0 0 0px rgba(0,0,0,0)"],transition:{ease:"easeInOut",delay:1,duration:4,times:[0,.05,.4,.45,.5,.55,.95,1],loop:"Infinity"}}},r.a.createElement(qt.b.div,{className:oE.a.handBlock,animate:{scale:[1,.9,.9,1,1,.9,.9,1],transition:{ease:"easeInOut",delay:1,duration:4,times:[0,.05,.4,.45,.5,.55,.95,1],loop:"Infinity"}}},r.a.createElement(tE,{className:oE.a.hand}),r.a.createElement(qt.b.div,{style:{position:"absolute",top:0,left:0},animate:{opacity:[0,1,1,0,0,1,1,0],transition:{ease:"easeInOut",delay:1,duration:4,times:[0,.05,.4,.45,.5,.55,.95,1],loop:"Infinity"}}},r.a.createElement(rE,{className:oE.a.hand})))),r.a.createElement(qt.b.div,{className:oE.a.block,animate:{y:[0,0,-66,-66,-66,-66,0,0],transition:{ease:"easeInOut",delay:1,duration:4,times:[0,.05,.4,.45,.5,.55,.95,1],loop:"Infinity"}}})),r.a.createElement(ke.a,{fullWidth:!0,style:{marginTop:16},onClick:l},a("Editor.SortHelp.ok"))))}const iE=e=>({rule:"page-styling",subject:e,iconOnly:!0});function cE(){const{t:e}=Object(m.useTranslation)("landings"),t=Object(n.useCallback)(()=>(e=>{let{t:t}=e;return[{to:"theme",label:t("Editor.PageStyling.items.theme"),icon:Jl.i},{to:"background-color",type:"backgroundColor",label:t("Editor.PageStyling.items.backgroundColor"),icon:eo.d,restrict:iE},{to:"background-image",type:"backgroundImage",label:t("Editor.PageStyling.items.backgroundImage"),icon:R.I,restrict:iE}]})({t:e}),[e]);return r.a.createElement(cd,{title:e("Editor.PageStyling.heading"),menuFactory:t})}var uE=a("8PtN"),dE=a("vlqj"),mE=a("74f7");var pE=a("OdJe");const bE=(e,t)=>e&&t?`${e}.${t}`:e||t;var gE=a("1xil"),fE=a.n(gE);const hE=e=>function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{path:t,type:e,applyImmediately:!(a&&a.multiple),...a}},vE={d:{sections:e=>({sections:Object.entries(e).map(e=>{let[t,a]=e;return{label:t,styles:a.filter(Boolean)}})}),section(e){return this.sections({default:fE()(e)})}},s:new Proxy({list:hE("list"),select:hE("select"),choice:hE("choice"),icon:hE("icon"),listOrToggle:hE("listOrToggle"),toggle(e){return{path:e,type:"toggle",applyImmediately:!0,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}},custom(e){return{path:e,type:e,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}}},{get:(e,t)=>e[t]?e[t]:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{path:e,type:t,...a}}})};var yE=a("K1Ij"),EE=a("3j4c");function OE(){return(OE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function jE(e){let{ordered:t,mask:a,unmask:n,onChange:l,...o}=e;return r.a.createElement(ur,o,e=>{let{field:{name:s,value:i,onChange:c,...u},form:{setFieldValue:d,setFieldTouched:m},meta:{initialValue:p}}=e;return r.a.createElement(Mo.a,OE({name:s,value:n?n(i):i,onChange:e=>{const n=a?a(e):e;let r=o.multiple?!Object(Uc.a)(n,p,{ordered:t}):p!==n;d(s,r?n:p),m(s,r,r),l&&l(s,n)}},u))})}var kE=a("jTtA"),wE=a.n(kE);function CE(){return(CE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const _E=e=>{let{group:t,iconName:a,t:n}=e;return{group:t,value:a,label:a||n("ui:labels.notSet"),shortLabel:!a&&n("ui:labels.notSet"),fullWidth:!a,props:{children:a?r.a.createElement("div",{style:{width:"100%",paddingTop:"100%",position:"relative"}},r.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:0,left:0}},r.a.createElement(yE.a,{name:a,size:20,style:{color:Object(EE.c)(a)}}))):r.a.createElement("div",{style:{padding:"7px 16px",textAlign:"center"}},n("ui:labels.noIcon"))}}},PE=e=>{let{t:t,nullable:a,groupLabel:n}=e;return{options:[].concat(...Object.entries(EE.a).map(e=>{let[a,n]=e;return n.map(e=>_E({t:t,group:a,iconName:e}))}),a?[_E({t:t,group:"default",iconName:null})]:[]),groups:Object.entries(EE.a).map(e=>{let[t,a]=e;return{id:t,label:n(t),values:a}}).concat(a?[{id:"default",label:"",values:[null]}]:[])}};function xE(e){return r.a.createElement(jE,CE({containerClassName:wE.a.iconsContainer,choiceClassName:wE.a.choiceButton,activeClassName:wE.a.active,groupLabelClassName:wE.a.groupLabel,fullWidthClassName:wE.a.fullWidth},e))}function SE(){return(SE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const NE=e=>{let{t:t,calcProps:a,...l}=e;const o=l.options.find(e=>e.value===l.value),s=o&&o.props||{},i=Object(n.useMemo)(()=>pE.a.compile({textStyle:l.value}),[l.value.join(",")]);return r.a.createElement("div",SE({},a(l,s),{style:i}),l.supplementaryData&&l.supplementaryData.textLabel||t("landings:labels.text"))};NE.defaultProps={supplementaryData:null};const IE=e=>{let{fontSize:t}=e;return r.a.createElement("div",{style:{fontSize:t,fontWeight:"bold",lineHeight:1}},"Aa")},TE=(e,t)=>"function"==typeof e?e(t):{...t,...e},ME=e=>{let{t:t}=e;return{...vE.d.section([vE.s.color("backgroundColor",{label:t("Page.fields.backgroundColor.label")}),vE.s.custom("backgroundImage",{label:t("Page.fields.backgroundImage.label"),basePath:!0,colorPath:"$1.backgroundColor",opacityPath:"$1.backgroundImageOpacity"}),vE.s.number("backgroundImageOpacity",{label:t("Page.fields.backgroundImage.label")}),vE.s.list("alignment",{label:t("Page.fields.contentAlignment.label"),hint:t("Page.fields.contentAlignment.hint"),options:[{value:"top",label:t("Page.fields.contentAlignment.values.top"),icon:ed.m},{value:"middle",label:t("Page.fields.contentAlignment.values.middle"),icon:ed.l},{value:"bottom",label:t("Page.fields.contentAlignment.values.bottom"),icon:ed.k}]})])}},LE=e=>{let{isAdvancedMode:t,fields:a}=e;return{...vE.d.section([t&&a.color()])}},BE=e=>{let{t:t,isAdvancedMode:a,fields:n}=e;return{...vE.d.section([a&&[n.borderRadius({min:1,max:30}),n.color({path:"color",label:t("Page.Edit.SubscriptionForm.styleLabels.labelsColor")}),n.color({path:"inputTextColor",label:t("Page.Edit.SubscriptionForm.styleLabels.inputTextColor")}),n.color({path:"inputBackgroundColor",label:t("Page.Edit.SubscriptionForm.styleLabels.inputBackgroundColor")}),n.color({path:"buttonTextColor",label:t("Page.Edit.SubscriptionForm.styleLabels.buttonTextColor")}),n.color({path:"buttonBackground",label:t("Page.Edit.SubscriptionForm.styleLabels.buttonBackground")})]])}};function FE(){return(FE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var RE=n.createElement("rect",{x:1,y:1,width:8,height:8,rx:1,stroke:"currentColor",strokeWidth:2}),AE=n.createElement("rect",{x:1,y:13,width:8,height:8,rx:1,stroke:"currentColor",strokeWidth:2}),UE=n.createElement("rect",{x:13,y:1,width:8,height:8,rx:1,stroke:"currentColor",strokeWidth:2}),zE=n.createElement("rect",{x:13,y:13,width:8,height:8,rx:1,stroke:"currentColor",strokeWidth:2});var DE=function(e){return n.createElement("svg",FE({width:22,height:22,fill:"none"},e),RE,AE,UE,zE)};function WE(){return(WE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var VE=n.createElement("rect",{x:1,y:1,width:8,height:8,rx:1,stroke:"currentColor",strokeWidth:2}),qE=n.createElement("rect",{x:1,y:13,width:8,height:8,rx:1,stroke:"currentColor",strokeWidth:2}),HE=n.createElement("rect",{x:12,y:2,width:17,height:2,rx:1,fill:"currentColor"}),GE=n.createElement("rect",{x:12,y:14,width:17,height:2,rx:1,fill:"currentColor"}),$E=n.createElement("rect",{x:12,y:6,width:8,height:2,rx:1,fill:"currentColor"}),KE=n.createElement("rect",{x:12,y:18,width:8,height:2,rx:1,fill:"currentColor"});var ZE=function(e){return n.createElement("svg",WE({width:29,height:22,fill:"none"},e),VE,qE,HE,GE,$E,KE)};const JE=e=>{let{t:t}=e;return{...vE.d.section([vE.s.list("gridMode",{label:t("Page.fields.servicesGridMode.label"),options:[{value:"grid",label:t("Page.fields.servicesGridMode.values.grid"),icon:DE},{value:"list",label:t("Page.fields.servicesGridMode.values.list"),icon:ZE}].filter(Boolean)})])}};function YE(){return(YE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function QE(e,t){return n.createElement(ha.b,YE({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var XE=n.forwardRef(QE);function eO(){return(eO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function tO(e,t){return n.createElement(ha.b,eO({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M12 13a1 1 0 100-2 1 1 0 000 2zM19 13a1 1 0 100-2 1 1 0 000 2zM5 13a1 1 0 100-2 1 1 0 000 2z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var aO=n.forwardRef(tO);function nO(){return(nO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function rO(e,t){return n.createElement(ha.b,nO({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M22 3H2l8 9.46V19l4 2v-8.54L22 3z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var lO=n.forwardRef(rO);const oO=e=>{let{t:t,isAdvancedMode:a,fields:n}=e;return{...vE.d.section([a&&[vE.s.list("filterMode",{label:t("Page.fields.filterMode.label"),options:[{value:"buttons",label:t("Page.fields.filterMode.values.buttons"),icon:XE},{value:"tabs",label:t("Page.fields.filterMode.values.tabs"),icon:a?aO:lO}]}),n.borderRadius({min:1,max:30,if:e=>["buttons","tabs"].includes(e("filterMode"))}),n.color({path:"color",label:t("Page.Edit.Products.styleLabels.textColor")}),n.color({path:"productsCategoryTextColor",label:t("Page.Edit.Products.styleLabels.categoryTextColor")}),n.color({path:"backgroundColor",label:t("Page.Edit.Products.styleLabels.categoryButtonColor"),if:e=>["buttons","tabs"].includes(e("filterMode"))}),n.color({path:"buttonTextColor",label:t("Page.Edit.Products.styleLabels.categoryActiveTextColor"),if:e=>["tabs"].includes(e("filterMode"))}),n.color({path:"buttonBackground",label:t("Page.Edit.Products.styleLabels.categoryActiveButtonColor"),if:e=>["tabs"].includes(e("filterMode"))})]])}},sO=e=>{let{margin:t}=e;return r.a.createElement("div",{style:{width:15}},r.a.createElement("div",{style:{height:1,background:"currentColor",borderRadius:10}}),r.a.createElement("div",{style:{height:2,background:"currentColor",borderRadius:10,margin:t+"px 0"}}),r.a.createElement("div",{style:{height:1,background:"currentColor",borderRadius:10}}))},iO=e=>{let{t:t,fields:a,isAdvancedMode:n}=e;return{...vE.d.section([vE.s.list("template",{label:t("Page.fields.dividerType.label"),options:[{value:"line",label:t("Page.fields.dividerType.values.line"),icon:ed.h},{value:"space",label:t("Page.fields.dividerType.values.space"),icon:td.d}]}),vE.s.list("margin",{label:t("Page.fields.dividerMargin.label"),options:[{value:"small",label:t("Page.fields.dividerMargin.values.small"),icon:()=>r.a.createElement(sO,{margin:3})},{value:"medium",label:t("Page.fields.dividerMargin.values.medium"),icon:()=>r.a.createElement(sO,{margin:5})},{value:"large",label:t("Page.fields.dividerMargin.values.large"),icon:()=>r.a.createElement(sO,{margin:7})}],disabledValue:null}),n&&[a.color({path:"backgroundColor",if:e=>"space"!==e("template")}),vE.s.range("width",{label:t("Page.fields.width.label"),min:1,max:100,step:1,restrict:"page-styling",if:e=>"line"===e("template")}),vE.s.range("height",{label:t("Page.fields.height.label"),min:1,max:10,step:1,restrict:"page-styling",if:e=>"line"===e("template")}),vE.s.list("alignment",{label:t("Page.fields.alignment.label"),options:[{value:"left",label:t("Page.fields.alignment.values.left")},{value:"center",label:t("Page.fields.alignment.values.center")},{value:"right",label:t("Page.fields.alignment.values.right")}],if:e=>["dots","line"].includes(e("template")),disabledValue:null,restrict:"page-styling"})]])}};function cO(){return(cO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var uO=n.createElement("mask",{id:"hatBrand_svg__a",fill:"#fff"},n.createElement("rect",{width:29,height:16,rx:1})),dO=n.createElement("rect",{width:29,height:16,rx:1,stroke:"currentColor",strokeWidth:4,mask:"url(#hatBrand_svg__a)"}),mO=n.createElement("circle",{cx:7.5,cy:17.5,r:5,fill:"currentColor",stroke:"#fff"}),pO=n.createElement("path",{stroke:"currentColor",strokeLinecap:"round",d:"M15.5 18.5h7M15.5 20.5h3"});var bO=function(e){return n.createElement("svg",cO({width:29,height:23,fill:"none"},e),uO,dO,mO,pO)};function gO(){return(gO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var fO=n.createElement("path",{d:"M16 7A7 7 0 112 7a7 7 0 0114 0zM0 17a1 1 0 011-1h16a1 1 0 110 2H1a1 1 0 01-1-1zM3 21a1 1 0 011-1h10a1 1 0 110 2H4a1 1 0 01-1-1z",fill:"currentColor"});var hO=function(e){return n.createElement("svg",gO({width:18,height:22,fill:"none"},e),fO)};const vO=e=>{let{t:t,isAdvancedMode:a,fields:n}=e;return{...vE.d.section([vE.s.list("headerMode",{label:t("Page.fields.headerMode.label"),options:[{value:"avatar",label:t("Page.fields.headerMode.values.avatar"),icon:()=>r.a.createElement(hO,null)},a&&{value:"centered",label:t("Page.fields.headerMode.values.centered")},{value:"brand",label:t("Page.fields.headerMode.values.brand"),icon:()=>r.a.createElement(bO,null)}].filter(Boolean)}),a&&n.color({path:"textColor",label:t("Page.fields.textColor.label"),if:e=>"image"!==e("headerMode")}),n.align(e=>({...e,disabled:e=>!["compact","brand","avatar"].includes(e("headerMode")),if:e=>["compact","brand","avatar"].includes(e("headerMode"))||!a}))])}},yO=e=>{let{fontSize:t}=e;return r.a.createElement("div",{style:{fontSize:t,fontWeight:"bold",lineHeight:1}},"Aa")},EO=e=>{let{t:t,isAdvancedMode:a,fields:n}=e;return{...vE.d.section([vE.s.list("size",{label:t("Page.fields.fontSize.label"),options:[{value:"huge",label:t("Page.fields.size.items.huge"),icon:()=>r.a.createElement(yO,{fontSize:22})},{value:"large",label:t("Page.fields.size.items.large"),icon:()=>r.a.createElement(yO,{fontSize:16})},{value:"medium",label:t("Page.fields.size.items.medium"),icon:()=>r.a.createElement(yO,{fontSize:14})},a&&{value:"small",label:t("Page.fields.size.items.small"),icon:()=>r.a.createElement(yO,{fontSize:12})}].filter(Boolean)}),n.textAlign(e=>({...e,options:a?e.options:e.options.filter(e=>{let{value:t}=e;return"justify"!==t})})),a&&[n.textStyle(e=>({...e,options:e.options.filter(e=>{let{value:t}=e;return!["normal"].includes(t)}).map(e=>"bold"!==e.value?e:{...e,props:{style:{display:"none"}}}),initial:["bold"],mask:null,style:{marginBottom:16}})),n.color()]])}},OO=e=>{let{fields:t,isAdvancedMode:a}=e;return{...vE.d.section([a&&t.fontSize(),t.textStyle(e=>({...e,options:a?e.options:e.options.filter(e=>"normal"!==e.value&&"line-through"!==e.value),style:{marginBottom:16}})),t.textAlign(e=>({...e,options:a?e.options:e.options.filter(e=>"justify"!==e.value)})),a&&t.color()])}},jO=e=>{let{t:t,fields:a,isAdvancedMode:n}=e;return{...vE.d.section([n&&[a.borderRadius({min:1,max:200,if:e=>e("padding"),disabledValue:null}),vE.s.range("width",{label:t("Page.fields.width.label"),min:10,max:100,step:1,if:e=>e("padding"),disabledValue:null}),vE.s.list("alignment",{label:t("Page.fields.alignment.label"),options:[{value:"left",label:t("Page.fields.alignment.values.left")},{value:"center",label:t("Page.fields.alignment.values.center")},{value:"right",label:t("Page.fields.alignment.values.right")}],disabledValue:null,if:e=>e("width")<100}),vE.s.list("padding",{label:t("Page.fields.padding.label"),options:[{value:!0,label:t("Page.fields.padding.values.yes")},{value:!1,label:t("Page.fields.padding.values.no")}]})]])}},kO=e=>{let{t:t,fields:a,isAdvancedMode:n}=e;return{...vE.d.section([vE.s.list("ratio",{label:t("Page.fields.ratio.label"),options:[{value:"original",label:t("Page.fields.ratio.values.original.label"),shortLabel:t("Page.fields.ratio.values.original.shortLabel")},{value:"square",label:t("Page.fields.ratio.values.square.label"),shortLabel:t("Page.fields.ratio.values.square.shortLabel")},{value:"rectangle",label:t("Page.fields.ratio.values.rectangle.label"),shortLabel:t("Page.fields.ratio.values.rectangle.shortLabel")}]}),n&&[vE.s.range("perView",{label:t("Page.fields.perView.label"),min:1,max:5,step:1}),vE.s.list("effect",{label:t("Page.fields.slideshowEffect.label"),options:[{value:"",label:t("ui:labels.notSet")},{value:"flip",label:t("Page.fields.slideshowEffect.values.flip")},{value:"fade",label:t("Page.fields.slideshowEffect.values.fade")}],if:e=>1===e("perView")}),vE.s.range("autoplay",{label:t("Page.fields.autoplay.label"),min:0,max:30,step:1,makeLabel:e=>e?t("labels.timeSeconds",{time:e}):t("ui:labels.notSet")}),a.borderRadius({min:1,max:200,if:e=>e("padding")||e("perView")>1,disabledValue:null})]])}};function wO(){return(wO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var CO=n.createElement("rect",{x:1,y:1,width:22,height:12,rx:3,stroke:"currentColor",strokeWidth:2}),_O=n.createElement("path",{d:"M13.646 6.646a.5.5 0 000 .708l3.182 3.182a.5.5 0 10.707-.708L14.707 7l2.828-2.828a.5.5 0 10-.707-.708l-3.182 3.182zM20 6.5h-6v1h6v-1zM10.354 7.354a.5.5 0 000-.708L7.172 3.464a.5.5 0 10-.708.708L9.293 7 6.464 9.828a.5.5 0 10.708.708l3.182-3.182zM4 7.5h6v-1H4v1z",fill:"currentColor"});var PO=function(e){return n.createElement("svg",wO({width:24,height:14,fill:"none"},e),CO,_O)};function xO(){return(xO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var SO=n.createElement("rect",{x:1,y:1,width:28,height:12,rx:3,stroke:"currentColor",strokeWidth:2}),NO=n.createElement("path",{d:"M3.646 6.646a.5.5 0 000 .708l3.182 3.182a.5.5 0 10.708-.708L4.707 7l2.829-2.828a.5.5 0 10-.708-.708L3.646 6.646zM12 6.5H4v1h8v-1zM26.354 7.354a.5.5 0 000-.708l-3.182-3.182a.5.5 0 10-.707.708L25.293 7l-2.828 2.828a.5.5 0 10.707.708l3.182-3.182zM18 7.5h8v-1h-8v1z",fill:"currentColor"});var IO=function(e){return n.createElement("svg",xO({width:30,height:14,fill:"none"},e),SO,NO)};const TO=e=>{let{t:t,fields:a,isAdvancedMode:n}=e;return{...vE.d.section([n&&[a.icon(),a.color({path:"backgroundColor",label:t("Page.fields.backgroundColor.shortLabel")}),a.color({path:"color",label:t("Page.fields.color.label"),if:e=>!e("contrastedColor"),disabledValue:null})],vE.s.list("width",{label:t("Page.fields.buttonWidth.label"),options:[{value:"adaptive",label:t("Page.fields.buttonWidth.values.adaptive"),icon:PO},{value:"full",label:t("Page.fields.buttonWidth.values.full"),icon:IO}],if:n&&(e=>e("padding"))}),n&&a.borderRadius({min:1,max:30,if:e=>e("padding"),disabledValue:null})])}},MO=e=>{let{t:t,fields:a,isAdvancedMode:n}=e;return{...vE.d.section([vE.s.list("ratio",{label:t("Page.fields.ratio.label"),options:[{value:"rectangle",label:t("Page.fields.ratio.values.rectangle.label"),shortLabel:t("Page.fields.ratio.values.rectangle.shortLabel")},{value:"square",label:t("Page.fields.ratio.values.square.label"),shortLabel:t("Page.fields.ratio.values.square.shortLabel")},n&&{value:"vertical",label:t("Page.fields.ratio.values.vertical.label"),shortLabel:t("Page.fields.ratio.values.vertical.shortLabel")}]}),n&&[vE.s.list("padding",{label:t("Page.fields.padding.label"),options:[{value:"yes",label:t("Page.fields.padding.values.yes")},{value:"no",label:t("Page.fields.padding.values.no")}]}),a.borderRadius({max:200,if:e=>"yes"===e("padding"),disabledValue:0})]])}},LO=e=>{let{t:t,fields:a,isAdvancedMode:n}=e;return{...vE.d.section([vE.s.list("ratio",{label:t("Page.fields.ratio.label"),options:[{value:"rectangle",label:t("Page.fields.ratio.values.rectangle.label"),shortLabel:t("Page.fields.ratio.values.rectangle.shortLabel")},{value:"square",label:t("Page.fields.ratio.values.square.label"),shortLabel:t("Page.fields.ratio.values.square.shortLabel")}]}),n&&[vE.s.list("effect",{label:t("Page.fields.slideshowEffect.label"),options:[{value:"",label:t("ui:labels.notSet")},{value:"flip",label:t("Page.fields.slideshowEffect.values.flip")},{value:"fade",label:t("Page.fields.slideshowEffect.values.fade")}]}),vE.s.range("autoplay",{label:t("Page.fields.autoplay.label"),min:0,max:30,step:1,makeLabel:e=>e?t("labels.timeSeconds",{time:e}):t("ui:labels.notSet")}),a.borderRadius({min:1,max:200,if:e=>e("padding"),disabledValue:null})]])}};function BO(){return(BO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var FO=n.createElement("rect",{x:1,y:1,width:40,height:5,rx:1,stroke:"currentColor",strokeWidth:2}),RO=n.createElement("rect",{x:1,y:10,width:40,height:5,rx:1,stroke:"currentColor",strokeWidth:2});var AO=function(e){return n.createElement("svg",BO({width:42,height:16,fill:"none"},e),FO,RO)};function UO(){return(UO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var zO=n.createElement("path",{d:"M2 1h9.6v14H2a1 1 0 01-1-1V2a1 1 0 011-1zM15 1h12v14H15zM30.4 1H40a1 1 0 011 1v12a1 1 0 01-1 1h-9.6V1z",stroke:"currentColor",strokeWidth:2});var DO=function(e){return n.createElement("svg",UO({width:42,height:16,fill:"none"},e),zO)};function WO(){return(WO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var VO=n.createElement("path",{d:"M3 1h14a2 2 0 012 2v10a2 2 0 01-2 2H3a2 2 0 01-2-2V3a2 2 0 012-2z",stroke:"currentColor",strokeWidth:2}),qO=n.createElement("circle",{cx:10,cy:6,r:3,fill:"currentColor"}),HO=n.createElement("path",{fill:"currentColor",d:"M6 11h8v1H6z"}),GO=n.createElement("path",{d:"M25 1h14a2 2 0 012 2v10a2 2 0 01-2 2H25a2 2 0 01-2-2V3a2 2 0 012-2z",stroke:"currentColor",strokeWidth:2}),$O=n.createElement("circle",{cx:32,cy:6,r:3,fill:"currentColor"}),KO=n.createElement("path",{fill:"currentColor",d:"M28 11h8v1h-8z"});var ZO=function(e){return n.createElement("svg",WO({width:42,height:16,fill:"none"},e),VO,qO,HO,GO,$O,KO)};const JO=e=>{let{t:t,fields:a,isAdvancedMode:n}=e;return{...vE.d.section([vE.s.list("messengersMode",{label:t("Page.fields.messengersMode.label"),options:[{value:"compact",label:t("Page.fields.messengersMode.values.compact"),icon:DO},{value:"beefy",label:t("Page.fields.messengersMode.values.beefy"),icon:ZO},{value:"list",label:t("Page.fields.messengersMode.values.list"),icon:AO}]}),n&&[vE.s.list("themeColors",{label:t("Page.fields.themeColors.label"),options:[{value:!0,label:t("Page.fields.themeColors.values.yes")},{value:!1,label:t("Page.fields.themeColors.values.no")}]}),a.borderRadius({min:0,max:25,if:e=>e("padding"),disabledValue:null})]])}};function YO(){return(YO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var QO=n.createElement("rect",{width:30,height:3,rx:1.5,fill:"currentColor"}),XO=n.createElement("rect",{opacity:.5,x:2,y:10,width:23,height:2,rx:1,fill:"currentColor"}),ej=n.createElement("rect",{opacity:.5,x:2,y:14,width:18,height:2,rx:1,fill:"currentColor"}),tj=n.createElement("rect",{y:5,width:30,height:3,rx:1.5,fill:"currentColor"}),aj=n.createElement("rect",{y:18,width:30,height:3,rx:1.5,fill:"currentColor"});var nj=function(e){return n.createElement("svg",YO({width:30,height:21,fill:"none"},e),QO,XO,ej,tj,aj)};function rj(){return(rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var lj=n.createElement("rect",{width:30,height:3,rx:1.5,fill:"currentColor"}),oj=n.createElement("rect",{opacity:.5,x:2,y:5,width:23,height:2,rx:1,fill:"currentColor"}),sj=n.createElement("rect",{opacity:.5,x:2,y:14,width:18,height:2,rx:1,fill:"currentColor"}),ij=n.createElement("rect",{y:9,width:30,height:3,rx:1.5,fill:"currentColor"}),cj=n.createElement("rect",{y:18,width:30,height:3,rx:1.5,fill:"currentColor"});var uj=function(e){return n.createElement("svg",rj({width:30,height:21,fill:"none"},e),lj,oj,sj,ij,cj)};const dj=e=>{let{fields:t,t:a,isAdvancedMode:n}=e;return{...vE.d.section([n&&[t.textStyle(e=>({...e,path:"headerStyle",options:e.options.filter(e=>{let{value:t}=e;return!["normal","bold"].includes(t)}).map(e=>"bold"!==e.value?e:{...e,props:{style:{display:"none"}}}),initial:["bold"],mask:null,style:{marginBottom:16},supplementaryData:{textLabel:a("landings:labels.header")}})),t.textStyle(e=>({...e,options:e.options.filter(e=>{let{value:t}=e;return!["normal"].includes(t)}).map(e=>"bold"!==e.value?e:{...e,props:{style:{display:"none"}}}),initial:[],mask:null,style:{marginBottom:16}})),t.color(),vE.s.list("exclusive",{label:a("Page.fields.exclusive.label"),shortLabel:a("Page.fields.exclusive.shortLabel"),options:[{value:!0,label:a("Page.fields.exclusive.items.one"),icon:nj},{value:!1,label:a("Page.fields.exclusive.items.any"),icon:uj}]})]])}};function mj(){return(mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var pj=n.createElement("path",{d:"M2.443.333l.932.633c-.545.744-.826 1.547-.844 2.408v1.195H.914V3.55c0-.597.14-1.189.422-1.775A4.304 4.304 0 012.443.333zm2.769 0l.932.633c-.545.744-.827 1.547-.844 2.408v1.195H3.683V3.55c0-.597.14-1.189.421-1.775A4.304 4.304 0 015.212.333z",fill:"currentColor"}),bj=n.createElement("rect",{x:8,y:3,width:22,height:2,rx:1,fill:"currentColor"}),gj=n.createElement("rect",{x:8,y:7,width:18,height:2,rx:1,fill:"currentColor"}),fj=n.createElement("rect",{x:8,y:11,width:12,height:2,rx:1,fill:"currentColor"});var hj=function(e){return n.createElement("svg",mj({width:30,height:13,fill:"none"},e),pj,bj,gj,fj)};function vj(){return(vj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var yj=n.createElement("rect",{x:5,width:25,height:2,rx:1,fill:"currentColor"}),Ej=n.createElement("rect",{x:5,y:4,width:21,height:2,rx:1,fill:"currentColor"}),Oj=n.createElement("rect",{x:5,y:8,width:15,height:2,rx:1,fill:"currentColor"}),jj=n.createElement("path",{fill:"currentColor",d:"M0 0h2v10H0z"});var kj=function(e){return n.createElement("svg",vj({width:30,height:10,fill:"none"},e),yj,Ej,Oj,jj)};const wj=e=>{let{t:t,fields:a,isAdvancedMode:n}=e;return{...vE.d.section([vE.s.list("template",{label:t("Page.fields.quoteTemplate.label"),options:[{value:"quote",label:t("Page.fields.quoteTemplate.values.quote"),icon:hj},{value:"line",label:t("Page.fields.quoteTemplate.values.line"),icon:kj}]}),n&&[a.fontSize(),a.color()]])}},Cj=e=>{let{t:t,fields:a,isAdvancedMode:n}=e;return{...vE.d.section([n&&[vE.s.list("padding",{label:t("Page.fields.padding.label"),options:[{value:"yes",label:t("Page.fields.padding.values.yes")},{value:"no",label:t("Page.fields.padding.values.no")}]}),a.borderRadius({max:200,if:e=>"yes"===e("padding"),disabledValue:0})]])}},_j=e=>{let{fields:t,t:a,isAdvancedMode:n}=e;return{...vE.d.section([vE.s.list("listLabel",{label:a("Page.fields.listLabel.label"),shortLabel:a("Page.fields.listLabel.shortLabel"),options:[{value:"dot",label:a("Page.fields.listLabel.items.dot"),icon:()=>r.a.createElement("div",{style:{lineHeight:"24px",fontSize:28,padding:"0 5px"}},"")},{value:"number",label:a("Page.fields.listLabel.items.number"),icon:()=>r.a.createElement("div",{style:{lineHeight:"24px",fontSize:18,padding:"0 5px"}},"1.")},{value:"line",label:a("Page.fields.listLabel.items.line"),icon:()=>r.a.createElement("div",{style:{lineHeight:"24px",fontSize:28,padding:"0 5px"}},"-")}]}),n&&[t.textStyle(e=>({...e,options:e.options.filter(e=>{let{value:t}=e;return!["normal","line-through"].includes(t)}).map(e=>"bold"!==e.value?e:{...e,props:{style:{display:"none"}}}),initial:["normal"],mask:null,style:{marginBottom:16}})),t.color()]])}},Pj=e=>{let{fontSize:t}=e;return r.a.createElement("div",{style:{fontSize:t,fontWeight:"bold",lineHeight:1}},"Aa")},xj=e=>{let{t:t,fields:a,isAdvancedMode:n}=e;return{...vE.d.section([n&&[vE.s.list("size",{label:t("Page.fields.size.label"),options:[{value:"large",label:t("Page.fields.size.items.large"),icon:()=>r.a.createElement(Pj,{fontSize:22})},{value:"medium",label:t("Page.fields.size.items.medium"),icon:()=>r.a.createElement(Pj,{fontSize:16})},{value:"small",label:t("Page.fields.size.items.small"),icon:()=>r.a.createElement(Pj,{fontSize:14})}]}),vE.s.list("alignment",{label:t("Page.fields.alignment.label"),options:[{value:"left",label:t("Page.fields.alignment.values.left"),icon:R.e},{value:"center",label:t("Page.fields.alignment.values.center"),icon:R.c},{value:"right",label:t("Page.fields.alignment.values.right"),icon:R.f}]}),a.color()]])}},Sj=e=>{let{t:t,isAdvancedMode:a,fields:n}=e;return{...vE.d.section([a&&[n.color(),n.color({path:"backgroundColor",label:t("Page.fields.backgroundColor.shortLabel")})]])}},Nj=e=>{let{t:t,isAdvancedStylingMode:a}=e;const n=(e=>{let{t:t}=e;return{fontSize:e=>vE.s.list("fontSize",TE(e,{label:t("Page.fields.fontSize.label"),options:[{value:"1.3em",label:t("Page.fields.fontSize.values.big"),icon:()=>r.a.createElement(IE,{fontSize:22})},{value:"1em",label:t("Page.fields.fontSize.values.medium"),icon:()=>r.a.createElement(IE,{fontSize:16})},{value:"0.8em",label:t("Page.fields.fontSize.values.small"),icon:()=>r.a.createElement(IE,{fontSize:14})}]})),textAlign:e=>vE.s.list("textAlign",TE(e,{label:t("Page.fields.align.label"),options:[{value:"left",label:t("Page.fields.align.values.left"),icon:R.e},{value:"center",label:t("Page.fields.align.values.center"),icon:R.c},{value:"right",label:t("Page.fields.align.values.right"),icon:R.f},{value:"justify",label:t("Page.fields.align.values.justify"),icon:R.d}]})),align:e=>vE.s.list("align",TE(e,{label:t("Page.fields.align.label"),options:[{value:"left",label:t("Page.fields.align.values.left"),icon:R.e},{value:"center",label:t("Page.fields.align.values.center"),icon:R.c},{value:"right",label:t("Page.fields.align.values.right"),icon:R.f}]})),textStyle:e=>vE.s.list("textStyle",TE(e,{label:t("Page.fields.textStyle.label"),multiple:!0,toggle:!0,initial:["normal"],mask:e=>e.length<=0||"normal"===e[e.length-1]?["normal"]:e.length>1?e.filter(e=>"normal"!==e):e,options:[{value:"normal",label:t("Page.fields.textStyle.values.normal"),icon:Jl.c},{value:"bold",label:t("Page.fields.textStyle.values.bold"),icon:ed.d},{value:"underline",label:t("Page.fields.textStyle.values.underline"),icon:ed.j},{value:"italic",label:t("Page.fields.textStyle.values.italic"),icon:ed.g},{value:"line-through",label:t("Page.fields.textStyle.values.line-through"),icon:ed.i}],preview:NE})),color:e=>vE.s.color("color",TE(e,{label:t("Page.fields.color.label"),restrict:"page-styling"})),borderRadius:e=>vE.s.range("borderRadius",TE(e,{label:t("Page.fields.borderRadius.label"),min:0,max:200,step:1,restrict:"page-styling"})),icon:e=>vE.s.icon("icon",TE(e,{label:t("Page.fields.icon.label"),...PE({t:t,nullable:!0,groupLabel:e=>t("Page.fields.icon.groups."+e)})}))}})({t:t,isAdvancedStylingMode:a}),l={t:t,isAdvancedMode:a,fields:n};return{page:ME(l),blocks:{timer:LE(l),giphy:{},customcode:{},subscriptionform:BE(l),custom:{},servicesgrid:JE(l),products:oO(l),hat:vO(l),divider:iO(l),heading:EO(l),text:OO(l),image:jO(l),imagegallery:kO(l),link:TO(l),video:MO(l),videogallery:LO(l),messengers:JO(l),accordion:dj(l),quote:wj(l),audio:Cj(l),list:_j(l),socials:xj(l),features:Sj(l)}}},Ij=()=>{const{t:e}=Object(m.useTranslation)("landings");return function(e){const t=Object(zr.c)();return Object(n.useCallback)((function(a,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const l=bE(r,n).split(".");let o=e;for(const e of l){if(o[e])o=o[e];else if(o.sections)for(const{styles:t}of o.sections){const a=t.find(t=>"child"===t.type&&t.path===e);if(a){o={sections:a.sections};break}}if(!o)break}const s={parent:r,path:n,theme:t,sections:[],...o};return{definition:s,diff:e=>pE.a.diff(t,e,s),enrich:(e,a)=>pE.a.enrich(t,e,s,a),propPath:a}}),[e,t])}(Object(n.useMemo)(()=>Nj({t:e,isAdvancedStylingMode:!0}),[e,!0]))};var Tj=a("VwT8"),Mj=a.n(Tj);const Lj=["enabled","name","slug","seo","tracking","theme"];function Bj(e){let{websiteId:t,page:a,children:l,title:o,backPath:s,blocked:i}=e;const u=a&&a._id,d=Object(c.g)(),{t:p}=Object(m.useTranslation)("landings"),{api:b}=Object(de.a)(),[g,f]=Ra()(!1),h=Object(n.useMemo)(()=>({websiteId:t,pageId:u,blockId:null}),[t,u]),v=Ij()("theme","page"),y=!u,E=xe()({enabled:!0,name:"",slug:"",seo:{title:"",description:""},tracking:{facebook:"",google:"",yandex:""},theme:{}},Wr()(a,Lj)),O=Object(n.useCallback)(async e=>{const a=e;y?await b.pages.create({websiteId:t,payload:a}):await b.pages.update({websiteId:t,pageId:u,payload:a}),f(!0),setTimeout(()=>d.push(s),200)},[t,u,v]);return Object(pl.a)(),r.a.createElement(Kn,{initialValues:E,onSubmit:O},e=>r.a.createElement(Sm.Provider,{value:h},r.a.createElement(Il,{guardChanges:!g&&!i,onClose:s,title:o,rightButton:r.a.createElement(fr,{noborder:!0,nopadding:!0,className:Mj.a.saveButton,btnStyle:"transparent",size:"small",isInitialHidden:!1,disabled:g||!e.dirty,isFetching:e.isSubmitting,onClick:i},p(y?"labels.page.create":"ui:labels.apply"))},r.a.createElement(Gn.a,{autoComplete:"off"},l({...e,styling:v})))))}Bj.defaultProps={page:null,backPath:"/pages"};var Fj=a("IsRz"),Rj=a.n(Fj);function Aj(e){let{hasWelcomeTip:t,hasCreateTip:a,hasEmptyBlocksTip:n,hasEmptyBlocksMessage:l,page:o,website:s}=e;const{t:i}=Object(m.useTranslation)("landings");return r.a.createElement("div",{className:Rj.a.root},r.a.createElement("div",{className:Rj.a.cover}),r.a.createElement("div",{className:Rj.a.content},r.a.createElement("div",{className:Rj.a.line,style:{width:160}}),r.a.createElement("div",{className:Rj.a.line,style:{width:260}}),r.a.createElement("div",{className:Rj.a.line}),r.a.createElement("div",{className:Rj.a.messengers},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)),r.a.createElement("div",{className:Rj.a.line,style:{width:290}}),r.a.createElement("div",{className:Rj.a.line}),r.a.createElement("div",{className:Rj.a.line}),r.a.createElement("div",{className:Rj.a.image})),t&&r.a.createElement("div",{className:Rj.a.modalContainer},r.a.createElement("div",{className:Rj.a.modal},r.a.createElement("span",{className:Rj.a.modalHeading},i("EmptyPagePreview.welcomeTip.heading")),r.a.createElement("p",{className:Rj.a.modalContent},i("EmptyPagePreview.welcomeTip.text")),r.a.createElement(Vt,{to:"/pages/create",fullWidth:!0,style:{marginTop:16}},i("labels.page.create")))),a&&r.a.createElement("div",{className:Rj.a.modalContainer},r.a.createElement("div",{className:Rj.a.modal},r.a.createElement("span",{className:Rj.a.modalHeading},i("EmptyPagePreview.createTip.heading")),r.a.createElement("p",{className:Rj.a.modalContent},i("EmptyPagePreview.createTip.text")))),n&&r.a.createElement("div",{className:Rj.a.modalContainer},r.a.createElement("div",{className:Rj.a.modal},r.a.createElement("span",{className:Rj.a.modalHeading},i("EmptyPagePreview.emptyBlocks.heading")),r.a.createElement("p",{className:Rj.a.modalContent},i("EmptyPagePreview.emptyBlocks.text")))),l&&o&&r.a.createElement("div",{className:Rj.a.modalContainer},r.a.createElement("div",{className:Rj.a.modal},r.a.createElement("span",{className:Rj.a.modalHeading},i("EmptyPagePreview.emptyBlocks.heading")),r.a.createElement("p",{className:Rj.a.modalContent},i("EmptyPagePreview.emptyBlocks.textInConstructor")),r.a.createElement(Vt,{to:"/pages/-/"+s._id,fullWidth:!0,style:{marginTop:16}},i("labels.addBlocks")))))}function Uj(){return(Uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function zj(e){let{website:t,...a}=e;const{websiteSlug:l}=Object(c.i)(),{website:o,page:s}=Xr(Yr(l)),i=Object(u.c)(e=>e.ui.pagePreview),d=Object(n.useMemo)(()=>({...o,...t}),[o,t]);if(d._id){if(!!s&&s.blocks.filter(e=>e.enabled).length>0||i&&i.blocks.length>0)return r.a.createElement(Im.a,Uj({website:d,page:i||s},a))}return r.a.createElement(Aj,Uj({hasEmptyBlocksTip:!0,website:d},a))}Aj.defaultProps={hasWelcomeTip:!1,hasCreateTip:!1,hasEmptyBlocksTip:!1,hasEmptyBlocksMessage:!1,page:null};var Dj=a("Py4j"),Wj=a("ULhd"),Vj=a("tGol"),qj=a.n(Vj);function Hj(){return(Hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Gj(e){let{children:t,perView:a=1,initialSlide:l=0,forcePerView:o,slideClass:s,pagination:i,...c}=e;const u=r.a.Children.count(t),d=u>a,m=!1!==i,p=d&&m,b=Object(n.useMemo)(()=>!!p&&(m?{clickable:!0,...i}:{el:null}),[p,m,i]);return r.a.createElement(Ih.a,Hj({key:`${d}-${m}`,className:qj.a.root,spaceBetween:0,slidesPerView:o||d?a:u,allowTouchMove:d,initialSlide:l,pagination:b},c),r.a.Children.map(t,e=>r.a.createElement(Th.a,{key:e.key,className:O()(qj.a.slide,s)},e)))}a("4EWf"),a("Eyi5"),Dj.a.use([Wj.a]);var $j=a("de+W"),Kj=a.n($j);const Zj=e=>{let{theme:t}=e;const{isAuto:a,theme:l,opposite:o}=Object(yd.a)(t),s=(a?l:t).colors,i=a?o.colors:null,c=Object(n.useMemo)(()=>({root:{backgroundColor:s.background,clipPath:a?"polygon(0 0, 0% 100%, 100% 0)":null},text:{color:s.text},button:{backgroundColor:s.buttonBackground}}),[s,a]),u=Object(n.useMemo)(()=>i&&{root:{backgroundColor:i.background,clipPath:"polygon(100% 100%, 0% 100%, 100% 0)"},text:{color:i.text},button:{backgroundColor:i.buttonBackground}},[i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Kj.a.thumbnail,style:c.root},r.a.createElement("div",{className:Kj.a.thumbnailContent},r.a.createElement("div",{className:Kj.a.text,style:c.text},"Text"),r.a.createElement("div",{className:Kj.a.button,style:c.button}))),u&&r.a.createElement("div",{className:Kj.a.thumbnail,style:u.root},r.a.createElement("div",{className:Kj.a.thumbnailContent},r.a.createElement("div",{className:Kj.a.text,style:u.text},"Text"),r.a.createElement("div",{className:Kj.a.button,style:u.button}))))},Jj=e=>{let{option:t,active:a,renderOption:l,onSelect:o}=e;const{warning:s,handleBlockedEvent:i}=Qn("page-themes:edit",t.theme),c=Object(n.useCallback)(()=>{o&&o(t.value)},[t.value,o]),u=r.a.createElement("div",{className:Kj.a.simpleContainer},r.a.createElement(Zj,{theme:t.theme}),s&&r.a.createElement(fl,{className:Kj.a.badge,plan:s.target}));return r.a.createElement("div",{className:O()(Kj.a.pill,a&&Kj.a.activePill),onClick:i||c},r.a.createElement("div",{className:Kj.a.bounds},l?l({option:t,active:a,content:u,containerClass:Kj.a.preview,contentClass:Kj.a.previewContent}):u),r.a.createElement("div",{className:Kj.a.label},t.label))};function Yj(){return(Yj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Qj=e=>{let{value:t,options:a,grid:n,radio:l,perView:o=7.5,renderOption:s,children:i,onChange:c,...u}=e;return n?r.a.createElement("div",Object(_a.a)([Kj.a.root,l&&Kj.a.radio],u),r.a.createElement(Mo.a,{grid:!0,value:t,options:a,containerClassName:Kj.a.container,choiceClassName:Kj.a.option,activeClassName:Kj.a.active,renderOption:e=>r.a.createElement(Jj,Yj({key:e.option.value,renderOption:s},e)),onChange:c})):r.a.createElement("div",Object(_a.a)([Kj.a.root,l&&Kj.a.radio],u),i,r.a.createElement(Gj,{key:a.length,perView:o,loop:a.length>o,pagination:!l,centeredSlides:!!l,initialSlide:a.findIndex(e=>e.value===t),slideClass:Kj.a.option,className:Kj.a.swiper},a.map(e=>r.a.createElement(Jj,{key:e.value,option:e,active:e.value===t,renderOption:s,onSelect:c}))))};function Xj(){return(Xj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const ek=e=>{let{onChange:t,page:a,...l}=e;const{ui:o}=Object(de.a)(),[{value:s},,{setValue:i}]=Object(Gn.d)(l.name),c=Object(n.useMemo)(()=>({branding:!1}),[]),u=Object(n.useCallback)(e=>{t?t(e):i(e)},[i,t]);return Object(n.useEffect)(()=>{if(!a)return;const e=l.options.find(e=>e.value===s);o.setPagePreview(e?{...a,theme:e.theme}:null)},[l.options,s]),r.a.createElement(ur,{name:l.name},r.a.createElement(Qj,Xj({value:s,onChange:u},l),r.a.createElement("div",{className:Kj.a.pagePreview},r.a.createElement(zj,{website:c,embedded:!0}))))};function tk(){const{t:e}=Object(m.useTranslation)("landings"),{generateUrl:t}=Object(Qe.a)(),{websiteSlug:a}=Object(c.i)(),{websiteId:l,page:o}=Xr(Yr(a)),s=Object(n.useMemo)(()=>t("../.."),[a]),i=(e=>{const{t:t}=Object(m.useTranslation)("landings"),{theme:a}=Object(yd.a)(),l=Lp()(e,"theme.colorId"),o=Object(Vr.b)(l),s=Object(n.useMemo)(()=>Zs()(Object(dE.a)(o,e.theme||{}),["colorId","light","dark"]),[l,e.theme]);return Object(n.useMemo)(()=>{const n=Wr()(e.theme||{},["page.backgroundImage","page.backgroundImageOpacity","page.alignment"]),l=[["autoTheme",{name:"autoTheme",theme:{...Object(dE.a)(a,n),colorId:"autoTheme",light:"bwTheme",dark:"wbTheme"}}],...Object.entries(mE.a)],o={bwTheme:3,wbTheme:3,autoTheme:2,lightTheme:1,darkTheme:1};return l.map(e=>{let[a,{name:n,theme:l}]=e;const o="autoTheme"===l.colorId;return{value:a,label:o?r.a.createElement("div",null,r.a.createElement(uE.a,{style:{margin:"0 2px -2px 0"}}),t("Editor.PageTheme.items.auto")):n,theme:o?l:Object(dE.a)(s,l)}}).sort((e,t)=>(o[t.value]||0)-(o[e.value]||0))},[s,a])})(o);return r.a.createElement(Bj,{websiteId:l,page:o,title:e("Editor.PageTheme.heading"),backPath:s},e=>{let{setFieldValue:t,setFieldTouched:a,getFieldMeta:n}=e;return r.a.createElement(ek,{grid:!0,name:"theme.colorId",options:i,page:o,onChange:e=>{if(!e)return;const r=i.find(t=>e===t.value);if(r&&r.theme){const{initialValue:e}=n("theme"),l=e.colorId!==Lp()(r,"theme.colorId");t("theme",l?r.theme:e),a("theme",l,l)}}})})}const ak={},nk=(e,t)=>e&&t?`${e}.${t}`:e||t,rk=r.a.createContext(void 0);function lk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const{styling:a,stylesPath:r}=Object(n.useContext)(rk),l=Object(zr.c)(),o=e.replace(r+".","");return Lp()(l,`${a.definition.path}.units.${o}`,t)}function ok(e){const{propPath:t,enrich:a,definition:{path:r,theme:l}}=e,{values:o,setFieldValue:s,setFieldTouched:i}=Object(Gn.f)(),c=nk(t,r),u=Lp()(o,t,ak),d=Object(n.useMemo)(()=>a(u),[u]),m=Object(n.useCallback)(e=>{const t=nk(r,e);return Lp()(d,t,Lp()(l,t))},[r,t,d,l]),p=Object(n.useCallback)((e,a,n)=>{const o=nk(r,e),c=nk(t,o);if(s(c,a),void 0===n){const e=Lp()(d,o,Lp()(l,o)),t=e&&a&&Array.isArray(e)?Object(Uc.a)(e,a,{isEqual:Rr.a}):Rr()(e,a);i(c,!t)}else i(c,n,n)},[r,t,d,l]);return Object(n.useMemo)(()=>({styling:e,stylesPath:c,getter:m,setter:p}),[e,c,m,p])}var sk=a("yY2+"),ik=a.n(sk);function ck(){return(ck=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function uk(e){let{makeLabel:t,showLabels:a,disabled:n,...l}=e;return r.a.createElement("div",{className:O()(ik.a.root,n&&ik.a.disabled)},a&&r.a.createElement("div",{className:ik.a.label},t?t(l.min):l.min),r.a.createElement("div",{className:ik.a.inputWrapper},r.a.createElement("input",ck({type:"range",disabled:n},l))),a&&r.a.createElement("div",{className:O()(ik.a.label,ik.a.right)},t?t(l.value):l.value))}function dk(){return(dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}uk.defaultProps={makeLabel:void 0,showLabels:!0,disabled:!1};const mk=(e,t,a)=>String(Math.max(t,Math.min(+e||0,a)));var pk=e=>r.a.createElement(ur,e,t=>{let{field:{value:a,name:n,onChange:l,builderInput:o,...s},form:{setFieldValue:i,setFieldTouched:c},meta:{initialValue:u}}=t;return r.a.createElement(uk,dk({name:n,value:+mk(a,s.min,s.max),onChange:t=>{const a=((e,t,a)=>Math.max(t,Math.min(+e||0,a)))(t.target.value,s.min,s.max);e.onChange?e.onChange(a):(i(n,a),c(n,u!==a,u!==a))}},s))}),bk=a("BGTi");function gk(){return(gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const fk=e=>({...e,colors:{...e.colors,primary:"#007aff",neutral20:"#c7c7cc",neutral30:"#8e8e93"}}),hk=(e,t,a)=>e?a&&a.length&&t.filter(e=>a.includes(e.value))||[]:t.find(e=>e.value===a);function vk(e){let{onChange:t,multiple:a,noOptionsMessage:n,...l}=e;return r.a.createElement(ur,l,e=>{let{field:{name:l,value:o,onChange:s,disabled:i,...c},form:{setFieldValue:u,setFieldTouched:d},meta:{initialValue:m}}=e;return r.a.createElement(bk.a,gk({theme:fk,isMulti:!!a,isClearable:!1,isSearchable:!1,isDisabled:i,menuPlacement:"auto",name:l,value:hk(a,c.options,o),noOptionsMessage:n,onChange:(e,n)=>{let{action:r,removedValue:o}=n;switch(r){case"remove-value":case"pop-value":if(o.isFixed)return}const s=a?e?e.map(e=>e.value):[]:e.value||void 0,i=a?!Object(Uc.a)(m,s,{ordered:!0}):s!==m;u(l,i?s:m),d(l,i,i),t&&t(l,s)}},c))})}var yk=a("3xJ+"),Ek=a.n(yk),Ok=a("s9D+"),jk=a.n(Ok),kk=a("eeuG"),wk=a.n(kk);function Ck(){return(Ck=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const _k=()=>r.a.createElement("div",{style:{height:"36px",width:"12px",cursor:"pointer",backgroundColor:"#fff",position:"relative",top:"-2px",left:"-6px",borderRadius:"6px",boxShadow:"0 1px 4px rgba(0, 0, 0, 0.37)"}});var Pk=jk()((function(e){let{color:t,inputChange:a,hexValid:n,onChange:l,...o}=e;return r.a.createElement("div",{className:wk.a.root},r.a.createElement("div",{className:wk.a.hueContainer},r.a.createElement("style",null,".hue-horizontal {border-radius: 6px}"),r.a.createElement(Ek.a,Ck({},o,{direction:"horizontal",onChange:function(e){l({a:1,h:e.h,l:.5,s:1})},pointer:_k}))),r.a.createElement("div",{className:wk.a.inputContainer},r.a.createElement("input",{className:n?null:wk.a.invalidInput,style:{backgroundColor:t,borderColor:t},type:"text",maxLength:6,placeholder:"HEX",value:t.substr(1),onChange:a,name:"hexInput"})))}));function xk(){return(xk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Sk=n.createElement("path",{d:"M2.138 6.357a.65.65 0 00-.943 0 .711.711 0 000 .979l3.334 3.461c.26.27.682.27.942 0l7.334-7.615a.711.711 0 000-.98.65.65 0 00-.943 0L5 9.33 2.138 6.357z",stroke:"currentColor",fill:"currentColor"});var Nk=function(e){return n.createElement("svg",xk({width:14,height:14},e),Sk)},Ik=a("AZaG"),Tk=a.n(Ik),Mk=a("2Oxj"),Lk=a.n(Mk);class Bk extends r.a.Component{constructor(e){super(e),this.state={hexShown:!1,hexValid:!0},this.handleChange=this.handleChange.bind(this),this.showHexinput=this.showHexinput.bind(this),this.handleCustomChange=this.handleCustomChange.bind(this)}handleChange(e){const{onChange:t,defaultColors:a,disabled:n}=this.props;if(n)return;const r=e.target,l="#"!==r.value[0]?"#"+r.value:r.value,o=/^[0-9A-Fa-f]+$/;this.setState({hexValid:Fk(a,l)}),"hexInput"===r.getAttribute("name")?(""===r.value||o.test(r.value))&&t("#"+r.value):(this.setState({hexShown:!1}),t(r.value))}handleCustomChange(e,t){const{onChange:a}=this.props;a(e.hex)}showHexinput(e){e.preventDefault();const{onChange:t}=this.props;t("#0087ff"),this.setState({hexShown:!0})}render(){const{defaultColors:e,value:t,className:a,noHex:n,disabled:l}=this.props,{hexShown:o,hexValid:s}=this.state,i=!e.includes(t);return r.a.createElement("div",{className:O()(Lk.a.root,l&&Lk.a.disabled,a)},r.a.createElement("div",{className:Lk.a.colorsList},e.map(e=>r.a.createElement("label",{key:e,style:{background:e}},r.a.createElement("input",{type:"radio",value:e,checked:t===e,onChange:this.handleChange}),t===e&&!o&&r.a.createElement(Nk,{className:Lk.a.check}))),!n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Lk.a.customColorBtn},r.a.createElement("img",{src:Tk.a,alt:"HEX button",onClick:this.showHexinput}),(o||i)&&null!==t&&r.a.createElement(Nk,{className:Lk.a.check})),t&&i&&r.a.createElement(Pk,{color:t,onChange:this.handleCustomChange,inputChange:this.handleChange,hexValid:s}))))}}Bk.defaultProps={color:"#51B3F7",defaultColors:["#51B3F7","#903671","#6D68CB","#53CEC6","#F9BC73","#2F3542"],noHex:!1};const Fk=(e,t)=>e.includes(t)||/(^#[0-9A-Fa-f]{6}$)|(^#[0-9A-Fa-f]{3}$)/i.test(t);function Rk(){return(Rk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ak(e){let{as:t,onChange:a,...n}=e;return r.a.createElement(ur,n,e=>{let{field:{name:n,...l},form:{setFieldValue:o,setFieldTouched:s}}=e;return r.a.createElement(t,Rk({},l,{name:n,onChange:e=>{o(n,e),s(n,!0,!1),a&&a(e)}}))})}function Uk(){return(Uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}Ak.defaultProps={as:Bk};const zk=(e,t)=>a=>String(Math.max(e,Math.min(+a||0,t)));var Dk=e=>{return r.a.createElement(Xi,Uk({type:"number",mask:(t=e.min,a=e.max,e=>Math.max(t,Math.min(+e||0,a))),unmask:zk(e.min,e.max)},e));var t,a};function Wk(){return(Wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Vk(e){let{ordered:t,mask:a,unmask:n,onChange:l,...o}=e;return r.a.createElement(ur,o,e=>{let{field:{name:s,value:i,onChange:c,...u},form:{setFieldValue:d,setFieldTouched:m},meta:{initialValue:p}}=e;return r.a.createElement(Kf,Wk({name:s,value:n?n(i):i,onChange:e=>{const n=a?a(e):e;let r=o.multiple?!Object(Uc.a)(n,p,{ordered:t}):p!==n;d(s,r?n:p),m(s,r,r),l&&l(s,n)}},u))})}var qk=a("QbNu"),Hk=a.n(qk),Gk=a("omef"),$k=a.n(Gk),Kk=a("IYO+"),Zk=a("KCEa"),Jk=a.n(Zk);const Yk=e=>{let{isSelected:t,value:a,onSelect:l}=e;const o=Object(n.useCallback)(()=>l(a),[a,l]),s=new Hk.a(a),i=Object(Kk.a)(s);return r.a.createElement("div",{key:s,className:Jk.a.colorBlock},r.a.createElement("div",{className:Jk.a.colorItem},r.a.createElement("div",{className:Jk.a.colorPreview,style:{background:s.toHex8String()},onClick:o},r.a.createElement(R.n,{className:O()({[Jk.a.checkMark]:!0,[Jk.a.active]:t}),color:i?"#333":"#fff",size:22}))))};var Qk=function(e){let{value:t,onChange:a,colors:n}=e;return r.a.createElement("div",{className:Jk.a.root},r.a.createElement("div",{className:Jk.a.colorsList},n.map(e=>r.a.createElement(Yk,{key:e,value:e,isSelected:e===t,onSelect:a}))))},Xk=a("kA4r"),ew=a("J6he");function tw(e){let{color:t,style:a}=e;return r.a.createElement("div",{style:{width:20,height:20,borderRadius:"50%",background:t,border:"3px solid #fff",transform:"translate(-10px, -10px)",boxShadow:"0 0 10px rgba(0,0,0,.3)",...a}})}tw.defaultProps={style:{}};var aw=a("v7Kt"),nw=a.n(aw);const rw={input:{display:"block",width:"100%",border:"none",outline:"none",fontSize:16,padding:"8px 16px",background:"#f5f5f5",borderRadius:10}};const lw=[{label:"ColorPicker.tabs.palette",component:Qk},{label:"ColorPicker.tabs.custom",component:function(e){let{value:t,onChange:a}=e;const[l,o]=Object(n.useState)({value:t}),s=new Hk.a(t),i=s.toHexString(),c=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;n!==l.value&&o({value:n}),e!==t&&a(e)};return r.a.createElement("div",{className:nw.a.container},r.a.createElement(Xk.HuePicker,{onChange:e=>{c("#"+new Hk.a(e.rgb).setAlpha(s.getAlpha()).toHex8())},color:s.toHex(),direction:"vertical",width:14,height:140,className:nw.a.verticalPicker,pointer:()=>r.a.createElement(tw,{color:i,style:{transform:"translate(-3px, -10px)"}})}),r.a.createElement("div",{className:nw.a.saturationPicker},r.a.createElement(ew.Saturation,{onChange:e=>{c("#"+new Hk.a(e).toHex8())},hsl:s.toHsl(),hsv:s.toHsv(),pointer:()=>r.a.createElement(tw,{color:i})})),r.a.createElement(Xk.AlphaPicker,{onChange:e=>{c("#"+new Hk.a(e.rgb).toHex8())},color:s.toRgb(),direction:"vertical",width:14,height:140,className:nw.a.verticalPicker,pointer:()=>r.a.createElement(tw,{color:i,style:{transform:"translate(-6px, -10px)"}})}),r.a.createElement("div",{style:{width:"100%",flexShrink:0,margin:"20px 0 16px 0"},className:nw.a.inputContainer},r.a.createElement(ew.EditableInput,{value:l.value,onChange:(e,t)=>{c("#"+new Hk.a(t.target.value).toHex8(),t.target.value)},style:rw})))}}];function ow(e){let{name:t,value:a,onChange:l,colors:o}=e;const{t:s}=Object(m.useTranslation)("ui"),i=100/lw.length,[c,u]=Object(n.useState)(()=>{const e=new Hk.a(a).toHex8String();return o.find(t=>new Hk.a(t).toHex8String()===e)?0:1});return r.a.createElement("div",{className:$k.a.root},lw.length>1&&r.a.createElement("div",{className:$k.a.controls},lw.map((e,t)=>{let{label:a}=e;return r.a.createElement("div",{key:t,className:O()({[$k.a.control]:!0,[$k.a.active]:c===t}),onClick:()=>u(t)},s(a))}),r.a.createElement("div",{className:$k.a.activeUnderLine,style:{width:i+"%",left:c*i+"%"}})),r.a.createElement("div",{className:$k.a.tabsContainer,style:{width:100*lw.length+"%",transform:`translateX(-${c*i}%)`}},lw.map(e=>{let{label:n,component:s}=e;return r.a.createElement("div",{key:n,style:{width:i+"%",padding:"16px 16px 0 16px"}},r.a.createElement(s,{name:t,value:a,onChange:l,colors:o}))})))}ow.defaultProps={colors:["#eb3b5aff","#fc5c65ff","#fa8231ff","#fd9644ff","#f7b731ff","#fed330ff","#20bf6bff","#26de81ff","#0fb9b1ff","#2bcbbaff","#2d98daff","#45aaf2ff","#3867d6ff","#4b7becff","#8854d0ff","#a55eeaff","#a5b1c2ff","#d1d8e0ff","#000000ff","#333333ff","#6f6f6fff","#d2d2d2ff","#ffffffff","#ffffff00"]};var sw=ow,iw=a("gR0Y"),cw=a.n(iw);function uw(){return(uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const dw={list:jE,select:vk,color:e=>r.a.createElement("div",{style:{margin:"-16px -16px 0 -16px",width:"calc(100% + 32)"}},r.a.createElement(Ak,uw({as:sw},e))),icon:xE,number:Dk,range:e=>{const t=lk(e.name),a=Object(n.useCallback)(e=>`${e} ${t}`,[t]);return r.a.createElement("div",{style:{margin:"-4px 0 16px 0"}},r.a.createElement(pk,uw({makeLabel:a},e)))},toggle:Ri,listOrToggle:e=>e.options.length>1?r.a.createElement(jE,e):r.a.createElement(Ri,e),choice:e=>r.a.createElement(Vk,uw({containerClassName:cw.a.choicesContainer,choiceClassName:cw.a.choice},e))},mw=(e,t)=>e&&t?`${e}.${t}`:e||t,pw=(e,t)=>"child"!==e.type&&(t.length?t.find(t=>{let{path:a}=t;return a===e.path}):{}),bw=e=>{let{field:{type:t,path:a,if:n,preview:l,disabledValue:o,previewValue:s,supplementaryData:i,applyImmediately:c,basePath:u,restrict:d,hint:m,...p},stylesPath:b,customFields:g,getter:f,onApply:h,undecorated:v}=e;const y=mw(b,a),E=p.as?ur:dw[t]||g[t],O={disabled:n&&!n(f),name:y,...u&&{basePath:b},...v&&{label:!1,tag:"div",className:null},...c&&{onChange:h}};return m?r.a.createElement("div",null,r.a.createElement("p",{style:{margin:"0 0 16px 0",color:"#777"}},m),r.a.createElement(E,uw({},p,O))):r.a.createElement(E,uw({},p,O))},gw=e=>{let{focusPaths:t,section:{label:a,styles:n},stylesPath:l,customFields:o,getter:s,onApply:i}=e;return r.a.createElement("div",null,a&&"default"!==a&&r.a.createElement("div",{style:{marginBottom:10}},a),r.a.createElement("div",null,n.map(e=>{const a=pw(e,t);return a?r.a.createElement(bw,uw({key:e.path,field:e,customFields:o,stylesPath:l,getter:s,onApply:i},a)):null})))},fw=e=>{let{styling:t,styling:{definition:{sections:a}},focusPaths:l,customFields:o,renderFooter:s,onApply:i,...c}=e;const u=ok(t),{values:d}=Object(Gn.f)(),[m]=Object(n.useState)(d),p=Object(n.useMemo)(()=>{for(const{styles:e}of a)for(const t of e){if(!pw(t,l))continue;const e=mw(u.stylesPath,t.path),a=Lp()(m,e),n=Lp()(d,e);if(!Rr()(a,n))return!0}return!1},[m,d,l,u.stylesPath,a]);return r.a.createElement("div",c,r.a.createElement(rk.Provider,{value:u},a.map(e=>r.a.createElement(gw,{key:e.label,section:e,focusPaths:l,getter:u.getter,customFields:o,onApply:i,stylesPath:u.stylesPath})),s&&s({isDirty:p})))};function hw(){const{t:e}=Object(m.useTranslation)("landings"),{generateUrl:t}=Object(Qe.a)(),{websiteSlug:a}=Object(c.i)(),{websiteId:l,page:o}=Xr(Yr(a)),{handleBlockedEvent:s}=Qn("page-styling",{type:"backgroundColor"}),i=Object(n.useMemo)(()=>t("../.."),[a]);return r.a.createElement(Bj,{websiteId:l,page:o,title:e("Page.fields.backgroundColor.label"),blocked:s,backPath:i},e=>{let{styling:t}=e;return r.a.createElement(fw,{styling:t,focusPaths:[{path:"backgroundColor",undecorated:!0}]})})}fw.defaultProps={focusPaths:[],customFields:{},renderFooter:null,onApply:null};var vw=a("svKm"),yw=a.n(vw);const Ew=e=>{let{disabled:t,...a}=e;return r.a.createElement("div",Object(_a.a)([yw.a.root,t&&yw.a.disabled],a))};Ew.defaultProps={disabled:!1};var Ow=a("qkvy"),jw=a.n(Ow);const kw=e=>{let{type:t,simple:a,...n}=e;return r.a.createElement(Ew,Object(_a.a)([jw.a.root,jw.a[t],a&&jw.a.simple],n))};kw.defaultProps={type:"primary",simple:!1};var ww=a("jjoj"),Cw=a("Mixo"),_w=a.n(Cw);const Pw=e=>{let{children:t,...a}=e;return r.a.createElement("div",Object(_a.a)(_w.a.actions,a),r.a.Children.map(t,e=>e&&r.a.cloneElement(e,{className:_w.a.action})))};Pw.defaultProps={children:null};var xw=a("Opjg"),Sw=a.n(xw);const Nw=e=>{let{upload:t,isActive:a,onClick:l}=e;const{getMediaSizeUrl:o}=Object(pb.b)(),s=Object(n.useCallback)(()=>{l(t)},[t,l]);return r.a.createElement("div",{className:O()(Sw.a.item,a&&Sw.a.active),onClick:s},r.a.createElement("div",{className:Sw.a.image},r.a.createElement("div",{className:Sw.a.content,style:{backgroundImage:`url("${o(t.url,pb.a.Half)}")`}})))};Nw.defaultProps={isActive:!1};const Iw=e=>{let{accept:t,onChange:a}=e;const{t:l}=Object(m.useTranslation)("common"),{api:o}=Object(de.a)(),{websiteId:s}=Nm(),{run:i,pending:c,getValidationError:u}=zp({name:"galleryUpload",upload:e=>o.websites.upload({...e,websiteId:s}),onChange:a}),d=u("galleryUpload");return Object(n.useEffect)(()=>{d&&$.notify(l(d),{notifyStyle:"danger",showClose:!0,closeDelay:2e3,target:"#mainRoot"})},[d]),r.a.createElement(Ew,{disabled:c},r.a.createElement("div",{className:Sw.a.uploadButton,style:{pointerEvents:c?"none":"auto"}},r.a.createElement("div",{style:{opacity:c?0:1}},r.a.createElement("span",null,r.a.createElement(R.kb,{size:16})),r.a.createElement("input",{value:"",type:"file",className:Sw.a.fileInput,accept:t,name:"galleryUpload",onChange:i})),c&&r.a.createElement("div",{className:Sw.a.spinner},r.a.createElement(an.a,{color:"white",size:14}))))};Iw.defaultProps={accept:"image/png,image/x-png,image/jpeg"};const Tw=[{id:"All",label:"Gallery.filters.All"},{id:"Images",label:"Gallery.filters.Images",icon:R.I,filter:e=>e.find(e=>{let{entity:t,as:a}=e;return a===mm.a.Image&&t!==Uh.r})},{id:"Backgrounds",label:"Gallery.filters.Backgrounds",icon:ed.a,filter:e=>e.find(e=>{let{as:t}=e;return t===mm.a.Background})},{id:"Logos",label:"Gallery.filters.Logos",icon:Ju.a,filter:e=>e.find(e=>{let{as:t}=e;return t===mm.a.Logo})},{id:"Icons",label:"Gallery.filters.Icons",icon:R.a,filter:e=>e.find(e=>{let{as:t}=e;return t===mm.a.Icon})},{id:"Products",label:"Gallery.filters.Products",icon:R.Z,filter:e=>e.find(e=>{let{entity:t,as:a}=e;return t===Uh.r&&a===mm.a.Image})},{id:"Unused",label:"Gallery.filters.Unused",icon:R.fb,style:{color:"#e33"},filter:e=>!e.length}],Mw=Tw[0].id,Lw=function(e,t){let{includeUnfiltered:a,includeMatches:n,includeStats:r,skipFilters:l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{includeUnfiltered:!0,includeMatches:!0,includeStats:!0,skipFilters:[]};const o=e.map(e=>Object(mm.b)(e,t)),s=[];for(const{id:t,label:l,icon:i,style:c,filter:u}of Tw){if(!u){a&&s.push({id:t,label:l,icon:i,style:c,matches:n&&e,stats:r&&o});continue}const d=e.map((e,t)=>u(o[t])&&{upload:e,stats:o[t]}).filter(Boolean);d.length&&s.push({id:t,label:l,icon:i,style:c,matches:n&&d.map(e=>{let{upload:t}=e;return t}),stats:r&&d.map(e=>{let{stats:t}=e;return t})})}return null!=l&&l.length?s.filter(e=>!l.includes(e.id)):s},Bw=e=>{var t,a;let{option:l,active:o,onClick:s}=e;const{t:i}=Object(m.useTranslation)("landings"),c=Object(n.useCallback)(()=>s&&void s(l.id),[l,s]),u=l.icon;return r.a.createElement("div",{className:O()(Sw.a.pill,s&&Sw.a.interactive,o&&Sw.a.active),style:l.style,onClick:c},u&&r.a.createElement(u,{size:12}),r.a.createElement("span",null,i(l.label),!(null===(t=l.matches)||void 0===t||!t.length)&&r.a.createElement("span",null," (",null===(a=l.matches)||void 0===a?void 0:a.length,")")))},Fw=e=>{let{options:t,active:a,onSelect:n,...l}=e;return!!t.length&&r.a.createElement("div",Object(_a.a)(Sw.a.pills,l),t.map(e=>r.a.createElement(Bw,{key:e.id,active:a===e.id,option:e,onClick:n})))};function Rw(){return(Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Aw=e=>{var t;let{websiteId:a,url:l,onAccept:o,...s}=e;const{t:i}=Object(m.useTranslation)("landings"),{api:c}=Object(de.a)(),{getMediaSizeUrl:u}=Object(pb.b)(),d=Jr(a),{uploads:p,pages:b}=d,g=Object(n.useMemo)(()=>(e=>{if(e.length<=2){const[t,a]=e;if(t.length===(null==a?void 0:a.length))return[t]}return e})(Lw(p,d)),[p,b]),[f,h]=Object(n.useState)(Mw),v=(null===(t=g.find(e=>{let{id:t}=e;return t===f}))||void 0===t?void 0:t.matches)||[],[y,E]=Object(n.useState)(()=>v.findIndex(e=>e.path===l)),[O,j]=Object(n.useState)(()=>p.find(e=>e.path===l)||v[0]),k=O?Lw([O],d,{skipFilters:["Unused"]}):[],w=O&&O.metadata&&O.metadata.dimensions,C=!!k.length,_=Object(n.useCallback)(e=>j(e),[j]),P=Object(n.useCallback)(()=>{o(null,O)},[o,O]),{run:x,pending:S}=Object(Aa.a)(async()=>{const e=O,t=l===e.path,n=v.indexOf(e),r=v[n+1]||v[n-1];await c.websites.deleteUpload({websiteId:a,uploadId:O._id}),j(r),t&&o(null,r||{},!!r)},[O,v,l,o]);return Object(n.useEffect)(()=>{if(l){const e=p.find(e=>{let{path:t}=e;return t===l});p&&j(e)}},[l,p]),Object(n.useEffect)(()=>{const e=v.indexOf(O),t=e<0?0:e;t!==e&&(E(t),O!==v[t]&&j(l&&p.find(e=>e.path===l)||v[t]))},[O,v]),r.a.createElement("div",Rw({className:Sw.a.gallery},s),r.a.createElement("div",{className:Sw.a.preview},r.a.createElement("div",{className:Sw.a.image},O?r.a.createElement("div",{className:Sw.a.content,style:{backgroundSize:"contain",backgroundImage:`url("${u(O.url,pb.a.Large)}")`}}):r.a.createElement(R.I,{size:64,color:"#fff",style:{margin:"calc(-50% - 32px) calc(50% - 32px) calc(50% - 32px)  calc(50% - 32px)"}})),O&&r.a.createElement("div",{className:Sw.a.legend},r.a.createElement("div",{className:Sw.a.row},r.a.createElement("div",{className:Sw.a.attribute},O.filename)),r.a.createElement("div",{className:Sw.a.row},r.a.createElement("div",{className:Sw.a.attribute},Object(ww.a)(O.size),w&&r.a.createElement("span",null,`, ${w.width}x${w.height}`))),C?!!k.length&&r.a.createElement("div",{className:Sw.a.row},r.a.createElement("div",{className:Sw.a.attribute},"Used as: ",r.a.createElement(Fw,{options:k,style:{margin:"-4px 0"}}))):r.a.createElement("div",{className:Sw.a.row},r.a.createElement("div",{className:Sw.a.attribute},r.a.createElement(ke.a,{tag:"a",fullWidth:!0,size:"small",btnStyle:"danger",style:{marginTop:8,height:"auto",paddingTop:4,paddingBottom:4,textAlign:"center",borderRadius:5},disabled:S,onClick:x},i("labels.deleteUpload"),O.path===l&&r.a.createElement("span",null,r.a.createElement("br",null),i("labels.justUploaded"))))))),(v.length>1||f!==Mw)&&r.a.createElement(r.a.Fragment,null,g.length>1&&r.a.createElement("div",{className:Sw.a.filters},r.a.createElement(Fw,{active:f,options:g,onSelect:h})),r.a.createElement("div",{className:Sw.a.list},r.a.createElement(Gj,{key:`${f}-${v.length}`,pagination:{dynamicBullets:!0,dynamicMainBullets:6},perView:4,forcePerView:!0,initialSlide:y},v.map(e=>r.a.createElement(Nw,{key:e._id,upload:e,isActive:O===e,onClick:_}))))),r.a.createElement(Pw,{className:Sw.a.actions,style:{marginTop:v.length>1?0:16}},r.a.createElement(Iw,{onChange:_}),r.a.createElement(ke.a,{tag:"a",fullWidth:!0,size:"standart",disabled:S||!O,onClick:P},i("ui:labels.apply"))))};function Uw(){return(Uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function zw(e){let{url:t,as:a,onSelect:l,...o}=e;const{t:s}=Object(m.useTranslation)("landings"),{websiteId:i}=Nm(),{uploads:c}=Jr(i),[u,d]=Object(n.useState)(!1),p=Object(n.useCallback)((e,t,a)=>{a||d(!u),t&&l&&l(t)},[l,u]),b=a||kw;return r.a.createElement(r.a.Fragment,null,!!c.length&&r.a.createElement(b,Uw({},Object(_a.a)(Sw.a.root,o),{onClick:p}),!a&&r.a.createElement(bl.r,{size:16,style:{margin:0}})),u&&r.a.createElement(ua,{fullWidth:!0,title:s("UploadsGallery.heading"),style:{zIndex:5e3},onClose:p,render:e=>{let{handleClose:a}=e;return r.a.createElement(Aw,{websiteId:i,url:t,onAccept:a})}}))}Aw.defaultProps={url:""},zw.defaultProps={className:"",url:"",as:null};var Dw=a("+6N8"),Ww=a.n(Dw);function Vw(){return(Vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function qw(e){let{isFetching:t,icon:a,label:n,tag:l,color:o,style:s,children:i,compact:c,...u}=e;return r.a.createElement(l,Vw({style:{backgroundColor:o,pointerEvents:t?"none":"auto",...s}},Object(_a.a)({[Ww.a.root]:!0,[Ww.a.compact]:c},u)),r.a.createElement("div",{className:Ww.a.icon},t?r.a.createElement(an.a,{color:"white",size:c?24:16}):r.a.createElement(a,{size:c?24:16,color:"#fff"})),r.a.createElement("div",{className:Ww.a.label},n),i)}qw.defaultProps={isFetching:!1,tag:"div",color:"#007aff",style:{},children:null,compact:!1};var Hw=a("EUVg"),Gw=a.n(Hw);const $w=e=>{let{onChange:t,accept:a,name:n,value:l,isUploading:o}=e;const{t:s}=Object(m.useTranslation)("landings");return r.a.createElement(r.a.Fragment,null,r.a.createElement(qw,{compact:!l,label:s(l?"ui:labels.change":"ui:labels.upload"),icon:R.kb,isFetching:o},r.a.createElement("input",{value:"",type:"file",className:Gw.a.fileInput,accept:a,name:n,onChange:t})),r.a.createElement(zw,{as:qw,url:l,icon:bl.r,compact:!l,label:s("UploadsGallery.label"),style:{marginTop:10},onSelect:e=>t(null,e)}))},Kw=e=>{let{opacityName:t,imageName:a,colorName:l,upload:o,accept:s}=e;const{t:i}=Object(m.useTranslation)("landings"),{getMediaSizeUrl:c}=Object(pb.b)(),{getFieldMeta:u,setFieldValue:d}=Object(Gn.f)(),{value:p}=u(a),{value:b}=u(t),{value:g}=u(l),f=c(p,pb.a.Large),h=Object(n.useCallback)(e=>{let{path:t}=e;return d(a,t)},[a]),v=Object(n.useCallback)(()=>{d(a,null),d(t,1)},[a,t]);return r.a.createElement(qt.b.div,{className:Gw.a.root,style:{background:g}},r.a.createElement(qt.b.div,{className:Gw.a.preview},r.a.createElement(qt.a,null,f&&r.a.createElement(r.a.Fragment,null,r.a.createElement(qt.b.div,{className:Gw.a.imageContainer,initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},enter:{opacity:1,scale:1},exit:{opacity:0,scale:1.1},transition:{ease:"easeInOut"}},r.a.createElement("img",{src:f,alt:"background image",style:{opacity:b}})),r.a.createElement(qt.b.div,{className:Gw.a.opacityBlock,initial:{opacity:0,y:"-100%"},animate:{opacity:1,y:0},enter:{opacity:1,y:0},exit:{opacity:0,y:"-100%"},transition:{ease:"easeInOut"}},r.a.createElement(pk,{name:t,min:0,max:1,step:.01,showLabels:!1}),r.a.createElement("span",null,i("Page.fields.opacity.label"))))),r.a.createElement(qt.b.div,{layout:!0,className:Gw.a.innerContent,style:{alignItems:f?"flex-end":"center"}},r.a.createElement(qt.b.div,{layout:!0,className:Gw.a.actionsContainer},r.a.createElement(Dp,{accept:s,as:$w,name:a,upload:o,onChange:h,style:{marginBottom:0}}),r.a.createElement(qt.a,null,f&&r.a.createElement(qt.b.div,{style:{overflow:"hidden",height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{ease:"easeInOut"}},r.a.createElement(qw,{label:i("ui:labels.remove"),icon:R.gb,color:"#dc5960",style:{marginTop:10},onClick:v})))))))},Zw={backgroundImage:e=>{let{name:t,basePath:a,colorPath:n,opacityPath:l}=e;const{api:o}=Object(de.a)(),{websiteId:s}=Nm();return r.a.createElement(Kw,{accept:"image/png,image/x-png,image/jpeg",imageName:t,colorName:n.replace("$1",a),opacityName:l.replace("$1",a),upload:e=>{let{payload:t}=e;return o.websites.upload({payload:t,websiteId:s})}})}};function Jw(){const{t:e}=Object(m.useTranslation)("landings"),{generateUrl:t}=Object(Qe.a)(),{websiteSlug:a}=Object(c.i)(),{websiteId:l,page:o}=Xr(Yr(a)),{handleBlockedEvent:s}=Qn("page-styling",{type:"backgroundImage"}),i=Object(n.useMemo)(()=>t("../.."),[a]);return r.a.createElement(Bj,{websiteId:l,page:o,title:e("Page.fields.backgroundImage.label"),backPath:i,blocked:s},e=>{let{styling:t}=e;return r.a.createElement(fw,{styling:t,customFields:Zw,focusPaths:[{path:"backgroundImage",undecorated:!0}]})})}function Yw(){const{t:e}=Object(m.useTranslation)("landings"),{generateUrl:t}=Object(Qe.a)(),{websiteSlug:a}=Object(c.i)(),{websiteId:l,page:o}=Xr(Yr(a)),s=Object(n.useMemo)(()=>t("../.."),[a]);return r.a.createElement(Bj,{websiteId:l,page:o,title:e("Page.fields.contentAlignment.label"),backPath:s},e=>{let{styling:t}=e;return r.a.createElement(fw,{styling:t,focusPaths:[{path:"alignment",undecorated:!0}]})})}var Qw=a("oB8S"),Xw=a.n(Qw);function eC(){return(eC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function tC(e){let{websiteId:t,page:a,block:l,stylingPath:o,parentStylingPath:s,themePropPath:i,children:u,successRedirectPath:d,canToggle:p,initialValues:b,validationSchema:g,blockComponent:f,isInitialDirty:h,isDeleted:v,isSafe:y,backPath:E,basePath:j,actions:k,onSubmit:w,onDone:C,..._}=e;const P=Jr(t),x=a._id,S=l&&l._id,N=!S,I=Object(n.useRef)(),T=Object(n.useMemo)(()=>({websiteId:t,pageId:x,blockId:S}),[t,x,S]),M=Object(c.g)(),{api:L}=Object(de.a)(),{t:B}=Object(m.useTranslation)("landings"),{callback:F}=Hy(),[A,U]=Ra()(!1),[z,D]=Ra()(!1),[W,V]=Object(n.useState)(null),q=Ij()(i,o,s),H=Object(n.useMemo)(()=>({...b,theme:q.enrich(b.theme)}),[b,q]),{warning:G,handleBlockedEvent:$}=Qn("page-blocks:edit",l||b),{warning:K,handleBlockedEvent:Z}=Qn("page-blocks-publish:edit",l||b),J=Object(n.useMemo)(()=>({create:{rule:"page-blocks:create",subject:l},delete:{rule:"page-blocks:delete",subject:l}}),[l]),Y=Object(n.useCallback)(e=>!e.pathname.startsWith(j),[j]),Q=Object(n.useCallback)(async(e,t)=>{if(C||F){const e={blockId:S,isNew:!S,block:I.current.values,...t};if(F&&!1===await F(e))return;if(C&&!1===await C(e))return}e&&("function"==typeof e?(U(!0),e()):V(e)),D(!1)},[C,F,M,S]),X=Object(n.useCallback)(e=>{I.current.setStatus("success"),Q(d,e)},[d,Q]),ee=Object(n.useCallback)(()=>{Q(E,{action:"cancel"})},[E,Q]),te=Object(n.useCallback)(async e=>{if(w)return w(e);const t={...e,theme:q.diff(e.theme)};let a=T.blockId;l?await L.blocks.update({...T,payload:{...l,...t}}):({_id:a}=await L.blocks.create({...Zs()(T,["blockId"]),payload:t})),X({action:"update",blockId:a})},[T,l,X,w]),{isShown:ae,initiate:ne,handle:re}=Ev(Object(n.useCallback)(()=>X({action:"remove"}),[X])),{pending:le,run:oe}=Ov(Object(n.useCallback)(()=>X({action:"clone"}),[X])),se=Object(n.useCallback)(()=>ne(T),[T]),ie=Object(n.useCallback)(()=>oe(T),[T]),ce=Object($n.a)({initialValues:H,validationSchema:g,onSubmit:te});return I.current=ce,Object(pl.a)(),Object(n.useEffect)(()=>{W&&(V(null),setTimeout(()=>M.push(W),100))},[W]),r.a.createElement(Gn.c,{value:ce},r.a.createElement(Sm.Provider,{value:T},r.a.createElement(Il,eC({fullWidth:!0,onClose:ee,guardChanges:y&&!A&&!G&&!K&&!v&&Y,rightButton:()=>ce.dirty||h?r.a.createElement(fr,eC({noborder:!0,nopadding:!0,className:Xw.a.saveButton,btnStyle:"transparent",size:"small",isInitialHidden:!1,disabled:!ce.isValid||A,isFetching:ce.isSubmitting},G?{onClick:$}:N&&K&&P.enabled?{onClick:Z}:{}),B(N?"labels.block.createShort":"labels.block.saveShort")):N?null:r.a.createElement(r.a.Fragment,null,k&&r.a.Children.map(k,e=>r.a.createElement("div",{className:Xw.a.menuIcon,onClick:e.props.onClick},e)),r.a.createElement("div",{className:Xw.a.menuIcon,onClick:D},r.a.createElement(R.Q,{size:25,color:"#333"})))},_),r.a.createElement(Gn.a,{autoComplete:"off"},p&&r.a.createElement(Ri,{label:B("Page.fields.enabled.label"),name:"enabled"}),u({...ce,styling:q,values:{...ce.values,theme:q.enrich(ce.values.theme,!0)},as:f})),z&&r.a.createElement(ua,{fullWidth:!0,title:B("labels.block.actions.title"),portalTo:"#visual-builder",onClose:D,render:()=>r.a.createElement(jl,{fullWidth:!0},r.a.createElement("div",{className:O()(Xw.a.menuWrapper,(ae||le||A||W||!z)&&Xw.a.disabled)},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(id,{className:Xw.a.menuItem,tag:"div",label:B("labels.block.actions.duplicate"),labelIcon:R.v,restrict:J.create,disabled:ae||le,onClick:ie})),r.a.createElement("li",null,r.a.createElement(id,{className:Xw.a.menuItem,tag:"div",label:B("labels.block.actions.delete"),labelIcon:R.gb,labelColor:"#dc5960",iconColor:"#dc5960",restrict:J.delete,disabled:ae||le,onClick:se})))))}),ae&&r.a.createElement(fv,{handle:re}))))}tC.defaultProps={stylingPath:"",parentStylingPath:"",themePropPath:"",title:"",block:null,validationSchema:null,canToggle:!0,canDelete:!0,isInitialDirty:!1,isDeleted:!1,isSafe:!0,initialValues:null,blockComponent:!1,onSubmit:null,onDone:null};var aC=a("f9bD"),nC=a.n(aC),rC=a("hXy0"),lC=a.n(rC);function oC(){return(oC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const sC=(e,t)=>({...t,className:O()(e.className,t&&t.className),style:{...t&&t.style||{},textAlign:"center"}}),iC=e=>e.value,cC=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iC;const{previewValue:a,value:n,t:r}=e;return a?a(e):null==n?r("ui:labels.notSet"):t(e)},uC=e=>{const t=e.options.find(t=>t.value===e.value),a=t&&t.props||{},n=t?t.shortLabel||a.children||t.label:e.value;return r.a.createElement("div",sC(e,a),cC({...e,value:n}))},dC=e=>r.a.createElement("div",sC(e),cC(e,e=>{let{t:t,value:a}=e;return t(a?"labels.on":"labels.off")})),mC={default:e=>r.a.createElement("div",sC(e),cC(e)),number:e=>r.a.createElement("div",sC(e,{style:{}}),cC(e)),range:e=>{const t=lk(e.path),a=e.makeLabel?e.makeLabel(e.value):cC(e,t?e=>{let{value:a}=e;return`${a}${t}`}:iC);return r.a.createElement("div",sC(e,{style:{}}),a)},toggle:dC,select:uC,choice:uC,list:uC,listOrToggle:e=>e.options.length>1?uC(e):dC(e),color:e=>r.a.createElement("div",sC({...e,className:lC.a.colorField}),r.a.createElement("div",{className:lC.a.colorFieldColor,style:{backgroundColor:e.value}})),icon:e=>{const t=e.options.find(t=>t.value===e.value),a=t&&t.props||{},n=t?t.shortLabel||a.children||t.label:e.value;return r.a.createElement("div",sC(e,{...a,className:O()(lC.a.iconField,t&&t.rounded&&lC.a.iconFieldRounded)}),cC({...e,value:n}))}},pC=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;if("list"===e.type&&e.options.length<=a){const a=t.getter(e.path),n=e.options.findIndex(e=>e.value===a);if(n>=0){const t=(n+1)%e.options.length;return e.options[t]}}},bC=e=>{let{accessors:t,field:a,onSelect:l}=e;const{t:o}=Object(m.useTranslation)("ui"),{warning:s,handleBlockedEvent:i}=Qn(a.restrict,a),c=Object(n.useCallback)(e=>{if(i)return i(e);const n=pC(a,t);n?t.setter(a.path,n.value):l(a)},[t,a,l,i]);if("child"===a.type)return null;const u=a.preview||mC[a.type]||mC.default,d=t.getter(a.path),p=a.if&&!a.if(t.getter),b={...a,disabled:p,value:d},g=pC(a,t);return r.a.createElement("div",oC({className:lC.a.field,onClick:c},((e,t)=>({...t,style:{...t&&t.style||{},opacity:e.disabled?.4:1,pointerEvents:e.disabled?"none":"auto",textAlign:"center"}}))(b)),r.a.createElement("div",{className:lC.a.knob},null!=s&&s.target?r.a.createElement(fl,{plan:s.target,className:lC.a.badge}):g?r.a.createElement(td.b,null):r.a.createElement(td.c,null)),r.a.createElement("div",{className:lC.a.preview},r.a.createElement(u,oC({t:o},b,{calcProps:sC}))),r.a.createElement("div",{className:lC.a.label},a.shortLabel||a.label))},gC=e=>{let{accessors:t,section:{label:a,styles:l},onSelect:o}=e;const[s,i]=Object(n.useState)(0),c=Object(n.useMemo)(()=>({clickableClass:lC.a.clickablePagination,bulletActiveClass:lC.a.activeBullet}),[]),u=Object(n.useMemo)(()=>l.filter(e=>"child"!==e.type&&!(e.if&&!e.if(t.getter))),[l,t.getter]),d=u.length,m=Object(n.useCallback)(e=>{i(e.realIndex)});return r.a.createElement("div",{className:lC.a.section},a&&"default"!==a&&r.a.createElement("div",{className:lC.a.sectionLabel},a),r.a.createElement("div",{className:lC.a.fields},r.a.createElement(Gj,{key:d,slideClass:lC.a.slide,perView:3,slidesPerGroup:3,pagination:c,initialSlide:s,onSlideChange:m},u.map(e=>r.a.createElement(bC,{key:e.path,field:e,accessors:t,onSelect:o})))))},fC=e=>{let{onSelect:t,styling:a}=e;const n=ok(a);return r.a.createElement("div",{className:lC.a.root},r.a.createElement(rk.Provider,{value:n},a.definition.sections.map(e=>r.a.createElement(gC,{key:e.label,section:e,accessors:n,onSelect:t}))))};fC.defaultProps={};var hC=a("j1ax"),vC=a.n(hC);function yC(){return(yC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}a("4EWf"),a("Eyi5"),Dj.a.use([Wj.a]);const EC=e=>{let{accessors:t,field:a,onSelect:n}=e;const{t:l}=Object(m.useTranslation)("ui"),o=t.getter(a.path),s=a.disabled&&a.disabled(t.getter),i=a.options&&a.options.filter(Boolean);return"child"===a.type?null:r.a.createElement("ul",{className:vC.a.fieldOptionsList,style:{opacity:s?.2:1,pointerEvents:s?"none":"auto"}},i&&i.map((e,n)=>{const l=e.icon;return r.a.createElement("li",{key:n,onClick:()=>(e=>{let{field:a,value:n}=e;if(a.multiple)return o.includes(n)?void t.setter(a.path,o.filter(e=>e!==n)):void t.setter(a.path,[...o,n]);t.setter(a.path,n)})({field:a,value:e.value}),style:{color:s||!(o===e.value||Array.isArray(o)&&o.includes(e.value))?"#333":"#007AFF",fontWeight:s||!(o===e.value||Array.isArray(o)&&o.includes(e.value))?"normal":"500"}},l&&r.a.createElement(l,{size:20}),!l&&e.label&&r.a.createElement("span",{style:{padding:"0 5px"}},e.shortLabel||e.label))}))},OC=e=>{let{accessors:t,section:{label:a,styles:n},onSelect:l}=e;const o=n.filter(e=>"child"!==e.type&&!(e.if&&!e.if(t.getter)));return r.a.createElement("div",{className:vC.a.section},o.map(e=>e.options&&r.a.createElement(EC,{key:e.path,field:e,accessors:t,onSelect:l})))},jC=e=>{let{onSelect:t,styling:a,...n}=e;const l=ok(a);return!!a.definition.sections.filter(e=>e.styles.length>0).length?r.a.createElement("div",yC({className:vC.a.root},n),r.a.createElement(rk.Provider,{value:l},a.definition.sections.map(e=>r.a.createElement(OC,{key:e.label,section:e,accessors:l,onSelect:t})))):null};jC.defaultProps={};function kC(e,t,a){let{definition:{parent:r,path:l}}=a;return Object(n.useMemo)(()=>{let a=[];if([r,l].filter(Boolean).join(".").startsWith("blocks.")){const n=t.kind;a=(e=>{const t=[];for(const a of e){if(t.length){if(t.find(e=>Rr()(e.theme,a.theme)))continue}t.push(a)}return t})(e.blocks.filter(e=>e.kind===n).reduce((e,t)=>(e.push({item:t,theme:t.theme||{}}),e),[]))}return a},[e,t])}var wC=a("2cVh"),CC=a("0Yj9"),_C=a.n(CC);function PC(){return(PC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function xC(e){let{children:t,style:a,contentStyle:l,...o}=e;const s=Object(n.useRef)(null),{theme:i,style:c}=Object(wC.b)(!0,!0);return r.a.createElement("div",PC({style:{padding:0,...c,...a}},Object(_a.a)(_C.a.root,o),{"data-el":"preview-block"}),i.backgroundImage&&r.a.createElement("div",{className:_C.a.backgroundWrapper},r.a.createElement(ov.a,{path:i.backgroundImage,opacity:i.backgroundImageOpacity})),r.a.createElement("div",{ref:s,className:_C.a.content,style:l},r.a.Children.map(t,e=>e&&r.a.cloneElement(e,{style:{...e.props.style,position:"relative"}}))))}xC.defaultProps={children:null,style:null};var SC=a("tky1"),NC=a.n(SC);function IC(){return(IC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const TC=e=>{let{styling:t,item:a,index:l,theme:o,render:s,onAccept:i,...c}=e;const u=Object(n.useCallback)(()=>{i(o)},[o,i]);return r.a.createElement("div",IC({className:NC.a.root,onClick:u},c),r.a.createElement("div",{className:NC.a.item},r.a.Children.map(s(a,l),e=>r.a.cloneElement(e,{style:{...e.props&&e.props.style,flex:1,pointerEvents:"none"}}))))},MC=e=>{let{styling:t,suggestions:a,render:n,onAccept:l,...o}=e;return r.a.createElement(Gj,IC({perView:1},o),a.map((e,a)=>{let{item:o,theme:s}=e;return r.a.createElement(TC,{key:o._id,styling:t,item:o,index:a,theme:s,render:n,onAccept:l})}))},LC=e=>nC()(e,e=>null!=e),BC=e=>{let{page:t,element:a,styling:l,children:o,preview:s,portalTo:i,showToolPanel:c,advancedStyling:u,toolPanelStyle:d}=e;const{t:p}=Object(m.useTranslation)("landings"),{isAdvancedStylingMode:b}=Be(),{setter:g}=ok(l),{renderBlock:f}=Object(iv.b)(),h=kC(t,a,l),v=function(e,t){for(var a=arguments.length,n=new Array(a>2?a-2:0),r=2;r<a;r++)n[r-2]=arguments[r];return LC(Lp()(t.enrich(e,...n),t.definition.path))}(a.theme,l,!0),[y,E]=Object(n.useState)({}),[O,j]=Object(n.useState)(null),[k,w]=Object(n.useState)(null),[C,_]=Ra()(!1),P=!Rr()(v,y),x=Object(n.useRef)({});Object(n.useLayoutEffect)(()=>{if(P){for(const[e,t]of Object.entries(v))t!==y[e]&&(void 0===y[e]?void 0===x.current[e]?(x.current[e]=t,g(e,t)):g(e,x.current[e]):x.current[e]=t);E(v)}},[P]);const S=Object(n.useCallback)(e=>{j(e),w(v)},[v]),N=Object(n.useCallback)(e=>{j(null),e||g("",k)},[k]),I=Object(n.useCallback)(e=>{_(!1);const t=e&&Lp()(l.enrich(e),l.definition.path);t&&g("",t)},[_,l]);return r.a.createElement(r.a.Fragment,null,O&&r.a.createElement(ua,{paneMotionProps:{layout:!1},title:O.label,portalTo:i,onClose:N,render:e=>{let{handleTrue:t}=e;return r.a.createElement(fw,{styling:l,focusPaths:[{path:O.path,undecorated:!["toggle","listOrToggle"].includes(O.type)}],renderFooter:e=>{let{isDirty:a}=e;return!O.applyImmediately&&r.a.createElement(ke.a,{fullWidth:!0,size:"standart",disabled:!a,onClick:t},p("ui:labels.apply"))},onApply:t})}}),C&&r.a.createElement(ua,{title:p("labels.block.restyle"),portalTo:i,padding:!1,onClose:I,render:e=>{let{handleClose:a}=e;return r.a.createElement(xC,{page:t,style:{margin:"0 0 -1px 0",width:"100%"}},r.a.createElement(MC,{styling:l,suggestions:h,render:s||f,onAccept:a}))}}),o,c&&l.definition.sections.length>0&&(u||b?r.a.createElement(fC,{style:d,styling:l,onSelect:S}):r.a.createElement(jC,{style:d,styling:l,onSelect:S})))};function FC(){return(FC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function RC(e){var t;let{blockId:a}=e;const{t:l}=Object(m.useTranslation)("landings"),{websiteSlug:o}=Object(c.i)(),{website:s,page:i}=Xr(Yr(o)),{bind:u,isNew:d}=Gy({website:s,page:i,blockId:a,as:RC}),[p,b]=Object(n.useState)(Ue()((null==u||null===(t=u.block)||void 0===t?void 0:t.expireDate)||Date.now()+864e5).format("YYYY-MM-DDTHH:mm"));return r.a.createElement(tC,FC({},u,{title:l("Page.Edit.Timer.heading"),isInitialDirty:d}),e=>{let{values:t,styling:a,setFieldValue:n}=e;return r.a.createElement(BC,{page:i,element:t,styling:a},r.a.createElement(xC,{page:i,style:{marginBottom:16}},r.a.createElement(u.blockComponent,{block:t})),r.a.createElement(Xi,{builderInput:!0,type:"datetime-local",label:l("Page.Edit.Timer.labels.expireDate"),value:p,onChange:e=>((e,t)=>{b(e.target.value),t("expireDate",Ue()(e.target.value).toISOString()||"")})(e,n),style:{margin:0},min:Ue()(new Date).format("YYYY-MM-DDTHH:mm"),max:Ue()(new Date(Date.now()+63072e6)).format("YYYY-MM-DDTHH:mm")}),r.a.createElement(Xi,{name:"expireDate",type:"hidden"}))})}BC.defaultProps={portalTo:"#visual-builder",onSuggestionsResolved:null,children:null,preview:null,showToolPanel:!0,advancedStyling:!0},RC.block=rv.n;var AC=a("9Qqr"),UC=a("CvQj"),zC=a.n(UC),DC=a("xm/Z"),WC=a.n(DC);function VC(e){let{backgroundColor:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{fetchGifs:l,searchKey:o}=Object(n.useContext)(AC.SearchContext),{setFieldValue:s}=Object(Gn.f)(),i=Object(n.useRef)(null),c=Object(n.useCallback)(e=>{const t=document.querySelector('[data-el="preview-block"]');s("giphyId",e.id),null==t||t.scrollIntoView({block:"start",behavior:"smooth"})},[s]);return r.a.createElement("div",{ref:i,className:WC.a.giphyComponents},r.a.createElement(AC.Carousel,{key:o,gutter:8,borderRadius:10,gifHeight:100,fetchGifs:l,noLink:!0,onGifClick:c,backgroundColor:t,hideAttribution:!0,className:WC.a.carousel,noResultsMessage:r.a.createElement("div",{className:WC.a.noResults},a("Page.Edit.Giphy.carousel.notFound"))}),r.a.createElement(AC.SearchBar,{placeholder:a("Page.Edit.Giphy.placeholders.search"),className:WC.a.searchInput}))}function qC(e){const{t:t}=Object(m.useTranslation)("landings"),[a,l]=Object(n.useState)(0),o=Object(n.useMemo)(()=>({type:a?"stickers":"gifs",limit:5}),[a]);return r.a.createElement(AC.SearchContextManager,{apiKey:Oe.giphy_public_key,options:o},r.a.createElement("div",{style:{marginBottom:12},className:WC.a.root},r.a.createElement(Ub,{tabIndex:a,onSelect:l,className:WC.a.tabs},r.a.createElement(Db,null,t("Page.Edit.Giphy.tabs.gifs")),r.a.createElement(Db,null,t("Page.Edit.Giphy.tabs.stickers")))),r.a.createElement(VC,e),r.a.createElement("img",{src:zC.a,alt:"Powered by Giphy",className:WC.a.giphyAttribution}))}function HC(){return(HC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function GC(e){let{blockId:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{websiteSlug:n}=Object(c.i)(),{website:l,page:o}=Xr(Yr(n)),{style:s}=Object(wC.b)(!0,!0),{bind:i,isNew:u}=Gy({website:l,page:o,blockId:t,as:GC});return r.a.createElement(tC,HC({},i,{title:a("Page.Edit.Giphy.heading"),isInitialDirty:u}),e=>{let{values:t,styling:a}=e;return r.a.createElement(BC,{page:o,element:t,styling:a},r.a.createElement(xC,{page:o,style:{marginBottom:16}},r.a.createElement(i.blockComponent,{block:t})),r.a.createElement(qC,{backgroundColor:s.backgroundColor}))})}function $C(){return($C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function KC(e){let{blockId:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{websiteSlug:n}=Object(c.i)(),{website:l,page:o}=Xr(Yr(n)),{bind:s}=Gy({website:l,page:o,blockId:t,as:KC});return r.a.createElement(tC,$C({},s,{title:a("Page.Edit.CustomCode.heading")}),e=>{let{values:t,styling:n}=e;return r.a.createElement(BC,{page:o,element:t,styling:n},r.a.createElement(pr,{builderInput:!0,placeholder:a("Page.Edit.CustomCode.fields.content.placeholder"),name:"content",style:{marginBottom:0},maxLength:1e4,minRows:10,maxRows:20}))})}VC.defaultProps={backgroundColor:"transparent"},GC.block=rv.g,KC.block=rv.e;const ZC=Object(Hi.d)({label:Object(Hi.e)().trim().ensure().min(3,"common:errorsList.block_subform_item_label_length").max(250,"common:errorsList.block_subform_item_label_length"),required:Object(Hi.b)(),size:Object(Hi.c)()}),JC=Object(Hi.d)({ctaLabel:Object(Hi.e)().trim().ensure().max(250,"common:errorsList.block_subform_cta_label_length"),ctaText:Object(Hi.e)().trim().ensure().max(250,"common:errorsList.block_subform_cta_text_length"),sendLabel:Object(Hi.e)().trim().ensure().max(250,"common:errorsList.block_subform_send_label_length"),sentText:Object(Hi.e)().trim().ensure().max(1e3,"common:errorsList.block_subform_sent_text_length"),sentUrl:Object(Hi.e)().nullable().trim().url("common:errorsList.enter_url").max(800,"common:errorsList.url_length").transform(e=>e&&wu(e)),items:Object(Hi.a)(ZC).min(1,"common:errorsList.block_subform_item_count_low").max(10,"common:errorsList.block_subform_item_count")});var YC=a("tVV1"),QC=a.n(YC);function XC(){return(XC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const e_=e=>{let{name:t,factory:a,isNew:n,isInitialDirty:o,validationSchema:s,children:i,applyLabel:c,onApply:u,onDelete:d,...p}=e;const{isClosing:b,onClose:g,onExit:f}=ia({onClose:u}),{t:h}=Object(m.useTranslation)("landings"),{getFieldMeta:v}=Object(Gn.f)(),{value:y=a()}=v(t),E=r.a.createElement(Kn,{initialValues:y,validateOnMount:!0,validationSchema:s,onSubmit:g},e=>r.a.createElement(Il,XC({isClosing:b,onClose:g,onExit:f,guardChanges:!1,rightButton:()=>r.a.createElement(fr,XC({noborder:!0,nopadding:!0,className:QC.a.saveButton,btnStyle:"transparent",size:"small",isInitialHidden:!1},o?{disabled:!1}:{},{isFetching:e.isSubmitting}),n?(null==c?void 0:c.create)||h("ui:labels.add"):(null==c?void 0:c.save)||h("ui:labels.save"))},p),r.a.createElement(Gn.a,{autoComplete:"off"},"function"==typeof i?i(e):i)));return Object(l.createPortal)(E,document.querySelector("#visual-builder"))},t_=e=>{let{name:t,sortable:a,Item:l,onEdit:o,onDelete:s}=e;const{getFieldMeta:i}=Object(Gn.f)(),{value:c}=i(t),u=Object(n.useCallback)(()=>{o&&o(c)},[c,o]),d=Object(n.useCallback)(e=>{e&&e.preventDefault(),e&&e.stopPropagation(),s&&s(c)},[c,s]);return r.a.createElement("div",{className:QC.a.item},!!a&&r.a.createElement(gs,{className:QC.a.drag,active:!!a,iconSize:9}),r.a.createElement("div",{className:QC.a.itemContainer},r.a.createElement("div",{className:QC.a.itemContentWrapper,onClick:u},r.a.createElement(l,{className:QC.a.itemContent,textClassName:QC.a.itemText,name:t,value:c,onEdit:u,onDelete:d})),s&&r.a.createElement(kw,{type:"transparent",simple:!0,onClick:d},r.a.createElement(R.gb,{size:20}))))};function a_(){return(a_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t_.defaultProps={sortable:!1,validationSchema:null,onEdit:null,onDelete:null};const n_=Object(Ko.b)(t_),r_=Object(Ko.a)(e=>{let{name:t,items:a,sortable:n,getItemKey:l,Item:o,onEdit:s,onDelete:i,...c}=e;return r.a.createElement(ur,a_({name:t},Object(_a.a)(QC.a.row,c),{builderInput:!0}),a.map((e,c)=>r.a.createElement(n_,{key:l?l(e,c):e._id||c,index:c,Item:o,sortable:n&&a.length>1,name:`${t}.${c}`,onEdit:s,onDelete:i})))});r_.propTypes={...r_.propTypes,name:k.a.string.isRequired,items:k.a.array.isRequired,sortable:k.a.bool.isRequired,Item:k.a.elementType.isRequired,getItemKey:k.a.func,onEdit:k.a.func,onDelete:k.a.func},r_.defaultProps={...r_.defaultProps,shouldCancelStart:gs.shouldCancelStart,helperClass:gs.helperClass,lockAxis:"y",lockToContainerEdges:!0,lockOffset:"-16px"};const l_=e=>{var t,a;let{name:l,value:o,initialEdit:s,isInitialDirty:i,isEditable:c,isDeletable:u,sortable:d,Item:p,applyTransform:b,getItemKey:g,factory:h,children:v,label:y,labels:E,validationSchema:O,renderFactory:j,maxItems:k,...w}=e;const{t:C}=Object(m.useTranslation)("ui"),{getFieldMeta:_,setFieldValue:P,setFieldTouched:x}=Object(Gn.f)(),{value:S}=_(l),[N,I]=Object(n.useState)(s?0:-1),[T,M]=Object(n.useState)(()=>h),L=o||S,B=c&&N>=0,F=L.length===N,R=Object(n.useCallback)(e=>{M(e?"function"==typeof e?()=>e:()=>()=>e:null)},[]);ll()(()=>{s&&A()},[s]);const A=Object(n.useCallback)(()=>I(L.length),[L.length]),U=Object(n.useCallback)(e=>{c&&(R(e),I(L.indexOf(e)))},[L,c]),z=Object(n.useCallback)(e=>{if(I(-1),R(h||null),e){let t;if(b){if(!1===(t=b(e,N)))return;e=t||e}P(`${l}.${N}`,e,!0),x(`${l}.${N}`,!0,!0)}},[N,b,h]),D=Object(n.useCallback)(e=>{P(l,L.filter(t=>t!==e),!0),x(l,!0,!0),I(-1)},[l,L]),W=Object(n.useCallback)((e,t)=>t&&t.preventDefault&&t.preventDefault(),[]),V=Object(n.useCallback)(e=>{let{oldIndex:t,newIndex:a}=e;d&&t!==a&&P(l,$o()(L,t,a))},[d,L]);return r.a.createElement("div",Object(_a.a)(QC.a.root,w),r.a.createElement(r_,{name:l,label:y,items:L,sortable:d,Item:p,getItemKey:g,onSortStart:W,onSortEnd:V,onEdit:c?U:null,onDelete:u?D:null}),(c&&!k||c&&k&&k>L.length)&&r.a.createElement(ke.a,{fullWidth:!0,tag:"a",className:QC.a.addButton,disabled:B,onClick:A},"+"," ",E.addButton?"string"==typeof E.addButton?E.addButton:L.length>=1?E.addButton.more:E.addButton.first:C("labels.add")),B&&!T&&Object(f.a)(j,{setFactory:R,setEditingIndex:I}),B&&T&&r.a.createElement(e_,{fullWidth:!0,title:(null===(t=E.modal)||void 0===t?void 0:t.title)||C("labels.add"),applyLabel:null===(a=E.modal)||void 0===a?void 0:a.apply,isNew:F,isInitialDirty:i,name:`${l}.${N}`,factory:T,validationSchema:O,onApply:z,onDelete:u?D:null},v))};l_.defaultProps={value:null,sortable:!0,initialEdit:!1,labels:{},isEditable:!0,isDeletable:!0,isInitialDirty:!0,applyTransform:null,validationSchema:null,children:null,getItemKey:null,factory:null,maxItems:null};var o_=a("D1I9"),s_=a.n(o_);function i_(){return(i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const c_={name:R.lb,text:R.jb,email:R.N,phone:R.R},u_=e=>{let{value:t,className:a,textClassName:n}=e;const l=c_[t.type];return r.a.createElement("div",{className:a},r.a.createElement("div",{className:O()(n,s_.a.label)},r.a.createElement("div",{className:s_.a.icon},r.a.createElement(l,{size:20})),r.a.createElement("span",null,t.label.replace(/\n/g," ")),r.a.createElement("span",null,t.required&&"*")))},d_=e=>{const{t:t}=Object(m.useTranslation)("landings"),{current:a}=Object(n.useRef)({addButton:{more:t("Page.Edit.SubscriptionForm.itemAddMore"),first:t("Page.Edit.SubscriptionForm.itemAdd")},modal:{title:t("Page.Edit.SubscriptionForm.itemFormHeading")}}),l=Object(n.useCallback)(e=>{let{setFactory:t,setEditingIndex:a,...n}=e;n.type?t(()=>({label:"",required:!0,large:!1,size:250,...n})):a(-1)},[]);return r.a.createElement(l_,i_({maxItems:10,labels:a,Item:u_,validationSchema:ZC,isInitialDirty:!0,renderFactory:e=>r.a.createElement(ua,{onClose:t=>l({...t,...e}),title:t("Page.Edit.SubscriptionForm.fieldTypesModal.title")},e=>{let{handleClose:a}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:s_.a.typesList},r.a.createElement("li",{onClick:()=>a({type:"name",label:t("Page.Edit.SubscriptionForm.fieldTypes.name.initialValue")})},r.a.createElement(id,{label:t("Page.Edit.SubscriptionForm.fieldTypes.name.label"),labelIcon:R.lb})),r.a.createElement("li",{onClick:()=>a({type:"phone",label:t("Page.Edit.SubscriptionForm.fieldTypes.phone.initialValue")})},r.a.createElement(id,{label:t("Page.Edit.SubscriptionForm.fieldTypes.phone.label"),labelIcon:R.R})),r.a.createElement("li",{onClick:()=>a({type:"email",label:t("Page.Edit.SubscriptionForm.fieldTypes.email.initialValue")})},r.a.createElement(id,{label:t("Page.Edit.SubscriptionForm.fieldTypes.email.label"),labelIcon:R.N})),r.a.createElement("li",{onClick:()=>a({type:"text",large:!0,size:5e3})},r.a.createElement(id,{label:t("Page.Edit.SubscriptionForm.fieldTypes.text.label"),labelIcon:R.jb}))))})},e),e=>{let{values:a,setFieldValue:n}=e;return r.a.createElement("div",null,r.a.createElement(Xi,{builderInput:!0,name:"label",label:t("Page.Edit.SubscriptionForm.fields.label.label"),placeholder:t("Page.Edit.SubscriptionForm.fields.label.placeholder"),maxLength:250}),r.a.createElement(Ri,{builderInput:!0,name:"required",label:t("Page.Edit.SubscriptionForm.fields.required.label"),placeholder:t("Page.Edit.SubscriptionForm.fields.required.placeholder")}),"text"===a.type&&r.a.createElement(Ri,{builderInput:!0,name:"large",value:a.size>250,label:t("Page.Edit.SubscriptionForm.fields.large.label"),placeholder:t("Page.Edit.SubscriptionForm.fields.large.placeholder"),onChange:(e,t)=>{n("size",t?5e3:250)}}))})};function m_(){return(m_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function p_(e){let{blockId:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{websiteSlug:n}=Object(c.i)(),{website:l,page:o}=Xr(Yr(n)),{bind:s,isNew:i}=Gy({website:l,page:o,blockId:t,as:p_,t:a});return r.a.createElement(tC,m_({},s,{isInitialDirty:i,validationSchema:JC,title:a("Page.Edit.SubscriptionForm.heading")}),e=>{let{values:t,styling:n,setFieldValue:l}=e;return r.a.createElement(BC,{page:o,element:t,styling:n},r.a.createElement(xC,{page:o,style:{marginBottom:16}},r.a.createElement(s.blockComponent,{interactive:!1,block:t})),r.a.createElement(Xi,{builderInput:!0,name:"sendLabel",label:a("Page.Edit.SubscriptionForm.fields.sendLabel.label"),placeholder:a("Page.Edit.SubscriptionForm.fields.sendLabel.placeholder"),maxLength:250}),r.a.createElement(pr,{builderInput:!0,name:"sentText",label:a("Page.Edit.SubscriptionForm.fields.sentText.label"),placeholder:a("Page.Edit.SubscriptionForm.fields.sentText.placeholder"),maxLength:1e3,minRows:1}),r.a.createElement(d_,{name:"items",label:a("Page.Edit.SubscriptionForm.fields.items.label")}))})}p_.block=rv.m;var b_=a("QBDO");var g_=a("2cPd"),f_=a.n(g_);const h_=(e,t,a)=>{const n=~~(e/t);return a<0?n:n+1},v_=e=>{let{area:t,dx:a,dy:n}=e;const r=h_(t.left,a,-1),l=h_(t.right,a,1),o=h_(t.top,n,-1);return{left:r,top:o,width:l-r,height:h_(t.bottom,n,1)-o}},y_=e=>{const{left:t,top:a,width:n,height:l}=(e=>{let{area:t,dx:a,dy:n}=e;return{left:t.left*a,top:t.top*n,width:t.width*a,height:t.height*n}})(e);return r.a.createElement("div",{className:f_.a.area},r.a.createElement("div",{className:f_.a.marker,style:{left:t,top:a,width:n,height:l}}),r.a.createElement("div",{className:f_.a.line+" "+f_.a.v,style:{left:t}}),r.a.createElement("div",{className:f_.a.line+" "+f_.a.v,style:{left:t+n-1}}),r.a.createElement("div",{className:f_.a.line+" "+f_.a.h,style:{top:a}}),r.a.createElement("div",{className:f_.a.line+" "+f_.a.h,style:{top:a+l-1}}))},E_=r.a.createContext(),O_=(e,t)=>{switch(t.type){case"set":return{...e,...t.payload};case"toggle-marking":return{...e,marking:"boolean"==typeof t.marking?!!t.marking:!e.marking,area:null};case"area":return{...e,area:t.area}}throw new Error},j_=()=>{const e=Object(n.useContext)(E_);if(!e)throw new Error;return e},k_=e=>{let{children:t}=e;const[a,l]=Object(n.useReducer)(O_,{marking:!1,area:null}),o=Object(n.useCallback)(e=>{l({type:"toggle-marking",marking:e})},[l]),s=Object(n.useCallback)(e=>{l({type:"area",area:e})},[l]),i=Object(n.useMemo)(()=>({...a,toggleMarking:o,setArea:s}),[a,o,s]);return r.a.createElement(E_.Provider,{value:i},"function"==typeof t?t(i):t)};function w_(){return(w_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const C_=e=>{let{block:t,segments:a}=e;const l=Object(c.g)(),{generateUrl:o}=Object(Qe.a)({useMatchUrl:!1}),{marking:s,area:i,setArea:u}=j_(),[d,{isDragging:m,parent:p,area:b,current:g}]=Rg(),f=p.width/a,h=p.height/a,v=b&&v_({area:b,dx:f,dy:h}),y=m&&g&&v_({area:g,dx:f,dy:h}),E=s&&(y||i),O=Object(n.useCallback)(e=>{let t,a=e.target;for(;a;){var n;if(t=null===(n=a.dataset)||void 0===n?void 0:n.blockhref){l.push(o(t));break}a=a.parentNode}},[l,o]),j=Object(n.useCallback)(e=>{let{block:t,area:a,index:n,node:l}=e;return l?r.a.createElement("div",{key:t._id,className:f_.a.element,style:{gridArea:Object(b_.a)(a),zIndex:n},"data-blockhref":`./block/${vv(t.kind)}/${t._id}`,onClick:O},r.a.cloneElement(l,{style:{...l.style,flex:1}})):null});Jn()(()=>{u(v&&{...v,segments:a})},[u,v||{},a]);const k=r.a.createElement(rv.d,{block:t,renderItem:j,style:{pointerEvents:E?"none":"auto"}});return s?r.a.createElement("div",w_({style:{display:"grid",userSelect:"none",cursor:m?"grabbing":"grab",minHeight:p.width||335}},d),k,E&&r.a.createElement(y_,{area:E,dx:f,dy:h})):k},__=()=>{const{t:e}=Object(m.useTranslation)("landings"),{values:{areas:t},setFieldValue:a,setFieldTouched:l}=Object(Gn.f)(),{marking:o,area:s,toggleMarking:i}=j_(),u=(e=>{const t=Object(c.g)(),a=Object(n.useRef)(e),{generateUrl:r}=Object(Qe.a)(),{setCallback:l,setMixin:o,reset:s}=Hy(),{setFieldValue:i}=Object(Gn.f)();a.current=e;const u=Object(n.useCallback)((async function(){a.current&&await a.current(...arguments),setTimeout(s,100)}),[l,i]);return Object(n.useCallback)(()=>{l(u),o({nested:!0}),t.push(r("./add-block"))},[t,r,u])})(e=>{let{action:n,blockId:r,isNew:o}=e,c=t;switch(n){case"update":o&&s&&(c=[...t,{blockId:r,area:s}]);break;case"remove":c=t.filter(e=>e.blockId!==r);break;case"clone":break;case"cancel":return}c!==t&&(a("areas",c),l("areas",!0)),i(!1)});return r.a.createElement("div",{style:{display:"flex",placeItems:"stretch",alignItems:"stretch"}},o&&r.a.createElement(ke.a,{style:{flexGrow:1,marginRight:16},socialStyle:"socialBtnOnly",tag:"a",size:"small",nopadding:!0,noborder:!0,disabled:!s,onClick:u},r.a.createElement(R.U,{size:24})),r.a.createElement(ke.a,{style:{flexGrow:1},tag:"a",btnStyle:o?"primary":"transparent",size:"small",nopadding:!0,noborder:!0,onClick:i},o?e("ui:button.cancel"):"+"+e(" ")))};function P_(e){let{blockId:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{api:l}=Object(de.a)(),{websiteSlug:o}=Object(c.i)(),{website:s,page:i}=Xr(Yr(o)),u=Object(n.useCallback)(async e=>{const t=[];e.areas.forEach(e=>{let{blockId:a}=e;return a&&t.push(a)}),t.length&&await l.blocks.deleteMany({websiteId:s._id,pageId:i._id,payload:{blockId:t}})},[s._id,i._id]),d=Object(n.useCallback)(async e=>{let{action:t,block:a,isNew:n}=e;switch(t){case"cancel":if(n)return void u(a)}},[u]),{bind:p}=Gy({website:s,page:i,blockId:t,as:P_,onDone:d}),[b,g]=Object(n.useState)(6);return r.a.createElement(tC,w_({},p,{isSafe:!1,title:a("Page.Edit.Custom.heading")}),e=>{let{values:t,styling:a}=e;return r.a.createElement(BC,{page:i,element:t,styling:a},r.a.createElement(k_,null,e=>{let{marking:a}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement(xC,{page:i,style:{marginBottom:16,minHeight:335}},r.a.createElement(C_,{block:t,segments:b})),r.a.createElement(pk,{name:"grid",value:b,label:"",disabled:!a,min:1,max:12,step:1,onChange:g}),r.a.createElement(__,null))}))})}P_.block=rv.d;const x_=Object(Hi.d)({title:Object(Hi.e)().trim().ensure().min(3,"common:errorsList.block_services_grid_item_title_length").max(50,"common:errorsList.block_services_grid_item_title_length"),description:Object(Hi.e)().trim().ensure().max(4e3,"common:errorsList.block_services_grid_item_description_length"),photos:Object(Hi.a)().min(1,"common:errorsList.block_services_grid_item_photos_required").max(8,"common:errorsList.block_services_grid_item_photos_max_count"),price:Object(Hi.d)().nullable().shape({amount:Object(Hi.c)().nullable().min(0,"common:errorsList.price.amount_invalid").transform(e=>"number"==typeof e?e:null),discount:Object(Hi.c)().nullable().min(0,"common:errorsList.price.amount_invalid").test("isValidDiscount","common:errorsList.price.greater_discount",(function(e){return null===e||e<this.parent.amount})),currency:Object(Hi.e)().required("common:errorsList.field_required").oneOf(So.codes,"common:errorsList.invalid_value")}).transform(e=>e||null),url:Object(Hi.e)().ensure().trim().url("common:errorsList.enter_url").max(800,"common:errorsList.url_length")}),S_=Object(Hi.d)({items:Object(Hi.a)(x_).min(1,"common:errorsList.block_services_grid_count")});var N_=a("G8k+"),I_=a.n(N_);const T_=["image/png","image/x-png","image/jpeg"],M_=Object(Ko.b)(e=>{let{url:t,removePhoto:a,itemIndex:l}=e;const o=Object(n.useCallback)(()=>{a(t,l)},[t,a]);return r.a.createElement("li",{className:I_.a.imagePreview},r.a.createElement("div",{className:I_.a.imagePreviewContainer},r.a.createElement("img",{src:t,alt:t})),0===l&&r.a.createElement("div",{className:I_.a.mainImageIcon},r.a.createElement(Ru.d,{size:20,color:"#fff"})),r.a.createElement("div",{className:I_.a.removePhotoBtn,onClick:o,"data-id":"remBtn"},r.a.createElement(R.U,{size:12})))}),L_=Object(Ko.a)(e=>{let{name:t,value:a,multiple:n,maxImages:l,accept:o,isUploading:s,disabled:i,children:c,onUpload:u,onRemove:d,className:m,Item:p}=e;const b=r.a.createElement("div",{key:"add-button",className:I_.a.addPhotoBtn},r.a.createElement("div",{className:I_.a.addPhotoBtnContent},s?r.a.createElement(an.a,{size:14}):r.a.createElement(R.U,{size:24,color:"#007aff"})),!s&&r.a.createElement("input",{key:s,type:"file",name:t,multiple:n,disabled:i,onChange:u,className:I_.a.addPhotoBtnInput,accept:o.join(",")}));return r.a.createElement("ul",{className:O()(I_.a.root,i&&I_.a.disabled,m)},(a||[]).map((e,t)=>r.a.createElement(p,{key:`${e}-${t}`,index:t,itemIndex:t,url:e,removePhoto:d})),!(l&&(a||[]).length>=l)&&(c?r.a.Children.map(c({addButton:b}),(e,t)=>r.a.createElement("li",{key:e.key||t,className:I_.a.imagePreview},e)):r.a.createElement("li",{className:I_.a.imagePreview},b)))});function B_(){return(B_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}L_.defaultProps={...L_.defaultProps,Item:M_,axis:"xy",maxImages:6,accept:T_,multiple:!0,helperClass:I_.a.sortable,shouldCancelStart:e=>{if("remBtn"===e.target.dataset.id)return!0}};const F_=e=>[...e].sort().join("*");function R_(e){let{as:t,upload:a,name:l,transformUpload:o,onChange:s,children:i,...c}=e;const{setFieldError:u,getFieldMeta:d,setFieldValue:p,setFieldTouched:b}=Object(Gn.f)(),{value:g}=d(l),f=Object(n.useCallback)(e=>{const t=!Rr()(F_(g),F_(e.value));s?s({changed:t,...e}):(p(l,e.value),b(l,t,!1))},[g,s]),h=Object(n.useCallback)(e=>{Array.isArray(e)||(e=[e]),f({value:[...g,...e.map(o)],action:"add",uploads:e})},[g,f]),{run:v,pending:y,errors:E,getValidationError:O}=(e=>{let{upload:t,current:a,max:r,accept:l,onChange:o}=e;const{t:s}=Object(m.useTranslation)("ui"),[i,c]=Object(n.useState)(!1),[u,d]=Object(n.useState)(!1);return{...Object(Aa.a)(async e=>{let{target:{files:n}}=e;d(!0);try{const e=n&&Array.from(n||[]).filter(e=>{let{type:t}=e;return l.includes(t)});if(!e.length)return;if(c(!1),a.length+e.length>r)return c(s("ImageList.errors.invalid_images_count",{max:r}));const{success:i,failed:u}=await t({payloads:e});u.length&&c(u.map(e=>{let{file:t,error:a}=e;return s("ImageList.errors.upload_failed",{file:t,error:s(a)})}).join(". ")),i.length&&o(i.map(e=>{let{result:t}=e;return t}))}finally{d(!1)}},[t,o]),pending:u,errors:i}})({upload:a,name:l,current:g,max:c.maxImages,accept:c.accept,onChange:h}),j=Object(n.useCallback)((e,t)=>{let a;const n=ao.a.getRelativeUrl(e),r=g[t];a=r===e||r===n?t:g.findIndex(t=>t===e||ao.a.getRelativeUrl(t)===n),f({value:g.filter((e,t)=>t!==a),action:"remove"})},[g,f]),k=Object(n.useCallback)(e=>{let{oldIndex:t,newIndex:a}=e;f({value:$o()(g,t,a),action:"sort"})},[g,f]),w=E||O(l);return Object(n.useEffect)(()=>{w&&(u(l,w),b(l,!0,!1))},[w]),r.a.createElement(ur,B_({name:l},c),e=>{let{field:a}=e;return r.a.createElement(t,B_({},a,{isUploading:y,onUpload:v,onSelect:h,onSortEnd:k,onRemove:j}),i)})}R_.defaultProps={as:L_,maxImages:6,accept:T_,multiple:!0,transformUpload:e=>{let{url:t}=e;return t}};var A_=a("m7nB"),U_=a.n(A_);function z_(){return(z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const D_=e=>{let{url:t,removePhoto:a,...l}=e;const{getMediaSizeUrl:o}=Object(pb.b)(),s=Object(n.useCallback)((e,n)=>{a(t,n)},[t,a]);return r.a.createElement(M_,z_({url:o(t,pb.a.Half),removePhoto:s},l))};function W_(e){let{gallery:t,onSelect:a,...n}=e;return r.a.createElement(L_,z_({className:U_.a.root},n,{Item:D_}))}W_.defaultProps={...L_.defaultProps,gallery:!0};var V_=a("6uhe"),q_=a.n(V_);function H_(){return(H_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const G_=e=>{var t;let{value:a,className:n,textClassName:l}=e;const{getMediaSizeUrl:o}=Object(pb.b)();return r.a.createElement("div",{className:n},r.a.createElement(Bp.a,{url:o(a.photoUrl,pb.a.Icon)}),r.a.createElement("div",{className:l},null===(t=a.title)||void 0===t?void 0:t.replace(/\n/g," ")))},$_=e=>{const{t:t}=Object(m.useTranslation)("landings"),{api:a}=Object(de.a)(),{websiteId:l}=Nm(),{current:o}=Object(n.useRef)({addButton:{more:t("Page.Edit.ServicesGrid.itemAddMore"),first:t("Page.Edit.ServicesGrid.itemAdd")},modal:{title:t("Page.Edit.ServicesGrid.itemFormHeading")}}),s=Object(n.useCallback)(()=>({title:"",description:"",photos:[],price:null,url:""})),i=Object(n.useCallback)(e=>{if(!e.price||null===e.price.amount&&null===e.price.discount)return{...e,price:null}},[]);return r.a.createElement(l_,H_({factory:s,labels:o,Item:G_,applyTransform:i,validationSchema:x_},e),e=>{let{values:n,setFieldValue:o,setFieldTouched:s}=e;return r.a.createElement("div",null,r.a.createElement(R_,{required:!0,builderInput:!0,as:W_,name:"photos",label:t("Page.Edit.ServicesGrid.fields.photoUrl.label"),labelClassName:q_.a.noPadding,maxImages:8,upload:e=>a.websites.uploadMany({...e,websiteId:l,field:"photos"}),onChange:e=>{let{value:t,changed:a}=e;o("photoUrl",t[0]||""),o("photos",t),s("photos",a)}}),r.a.createElement(Xi,{required:!0,builderInput:!0,name:"title",label:t("Page.Edit.ServicesGrid.fields.title.label"),placeholder:t("Page.Edit.ServicesGrid.fields.title.placeholder"),maxLength:50}),r.a.createElement(Bu,{builderInput:!0,name:"price",value:n.price||{currency:"USD",amount:null,discount:null},label:t("Page.Edit.ServicesGrid.fields.price.label")}),r.a.createElement(pr,{builderInput:!0,name:"description",label:t("Page.Edit.ServicesGrid.fields.description.label"),placeholder:t("Page.Edit.ServicesGrid.fields.description.placeholder"),maxLength:4e3}))})};function K_(){return(K_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Z_(e){let{blockId:t}=e;const a=Object(c.g)(),{t:l}=Object(m.useTranslation)("landings"),{generateUrl:o}=Object(Qe.a)(),{websiteSlug:s}=Object(c.i)(),{website:i,page:u}=Xr(Yr(s)),{bind:d}=Gy({website:i,page:u,blockId:t,as:Z_}),p=Object(n.useCallback)(()=>a.push(o("./convert")),[]);return r.a.createElement(tC,K_({},d,{validationSchema:S_,title:l("Page.Edit.ServicesGrid.heading"),actions:r.a.createElement(bl.h,{size:16,style:{transform:"rotate(90deg)",color:"#007aff"},onClick:p})}),e=>{let{values:t,styling:a}=e;return r.a.createElement(BC,{page:u,element:t,styling:a},r.a.createElement(xC,{page:u,style:{marginBottom:16},contentStyle:{height:255,padding:0}},r.a.createElement(d.blockComponent,{block:t,interactive:!1,delay:100})),r.a.createElement($_,{name:"items"}))})}Z_.block=rv.k;const J_=Object(Hi.d)({title:Object(Hi.e)().trim().min(3,"common:errorsList.block_products_title_length").max(50,"common:errorsList.block_products_title_length")});var Y_=a("fnTI"),Q_=a.n(Y_);const X_=e=>{let{active:t,onClick:a}=e;return r.a.createElement("div",{className:Q_.a.button,onClick:a},t?r.a.createElement(R.A,{color:"#333",size:20}):r.a.createElement(R.B,{size:20}))},eP={eye:X_,plus:e=>{let{active:t,onClick:a}=e;return r.a.createElement("div",{className:Q_.a.button,onClick:a},t?r.a.createElement(R.P,{color:"red",size:20}):r.a.createElement(R.V,{color:"#2979ff",size:20}))}},tP=e=>{let{item:t,active:a,sortable:l,onToggle:o,...s}=e;const i=Object(ae.b)({id:"collections_field"}),{t:c}=Object(m.useTranslation)("products"),u=eP[i]||X_,d=Object(n.useCallback)(()=>o(t),[t,o]);return r.a.createElement("div",Object(_a.a)([Q_.a.row,a&&Q_.a.active],s),r.a.createElement("div",{className:Q_.a.left},r.a.createElement(gs,{active:!!l,iconSize:9,small:"auto"})),r.a.createElement("div",{className:Q_.a.value},t.default?c("labels.allProducts"):t.name),r.a.createElement("div",{className:Q_.a.buttons},r.a.createElement(u,{active:a,onClick:d})))};function aP(){return(aP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}tP.defaultProps={sortable:!1};const nP=Object(Ko.b)(tP),rP=Object(Ko.a)(e=>{let{name:t,items:a,existing:n,onToggle:l,...o}=e;return r.a.createElement(ur,aP({name:t,className:Q_.a.root},o),a.map((e,t)=>{const a=n.includes(e._id);return r.a.createElement(nP,{key:e._id,index:t,item:e,sortable:!0,active:a,onToggle:l})}))});rP.defaultProps={...rP.defaultProps,shouldCancelStart:gs.shouldCancelStart,helperClass:O()(gs.helperClass,Q_.a.sortable),lockAxis:"y",lockToContainerEdges:!0,lockOffset:"0%"};const lP=e=>{let{name:t,label:a,builderInput:l,required:o,optional:s,...i}=e;const{getFieldMeta:c,setFieldValue:u,setFieldTouched:d}=Object(Gn.f)(),{value:m}=c(t),{specifier:p}=cl(),{items:b}=$r(p),g=b.filter(e=>e.published&&e.publishedProductsCount>0),f=m.map(e=>g.find(Object(qr.b)(e))).filter(Boolean),h=g.filter(e=>{let{_id:t}=e;return!m.includes(t)}),[v,y]=Object(n.useState)(!1),[E,O]=Object(n.useState)([...f,...h]),j=g.map(e=>{let{_id:t}=e;return t}),k=Object(n.useCallback)(e=>{let{_id:a}=e;if(Rr()([a],m))return;const n=E.map(e=>m.includes(e._id)&&e._id!==a||!m.includes(e._id)&&e._id===a?{...e,active:!0}:e._id===a&&m.includes(a)?{...e,active:!1}:e).filter(e=>e.active).map(e=>e._id);u(t,n),d(t,!0,!0)},[t,m,b,E]),w=Object(n.useCallback)(e=>{let{oldIndex:t,newIndex:a}=e;t!==a&&O($o()(E,t,a))},[E,O]);return Object(n.useEffect)(()=>{const e=E.filter(e=>{let{_id:t}=e;return m.includes(t)}).map(e=>e._id);Rr()(e,m)||u(t,e)},[E]),Object(n.useEffect)(()=>{O([...f,...h])},[g.length]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{fullWidth:!0,btnStyle:"secondary2",tag:"div",onClick:()=>{Rr()(m,[])&&u(t,j),y(!0)},style:{backgroundColor:"#f7f7fa",color:"#2979ff",userSelect:"none"}},a),v&&r.a.createElement(ua,{title:a,onClose:()=>{Rr()(m,j)&&u(t,[]),y(!1)},render:()=>r.a.createElement(rP,aP({name:t,items:E,existing:m,builderInput:l,required:o,optional:s,onSortEnd:w,onToggle:k},i))}))};function oP(){return(oP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function sP(e){let{blockId:t}=e;const{t:a}=Object(m.useTranslation)("landings"),n=Object(c.h)(),{generateUrl:l}=Object(Qe.a)(),{websiteSlug:o}=Object(c.i)(),{website:s,page:i}=Xr(Yr(o)),{bind:u,isNew:d}=Gy({website:s,page:i,blockId:t,as:sP}),{specifier:p}=cl(),{items:b,allPublishedProductsCount:g}=$r(p),f=d&&g<=0;return r.a.createElement(tC,oP({},u,{validationSchema:J_,isInitialDirty:d&&!f,title:a("Page.Edit.Products.heading")}),e=>{let{values:t,styling:o}=e;return r.a.createElement(BC,{page:i,element:t,styling:o},r.a.createElement(xC,{page:i,style:{minHeight:290,maxHeight:290,marginBottom:16}},r.a.createElement(u.blockComponent,{block:t,isMobileMode:!0})),b.filter(e=>e.published&&e.publishedProductsCount>0).length>1?r.a.createElement(lP,{builderInput:!0,name:"collections.include",label:a("Page.Edit.Products.fields.collectionsInclude.label")}):r.a.createElement(ui,{tipId:"landings:Page.Edit.Products.tips.noCollections"}),r.a.createElement(ke.a,{fullWidth:!0,btnStyle:"primary",tag:Me.b,to:{pathname:l("./products"),state:{blockUrl:n.pathname}},style:{marginTop:8,marginBottom:16}},a(f?"Page.Edit.Products.labels.addProducts":"Page.Edit.Products.labels.manageCRM")))})}sP.block=rv.j;const iP=Object(Hi.d)({url:Object(Hi.e)().ensure().trim().required("common:errorsList.enter_url").url("common:errorsList.enter_url").max(800,"common:errorsList.url_length").transform(e=>e&&wu(e)).test("isSupportedSocial","common:errorsList.block_socials_not_supported",e=>{const t=Object(EE.d)(e,null);return!(!t||!EE.a.social.includes(t))})}),cP=Object(Hi.d)({items:Object(Hi.a)().min(1,"common:errorsList.block_socials_count")});var uP=a("rVdS");function dP(){return(dP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const mP=e=>{let{value:t,className:a,textClassName:n}=e;const l=Object(EE.d)(t.url,null);return r.a.createElement("div",{className:a},r.a.createElement(uP.a,{glyph:{type:"icon",icon:l},size:20,style:{flexShrink:0}}),r.a.createElement("div",{className:n},Object(fs.a)(t.url)))},pP=e=>{const{t:t}=Object(m.useTranslation)("landings"),{current:a}=Object(n.useRef)({addButton:{more:t("Page.Edit.Socials.itemAddMore"),first:t("Page.Edit.Socials.itemAdd")},modal:{title:t("Page.Edit.Socials.itemFormHeading")}}),l=Object(n.useCallback)(()=>({url:""})),o=Object(n.useCallback)(e=>{const t=wu(e.url);if(t!==e.url)return{...e,url:t}});return r.a.createElement(l_,dP({factory:l,labels:a,Item:mP,validationSchema:iP,applyTransform:o},e),r.a.createElement(Xi,{required:!0,builderInput:!0,name:"url",placeholder:t("Page.Edit.Socials.fields.url.placeholder"),maxLength:800}))};function bP(){return(bP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function gP(e){let{blockId:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{websiteSlug:n}=Object(c.i)(),{website:l,page:o}=Xr(Yr(n)),{bind:s}=Gy({website:l,page:o,blockId:t,as:gP});return r.a.createElement(tC,bP({},s,{validationSchema:cP,title:a("Page.Edit.Socials.heading")}),e=>{let{values:t,styling:a}=e;return r.a.createElement(BC,{page:o,element:t,styling:a},r.a.createElement(xC,{page:o,style:{marginBottom:16}},r.a.createElement(s.blockComponent,{block:t})),r.a.createElement(pP,{name:"items"}))})}gP.block=rv.l;var fP=a("bWUK");function hP(){return(hP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function vP(e){let{blockId:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{websiteSlug:n}=Object(c.i)(),{website:l,page:o}=Xr(Yr(n)),{bind:s}=Gy({website:l,page:o,blockId:t,as:vP});return r.a.createElement(tC,hP({},s,{title:a("Page.Edit.Quote.heading")}),e=>{let{values:t,styling:n}=e;return r.a.createElement(BC,{page:o,element:t,styling:n},r.a.createElement(xC,{page:o,style:{marginBottom:16}},r.a.createElement(s.blockComponent,{block:t})),r.a.createElement(pr,{required:!0,builderInput:!0,label:a("Page.Edit.Quote.fields.content.label"),placeholder:a("Page.Edit.Quote.fields.content.placeholder"),name:"content",maxLength:1e3}),r.a.createElement(Xi,{builderInput:!0,label:a("Page.Edit.Quote.fields.author.label"),placeholder:a("Page.Edit.Quote.fields.author.placeholder"),name:"author",maxLength:100}))})}vP.block=fP.a;var yP=a("nMOi");const EP=Object(Hi.d)({content:Object(Hi.e)().trim().ensure().min(1,"common:errorsList.block_list_item_length").max(800,"common:errorsList.block_list_item_length")}),OP=Object(Hi.d)({items:Object(Hi.a)().min(1,"common:errorsList.block_list_count")});function jP(){return(jP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const kP=e=>{let{value:t,className:a,textClassName:n}=e;return r.a.createElement("div",{className:a},r.a.createElement("div",{className:n},t.content.replace(/\n/g," ")))},wP=e=>{const{t:t}=Object(m.useTranslation)("landings"),{current:a}=Object(n.useRef)({addButton:{more:t("Page.Edit.List.itemAddMore"),first:t("Page.Edit.List.itemAdd")},modal:{title:t("Page.Edit.List.itemFormHeading")}}),l=Object(n.useCallback)(()=>({content:""}));return r.a.createElement(l_,jP({factory:l,labels:a,Item:kP,validationSchema:EP},e),r.a.createElement(pr,{required:!0,builderInput:!0,name:"content",placeholder:t("Page.Edit.List.fields.content.placeholder"),maxLength:800}))};function CP(){return(CP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function _P(e){let{blockId:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{websiteSlug:n}=Object(c.i)(),{website:l,page:o}=Xr(Yr(n)),{bind:s}=Gy({website:l,page:o,blockId:t,as:_P});return r.a.createElement(tC,CP({},s,{validationSchema:OP,title:a("Page.Edit.List.heading")}),e=>{let{values:t,styling:a}=e;return r.a.createElement(BC,{page:o,element:t,styling:a},r.a.createElement(xC,{page:o,style:{marginBottom:16}},r.a.createElement(s.blockComponent,{block:t})),r.a.createElement(wP,{name:"items"}))})}function PP(){return(PP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function xP(e){let{blockId:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{websiteSlug:n}=Object(c.i)(),{website:l,page:o}=Xr(Yr(n)),{bind:s}=Gy({website:l,page:o,blockId:t,as:xP});return r.a.createElement(tC,PP({},s,{title:a("Page.Edit.Audio.heading")}),e=>{let{values:t,styling:n}=e;return r.a.createElement(BC,{page:o,element:t,styling:n},r.a.createElement(xC,{page:o,style:{marginBottom:16}},r.a.createElement(s.blockComponent,{block:t})),r.a.createElement(Xi,{required:!0,builderInput:!0,label:a("Page.Edit.Audio.fields.url.label"),placeholder:a("Page.Edit.Audio.fields.url.placeholder"),name:"url",autoCapitalize:"off",style:{marginBottom:0}}))})}_P.block=yP.a,xP.block=rv.b;const SP=Object(Hi.d)({url:Object(Hi.e)().required("common:errorsList.video_required"),annotation:Object(Hi.e)().ensure().max(50,"common:errorsList.block_image_annotation_length")}),NP=Object(Hi.d)({videos:Object(Hi.a)().min(1,"common:errorsList.block_video_gallery_count")});function IP(){return(IP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const TP=e=>{let{value:t,className:a,textClassName:n}=e;return r.a.createElement("div",{className:a},r.a.createElement("div",{className:n},t.annotation?t.annotation.replace(/\n/g," "):Object(fs.a)(t.url)))},MP=e=>{const{t:t}=Object(m.useTranslation)("landings"),{current:a}=Object(n.useRef)({addButton:{more:t("Page.Edit.VideoGallery.itemAddMore"),first:t("Page.Edit.VideoGallery.itemAdd")},modal:{title:t("Page.Edit.VideoGallery.itemFormHeading")}}),l=Object(n.useCallback)(()=>({url:"",annotation:""}));return r.a.createElement(l_,IP({factory:l,labels:a,Item:TP,validationSchema:SP},e),r.a.createElement(Xi,{required:!0,builderInput:!0,name:"url",label:t("Page.Edit.VideoGallery.fields.url.label"),placeholder:t("Page.Edit.VideoGallery.fields.url.placeholder"),autoCapitalize:"off"}),r.a.createElement(Xi,{builderInput:!0,name:"annotation",label:t("Page.Edit.VideoGallery.fields.annotation.label"),placeholder:t("Page.Edit.VideoGallery.fields.annotation.placeholder"),maxLength:50}))};function LP(){return(LP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function BP(e){let{blockId:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{websiteSlug:n}=Object(c.i)(),{website:l,page:o}=Xr(Yr(n)),{bind:s}=Gy({website:l,page:o,blockId:t,as:BP});return r.a.createElement(tC,LP({},s,{validationSchema:NP,title:a("Page.Edit.VideoGallery.heading")}),e=>{let{values:t,styling:a}=e;return r.a.createElement(BC,{page:o,element:t,styling:a},r.a.createElement(xC,{page:o,contentStyle:{padding:0},style:{marginBottom:16}},r.a.createElement(s.blockComponent,{block:t})),r.a.createElement(MP,{name:"videos"}))})}BP.block=rv.p;const FP=Object(Hi.d)({title:Object(Hi.e)().ensure().min(3,"errorsList.block_features_item_title_length").max(250,"errorsList.block_features_item_title_length"),content:Object(Hi.e)().ensure().min(3,"errorsList.block_features_item_content_length").max(5e3,"errorsList.block_features_item_content_length"),glyph:Object(Hi.d)({type:Object(Hi.e)().required("common:errorsList.field_required").oneOf(["image","icon","emoticon"],"common:errorsList.invalid_value")}).test("is-glyph","errorsList.field_required",e=>!!e[{icon:"icon",image:"url",emoticon:"text"}[e.type]])}),RP=Object(Hi.d)({items:Object(Hi.a)(FP).min(1,"errorsList.block_features_count")});var AP=a("UrX7"),UP=a.n(AP);function zP(){return(zP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const DP=r.a.lazy(()=>Promise.all([a.e(12),a.e(16)]).then(a.bind(null,"6W8m"))),WP=e=>!e.unified||!e.unified.startsWith("1F9D1-"),VP=e=>{let{name:t,allowedTypes:a,...l}=e;const{t:o}=Object(m.useTranslation)("landings"),{api:s}=Object(de.a)(),{websiteId:i}=Nm(),{getFieldMeta:c,setFieldValue:u}=Object(Gn.f)(),{value:d={type:"icon",url:"",icon:"",text:""}}=c(t),[p,b]=Object(n.useState)(),g=Object(n.useCallback)(()=>b("icon"),[]),f=Object(n.useCallback)(()=>b("emoticon"),[]),h=Object(n.useCallback)(e=>{if(e)for(const[a,n]of Object.entries({url:"",icon:"",text:"",...e}))u(`${t}.${a}`,n);b()},[p]),v=Object(n.useMemo)(()=>PE({t:o,nullable:!1,groupLabel:e=>o("Page.fields.icon.groups."+e)}),[o]),y=!a||a.includes("image"),E=!a||a.includes("icon"),O=!a||a.includes("emoticon"),j=r.a.createElement(uP.a,{glyph:d,size:26,className:UP.a.glyph}),k=r.a.createElement(r.a.Fragment,null,E&&r.a.createElement(kw,{style:{marginLeft:8},type:"primary",onClick:g},r.a.createElement(bl.q,{size:16})),O&&r.a.createElement(kw,{type:"primary",onClick:f},r.a.createElement(R.bb,{size:16}))),w=r.a.createElement(r.a.Fragment,null,"icon"===p&&r.a.createElement(ua,{fullWidth:!0,paneMotionProps:{layout:!1},title:o("Page.fields.glyph.iconModalHeading"),style:{zIndex:2e3},onClose:h,render:e=>{let{handleClose:a}=e;return r.a.createElement(xE,zP({},v,{name:t+".icon",onChange:(e,t)=>{a({type:"icon",icon:t})}}))}}),"emoticon"===p&&r.a.createElement(ua,{fullWidth:!0,paneMotionProps:{layout:!1},title:o("Page.fields.glyph.emoticonModalHeading"),padding:!1,style:{zIndex:2e3},onClose:h,render:e=>{let{handleClose:t}=e;return r.a.createElement(DP,{emoji:d.text||"",native:!0,useButton:!1,color:"#007aff",title:"",emojisToShowFilter:WP,onSelect:e=>{t(e&&{type:"emoticon",text:e.native})},style:{width:"100%",border:0}})}}));return y?r.a.createElement(r.a.Fragment,null,r.a.createElement(Dp,zP({name:t+".url",upload:e=>s.websites.upload({...e,websiteId:i}),onChange:e=>{let{path:t,url:a}=e;h({type:"image",url:t||"",absoluteUrl:a||""})}},l,{actions:k}),j),w):r.a.createElement(r.a.Fragment,null,r.a.createElement(ur,zP({name:t},l),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",height:38,padding:"0 6px",backgroundColor:"#f5f5f5",borderRadius:10}},j,r.a.createElement("div",{style:{display:"flex"}},k))),w)};function qP(){return(qP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}VP.defaultProps={allowedTypes:["image","icon","emoticon"]};const HP=e=>{var t;let{value:a,className:n,textClassName:l}=e;return r.a.createElement("div",{className:n},r.a.createElement("div",{className:l},null===(t=a.title)||void 0===t?void 0:t.replace(/\n/g," ")))},GP=e=>{const{t:t}=Object(m.useTranslation)("landings"),{current:a}=Object(n.useRef)({addButton:{more:t("Page.Edit.Features.itemAddMore"),first:t("Page.Edit.Features.itemAdd")},modal:{title:t("Page.Edit.Features.itemFormHeading")}}),l=Object(n.useCallback)(()=>({title:"",content:"",glyph:{type:"icon"}}));return r.a.createElement(l_,qP({factory:l,labels:a,Item:HP,validationSchema:FP},e),r.a.createElement(Xi,{required:!0,builderInput:!0,name:"title",label:t("Page.Edit.Features.fields.title.label"),placeholder:t("Page.Edit.Features.fields.title.placeholder"),maxLength:250}),r.a.createElement(pr,{required:!0,builderInput:!0,name:"content",label:t("Page.Edit.Features.fields.content.label"),placeholder:t("Page.Edit.Features.fields.content.placeholder"),maxLength:5e3}),r.a.createElement(VP,{required:!0,builderInput:!0,name:"glyph",allowedTypes:["emoticon"],label:t("Page.Edit.Features.fields.glyph.label"),innerLabel:"",placeholder:t("Page.Edit.Features.fields.glyph.placeholder")}))};function $P(){return($P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function KP(e){let{blockId:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{websiteSlug:n}=Object(c.i)(),{website:l,page:o}=Xr(Yr(n)),{bind:s}=Gy({website:l,page:o,blockId:t,as:KP});return r.a.createElement(tC,$P({},s,{validationSchema:RP,title:a("Page.Edit.Features.heading")}),e=>{let{values:t,styling:a}=e;return r.a.createElement(BC,{page:o,element:t,styling:a},r.a.createElement(xC,{page:o,style:{marginBottom:16},contentStyle:{overflow:"auto"}},r.a.createElement(s.blockComponent,{block:t})),r.a.createElement(GP,{name:"items"}))})}KP.block=rv.f;const ZP=Object(Hi.d)({title:Object(Hi.e)().ensure().min(3,"errorsList.block_accordion_item_title_length").max(250,"errorsList.block_accordion_item_title_length"),content:Object(Hi.e)().ensure().min(3,"errorsList.block_accordion_item_content_length").max(5e3,"errorsList.block_accordion_item_content_length")}),JP=Object(Hi.d)({items:Object(Hi.a)(ZP).min(1,"errorsList.block_accordion_count")});function YP(){return(YP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const QP=e=>{var t;let{value:a,className:n,textClassName:l}=e;return r.a.createElement("div",{className:n},r.a.createElement("div",{className:l},null===(t=a.title)||void 0===t?void 0:t.replace(/\n/g," ")))},XP=e=>{const{t:t}=Object(m.useTranslation)("landings"),{current:a}=Object(n.useRef)({addButton:{more:t("Page.Edit.Accordion.itemAddMore"),first:t("Page.Edit.Accordion.itemAdd")},modal:{title:t("Page.Edit.Accordion.itemFormHeading")}}),l=Object(n.useCallback)(()=>({title:"",content:""}));return r.a.createElement(l_,YP({factory:l,labels:a,Item:QP,validationSchema:ZP},e),r.a.createElement(Xi,{required:!0,builderInput:!0,name:"title",label:t("Page.Edit.Accordion.fields.title.label"),placeholder:t("Page.Edit.Accordion.fields.title.placeholder"),maxLength:250}),r.a.createElement(pr,{required:!0,builderInput:!0,name:"content",label:t("Page.Edit.Accordion.fields.content.label"),placeholder:t("Page.Edit.Accordion.fields.content.placeholder"),maxLength:5e3}))};function ex(){return(ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function tx(e){let{blockId:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{websiteSlug:n}=Object(c.i)(),{website:l,page:o}=Xr(Yr(n)),{bind:s}=Gy({website:l,page:o,blockId:t,as:tx});return r.a.createElement(tC,ex({},s,{validationSchema:JP,title:a("Page.Edit.Accordion.heading")}),e=>{let{values:t,styling:a}=e;return r.a.createElement(BC,{page:o,element:t,styling:a},r.a.createElement(xC,{page:o,style:{marginBottom:16},contentStyle:{overflow:"hidden",padding:0}},r.a.createElement(s.blockComponent,{block:t})),r.a.createElement(XP,{name:"items"}))})}tx.block=rv.a;var ax=a("6Wgl"),nx=a.n(ax),rx=a("eAPX"),lx=a.n(rx);const ox=Object(Hi.d)({url:Object(Hi.e)().required("common:errorsList.image_required"),externalUrl:Object(Hi.e)().test("is-valid","common:errorsList.enter_url",e=>!e||(!!nx()(e,{allow_underscores:!0})||lx.a.isValid(e)&&!e.match(/^https?:\/\//))),annotation:Object(Hi.e)().ensure().max(50,"common:errorsList.block_image_annotation_length")}),sx=Object(Hi.d)({images:Object(Hi.a)().min(1,"common:errorsList.block_image_gallery_count")});var ix=a("lS25"),cx=a.n(ix),ux=a("7u43"),dx=a.n(ux);function mx(e){if(!e.startsWith("mailto:")&&!e.startsWith("tel:"))return cx()(e.replace("/@","/"))?"mailto:"+e:dx()(e)?"tel:"+e:wu(e)}function px(){return(px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function bx(e){let{value:t,gallery:a,actions:l,onChange:o,...s}=e;const i=Object(n.useCallback)(e=>o(null,e),[o]);return r.a.createElement(Ap,px({onChange:o,actions:r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(zw,{style:{width:24,height:"100%",marginLeft:8},size:"inline",url:t,onSelect:i}),l)},s))}function gx(){return(gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}bx.defaultProps={value:"",gallery:!1};const fx=e=>{let{value:t,className:a,textClassName:n}=e;const{t:l}=Object(m.useTranslation)("landings"),o=t.annotation||t.externalUrl;return r.a.createElement("div",{className:a,title:o},r.a.createElement(Bp.a,{url:t.absoluteUrl}),r.a.createElement("div",{className:n}," ",o?o.replace(/\n/g," "):l("Page.Edit.ImageGallery.fields.annotation.missing")))},hx=e=>{const{t:t}=Object(m.useTranslation)("landings"),{api:a}=Object(de.a)(),{getMediaSizeUrl:l}=Object(pb.b)(),{websiteId:o}=Nm(),{current:s}=Object(n.useRef)({addButton:{more:t("Page.Edit.ImageGallery.itemAddMore"),first:t("Page.Edit.ImageGallery.itemAdd")},modal:{title:t("Page.Edit.ImageGallery.itemFormHeading")}}),i=Object(n.useCallback)(()=>({url:"",absoluteUrl:"",externalUrl:"",modal:!0,annotation:""}));return r.a.createElement(l_,gx({factory:i,labels:s,Item:fx,validationSchema:ox},e),e=>{let{values:n,setFieldValue:s}=e;return r.a.createElement("div",null,r.a.createElement(Dp,{required:!0,as:bx,name:"url",innerLabel:t("Page.Edit.ImageGallery.fields.url.label"),previewUrl:l(n.absoluteUrl,pb.a.Icon),upload:e=>a.websites.upload({...e,websiteId:o}),onChange:e=>{let{path:t,url:a}=e;s("url",t||""),s("absoluteUrl",a||"")}}),r.a.createElement(Xi,{builderInput:!0,name:"externalUrl",label:t("Page.Edit.Image.fields.externalUrl.label"),placeholder:t("Page.Edit.Image.fields.externalUrl.placeholder"),maxLength:2e3,clearable:!0,onBlur:()=>{const e=mx(n.externalUrl||"");e&&e!==n.externalUrl&&s("externalUrl",e)}}),r.a.createElement(Ri,{builderInput:!0,label:t("Page.Edit.Image.fields.modal.label"),name:"modal",value:!n.externalUrl&&!!n.modal,disabled:!!n.externalUrl}))})};function vx(){return(vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function yx(e){let{blockId:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{websiteSlug:n}=Object(c.i)(),{website:l,page:o}=Xr(Yr(n)),{bind:s}=Gy({website:l,page:o,blockId:t,as:yx});return r.a.createElement(tC,vx({},s,{validationSchema:sx,title:a("Page.Edit.ImageGallery.heading")}),e=>{let{values:t,styling:a}=e;return r.a.createElement(BC,{page:o,element:t,styling:a},r.a.createElement(xC,{page:o,style:{marginBottom:16}},r.a.createElement(s.blockComponent,{block:t,sortable:!0})),r.a.createElement(hx,{name:"images"}))})}yx.block=rv.h;var Ex=a("wnhd");function Ox(){return(Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function jx(e){let{blockId:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{websiteSlug:n}=Object(c.i)(),{website:l,page:o}=Xr(Yr(n)),{bind:s}=Gy({website:l,page:o,blockId:t,as:jx,isInitialDirty:!t});return r.a.createElement(tC,Ox({},s,{title:a("Page.Edit.Divider.heading")}),e=>{let{values:t,styling:a}=e;return r.a.createElement(BC,{page:o,element:t,styling:a},r.a.createElement(xC,{page:o,style:{marginBottom:-1}},r.a.createElement(s.blockComponent,{embedded:!0,block:t})))})}jx.block=Ex.a;var kx=a("x1KV");function wx(){return(wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Cx=e=>{let{bind:{websiteId:t,page:a,blockComponent:n},styling:l}=e;const{t:o}=Object(m.useTranslation)("landings"),{api:s}=Object(de.a)(),{getMediaSizeUrl:i}=Object(pb.b)(),{values:c,setFieldValue:u}=Object(Gn.f)(),{theme:d}=Object(wC.a)(c,!1),p="image"===d.headerMode,b="centered"===d.headerMode,g="brand"===d.headerMode,f="avatar"===d.headerMode;return r.a.createElement(BC,{page:a,element:c,styling:l,preview:e=>r.a.createElement(kx.a,{block:e})},r.a.createElement(xC,{page:a,style:{marginBottom:16,padding:f?"16px 0":0}},r.a.createElement(n,{block:c,embedded:f})),!f&&r.a.createElement(Dp,{style:{marginBottom:p?16:12},removable:!(p||b||g),name:"bgUrl",innerLabel:o("Page.Edit.Hat.fields.bgUrl.label"),previewUrl:i(c.absoluteBgUrl,pb.a.Icon),upload:e=>s.websites.upload({websiteId:t,...e}),onChange:e=>{let{path:t,url:a}=e;u("bgUrl",t||null),u("absoluteBgUrl",a||"")}}),!p&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Dp,{removable:!g,name:"logoUrl",innerLabel:o("Page.Edit.Hat.fields.logoUrl.label"),previewUrl:i(c.absoluteLogoUrl,pb.a.Icon),upload:e=>s.websites.upload({websiteId:t,...e}),onChange:e=>{let{path:t,url:a}=e;u("logoUrl",t||null),u("absoluteLogoUrl",a||"")}}),r.a.createElement(Xi,{required:!0,builderInput:!0,label:o("Page.Edit.Hat.fields.title.label"),placeholder:o("Page.Edit.Text.fields.content.placeholder"),name:"title",maxLength:100}),r.a.createElement(Xi,{builderInput:!0,label:o("Page.Edit.Hat.fields.subtitle.label"),placeholder:o("Page.Edit.Text.fields.content.placeholder"),name:"subtitle",style:{marginBottom:16},maxLength:100})))};function _x(e){let{blockId:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{websiteSlug:n}=Object(c.i)(),{website:l,page:o}=Xr(Yr(n)),{bind:s}=Gy({website:l,page:o,blockId:t,as:_x});return r.a.createElement(tC,wx({},s,{title:a("Page.Edit.Hat.heading")}),e=>{let{styling:t}=e;return r.a.createElement(Cx,{bind:s,styling:t})})}function Px(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return a.reduce((t,a)=>(e.includes(a)&&t.push(a),t),[]).join(" ")}_x.block=kx.a;var xx=a("aKnd");function Sx(){return(Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Nx(e){let{blockId:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{websiteSlug:n}=Object(c.i)(),{website:l,page:o}=Xr(Yr(n)),{bind:s}=Gy({website:l,page:o,blockId:t,as:Nx}),{theme:i}=Object(wC.b)(!1),u={huge:{fontSize:"2.125em",fontWeight:"bolder"},large:{fontSize:"1.5em",fontWeight:"bold"},medium:{fontSize:"1.25em",fontWeight:600},small:{fontSize:"1.125em",fontWeight:500}},d=e=>{const{textAlign:t,textStyle:a,color:n,size:r}=e.theme.blocks.heading;return e.content?{textAlign:t,fontSize:u[r].fontSize,fontWeight:u[r].fontWeight,textDecoration:Px(a,"underline","line-through"),fontStyle:Px(a,"italic"),color:n,lineHeight:1.5,borderRadius:0,backgroundColor:i.backgroundColor}:{borderRadius:0}};return r.a.createElement(tC,Sx({},s,{title:a("Page.Edit.Heading.heading"),contentStyles:{padding:"0 0 16px 0"}}),e=>{let{styling:t,values:n}=e;return r.a.createElement(BC,{page:o,element:n,styling:t,toolPanelStyle:{margin:0,width:"100%"}},r.a.createElement(pr,{required:!0,builderInput:!0,placeholder:a("Page.Edit.Heading.fields.content.placeholder"),name:"content",style:{marginBottom:0,color:n.content?n.theme.blocks.heading.color:"inherit"},inputStyles:d(n),maxLength:250}))})}Nx.block=xx.a;var Ix=a("z2P/");function Tx(){return(Tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Mx(e){let{blockId:t}=e;const{api:a}=Object(de.a)(),{getMediaSizeUrl:n}=Object(pb.b)(),{t:l}=Object(m.useTranslation)("landings"),{websiteSlug:o}=Object(c.i)(),{website:s,page:i}=Xr(Yr(o)),{bind:u}=Gy({website:s,page:i,blockId:t,as:Mx});return r.a.createElement(tC,Tx({},u,{title:l("Page.Edit.Image.heading")}),e=>{let{values:t,setFieldValue:o,styling:c}=e;return r.a.createElement(BC,{page:i,element:t,styling:c},r.a.createElement(xC,{page:i,style:{marginBottom:16}},r.a.createElement(u.blockComponent,{block:t})),r.a.createElement(Dp,{required:!0,name:"url",innerLabel:l("Page.Edit.Image.fields.url.label"),previewUrl:n(t.absoluteUrl,pb.a.Icon),upload:e=>a.websites.upload({...e,websiteId:s._id}),onChange:e=>{let{path:t,url:a}=e;o("url",t||""),o("absoluteUrl",a||"")},style:{marginBottom:12}}),r.a.createElement(Xi,{builderInput:!0,optional:!0,name:"externalUrl",label:l("Page.Edit.Image.fields.externalUrl.label"),placeholder:l("Page.Edit.Image.fields.externalUrl.placeholder"),maxLength:2047,onBlur:()=>{const e=mx(t.externalUrl||"");e&&e!==t.externalUrl&&o("externalUrl",e)}}),r.a.createElement(Ri,{builderInput:!0,label:l("Page.Edit.Image.fields.modal.label"),name:"modal",value:!t.externalUrl&&!!t.modal,disabled:!!t.externalUrl}))})}Mx.block=Ix.a;var Lx=a("Fyjq");const Bx=(e,t,a)=>{const n=Object.keys(a),r=Object.values(a);return[n,{is:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];for(const[e,a]of Object.entries(t))if(a!==r[e])return!1;return!0},then:Object(Hi.e)().trim().test("is-"+r.join("-"),t,(function(t){for(var a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return!String(t||"").trim()||e(t,...n)}))}]},Fx=e=>/^\+\d{3,}$/.test(e),Rx=Fx,Ax=Fx,Ux="errorsList.bad_value",zx="errorsList.enter_url",Dx=Object(Hi.d)({platform:Object(Hi.e)().oneOf(Zo).required("errorsList.bad_value"),type:Object(Hi.e)().oneOf(["private","public","community","secret","group","auto"]).required("errorsList.bad_value"),value:Object(Hi.e)().when(...Bx(e=>/^[\w-]+$/.test(e),"errorsList.bad_bot_uri",{platform:"viber",type:"public"})).when(...Bx(e=>/^https?:\/\/invite\.viber\.com\/.+$/i.test(e),zx,{platform:"viber",type:"community"})).when(...Bx(Rx,Ux,{platform:"viber",type:"private"})).when(...Bx(e=>/^((\+?[\d ()-]{4,})((\/\?|\?).*)?|((https?:\/\/)?((wa\.me|chat\.whatsapp\.com)\/).+))$/i.test(e),Ux,{platform:"whatsapp",type:"auto"})).when(...Bx(Ax,Ux,{platform:"whatsapp",type:"private"})).when(...Bx(e=>/^https?:\/\/chat\.whatsapp\.com\/.+/i.test(e),zx,{platform:"whatsapp",type:"public"})).when(...Bx(e=>/^((https?:\/\/)?((t(?:elegram)?)\.me\/))?\+?@?[\w_-]{4,}((\/\?|\?).*)?$/i.test(e),Ux,{platform:"telegram",type:"auto"})).when(...Bx(e=>/^[a-zA-Z][\w_-]{4,}$/i.test(e),Ux,{platform:"telegram",type:"private"})).when(...Bx(e=>/^([a-zA-Z\d][\w_-]{4,})|(https?:\/\/t\.me\/(\+|joinchat\/).*)$/i.test(e),zx,{platform:"telegram",type:"secret"})).when(...Bx(e=>/^(https?:\/\/)?(www\.)?((m\.me|fb\.com|facebook\.com)\/)?[0-9a-zA-Z.-]+((\/\?|\?).*)?$/i.test(e),Ux,{platform:"messenger",type:"auto"})).when(...Bx(e=>/^[0-9a-zA-Z.-]+$/.test(e),Ux,{platform:"messenger",type:"private"})).when(...Bx(e=>/^(https?:\/\/)?((vk\.me|vk\.com|vkontakte\.(com|ru))\/)?[0-9a-zA-Z_.-]+((\/\?|\?).*)?$/i.test(e),Ux,{platform:"vk",type:"auto"})).when(...Bx(e=>/^[a-zA-Z0-9_.-]+$/.test(e),Ux,{platform:"vk",type:"private"})).when(...Bx(e=>/^(live:)?[\w.-]+$/.test(e),Ux,{platform:"skype"})).when(...Bx(e=>/^((https?:\/\/)?((ig\.me|instagram\.com)\/))?(m\/)?@?[\w._]{2,}((\/\?|\?).*)?$/i.test(e),Ux,{platform:"instagram",type:"auto"}))}),Wx=Object(Hi.d)({messengers:Object(Hi.a)(Dx).min(1,"errorsList.block_messengers_at_least_one")});function Vx(){return(Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function qx(e){let{blockId:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{websiteSlug:n}=Object(c.i)(),{website:l,page:o}=Xr(Yr(n)),{bind:s}=Gy({website:l,page:o,blockId:t,as:qx});return r.a.createElement(tC,Vx({},s,{title:a("Page.Edit.Messengers.heading"),validationSchema:Wx}),e=>{let{styling:t,values:a}=e;return r.a.createElement(BC,{page:o,element:a,styling:t},r.a.createElement(xC,{page:o,style:{marginBottom:16},contentStyle:{padding:0}},r.a.createElement(s.blockComponent,{block:a})),r.a.createElement(vi,{name:"messengers",mode:"small",validationSchema:Dx,style:{marginBottom:16}}))})}qx.block=Lx.a;var Hx=a("I8l9"),Gx=a("S6Js"),$x=a.n(Gx);function Kx(){return(Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Zx=e=>{let{websiteId:t,name:a,...n}=e;const{t:l}=Object(m.useTranslation)("landings"),{homePageId:o,name:s,pages:i,absoluteUrl:c}=Jr(t),u=i.map(e=>({page:e,label:e._id===o?s:e.name||"labels.page.unnamed",url:e._id===o?c:e.absoluteUrl,value:e._id}));return r.a.createElement(vk,Kx({name:a,placeholder:l("Page.fields.page.placeholder"),isSearchable:!0,isClearable:!0,options:u,formatOptionLabel:(e,t)=>{let{context:a}=t;return r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",null,e.label),"menu"===a&&r.a.createElement("div",{style:{fontSize:"80%",marginTop:2,opacity:.6}},Object(fs.a)(e.url)))}},n))},Jx="theme.blocks.link.icon",Yx="theme.blocks.link.backgroundColor",Qx="theme.blocks.link.contrastedColor",Xx=e=>{let{name:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{websiteId:l}=Nm(),{pages:o}=Jr(l),{values:s,getFieldMeta:i,setFieldValue:c}=Object(Gn.f)(),{value:u}=i(t),d=o.length>1,p=d&&!!u.page,b=e=>{let{page:t,url:a}=e;return{social:null,color:null}},g=b(u),[f,h]=Object(n.useState)(()=>g),v=Object(n.useCallback)(()=>{f.social&&(c(Jx,f.social),c(Yx,f.color),c(Qx,!0))},[f,c]),y=Object(n.useCallback)(()=>{const e=mx(u.url||"");e&&e!==u.url&&c("link.url",e)},[u.url,c]);return Object(n.useEffect)(()=>{const e=b(u);f.social!==e.social&&h(e)},[u.url,u.page,f.social]),$x()(v,[f.social]),r.a.createElement("div",null,r.a.createElement(Xi,{builderInput:!0,name:t+".title",label:a("Page.fields.link.title.label"),placeholder:a("Page.fields.link.title.placeholder"),disabled:p}),r.a.createElement(Xi,{required:!0,builderInput:!0,name:t+".url",label:a("Page.fields.link.url.label"),placeholder:a("Page.fields.link.url.placeholder"),disabled:p,autoCapitalize:"off",style:{marginBottom:16},onBlur:y}),d&&r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",margin:"20px 0"}},r.a.createElement("div",{style:{borderTop:"1px solid #333",flexGrow:1}}),r.a.createElement("div",{style:{padding:"0 16px"}},a("labels.or")),r.a.createElement("div",{style:{borderTop:"1px solid #333",flexGrow:1}})),r.a.createElement(Zx,{websiteId:l,name:t+".page",style:{fontSize:"80%"}})))};function eS(){return(eS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function tS(e){let{blockId:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{websiteSlug:n}=Object(c.i)(),{website:l,page:o}=Xr(Yr(n)),{bind:s}=Gy({website:l,page:o,blockId:t,as:tS});return r.a.createElement(tC,eS({},s,{title:a("Page.Edit.Link.heading")}),e=>{let{values:t,styling:a}=e;return r.a.createElement(BC,{page:o,element:t,styling:a},r.a.createElement(xC,{page:o,style:{marginBottom:16}},r.a.createElement(s.blockComponent,{block:t})),r.a.createElement(Xx,{name:"link"}))})}tS.block=Hx.a;var aS=a("cE1a");function nS(){return(nS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function rS(e){let{blockId:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{websiteSlug:n}=Object(c.i)(),{website:l,page:o}=Xr(Yr(n)),{bind:s}=Gy({website:l,page:o,blockId:t,as:rS}),{theme:i}=Object(wC.b)(!1),u=e=>{const{textAlign:t,textStyle:a,color:n}=e.theme.blocks.text;return e.content?{textAlign:t,fontStyle:Px(a,"italic"),fontWeight:Px(a,"bold"),textDecoration:Px(a,"underline","line-through"),color:n,borderRadius:0,backgroundColor:i.backgroundColor}:{borderRadius:0}};return r.a.createElement(tC,nS({},s,{title:a("Page.Edit.Text.heading"),contentStyles:{padding:"0 0 16px 0"}}),e=>{let{values:t,styling:n}=e;return r.a.createElement(BC,{page:o,element:t,styling:n,toolPanelStyle:{margin:0,width:"100%"}},r.a.createElement(pr,{required:!0,builderInput:!0,style:{marginBottom:0,color:t.content?t.theme.blocks.text.color:"inherit"},inputStyles:u(t),placeholder:a("Page.Edit.Text.fields.content.placeholder"),name:"content",maxLength:1e3}))})}function lS(){return(lS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function oS(e){let{blockId:t}=e;const{t:a}=Object(m.useTranslation)("landings"),{websiteSlug:n}=Object(c.i)(),{website:l,page:o}=Xr(Yr(n)),{bind:s}=Gy({website:l,page:o,blockId:t,as:oS});return r.a.createElement(tC,lS({},s,{title:a("Page.Edit.Video.heading")}),e=>{let{values:t,styling:n}=e;return r.a.createElement(BC,{page:o,element:t,styling:n},r.a.createElement(xC,{page:o,style:{marginBottom:16}},r.a.createElement(s.blockComponent,{block:t})),r.a.createElement(Xi,{required:!0,builderInput:!0,placeholder:a("Page.Edit.Video.fields.url.placeholder"),name:"url",autoCapitalize:"off",style:{marginBottom:16}}))})}rS.block=aS.a,oS.block=rv.o;var sS=a("iLtq");function iS(){return(iS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const cS=e=>{let{item:t,...a}=e;const l=Object(n.useMemo)(()=>({rule:"page-blocks-publish",subject:{kind:t.kind},iconOnly:!0}),[t.kind]),{t:o}=Object(m.useTranslation)("landings"),{generateUrl:s}=Object(Qe.a)();return r.a.createElement(id,iS({tag:Me.b,to:s(t.to),labelIcon:t.icon,label:o(t.label),subLabel:o(t.subLabel),rightIcon:r.a.createElement(R.U,{size:20,color:"#007aff"}),restrict:l,style:{padding:8}},a))};function uS(){return(uS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const dS=[{group:"common",blocks:[{to:"hat",kind:Uh.i,label:"labels.block.kinds.Hat",icon:R.w},{to:"heading",kind:Uh.j,label:"labels.block.kinds.Heading",icon:Jl.k},{to:"text",kind:Uh.u,label:"labels.block.kinds.Text",icon:Jl.j},{to:"link",kind:Uh.m,label:"labels.block.kinds.Link",icon:R.K},{to:"messengers",kind:Uh.o,label:"labels.block.kinds.Messengers",icon:R.O},{to:"socials",kind:Uh.s,label:"labels.block.kinds.Socials",icon:bl.A},{to:"divider",kind:Uh.f,label:"labels.block.kinds.Divider",icon:ed.e},{to:"subscription-form",kind:Uh.t,label:"labels.block.kinds.SubscriptionForm",icon:sS.a},{to:"services-grid",kind:Uh.r,label:"labels.block.kinds.ServicesGrid",icon:R.F,features:["services_block"]},{to:"products",kind:Uh.p,label:"labels.block.kinds.Products",icon:R.Z},{to:"quote",kind:Uh.q,label:"labels.block.kinds.Quote",icon:eo.i},{to:"list",kind:Uh.n,label:"labels.block.kinds.List",icon:R.L},{to:"accordion",kind:Uh.b,label:"labels.block.kinds.Accordion",icon:Ru.c},{to:"features",kind:Uh.g,label:"labels.block.kinds.Features",icon:sS.b},{to:"timer",kind:Uh.v,label:"labels.block.kinds.Timer",icon:R.t},{to:"image",kind:Uh.k,label:"labels.block.kinds.Image",icon:R.I},{to:"image-gallery",kind:Uh.l,label:"labels.block.kinds.ImageGallery",icon:eo.h},{to:"giphy",kind:Uh.h,label:"labels.block.kinds.Giphy",icon:function(e){return r.a.createElement(Jl.e,uS({},e,{size:30}))}},{to:"video",kind:Uh.w,label:"labels.block.kinds.Video",icon:R.mb},{to:"video-gallery",kind:Uh.x,label:"labels.block.kinds.VideoGallery",icon:Jl.l},{to:"custom-code",kind:Uh.e,label:"labels.block.kinds.CustomCode",icon:R.u}]},{group:"custom",label:"labels.block.groups.custom",blocks:[{to:"custom",kind:Uh.d,label:"labels.block.kinds.Custom",subLabel:"Page.View.ChooseElement.subLabels.Custom",icon:eo.f,features:["custom-block"]}]}];function mS(){var e;const{t:t}=Object(m.useTranslation)("landings"),{location:a}=Object(c.g)(),{generateUrl:l}=Object(Qe.a)(),o=Fe(),s=l(".."),i=(null===(e=a.state)||void 0===e?void 0:e.blocks)||Uh.a,u=Object(n.useMemo)(()=>{const e=new Set(i),t=t=>{let{kind:a,features:n}=t;return e.has(a)&&(!n||o(...n))};return dS.map(e=>({...e,blocks:e.blocks.filter(t)})).filter(e=>!!e.blocks.length)},[o,i.join(",")]);return r.a.createElement(nd,{title:t("Page.View.ChooseElement.heading"),onClose:s},u.map(e=>{let{group:a,label:n,blocks:l}=e;return r.a.createElement(id.List,{key:a},n&&r.a.createElement("span",{style:{margin:"12px 0 8px 10px",fontSize:18,fontWeight:"bold"}},t(n)),l.map(e=>r.a.createElement(cS,{key:`${e.to}-${e.label}`,item:e})))}))}var pS=a("Njpl");function bS(){return(bS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function gS(e){return r.a.createElement(ur,bS({as:ei},e))}var fS=a("6xH+"),hS=a.n(fS);function vS(e){let{blockId:t}=e;const a=Object(c.g)(),l=Object(jd.c)(),{t:o}=Object(m.useTranslation)("landings"),{api:s}=Object(de.a)(),{generateUrl:i}=Object(Qe.a)(),{_id:u,collections:d}=l,{_id:p,blocks:b}=Object(kd.b)(),{specifier:g}=cl(),{items:f}=$r(g),[h,v]=Ra()(!1),y=Object(n.useMemo)(()=>o("labels.auto_collection",{count:d.length+1}),[]),E=Object(n.useMemo)(()=>i(".."),[]),O=Object(n.useMemo)(()=>b.find(Object(qr.b)(t)),[b,t]),j=Object(n.useMemo)(()=>({to:Uh.p,useCollection:(null==O?void 0:O.items.length)>1,createCollection:(null==O?void 0:O.items.length)>1,createBlock:(null==O?void 0:O.items.length)>1,removeOriginal:!0,collectionId:"",collectionName:y}),[y,null==O?void 0:O.items.length]),k=Object(n.useMemo)(()=>[...f.filter(e=>!e.default).map(e=>{let{_id:t,name:a}=e;return{value:t,label:a}}),{value:"",label:o("ConvertService.labels.createCollection",{name:y})}],[f]),[{loading:w},C]=iu()(async e=>{v(!1);const{createdBlockId:n}=await s.blocks.convert({websiteId:u,pageId:p,blockId:t,payload:e});v(!0),e.removeOriginal&&(n?a.push(i(`./block/${My()(e.to)}/${n}`,{useMatchUrl:!0})):a.push(i(".",{useMatchUrl:!0})))},[u,p,t]),_=Object(n.useCallback)((e,t)=>{let{useCollection:a,createBlock:n,collectionId:r}=e,{setFieldValue:l}=t;n&&!a&&l("createBlock",!1),l("createCollection",!r)});return O?r.a.createElement(nd,{inverse:!0,light:!0,nopadding:!0,title:o("ConvertService.heading"),onClose:E},e=>r.a.createElement(Kn,{initialValues:j,onChange:_,onSubmit:C},t=>{let{values:a,setFieldValue:n}=t;return r.a.createElement(Gn.a,null,r.a.createElement("div",{className:hS.a.root},h?r.a.createElement(Bl.Section,null,r.a.createElement("div",{className:hS.a.success},o("ConvertService.successHeading")),r.a.createElement(pS.a,null,r.a.createElement(ui,null,o("ConvertService.successTip"))),r.a.createElement(pS.a,null,r.a.createElement(ke.a,{type:"button",fullWidth:!0,onClick:e},o("ui:labels.close")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Bl.Section,null,r.a.createElement(Ri,{builderInput:!0,name:"useCollection",label:o("ConvertService.labels.useCollection"),style:{flex:1},onChange:(e,t)=>{t&&n("createBlock",!0)}}),r.a.createElement(gS,{name:"collectionId",disabled:!a.useCollection,options:k}),a.useCollection&&!a.collectionId&&r.a.createElement(pS.a,null,r.a.createElement(ui,{tipId:"landings:ConvertService.labels.addedToTip",tipParams:{name:a.collectionName}}))),r.a.createElement(Bl.Section,null,r.a.createElement("div",{className:hS.a.heading},o("ConvertService.labels.whenFinished")),r.a.createElement(Ri,{builderInput:!0,name:"removeOriginal",label:o("ConvertService.labels.removeOriginal")}),a.useCollection&&r.a.createElement(Ri,{builderInput:!0,name:"createBlock",label:o("ConvertService.labels.createBlock")})),r.a.createElement(Bl.Section,null,r.a.createElement(pS.a,null,r.a.createElement(br.a,{fullWidth:!0,disabled:!1,isFetching:w},o("ConvertService.labels.convert")))))))})):null}function yS(){return(yS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const ES={[RC.block.kind]:RC,[GC.block.kind]:GC,[KC.block.kind]:KC,[p_.block.kind]:p_,[P_.block.kind]:P_,[Z_.block.kind]:Z_,[sP.block.kind]:sP,[gP.block.kind]:gP,[vP.block.kind]:vP,[_P.block.kind]:_P,[xP.block.kind]:xP,[BP.block.kind]:BP,[KP.block.kind]:KP,[tx.block.kind]:tx,[yx.block.kind]:yx,[jx.block.kind]:jx,[_x.block.kind]:_x,[Nx.block.kind]:Nx,[Mx.block.kind]:Mx,[qx.block.kind]:qx,[tS.block.kind]:tS,[rS.block.kind]:rS,[oS.block.kind]:oS},OS=(e,t,a)=>{const n=Object(c.f)(e.pathname,t);return n&&a(t.path,n.params)},jS=(e,t,a)=>{const n=Object(c.f)(e.pathname,t);return n&&r.a.createElement(a,yS({key:t.path||t},n.params))},kS=e=>{let{location:t,match:a,store:l}=e;const o=ye(),s=Object(jd.c)(),{generateUrl:i}=Object(Qe.a)({useMatchUrl:!0}),[d,m]=Object(n.useState)(!1),[p,b]=Object(n.useState)(!0),g=Object.entries(ES).map(e=>{let[t,a]=e;return[vv(t),a]}),f=a.path,h=i("."),v=((e,t)=>{const a=e.split("/"),n=t.split("/");let r=n.length;const l=[];for(;r-- >0;){const e=n[r];l.unshift([":kind",":blockId"].includes(e)?a[r]:e)}return l.join("/")})(h,f),y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Array.isArray(t)?[].concat(...t.map(t=>y(e,t))):[`${v}/add-block/${e}${t}`,`${v}/block/${e}/:blockId${t}`]},E=Object(n.useMemo)(()=>({path:[...y(":kind",["/p/:productSlug","/c/:collectionSlug/p/:productSlug"]),v+"/preview/p/:productSlug",v+"/preview/c/:collectionSlug/p/:productSlug"],exact:!1}),[v]),O=Object(n.useMemo)(()=>({path:[v+"/preview/orders/:orderId",v+"/preview/p/:productSlug/orders/:orderId",v+"/preview/c/:collectionSlug/p/:productSlug/orders/:orderId"],exact:!0}),[v]),j=r.a.createElement(qt.a,null,jS(t,{path:v+"/add-block",exact:!0},mS),g.map(e=>{let[a,n]=e;return jS(t,{path:y(a)},n)}),r.a.createElement(c.b,{key:"nested",exact:!1,path:y(":kind"),component:kS}),OS(t,{path:v+"/products"},e=>r.a.createElement(Pd,{key:e,base:h,websiteId:s._id},r.a.createElement(c.b,{key:e,component:vd}))),jS(t,`${v}/block/${My()(Uh.r)}/:blockId/convert`,vS)),k=r.a.createElement(qt.a,null,OS(t,{path:y(":kind","/c/:collectionSlug"),exact:!1},(e,t)=>{const a=t.collectionSlug||d,n=a&&s.collections.find(e=>{let{slug:t}=e;return t===a});return n?r.a.createElement(Ly.a,{key:e,workspaceId:o._id,websiteId:s._id,collection:n,firstLoad:p,setFirstLoad:b,setLastCollectionSlug:m}):null}),OS(t,E,(e,t)=>r.a.createElement(By.a,yS({key:e,workspaceId:o._id,defaultCollectionId:s.defaultCollectionId,lastCollectionSlug:d,setLastCollectionSlug:m,interactive:!!l},t))),jS(t,{path:v+"/preview/user-orders/"},Fy.a),jS(t,{path:v+"/preview/user-orders/:orderId",exact:!0},Ry.a),jS(t,O,Ay.a),jS(t,v+"/preview/orders/:orderId/payment/:status",Uy.a));return r.a.createElement(r.a.Fragment,null,j,l?r.a.createElement(u.a,{store:l},k):k)},wS=e=>{let{store:t}=e;const a=Object(c.h)(),{path:n}=Object(c.j)(),[l,o]=Ne()("visualBuilderDragTip",!0),s="/:share(share|published|published/share|share/share)",i=(e,t,n)=>{const l=Object(c.f)(a.pathname,e);return l&&r.a.createElement(t,yS({key:e.path},l.params,n))};return r.a.createElement(qy,null,r.a.createElement(qt.a,null,r.a.createElement(c.b,{path:n,render:e=>r.a.createElement(kS,yS({store:t},e))}),i({path:n+"/published",exact:!1},Lm),i({path:n+"/:share(share|published/share)",exact:!1},Am),i({path:`${n}${s}/name`,exact:!1},$m),i({path:`${n}${s}/name/domain`,exact:!0},im),i({path:`${n}${s}/embed`,exact:!1},Jm),i({path:`${n}${s}/qr`,exact:!0},np),i({path:`${n}${s}/socials`,exact:!1},pp),i({path:`${n}${s}/bio`,exact:!1},fp),i({path:`${n}${s}/:socials(socials|bio)/instagram`,exact:!0},wp),i({path:`${n}${s}/:socials(socials|bio)/tiktok`,exact:!0},Sp),i({path:n+"/styling",exact:!0},cE),i({path:n+"/styling/theme",exact:!0},tk),i({path:n+"/styling/background-color",exact:!0},hw),i({path:n+"/styling/background-image",exact:!0},Jw),i({path:n+"/styling/alignment",exact:!0},Yw),i({path:n+"/help",exact:!0},Qy),i({path:n+"/not-published/no-blocks",exact:!0},zm),i({path:n+"/has-advanced-blocks",exact:!0},qm),l&&i({path:n+"/sort",exact:!0},()=>r.a.createElement(sE,{setTipVisible:o}))))};var CS=a("HY/Q"),_S=a.n(CS);function PS(e){let{isViewMode:t,isSortMode:a,website:l,page:o}=e;const{t:s}=Object(m.useTranslation)("landings"),{generateUrl:i}=Object(Qe.a)({useMatchUrl:!0}),{desktopPreview:u}=(e=>{const t=Re("desktop_layout"),a=!Object(c.j)("/pages/-/:any/edit/preview/desktop"),{ui:r}=Object(de.a)(),[l,o]=Ne()("defaultToDesktopPreview",!1);return Object(n.useEffect)(()=>{t&&(e&&o(a),r.toggleMobileContainer(e&&!a))},[t,e,a]),{desktopPreview:t&&l}})(),d=l.name||o.name,p=l.enabled,b=!o.blocks.length;return ta(d),r.a.createElement("div",{className:O()(_S.a.root,t&&_S.a.viewMode,a&&_S.a.sortMode)},r.a.createElement("div",{className:_S.a.container},r.a.createElement("div",{className:_S.a.row},r.a.createElement(Me.b,{className:_S.a.backButton,to:i("..")},r.a.createElement(R.g,{size:20,color:"#333"})),r.a.createElement("h1",{className:_S.a.title},d),!b&&r.a.createElement(r.a.Fragment,null,p&&r.a.createElement(Me.b,{to:i("share"),className:_S.a.button,title:s("Editor.Dashboard.header.share")},r.a.createElement(R.X,{size:20,color:"#333"})),r.a.createElement(ym,{size:"small",btnStyle:"primary",style:{userSelect:"none",marginRight:10},routes:{published:"../published"},website:l,page:o,"data-button":"publish"},s("Editor.Dashboard.header.publish")))),r.a.createElement("div",{className:_S.a.row},r.a.createElement("span",null,s("Editor.Dashboard.header.sortTitle")))))}const xS=()=>{let e=[],t=0;return{size:0,take(a){const n=e.find(e=>e.id===a);if(n)return n;if(this.size<e.length){const t=e[this.size++];return t.id=a,t}const r={key:++t,id:a,item:null};return e.push(r),this.size++,r},release(t){const a=[],n=[];for(const r of e)t.includes(r.id)?n.push(r):a.push(r);e=[...a,...n],this.size=a.length},update(e,t){const a=[];for(const n of e){const e=t(n),r=this.take(n);r.item=e,a.push(r)}return a}}},SS=e=>e.map(e=>{let{id:t}=e;return t});var NS=a("4ZcM"),IS=a.n(NS);const TS=e=>{let{blockIds:t,active:a,offset:l}=e;const o=(e=>{const t=Object(n.useMemo)(()=>xS(),[]),a=Te()(e);return Object(n.useMemo)(()=>{const n=new Map(e.map(e=>[e.id,e])),r=SS(a||[]),l=SS(e),o=new Set(l),s=r.filter(e=>!o.has(e)),i=t.update(l,e=>n.get(e));return t.release(s),i},[e])})(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];const{listen:a}=Object(n.useContext)(Iv),[r,l]=Object(n.useState)([]),o=Object(n.useCallback)(a=>{a.length||l([]);let n=[];const r=[],o=new Map(a.map(e=>[e.id,e])),s=()=>{r.push(n.map(e=>o.get(e))),n=[]};for(const t of e)o.has(t)?n.push(t):n.length&&s();n.length&&s();const i=r.map(e=>({id:e[0].id,area:Nv(e,t)}));l(i)},[e,l]);return Object(n.useEffect)(()=>a(o),[o]),r}(t,[-2,2])),s=Object(n.useMemo)(()=>({transform:`translate3d(${-l.left}px, ${-l.top}px, 0px)`}),[l.left,l.top]);return r.a.createElement("div",{className:O()(IS.a.selectionRanges,!a&&IS.a.disabled),style:s},o.map(e=>{let{key:t,item:{area:a}}=e;return r.a.createElement("div",{key:t,className:IS.a.selectionArea,style:a})}))};function MS(){return(MS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const LS=e=>{let{children:t,blockIds:a,active:n,...l}=e;const[o,s]=Mv();return r.a.createElement(Tv,null,r.a.createElement("div",MS({ref:o},l),t),r.a.createElement(TS,{blockIds:a,active:n,offset:s}))};var BS=a("13zW"),FS=a.n(BS);function RS(){const e=Object(Bm.b)(),t=Object(jd.c)(),{generateUrl:a}=Object(Qe.a)({useMatchUrl:!0}),{page:l}=Xr(t),{theme:o,style:s,resolvedTheme:i,align:c}=Object(Jh.a)(l),{isViewMode:d,isMobileMode:m,isHelpPage:p,isDesktopPreviewMode:b,isInFormatSelectionMode:g}=hv(),{ref:f,isMatrix:h,isDisabledDashboard:v,isDeleting:y,isSorting:E,blocksHash:j,blockIds:k,blocks:w,selection:C,toggleMatrix:_,handleSortEnd:P,handleSortStart:x,handleBlockEdit:S,handleBlockSelect:N,handleClearSelection:I,handleBlockToggle:T,handleAction:M,handleDeletion:L}=kv(t,l),B=a(d?b?"./preview/desktop":"./preview":"."),F=Object(n.useMemo)(()=>nv({website:t,page:l}),[t,l]),R=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const[a,r]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{const t=setTimeout(()=>r(!0),e);return()=>{clearTimeout(t)}},t),a}(300),A=Object(n.useMemo)(()=>({renderBlock:(e,t)=>{const a=((e,t,a,n)=>Dv(Cv.a.computeComponentInsets(e,t,a,n)))(w,e,t,i),n=rv.c[e.kind],l=n?r.a.createElement(n,{key:e._id||e.kind+t,id:"block-"+e._id,interactive:d,isViewMode:d,isMobileMode:m,block:e,insets:a,sortable:!0}):r.a.createElement(lv.a,{key:e._id||e.kind+t,insets:a,sortable:!0},`<Block @${e.kind} #${e._id.slice(-6)} />`);return d?r.a.createElement(u.a,{key:e._id||e.kind+t,store:F},l):l}}),[d,m,j,i]);(e=>{Object(n.useEffect)(()=>{if(!e)return;const t={};for(const a in e)t[a]=document.body.style[a];return Object.assign(document.body.style,e),()=>{Object.assign(document.body.style,t)}},[!!e])})(b&&s);const U=r.a.createElement("div",{className:O()(FS.a.root,m&&FS.a.mobileMode,d&&FS.a.viewMode),id:"visual-builder"},r.a.createElement(PS,{isViewMode:d,page:l,website:t}),r.a.createElement("div",{className:O()(FS.a.bgColor,d&&FS.a.viewMode),style:s},o.backgroundImage&&r.a.createElement(ov.a,{className:FS.a.bgImage,path:o.backgroundImage,opacity:o.backgroundImageOpacity})),r.a.createElement("div",{className:FS.a.layout},r.a.createElement("div",{className:O()(FS.a.content,d&&FS.a.viewMode),ref:f},r.a.createElement(LS,{className:FS.a.contentInner,style:c.container,blockIds:k,active:!(E||d)},0===w.length?r.a.createElement(Gv,{page:l,className:FS.a.emptyPage,style:{color:i.colors.text}}):r.a.createElement(Vv,{style:c.inner,blocks:w,draggable:!d&&!P.pending,selection:C.items,isAnimated:R,isViewMode:d,isMobileMode:m,isWebsitePublished:t.enabled,theme:i,onSortStart:x,onSortEnd:P.run,onBlockClick:N,onBlockDoubleTap:S,onBlockToggle:T,pressDelay:e?200:0}),d&&r.a.createElement(u.a,{store:F},r.a.createElement(sv.a,null))))),r.a.createElement(Iy,{blocks:w,selected:C.items,isDisabled:v,isFocusMode:d,isAddonMode:g,isHelpPage:p,isEmptyPage:!l.blocks.length,onClearSelection:I,onAction:M}),r.a.createElement(qt.a,null,h&&r.a.createElement(Zh,{onTimeout:_}),y&&r.a.createElement(fv,{handle:L})),r.a.createElement(wS,{store:d&&F}));return r.a.createElement(zr.a.Provider,{value:i},r.a.createElement(iv.a.Provider,{value:A},r.a.createElement(uv,{base:B},U)))}var AS=a("z+0o"),US=a.n(AS);function zS(){return(zS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function DS(e){let{template:t,label:a,badge:n,...l}=e;const{upgrade:o}=pm(t);return r.a.createElement("div",Object(_a.a)(US.a.root,l),n&&o&&r.a.createElement("div",{className:US.a.badgeTop},r.a.createElement(fl,zS({plan:o},"string"==typeof n?{className:US.a[n]}:{}))),t?r.a.createElement(no.a,{src:t.thumbnailUrl,alt:a||t.name,title:a||t.name,mode:"inline"}):r.a.createElement("div",{className:US.a.innerLabel},a))}DS.defaultProps={template:null,label:null,badge:!0};var WS=a("4mRT"),VS=a.n(WS);const qS=e=>{let{generateUrl:t,template:a}=e;const{t:n}=Object(m.useTranslation)("landings");return r.a.createElement(Tn,{key:a._id,title:a.name,url:n("ui:labels.date",{date:Ue()(a.createdAt)}),status:a.public&&n("Template.View.List.labels.published"),to:t(a._id)},r.a.createElement(DS,{className:VS.a.preview,template:a,badge:"small"}))};function HS(){const e=ve()._id,t=ye()._id,{t:a}=Object(m.useTranslation)("landings"),{generateUrl:l}=Object(Qe.a)(),{templates:o}=Mh(),{personal:s,workspace:i,common:c}=Object(n.useMemo)(()=>{const a=a=>a.author===e?0:a.workspace===t?1:2,n=Object(Vr.a)(),r=o.map(e=>({...e,theme:n,type:a(e)}));return{personal:r.filter(e=>{let{type:t}=e;return 0===t}),workspace:r.filter(e=>{let{type:t}=e;return 1===t}),common:r.filter(e=>{let{type:t}=e;return 2===t})}},[o,e,t]),u=+!!s.length+!!i.length+!!c.length>1,d=(e,t)=>r.a.createElement(wh,{style:{width:"100%"}},u&&r.a.createElement("h2",null,t),e.map(e=>r.a.createElement(qS,{key:e._id,template:e,generateUrl:l})));return r.a.createElement("div",{className:O()(VS.a.root,u&&VS.a.multipleGroups)},r.a.createElement("div",{className:VS.a.pageHeader},r.a.createElement(Me.b,{to:l(".."),className:VS.a.backLink},r.a.createElement(R.g,{size:24,color:"#333"})),r.a.createElement("h1",{className:VS.a.title},a("Template.View.List.heading"))),r.a.createElement("div",{className:VS.a.pagesContainer},!!s.length&&d(s,a("Template.View.List.labels.personal")),!!i.length&&d(i,a("Template.View.List.labels.workspace")),!!c.length&&d(c,a("Template.View.List.labels.common"))))}function GS(){return(GS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function $S(){const{t:e}=Object(m.useTranslation)("landings"),{templateId:t}=Object(c.i)(),a=Lh(t),l=Object(n.useCallback)(()=>(e=>{let{t:t,template:a}=e;return[{to:"status",label:t("Template.View.Settings.items.status"),icon:R.eb,preview:a.public?t("ui:labels.yes"):t("ui:labels.no"),rule:"page-templates-publish"},{to:"name",label:t("Template.View.Settings.items.name"),icon:Jl.k,preview:a.name},{to:"tags",label:t("Template.View.Settings.items.tags"),icon:R.G,preview:[...new Set([...a.primaryTags,...a.secondaryTags])].join(", ")},{to:"delete",label:t("labels.template.delete"),labelColor:"#dc5960",icon:function(e){return r.a.createElement(R.fb,GS({},e,{color:"#dc5960"}))}}]})({t:e,template:a}),[e,a]);return r.a.createElement(cd,{title:e("Template.View.Settings.heading"),menuFactory:l})}function KS(){const{t:e}=Object(m.useTranslation)("landings"),{generateUrl:t}=Object(Qe.a)(),{templateId:a}=Object(c.i)(),n=Lh(a);return r.a.createElement(ob,{title:e("Template.Edit.Name.heading"),template:n,backPath:t(".."),successRedirectPath:t("..")},()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(Xi,{builderInput:!0,name:"name",placeholder:e("Template.fields.name.placeholder"),maxLength:250})))}function ZS(){const{t:e}=Object(m.useTranslation)("landings"),{generateUrl:t}=Object(Qe.a)(),{templateId:a}=Object(c.i)(),n=Lh(a);return r.a.createElement(ob,{title:e("Template.Edit.Status.heading"),template:n,backPath:t(".."),successRedirectPath:t("..")},()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(jE,{name:"public",options:[{label:e("Template.fields.public.published"),value:!0},{label:e("Template.fields.public.notPublished"),value:!1}]})))}function JS(){const{t:e}=Object(m.useTranslation)("landings"),{generateUrl:t}=Object(Qe.a)(),{templateId:a}=Object(c.i)(),n=Lh(a);return r.a.createElement(ob,{title:e("Template.Edit.Tags.heading"),template:n,backPath:t(".."),successRedirectPath:t("..")},()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(nb,{builderInput:!0,name:"primaryTags",label:e("Template.fields.tags.label"),placeholder:e("Template.fields.tags.placeholder")})))}function YS(){const e=Object(c.g)(),{t:t}=Object(m.useTranslation)("landings"),{api:a}=Object(de.a)(),{generateUrl:n}=Object(Qe.a)(),{templateId:l}=Object(c.i)(),o=n(".."),{pending:s,run:i}=Object(Aa.a)(async()=>{await a.pageTemplates.delete({templateId:l}),e.push("/pages/templates")},[l,e]);return r.a.createElement(nd,{title:t("Template.Edit.Delete.heading"),onClose:o},r.a.createElement("p",{style:{margin:0,color:"#777",textAlign:"center"}},t("Template.Edit.Delete.fieldTip")),r.a.createElement(ke.a,{tag:Me.b,to:n(".."),fullWidth:!0,style:{marginTop:16},btnStyle:"secondary2"},t("labels.template.cancelDelete")),r.a.createElement(ke.a,{fullWidth:!0,onClick:i,style:{marginTop:10},btnStyle:"danger",isFetching:s},t("labels.template.delete")))}function QS(){return(QS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const XS=()=>{const e=Object(c.h)(),{path:t}=Object(c.j)(),a=(t,a)=>{const n=Object(c.f)(e.pathname,t);return n&&r.a.createElement(a,QS({key:t.path},n.params))};return r.a.createElement(qt.a,null,a({path:t+"/settings",exact:!1},$S),a({path:t+"/settings/name",exact:!0},KS),a({path:t+"/settings/status",exact:!0},ZS),a({path:t+"/settings/tags",exact:!0},JS),a({path:t+"/settings/delete",exact:!0},YS))};var eN=a("AQGM"),tN=a.n(eN);function aN(){const{t:e}=Object(m.useTranslation)("landings"),{generateUrl:t}=Object(Qe.a)({useMatchUrl:!0}),{templateId:a}=Object(c.i)(),{pending:l,create:o}=el(),s=Lh(a),i=Object(n.useCallback)(()=>o({templateId:a}),[a]);return s?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:tN.a.root},r.a.createElement("div",{className:tN.a.topPanel},r.a.createElement("div",{className:tN.a.header},r.a.createElement(Me.b,{to:t(".."),className:tN.a.backLink},r.a.createElement(R.g,{size:24,color:"#333"})),r.a.createElement("h1",{className:tN.a.title},s.name)),r.a.createElement(DS,{template:s,className:tN.a.preview})),r.a.createElement("div",{style:{padding:"5px 16px 0 16px"}},r.a.createElement(Gd,null,r.a.createElement(Dt,{rule:"website:create",renderNoAccess:()=>r.a.createElement(Xd,{disabled:!0,icon:R.U},e("labels.page.createNew"))},r.a.createElement(Xd,{disabled:l,onClick:i,icon:R.U},e("labels.page.createNew"))),r.a.createElement(Dt,{rule:"page-templates:edit",subject:s},r.a.createElement(tm,{disabled:l,to:t("settings"),icon:R.W},e("Template.Header.items.settings")))))),r.a.createElement(XS,null)):null}function nN(){return(nN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const rN=()=>{const{websiteSlug:e}=Object(c.i)(),{website:t,page:a}=Xr(Yr(e)),{generateUrl:n}=Object(Qe.a)({useMatchUrl:!0});return a?r.a.createElement(xd,{base:"/pages/-/"+e,website:t,page:a},r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/pages/-/:websiteSlug/edit",component:RS}),r.a.createElement(c.b,{path:"/pages/-/:websiteSlug/products",component:vd}),r.a.createElement(c.b,{path:"/pages/-/:websiteSlug",component:ph}))):r.a.createElement(c.a,{to:n("/pages")})};function lN(){const e=Object(c.h)(),{theme:t}=Object(yd.a)(),{i18n:a,isLoaded:n}=Od();if(!n)return null;return r.a.createElement(tl.a.Provider,{value:a.language},r.a.createElement(zr.a.Provider,{value:t},r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:["/pages","/pages/create"],component:Nh}),r.a.createElement(c.b,{path:"/s",component:Nh}),r.a.createElement(c.b,{path:"/pages/-/:websiteSlug",component:rN}),r.a.createElement(c.b,{exact:!0,path:"/pages/templates",component:HS}),r.a.createElement(c.b,{path:"/pages/templates/:templateId",component:aN})),r.a.createElement(qt.a,null,((t,a)=>{const n=Object(c.f)(e.pathname,t);return n&&r.a.createElement(a,nN({key:t.path},n.params))})({path:"/pages/create",exact:!0},$h))))}const oN=()=>{const{api:e}=Object(de.a)();return Object(n.useEffect)(()=>{e.listenUserUpdated()},[]),null};oN.propTypes={};var sN=function(){const{boot:e,shutdown:t}=Object(d.b)(),a=ve();return Object(n.useEffect)(()=>(e({email:a.email,userId:a._id}),t),[]),null};function iN(){return(iN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function cN(e){let{tag:t="button",onAccept:a,onDismiss:l,children:o,...s}=e;const i=Object(n.useContext)(ne);if(!i)return null;return r.a.createElement(t,iN({onClick:async function(e){e.preventDefault(),i.prompt(),"accepted"!==(await i.userChoice).outcome?a&&a():l&&l()}},s),o)}function uN(){return(uN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function dN(e){return r.a.createElement(cN,uN({tag:"a",href:"#"},e))}function mN(e){let{backPath:t}=e;const{t:a}=Object(m.useTranslation)(),{ui:l}=Object(de.a)(),{generateUrl:o}=Object(Qe.a)(),{isOldVersionDisplayed:s}=function(){var e;const{card:t,projectVersion:a}=ye(),n=!(null==t||null===(e=t.links)||void 0===e||!e.length);return{isInboxDisplayed:Ct()("2.9",a)>=0,isLinksDisplayed:n,isOldVersionDisplayed:Ct()("4.0.0",a.split("-",2)[0])>0}}(),{isAdmin:i}=Le(),{isAdvancedStylingMode:c}=Be(),u=tt({preventDynamicBack:!0,reason:!1}),d=Ee(),p=Re("templates"),b=Re("advanced_styling"),g=Object(n.useCallback)(e=>{e.preventDefault(),l.toggleStylingMode()}),f=Object(n.useCallback)(e=>{e.preventDefault(),d("inbox")});return r.a.createElement(nd,{title:a("settingsPage.heading"),onClose:t},r.a.createElement(id.List,null,r.a.createElement(id,{tag:Me.b,to:o("account"),labelIcon:R.lb,label:a("settingsMenu.generalMenu.account"),draggable:!1}),r.a.createElement(id,{tag:Me.b,to:o("notifications"),labelIcon:R.j,label:a("settingsMenu.generalMenu.notifications"),draggable:!1}),p&&r.a.createElement(id,{tag:Me.b,to:o("/pages/templates"),labelIcon:uE.b,label:a("settingsMenu.generalMenu.templates"),draggable:!1}),i&&r.a.createElement(id,{tag:Me.b,to:u,labelIcon:R.x,label:a("settingsMenu.generalMenu.billing"),draggable:!1}),b&&r.a.createElement(id,{tag:"a",href:"#",labelIcon:R.cb,label:a("settingsMenu.generalMenu.advanced"),draggable:!1,rightIcon:c&&r.a.createElement(R.n,null),onClick:g}),r.a.createElement(id,{tag:dN,labelIcon:R.db,label:a("settingsMenu.install"),draggable:!1,noOnClick:!0}),r.a.createElement(id,{tag:Me.b,to:o("support"),labelIcon:R.H,label:a("settingsMenu.generalMenu.support"),draggable:!1}),s&&r.a.createElement(id,{labelColor:"#999",iconColor:"#999",tag:"a",href:"#",onClick:f,labelIcon:Ru.a,label:a("mainMenu.oldVersion"),draggable:!1}),r.a.createElement(id,{tag:"a",href:"/auth/logout",labelIcon:R.M,label:a("settingsMenu.logout"),draggable:!1})))}function pN(e){let{children:t,title:a,backPath:l,successRedirectPath:o}=e;const{api:s}=Object(de.a)(),{i18n:i,t:u}=Object(m.useTranslation)("landings"),{back:d,success:p}=((e,t)=>{const{state:a}=Object(c.h)(),r=(null==a?void 0:a.backPath)||e,l=(null==a?void 0:a.successRedirectPath)||t;return Object(n.useMemo)(()=>({back:r,success:l}),[l,r])})(l,o||"/pages"),[b,g]=Object(n.useState)(),h=ve(),v=Object(n.useMemo)(()=>{var e,t,a,n,r,l,o,s;return{name:h.name||"",email:h.email||"",lang:h.lang||"en",avatar:h.avatar,avatarUrl:h.avatarUrl,notificationSettings:{email:{enabled:(null===(e=h.notificationSettings)||void 0===e||null===(t=e.email)||void 0===t?void 0:t.enabled)||!1},telegram:{enabled:(null===(a=h.notificationSettings)||void 0===a||null===(n=a.telegram)||void 0===n?void 0:n.enabled)||!1},webhook:{enabled:(null===(r=h.notificationSettings)||void 0===r||null===(l=r.webhook)||void 0===l?void 0:l.enabled)||!1,endpoint:(null===(o=h.notificationSettings)||void 0===o||null===(s=o.webhook)||void 0===s?void 0:s.endpoint)||""}}}},[h]),y=Object(n.useCallback)(async e=>{const t=await s.users.updateMyAccount({payload:{...h,...e}});await i.changeLanguage(t.lang),g(p)},[h,p]);return Object(pl.a)(),r.a.createElement(Kn,{initialValues:v,onSubmit:y},e=>r.a.createElement(Il,{onClose:d,title:a},r.a.createElement(Gn.a,{autoComplete:"off"},Object(f.a)(t,e),r.a.createElement(fr,{fullWidth:!0,size:"standart",isInitialHidden:!1,disabled:!e.dirty,style:{marginTop:8},isFetching:e.isSubmitting},u("ui:labels.saveChanges"))),b&&r.a.createElement(c.a,{to:b})))}pN.defaultProps={websiteId:"",backPath:"/pages",successRedirectPath:"/pages"};const bN={ru:"",en:"English",uk:""};function gN(e){let{backPath:t}=e;const{t:a}=Object(m.useTranslation)(),{api:n}=Object(de.a)(),[l,o]=Ra()(!1);return r.a.createElement(pN,{title:a("accountPage.heading"),backPath:t},e=>{let{values:t,setFieldValue:s}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dp,{name:"avatar",gallery:!1,innerLabel:a("accountForm.label.avatar"),previewUrl:t.avatarUrl,upload:e=>{let{payload:t}=e;return n.users.uploadAvatar({payload:t,field:"avatar"})},onChange:e=>{let{path:t,url:a}=e;t&&(s("avatar",t),s("avatarUrl",a))}}),r.a.createElement(Xi,{builderInput:!0,name:"name",label:a("accountForm.label.name"),placeholder:a("accountForm.placeholder.name")}),r.a.createElement(Xi,{builderInput:!0,name:"email",label:a("accountForm.label.email"),placeholder:a("accountForm.placeholder.email")}),r.a.createElement("div",{style:{marginBottom:12}},r.a.createElement("div",{style:{fontWeight:500,fontSize:14,lineHeight:"20px",paddingLeft:10,marginBottom:4}},a("accountForm.label.language")),r.a.createElement("div",{onClick:o,style:{height:38,borderRadius:10,backgroundColor:"#f5f5f5",display:"flex",alignItems:"center",padding:"0 16px",cursor:"pointer"}},bN[t.lang],r.a.createElement("span",{style:{marginLeft:"auto",fontSize:14,color:"#007aff"}},a("accountForm.button.change")))),r.a.createElement(Me.b,{to:"/s/account/change-password",style:{marginBottom:12,display:"block",color:"#333"}},r.a.createElement("div",{style:{fontWeight:500,fontSize:14,lineHeight:"20px",paddingLeft:10,marginBottom:4}},a("accountForm.button.password")),r.a.createElement("div",{style:{height:38,borderRadius:10,backgroundColor:"#f5f5f5",display:"flex",alignItems:"center",padding:"0 16px",cursor:"pointer"}},"",r.a.createElement("span",{style:{marginLeft:"auto",fontSize:14,color:"#007aff"}},a("accountForm.button.change")))),l&&r.a.createElement(ua,{title:a("accountForm.label.chooseLang"),onClose:e=>{o(!1),e&&s("lang",e)},render:e=>{let{handleClose:a}=e;return r.a.createElement(Mo.a,{value:t.lang,options:[{label:"",value:"ru"},{label:"",value:"uk"},{label:"English",value:"en"}],onChange:a})}}))})}var fN=function(e){let{name:t}=e;const{t:a}=Object(m.useTranslation)();return r.a.createElement("div",{style:{marginBottom:10}},r.a.createElement(Ri,{builderInput:!0,name:t+".enabled",label:a("accountForm.label.notifications.email")}))},hN=a("EwNN");function vN(e){const t=Object(n.useRef)(e),[a,r]=Object(n.useState)(!1);t.current=e;const[{value:l},o]=iu()(()=>(r(!0),Promise.resolve(t.current()).then(e=>{if(e)return e;r(!1)},e=>{throw r(!1),e})),[]),s=function(e){const t=Object(u.c)(fe);return!(!e||!t.includes(e))}(l);return Object(n.useEffect)(()=>{s&&r(!1)},[s]),{isLoading:a,isUpdated:s,update:o}}const yN=e=>{let{url:t,marker:a}=e;if(t)return window.open(t),a};var EN=function(e){let{name:t}=e;const{t:a}=Object(m.useTranslation)(),{getFieldMeta:l,setFieldValue:o}=Object(Gn.f)(),{isDisabled:s,isLoading:i,isConnected:c,setConnected:u,connect:d}=function(e){const t=hN.a.Safari,a=sa()(),r=ve(),{api:l}=Object(de.a)(),[o,s]=Object(n.useState)(()=>Lp()(r,e)),[i,c]=Object(n.useState)(),[u]=Object(n.useState)(()=>async()=>{const e=await l.users.connectTelegram();if(e.url&&a())return c(e),e}),{isLoading:d,isUpdated:m,update:p}=vN(()=>t?i&&yN(i):u().then(yN));return Object(n.useEffect)(()=>{i||o||!t||u()},[i,o]),Object(n.useEffect)(()=>{m&&(s(!!r.telegramId),c(null))},[m]),{isConnected:o,setConnected:s,isLoading:d,isDisabled:t&&!i,connect:p}}(t+".enabled"),{value:{enabled:p}={}}=l(t);return Object(n.useEffect)(()=>{u(p)},[p]),Object(n.useEffect)(()=>{o(t+".enabled",c)},[c]),r.a.createElement("div",{style:{marginBottom:10}},p?r.a.createElement(Ri,{builderInput:!0,name:t+".enabled",label:a("accountForm.label.notifications.telegram")}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ui,{style:{marginBottom:10},tipId:"common:ConnectTelegram.click_button_to_connect"}),r.a.createElement(ke.a,{fullWidth:!0,onClick:d,disabled:s,isFetching:i,type:"button",beforeIcon:r.a.createElement(Ju.d,null)},a("ConnectTelegram.connect"))))};function ON(){return(ON=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function jN(e,t){return n.createElement(ha.b,ON({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("g",{clipPath:"url(#prefix__clip0)",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},n.createElement("path",{d:"M19 16.9A5 5 0 0018 7h-1.26A8.001 8.001 0 001.681 5.757 8 8 0 005.121 16"}),n.createElement("path",{d:"M13 11l-4 6h6l-4 6"})),n.createElement("defs",null,n.createElement("clipPath",{id:"prefix__clip0"},n.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"}))))}var kN=n.forwardRef(jN),wN=a("BqG0");const CN=e=>{let{withPurchase:t,disabled:a}=e;const l=Object(Gn.f)(),{t:o}=Object(m.useTranslation)(),{api:s}=Object(de.a)(),[{value:i=""}]=Object(Gn.d)("endpoint"),[c,u]=Object(n.useState)(!1),[d,p]=Object(n.useState)(""),[{loading:b},g]=iu()(async()=>{p(0),u(!1),l.setErrors({});try{const{status:e}=await s.endpoints.test({payload:{endpoint:i,withPurchase:t}});p(e),"ok"===e&&u(!0)}catch(e){p(e.message),wN.f.is(e)&&l.setErrors(e.errors)}},[l,i,t]);return r.a.createElement(r.a.Fragment,null,!!d&&r.a.createElement("div",{style:{color:c?"green":"red"}},o("ConnectWebhook.labels.testResult",{status:"ok"!==d?d:o("ConnectWebhook.labels.ok")})),r.a.createElement(ke.a,{fullWidth:!0,type:"button",btnStyle:"secondary",isFetching:b,disabled:a,onClick:g,style:{marginTop:16}},o("ConnectWebhook.labels.test")),r.a.createElement(ke.a,{fullWidth:!0,type:"submit",btnStyle:"primary",disabled:a||b||!c,style:{marginTop:16}},o("ui:labels.apply")))},_N=e=>{let{endpoint:t,onChange:a}=e;const{t:l}=Object(m.useTranslation)(),{api:o}=Object(de.a)(),[s,i]=Object(n.useState)(!1),c=Object(n.useMemo)(()=>({enabled:!0,endpoint:t||""})),{loading:u,value:d}=ot()(async()=>o.endpoints.sample({query:{withPurchase:s}}),[s]),p=Object(n.useCallback)(e=>{let{target:t}=e;return i(!!t.checked)},[]);return r.a.createElement(ua,{title:l("ConnectWebhook.heading"),onClose:a},e=>{let{handleClose:t}=e;return r.a.createElement(Kn,{initialValues:c,onSubmit:t},e=>{let{values:t}=e;return r.a.createElement(Gn.a,{autoComplete:"off"},r.a.createElement(Xi,{builderInput:!0,name:"endpoint",label:l("ConnectWebhook.labels.endpoint")}),r.a.createElement(ui,{tipId:"common:ConnectWebhook.hint"}),r.a.createElement(tr,null,r.a.createElement("label",null,l("ConnectWebhook.labels.example")),r.a.createElement("div",{style:{position:"relative"}},u?r.a.createElement(Wa.a,null):r.a.createElement(dr.a,{builderInput:!0,style:{fontSize:"60%",lineHeight:1.2,fontFamily:"monospace",marginBottom:16},minRows:20,maxRows:20,spellCheck:"false",readOnly:!0,value:JSON.stringify(d,null,3)}))),r.a.createElement(Mi,{builderInput:!0,styled:"toggle",placeholder:l("ConnectWebhook.fields.withPurchase"),checked:s,onChange:p}),r.a.createElement(CN,{key:t.endpoint,withPurchase:s,disabled:!d}))})})};var PN=function(e){let{name:t}=e;const{t:a}=Object(m.useTranslation)(),[{onChange:l},{value:{enabled:o,endpoint:s}={}}]=Object(Gn.d)(t),[i,c]=Ra()(),u=Object(n.useCallback)(e=>{c(!1),e&&l({target:{name:t,value:e}})},[t]);return r.a.createElement("div",{style:{marginBottom:10}},o?r.a.createElement(Ri,{builderInput:!0,name:t+".enabled",label:a("accountForm.label.notifications.webhook")}):r.a.createElement(ke.a,{fullWidth:!0,onClick:c,type:"button",beforeIcon:r.a.createElement(kN,null)},a("ConnectWebhook.connect")),i&&r.a.createElement(_N,{endpoint:s,onChange:u}))};function xN(e){let{backPath:t}=e;const{t:a}=Object(m.useTranslation)(),{state:n}=Object(c.h)(),l=Re("notifications_webhook");return r.a.createElement(pN,{title:a("notificationsPage.heading"),backPath:t},(null==n?void 0:n.commonSettingsTip)&&r.a.createElement(ui,{style:{marginBottom:10}},a("notificationsPage.commonSettingsTip")),r.a.createElement(fN,{name:"notificationSettings.email"}),r.a.createElement(EN,{name:"notificationSettings.telegram"}),l&&r.a.createElement(PN,{name:"notificationSettings.webhook"}))}function SN(e){let{children:t,title:a,backPath:l,successRedirectPath:o}=e;const{api:s}=Object(de.a)(),{t:i}=Object(m.useTranslation)(),[u,d]=Object(n.useState)(!1),p=ve(),b=Object(c.g)();Object(pl.a)();const g=Object(n.useCallback)(async(e,t)=>{let{setFieldError:a}=t;e.password!==e.passwordRepeat?a("passwordRepeat",i("changePasswordForm.mismatch")):(await s.users.changeMyPassword({payload:{password:e.password}}),d(!0),setTimeout(()=>b.push(o),100))},[p]);return r.a.createElement(Kn,{initialValues:{password:"",passwordRepeat:""},onSubmit:g},e=>r.a.createElement(Il,{guardChanges:!u,title:a,onClose:l},r.a.createElement(Gn.a,{autoComplete:"off"},t(e),r.a.createElement(fr,{fullWidth:!0,size:"standart",isInitialHidden:!1,disabled:u||!e.dirty,style:{marginTop:8},isFetching:e.isSubmitting},i("ui:labels.saveChanges")))))}function NN(e){let{backPath:t}=e;const{t:a}=Object(m.useTranslation)(),{generateUrl:n}=Object(Qe.a)();return r.a.createElement(SN,{title:a("changePasswordForm.heading"),backPath:n(".."),successRedirectPath:t},()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(Xi,{builderInput:!0,name:"password",type:"password",label:a("changePasswordForm.label.new_password"),placeholder:a("changePasswordForm.placeholder.new_password")}),r.a.createElement(Xi,{builderInput:!0,name:"passwordRepeat",type:"password",label:a("changePasswordForm.label.new_password_repeat"),placeholder:a("changePasswordForm.placeholder.new_password_repeat"),style:{marginBottom:8}})))}function IN(e){let{backPath:t}=e;const{t:a}=Object(m.useTranslation)();return r.a.createElement(nd,{title:a("settingsMenu.generalMenu.support"),onClose:t},r.a.createElement("div",{style:{textAlign:"center"}},a("Support.faqMessage")),r.a.createElement(ke.a,{fullWidth:!0,style:{margin:"16px 0 24px 0",fontSize:16,border:"none",backgroundColor:"#f7f7fa",color:"#2979ff"},tag:"a",href:"https://mssg.me/faq-next",target:"_blank",rel:"noopener noreferer"},a("Support.faqButtonText")),r.a.createElement("div",{style:{textAlign:"center"}},a("Support.subtitle")),r.a.createElement(ke.a,{fullWidth:!0,style:{margin:"16px 0 8px 0",fontSize:16,border:"none",backgroundColor:"#00aefa",backgroundImage:"linear-gradient(180deg, #00aefa, #0983c5)"},tag:"a",href:"https://mssg.me/r/m/5e5fb1e519a0b30013ae1d81",target:"_blank",rel:"noopener noreferer"},r.a.createElement(bl.N,{size:22,style:{margin:"0 10px 0 0"}}),"Telegram"),r.a.createElement(ke.a,{fullWidth:!0,style:{marginBottom:8,fontSize:16,border:"none",backgroundColor:"#8760fd",backgroundImage:"linear-gradient(180deg, #8760fd, #4c389d)"},tag:"a",href:"https://mssg.me/r/m/5c157205409b90000aa4f611",target:"_blank",rel:"noopener noreferer"},r.a.createElement(bl.S,{size:22,style:{margin:"0 10px 0 0"}}),"Viber"),r.a.createElement(ke.a,{fullWidth:!0,style:{marginBottom:8,fontSize:16,border:"none",backgroundColor:"#66a2e7",backgroundImage:"linear-gradient(180deg, #66a2e7, #3874b9)"},tag:"a",href:"https://mssg.me/r/m/61530428b28e45001fcab76e",target:"_blank",rel:"noopener noreferer"},r.a.createElement(bl.U,{size:22,style:{margin:"0 10px 0 0"}}),"Vkontakte"),r.a.createElement(ke.a,{fullWidth:!0,style:{marginBottom:8,fontSize:16,border:"none",backgroundColor:"#60fd7c",backgroundImage:"linear-gradient(180deg, #60fd7c, #07b825)"},tag:"a",href:"https://mssg.me/r/m/5f338f6b7a03670028138cca",target:"_blank",rel:"noopener noreferer"},r.a.createElement(bl.V,{size:22,style:{margin:"0 10px 0 0"}}),"WhatsApp"),r.a.createElement(ke.a,{fullWidth:!0,style:{fontSize:16,border:"none",backgroundColor:"#00b1ff",backgroundImage:"linear-gradient(180deg, #00b1ff, #006dfe)"},tag:"a",href:"https://mssg.me/r/m/618271a1a43f580040c07e3e",target:"_blank",rel:"noopener noreferer"},r.a.createElement(bl.j,{size:22,style:{margin:"0 10px 0 0"}}),"Messenger"))}function TN(){return(TN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function MN(e){let{backPath:t}=e;const a=Object(c.h)(),n=(e,n)=>{const l=Object(c.f)(a.pathname,e);return l&&r.a.createElement(n,TN({key:e.path,backPath:t},l.params))};return r.a.createElement(qt.a,null,n({path:"/s",exact:!0},mN),n({path:"/s/support",exact:!0},IN),n({path:"/s/notifications",exact:!1},xN),n({path:"/s/account",exact:!1},gN),n({path:"/s/account/change-password",exact:!0},NN))}SN.defaultProps={websiteId:""};var LN=a("EL29"),BN=a.n(LN);const FN=e=>{let{location:t}=e;const{reason:a,referrer:n}=t.state||{};return a?r.a.createElement(ba,{className:BN.a.root,center:!0,reason:a,referrer:n}):r.a.createElement(c.a,{to:"/"})};var RN=a("Y5BU"),AN=a.n(RN);function UN(){return(UN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var zN=e=>{let{leftButton:t,heading:a,rightButton:n,className:l,...o}=e;return r.a.createElement("div",UN({className:O()(AN.a.root,l)},o),t,r.a.createElement("h2",null,a),n)},DN=a("ubrP"),WN=a.n(DN);function VN(){return(VN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const qN=e=>{let{children:t,tag:a,...n}=e;return r.a.createElement(a,VN({},n,{className:WN.a.root}),r.a.createElement("span",{className:WN.a.label},t))};qN.defaultProps={tag:Me.b};var HN=qN,GN=a("GEq1"),$N=a.n(GN);const KN=e=>{let{location:t}=e;const{t:a}=Object(m.useTranslation)(),l=Object(c.g)(),o=Object(n.useCallback)(()=>{l.goBack()},[l]);return r.a.createElement("div",{className:$N.a.root},r.a.createElement(zN,{heading:a("PlaceholderPage.heading"),leftButton:r.a.createElement(HN,{tag:"a",onClick:o})}),r.a.createElement("p",null,a("PlaceholderPage.labels.invalidAddress")),r.a.createElement("div",{className:$N.a.uri},window.location.origin,r.a.createElement("b",null,t.pathname)))};var ZN=a("wqxy"),JN=a.n(ZN);const YN=e=>r.a.createElement(Me.b,Object(_a.a)(JN.a.menu,e),r.a.createElement("div",{className:JN.a.burger},r.a.createElement("div",{className:JN.a.menuLine}),r.a.createElement("div",{className:JN.a.menuLine}),r.a.createElement("div",{className:JN.a.menuLine})));var QN=a("aDtm"),XN=a.n(QN);const eI={exact:!1,path:["/pages","/products","/inbox","/bots","/billing","/restricted"]},tI={exact:!0,path:["/pages","/pages/create","/inbox","/bots","/s","/s/support","/s/account","/s/account/change-password"]};function aI(){const{isAdmin:e}=Le(),{isMobileContainer:t}=Be(),a=Object(c.g)(),l=Re("desktop_layout"),o=Te()({...a.location})||{...a.location,pathname:a.location.pathname||"/"},s=!("/"===a.location.pathname||Object(c.f)(a.location.pathname,eI)),i=Object(n.useMemo)(()=>s?o:a.location,[s]),u=s?i:a.location,d=u.pathname===a.location.pathname?"/":u.pathname,{isFree:m}=ze(),[p,b]=Ne()("proBanner",!0),g=m&&p&&!u.pathname.includes("/billing/plans");return r.a.createElement("div",{className:O()(XN.a.root,(t||!l)&&XN.a.mobileContainer)},r.a.createElement(Je,null),r.a.createElement(Ye,null),r.a.createElement(oN,null),r.a.createElement(Oa,null),r.a.createElement(Ur,null),r.a.createElement("div",{className:XN.a.mainContainer,id:"mainRoot"},g&&r.a.createElement(rt,{onClose:()=>b(!1)}),r.a.createElement("div",{className:O()({[XN.a.mainContainerInner]:!0,[XN.a.hasProBanner]:g})},Object(c.f)(u.pathname,tI)&&r.a.createElement("div",{className:XN.a.header},r.a.createElement(Me.b,{to:"/",className:XN.a.logo},r.a.createElement(Ea,{size:"100%"})),r.a.createElement("div",{className:XN.a.headerRight},r.a.createElement(YN,{to:"/s",className:XN.a.headerButton}))),r.a.createElement(c.d,{location:u},r.a.createElement(c.b,{path:["/pages","/s"],render:()=>r.a.createElement(fa,{rule:"websites:?",component:lN})}),e?r.a.createElement(c.b,{path:"/billing",component:Sr}):r.a.createElement(c.b,{path:"/billing",render:e=>{var t;let{location:a}=e;return r.a.createElement(FN,{location:{state:(null===(t=a.state)||void 0===t?void 0:t.reason)&&xe()({reason:{code:"upgrade",target:"pro"}},a.state)}})}}),r.a.createElement(c.b,{path:"/restricted",component:FN}),r.a.createElement(c.a,{exact:!0,from:"/",to:"/pages"}),r.a.createElement(c.b,{path:"/",component:KN}))),r.a.createElement(MN,{backPath:d}),!!je.a.intercom_app_id&&r.a.createElement(c.b,{path:["/pages","/pages/-/:websiteSlug/edit","/pages/-/:websiteSlug"],exact:!0},r.a.createElement(sN,null))))}function nI(){return(nI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const rI=e=>{const{t:t}=Object(m.useTranslation)();return r.a.createElement(Vt,nI({btnStyle:"transparent",size:"small"},e),r.a.createElement(eo.a,{size:28}),t("misc.back"))};function lI(){return(lI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function oI(){const e=Object(de.a)(),{t:t}=Object(m.useTranslation)(),a=Object($n.a)({initialValues:{url:""},onSubmit:t=>e.api.workspaces.create({payload:t})});return"success"===a.status?r.a.createElement(c.a,{to:"/"}):r.a.createElement("form",{onSubmit:a.handleSubmit},r.a.createElement(_u.a,lI({label:t("label.pageUrl"),name:"url",beforeInput:t("label.host"),error:t(a.errors.url)},a.getFieldProps("url"))),r.a.createElement(pS.a,null,r.a.createElement(ke.a,{fullWidth:!0,type:"submit",isFetching:a.isSubmitting},t("emptyWorkspace.step2_create.create"))))}var sI=a("zElJ"),iI=a.n(sI);function cI(){const{t:e}=Object(m.useTranslation)(),{location:t}=Object(c.g)(),a=(e=>"/"===e.pathname?1:2)(t);return r.a.createElement("div",{className:iI.a.root},r.a.createElement("div",{className:iI.a.content},r.a.createElement("h2",{className:iI.a.heading},`${e("emptyWorkspace.step")} ${a}/2`),r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",render:()=>r.a.createElement("div",null,r.a.createElement("p",{className:iI.a.message},e("emptyWorkspace.step1.message")),r.a.createElement("p",{className:iI.a.buttonsContainer},r.a.createElement(Vt,{to:"/create"},e("emptyWorkspace.step1.button.create")),r.a.createElement("span",null,e("emptyWorkspace.or")),r.a.createElement(Vt,{to:"/connect"},e("emptyWorkspace.step1.button.connect"))))}),r.a.createElement(c.b,{exact:!0,path:"/connect",render:()=>r.a.createElement("div",null,r.a.createElement("p",{className:iI.a.message},e("emptyWorkspace.step2_connect.message")))}),r.a.createElement(c.b,{exact:!0,path:"/create",render:()=>r.a.createElement("div",null,r.a.createElement("p",{className:iI.a.message},e("emptyWorkspace.step2_create.message")),r.a.createElement(oI,null))}),r.a.createElement(c.a,{to:"/"})),a>1&&r.a.createElement("div",{className:iI.a.footer},r.a.createElement(rI,{to:"/"}))))}function uI(e){const{t:t}=Object(m.useTranslation)(),{api:a}=Object(de.a)(),l=Object(me.a)(a.init),o=ve(),s=ye();if(function(){const e=ve(),t=Ee(),a=null==e?void 0:e.app;Object(n.useEffect)(()=>{a&&a!==je.a.app&&t(a)},[a])}(),Object(n.useEffect)(()=>{l.rejected&&W.getInstance().notify(t("common:errorsList.unauthorized"),{notifyStyle:"danger",showClose:!0,closeDelay:2e3})},[l.rejected]),!l.rejected)return l.requestCount&&!l.pending&&o?null!=o&&o.blocked||null!=s&&s.blocked?r.a.createElement(_e,{isBlockedByIp:null==o?void 0:o.isBlockedByIp}):0===o.workspaces.length?r.a.createElement(cI,null):s?r.a.createElement(aI,e):r.a.createElement(ie,null):r.a.createElement(ie,null);window.location.href="/auth/logout"}const dI=new Map;var mI=function(e){const[t,a]=Object(n.useState)(!1),[r,l]=Object(n.useState)(null);return Object(n.useEffect)(()=>{(function(e){if(!dI.has(e)){const t=new Promise((t,a)=>{const n=document.createElement("script");return n.async=!0,n.src=e,n.onload=t,n.onerror=a,document.body.appendChild(n),n});dI.set(e,t)}return dI.get(e)})(e).then(()=>{a(!0)}).catch(e=>{l(e)})},[e]),{isReady:t,error:r,isFailed:!!r}};const pI={src:k.a.string};function bI(e){let{src:t}=e;return mI(t),Object(n.useEffect)(()=>(function(){const e=document.getElementById("mssgme_widget");e&&(e.style.display=null)}(),function(){const e=document.getElementById("mssgme_widget");e&&(e.style.display="none")}),[]),null}bI.propTypes=pI;var gI=bI;const fI={ru:"6059b4c0c69fd700180c18f6/6059b4c0c69fd700180c18fb",uk:"625e915b62aa81001f023e6d/625e915b62aa81001f023e6e"},hI=e=>{let{lang:t}=e;const a=fI[t];return a?r.a.createElement(c.b,{exact:!0,path:["/pages/-/:websiteSlug/edit","/pages/-/:websiteSlug"]},r.a.createElement(gI,{src:"https://mssg.me/widget/"+a})):null},vI={experiments:[]},yI=e=>{let{children:t}=e;const{i18n:n}=Object(b.c)("common",e=>a("LR57")(`./${e}/common.json`));return Object(g.a)(),Object(b.c)("landings",e=>a("kKUT")(`./${e}/landings.json`)),Object(b.c)("billing",e=>a("OAxj")(`./${e}/billing.json`)),Object(b.c)("products",e=>a("BeaO")(`./${e}/products.json`)),t?Object(f.a)(t,n):null},EI=()=>{const{i18n:e}=Object(m.useTranslation)();return r.a.createElement(y,null,r.a.createElement(B,null),r.a.createElement(te,null),r.a.createElement(ue,{path:"/",component:uI}),r.a.createElement(hI,{lang:e.language}))},OI=e=>{let{store:t}=e;const a=r.a.createElement(ae.a,{config:vI},r.a.createElement(yI,null),r.a.createElement(le,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement(ie,null)},r.a.createElement(u.a,{store:t},r.a.createElement(c.c,{history:p.a},r.a.createElement(EI,null))))));return je.a.intercom_app_id?r.a.createElement(d.a,{appId:je.a.intercom_app_id},a):a};if("serviceWorker"in navigator){new s.a("/sw.js").register()}const jI=Object(i.a)();Object(l.render)(r.a.createElement(OI,{store:jI}),document.getElementById("root"))},b2Ym:function(e,t,a){e.exports={root:"_2lrn2zBO",padded:"R-IA3kM_"}},bHoB:function(e,t,a){"use strict";a.r(t),a.d(t,"patchFetch",(function(){return c})),a.d(t,"openReplayMiddleware",(function(){return u})),a.d(t,"OpenReplayTarget",(function(){return d})),a.d(t,"eventsMap",(function(){return m})),a.d(t,"OpenReplay",(function(){return p}));var n=a("mC7P"),r=a("o4fE"),l=a("bCVc"),o=a("PxNW"),s=a("Rr0/"),i=a("lWQz");function c(e){window.fetch=e.use(Object(r.a)())}function u(e){return e.use(Object(l.a)())}const d=e=>{let{tracker:t}=e;return e=>{e.forEach(e=>{let{event:a,identify:n,issue:r,metadata:l,...o}=e;n&&t.setUserID(n),l&&Object.entries(l).forEach(e=>{let[a,n]=e;t.setMetadata(a,n)}),a&&t.event(a,o,!!r)})}},m={[s.a.auth.login.successType]:()=>({event:"login",method:"email"}),[s.a.users.create.successType]:()=>({event:"sign_up",method:"email"}),[s.a.websites.update.successType]:(e,t,a)=>{var n;if((null===(n=a.websites.find(t=>t.slug===e.payload.slug))||void 0===n||!n.enabled)&&e.payload.enabled)return{event:"website_published"}},[s.a.listenSubscriptionCreated.type]:e=>({event:"subscription_created",...e.payload}),[s.a.listenSubscriptionCancelled.type]:()=>({event:"subscription_cancelled"}),[s.a.users.me.successType]:e=>{var t;return{identify:null!==(t=e.result.email)&&void 0!==t?t:e.result._id,metadata:{email:e.result.email,userId:e.result._id}}},[s.a.workspaces.retrieve.successType]:e=>({metadata:{workspaceId:e.result._id,plan:e.result.billing.plan}}),[i.checkout.applyCoupon.type]:e=>({event:"checkout.applyCoupon",coupon:e.payload.coupon}),[i.checkout.changeCountry.type]:e=>({event:"checkout.changeCountry",country:e.payload.country}),[i.checkout.close.type]:()=>({event:"checkout.close"}),[i.checkout.complete.type]:()=>({event:"checkout.complete"}),[i.checkout.completePayment.type]:()=>({event:"checkout.completePayment"}),[i.checkout.load.type]:()=>({event:"checkout.load"}),[i.checkout.error.type]:e=>({event:"checkout.error",error:e.payload.error,issue:!0}),[i.checkout.selectPaymentMethod.type]:e=>({event:"checkout.selectPaymentMethod",paymentMethod:e.payload.payment_method})};function p(e){let{projectKey:t}=e;const a=new n.b({projectKey:t});c(a);const r=a.use(Object(l.a)()),s=Object(o.createMiddleware)(m,d({tracker:a}),{logger:null});return a.start(),a.setMetadata("hostname",window.location.hostname),{openReplayMiddleware:r,openReplayEventsTrackerMiddleware:s}}},bWUK:function(e,t,a){"use strict";var n=a("O94r"),r=a.n(n),l=a("ERkP"),o=a.n(l),s=a("MhLP"),i=a("QwRn"),c=a("ENGl"),u=a("2cVh"),d=a("ZFej"),m=a("yFxy"),p=a.n(m);function b(e){let{block:t,...a}=e;const{theme:n,style:l}=Object(u.a)(t);return o.a.createElement(d.a,Object(c.a)(p.a.root,a),o.a.createElement("div",{className:r()(p.a.content,p.a[n.template]),style:{...l,borderLeftColor:n.color}},t.content||Object(s.a)("lorem")),t.author&&o.a.createElement("p",{className:p.a.author,style:{color:l.color,fontSize:`calc(${n.fontSize} * 0.9)`}},"- ",t.author))}b.defaultProps=d.a.defaultProps,b.kind=i.q;t.a=b},bekz:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return i}));a("DiEm"),a("480R");var n=a("ERkP"),r=a.n(n),l=a("Gfot");const o=e=>{let{path:t,isBackOverriddenBack:a}=e;const n=Object(l.a)(t);return{toEntry:()=>t,toHome:()=>t,product:{toView:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":productSlug";return`${n}/p/${e}`}},collection:{},orders:{toView:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":orderId",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;return e?`${t}/orders/${e}`:t+"/orders"},toStatus:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":orderId",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":status(paid|failed)";return`${n}/orders/${e}/payment/${t}`}},userOrders:{toOrder:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":orderId";return e?`${n}/user-orders/${e}`:n+"/orders"}},isBackOverriddenBack:a}},s=r.a.createContext({path:"/",router:o({path:"/"}),setEntry:()=>{}}),i=()=>Object(n.useContext)(s)},bjXo:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("ERkP"),r=a("QwRn"),l=a("jpDv");const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.p;const t=Object(l.c)(),{theme:a,style:o}=Object(l.b)({baseTheme:t,elementPath:"blocks."+e.toLowerCase(),compile:!0});return Object(n.useMemo)(()=>({theme:a,style:o,modalStyle:{...o,backgroundColor:t.colors.background},contentStyle:{...a,...o,backgroundColor:t.colors.background}}),[a,o])}},bto2:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a("ERkP"),r=a.n(n),l=a("J7j6"),o=a("Njpl"),s=a("pPyN"),i=a("mSsh"),c=a("r6E+"),u=a.n(c);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const m={paddingLeft:10,color:"#333",marginBottom:4};function p(e){let{component:t=l.a,id:a,label:n,required:c,labelClassName:p,inputClassName:b,errorStyle:g,shakeError:f,errors:h,wrapAs:v,children:y,...E}=e;return r.a.createElement(o.a,{as:v},n&&r.a.createElement("div",{className:u.a.labelContainer},r.a.createElement(s.a,{style:E.builderInput?m:null,htmlFor:a,hasError:!!h,className:p},n," ",c&&r.a.createElement("span",null,"*"))),r.a.createElement(t,d({id:a,className:b,hasError:!!h},E)),y,h&&r.a.createElement(i.a,{error:h,errorStyle:g,shake:f}))}},c1qN:function(e,t,a){e.exports={root:"_3gcgYxhD",intro:"_11lS57Kc",title:"kfwTWOt0",subHeading:"_3tglh55q",pageContainer:"_2_CZ7L9j",pageWrapper:"_3gHLZKT6",pageWrapperLink:"_3VOBvrwr",userLink:"_2v_KBzgd",editBtn:"_2M52nado",status:"BwHam3rw",link:"_3sBENWeZ",actions:"JV-cglTM",list:"_1Q3UYFVG",button:"n_kqcnQQ",circle:"_2hrJN8WV",iconsSlider:"BDu3I0dA",icon:"_5xsisXJe",fadeInOut:"s-2kNIwj"}},c9JU:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a("ERkP"),r=a.n(n),l=a("LLXx"),o=a("/kq6"),s=a("ENGl"),i=a("hkFG"),c=a("oiaX"),u=a.n(c);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const m=e=>{let{theme:t,isFetching:a,disabled:c,contour:m,style:p,contentAlignLeft:b,...g}=e;const f=Object(n.useMemo)(()=>{if(m){const{backgroundColor:e,color:a,border:n}=Object(l.a)(t.backgroundColor,t.buttonBackground,t.buttonTextColor);return{backgroundColor:e,color:a,border:"1px solid "+n,...p}}return{backgroundColor:t.buttonBackground,color:t.buttonTextColor,...p}},[m,t,Object(o.a)(p)]);return r.a.createElement(i.a,d({tag:"a",size:"standart",isFetching:a,disabled:c,style:f,loaderColor:f.color},Object(s.a)([u.a.root,b&&u.a.contentAlignLeft],g)))}},cE1a:function(e,t,a){"use strict";var n=a("ERkP"),r=a.n(n),l=a("MhLP"),o=a("QwRn"),s=a("ENGl"),i=a("2cVh"),c=a("ZFej"),u=a("oxow"),d=a.n(u);function m(){return(m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function p(e){let{block:t,block:{content:a},style:o,...u}=e;const{style:p}=Object(i.a)(t),b=Object(n.useMemo)(()=>o?{...p,...o}:p,[p,o]);return r.a.createElement(c.a,m({style:b},Object(s.a)(d.a.root,u)),a&&r.a.createElement("p",null,a),!t._id&&!a&&r.a.createElement("p",{style:{color:"#e0e0e0"}},Object(l.a)("lorem")))}p.defaultProps=c.a.defaultProps,p.kind=o.u;t.a=p},cGUp:function(e,t){e.exports=CONFIG},cLQL:function(e,t,a){var n={"./en-au":"HgyJ","./en-au.js":"HgyJ","./en-ca":"ZyTy","./en-ca.js":"ZyTy","./en-gb":"exaB","./en-gb.js":"exaB","./en-ie":"yKzn","./en-ie.js":"yKzn","./en-il":"TB59","./en-il.js":"TB59","./en-nz":"iDxo","./en-nz.js":"iDxo","./ru":"ecsu","./ru.js":"ecsu","./uk":"6Olw","./uk.js":"6Olw"};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id="cLQL"},cbkF:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a("ERkP"),r=a.n(n),l=a("O94r"),o=a.n(l),s=a("ENGl"),i=a("dTSm");var c=a("ZUB1");function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function d(e,t){return n.createElement(c.b,u({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M8.5 10a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM21 15l-5-5L5 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var m=n.forwardRef(d),p=a("LgBX"),b=a.n(p);function g(){return r.a.createElement(m,{className:b.a.root})}var f=a("Rm68"),h=a.n(f);function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function y(e){let{mode:t,src:a,alt:l,containerClassName:c,...u}=e;const{ref:d,isIntersecting:m,isIntersect:p}=function(){const e=Object(n.useRef)(null),[t,a]=Object(n.useState)(!1),[r,l]=Object(n.useState)(!1),o=Object(n.useMemo)(()=>new IntersectionObserver((function(e){let[t]=e;null!=t&&t.isIntersecting?(a(!0),l(!0)):t.rootBounds&&a(!1)}),{root:null,rootMargin:"0px 0px 100px 0px",threshold:.01}),[]);return Object(n.useEffect)(()=>{const t=e.current;if(t)return o.observe(t),()=>{o.unobserve(t)}},[e.current]),{ref:e,isIntersecting:t,isIntersect:r}}(),{isFetching:b,isLoaded:f,onLoad:y,onError:E,error:O}=function(){const[e,t]=Object(n.useState)({isFetching:!0,isLoaded:!1,error:null});return{...e,onLoad:Object(n.useCallback)(()=>t({isFetching:!1,isLoaded:!0,error:null}),[]),onError:Object(n.useCallback)(e=>t({isFetching:!1,isLoaded:!1,error:e}),[])}}();return r.a.createElement("div",{ref:d,className:o()(h.a.root,h.a[t],c)},b&&"inline"!==t&&r.a.createElement(i.a,{size:"50%",color:"gray",className:h.a.spinner}),O&&r.a.createElement(g,null),r.a.createElement("img",v({src:p?a:null,alt:l,onLoad:y,onError:E},Object(s.a)([h.a.img,f&&m&&h.a.visible],u))))}y.defaultProps={mode:"fit"}},cgra:function(e,t,a){e.exports={root:"_2194xZuV",header:"_1CEe_Rv9",plansList:"_2OV3rZ3B",footer:"_3kyFjxbj"}},cpbF:function(e,t,a){e.exports={cardBase:"_3xfTxBRQ",cardInvalid:"_2XKxKhVJ",cardAutofill:"_16amDeHf"}},cr77:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const n={telegram:e=>"https://t.me/"+e.replace(/^(https?:\/\/)?((t(?:elegram)?)\.me\/)/i,"").replace(/^@/,""),whatsapp:e=>`https://${e.match(/chat\.whatsapp\.com\//i)?"chat.whatsapp.com":"wa.me"}/${e.replace(/^(https?:\/\/)?((wa\.me|chat\.whatsapp\.com)\/)?/i,"")}`,messenger:e=>"https://m.me/"+e.replace(/^(https?:\/\/)?(www\.)?((m\.me|fb\.com|facebook\.com)\/)?/i,""),vk:e=>"https://vk.me/"+e.replace(/^(https?:\/\/)?((vk\.me|vk\.com|vkontakte\.(com|ru))\/)?/i,""),instagram:e=>"https://ig.me/m/"+e.replace(/^((https?:\/\/)?((ig\.me|instagram\.com)\/)?(m\/)?)?@?/i,"")},r=e=>{let{value:t,platform:a,type:r}=e;return"auto"===r?n[a](t):t}},ctgp:function(e,t,a){"use strict";const n=/^[^:]*:\/*/;t.a=e=>e.replace(n,"")},d1Di:function(e,t,a){"use strict";a.d(t,"b",(function(){return n}));function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=e&&e.length||0;if(0===n)return"";const r=(a||e.indexOf("+")>=0?"+":"")+e.replace(/\D/g,"");return r.slice(0,t)}t.a=(e,t)=>{const a=(e||"").replace(/\D/g,"").match(/^(?:(\d*?)(\d{1,3}))?(\d{3})(\d{2})(\d{2})$/);if(a){const[,e,t,...n]=a;let r=n.join(e?" ":"-");return t&&(r=(e?t:`(${t})`)+" "+r),e&&(r=`+${e} `+r),r}return e||""}},dB7f:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("ERkP"),r=a.n(n),l=a("3pNR"),o=a("ENGl"),s=a("L4rG"),i=a.n(s);function c(e){let{url:t,...a}=e;return r.a.createElement("div",Object(o.a)(i.a.root,a),t?r.a.createElement("img",{src:t,alt:"preview"}):r.a.createElement(l.I,{size:20,color:"#999"}))}c.defaultProps={url:null}},dTSm:function(e,t,a){"use strict";var n=a("O94r"),r=a.n(n),l=a("ERkP"),o=a.n(l),s=a("xN+n"),i=a.n(s);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const u=["%","px","pt","em"];function d(e){let{className:t,borderWidth:a,size:n,duration:s,color:u,...d}=e;const p=Object(l.useMemo)(()=>{const e=m(n);return{width:e,height:e,borderWidth:m(a||Math.round(.05*+e)),animationDuration:s+"s",WebkitAnimationDuration:s+"s",MozAnimationDuration:s+"s"}},[n,s,a]);return o.a.createElement("div",{className:r()(i.a.root,t)},o.a.createElement("div",c({className:r()(i.a.spinner,i.a[u]),style:p},d)))}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px";if(!e)return;const a=String(e),n=u.find(e=>a.indexOf(e)>0);return n?e:`${e}${t}`}d.defaultProps={size:40,duration:.8,color:"black"};t.a=d},dWF5:function(e,t,a){"use strict";a.d(t,"a",(function(){return H}));var n=a("480R"),r=a.n(n),l=a("O94r"),o=a.n(l),s=a("ERkP"),i=a.n(s),c=a("zCf4"),u=a("ivbd"),d=a("ENGl"),m=a("jpDv"),p=a("KUlc"),b=a("fggk"),g=a("eSoL"),f=a("aEcQ"),h=a("SG7T"),v=a("uYSu"),y=a("QcaR"),E=a("xOYh"),O=a("FW/3"),j=a("XZwl"),k=a.n(j),w=a("hAze"),C=a("MhLP"),_=a("SRTf"),P=a("enaZ"),x=a("cGUp");function S(){let{target:e,url:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=Object(P.b)(),{isMobile:n}=Object(s.useMemo)(()=>{var e;return Object(_.a)(null===(e=window.navigator)||void 0===e?void 0:e.userAgent)},[]),r=Object(s.useMemo)(()=>{const e=(t||x.branding_url).replace("{lang}",a===x.fallback_language?"":"/"+a),r=n?"mobile":"desktop",l=window.location.hostname===x.main_hostname?window.location.pathname.split("/")[1]:window.location.hostname,o=new URL(e),s=r||(n?"mobile":"desktop");return o.search=new URLSearchParams({utm_source:"userpage_branding_logo",utm_medium:"userpage_branding_"+s,utm_campaign:"userpage_branding_"+s,utm_content:l}),o.toString()},[a,e,t]);return r}var N=a("FErb"),I=a("I+dq"),T=a("6dw/"),M=a.n(T);function L(){return(L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function B(e){let{onModal:t,...a}=e;const n=S({target:"all"});return i.a.createElement("div",L({className:M.a.root},a),i.a.createElement("div",{className:M.a.brandingLink},i.a.createElement("div",{className:M.a.description},Object(C.a)("made_on"),i.a.createElement("div",{className:M.a.logo},i.a.createElement(I.a,null)),i.a.createElement("span",null,"mssg.me")),i.a.createElement(N.a,{id:"userpage_branding_medium","data-experiment":"medium",href:n},Object(C.a)("make_my_own"))))}var F=a("+JKf"),R=a.n(F);function A(){return(A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function U(){return(U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const z={medium:B,sticky:function(e){let{onModal:t,...a}=e;const n=S({target:"all"});return i.a.createElement("div",A({className:R.a.root},a),i.a.createElement("div",{className:R.a.brandingLink},i.a.createElement(N.a,{id:"userpage_branding_sticky","data-experiment":"sticky",href:n},i.a.createElement("div",{className:R.a.description},Object(C.a)("made_with"),i.a.createElement("div",{className:R.a.logo},i.a.createElement(I.a,null)),i.a.createElement("span",null,"mssg.me")))))}};function D(e){const[t,a]=k()(!1),n=Object(w.b)({id:"branding"}),r=z[n]||B;return i.a.createElement(i.a.Fragment,null,r&&i.a.createElement(r,U({onModal:a},e)))}var W=a("CUtQ"),V=a.n(W);function q(){return(q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const H=i.a.forwardRef((function(e,t){var a;let{website:n,page:l,interactive:j,embedded:k,contentClass:w,...C}=e;const _=Object(s.useRef)(null),P=l.blocks.filter(e=>e.enabled&&!e.nested),[x,S]=Object(s.useState)(l.blocks.length),[N,I]=Object(s.useState)(P.length),{theme:T,style:M,resolvedTheme:L,align:B}=Object(b.a)(l),F=!Object(u.a)(),R=Object(s.useMemo)(()=>({renderBlock:(e,t)=>{const a=E.c[e.kind],n=v.a.computeComponentInsets(P,e,t,T);return a?i.a.createElement(a,{key:e._id||e.kind+t,insets:n,block:e,interactive:j,isMobileMode:F,"data-block":e._id,"data-block-kind":e.kind.replace(/Block$/,"")}):i.a.createElement("div",{key:e._id||e.kind+t,"data-block":e._id,"data-block-kind":e.kind.replace(/Block$/,"")},'Unknown block kind "',e.kind,'"')}}),[j,F,P,T]);return Object(s.useEffect)(()=>{const e=_.current.scrollHeight-_.current.clientHeight;l.blocks.length>x&&P.length>N&&_.current.scroll({top:e,behavior:"smooth"}),S(l.blocks.length),I(P.length)},[P.length,l.blocks.length]),r()(()=>{!k&&Object(u.a)()&&Object.assign(document.body.style,M)}),i.a.createElement(g.a.Provider,{value:n},i.a.createElement(f.a.Provider,{value:l},i.a.createElement(m.a.Provider,{value:L},i.a.createElement(h.a.Provider,{value:R},i.a.createElement("div",q({id:"page_root",ref:t},Object(d.a)([V.a.root,F&&V.a.mobileMode,k&&V.a.embedded],C)),i.a.createElement("div",{className:V.a.rootInner,style:M,id:"page_root_inner"},T.backgroundImage&&i.a.createElement(O.a,{path:T.backgroundImage,opacity:T.backgroundImageOpacity}),i.a.createElement("div",{className:V.a.layout},i.a.createElement("div",{ref:_,className:o()(V.a.content,w)},i.a.createElement("div",{className:o()(V.a.contentInner,n.branding&&V.a.branded),style:B.container},i.a.createElement("div",{id:"blocks-container",style:B.inner},P.map(R.renderBlock)),(null===(a=n.embeddedCode)||void 0===a?void 0:a.onLoad)&&n.embeddedCode.content&&i.a.createElement(p.a,{html:n.embeddedCode.content}),n.branding&&i.a.createElement(D,null))))),i.a.createElement(i.a.Suspense,{fallback:null},i.a.createElement(c.d,null,i.a.createElement(c.b,{path:["/c/","/p/","/user-orders/","/orders/"],component:E.i}))),!k&&i.a.createElement(y.a,null))))))}));H.defaultProps={interactive:!0}},dZYv:function(e,t,a){"use strict";var n=a("U1TF");class r extends n.a{list(e,t){return this.get([`/workspaces/${e}/products`,t])}load(e,t){return this.get([`/workspaces/${e}/products/${t}`])}loadBySlug(e,t,a){return this.get([`/workspaces/${e}/products/${a}/${t}`])}}t.a=new r(void 0)},"de+W":function(e,t,a){e.exports={simpleContainer:"_3RDLh9U8",thumbnail:"_2tiQD6OQ",text:"_3jJiT2kp",button:"_10h6NR_K",badge:"qPLZwGun",swiper:"_2ufjvBQd",bounds:"DcqWmuEV",preview:"_3ru1zoDQ",previewContent:"_3LM7DyJJ",caption:"_1scbb1bc",label:"GbVw5LhN",pill:"_3NjxhyBF",activePill:"t9zRqeAP",container:"_3saDgZVl",option:"_1MX7AOwP",active:"_2uLxpizt",radio:"Wlj5vqRZ",thumbnailContent:"_20WrBDqo",pagePreview:"_3nkKT0wK"}},dnJR:function(e,t,a){},eSoL:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return c}));var n=a("ERkP"),r=a.n(n),l=a("0/0W"),o=a("mgDV");const s=r.a.createContext({_id:"",workspace:"",name:"",slug:"",finalUrl:"",collections:[],pages:[],seo:{},crm:o.a}),i=()=>Object(n.useContext)(s),c=e=>{const t=Object(n.useContext)(s),a=e&&t.pages.find(Object(l.b)(e));return Object(n.useMemo)(()=>a&&{...a,name:t.homePageId===a._id?t.name:a.name||t.name,url:a.absoluteUrl},[t.homePageId,t.name,a])}},eeuG:function(e,t,a){e.exports={root:"M-o_ZOuj",hueContainer:"UmCXXAUz",inputContainer:"_20r1jZ7Z",invalidInput:"_2_c5BaVB"}},enaZ:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return l}));var n=a("ERkP");const r=Object(n.createContext)("en");function l(){return Object(n.useContext)(r)}},esXH:function(e,t,a){e.exports={content:"_1ptpvYcv",userLink:"_3Vrr8TlM",copied:"_1UrsBOBa",tipImg:"_2C8lRqvm"}},"et1+":function(e,t,a){e.exports={rootContainer:"_2EnBXd6q",root:"_1UT7a367",compact:"ctuM_tcE",fullWidth:"_2pD5h-qu",overlay:"_34nRLqSZ",header:"_3MNtZ4V0",title:"_2noaK9oh",closeButton:"_1H7kxl1X",content:"_2sPL9V_k",padded:"_1y3OlE9U"}},fRMX:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a("ERkP"),r=a.n(n),l=a("ljKo"),o=a("MhLP"),s=a("bto2"),i=a("3w6v"),c=a("XJ4S"),u=a("78+7"),d=a.n(u);function m(){return(m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function p(e){let{theme:t,...a}=e;const n=Object(i.a)(t),u=Object(c.a)(t),[p,b]=Object(l.d)(a),g=u||n;return r.a.createElement(s.a,m({shakeError:!0,type:"text",errors:b.touched&&b.error,label:a.label?null:Object(o.a)(a.name),style:g.input,errorStyle:g.error,inputClassName:d.a.input,labelClassName:d.a.label},p,a))}},fggk:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("//nZ"),r=a.n(n),l=a("ERkP"),o=a("vlqj"),s=a("TFaS"),i=a("jpDv"),c=a("O6/N");const u=e=>{const{isAuto:t,theme:a}=Object(c.a)(e.theme),n=Object(l.useMemo)(()=>t?Object(o.a)(a,{page:r()(e.theme.page,["backgroundImage","backgroundImageOpacity","alignment"])}):Object(o.a)(Object(s.b)(e.theme.colorId),e.theme),[t,a,e.theme]),{theme:u,style:d}=Object(i.b)({baseTheme:n,elementPath:"page",compile:!0}),m=Object(l.useMemo)(()=>{const e="bottom"===u.alignment?"flex-end":"middle"===u.alignment?"center":"flex-start";return{container:{justifyContent:e},inner:{margin:"center"===e?"auto 0":"flex-end"===e?"auto 0 0 0":void 0}}},[u.alignment]);return{theme:u,style:d,resolvedTheme:n,align:m}}},fnTI:function(e,t,a){e.exports={root:"_2-pjDjJb",row:"w-mJGA5U",left:"_15WpGUfE",value:"ihADM9m1",buttons:"_846AXrNp",button:"_2ClNTlTp",icon:"_3oaNBNLC",active:"_2Bon3lSt",sortable:"_3ZGsXRNC"}},fvrP:function(e,t,a){"use strict";a.d(t,"a",(function(){return n.a})),a.d(t,"c",(function(){return j})),a.d(t,"b",(function(){return y}));var n=a("d5gM"),r=a("EYNJ"),l=a("wgY5"),o=a.n(l),s=a("liE7"),i=a("cGUp"),c=a.n(i);var u=a("t4dI"),d=a("d1Di"),m=a("2srY"),p=a.n(m),b=a("Z2/Z"),g=a("kvt5"),f=a.n(g),h=a("jjoj");const v=[(e,t,a)=>{if(e instanceof Date||o.a.isMoment(e))return"remaining"===t?((e,t)=>o()(e).locale(t).fromNow())(e,a):((e,t,a)=>o()(e).locale(a).format(t))(e,t,a)},(e,t,a,n)=>{if("currency"===t)return Object(u.a)(e,n.currency,a)},(e,t,a,n)=>{if("phone"===t)return Object(d.a)(e,a)},(e,t,a)=>{if("platform"===t)return p()(b.a,e+".label",e.toUpperCase())},(e,t,a)=>{if("plan"===t)return f.a[e]?f.a[e].name:(e||"").toUpperCase()},(e,t,a)=>{if("filesize"===t)return Object(h.a)(+e)}],y=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:navigator.language,n=arguments.length>3?arguments[3]:void 0;for(const r of v){const l=r(e,t,a,n);if(void 0!==l)return l}return e},E=new class{constructor(){this.type="backend",this.resolvers={}}init(e,t,a){this.services=e,this.backendOptions=t,this.i18nextOptions=a}registerResolver(e,t){this.resolvers[e]=t}async read(e,t,a){try{const n=this.resolvers[t];if(!n)return a(new Error(`Localization resolver for namespace "${t}" not registered`),null);const r=await n(e);a(null,r.default||r)}catch(e){a(e,null)}}create(e,t,a,n){console.log(`languages=${e}, namespace=${t}, key=${a}, fallbackValue=${n}`)}};n.a.use(E).use(r.a).use(s.initReactI18next).init({fallbackLng:!1,whitelist:c.a.languages,cleanCode:!0,ns:["common"],defaultNS:"common",debug:!1,interpolation:{escapeValue:!1,format:y},react:{wait:!0,useSuspense:!1},detection:{order:["querystring","cookie","localStorage","navigator","htmlTag"],lookupQuerystring:"lang",lookupCookie:"lang",lookupLocalStorage:"lang",caches:["localStorage","cookie"]}}),n.a.on("languageChanged",e=>{o.a.locale(e)});var O=a("ERkP");function j(e,t){return Object(O.useState)(()=>E.registerResolver(e,t)),Object(s.useTranslation)(e)}},g0yd:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("ERkP"),r=a("2F2M");const l=()=>{const[e,t]=Object(r.e)();return Object(n.useEffect)(()=>{e||t()},[e]),e}},gR0Y:function(e,t,a){e.exports={choicesContainer:"_3CEsSJ5Z",choice:"_2HgroFJT"}},gamn:function(e,t,a){e.exports={badge:"_2wNoTr81",price:"_1NZr96WN",discountPlanPrice:"_6vAA7zQL",lineThrough:"_2kS7uQuB"}},hAze:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return p}));var n=a("GaEG"),r=a.n(n),l=a("IC1n"),o=a.n(l),s=a("ERkP"),i=a.n(s),c=a("G6qx"),u=a("qDrI");const d=i.a.createContext({uid:"",experiments:[]});function m(e){let{id:t,experiment:a}=e;const{uid:n,experiments:r}=Object(s.useContext)(d);return Object(s.useMemo)(()=>{const e=(e=>u.a.parse(window.location.search)["_ab_"+e])((null==a?void 0:a.id)||t),l=a||t&&r.find(e=>e.id===t);if(!l)return e||void 0;if(e&&l.variants.find(t=>{let{id:a}=t;return a===e}))return e;const o=((e,t)=>{if(e.length>1){const a=e.reduce((e,t)=>{let{weight:a}=t;return e+a},0);let n=Math.abs(Object(c.str)(t))%a;for(const t of e)if(n-=t.weight,n<0)return t}return e[0]})(l.variants,n);return null==o?void 0:o.id},[n])}const p=e=>{let{config:t,children:a}=e;const[n,l]=r()("_msab"),c=Object(s.useMemo)(()=>{const e=n||"MSAB_"+o()();return{...t,uid:e}});return Object(s.useEffect)(()=>{n!==c.uid&&l(c.uid,{expires:30})},[n,c.uid]),i.a.createElement(d.Provider,{value:c},a)}},hB6H:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("ERkP");function r(){const[e,t]=Object(n.useState)(0),a=Object(n.useCallback)(()=>t(e=>e+1),[]);return a.count=e,a}},hOVo:function(e,t,a){e.exports={root:"_1yDo5Eb3"}},hQZ1:function(e,t,a){e.exports={root:"_28q8lIdY",close:"_2Q6r5J-r",content:"_2-wAFYe5",button:"_1sO_dJn7"}},hXy0:function(e,t,a){e.exports={root:"_1QitBZyT",clickablePagination:"_1e8eGK-2",activeBullet:"clPndV0o",section:"_155qURir",sectionLabel:"_3mZLaE4N",fields:"_2XZ6ghg_",field:"_3Q6HnOs3",label:"_1DaJlyOZ",preview:"_14eCQqxO",knob:"_153YeIPG",slide:"_1-A5GgIi",colorField:"_1MPuRKHi",colorFieldColor:"_1pI2-Gb-",iconField:"_2WUfKy9G",iconFieldRounded:"_35HIHFx2",badge:"_1hpb8e_-"}},hYl8:function(e,t,a){e.exports={root:"_2GXiEI09",content:"_57ezvbNq",row:"_3VBABhQy",tight:"izGdkoqP",button:"_1O9JnqVI",title:"_3cL1hk7z",buttonWrapper:"_26XhEYBj",activeWrapper:"_13v0yezS",slim:"_2FuzJNLA",focusMode:"xXDD8VKg",addButton:"_3g0wElno",onlyFirstRow:"_2qL-cQD_",sideways:"_2s6LqrUk",padLeft:"KjWD3FIq",padRight:"YHRT6yi7",noSelection:"m4kLFvse",divider:"_1ie_iljk",disabled:"GIMadfc5",activeButton:"_3NkxedCq"}},hkFG:function(e,t,a){"use strict";var n=a("ERkP"),r=a.n(n),l=a("O94r"),o=a.n(l),s=a("zcZP"),i=a("M/b2"),c=a.n(i);const u=e=>{let{className:t,contentClassName:a,tag:n="button",disabled:l,children:i,beforeIcon:u,afterIcon:d,fullWidth:m,outline:p,rounded:b,btnStyle:g,size:f,noborder:h,nopadding:v,socialStyle:y,isFetching:E,loaderColor:O,iconFixed:j,wrapContentStyle:k,...w}=e;const C=E?"transparent":p?g+"Outline":g,_="button"===n,P=e=>e?r.a.createElement("span",{className:c.a.icon},e):null,x=E||l,S={className:o()(c.a.root,t,h&&c.a.noborder,v&&c.a.nopadding,c.a[y],c.a[f],c.a[C],{[c.a.fullWidth]:m,[c.a.rounded]:b,[c.a.disabled]:!_&&(E||l),[c.a.iconFixedLeft]:"left"===j,[c.a.iconFixedRight]:"right"===j}),"data-element":"button",...w};_&&(S.disabled=x);const N=r.a.createElement(r.a.Fragment,null,P(u),r.a.createElement("span",{style:k},i),P(d));return r.a.createElement(n,S,r.a.createElement("span",{style:{opacity:E?0:1},className:o()(c.a.container,a)},N),E&&r.a.createElement(s.a,{color:O},N))};u.defaultProps={fullWidth:!1,btnStyle:"primary",outline:!1,rounded:!1,size:"standart",disabled:!1,wrapContentStyle:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"}},t.a=u},i6mB:function(e,t,a){e.exports={spinnerContainer:"_2h3pZkzA",inline:"_2ZrpVUZI",loader:"FkzK9tZy",dot:"qvpIodj4",dot1:"_1oVcQkod","dot-jump":"KtgwLIW0",dotJump:"KtgwLIW0",dot2:"_2R_cbiTj",dot3:"_296sCRt8"}},i7N3:function(e,t,a){"use strict";a.d(t,"a",(function(){return He}));var n=a("NAgK"),r=a.n(n),l=a("ERkP"),o=a.n(l),s=a("zCf4"),i=a("ilhn"),c=a("MhLP"),u=a("ZUB1");function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function m(e,t){return l.createElement(u.b,d({fill:"none",viewBox:"0 0 24 24",ref:t},e),l.createElement("path",{d:"M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4H6zM3 6h18M16 10a4 4 0 11-8 0",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var p=l.forwardRef(m),b=a("iXl6");function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function f(e,t){return l.createElement(u.b,g({fill:"none",viewBox:"0 0 24 24",ref:t},e),l.createElement("path",{d:"M21 4H3a2 2 0 00-2 2v12a2 2 0 002 2h18a2 2 0 002-2V6a2 2 0 00-2-2zM1 10h22",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var h=l.forwardRef(f),v=a("BqG0"),y=a("dTSm"),E=a("9nPs"),O=a("/7Un"),j=a("bekz"),k=a("JoJJ"),w=a("2cVh");const C=e=>{const{theme:t}=Object(w.b)();return Object(l.useMemo)(()=>{const a=e&&e.backgroundColor,n=e&&e.color;return a&&n?e:{backgroundColor:a||t.colors.background,color:n||t.colors.text}},[e,t.colors])};var _=a("O94r"),P=a.n(_);var x=Object(l.createContext)(1);const S=(e,t)=>Math.max(t,e-1),N=(e,t)=>Math.min(t,e+1);var I=function(){const{currentStep:e,setCurrentStep:t,steps:a}=Object(l.useContext)(x),n=a.length,r=1===e,o=e===n,s=N(e,n),i=S(e,1),c=Object(l.useCallback)(r=>{var l;r!==e&&(r<1||r>n||r>e&&(null===(l=a[r-2])||void 0===l||!l.isDone)||t(r))},[e,1,n,a]),u=Object(l.useCallback)(()=>t(e=>N(e,n)),[n]),d=Object(l.useCallback)(()=>t(e=>S(e,1)),[1]);return{currentStep:e,getStepName:e=>a[e-1].name,gotoStep:c,gotoNextStep:u,gotoPreviousStep:d,firstStep:1,lastStep:n,isFirstStep:r,isLastStep:o,nextStep:s,previousStep:i}},T=a("IN2C"),M=a.n(T);const L=e=>{let{as:t="li",step:{number:a,isCurrent:n,isDone:r,icon:s},style:i}=e;const{gotoStep:c}=I(),u=Object(l.useCallback)(()=>c(a),[c,a]);return o.a.createElement(t,{className:P()(M.a.step,{[M.a.done]:r,[M.a.current]:n}),style:n?i.stepCurrent:i.step,onClick:u},o.a.createElement("div",{className:M.a.icon},s?o.a.createElement(s,{size:20}):a),o.a.createElement("div",{className:M.a.mark},r&&""))};var B=function(e){let{children:t}=e;const[a,n]=Object(l.useState)(1),[r,s]=Object(l.useState)(()=>o.a.Children.toArray(t).map((e,t)=>{const n=t+1;return{number:n,name:e.props.name,icon:e.props.icon,child:e,isDone:n<a,isCurrent:a===n}})),i=C(),c=Object(l.useMemo)(()=>({divider:{backgroundColor:i.color},step:{backgroundColor:i.backgroundColor,borderColor:i.backgroundColor,color:i.color},stepCurrent:{backgroundColor:i.color,borderColor:i.color,color:i.backgroundColor}}),[i]);Object(l.useEffect)(()=>{s(e=>e.map(e=>({...e,isCurrent:e.number===a,isDone:e.isDone||a>e.number})))},[a]);const u=r.find(e=>e.isCurrent).child;return o.a.createElement(x.Provider,{value:{currentStep:a,setCurrentStep:n,steps:r}},o.a.createElement("div",null,o.a.createElement("ul",{className:M.a.nav},r.map(e=>o.a.createElement(l.Fragment,{key:e.number},1!==e.number&&o.a.createElement("li",{className:M.a.divider,style:c.divider}),o.a.createElement(L,{style:c,step:e})))),o.a.createElement("div",null,u)))},F=a("9X6j"),R=a.n(F);var A=function(e){let{children:t,name:a}=e;return o.a.createElement("div",{className:R.a.step},a&&o.a.createElement("h4",{className:R.a.title},a),t)},U=a("OqJV"),z=a.n(U),D=a("9j0U"),W=a("mz7T"),V=a("/ZIs"),q=a("PeSY"),H=a.n(q);function G(){return(G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function $(e){let{label:t,value:a,...n}=e;return o.a.createElement("div",G({className:H.a.root},n),o.a.createElement("div",{className:H.a.label},t),o.a.createElement("div",{className:H.a.value},a))}var K=a("dZYv"),Z=a("eSoL"),J=a("JuRJ"),Y=a("ENGl"),Q=a("lK+E"),X=a.n(Q);function ee(){return(ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const te=e=>{let{style:t,...a}=e;const n=C(),r=Object(l.useMemo)(()=>({borderTop:"1px solid "+n.color,...t}));return o.a.createElement("div",ee({style:r},Object(Y.a)(X.a.root,a)))};var ae=a("kGh7"),ne=a("QbNu"),re=a.n(ne),le=a("pO+y"),oe=a("cbkF"),se=a("/Alo"),ie=a("zQUO");function ce(){return(ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ue(e,t){return l.createElement(u.b,ce({fill:"none",viewBox:"0 0 24 24",ref:t},e),l.createElement("path",{d:"M5 12h14",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var de=l.forwardRef(ue),me=a("khBj"),pe=a("pc3S"),be=a.n(pe);function ge(e){let{item:t,onAdjust:a,tag:n="li"}=e;const r=C(),s=Object(l.useMemo)(()=>{return{borderColor:(e=r.color,t=.2,(null!=e&&e.setAlpha?e:new re.a(e)).setAlpha(t))};var e,t}),i=!!a,c=t.quantity>1&&i,u=Object(l.useCallback)(e=>a([{productId:t.productId,quantity:Math.max(0,t.quantity+e)}]),[t,a]),d=Object(l.useCallback)(()=>u(1),[u]),m=Object(l.useCallback)(()=>u(-1),[u]),p=Object(l.useCallback)(()=>u(-1/0),[u]);return o.a.createElement(n,{className:be.a.root},o.a.createElement("div",{className:be.a.divider,style:{backgroundColor:r.color}}),o.a.createElement("div",{className:be.a.thumbnail},t.product.photoUrl?o.a.createElement(oe.a,{src:le.a.generateProductThumbnailUrl(t.product.photoUrl),alt:t.name}):o.a.createElement("div",{className:be.a.emptyPlaceholder},o.a.createElement(ae.g,{size:70,color:"#fff"}))),o.a.createElement("div",{className:be.a.meta},o.a.createElement("div",{className:be.a.title,style:s},o.a.createElement("div",null,t.name),i&&o.a.createElement(se.a,{className:be.a.knob,onClick:p},o.a.createElement(ie.a,null))),o.a.createElement("div",{className:be.a.details},o.a.createElement("div",{className:be.a.row},o.a.createElement("div",{className:be.a.quantity},i&&o.a.createElement(se.a,{className:be.a.knob,disabled:t.quantity<=1,onClick:m},o.a.createElement(de,{size:16})),o.a.createElement("div",{className:be.a.quantityText,style:{margin:i?"0 8px":"0"}},!i&&"x",t.quantity),i&&o.a.createElement(se.a,{className:be.a.knob,onClick:d},o.a.createElement(me.a,{size:16}))),o.a.createElement("div",{className:be.a.price,style:{fontWeight:c?400:600}},c&&t.quantity+" x ",Object(V.a)(i?t.price:t.subtotal))),c&&o.a.createElement("div",{className:be.a.subTotal},"= ",Object(V.a)(t.subtotal)))))}function fe(e){let{order:t,onAdjust:a,...n}=e;const r=Object(Z.c)(),s=Object(J.a)(r,t,Object(l.useCallback)(e=>{let{productId:t}=e;return K.a.load(r.workspace,t)},[]));return o.a.createElement("div",n,o.a.createElement(te,{style:{marginBottom:0}}),o.a.createElement("ul",{className:be.a.list},s.map(e=>o.a.createElement(ge,{key:e._id,item:e,onAdjust:a}))),o.a.createElement(te,{style:{marginTop:0}}))}var he=a("bjXo"),ve=a("c9JU"),ye=a("vvHm"),Ee=a.n(ye);function Oe(e){let{prev:t,next:a,disabled:n}=e;const{contentStyle:r}=Object(he.a)(),{gotoPreviousStep:l,gotoNextStep:s}=I(),[{loading:i},u]=z()(async()=>{if("function"==typeof t)return t();l()},[t,l]),[{loading:d},m]=z()(async()=>{if("function"==typeof a)return a();s()},[a,s]);return o.a.createElement("footer",{className:Ee.a.root},t&&o.a.createElement(ve.a,{className:Ee.a.button,theme:r,fullWidth:!a,contour:!0,type:"submit",disabled:n,isFetching:i,onClick:u},Object(c.a)("previous")),a&&o.a.createElement(ve.a,{className:Ee.a.button,theme:r,fullWidth:!t,type:"submit",disabled:n,isFetching:d,onClick:m},Object(c.a)("next")))}var je=function(){const{generateUrl:e}=Object(D.a)({useMatchUrl:!1}),{currentOrder:t,removeOrderId:a}=Object(W.a)(),n=Object(l.useMemo)(()=>e("../.."),[]),r=Object(E.b)(),i=(null==t?void 0:t._id)||null,[{loading:u},d]=z()(async e=>{const t=await r.orders.modify({orderId:i,payload:{items:e}});t.items.length||a(t._id)},[i]);return t?o.a.createElement("div",null,o.a.createElement(fe,{order:t,onAdjust:t.finalized?void 0:d}),o.a.createElement($,{label:Object(c.a)("total_to_pay"),value:Object(V.a)(t.total)}),o.a.createElement(Oe,{next:!0,disabled:u})):i?null:o.a.createElement(s.a,{to:n})},ke=a("ljKo"),we=a("fRMX");var Ce=function(e){return async(t,a)=>{try{await e(t,a)}catch(e){if(!v.f.is(e))throw e;for(let t in e.errors)a.setFieldError(t,e.errors[t])}}};function _e(e){const{gotoNextStep:t}=I(),a=Object(E.b)();return Object(l.useCallback)(Ce(async n=>{await a.orders.update({orderId:e,payload:n}),t()}),[e,t])}const Pe={city:"",state:"",address:"",postalCode:""};var xe=function(){var e;const{form:t}=Object(O.a)(),{currentOrder:a}=Object(W.a)(),n=Object(l.useMemo)(()=>({shippingAddress:(null==a?void 0:a.shippingAddress)||Pe}),[null==a?void 0:a.shippingAddress]),r=_e(null==a?void 0:a._id),s=!(null===(e=t.optional)||void 0===e||!e.postalCode);return a?o.a.createElement(ke.b,{initialValues:n,onSubmit:r},e=>{let{isSubmitting:t,handleSubmit:a}=e;return o.a.createElement(ke.a,null,o.a.createElement(we.a,{required:!0,name:"shippingAddress.city",placeholder:Object(c.a)("shippingAddress.placeholder.city")}),o.a.createElement(we.a,{required:!0,name:"shippingAddress.state",placeholder:Object(c.a)("shippingAddress.placeholder.state")}),o.a.createElement(we.a,{required:!0,name:"shippingAddress.address",placeholder:Object(c.a)("shippingAddress.placeholder.address")}),!s&&o.a.createElement(we.a,{required:!0,name:"shippingAddress.postalCode",placeholder:Object(c.a)("shippingAddress.placeholder.postalCode")}),o.a.createElement(Oe,{prev:!0,next:a,disabled:t}))}):null},Se=a("XZwl"),Ne=a.n(Se),Ie=a("2F2M"),Te=a("LLXx"),Me=a("BX6u"),Le=a("9kWU"),Be=a("vVOL"),Fe=a("q0/i"),Re=a("vqtJ"),Ae=a.n(Re);var Ue=function(){var e;const t=Object(s.g)(),a=Object(E.b)(),n=Object(Be.b)(),{currentOrder:r,removeCurrentOrderId:i}=Object(W.a)(),{router:u}=Object(j.c)(),{contentStyle:d}=Object(he.a)(),[m,p]=Ne()(!1),{immediate:b,online:g}=Object(l.useMemo)(()=>{const e=e=>{let[t]=e;return[t,Fe.b[t]]};return{immediate:n.immediate.map(e),online:n.online.map(e)}},[n]),f=!!g.length,h=!!b.length,v=f&&!h,[{loading:y},O]=z()(async e=>{await a.orders.finalize({orderId:r._id,payload:{paymentMethod:e}}),p(),i(),t.push(u.orders.toStatus(r._id,"paid"))},[u,r]),[w,C]=Object(l.useState)(f?"online":null===(e=b[0])||void 0===e?void 0:e[0]),_=Object(l.useMemo)(()=>{const{backgroundColor:e,color:t,border:a}=Object(Te.a)(d.backgroundColor,d.buttonBackground,d.buttonTextColor);return{option:{backgroundColor:e,color:t,border:"1px solid "+a},active:{backgroundColor:d.buttonBackground,color:d.buttonTextColor,border:"1px solid "+d.buttonBackground}}},[d]),P=Object(l.useMemo)(()=>r&&[f&&{value:"online",label:Object(c.a)("pay_now"),icon:o.a.createElement("div",null,g.map(e=>{let[t]=e;const a=Fe.a.find(e=>e.provider===t);return a&&o.a.createElement(a.icon,{key:t})}))},...b.map(e=>{let[t]=e;return{value:t,label:Object(c.a)("payments_"+t)}})].filter(Boolean),[r,g,b]),x=Object(l.useCallback)(e=>{let{option:t,active:a}=e;const n=a?_.active:_.option;return o.a.createElement(Me.a,{className:Ae.a.choiceWrapper,contentClass:Ae.a.choiceContent,style:n,active:a,color:n.color},t.label,t.icon)},[_]),S=Object(l.useCallback)(()=>{"online"===w?p(!0):O(w)},[w,O]);if(!r)return null;const N=o.a.createElement("div",{className:Ae.a.paymentButtons},g.map(e=>{let[t,a]=e;return o.a.createElement(a,{key:t,order:r,disabled:y,onPay:O})}));return o.a.createElement("div",null,o.a.createElement(fe,{order:r}),o.a.createElement($,{label:Object(c.a)("total_to_pay"),value:Object(V.a)(r.total),style:{marginBottom:16}}),v?N:o.a.createElement("div",{style:{marginBottom:-8}},o.a.createElement(Le.a,{containerClassName:Ae.a.choices,choiceClassName:Ae.a.choice,value:w,options:P,renderOption:x,onChange:C}),f&&o.a.createElement(Ie.a,null,m&&o.a.createElement(k.a,{overlay:!0,compact:!0,padding:!0,title:Object(c.a)("choose_payment_method"),onClose:p},N))),o.a.createElement(Oe,{prev:!0,next:!v&&S,disabled:y}))},ze=a("VOer");const De={firstName:"",lastName:"",phoneNumber:"",comment:""};var We=function(){var e;const{form:t}=Object(O.a)(),{currentOrder:a}=Object(W.a)(),n=Object(l.useMemo)(()=>({contactInfo:(null==a?void 0:a.contactInfo)||De}),[null==a?void 0:a.contactInfo]),r=_e(null==a?void 0:a._id),s=!(null===(e=t.optional)||void 0===e||!e.lastName);return a?o.a.createElement(ke.b,{initialValues:n,onSubmit:r},e=>{let{isSubmitting:t,handleSubmit:a}=e;return o.a.createElement(ke.a,null,o.a.createElement(we.a,{required:!0,name:"contactInfo.firstName",label:s?Object(c.a)("contactInfo.name"):Object(c.a)("contactInfo.firstName"),placeholder:s?Object(c.a)("contactInfo.placeholder.name"):Object(c.a)("contactInfo.placeholder.firstName")}),!s&&o.a.createElement(we.a,{required:!0,name:"contactInfo.lastName",placeholder:Object(c.a)("contactInfo.placeholder.lastName")}),o.a.createElement(we.a,{required:!0,name:"contactInfo.phoneNumber",placeholder:Object(c.a)("contactInfo.placeholder.phoneNumber")}),o.a.createElement(we.a,{component:ze.a,name:"contactInfo.comment",placeholder:Object(c.a)("contactInfo.placeholder.comment")}),o.a.createElement(Oe,{prev:!0,next:a,disabled:t}))}):null},Ve=a("4+Wm"),qe=a.n(Ve);function He(e){let{orderId:t}=e;const a=Object(E.b)(),{state:{backPath:n}={}}=Object(s.h)(),{form:l}=Object(O.a)(),{loading:u,error:d,value:m}=r()(()=>a.orders.show({orderId:t,query:{complete:!0}}),[t]),{router:g}=Object(j.c)();return m?m.finalized?o.a.createElement(s.a,{to:g.orders.toStatus(t,m.status)}):o.a.createElement(k.a,{overlay:!0,compact:!0,title:Object(c.a)("checkout"),onClose:n||g.toHome()},o.a.createElement("div",{className:qe.a.root},u?o.a.createElement(y.a,null):d?o.a.createElement("div",{className:qe.a.error},v.d.is(d)?Object(c.a)("order_not_found"):d.message):o.a.createElement(B,null,o.a.createElement(A,{name:Object(c.a)("order_adjusting"),icon:p},o.a.createElement(je,null)),o.a.createElement(A,{name:Object(c.a)("order_contact_info"),icon:i.b},o.a.createElement(We,null)),!!l.collectAddress&&o.a.createElement(A,{name:Object(c.a)("order_shipping_address"),icon:b.a},o.a.createElement(xe,null)),o.a.createElement(A,{name:Object(c.a)("order_payment"),icon:h},o.a.createElement(Ue,null))))):null}},iGu5:function(e,t,a){e.exports={root:"_3wGVXNAT",primary:"_2R6NQFDK",warning:"Z9xsZuXY",danger:"_3QDDX8Pe",success:"_1QLwxu8f",flat:"_1K-3UyYl",hollow:"_3tCK3oCz"}},iXl6:function(e,t,a){"use strict";var n=a("ERkP"),r=a("ZUB1");function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function o(e,t){return n.createElement(r.b,l({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 1118 0z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M12 13a3 3 0 100-6 3 3 0 000 6z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}const s=n.forwardRef(o);t.a=s},ivbd:function(e,t,a){"use strict";function n(){return window.outerWidth<768}a.d(t,"a",(function(){return n}))},"j/tK":function(e,t,a){e.exports={root:"_1X81yfXt",message:"_222iXa64"}},j1ax:function(e,t,a){e.exports={root:"_1PRuO42i",section:"_3xYOd_V9",fieldOptionsList:"_1fMMbtw2"}},j4PE:function(e,t,a){e.exports={root:"_2tGxiqy6",center:"wCqhZuUa"}},j69l:function(e,t,a){e.exports={root:"_3nRTweNt"}},jIz7:function(e,t,a){e.exports={root:"VR4QdJpW",blockedContent:"_1uR5PPcu",blockedOverlay:"_1AQYDpT9",striped:"_1W8FGF8C",blockedWrapper:"_20wj8l9F"}},jTtA:function(e,t,a){e.exports={iconsContainer:"_3nVXuBmQ",choiceButton:"_33fmj0wu",active:"_14DuD1g3",fullWidth:"_3-YZTIcv",groupLabel:"_3i3zE6Ss"}},jUDO:function(e,t,a){e.exports={root:"_3Kls8oO-",list:"h8rUOEtw",field:"_8VxvpJtM",row:"_1bD3A897",layer:"K9nSGdZY",left:"l1jDWNW9",iconWrapper:"Bw23puVJ",icon:"iM5hfL2v",value:"_22uQY2kl",active:"_1kDB5j_f",buttons:"_1ubAhBDk",changeButton:"_13kICNtu",button:"_2ZovPc8c",remove:"qOZnPdMY",danger:"TGiU8o21",small:"_33RdvxdF",previewValue:"_3yRBXvG7"}},jVHu:function(e,t,a){e.exports={root:"_1JVkPM0I"}},jjoj:function(e,t,a){"use strict";t.a=e=>{if(e<1024)return e+" B";const t=Math.floor(Math.log(e)/Math.log(1024)),a=e/Math.pow(1024,t),n=Math.round(a);return`${String(n<10?a.toFixed(2):n<100?a.toFixed(1):n).replace(/\.0+$/,"")} ${"KMGTPEZY"[t-1]}B`}},jpDv:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return i}));var n=a("ERkP"),r=a.n(n),l=a("OdJe");const o=r.a.createContext({});function s(){return Object(n.useContext)(o)}function i(e){return Object(n.useMemo)(()=>function(e){let{theme:t,baseTheme:a,elementPath:n,inherit:r,compile:o=!0}=e;const s=l.a.resolve(n,a,t),i=r?{...a,...s}:s;return{elementPath:n,theme:i,style:o&&l.a.compile(i)}}(e),[e.compile,e.inherit,e.elementPath,e.baseTheme,e.theme])}},jrjp:function(e,t,a){e.exports={p:"_2EoXuVqx",logo:"TBi58GOm",heading:"_1duwsJCz",blocksList:"_3xoevGjp"}},k6VN:function(e,t,a){e.exports={root:"QpOJFuFA",copied:"_3tCjWTE3"}},kKUT:function(e,t,a){var n={"./en/landings.json":["J1jI",0],"./ru/landings.json":["VwZ/",1],"./uk/landings.json":["GIl8",2]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a.t(r,3)}))}r.keys=function(){return Object.keys(n)},r.id="kKUT",e.exports=r},kT0o:function(e,t,a){e.exports={root:"_3bXOf8CH",heading:"_3wu6Gm9s",reason:"_2VsBBu0O",reasonHeading:"_11Lngp2X",appeal:"_24XeGXU3",pending:"_2o97k4xZ"}},kYWB:function(e,t,a){e.exports={root:"UW5xRrRu",list:"NFZmvHFi",messengerRow:"_1Il_dq3Z",layer:"_2kh2MYEm",messengerLeft:"DA8-eP1k",iconWrapper:"_2HVOPpm5",icon:"wBVWsJIT",value:"_30uSXQAG",active:"_2sQGvmk4",buttons:"_2h_UzA59",changeButton:"_2nt0Bndy",button:"v4EDAwEK",remove:"_2-LJrxtP",small:"_1mRgz8FX",previewValue:"_2chMV_uq",sortable:"_2mRHieBs"}},khBj:function(e,t,a){"use strict";var n=a("ERkP"),r=a("ZUB1");function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function o(e,t){return n.createElement(r.b,l({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M12 5v14M5 12h14",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}const s=n.forwardRef(o);t.a=s},kjYQ:function(e,t,a){e.exports={root:"E9H-I99g",disabled:"_1cCfAGAk",requiredMark:"_1AwuHi34",optionalMark:"_3I8DjWiy"}},kokG:function(e,t,a){e.exports={root:"_1DiPjgIu",overlay:"j-P1GLFM",card:"CV1vd04T",block:"Wi5ht-uJ",heading:"_3N6BiFmr",tip:"_34Xuj62b",handBlock:"_28hP6QUo",hand:"_2yGkUXkx"}},kvt5:function(e,t){e.exports=window.PLANS||{}},kxXC:function(e,t,a){e.exports={root:"_1UIG-SbU",notPublished:"_3e_TGWdh",personalLink:"Z7-cZ3ph",publishButton:"_2JMHa70s",copyButton:"du1TfNsU",copied:"k26mG-dk"}},"lK+E":function(e,t,a){e.exports={root:"_3XS81KKx"}},lTSC:function(e,t,a){e.exports={root:"XlZXqU1R","no-padding":"zTvtWQcx",noPadding:"zTvtWQcx","no-header":"_1IvNOBqz",noHeader:"_1IvNOBqz"}},lWQz:function(e,t,a){"use strict";a.r(t),a.d(t,"setFeedbackItemsFilter",(function(){return j})),a.d(t,"setProductsFilter",(function(){return k})),a.d(t,"clearProductsStore",(function(){return w})),a.d(t,"setProductsSubFilter",(function(){return C})),a.d(t,"clearProductsSubStore",(function(){return _})),a.d(t,"selectBot",(function(){return P})),a.d(t,"openDialogBranch",(function(){return x})),a.d(t,"setDialogPath",(function(){return S})),a.d(t,"api",(function(){return N.a})),a.d(t,"ui",(function(){return n})),a.d(t,"checkout",(function(){return r}));var n={};a.r(n),a.d(n,"toggleMobileMenu",(function(){return o})),a.d(n,"toggleStylingMode",(function(){return s})),a.d(n,"toggleMobileContainer",(function(){return i})),a.d(n,"setMessage",(function(){return c})),a.d(n,"setConversationsFilter",(function(){return u})),a.d(n,"setPagePreview",(function(){return d})),a.d(n,"setPageBlockPreview",(function(){return m})),a.d(n,"setBackTrack",(function(){return p}));var r={};a.r(r),a.d(r,"completePayment",(function(){return b})),a.d(r,"applyCoupon",(function(){return g})),a.d(r,"complete",(function(){return f})),a.d(r,"changeCountry",(function(){return h})),a.d(r,"load",(function(){return v})),a.d(r,"selectPaymentMethod",(function(){return y})),a.d(r,"error",(function(){return E})),a.d(r,"close",(function(){return O}));var l=a("69Mk");const o=Object(l.a)("TOGGLE_MOBILE_MENU"),s=Object(l.a)("TOGGLE_STYLING_MODE"),i=Object(l.a)("TOGGLE_MOBILE_CONTAINER"),c=Object(l.a)("SET_MESSAGE"),u=Object(l.a)("SET_CONVERSATIONS_FILTER"),d=Object(l.a)("SET_PAGE_PREVIEW"),m=Object(l.a)("SET_PAGE_BLOCK_PREVIEW"),p=Object(l.a)("SET_BACK_TRACK"),b=Object(l.a)("CHECKOUT/COMPLETE_PAYMENT"),g=Object(l.a)("CHECKOUT/APPLY_COUPON"),f=Object(l.a)("CHECKOUT/COMPLETE_CHECKOUT"),h=Object(l.a)("CHECKOUT/CHANGE_COUNTRY"),v=Object(l.a)("CHECKOUT/LOAD"),y=Object(l.a)("CHECKOUT/SELECT_PAYMENT_METHOD"),E=Object(l.a)("CHECKOUT/ERROR"),O=Object(l.a)("CHECKOUT/CLOSE"),j=e=>({type:"SET_FEEDBACK_ITEMS_FILTER",payload:e}),k=e=>({type:"SET_PRODUCTS_FILTER",payload:e}),w=()=>({type:"CLEAR_PRODUCTS_STORE"}),C=e=>({type:"SET_PRODUCTS_SUB_FILTER",payload:e}),_=()=>({type:"CLEAR_PRODUCTS_SUB_STORE"}),P=(e,t)=>({type:"SELECT_BOT",botId:e,bot:t}),x=e=>{let{parentResponseID:t,nextResponseID:a,content:n}=e;return{type:"OPEN_DIALOG_BRANCH",parentResponseID:t,nextResponseID:a,content:n}},S=e=>({type:"SET_DIALOG_PATH",path:e});var N=a("Rr0/")},lecG:function(e,t,a){e.exports={domainPreview:"_2s97nFMq",label:"uSOfETVj",preview:"_2mMGGVUg",value:"_7AqdA4Dq",empty:"_32LT6-EE",after:"_1OMnIyAM",unusedPhotosHint:"_3RdQvNvi"}},"m1/L":function(e,t,a){e.exports={root:"JnZ-H-ld",list:"_3-DXzCpH",filter:"_1LcLq7M9",groupItem:"_3QFvg4j3",listItem:"_7t3zQueL",info:"_1SpyxFyS",title:"iK-DZbyR",subtitle:"_2zyUg5ck",fixed:"_3ZYLjL6N"}},m7nB:function(e,t,a){e.exports={actions:"_1uZX0aL2"}},mAmT:function(e,t,a){e.exports={tabs:"_3399tNpn",choice:"_1U8Bz3MD",tab:"_1pAyYnIR",counter:"_18TvwE2r"}},mBV0:function(e,t,a){e.exports={dateSection:"_3M8Jt-z9",emptyMessage:"_1CgBn0BT",action:"_hwmxm0a",new:"pHdn88Ho",processing:"_1ihoQMgs",accepted:"vnCx4Jly",rejected:"_6JTpe8FX"}},mL7N:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("ERkP");const r=a.n(n).a.lazy(()=>a.e(13).then(a.bind(null,"WqLw")))},mSsh:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("ERkP"),r=a.n(n),l=a("O94r"),o=a.n(l),s=a("+Dyy"),i=a.n(s);function c(e){let{error:t,critical:a=!0,shake:n,errorStyle:l}=e;if(!t)return null;const s=Array.isArray(t)?t:[t];return r.a.createElement("ul",{className:o()(i.a.root,{[i.a.nonCritical]:!a,[i.a.shake]:n,[i.a.animated]:n}),style:l},s.map((e,t)=>r.a.createElement("li",{key:t},e)))}},mWAZ:function(e,t,a){e.exports={centered:"_2TfDqZm1",panelWrapper:"_2x-e5P5N",logoBox:"MA7o9wP-",content:"_1oQrz6zX",center:"_3LtaV45K",withCover:"_2yWXA2jo",left:"_1z0uZkPj",right:"_1-7ONg_J"}},mevy:function(e,t,a){e.exports={root:"_2bTOAhh-",help:"nTAwAFda",preview:"_1Wc6niz6",closeBtn:"_1USb8Qd_",disabled:"XkHtSthR"}},mgDV:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={defaultCurrency:"USD",contacts:{messengers:[]},payments:{cod:{enabled:!1},paypal:{clientId:"",enabled:!1},stripe:{publicKey:"",secretKey:"",enabled:!1},wayforpay:{merchantAccount:"",merchantSecretCode:"",enabled:!1},robokassa:{merchantLogin:"",merchantPassword:"",test:!1,enabled:!1},liqpay:{publicKey:"",privateKey:"",enabled:!1},other:{enabled:!1}},form:{collectAddress:!0,successMessage:"",optional:{postalCode:!1,lastName:!1}}}},msrH:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a("ERkP"),r=a.n(n),l=a("O94r"),o=a.n(l),s=a("kGh7"),i=a("pO+y"),c=a("MhLP"),u=a("cbkF"),d=a("KFXP"),m=a.n(d);function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const b=e=>{let{tag:t,product:{name:a,price:n,published:l,photoUrl:d},themeStyles:b,...g}=e;return r.a.createElement(t,p({className:o()(m.a.root,!l&&m.a.disabled)},g),r.a.createElement("div",{className:m.a.thumbnail,style:{backgroundColor:b.backgroundColor}},d?r.a.createElement(u.a,{src:i.a.generateProductThumbnailUrl(d),alt:a}):r.a.createElement("div",{className:m.a.emptyPlaceholder},r.a.createElement(s.g,{size:"40%",color:"#fff"}))),r.a.createElement("div",{className:m.a.meta,style:{color:b.color}},r.a.createElement("span",{className:m.a.title},a),n&&r.a.createElement("span",{className:m.a.price},n.formattedDiscount&&(0===n.discount?r.a.createElement("span",{className:m.a.discountPrice},Object(c.a)("free")):r.a.createElement("span",{className:m.a.discountPrice},n.formattedDiscount)),0===n.amount?Object(c.a)("free"):r.a.createElement("span",{className:n.formattedDiscount?m.a.lineThrough:null},n.formatted))))};b.defaultProps={tag:"div",themeStyles:{}}},mxQN:function(e,t,a){"use strict";var n=a("ERkP"),r=a.n(n),l=a("zCf4"),o=a("T8kG"),s=a("MhLP"),i=a("bekz"),c=a("/7Un"),u=a("bjXo"),d=a("mz7T"),m=a("JoJJ"),p=a("c9JU"),b=a("Ic6u"),g=a.n(b);t.a=function(e){let{orderId:t,status:a}=e;const b=Object(l.g)(),{router:f}=Object(i.c)(),{form:h}=Object(c.a)(),{contentStyle:v}=Object(u.a)(),{order:y,error:E}=Object(d.b)(t),O="pending"===a?"paid":a,j=Object(n.useCallback)(e=>"toOrder"===e?b.push(f.userOrders.toOrder(t)):b.push(f.toHome()),[f]);return E?r.a.createElement(m.a,{overlay:!0,compact:!0,showHeader:!1,onClose:j},r.a.createElement("div",{className:g.a.root},r.a.createElement("p",null,Object(s.a)("order_not_found")))):r.a.createElement(m.a,{overlay:!0,compact:!0,showHeader:!1,onClose:j},e=>r.a.createElement("div",{className:g.a.root},"failed"===O?r.a.createElement(o.E,{size:60,className:g.a.icon}):r.a.createElement(o.F,{size:60,className:g.a.icon}),r.a.createElement("h1",{className:g.a.title},Object(s.a)("payment_"+O)),"failed"!==O&&r.a.createElement("p",{className:g.a.subTitle},h.successMessage||Object(s.a)("payment_paid_subtitle")),r.a.createElement(p.a,{fullWidth:!0,style:{marginTop:16},theme:v,onClick:()=>e("toOrder")},Object(s.a)("view_order")),r.a.createElement(p.a,{fullWidth:!0,style:{marginTop:8},contour:!0,theme:v,onClick:()=>e("toHome")},Object(s.a)("back_to_home"))))}},mz7T:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return b}));var n=a("NAgK"),r=a.n(n),l=a("ERkP"),o=a("uDfI"),s=a("9nPs"),i=a("eSoL"),c=a("yDK5");const{useStorageItem:u,useBatchUpdate:d}=(()=>{const e=new c.EventEmitter,t={parse:e=>e,stringify:e=>e},a=()=>e.emit("ls_changed");return{useStorageItem:function(a,n){let{transform:r=t}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=Object(l.useRef)(e=>{try{const t=localStorage.getItem(e);if(null!==t)return r.parse(t);n&&localStorage.setItem(e,r.stringify(n))}catch(e){}return n}),[s,i]=Object(l.useState)(()=>o.current(a));Object(l.useLayoutEffect)(()=>{const t=()=>{i(o.current(a))};return t(),e.on("ls_changed",t),()=>{e.off("ls_changed",t)}},[a]);const c=Object(l.useCallback)(e=>{try{const t="function"==typeof e?e(s):e,n=r.stringify(t);localStorage.setItem(a,n),i(r.parse(n))}catch(e){}},[a,i]);return[s,c]},useBatchUpdate:e=>{const t=Object(l.useRef)(e);return t.current=e,Object(l.useCallback)((function(){try{return t.current(...arguments)}finally{a()}}),[])},emitChange:a}})(),m=e=>t=>t!==e,p=()=>{const{currentOrderId:e,userOrdersIds:t,saveOrderId:a,removeOrderId:n,removeCurrentOrderId:r}=(()=>{const{_id:e}=Object(i.c)(),t="currentOrder_"+e,a="userOrders_"+e,[n,r]=u(t,null),[l,o]=u(a,[],{transform:JSON});return{currentOrderId:n,userOrdersIds:l,saveOrderId:d(e=>{r(e),o(t=>[e,...t.filter(m(e))])}),removeOrderId:d(e=>{r(null),o(t=>t.filter(m(e)))}),removeCurrentOrderId:d(()=>r(null))}})(),c=Object(s.b)(),p=Object(o.c)(e=>e.orders)||[]||[],b=p.find(t=>t._id===e),g=Object(l.useCallback)(()=>(t.length||p.length)&&c.orders.list({query:{orders:t}}),[t,p.length]);return Object(l.useEffect)(()=>{b&&b.finalized&&t.find(e=>e===b._id)&&r()},[t,b,p,e]),Object(l.useEffect)(()=>{g()},[]),{currentOrderId:e,userOrdersIds:t,currentOrder:b,userOrders:p,saveOrderId:a,removeOrderId:n,removeCurrentOrderId:r}},b=e=>{const t=Object(s.b)(),{currentOrder:a,currentOrderId:n,removeCurrentOrderId:o}=p(),{value:i,error:c}=r()(()=>t.orders.show({orderId:e,query:{complete:!0}}),[e]),u=n||(null==a?void 0:a._id),d=i&&(null==i?void 0:i.finalized)&&u===(null==i?void 0:i._id)&&["pending","paid"].includes(i.status);return Object(l.useEffect)(()=>{d&&o()},[d]),{order:i,error:c}}},nFWC:function(e,t,a){e.exports={divider:"_19aLJK4v",line:"_2Ke-oizW",left:"_3A_AEBGF",center:"_2H5MAwFz",right:"_3iPTF_GA",dots:"_2Jmo4zsU",small:"zfBjMuFj",medium:"_13TDFrbT",large:"B1NJ1NO0",space:"_3ZEAlz6v"}},"nLs+":function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a("OqJV"),r=a.n(n),l=a("ERkP"),o=a.n(l),s=a("zCf4"),i=a("dZYv"),c=a("QwRn"),u=a("MhLP"),d=a("9j0U"),m=a("g0yd"),p=a("JoJJ"),b=a("9nTi"),g=a("bjXo"),f=a("/7Un");function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function v(e){var t;let{workspaceId:a,defaultCollectionId:n,productSlug:v,interactive:y=!0,...E}=e;const O=Object(s.g)(),j=(null===(t=O.location.state)||void 0===t?void 0:t.fromCollection)||n,{generateUrl:k}=Object(d.a)(),{contentStyle:w}=Object(g.a)(),{contacts:C}=Object(f.a)(),_=Object(l.useMemo)(()=>k("../.."),[O.location]),[{value:P,error:x},S]=r()(()=>i.a.loadBySlug(a,v,j),[a,v,j]),N=Object(l.useMemo)(()=>C.messengers.length?[{kind:c.o,messengers:C.messengers}]:[],[C.messengers]),I=404===(null==x?void 0:x.status),T=Object(l.useCallback)(()=>O.push(_),[_]);return Object(l.useEffect)(()=>{j&&S()},[v,j]),Object(m.a)(),o.a.createElement(p.a,{overlay:!0,showHeader:!!x,title:x?Object(u.a)("error"):"",onClose:T},e=>x?o.a.createElement("div",{style:{padding:16,display:"flex"}},I?Object(u.a)("product_not_found"):Object(u.a)("no_products")):P?o.a.createElement(b.a,h({},E,{themeStyles:w,service:P,contacts:N,isActive:!0,isPrev:!1,isNext:!1,interactive:y,backUrl:_,onClose:e})):null)}},nMOi:function(e,t,a){"use strict";var n=a("O94r"),r=a.n(n),l=a("ERkP"),o=a.n(l),s=a("MhLP"),i=a("QwRn"),c=a("ENGl"),u=a("2cVh"),d=a("ZFej"),m=a("3OO6"),p=a.n(m);function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function g(e){let{block:t,style:a,...n}=e;const{theme:i,style:m}=Object(u.a)(t),g=Object(l.useMemo)(()=>a?{...m,...a}:m,[m,a]),f="number"===i.listLabel?"ol":"ul";return o.a.createElement(d.a,b({style:g},Object(c.a)(p.a.root,n)),t.items.length>0&&o.a.createElement(f,{className:r()(p.a.list,p.a[i.listLabel])},t.items.map((e,t)=>{let{content:a}=e;return o.a.createElement("li",{key:t},a)})),0===t.items.length&&o.a.createElement("ul",{className:r()(p.a.list,p.a[i.listLabel])},o.a.createElement("li",null,Object(s.a)("loremListItemFirst")),o.a.createElement("li",null,Object(s.a)("loremListItemSecond"))))}g.defaultProps=d.a.defaultProps,g.kind=i.n;t.a=g},nVmp:function(e,t,a){e.exports={root:"_36NEqzLS",infoLine:"_3zCh0ILX",prop:"nEAMZg9a",value:"_38_DHRf6",spread:"_1fZqfnmH",divider:"_1a6UJd5p",statusContainer:"_1ODlklAs",statusSelect:"_2xIFR_6I",dataContainer:"_3Y3oyVje",cut:"_2d6IQ5s8",paymentStatus:"_3OZ80o9w",pending:"_3VO9o3f5",paid:"_2SoA0LK7",failed:"JUDGExMS",paymentStatusSelect:"_2_tqvzCJ",choice:"a5I0-pdT",choiceLabel:"_3EGBwkGS",active:"_32hxYl5b"}},niLw:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return l}));var n=a("WusW");function r(e){Object(n.e)(e.payload)?delete e.headers["Content-Type"]:e.headers["Content-Type"]=n.a}function l(e){e.originalPayload=e.payload,!Object(n.e)(e.payload)&&Object(n.g)(e)&&(e.payload=JSON.stringify(e.payload))}},nmqT:function(e,t,a){e.exports={root:"u6WW3-hD",dragHandle:"_1OZj4lOc",checkMark:"EH3RkZ0S",multiSelectable:"_2K0VvjUY",checkIcon:"HljduLUJ",checked:"_2vk8idFz",contentWrapper:"_1B6I6YQT",nonInteractive:"Efu9DUsv",content:"_1VXLSddX",ready:"_2XbRra4O",hidden:"_2ySuc-2U",animated:"_3bTmQ-ZO",wrapper:"_1yO0lkIe",draggable:"M9-Xs7Mr",interactive:"QaZ4sQA8",nested:"_1_I1-Qdw",cropped:"_1F7QbIjd"}},nrLq:function(e,t,a){e.exports={root:"_1OHQGuIS",active:"iMLHSKp3",hidden:"_39USYhGs",small:"_3BsHLhG2",medium:"_3ZZVj3-p",auto:"_2ucA8Zet",sortable:"_2AIO5aBW"}},oB8S:function(e,t,a){e.exports={saveButton:"_5l8MYMf3",menuIcon:"_3kTrfIcv",menuWrapper:"_3_NkfPWA",menuItem:"_3tV84vKx",disabled:"_3EN1dTi5"}},ogeA:function(e,t,a){"use strict";var n=a("N4p3"),r=a.n(n);t.a=e=>r()(e,{remove:/[%=?\\/*+~.()'"!:@]/g,separator:"_",lower:!0})},oiaX:function(e,t,a){e.exports={root:"_3KDonkWL",contentAlignLeft:"_2K001V-u"}},ojX2:function(e,t,a){"use strict";var n=a("lWQz");a.d(t,"a",(function(){return n}))},omef:function(e,t,a){e.exports={root:"_3wEO1SlN",controls:"_3XrK8nhR",control:"p3SOMBYY",active:"_2bW4sacN",activeUnderLine:"_2hjT8z5_",tabsContainer:"_2_Kfi9nZ"}},oxow:function(e,t,a){e.exports={root:"_31BD2TN4",inList:"D4PArYc_"}},p7gr:function(e,t,a){e.exports={appear:"_3vRnk7pV",enter:"_3h9YFdLL",appearActive:"_3CqgQjeg",enterActive:"_2HNjgZyK",exit:"_1jGd9QMd",exitActive:"_3QVjZgLg"}},"pO+y":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={};a.r(n),a.d(n,"MediaSizes",(function(){return i})),a.d(n,"resolveUploadSize",(function(){return c})),a.d(n,"resolveUpload",(function(){return u})),a.d(n,"normalizeUrls",(function(){return d})),a.d(n,"isLocal",(function(){return m})),a.d(n,"isAbsolute",(function(){return p})),a.d(n,"getAbsoluteUrl",(function(){return b})),a.d(n,"getRelativeUrl",(function(){return g})),a.d(n,"computeChanges",(function(){return f})),a.d(n,"addFilenameSuffix",(function(){return h})),a.d(n,"generateAbsoluteUrl",(function(){return v})),a.d(n,"generateThumbnailUrl",(function(){return y})),a.d(n,"generateProductThumbnailUrl",(function(){return E}));a("lL5k");var r=a("EfWO"),l=a.n(r),o=a("cGUp"),s=a.n(o);const i={Original:"original",Large:"medium",Half:"small",Icon:"icon"};function c(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Original,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t)return t;const r=p(t),l=!(r&&!m(t));if(l&&a!==i.Original){const l=r?g(t):t,o=e.find(e=>{let{path:t}=e;return t===l});if(o){const e=o.metadata.sizes.find(e=>{let{type:t}=e;return t===a});if(e)return e.url}else n&&(t=h(t,"-"+a))}return r?t:b(t)}function u(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Original;if(!t)return{size:null,upload:null};const n=p(t),r=!(n&&!m(t));if(r){const r=n?g(t):t,l=e.find(e=>{let{path:t}=e;return t===r});if(l){const e=l.metadata.sizes.find(e=>{let{type:t}=e;return t===a});return e?{size:e,upload:l}:{size:l,upload:l}}}return{size:null,upload:null}}function d(e){if(!e)return[];return(Array.isArray(e)?e:[e]).filter(e=>e)}function m(e){return e.startsWith(s.a.media_url)}function p(e){return/^[a-z][a-z\d+.-]*:/.test(e)}function b(e){return e?p(e)?e:l.a.resolve(s.a.media_url,e):null}function g(e){return e?e.startsWith(s.a.media_url)?e.slice(s.a.media_url.length+1):e:null}function f(e,t){e=d(e),t=d(t);return{remove:e.filter(e=>!t.includes(e)),keep:t.filter(t=>!e.includes(t))}}function h(e,t){const a=e.match(/^(.*)\.([^.]+)$/);return a?`${a[1]}${t}.${a[2]}`:e}function v(e){if(!e)return e;return new URL(e,s.a.media_url).href}function y(e,t){if(!e)return e;const a=new URL(e,s.a.media_url);return a.pathname="/thumbnails/"+(t+a.pathname),a.href}function E(e){return y(e,"product_cover")}},pPyN:function(e,t,a){"use strict";var n=a("ERkP"),r=a.n(n),l=a("O94r"),o=a.n(l),s=a("2JL+"),i=a.n(s);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const u=e=>{let{className:t,hasError:a,children:n,...l}=e;return r.a.createElement("label",c({className:o()(i.a.root,t)},l),n)};u.defaultProps={hasError:!1},t.a=u},pQvG:function(e,t,a){"use strict";function n(e,t){if("object"==typeof e){const a={};for(const[r,l]of Object.entries(e))a[r]=n(l,t);return a}if("function"==typeof e)return function(e,t){return function(){return t(e(...arguments))}}(e,t);throw new Error("Invalid actionCreators type")}a.d(t,"a",(function(){return n}))},pc3S:function(e,t,a){e.exports={root:"_2PicVc77",divider:"_11Ltk0NV",knob:"pe0UrTnD",thumbnail:"_2RLPpRVL",meta:"_1pXqwgJ3",title:"_2iQgMPKi",details:"_2hortw66",row:"_2MV4pe0_",quantity:"wagYKdEI",quantityText:"_1-6wq3qc",price:"_1MHIiJcR",subTotal:"_4P9MmlUh",list:"_18eiWfNJ"}},piMj:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var n=a("eIpD"),r=a.n(n),l=a("OqJV"),o=a.n(l),s=a("O94r"),i=a.n(s),c=a("ERkP"),u=a.n(c),d=a("zCf4"),m=a("daAW"),p=a("MhLP"),b=a("9j0U"),g=a("dZYv"),f=a("dTSm"),h=a("msrH"),v=a("bjXo"),y=a("JoJJ"),E=a("IGmO"),O=a.n(E);function j(e){let{children:t,itemClassName:a}=e;return u.a.createElement("ul",{className:O.a.root},u.a.Children.map(t,(e,t)=>u.a.createElement("li",{key:t,className:a},e)))}var k=a("0FM3"),w=a("IfCt"),C=a.n(w);const _=e=>{let{workspaceId:t,websiteId:a,collection:n}=e;const l=Object(d.g)(),{style:s}=Object(v.a)(),{generateUrl:E}=Object(b.a)(),[{next:O,results:w},_]=Object(c.useState)({next:null,results:[]}),P=E("../.."),[{loading:x},S]=o()(async(e,r)=>{const l=await g.a.list(t,{next:e,collection:n._id,website:a,published:!0});_(e=>({...l,results:r?l.results:e.results.concat(l.results)}))},[t,a,n._id]),N=Object(c.useCallback)(()=>l.push(P),[P]),I=Object(c.useCallback)(()=>S(O),[O,S]);return r()(()=>{(async()=>{await S(null,!0)})()},[n,S]),u.a.createElement(y.a,{overlay:!0,title:n.default?Object(p.a)("all_products"):n.name,onClose:N},u.a.createElement("div",{className:C.a.content},w.length>0&&u.a.createElement(j,{itemClassName:C.a.animated},w.map(e=>u.a.createElement(h.a,{key:e._id,product:e,tag:m.b,to:{pathname:E(`../../c/${n.slug}/p/${e.slug}`),state:{fromCollection:n._id}},themeStyles:s}))),x?u.a.createElement(f.a,null):!!O&&u.a.createElement("div",{className:i()(C.a.moreBtnContainer,C.a.animated)},u.a.createElement(k.a,{className:C.a.moreBtn,style:s,onClick:I,disabled:x}))))}},prrS:function(e,t,a){e.exports={wrapper:"_2TEvBb9S",adaptive:"_3jjcsUO5",root:"x8lss7pU",hasIcon:"_3lmsgx9c",full:"_39v5Juk9",icon:"_2QczwnR-",content:"_3Q6t7jnv",subTitle:"_1b3GvvO4"}},"q0/i":function(e,t,a){"use strict";a.d(t,"a",(function(){return $})),a.d(t,"b",(function(){return K}));var n=a("3pNR"),r=a("T8kG"),l=a("ERkP"),o=a.n(l),s=a("MhLP"),i=a("bjXo"),c=a("c9JU");var u=a("XZwl"),d=a.n(u),m=a("NunO"),p=a("XV5G"),b=a("79Bz"),g=a("vVOL"),f=a("JoJJ"),h=a("NAgK"),v=a.n(h),y=a("//nZ"),E=a.n(y),O=a("2g66"),j=a.n(O),k=a("mSsh"),w=a("9nPs"),C=a("3w6v");function _(){return(_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const P=e=>{var t,a;let{provider:n,...r}=e;const{isSingular:l}=Object(g.b)(),{contentStyle:u}=Object(i.a)(),d=(null===(t=b.a[n])||void 0===t?void 0:t.label)||n,m=null===(a=b.a[n])||void 0===a?void 0:a.icon;return o.a.createElement(c.a,_({fullWidth:!0,tag:"button",type:"submit",beforeIcon:m&&o.a.createElement(m,{size:24}),theme:u,contentAlignLeft:!0},r),Object(s.a)(l?"pay":"payWith",{provider:d}))};var x=a("cpbF"),S=a.n(x);const N={hidePostalCode:!0,iconStyle:"solid",classes:{base:S.a.cardBase,webkitAutofill:S.a.cardAutofill}};var I=function(e){let{orderId:t,disabled:a,onPay:n}=e;const r=Object(m.useStripe)(),s=Object(m.useElements)(),i=Object(w.b)(),c=j()(),u=Object(C.a)(),[d,p]=Object(l.useState)(!1),[b,g]=Object(l.useState)(!1),[f,h]=Object(l.useState)(!0),[y,O]=Object(l.useState)(null),{style:_,options:x}=Object(l.useMemo)(()=>({options:{...N,disabled:b||d,style:{base:{iconColor:u.input.color,color:u.input.color,"::placeholder":E()(u.input,["backgroundColor","color"]),"::selection":{backgroundColor:"currentColor"},":-webkit-autofill":{color:u.input.color}}}},style:{...u.input,overflow:"hidden"}}),[b,d,u.input]),{value:S}=v()(async()=>(await i.orders.signatures.createStripePaymentIntent({orderId:t})).clientSecret,[t]),I=b||f||d||a||!S,T=Object(l.useCallback)(async e=>{e.preventDefault(),g(!0);try{const e=await r.confirmCardPayment(S,{payment_method:{card:s.getElement(m.CardElement)}});O(e.error?"Payment failed "+e.error.message:null),e.error||(p(!0),n("stripe",e))}finally{c()&&g(!1)}},[r,s,S,n]),M=Object(l.useCallback)(async e=>{h(e.empty||!!e.error),O(e.error?e.error.message:"")});return o.a.createElement("form",{onSubmit:T},o.a.createElement("div",{style:_},o.a.createElement(m.CardElement,{onChange:M,options:x})),y&&o.a.createElement(k.a,{error:y,shake:!0,errorStyle:u.error}),o.a.createElement(P,{disabled:I,provider:"stripe",style:{marginTop:16},contentAlignLeft:!1}))};var T=a("KTpA"),M=a("/7Un"),L=a("wlWQ"),B=a.n(L);var F=a("eSoL");const R={merchantDomainName:document.location.hostname,orderPaymentTimeout:0};function A(e){let{merchantAccount:t,merchantDomainName:a,orderReference:n,orderDate:r,amount:s,currency:i,products:c,returnUrl:u,serviceUrl:d,createSignature:m,orderPaymentTimeout:p,disabled:b}=e;const g=Object(l.useMemo)(()=>c.map(e=>{let{name:t}=e;return t}),[c]),f=Object(l.useMemo)(()=>c.map(e=>{let{price:t}=e;return t}),[c]),h=Object(l.useMemo)(()=>c.map(e=>{let{count:t}=e;return t}),[c]),[v,y]=Object(l.useState)(""),[E,O]=Object(l.useState)(!0),j=E||b;return Object(l.useEffect)(()=>{!async function(){if(!b){O(!0);try{const e=await m({merchantAccount:t,merchantDomainName:a,orderReference:n,orderDate:r,amount:s,currency:i,productName:g,productPrice:f,productCount:h});y(e.merchantSignature)}finally{O(!1)}}}()},[t,a,n,r,s,i,g,f,h,m]),o.a.createElement("form",{method:"POST",action:"https://secure.wayforpay.com/pay"},o.a.createElement("input",{type:"hidden",name:"merchantAccount",value:t}),o.a.createElement("input",{type:"hidden",name:"merchantDomainName",value:a}),o.a.createElement("input",{type:"hidden",name:"merchantSignature",value:v}),o.a.createElement("input",{type:"hidden",name:"merchantTransactionType",value:"AUTO"}),o.a.createElement("input",{type:"hidden",name:"merchantTransactionSecureType",value:"AUTO"}),o.a.createElement("input",{type:"hidden",name:"orderReference",value:n}),o.a.createElement("input",{type:"hidden",name:"orderDate",value:r}),o.a.createElement("input",{type:"hidden",name:"amount",value:s}),o.a.createElement("input",{type:"hidden",name:"currency",value:i}),o.a.createElement("input",{type:"hidden",name:"orderTimeout",value:p}),o.a.createElement("input",{type:"hidden",name:"orderLifetime",value:p}),g.map((e,t)=>o.a.createElement(l.Fragment,{key:t},o.a.createElement("input",{type:"hidden",name:"productName[]",value:e}))),f.map((e,t)=>o.a.createElement(l.Fragment,{key:t},o.a.createElement("input",{type:"hidden",name:"productPrice[]",value:e}))),h.map((e,t)=>o.a.createElement(l.Fragment,{key:t},o.a.createElement("input",{type:"hidden",name:"productCount[]",value:e}))),u&&o.a.createElement("input",{type:"hidden",name:"returnUrl",value:u}),d&&o.a.createElement("input",{type:"hidden",name:"serviceUrl",value:d}),o.a.createElement(P,{disabled:j,provider:"wayforpay"}))}A.defaultProps=R;var U=A;function z(e){let{name:t,price:a,quantity:n}=e;return{name:t,price:a.amount,count:n}}function D(e){let{merchantLogin:t,invId:a,outSum:n,outSumCurrency:r,createSignature:s,disabled:i,isTest:c}=e;const[u,d]=Object(l.useState)(""),[m,p]=Object(l.useState)(!0),b=m||i;return Object(l.useEffect)(()=>{!async function(){p(!0);try{const e=await s({});d(e.signature)}finally{p(!1)}}()},[]),o.a.createElement("form",{method:"POST",action:"https://auth.robokassa.ru/Merchant/Index.aspx"},o.a.createElement("input",{type:"hidden",name:"MerchantLogin",value:t}),o.a.createElement("input",{type:"hidden",name:"InvId",value:a}),o.a.createElement("input",{type:"hidden",name:"SignatureValue",value:u}),o.a.createElement("input",{type:"hidden",name:"OutSum",value:n}),o.a.createElement("input",{type:"hidden",name:"OutSumCurrency",value:r}),c&&o.a.createElement("input",{type:"hidden",name:"IsTest",value:"1"}),o.a.createElement(P,{disabled:b,provider:"robokassa"}))}D.defaultProps={outSumCurrency:"RUB",isTest:!1};var W=D;var V=a("+1Gz");const q={action:"pay"};function H(e){let{publicKey:t,action:a,amount:n,currency:r,description:s,orderId:i,createSignature:c,resultUrl:u,serverUrl:d,disabled:m}=e;const[p,b]=Object(l.useState)(!0),[g,f]=Object(l.useState)(""),h=p||m,v=Object(l.useMemo)(()=>{const e={public_key:t,version:3,action:a,amount:n,currency:r,description:s,order_id:i};return u&&(e.result_url=u),d&&(e.server_url=d),Object(V.a)(JSON.stringify(e))},[t,a,n,r,s,i]);return Object(l.useEffect)(()=>{!async function(){if(!m){b(!0);try{const e=await c({data:v});f(e.signature)}finally{b(!1)}}}()},[v]),o.a.createElement("form",{method:"POST",action:"https://www.liqpay.ua/api/3/checkout"},o.a.createElement("input",{type:"hidden",name:"data",value:v}),o.a.createElement("input",{type:"hidden",name:"signature",value:g}),o.a.createElement(P,{disabled:h,provider:"liqpay"}))}H.defaultProps=q;var G=H;const $=[{provider:"cod",icon:n.hb},{provider:"paypal",icon:r.B},{provider:"stripe",icon:r.M},{provider:"wayforpay",icon:r.z},{provider:"liqpay",icon:n.r}],K={cod:function(e){let{disabled:t,onPay:a}=e;const{contentStyle:n}=Object(i.a)(),r=Object(l.useCallback)(()=>a("cod"),[a]);return o.a.createElement(c.a,{fullWidth:!0,theme:n,disabled:t,onClick:r},Object(s.a)("make_order"))},stripe:function(e){let{order:t,disabled:a,onPay:n}=e;const{icon:r,label:u}=b.a.stripe,{payments:h,isSingularOnline:v}=Object(g.b)(),{contentStyle:y}=Object(i.a)(),[E,O]=d()(!1),j=Object(l.useMemo)(()=>Object(p.loadStripe)(h.stripe.publicKey),[h.stripe.publicKey]),k=o.a.createElement(m.Elements,{stripe:j},o.a.createElement(I,{orderId:t._id,disabled:a,onPay:n}));return v?k:o.a.createElement(c.a,{fullWidth:!0,beforeIcon:o.a.createElement(r,{size:24}),theme:y,disabled:a,onClick:O,contentAlignLeft:!0},Object(s.a)("payWith",{provider:u}),E&&o.a.createElement(f.a,{compact:!0,overlay:!0,padding:!0,title:u,onClose:O},k))},paypal:function(e){let{order:{total:t,items:a,contactInfo:{firstName:n,lastName:r}},disabled:u,onPay:d}=e;const{icon:m,label:p,supported_currencies:g}=b.a.paypal,{payments:f}=Object(M.a)(),{contentStyle:h}=Object(i.a)(),v=g.includes(t.currency),y=Object(l.useCallback)((e,l)=>l.order.create({purchase_units:[{amount:{currency_code:t.currency,value:t.amount,breakdown:{item_total:{currency_code:t.currency,value:t.amount}}},payer:{name:{given_name:n,surname:r}},items:a.map(e=>{let{name:t,price:a,quantity:n}=e;return{name:t,unit_amount:{currency_code:a.currency,value:a.amount},quantity:n}})}]}),[t]),E=Object(l.useCallback)(async(e,t)=>{const a=await t.order.capture();await d("paypal",a)},[d]);return o.a.createElement("div",{className:B.a.root},o.a.createElement(c.a,{fullWidth:!0,beforeIcon:o.a.createElement(m,{size:24}),theme:h,disabled:u||!v,className:B.a.overlapButton,contentAlignLeft:!0},Object(s.a)("payWith",{provider:p})),v&&o.a.createElement(T.b,{options:{"client-id":f.paypal.clientId,currency:t.currency}},o.a.createElement(T.a,{style:{layout:"horizontal",tagline:!1},disabled:u,createOrder:y,onApprove:E})))},wayforpay:function(e){let{order:t,disabled:a}=e;const{finalUrl:n}=Object(F.c)(),{payments:r}=Object(M.a)(),s=Object(w.b)(),i=`${t._id}_uniq${Math.floor(1e5*Math.random())}`,c=Object(l.useMemo)(()=>Math.round(Date.now()/1e3),[]),u=Object(l.useMemo)(()=>t.items.map(z),[t]),d=Object(l.useCallback)(e=>s.orders.signatures.createWayforpaySignature({orderId:t._id,payload:e}),[t._id]),m=w.a.getWayforpayCallback(t);return o.a.createElement(U,{merchantAccount:r.wayforpay.merchantAccount,merchantDomainName:n,orderReference:i,orderDate:c,amount:t.total.amount,currency:t.total.currency,products:u,createSignature:d,returnUrl:m,disabled:a})},robokassa:function(e){let{order:t,disabled:a}=e;const n=Object(w.b)(),{payments:{robokassa:{merchantLogin:r,test:s}}}=Object(M.a)(),i=Object(l.useCallback)(e=>n.orders.signatures.createRobokassaSignature({orderId:t._id,payload:e}),[t._id]);return o.a.createElement(W,{merchantLogin:r,outSum:t.total.amount,outSumCurrency:t.total.currency,invId:t._id,createSignature:i,disabled:a,isTest:s})},liqpay:function(e){let{order:t,disabled:a}=e;const n=Object(w.b)(),r=`${t._id}_uniq${Math.floor(1e5*Math.random())}`,{payments:i}=Object(M.a)(),{finalUrl:c}=Object(F.c)(),u=`${Object(s.a)("payment_for_order")}${t._id}:\n\n${t.items.map((e,t)=>`${t+1}. ${e.name} ${e.quantity}x${e.price.amount}${e.price.currency}\n`).join("")}\n\n${c}`,{successUrl:d,serverUrl:m}=Object(l.useMemo)(()=>({successUrl:document.location.href,serverUrl:w.a.getLiqPayCallback(t)}),[t]),p=Object(l.useCallback)(e=>n.orders.signatures.createLiqpaySignature({orderId:t._id,payload:e}),[t._id]);return o.a.createElement(G,{publicKey:i.liqpay.publicKey,amount:t.total.amount,currency:t.total.currency,orderId:r,description:u,createSignature:p,resultUrl:d,serverUrl:m,disabled:a})},other:function(e){let{order:t,disabled:a,onPay:n}=e;const{payments:r}=Object(M.a)(),{contentStyle:u}=Object(i.a)(),[m,p]=d()(),b=Object(l.useCallback)(()=>n("other"),[n]),g=Object(l.useCallback)(()=>{r.other.instructions?p(!0):b()},[r.other.instructions,p]);return o.a.createElement("div",null,o.a.createElement(c.a,{fullWidth:!0,theme:u,disabled:a,onClick:g},Object(s.a)("make_order")),m&&o.a.createElement(f.a,{compact:!0,overlay:!0,padding:!0,title:Object(s.a)("payments_instructions"),onClose:p},e=>o.a.createElement("div",null,o.a.createElement("div",{style:{whiteSpace:"pre-wrap"}},r.other.instructions),o.a.createElement(c.a,{fullWidth:!0,theme:u,disabled:a,onClick:e},Object(s.a)("make_order")))))}}},qDrI:function(e,t,a){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e){let t=[];for(let a in e)if(n(e,a)){const n=[a,e[a]].join("=");t.push(n)}return t.length>0?"?"+t.join("&"):""}a.d(t,"a",(function(){return r})),r.parse=function(e){const t=(e||"").replace("?","").split("&"),a={};for(const e of t){const t=e.replace(/\+/g,"%20"),r=t.indexOf("=");if(r<=0)continue;const l=decodeURIComponent(t.slice(0,r)),o=decodeURIComponent(t.slice(r+1));n(a,l)?Array.isArray(a[l])?a[l].push(o):a[l]=[a[l],o]:a[l]=o}return a}},qkvy:function(e,t,a){e.exports={root:"_1Z4CqDty",simple:"_35rl3rsh",transparent:"_34PBjcDl",primary:"_5M6JiL2Q",primary2:"_3AA1hWK-",secondary:"_16A5-D4H",danger:"_2Oky2ox1"}},"r6E+":function(e,t,a){e.exports={"label-container":"lue0-8ZD",labelContainer:"lue0-8ZD"}},rIDk:function(e,t,a){e.exports={root:"_3NUWm1xB",fetching:"_1h3RmWoN",list:"oD0idhOc",listItem:"bAj3E68o",info:"_1v8qiP73",label:"_2-fuAgBq",draggable:"Phh1NIGU",fixed:"_3JzdeJQa",hiddenItem:"_2reQVNc2",status:"_2AC6P0Rg",active:"_3Hd0Q87o",sortable:"_2ZVoelcP",sortableList:"_2LD8_Gj5",isFetching:"_2R0Ecjja",counter:"Epixz8AL"}},rKKn:function(e,t,a){e.exports={root:"_3iks54f8"}},rVdS:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("ERkP"),r=a.n(n),l=a("K1Ij"),o=a("dB7f"),s=a("0MFu");function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function c(e){let{glyph:t,size:a,...n}=e;const{getMediaSizeUrl:c}=Object(s.b)();return"icon"===t.type&&t.icon?r.a.createElement(l.a,i({name:t.icon,size:a},n)):"emoticon"===t.type&&t.text?r.a.createElement("div",i({},n,{role:"img",style:{textAlign:"center",width:a,height:a,fontSize:a,lineHeight:a+"px",...n.style}}),t.text):r.a.createElement(o.a,i({},n,{url:c(t.url,s.a.Icon),style:{width:a,height:a,...n.style}}))}c.defaultProps={size:16,glyph:{type:"image"}}},s6AY:function(e,t,a){e.exports={root:"CvxGAnRz",button:"_3ywk9jzp",disabled:"_3S60MF2Z"}},sMkB:function(e,t,a){e.exports={root:"_2zcXji7G",iconBtn:"_3pcYFQb1",icon:"Csb6JVR1",header:"_17L3YgbF",title:"t2c2J_fQ"}},sfid:function(e,t,a){"use strict";class n{constructor(e,t,a){this.uid=e,this.history=t,this.process=a}check(e,t){if(!this.forbid||this.forbid(e,t,this.history.location))return!1}when(e){return this.forbid=e,this}}t.a=new class{constructor(){this.off=null,this.observers={}}subscribe(e,t,a){return this.off||(this.off=e.block((e,t)=>{for(const[a,n]of Object.entries(this.observers))if(!1===n.check(e,t))return a})),this.observers[t]=new n(t,e,a)}unsubscribe(e){this.observers[e]&&(delete this.observers[e],Object.keys(this.observers).length||(this.off(),this.off=null))}notify(e,t){const a=this.observers[e];return a&&a.process(t),!!a}}},sjmd:function(e,t,a){e.exports={root:"_3INgYZFu",actions:"_3djZJ_fc",button:"GdGN0gFp",remove:"_1eSDrYca",fileInput:"_3O1jTm_S",spinner:"_2sS_hO5M",label:"_2e0utCZw"}},svKm:function(e,t,a){e.exports={root:"_3XF3osZx",disabled:"_3L9DUCw4"}},t4dI:function(e,t,a){"use strict";var n=a("pFSi"),r=a.n(n);const l=new Map([["USD","en-US"],["EUR","de-DE"]]),o=r()((e,t)=>(l.has(t)&&(e=l.get(t)),new Intl.NumberFormat(e,{style:"currency",currency:t,currencyDisplay:l.has(t)?"symbol":"code",minimumFractionDigits:0,useGrouping:!1})),(e,t)=>`${e}${t}`);t.a=(e,t,a)=>o(a,t).format(e)},t9yd:function(e,t,a){e.exports={qr:"_3jQcKKci",revealQr:"_1ZeKdbe-",qrWrapper:"_3erLff3x",spinnerContainer:"_1eJwtU-E",tip:"_1EjnlZRX",button:"_2Ioifm9a",revealOpacity:"_2guycJdI"}},tGol:function(e,t,a){e.exports={root:"_3G4Llwoq",slide:"_1WQBF0rz"}},tVV1:function(e,t,a){e.exports={root:"_39nqB4c7",addButton:"_1RKa0fzY",row:"_3eTFNHSG",item:"_3SofiNEf",drag:"_3qyUIwh-",itemContainer:"_3nTJgUll",itemContentWrapper:"_3ufT8Vq1",itemContent:"_3QWRo7vN",itemText:"EM3_pAss",saveButton:"lgTsfL3y",moreContainer:"GHUkJFHp",actionsContainer:"_34WYaIJF",actionsList:"mI61yZk8",actionItem:"Ot8PSaNu",actionButton:"_3EPiPWPd",modalText:"_35yd6RUf",modalButton:"_2LxoxfS0"}},tky1:function(e,t,a){e.exports={root:"_3zZZgyZF",item:"_3odGHXg7"}},tt3H:function(e,t,a){e.exports={error:"_ZgG8O_N",loadingContainer:"_1N4cTgSg",order:"_1oVRZJUG",orderList:"_3Qr2n0PX"}},ty7O:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("/QEg"),r=a.n(n),l=a("Niah"),o=a.n(l),s=a("ERkP"),i=a("80Pf");const c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"li";const a=Object(i.a)(),n=Object(s.useRef)(null),[l,c]=Object(s.useState)(0),[u,{width:d}]=o()(),{x:m}=r()(n),p=n.current&&n.current.scrollWidth||d,b=a&&p>d,g=b&&m>0,f=b&&m+d<p-1,h=Object(s.useCallback)(a=>{if(a<0||a>e-1)return;const r=n.current.parentElement.clientWidth,l=Array.from(n.current.querySelectorAll(t));let o=0;for(let e=0;e<a;e++)o+=l[e].clientWidth+8;n.current.scrollLeft=o-(r-32)/2+l[a].clientWidth/2-4,c(a)},[e,l,p]),v=Object(s.useCallback)(()=>h(l-1),[h]),y=Object(s.useCallback)(()=>h(l+1),[h]);return{root:u,hasLeftBtn:g,moveLeft:v,list:n,hasRightBtn:f,moveRight:y,moveTo:h,currentIndex:l}}},u3rw:function(e,t,a){e.exports={root:"MQMjD96o",disabled:"_1qTtAA-6",noPadding:"IFS1VX-b",productRoot:"_12eKerRI",title:"_1LqHKuNG",thumbnail:"_2pGvrq1m",emptyPlaceholder:"_3oZMZuVu",meta:"eaBDyCVW",price:"_3b49TXTR",discountPrice:"YZX7Kt4R",lineThrough:"_1YuBsMgK",status:"_1M5qQKcF",published:"_3Bo50-sN",notes:"cQOFY5RO",columns:"gZZGMBPX"}},uYSu:function(e,t,a){"use strict";a.d(t,"a",(function(){return E})),a.d(t,"b",(function(){return O})),a.d(t,"c",(function(){return j}));var n=a("pFSi"),r=a.n(n),l=a("aWzz"),o=a.n(l),s=a("ERkP"),i=a("QwRn"),c=a("OdJe");const u=e=>"object"==typeof e?`${e.top||0}px ${e.right||0}px ${e.bottom||0}px ${e.left||0}px`:e,d=e=>{const t=typeof e;return e&&"object"===t?{top:"number"==typeof e.top?e.top:0,right:"number"==typeof e.right?e.right:0,bottom:"number"==typeof e.bottom?e.bottom:0,left:"number"==typeof e.left?e.left:0}:"number"===t?{top:e,right:e,bottom:e,left:e}:{top:0,right:0,bottom:0,left:0}},m=e=>{if(e&&"object"==typeof e){const{top:t,bottom:a}=d(e);return{top:t||0,bottom:a||0}}return{top:e||0,bottom:e||0}},p={margin:16,padding:0},b={margin:8,padding:0},g={padding:0,margin:{right:16,bottom:16,left:16,top:-16}},f={padding:0,margin:{right:16,bottom:16,left:16,top:0}},h={padding:0,margin:{right:16,bottom:16,left:16,top:60}},v={padding:0,margin:{right:16,bottom:16,left:16,top:-8}},y=r()((e,t)=>({padding:p.padding,margin:{top:e?-16:0,bottom:t?-16:0}}),(e,t)=>`${+e}${+t}`),E={identityInsets:{margin:0,padding:0},normalInsets:p,fullPull:-16,halfPull:-8,custom:b,fullPullDynamic:y,fullPullTop:g,halfPullTop:v,flushTop:f,resolveInsets:(e,t)=>null==e?t:t?{margin:e.margin&&u(e.margin),padding:e.padding&&u(e.padding),...t}:{margin:e.margin&&u(e.margin),padding:e.padding&&u(e.padding)},unpackInsets:d,removeHorizontalInsets:m,removeVerticalInsets:e=>{if(e&&"object"==typeof e){const{left:t,right:a}=d(e);return{left:t||0,right:a||0}}return{left:e||0,right:e||0}},computeComponentInsets:(e,t,a,n)=>{switch(t.kind){case i.i:{const e=0===a;if(e){return e&&"avatar"===((e,t)=>c.a.resolve("blocks."+t.kind.toLowerCase(),e,t.theme))(n,t).headerMode?h:f}break}case i.d:return b;case i.f:{var r,l;const t=null===(r=e[a-1])||void 0===r?void 0:r.kind,n=null===(l=e[a+1])||void 0===l?void 0:l.kind,o=0===a,s=e.length-1===a;return y(!(o||t===i.f),!(s||n===i.f||n===i.i))}case i.u:var o;if((null===(o=e[a-1])||void 0===o?void 0:o.kind)===i.j)return g;break;case i.m:var s;if((null===(s=e[a-1])||void 0===s?void 0:s.kind)===i.m)return v;break}return p}};function O(e,t){return Object(s.useMemo)(()=>t?e:{padding:e.padding,margin:m(e.margin)},[t,e])}function j(e,t){return Object(s.useMemo)(()=>{const a=E.unpackInsets(e.margin).left,n=t?a/2:0;return{margin:n,resolvedInsets:{margin:{top:a,bottom:a},padding:{left:n,right:n}}}},[t,e.margin])}o.a.oneOfType([o.a.number,o.a.shape({top:o.a.number,bottom:o.a.number,left:o.a.number,right:o.a.number})])},uZG2:function(e,t,a){e.exports={root:"_3yS9PMT4",blue:"_1UWQDCCB",green:"_22ecWWMw",red:"QekMGuCF"}},ubrP:function(e,t,a){e.exports={root:"_1xKHz1mn"}},ugfU:function(e,t,a){e.exports={root:"_3irqAozH",messenger:"_3C4GYu6A",whatsapp:"_3t8n1bki",telegram:"-IHffhAQ",vk:"_1uGsDD_F",skype:"_3vh7h17E",viber:"_3n-BmEBD",instagram:"kGtfzqAI",compact:"YhYD8TUb",notFirst:"_3Xw5QvOX",notLast:"_20vSCNIf",beefy:"_2H0CzqQN",list:"_1kMyWWlx",splitter:"_2DtCItGe",themeColors:"_3Ieodi2H"}},"uh+q":function(e,t,a){e.exports={root:"_3RQTgEga",header:"eYfnD7Qp",tabs:"_3pvLKSCq",tabsSelector:"_1gctwvDh",tab:"_3AG_1YkC",active:"_1pyRDrs9",slider:"_2rhS5npw",swiper:"XnK-brMv",slideContent:"_1NGcdgKg",slideWrapper:"_2L0kJb98",pageWrapper:"_14tccm6E",page:"_1EKjNK07",footer:"_1g2O-c6c",button:"_2F1e03oZ"}},uqVd:function(e,t,a){e.exports={root:"_1x7xZ_dT",steady:"_2u7ivEvs",icon:"_2TOgqJAw",badge:"-QgDZKNs"}},v7Kt:function(e,t,a){e.exports={container:"_2H90UbOK",saturationPicker:"n8PPpeb_",verticalPicker:"_2-qbVlTi",inputContainer:"_1P12v313"}},vCv2:function(e,t,a){e.exports={root:"_1MqcH2tW"}},vOyp:function(e,t,a){e.exports={root:"_1YUic6oE",heading:"_2lQi6yOI",list:"_12E27DJF"}},vVOL:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return s}));var n=a("ERkP"),r=a("/7Un");const l=["cod","other","transfer"],o=e=>!l.includes(e),s=()=>{const{payments:e}=Object(r.a)();return Object(n.useMemo)(()=>{const t=Object.entries(e||{}).filter(e=>{let[,t]=e;return t.enabled}),a=[],n=[];for(const e of t)o(e[0])?n.push(e):a.push(e);return{payments:e,providers:t,immediate:a,online:n,isSingular:t.length<=1,isSingularOnline:n.length<=1}},[e])}},vlqj:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));const n=e=>!!e&&"object"==typeof e,r=e=>l(Array.isArray(e)?[]:{},e),l=(e,t)=>{const a=Array.isArray(t);return a!==Array.isArray(e)&&t&&e?n(t)?r(t):t:a?(e=>e.map(e=>n(e)?r(e):e))(t):((e,t)=>{const a={};return n(e)&&Object.keys(e).forEach(t=>{const l=e[t];a[t]=n(l)?r(l):l}),t&&Object.keys(t).forEach(o=>{const s=t[o],i=n(s);i&&e[o]?a[o]=l(e[o],s):a[o]=i?r(s):s}),a})(e,t)}},vqtJ:function(e,t,a){e.exports={orBar:"I9GCJVFZ",choices:"_3FZuO9Xa",choice:"_2KPrSzbR",choiceWrapper:"puqjmZwi",choiceContent:"_2HwS7Fef",paymentButtons:"_2JuR0Wex"}},vrKG:function(e,t,a){e.exports={root:"_3MdFRayX",disabled:"_3z2cvCUw",separator:"_3ndBqt4k"}},vvHm:function(e,t,a){e.exports={root:"M-bU42Cz",button:"YC4yCHFR"}},vxJK:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("ERkP"),r=a("w8s/");function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const a=Object(r.a)(e,t);return Object(n.useEffect)(()=>{a.run()},t),a}},"w/pt":function(e,t,a){e.exports={container:"h0G0kwGs",root:"_1rkbENPX",counter:"_15XvTvdq",error:"dq0lq9WE","padding-right":"_3SI5kri3",paddingRight:"_3SI5kri3",builderInput:"_2_-H8a9x",normal:"_1ZNfbSOI"}},"w8s/":function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a("2srY"),r=a.n(n),l=a("2g66"),o=a.n(l),s=a("ERkP"),i=a("BqG0");let c=0;const u={pending:!1,fulfilled:!1,rejected:!1,error:null,result:null},d={...u,requestId:-1,requestCount:0};function m(e,t){let{type:a,requestId:n,...r}=t;if(e.requestId>n)return e;switch(a){case"pending":return{...e,...u,requestId:n,pending:!0,requestCount:e.requestCount+1};case"fulfilled":return{...e,...u,requestId:n,fulfilled:!0,result:r.result};case"rejected":return{...e,...u,requestId:n,rejected:!0,error:r.error};default:throw new Error}}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const a=Object(s.useRef)(e),n=o()(),[l,u]=Object(s.useReducer)(m,d);a.current=e;const p=Object(s.useCallback)((async function(){function e(){n()&&u(...arguments)}const t=c++;e({type:"pending",requestId:t});try{e({type:"fulfilled",requestId:t,result:await a.current(...arguments)})}catch(a){e({type:"rejected",requestId:t,error:a})}}),t);return Object(s.useMemo)(()=>{const e=i.f.is(l.error)?l.error.errors:{};return{...l,validationErrors:e,getValidationError:t=>r()(e,t),run:p}},[l,p])}},wAqd:function(e,t,a){e.exports={intro:"_2VOIpYXg",step:"_3hikf2Ny",stepContainer:"_1NceNUqj"}},wlWQ:function(e,t,a){e.exports={root:"_2tVVOknV",overlapButton:"_3FQSb_nc"}},wnhd:function(e,t,a){"use strict";var n=a("O94r"),r=a.n(n),l=a("ERkP"),o=a.n(l),s=a("ENGl"),i=a("QwRn"),c=a("2cVh"),u=a("ZFej"),d=a("nFWC"),m=a.n(d);function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function b(e){let{block:t,insets:a,...n}=e;const{theme:i,style:d}=Object(c.a)(t),b=Object(l.useMemo)(()=>{let e=16;switch(i.margin){case"large":e*=2;break;case"small":e=~~(e/2)}return u.a.resolveInsets({padding:{top:e,bottom:e,left:16,right:16}})},[i.margin]);return o.a.createElement(u.a,p({insets:a},Object(s.a)([m.a.root,m.a[i.template]],n)),o.a.createElement("div",{style:b},"line"===i.template&&o.a.createElement("div",{className:r()(m.a.divider,m.a[i.alignment]),style:d}),"dots"===i.template&&o.a.createElement("div",{className:r()(m.a.divider,m.a[i.size],m.a[i.alignment])},o.a.createElement("div",{style:{backgroundColor:d.backgroundColor}}),o.a.createElement("div",{style:{backgroundColor:d.backgroundColor}}),o.a.createElement("div",{style:{backgroundColor:d.backgroundColor}}))))}b.defaultProps={...u.a.defaultProps,insets:{margin:{top:-16,bottom:-16,left:0,right:0},padding:0}},b.kind=i.f;t.a=b},wqxy:function(e,t,a){e.exports={menu:"Z-4UjRgr",burger:"DzMTHHT8",menuLine:"_194vbqTI"}},x1KV:function(e,t,a){"use strict";var n=a("ERkP"),r=a.n(n),l=a("/kq6"),o=a("QwRn"),s=a("2cVh"),i=a("0MFu"),c=a("uYSu"),u=a("ZFej"),d=a("O94r"),m=a.n(d),p=a("MhLP"),b=a("ENGl"),g=a("JF+8"),f=a.n(g);function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function v(e){let{blockStyles:t,hasPadding:a,coverSrc:n,style:l,isMobileMode:o,...s}=e;return r.a.createElement("div",h({style:{borderTopLeftRadius:a?t.borderRadius:0,borderTopRightRadius:a?t.borderRadius:0,borderBottomLeftRadius:a?t.borderRadius:0,borderBottomRightRadius:a?t.borderRadius:0,backgroundColor:n?"transparent":"#ccc",...l}},Object(b.a)([f.a.root,o&&f.a.mobileMode],s)),n&&r.a.createElement("img",{src:n,alt:"Cover"}))}v.defaultProps={hasPadding:!0,style:null,coverSrc:""};var y=a("1yEr"),E=a.n(y);function O(){return(O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function j(e){let{paneColor:t,logoSrc:a,textColor:n,title:l,subtitle:o,align:s,...i}=e;const c=i.hasPadding?{borderTopLeftRadius:16,borderTopRightRadius:16,borderBottomLeftRadius:16,borderBottomRightRadius:16}:void 0;return r.a.createElement("div",{className:m()(E.a.compact,"center"===s&&E.a.center)},i.coverSrc&&r.a.createElement(v,O({style:c},i)),r.a.createElement("div",{className:m()(E.a.paneWrapper,i.coverSrc?E.a.withCover:E.a.withPadding)},"center"===s?r.a.createElement("div",{className:E.a.pane,style:{backgroundColor:t}},r.a.createElement("div",{className:E.a.logoBox,style:{backgroundColor:a?"transparent":"#ccc"}},a&&r.a.createElement("img",{src:a,alt:"Logo"})),r.a.createElement("div",{className:E.a.contentWrapper},r.a.createElement("div",{className:E.a.content,style:{color:n}},r.a.createElement("h1",null,l),r.a.createElement("p",{style:{opacity:.8}},o)))):r.a.createElement("div",{className:E.a.pane,style:{backgroundColor:t,flexDirection:"right"===s?"row-reverse":"row"}},r.a.createElement("div",{className:E.a.logoBox,style:{backgroundColor:a?"transparent":"#ccc"}},a&&r.a.createElement("img",{src:a,alt:"Logo"})),r.a.createElement("div",{className:E.a.contentWrapper},r.a.createElement("div",{className:E.a.content,style:{color:n}},r.a.createElement("h1",null,l),r.a.createElement("p",{style:{opacity:.8}},o))))))}j.defaultProps={hasPadding:!0,coverSrc:"",logoSrc:"",align:"left",paneColor:"#ffffffff",textColor:"#333333ff",title:Object(p.a)("header"),subtitle:Object(p.a)("subheader")};var k=a("FDOz"),w=a.n(k);function C(){return(C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function _(e){let{logoSrc:t,textColor:a,title:n,subtitle:l,avatarBorderColor:o,...s}=e;const i=s.hasPadding?{borderTopLeftRadius:16,borderTopRightRadius:16,borderBottomLeftRadius:"100% 80%",borderBottomRightRadius:"100% 80%"}:{borderBottomLeftRadius:"100% 80%",borderBottomRightRadius:"100% 80%"};return r.a.createElement("div",{className:w.a.centered},r.a.createElement(v,C({style:i},s)),r.a.createElement("div",{className:w.a.logoBox,style:{backgroundColor:t?"transparent":"#ccc",borderColor:o}},t&&r.a.createElement("img",{src:t,alt:"Logo"})),r.a.createElement("div",{className:w.a.content,style:{color:a}},r.a.createElement("h1",null,n),r.a.createElement("p",{style:{opacity:.8}},l)))}_.defaultProps={hasPadding:!0,coverSrc:"",logoSrc:"",textColor:"#333333ff",avatarBorderColor:"#fff",title:Object(p.a)("header"),subtitle:Object(p.a)("subheader")};var P=a("mWAZ"),x=a.n(P);function S(e){let{logoSrc:t,textColor:a,title:n,subtitle:l,align:o,avatarBorderColor:s,...i}=e;return r.a.createElement("div",{className:x.a.centered},r.a.createElement(v,i),r.a.createElement("div",{className:m()(x.a.panelWrapper,x.a.withCover,x.a[o])},r.a.createElement("div",{className:x.a.logoBox,style:{backgroundColor:t?s:"#ccc",borderColor:s}},t&&r.a.createElement("img",{src:t,alt:"Logo"})),r.a.createElement("div",{className:x.a.content,style:{color:a}},r.a.createElement("h1",null,n||Object(p.a)("header")),r.a.createElement("p",{style:{opacity:.8}},l||n?l:Object(p.a)("subheader")))))}S.defaultProps={hasPadding:!0,coverSrc:"",logoSrc:"",textColor:"#333333ff",avatarBorderColor:"#fff",title:Object(p.a)("header"),subtitle:Object(p.a)("subheader"),align:"center"};var N=a("BTiL"),I=a.n(N);function T(e){let{logoSrc:t,textColor:a,title:n,subtitle:l,avatarBorderColor:o,align:s,...i}=e;return r.a.createElement("div",Object(b.a)([I.a.root,I.a[s]],i),r.a.createElement("div",{className:I.a.logoBox,style:{backgroundColor:t?"transparent":"#ccc"}},t&&r.a.createElement("img",{src:t,alt:"Logo"})),r.a.createElement("div",{className:I.a.content,style:{color:a}},r.a.createElement("h1",null,n),r.a.createElement("p",null,l)))}function M(){return(M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function L(e){let{block:t,style:a,insets:o,isMobileMode:d,...m}=e;const{theme:p}=Object(s.b)(!1),{theme:b,style:g}=Object(s.a)(t),{getMediaSizeUrl:f}=Object(i.b)(),h=f(t.bgUrl,i.a.Large),y=f(t.logoUrl,i.a.Half),E="yes"===b.padding,O=Object(c.b)(o,E),k=Object(n.useMemo)(()=>a?{...g,...a}:g,[g,Object(l.a)(a)]);return r.a.createElement(u.a,M({style:k,insets:O},m),"image"===b.headerMode&&r.a.createElement(v,{blockStyles:g,coverSrc:h,hasPadding:E,isMobileMode:d}),"compact"===b.headerMode&&r.a.createElement(j,{isMobileMode:d,blockStyles:g,hasPadding:E,coverSrc:h,logoSrc:y,title:t.title,subtitle:t.subtitle,align:b.align,paneColor:b.paneColor,textColor:b.textColor}),"centered"===b.headerMode&&r.a.createElement(_,{isMobileMode:d,blockStyles:g,hasPadding:E,coverSrc:h,logoSrc:y,title:t.title,subtitle:t.subtitle,textColor:b.textColor,avatarBorderColor:p.backgroundColor}),"brand"===b.headerMode&&r.a.createElement(S,{isMobileMode:d,blockStyles:g,hasPadding:E,coverSrc:h,logoSrc:y,title:t.title,subtitle:t.subtitle,align:b.align,textColor:b.textColor,avatarBorderColor:p.backgroundColor}),"avatar"===b.headerMode&&r.a.createElement(T,{logoSrc:y,title:t.title,subtitle:t.subtitle,align:b.align,textColor:b.textColor,avatarBorderColor:b.textColor}))}T.defaultProps={align:"center",logoSrc:"",textColor:"#333333ff",avatarBorderColor:"#fff",title:Object(p.a)("header"),subtitle:Object(p.a)("subheader")},L.defaultProps=u.a.defaultProps,L.kind=o.i;t.a=L},xDYg:function(e,t,a){e.exports={tabs:"_2-FiuVfY",tab:"_1_WnEy8j",active:"_3b2NRUvQ"}},xHJ9:function(e,t,a){e.exports={root:"jacp6e0a",new:"_213u2oQl",processing:"_2Bf775uI",accepted:"_2Prffig9",rejected:"_2S4iY2PY"}},"xN+n":function(e,t,a){e.exports={root:"_3h6eoj_y",spinner:"_39msmrCe",rotate:"f90Uq-Cp",black:"_19DjUjKy",gray:"_2R2-xAy2",white:"_1l_dE7IM"}},xOYh:function(e,t,a){"use strict";a.d(t,"c",(function(){return I})),a.d(t,"m",(function(){return h})),a.d(t,"j",(function(){return v})),a.d(t,"k",(function(){return y})),a.d(t,"a",(function(){return E})),a.d(t,"f",(function(){return O})),a.d(t,"l",(function(){return j})),a.d(t,"n",(function(){return k})),a.d(t,"e",(function(){return w})),a.d(t,"d",(function(){return C})),a.d(t,"g",(function(){return _})),a.d(t,"b",(function(){return P})),a.d(t,"o",(function(){return x})),a.d(t,"p",(function(){return S})),a.d(t,"h",(function(){return N})),a.d(t,"i",(function(){return f}));var n=a("ERkP"),r=a.n(n),l=a("wnhd"),o=a("x1KV"),s=a("aKnd"),i=a("Fyjq"),c=a("I8l9"),u=a("cE1a"),d=a("bWUK"),m=a("nMOi"),p=a("z2P/"),b=a("QwRn");const g=e=>{let t;return new Proxy({},{get:(a,n)=>Object.assign(r.a.lazy(async()=>({default:(t||(t=await e()))[n]})),{kind:n})})},{PageProductsRouting:f,SubscriptionForm:h,Products:v,ServicesGrid:y}=g(()=>a.e(9).then(a.bind(null,"B/UF"))),{Accordion:E,Features:O,Socials:j,Timer:k,CustomCode:w,Custom:C}=g(()=>a.e(10).then(a.bind(null,"Pm8f"))),{Giphy:_,Audio:P,Video:x,VideoGallery:S,ImageGallery:N}=g(()=>Promise.all([a.e(8),a.e(11)]).then(a.bind(null,"BV/V"))),I={[b.m]:c.a,[b.u]:u.a,[b.q]:d.a,[b.n]:m.a,[b.f]:l.a,[b.i]:o.a,[b.j]:s.a,[b.o]:i.a,[b.k]:p.a,[b.t]:h,[b.p]:v,[b.r]:y,[b.b]:E,[b.g]:O,[b.s]:j,[b.v]:k,[b.e]:w,[b.d]:C,[b.h]:_,[b.c]:P,[b.w]:x,[b.x]:S,[b.l]:N}},"xm/Z":function(e,t,a){e.exports={root:"_2MGcKW5W",tabs:"kGLjFnhO",giphyComponents:"_193R-RfU",carousel:"_3kmykg82",searchInput:"_3xRAOj7j",noResults:"_3H7F71lW",giphyAttribution:"_2Xp-UaRT"}},yFxy:function(e,t,a){e.exports={root:"yMGC7ImJ",content:"_3JOFsOvJ",line:"_3padqu98",quote:"D3THfX3U",author:"_2ilMXKWk"}},yJzA:function(e,t,a){e.exports={buttonContainer:"_2RTpxikL",button:"_370qf95a",icon:"_3hxf226u",label:"f9UvLCya"}},"yO+E":function(e,t,a){e.exports={root:"GkgxEI1x",choice:"_3z9JzMKs",active:"I0XC9rKS"}},"yY2+":function(e,t,a){e.exports={label:"_2rS6Ynb8",root:"_38SQ2mL1",right:"_2xpIEyhg",inputWrapper:"_3N4r5ctM",disabled:"to1TClFe"}},ybHp:function(e,t,a){e.exports={root:"_3WoWsGlb",container:"_4JbGU2yc",withTitle:"_2tWOtU-A"}},ywyh:function(e,t,a){e.exports={root:"_308W9g85",content:"_37vdWa8s",check:"_3nvhdm5j",active:"_1VSLrfkB",disabled:"_3k7AwT7L"}},"z+0o":function(e,t,a){e.exports={root:"_1qLgWbEX",badgeTop:"_38P3Y8uM",small:"_2Vymajhu",innerLabel:"_1GgJ7Myd"}},"z2P/":function(e,t,a){"use strict";var n=a("O94r"),r=a.n(n),l=a("ERkP"),o=a.n(l),s=a("ENGl"),i=a("QwRn"),c=a("GmWt"),u=a("FErb"),d=a("2cVh"),m=a("0MFu"),p=a("mL7N"),b=a("uYSu"),g=a("ZFej"),f=a("Xxoi"),h=a.n(f);function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function y(e){let{block:t,insets:a,interactive:n,...l}=e;const{theme:i,style:f}=Object(d.a)(t),{getMediaSizeUrl:y}=Object(m.b)(),[E,O,j]=Object(c.a)(),k=y(t.url,m.a.Large),w="original"!==i.ratio,C=Object(b.b)(a,i.padding),_=n&&t.externalUrl,P=_?u.a:"div",x=n&&!t.externalUrl&&t.modal?O:null;return o.a.createElement(g.a,v({lazy:!0,insets:C},Object(s.a)([h.a.root,h.a[i.alignment]],l)),o.a.createElement("div",{className:r()(h.a.imageBlock,{[h.a.placeholder]:!k,[h.a.clickable]:!!x,[h.a[i.ratio]]:h.a[i.ratio],[h.a[i.fit]]:w&&h.a[i.fit]}),style:f},o.a.createElement(P,v({className:h.a.imageContainer},_?{href:t.externalUrl}:{}),w?o.a.createElement("div",{className:h.a.image,style:k?{backgroundImage:`url("${k}")`}:void 0,title:"Image",onClick:x}):k&&o.a.createElement("img",{onClick:x,src:k,alt:"Image"}))),E&&o.a.createElement(p.a,{activeIndex:0,images:[t],onClose:j}))}y.defaultProps=g.a.defaultProps,y.kind=i.k;t.a=y},zDYa:function(e,t,a){e.exports={fieldTip:"_2aPcg86N",list:"ehPIOLG7",statusContainer:"_1gh-JSxq",label:"DkygBPM_",status:"_1k_Fvfc-",domain:"_1iVnL6j4",statusMark:"YbOv4rw9",mark:"_2RUQsRMz",waitingSSL:"_3CgCrYjA",waitingSsl:"_3CgCrYjA",ready:"_3fzE_W1E"}},zElJ:function(e,t,a){e.exports={root:"OEKJxMts",content:"_2f8krraP",heading:"_3mIKOE61",message:"_3v-AsKrv",footer:"_19RiKLht",buttonsContainer:"_20HXIlSJ"}},zQUO:function(e,t,a){"use strict";var n=a("ERkP"),r=a("ZUB1");function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function o(e,t){return n.createElement(r.b,l({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}const s=n.forwardRef(o);t.a=s},zcZP:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("O94r"),r=a.n(n),l=a("ERkP"),o=a.n(l),s=a("i6mB"),i=a.n(s);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const u=e=>{let{color:t,inline:a,...n}=e;const l=t?{background:t}:null;return o.a.createElement("div",c({className:r()(i.a.spinnerContainer,a&&i.a.inline)},n),o.a.createElement("div",{className:i.a.loader},o.a.createElement("div",{className:r()(i.a.dot,i.a.dot1),style:l}),o.a.createElement("div",{className:r()(i.a.dot,i.a.dot2),style:l}),o.a.createElement("div",{className:r()(i.a.dot,i.a.dot3),style:l})))}}});
//# sourceMappingURL=webapp.d309b7b10da23e3421b6.js.map