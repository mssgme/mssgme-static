(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"+mqk":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s("r0ML");function r(){const[e,t]=Object(n.useState)(0),s=Object(n.useCallback)(()=>t(e=>e+1),[]);return s.count=e,s}},"+rr2":function(e,t,s){"use strict";s.r(t),s.d(t,"setAudienceFilter",(function(){return E.b})),s.d(t,"clearAudienceStore",(function(){return E.a})),s.d(t,"setFeedbackItemsFilter",(function(){return I.a})),s.d(t,"setProductsFilter",(function(){return _})),s.d(t,"clearProductsStore",(function(){return T})),s.d(t,"setProductsSubFilter",(function(){return S})),s.d(t,"clearProductsSubStore",(function(){return P})),s.d(t,"selectBot",(function(){return x})),s.d(t,"openDialogBranch",(function(){return R})),s.d(t,"setDialogPath",(function(){return A})),s.d(t,"api",(function(){return L.a})),s.d(t,"ui",(function(){return n})),s.d(t,"checkout",(function(){return r}));var n={};s.r(n),s.d(n,"toggleMobileMenu",(function(){return c})),s.d(n,"toggleStylingMode",(function(){return i})),s.d(n,"toggleMobileContainer",(function(){return o})),s.d(n,"setMessage",(function(){return u})),s.d(n,"setConversationsFilter",(function(){return l})),s.d(n,"setPagePreview",(function(){return d})),s.d(n,"setPageBlockPreview",(function(){return p})),s.d(n,"setBackTrack",(function(){return b}));var r={};s.r(r),s.d(r,"completePayment",(function(){return h})),s.d(r,"applyCoupon",(function(){return f})),s.d(r,"removeCoupon",(function(){return g})),s.d(r,"complete",(function(){return m})),s.d(r,"changeCountry",(function(){return y})),s.d(r,"applyPlan",(function(){return v})),s.d(r,"load",(function(){return w})),s.d(r,"selectPaymentMethod",(function(){return O})),s.d(r,"error",(function(){return C})),s.d(r,"reset",(function(){return k})),s.d(r,"close",(function(){return j}));var a=s("yPYI");const c=Object(a.a)("TOGGLE_MOBILE_MENU"),i=Object(a.a)("TOGGLE_STYLING_MODE"),o=Object(a.a)("TOGGLE_MOBILE_CONTAINER"),u=Object(a.a)("SET_MESSAGE"),l=Object(a.a)("SET_CONVERSATIONS_FILTER"),d=Object(a.a)("SET_PAGE_PREVIEW"),p=Object(a.a)("SET_PAGE_BLOCK_PREVIEW"),b=Object(a.a)("SET_BACK_TRACK"),h=Object(a.a)("CHECKOUT/COMPLETE_PAYMENT"),f=Object(a.a)("CHECKOUT/APPLY_COUPON"),g=Object(a.a)("CHECKOUT/REMOVE_COUPON"),m=Object(a.a)("CHECKOUT/COMPLETE_CHECKOUT"),y=Object(a.a)("CHECKOUT/CHANGE_COUNTRY"),v=Object(a.a)("CHECKOUT/APPLY_PLAN"),w=Object(a.a)("CHECKOUT/LOAD"),O=Object(a.a)("CHECKOUT/SELECT_PAYMENT_METHOD"),C=Object(a.a)("CHECKOUT/ERROR"),k=Object(a.a)("CHECKOUT/RESET"),j=Object(a.a)("CHECKOUT/CLOSE");var E=s("8hF1"),I=s("79Hl");const _=e=>({type:"SET_PRODUCTS_FILTER",payload:e}),T=()=>({type:"CLEAR_PRODUCTS_STORE"}),S=e=>({type:"SET_PRODUCTS_SUB_FILTER",payload:e}),P=()=>({type:"CLEAR_PRODUCTS_SUB_STORE"}),x=(e,t)=>({type:"SELECT_BOT",botId:e,bot:t}),R=e=>{let{parentResponseID:t,nextResponseID:s,content:n}=e;return{type:"OPEN_DIALOG_BRANCH",parentResponseID:t,nextResponseID:s,content:n}},A=e=>({type:"SET_DIALOG_PATH",path:e});var L=s("MP+E")},"/PY/":function(e,t,s){"use strict";s.d(t,"c",(function(){return i})),s.d(t,"a",(function(){return l})),s.d(t,"b",(function(){return d}));var n=s("DC3q"),r=s("0WR7"),a=s("6WZD"),c=s("FC9d");const i=(e,t,s)=>{const n=[];let a=0;switch(t.kind){case c.d:for(const{blockId:c}of t.areas){const t=e.blocks.find(Object(r.a)(c));if(t){const{processed:r,results:c}=i(e,t,s);a+=r,n.push(...c)}}}const o=s(t);return!1!==o&&(a++,o&&n.push(o)),{processed:a,results:n}},o=e=>{let{path:t}=e;const s=a.a.getRelativeUrl(t);return e=>e&&(t===e||s===a.a.getRelativeUrl(e))},u=(e,t)=>!!t(Object(n.a)(e,"seo.ogImageUrl"))||(!!t(Object(n.a)(e,"theme.page.backgroundImage"))||!!e.blocks.find(e=>{switch(e.kind){case c.k:return t(e.url);case c.l:return!!e.images.find(e=>{let{url:s}=e;return t(s)});case c.i:return t(e.bgUrl)||t(e.logoUrl);case c.g:return!!e.items.find(e=>"image"===e.glyph.type&&t(e.glyph.url));case c.r:return!!e.items.find(e=>e.photos.find(t))}})),l=(e,t)=>u(t,o(e)),d=(e,t)=>{let{pages:s,seo:n}=t;const r=o(e);if(r(n.ogImageUrl))return!0;for(const e of s)if(u(e,r))return!0}},0:function(e,t){},"07c+":function(e,t,s){"use strict";s.d(t,"a",(function(){return p}));var n=s("r0ML"),r=s.n(n),a=s("ZAuZ"),c=s("Gkiy"),i=s("6NVd"),o=s("MY/q"),u="_3JlfBHF5";function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const d={paddingLeft:10,color:"#333",marginBottom:4};function p(e){let{component:t=a.a,id:s,label:n,required:p,labelClassName:b,inputClassName:h,errorStyle:f,shakeError:g,errors:m,wrapAs:y,children:v,...w}=e;return r.a.createElement(c.a,{as:y},n&&r.a.createElement("div",{className:u},r.a.createElement(i.a,{style:w.builderInput?d:null,htmlFor:s,hasError:!!m,className:b},n," ",p&&r.a.createElement("span",null,"*"))),r.a.createElement(t,l({id:s,className:h,hasError:!!m},w)),v,m&&r.a.createElement(o.a,{error:m,errorStyle:f,shake:g}))}},"0WR7":function(e,t,s){"use strict";t.a=e=>{const t=String(e);return e=>{let{_id:s}=e;return String(s)===t}}},"1isK":function(e,t,s){"use strict";var n=s("Pc05"),r=s.n(n),a=s("r0ML"),c=s.n(a),i={root:"_3Pb-B5RH",spinner:"_2S9bt9mk",rotate:"_11rFdkOa",black:"_2du6YMP-",gray:"_20M_pSzf",white:"_3-o3pxPo"};function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const u=["%","px","pt","em"];function l(e){let{className:t,borderWidth:s,size:n,duration:u,color:l,...p}=e;const b=Object(a.useMemo)(()=>{const e=d(n);return{width:e,height:e,borderWidth:d(s||Math.round(.05*+e)),animationDuration:u+"s",WebkitAnimationDuration:u+"s",MozAnimationDuration:u+"s"}},[n,u,s]);return c.a.createElement("div",{className:r()(i.root,t)},c.a.createElement("div",o({className:r()(i.spinner,i[l]),style:b},p)))}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px";if(!e)return;const s=String(e),n=u.find(e=>s.indexOf(e)>0);return n?e:`${e}${t}`}l.defaultProps={size:40,duration:.8,color:"black"};t.a=l},"1jyU":function(e,t,s){"use strict";t.a=function(e){const t=(e||"").toLowerCase(),s=t.includes("android"),n=t.includes("blackberry"),r=/iphone|ipad|ipod/i.test(t),a=t.includes("opera mini"),c=t.includes("iemobile");return{Android:s,BlackBerry:n,iOS:r,OperaMini:a,IEMobile:c,Safari:t.includes("safari"),WebView:t.includes("wv"),isMobile:s||n||r||a||c}}},3:function(e,t,s){s("C/am"),s("NFaR"),e.exports=s("C9gN")},"3CAK":function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var n=s("r0ML"),r=s.n(n),a=s("kGuf");function c(e){let{as:t=a.a}=e;return r.a.createElement("div",{style:{width:200,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement("div",{style:{width:"100%",filter:"grayscale(1)",opacity:.1}},r.a.createElement(t,{style:{display:"block",width:"100%",height:"auto"}})))}},"3HFw":function(e,t,s){var n={"./en/ui.json":["gkvY",0],"./ru/ui.json":["AX92",1],"./uk/ui.json":["V98j",2]};function r(e){if(!s.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return s.e(t[1]).then((function(){return s.t(r,3)}))}r.keys=function(){return Object.keys(n)},r.id="3HFw",e.exports=r},"3gnH":function(e,t,s){"use strict";s.d(t,"a",(function(){return n.a})),s.d(t,"c",(function(){return O})),s.d(t,"b",(function(){return y}));var n=s("Abao"),r=s("6Nwd"),a=s("ID3L"),c=s.n(a),i=s("kkZN"),o=s("cGUp"),u=s.n(o);var l=s("KhfH"),d=s("6CMS"),p=s("zbc8"),b=s("DC3q"),h=s("Zsls"),f=s.n(h),g=s("YpKG");const m=[(e,t,s)=>{if(e instanceof Date||c.a.isMoment(e))return"remaining"===t?((e,t)=>c()(e).locale(t).fromNow())(e,s):((e,t,s)=>c()(e).locale(s).format(t))(e,t,s)},(e,t,s,n)=>{if("currency"===t)return"number"==typeof e?Object(l.a)(e,n.currency,s):Object(l.a)(e.amount,e.currency,s)},(e,t,s,n)=>{if("phone"===t)return Object(d.a)(e,s)},(e,t,s)=>{if("platform"===t)return Object(b.a)(p.a,e+".label",e.toUpperCase())},(e,t,s)=>{if("plan"===t)return f.a[e]?f.a[e].name:(e||"").toUpperCase()},(e,t,s)=>{if("filesize"===t)return Object(g.a)(+e)}],y=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:navigator.language,n=arguments.length>3?arguments[3]:void 0;for(const r of m){const a=r(e,t,s,n);if(void 0!==a)return a}return e},v=new class{constructor(){this.type="backend",this.resolvers={}}init(e,t,s){this.services=e,this.backendOptions=t,this.i18nextOptions=s}registerResolver(e,t){this.resolvers[e]=t}async read(e,t,s){try{const n=this.resolvers[t];if(!n)return s(new Error(`Localization resolver for namespace "${t}" not registered`),null);const r=await n(e);s(null,r.default||r)}catch(e){s(e,null)}}create(e,t,s,n){console.log(`languages=${e}, namespace=${t}, key=${s}, fallbackValue=${n}`)}};n.a.use(v).use(r.a).use(i.initReactI18next).init({fallbackLng:!1,whitelist:u.a.languages,cleanCode:!0,ns:["common"],defaultNS:"common",debug:!1,interpolation:{escapeValue:!1,format:y},react:{wait:!0,useSuspense:!1},detection:{order:["querystring","cookie","localStorage","navigator","htmlTag"],lookupQuerystring:"lang",lookupCookie:"lang",lookupLocalStorage:"lang",caches:["localStorage","cookie"]}}),n.a.on("languageChanged",e=>{c.a.locale(e)});var w=s("r0ML");function O(e,t){return Object(w.useState)(()=>v.registerResolver(e,t)),Object(i.useTranslation)(e)}},"6CMS":function(e,t,s){"use strict";s.d(t,"b",(function(){return n}));function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=e&&e.length||0;if(0===n)return"";const r=(s||e.indexOf("+")>=0?"+":"")+e.replace(/\D/g,"");return r.slice(0,t)}t.a=(e,t)=>{const s=(e||"").replace(/\D/g,"").match(/^(?:(\d*?)(\d{1,3}))?(\d{3})(\d{2})(\d{2})$/);if(s){const[,e,t,...n]=s;let r=n.join(e?" ":"-");return t&&(r=(e?t:`(${t})`)+" "+r),e&&(r=`+${e} `+r),r}return e||""}},"6NVd":function(e,t,s){"use strict";var n=s("r0ML"),r=s.n(n),a=s("Pc05"),c=s.n(a),i="_3bntFHH4";function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const u=e=>{let{className:t,hasError:s,children:n,...a}=e;return r.a.createElement("label",o({className:c()(i,t)},a),n)};u.defaultProps={hasError:!1};t.a=u},"6WZD":function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var n={};s.r(n),s.d(n,"MediaSizes",(function(){return c})),s.d(n,"resolveUploadSize",(function(){return i})),s.d(n,"resolveUpload",(function(){return o})),s.d(n,"normalizeUrls",(function(){return u})),s.d(n,"isLocal",(function(){return l})),s.d(n,"isAbsolute",(function(){return d})),s.d(n,"getAbsoluteUrl",(function(){return p})),s.d(n,"getRelativeUrl",(function(){return b})),s.d(n,"computeChanges",(function(){return h})),s.d(n,"addFilenameSuffix",(function(){return f})),s.d(n,"generateAbsoluteUrl",(function(){return g})),s.d(n,"generateThumbnailUrl",(function(){return m})),s.d(n,"generateProductThumbnailUrl",(function(){return y}));s("PZsd");var r=s("cGUp"),a=s.n(r);const c={Original:"original",Large:"medium",Half:"small",Icon:"icon"};function i(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.Original,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t)return t;const r=d(t),a=!(r&&!l(t));if(a&&s!==c.Original){const a=r?b(t):t,c=e.find(e=>{let{path:t}=e;return t===a});if(c){const e=c.metadata.sizes.find(e=>{let{type:t}=e;return t===s});if(e)return e.url}else n&&(t=f(t,"-"+s))}return r?t:p(t)}function o(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.Original;if(!t)return{size:null,upload:null};const n=d(t),r=!(n&&!l(t));if(r){const r=n?b(t):t,a=e.find(e=>{let{path:t}=e;return t===r});if(a){const e=a.metadata.sizes.find(e=>{let{type:t}=e;return t===s});return e?{size:e,upload:a}:{size:a,upload:a}}}return{size:null,upload:null}}function u(e){if(!e)return[];return(Array.isArray(e)?e:[e]).filter(e=>e)}function l(e){return e.startsWith(a.a.media_url)}function d(e){return/^[a-z][a-z\d+.-]*:/.test(e)}function p(e){return e?d(e)?e:function(e,t){const s=new URL(t,new URL(e,"resolve://"));if("resolve:"===s.protocol){const{pathname:e,search:t,hash:n}=s;return e+t+n}return s.toString()}(a.a.media_url,e):null}function b(e){return e?e.startsWith(a.a.media_url)?e.slice(a.a.media_url.length+1):e:null}function h(e,t){e=u(e),t=u(t);return{remove:e.filter(e=>!t.includes(e)),keep:t.filter(t=>!e.includes(t))}}function f(e,t){const s=e.match(/^(.*)\.([^.]+)$/);return s?`${s[1]}${t}.${s[2]}`:e}function g(e){if(!e)return e;return new URL(e,a.a.media_url).href}function m(e,t){if(!e)return e;const s=new URL(e,a.a.media_url);return s.pathname="/thumbnails/"+(t+s.pathname),s.href}function y(e){return m(e,"product_cover")}},"79Hl":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s("yPYI");const r=Object(n.a)("SET_FEEDBACK_ITEMS_FILTER")},"7Jza":function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var n=s("r0ML"),r=s.n(n);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function c(e){return r.a.createElement("svg",a({viewBox:"0 0 107 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.a.createElement("path",{d:"M49.718 14.366C49.718 13.838 49.568 13.454 49.268 13.214C48.98 12.962 48.584 12.836 48.08 12.836C47.744 12.836 47.42 12.902 47.108 13.034C46.808 13.154 46.532 13.322 46.28 13.538C46.304 13.634 46.322 13.736 46.334 13.844C46.346 13.952 46.352 14.06 46.352 14.168V19.964C46.268 20 46.148 20.03 45.992 20.054C45.836 20.09 45.674 20.108 45.506 20.108C45.158 20.108 44.9 20.042 44.732 19.91C44.564 19.778 44.48 19.556 44.48 19.244V14.366C44.48 13.838 44.33 13.454 44.03 13.214C43.73 12.962 43.328 12.836 42.824 12.836C42.488 12.836 42.17 12.89 41.87 12.998C41.57 13.106 41.318 13.226 41.114 13.358V19.964C41.03 20 40.91 20.03 40.754 20.054C40.61 20.09 40.448 20.108 40.268 20.108C39.92 20.108 39.662 20.042 39.494 19.91C39.326 19.778 39.242 19.556 39.242 19.244V13.304C39.242 13.028 39.296 12.806 39.404 12.638C39.512 12.47 39.692 12.302 39.944 12.134C40.292 11.906 40.73 11.714 41.258 11.558C41.786 11.402 42.32 11.324 42.86 11.324C43.424 11.324 43.928 11.402 44.372 11.558C44.828 11.714 45.2 11.942 45.488 12.242C45.824 11.978 46.22 11.762 46.676 11.594C47.144 11.414 47.684 11.324 48.296 11.324C48.764 11.324 49.202 11.384 49.61 11.504C50.018 11.612 50.366 11.792 50.654 12.044C50.954 12.284 51.188 12.59 51.356 12.962C51.524 13.334 51.608 13.778 51.608 14.294V19.964C51.512 20 51.386 20.03 51.23 20.054C51.086 20.09 50.924 20.108 50.744 20.108C50.396 20.108 50.138 20.042 49.97 19.91C49.802 19.778 49.718 19.556 49.718 19.244V14.366ZM60.3775 17.678C60.3775 18.482 60.0775 19.112 59.4775 19.568C58.8775 20.024 58.0075 20.252 56.8675 20.252C56.3995 20.252 55.9675 20.216 55.5715 20.144C55.1755 20.072 54.8335 19.97 54.5455 19.838C54.2695 19.706 54.0535 19.55 53.8975 19.37C53.7415 19.19 53.6635 18.992 53.6635 18.776C53.6635 18.596 53.7055 18.428 53.7895 18.272C53.8855 18.116 54.0115 17.99 54.1675 17.894C54.5035 18.11 54.8875 18.308 55.3195 18.488C55.7515 18.668 56.2555 18.758 56.8315 18.758C57.3715 18.758 57.7855 18.668 58.0735 18.488C58.3615 18.296 58.5055 18.026 58.5055 17.678C58.5055 17.378 58.4035 17.138 58.1995 16.958C58.0075 16.778 57.7195 16.64 57.3355 16.544L56.1115 16.22C55.2955 16.004 54.6955 15.71 54.3115 15.338C53.9275 14.966 53.7355 14.456 53.7355 13.808C53.7355 13.46 53.8075 13.136 53.9515 12.836C54.0955 12.524 54.3055 12.26 54.5815 12.044C54.8695 11.816 55.2235 11.642 55.6435 11.522C56.0635 11.39 56.5435 11.324 57.0835 11.324C57.5155 11.324 57.9055 11.36 58.2535 11.432C58.6135 11.492 58.9195 11.582 59.1715 11.702C59.4355 11.81 59.6395 11.948 59.7835 12.116C59.9275 12.284 59.9995 12.464 59.9995 12.656C59.9995 12.848 59.9575 13.016 59.8735 13.16C59.7895 13.292 59.6815 13.4 59.5495 13.484C59.3335 13.352 59.0095 13.208 58.5775 13.052C58.1575 12.896 57.7015 12.818 57.2095 12.818C56.7055 12.818 56.3095 12.908 56.0215 13.088C55.7335 13.256 55.5895 13.496 55.5895 13.808C55.5895 14.048 55.6675 14.246 55.8235 14.402C55.9915 14.558 56.2735 14.684 56.6695 14.78L57.7135 15.05C58.6255 15.29 59.2975 15.614 59.7295 16.022C60.1615 16.43 60.3775 16.982 60.3775 17.678ZM68.6392 17.678C68.6392 18.482 68.3392 19.112 67.7392 19.568C67.1392 20.024 66.2692 20.252 65.1292 20.252C64.6612 20.252 64.2292 20.216 63.8332 20.144C63.4372 20.072 63.0952 19.97 62.8072 19.838C62.5312 19.706 62.3152 19.55 62.1592 19.37C62.0032 19.19 61.9252 18.992 61.9252 18.776C61.9252 18.596 61.9672 18.428 62.0512 18.272C62.1472 18.116 62.2732 17.99 62.4292 17.894C62.7652 18.11 63.1492 18.308 63.5812 18.488C64.0132 18.668 64.5172 18.758 65.0932 18.758C65.6332 18.758 66.0472 18.668 66.3352 18.488C66.6232 18.296 66.7672 18.026 66.7672 17.678C66.7672 17.378 66.6652 17.138 66.4612 16.958C66.2692 16.778 65.9812 16.64 65.5972 16.544L64.3732 16.22C63.5572 16.004 62.9572 15.71 62.5732 15.338C62.1892 14.966 61.9972 14.456 61.9972 13.808C61.9972 13.46 62.0692 13.136 62.2132 12.836C62.3572 12.524 62.5672 12.26 62.8432 12.044C63.1312 11.816 63.4852 11.642 63.9052 11.522C64.3252 11.39 64.8052 11.324 65.3452 11.324C65.7772 11.324 66.1672 11.36 66.5152 11.432C66.8752 11.492 67.1812 11.582 67.4332 11.702C67.6972 11.81 67.9012 11.948 68.0452 12.116C68.1892 12.284 68.2612 12.464 68.2612 12.656C68.2612 12.848 68.2192 13.016 68.1352 13.16C68.0512 13.292 67.9432 13.4 67.8112 13.484C67.5952 13.352 67.2712 13.208 66.8392 13.052C66.4192 12.896 65.9632 12.818 65.4712 12.818C64.9672 12.818 64.5712 12.908 64.2832 13.088C63.9952 13.256 63.8512 13.496 63.8512 13.808C63.8512 14.048 63.9292 14.246 64.0852 14.402C64.2532 14.558 64.5352 14.684 64.9312 14.78L65.9752 15.05C66.8872 15.29 67.5592 15.614 67.9912 16.022C68.4232 16.43 68.6392 16.982 68.6392 17.678ZM76.127 19.208C75.899 19.352 75.617 19.472 75.281 19.568C74.957 19.664 74.567 19.712 74.111 19.712C73.583 19.712 73.079 19.64 72.599 19.496C72.131 19.34 71.717 19.1 71.357 18.776C70.997 18.44 70.709 18.008 70.493 17.48C70.289 16.952 70.187 16.304 70.187 15.536C70.187 14.84 70.289 14.234 70.493 13.718C70.709 13.19 71.003 12.752 71.375 12.404C71.759 12.044 72.209 11.774 72.725 11.594C73.253 11.414 73.835 11.324 74.471 11.324C75.059 11.324 75.599 11.402 76.091 11.558C76.595 11.702 77.003 11.876 77.315 12.08C77.519 12.212 77.675 12.362 77.783 12.53C77.903 12.698 77.963 12.902 77.963 13.142V20.234C77.963 20.834 77.855 21.35 77.639 21.782C77.435 22.214 77.147 22.562 76.775 22.826C76.415 23.102 75.983 23.3 75.479 23.42C74.975 23.552 74.435 23.618 73.859 23.618C73.247 23.618 72.719 23.558 72.275 23.438C71.831 23.318 71.507 23.198 71.303 23.078C70.931 22.85 70.745 22.55 70.745 22.178C70.745 21.974 70.787 21.8 70.871 21.656C70.955 21.524 71.063 21.416 71.195 21.332C71.471 21.524 71.837 21.698 72.293 21.854C72.749 22.01 73.235 22.088 73.751 22.088C74.507 22.088 75.089 21.932 75.497 21.62C75.917 21.32 76.127 20.828 76.127 20.144V19.208ZM74.381 18.236C74.789 18.236 75.131 18.176 75.407 18.056C75.683 17.936 75.917 17.792 76.109 17.624V13.268C75.929 13.16 75.707 13.064 75.443 12.98C75.179 12.884 74.867 12.836 74.507 12.836C73.775 12.836 73.187 13.058 72.743 13.502C72.299 13.946 72.077 14.618 72.077 15.518C72.077 16.01 72.137 16.43 72.257 16.778C72.377 17.126 72.539 17.408 72.743 17.624C72.947 17.84 73.187 17.996 73.463 18.092C73.751 18.188 74.057 18.236 74.381 18.236ZM79.5095 19.046C79.5095 18.698 79.6115 18.41 79.8155 18.182C80.0315 17.954 80.3255 17.84 80.6975 17.84C81.0815 17.84 81.3755 17.954 81.5795 18.182C81.7835 18.41 81.8855 18.698 81.8855 19.046C81.8855 19.394 81.7835 19.682 81.5795 19.91C81.3755 20.138 81.0815 20.252 80.6975 20.252C80.3255 20.252 80.0315 20.138 79.8155 19.91C79.6115 19.682 79.5095 19.394 79.5095 19.046ZM93.927 14.366C93.927 13.838 93.777 13.454 93.477 13.214C93.189 12.962 92.793 12.836 92.289 12.836C91.953 12.836 91.629 12.902 91.317 13.034C91.017 13.154 90.741 13.322 90.489 13.538C90.513 13.634 90.531 13.736 90.543 13.844C90.555 13.952 90.561 14.06 90.561 14.168V19.964C90.477 20 90.357 20.03 90.201 20.054C90.045 20.09 89.883 20.108 89.715 20.108C89.367 20.108 89.109 20.042 88.941 19.91C88.773 19.778 88.689 19.556 88.689 19.244V14.366C88.689 13.838 88.539 13.454 88.239 13.214C87.939 12.962 87.537 12.836 87.033 12.836C86.697 12.836 86.379 12.89 86.079 12.998C85.779 13.106 85.527 13.226 85.323 13.358V19.964C85.239 20 85.119 20.03 84.963 20.054C84.819 20.09 84.657 20.108 84.477 20.108C84.129 20.108 83.871 20.042 83.703 19.91C83.535 19.778 83.451 19.556 83.451 19.244V13.304C83.451 13.028 83.505 12.806 83.613 12.638C83.721 12.47 83.901 12.302 84.153 12.134C84.501 11.906 84.939 11.714 85.467 11.558C85.995 11.402 86.529 11.324 87.069 11.324C87.633 11.324 88.137 11.402 88.581 11.558C89.037 11.714 89.409 11.942 89.697 12.242C90.033 11.978 90.429 11.762 90.885 11.594C91.353 11.414 91.893 11.324 92.505 11.324C92.973 11.324 93.411 11.384 93.819 11.504C94.227 11.612 94.575 11.792 94.863 12.044C95.163 12.284 95.397 12.59 95.565 12.962C95.733 13.334 95.817 13.778 95.817 14.294V19.964C95.721 20 95.595 20.03 95.439 20.054C95.295 20.09 95.133 20.108 94.953 20.108C94.605 20.108 94.347 20.042 94.179 19.91C94.011 19.778 93.927 19.556 93.927 19.244V14.366ZM99.7625 16.742C99.9305 17.426 100.255 17.936 100.735 18.272C101.227 18.596 101.851 18.758 102.607 18.758C103.111 18.758 103.573 18.68 103.993 18.524C104.413 18.368 104.749 18.2 105.001 18.02C105.337 18.212 105.505 18.482 105.505 18.83C105.505 19.034 105.427 19.226 105.271 19.406C105.115 19.574 104.899 19.724 104.623 19.856C104.359 19.976 104.041 20.072 103.669 20.144C103.309 20.216 102.919 20.252 102.499 20.252C101.803 20.252 101.167 20.156 100.591 19.964C100.027 19.772 99.5405 19.484 99.1325 19.1C98.7245 18.716 98.4065 18.242 98.1785 17.678C97.9625 17.114 97.8545 16.46 97.8545 15.716C97.8545 14.996 97.9625 14.366 98.1785 13.826C98.3945 13.274 98.6885 12.818 99.0605 12.458C99.4325 12.086 99.8705 11.804 100.375 11.612C100.879 11.42 101.419 11.324 101.995 11.324C102.571 11.324 103.093 11.42 103.561 11.612C104.041 11.792 104.449 12.05 104.785 12.386C105.133 12.71 105.397 13.1 105.577 13.556C105.769 14.012 105.865 14.51 105.865 15.05C105.865 15.35 105.793 15.572 105.649 15.716C105.505 15.848 105.295 15.938 105.019 15.986L99.7625 16.742ZM101.995 12.782C101.335 12.782 100.783 13.004 100.339 13.448C99.9065 13.892 99.6785 14.528 99.6545 15.356L104.083 14.726C104.035 14.186 103.837 13.73 103.489 13.358C103.141 12.974 102.643 12.782 101.995 12.782Z",fill:"currentColor"}),r.a.createElement("rect",{width:"30",height:"30",rx:"6",fill:"currentColor"}),r.a.createElement("path",{d:"M10.6 8.02644C10.6 7.54679 11.0029 7.15796 11.4999 7.15796C11.997 7.15796 12.3999 7.54679 12.3999 8.02644V16.1322C12.3999 16.6118 11.997 17.0007 11.4999 17.0007C11.0029 17.0007 10.6 16.6118 10.6 16.1322V8.02644ZM17.7999 9.1844C17.7999 8.70475 18.2028 8.31593 18.6999 8.31593C19.1969 8.31593 19.5999 8.70475 19.5999 9.1844V17.2901C19.5999 17.7698 19.1969 18.1586 18.6999 18.1586C18.2028 18.1586 17.7999 17.7698 17.7999 17.2901V9.1844ZM14.1999 6.86847C14.1999 6.38883 14.6029 6 15.0999 6C15.597 6 15.9999 6.38883 15.9999 6.86847V14.9742C15.9999 15.4539 15.597 15.8427 15.0999 15.8427C14.6029 15.8427 14.1999 15.4539 14.1999 14.9742V6.86847ZM23.7094 18.2446C24.1572 18.0365 24.6951 18.2182 24.9107 18.6503C25.1263 19.0825 24.9381 19.6015 24.4902 19.8096L16.8932 23.3393C13.4597 24.9346 9.33623 23.5419 7.68308 20.2286C7.23347 19.3275 7 18.3403 7 17.3402V10.9213C7 10.4417 7.40294 10.0529 7.89999 10.0529C8.39704 10.0529 8.79998 10.4417 8.79998 10.9213V17.3402C8.79998 18.0794 8.97255 18.8091 9.30486 19.4751C10.5268 21.924 13.5746 22.9534 16.1124 21.7743L23.7094 18.2446Z",fill:"white"}))}},"8hF1":function(e,t,s){"use strict";s.d(t,"b",(function(){return r})),s.d(t,"a",(function(){return a}));var n=s("yPYI");const r=Object(n.a)("SET_AUDIENCE_FILTER"),a=Object(n.a)("CLEAR_AUDIENCE_STORE")},"9AJz":function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var n=s("fTOn"),r=s("jxal"),a=s("K6sN"),c=s("j2AC");function i(e){Object(a.e)(e.payload)?delete e.headers["Content-Type"]:e.headers["Content-Type"]=a.a}function o(e){e.originalPayload=e.payload,!Object(a.e)(e.payload)&&Object(a.g)(e.payload)&&(e.payload=JSON.stringify(e.payload))}class u{constructor(e){let{method:t,url:s,payload:n,headers:r={}}=e;this.method=t,this.url=s,this.payload=n,this.headers=r}}class l extends r.EventEmitter{constructor(e){let{baseUrl:t="/api",headers:s,middlewares:n=[i,o]}=e;super(),this._baseUrl=Object(a.h)(t),this._headers={Accept:a.a,...s},this._params={},this._middlewares=n,this.addMiddleware(this.addHeaders)}addMiddleware(e){this._middlewares.push(e)}addHeaders(e){e.headers["Accept-Language"]=navigator.language}param(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];if(0===t.length)throw new Error("key argument is required");if(1===t.length)return this._params[t[0]];const[n,r]=t;null==r?delete this._params[n]:this._params[n]=r}generateUrl(e){let{endpoint:t,params:s={},query:r={}}=e;try{const e=Object(n.a)(t)({...this._params,...s}),a=new URL(this._baseUrl+e);for(const[e,t]of Object.entries(r))if(t&&"object"==typeof t)for(const[s,n]of Object.entries(t))a.searchParams.append(`${e}[${s}]`,n);else a.searchParams.append(e,t);return a}catch(e){throw new Error(`Failed to generate URL for endpoint "${t}": ${e.message}`)}}createApiRequest(e,t,s){const n=new u({method:e.toUpperCase(),url:t,payload:s,headers:{...this._headers}});return this._middlewares.forEach(e=>{e.call(this,n)}),n}async execRequest(e,t){let s;try{s=await fetch(e.url,{credentials:"same-origin",mode:"cors",method:e.method,body:e.payload,headers:e.headers})}catch(t){throw new c.d(`${t.message}\n\tat "${e.url}"`)}const n=Object(a.f)(s.headers);if(s.ok)return n?await s.json():t?s:await s.text();const r=n?await s.json():void 0;switch(s.status){case 400:case 422:throw new c.g({status:s.status,json:r});case 401:throw new c.a({status:s.status,json:r});case 403:throw new c.b({status:s.status,json:r});case 404:throw new c.e({status:s.status,json:r});case 429:throw new c.c({status:s.status,json:r});default:throw new c.f({status:s.status,message:s.statusText,json:r})}}async apiCall(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{raw:n,payload:r,query:a,...c}=s,i=this.generateUrl({endpoint:t,params:c,query:a}),o=this.createApiRequest(e,i,r);return this.execRequest(o,n)}method(e,t){return s=>this.apiCall(e,t,s)}get(e){return this.method("GET",e)}put(e){return this.method("PUT",e)}patch(e){return this.method("PATCH",e)}post(e){return this.method("POST",e)}delete(e){return this.method("DELETE",e)}}},C9gN:function(e,t,s){"use strict";s.r(t);var n=s("r0ML"),r=s.n(n),a=s("+Q0i"),c=s("R6Lt"),i=s("lkLo"),o=s("QD+E"),u=s("g0xT"),l=s("3gnH"),d=s("Rt50"),p=s("3CAK"),b=s("P+1c"),h=s("E7bv"),f=s("kkZN"),g=s("7Jza"),m=s("cGUp"),y=s.n(m),v="_2fH0Nn2t",w="_2PfPAPlN",O="_1xVPfZvO",C="S1itY2Af",k="_1k1vEvZd",j="_3xrdRBfa";function E(e){let{children:t}=e;return r.a.createElement("div",{className:v},r.a.createElement("div",{className:w},r.a.createElement("div",{className:O},r.a.createElement("div",{className:C},r.a.createElement("a",{href:m.main_url,className:k},r.a.createElement(g.a,null))),r.a.createElement("div",{className:j},t))))}var I=s("63aL"),_=s("yHpL"),T=s("j2AC"),S=s("nq71"),P=s("07c+"),x=s("yW3b"),R=s("Pc05"),A=s.n(R),L=s("xf01"),F=s.n(L),U=s("Cy+X"),M="_1fY1Nkju",N="_1LQpTcIp",q="_1aNSqMwM",D="_1Yo4K1MC";function V(){return(V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function G(e){let{as:t,icon:s,backgroundColor:n,iconBorderColor:a,style:c,children:i,...o}=e;const u=Object(U.a)(n)?"#333":"#eee";return r.a.createElement(t,V({className:A()(M,s&&N),style:{backgroundColor:n,color:u,...c}},o),s&&r.a.createElement("div",{className:q,style:{borderRight:"1px solid "+(a||F()(n).darken(4).toString())}},r.a.createElement(s,{size:20})),r.a.createElement("div",{className:D},r.a.createElement("div",null,i)))}G.defaultProps={as:"div",backgroundColor:"#fff",iconBorderColor:""};var z=s("FyG2");function B(){return(B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const H=e=>{let{beforeProvider:t,...s}=e;const{t:n}=Object(f.useTranslation)("auth");return r.a.createElement(G,B({icon:z.e,as:"a",href:"/api/auth/login/google"},s),n(t||"auth.loginWith",{provider:"Google"}))};var W=s("Yr7G");function K(){return(K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const Z=e=>{let{beforeProvider:t,...s}=e;const{t:n}=Object(f.useTranslation)("auth");return r.a.createElement(G,K({icon:W.b,as:"a",href:"/api/auth/login/apple",backgroundColor:"#000"},s),n(t||"auth.loginWith",{provider:"Apple"}))};var $=s("jMR3"),Y="_1jaE2FlL";const J=()=>{const{t:e}=Object(f.useTranslation)("auth");return r.a.createElement("span",{className:Y},e("auth.signup.termsText")," ",r.a.createElement($.a,{href:"https://mssg.me/privacy-policy"},e("auth.signup.policy"))," ",e("auth.signup.and")," ",r.a.createElement($.a,{href:"https://mssg.me/terms-of-use"},e("auth.signup.terms")))};var X=s("UhZ4"),Q=s.n(X);const ee=["me.mssg.next://auth/cb"];function te(){const e=new URL(window.location.href).searchParams.get("redirect_uri");ee.includes(e)?window.location.replace(`${e}?access_token=${Q.a.get("accessToken")}`):window.location.replace("/pages")}var se="_3pw9R0NV";function ne(){const{t:e}=Object(f.useTranslation)("auth"),t=Object(_.a)(),[s,a]=Object(n.useState)(!1),c=Object(S.a)({initialValues:{username:"",password:""},onSubmit:e=>t.api.auth.login({payload:e})}),i=T.c.is(c.submit.error)?c.submit.error.message:null;return"success"===c.status&&te(),r.a.createElement("form",{onSubmit:c.handleSubmit},r.a.createElement(H,{backgroundColor:"#db4a39",id:"button-login-google"}),r.a.createElement(Z,{iconBorderColor:"#222",id:"button-login-apple"}),!s&&r.a.createElement(G,{icon:I.L,as:"div",onClick:()=>a(!0),id:"button-login-show-email-form"},e("auth.loginWith",{provider:"Email"})),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{builderInput:!0,placeholder:e("label.email"),name:"username",type:"email",value:c.values.username,onChange:c.handleChange,autoComplete:"email",style:{height:44,fontSize:18,marginTop:16}}),r.a.createElement(P.a,{builderInput:!0,placeholder:e("label.password"),name:"password",type:"password",value:c.values.password,onChange:c.handleChange,autoComplete:"current-password",errors:c.errors.username||i,style:{height:44,fontSize:18},errorStyle:{fontSize:16,textAlign:"center"}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(x.a,{fullWidth:!0,type:"submit",isFetching:c.isSubmitting||"success"===c.status,style:{fontSize:18,fontWeight:"bold",backgroundColor:c.isSubmitting||"success"===c.status?"transparent":"#007aff"},id:"button-login-email"},e("auth.signin.signin")))),r.a.createElement("div",{className:se},r.a.createElement("span",null,e("auth.signin.noAccount")," ",r.a.createElement(o.b,{style:{color:"#007aff"},to:"/signup"},e("auth.signin.signup"))),s&&r.a.createElement("span",null,e("auth.signin.forget")," ",r.a.createElement(o.b,{style:{color:"#007aff"},to:"/restore"},e("auth.signin.restore")))))}var re={header:"_3zcvqLTq"};function ae(){const{t:e}=Object(f.useTranslation)("auth");return r.a.createElement(E,null,r.a.createElement("div",{className:re.root},r.a.createElement("div",{className:re.header},r.a.createElement("h1",null,e("auth.signin.heading"))),r.a.createElement(ne,null)))}function ce(){const e=Object(_.a)();return Object(n.useEffect)(()=>{e.api.auth.logout()},[]),r.a.createElement(i.a,{to:"login"})}var ie=s("cNRa"),oe=s.n(ie);function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var de=function(e){var t,s;function n(){var t;return(t=e.call(this)||this).handleExpired=t.handleExpired.bind(le(t)),t.handleErrored=t.handleErrored.bind(le(t)),t.handleChange=t.handleChange.bind(le(t)),t.handleRecaptchaRef=t.handleRecaptchaRef.bind(le(t)),t}s=e,(t=n).prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s;var a=n.prototype;return a.getValue=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this.props.grecaptcha.getResponse(this._widgetId):null},a.getWidgetId=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this._widgetId:null},a.execute=function(){var e=this.props.grecaptcha;if(e&&void 0!==this._widgetId)return e.execute(this._widgetId);this._executeRequested=!0},a.executeAsync=function(){var e=this;return new Promise((function(t,s){e.executionResolve=t,e.executionReject=s,e.execute()}))},a.reset=function(){this.props.grecaptcha&&void 0!==this._widgetId&&this.props.grecaptcha.reset(this._widgetId)},a.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},a.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},a.handleChange=function(e){this.props.onChange&&this.props.onChange(e),this.executionResolve&&(this.executionResolve(e),delete this.executionReject,delete this.executionResolve)},a.explicitRender=function(){if(this.props.grecaptcha&&this.props.grecaptcha.render&&void 0===this._widgetId){var e=document.createElement("div");this._widgetId=this.props.grecaptcha.render(e,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge}),this.captcha.appendChild(e)}this._executeRequested&&this.props.grecaptcha&&void 0!==this._widgetId&&(this._executeRequested=!1,this.execute())},a.componentDidMount=function(){this.explicitRender()},a.componentDidUpdate=function(){this.explicitRender()},a.componentWillUnmount=function(){void 0!==this._widgetId&&(this.delayOfCaptchaIframeRemoving(),this.reset())},a.delayOfCaptchaIframeRemoving=function(){var e=document.createElement("div");for(document.body.appendChild(e),e.style.display="none";this.captcha.firstChild;)e.appendChild(this.captcha.firstChild);setTimeout((function(){document.body.removeChild(e)}),5e3)},a.handleRecaptchaRef=function(e){this.captcha=e},a.render=function(){var e=this.props,t=(e.sitekey,e.onChange,e.theme,e.type,e.tabindex,e.onExpired,e.onErrored,e.size,e.stoken,e.grecaptcha,e.badge,e.hl,function(e,t){if(null==e)return{};var s,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)s=a[n],t.indexOf(s)>=0||(r[s]=e[s]);return r}(e,["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl"]));return r.a.createElement("div",ue({},t,{ref:this.handleRecaptchaRef}))},n}(r.a.Component);de.displayName="ReCAPTCHA",de.propTypes={sitekey:oe.a.string.isRequired,onChange:oe.a.func,grecaptcha:oe.a.object,theme:oe.a.oneOf(["dark","light"]),type:oe.a.oneOf(["image","audio"]),tabindex:oe.a.number,onExpired:oe.a.func,onErrored:oe.a.func,size:oe.a.oneOf(["compact","normal","invisible"]),stoken:oe.a.string,hl:oe.a.string,badge:oe.a.oneOf(["bottomright","bottomleft","inline"])},de.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var pe=s("kM8B"),be=s.n(pe);function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var fe={},ge=0;var me,ye,ve=(me=function(){return"https://"+(("undefined"!=typeof window&&window.recaptchaOptions||{}).useRecaptchaNet?"recaptcha.net":"www.google.com")+"/recaptcha/api.js?onload=onloadcallback&render=explicit"},ye=(ye={callbackName:"onloadcallback",globalName:"grecaptcha"})||{},function(e){var t=e.displayName||e.name||"Component",s=function(t){var s,r;function a(e,s){var n;return(n=t.call(this,e,s)||this).state={},n.__scriptURL="",n}r=t,(s=a).prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r;var c=a.prototype;return c.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+ge++),this.__scriptLoaderID},c.setupScriptURL=function(){return this.__scriptURL="function"==typeof me?me():me,this.__scriptURL},c.asyncScriptLoaderHandleLoad=function(e){var t=this;this.setState(e,(function(){return t.props.asyncScriptOnLoad&&t.props.asyncScriptOnLoad(t.state)}))},c.asyncScriptLoaderTriggerOnScriptLoaded=function(){var e=fe[this.__scriptURL];if(!e||!e.loaded)throw new Error("Script is not loaded.");for(var t in e.observers)e.observers[t](e);delete window[ye.callbackName]},c.componentDidMount=function(){var e=this,t=this.setupScriptURL(),s=this.asyncScriptLoaderGetScriptLoaderID(),n=ye,r=n.globalName,a=n.callbackName,c=n.scriptId;if(r&&void 0!==window[r]&&(fe[t]={loaded:!0,observers:{}}),fe[t]){var i=fe[t];return i&&(i.loaded||i.errored)?void this.asyncScriptLoaderHandleLoad(i):void(i.observers[s]=function(t){return e.asyncScriptLoaderHandleLoad(t)})}var o={};o[s]=function(t){return e.asyncScriptLoaderHandleLoad(t)},fe[t]={loaded:!1,observers:o};var u=document.createElement("script");for(var l in u.src=t,u.async=!0,ye.attributes)u.setAttribute(l,ye.attributes[l]);c&&(u.id=c);var d=function(e){if(fe[t]){var s=fe[t].observers;for(var n in s)e(s[n])&&delete s[n]}};a&&"undefined"!=typeof window&&(window[a]=function(){return e.asyncScriptLoaderTriggerOnScriptLoaded()}),u.onload=function(){var e=fe[t];e&&(e.loaded=!0,d((function(t){return!a&&(t(e),!0)})))},u.onerror=function(){var e=fe[t];e&&(e.errored=!0,d((function(t){return t(e),!0})))},document.body.appendChild(u)},c.componentWillUnmount=function(){var e=this.__scriptURL;if(!0===ye.removeOnUnmount)for(var t=document.getElementsByTagName("script"),s=0;s<t.length;s+=1)t[s].src.indexOf(e)>-1&&t[s].parentNode&&t[s].parentNode.removeChild(t[s]);var n=fe[e];n&&(delete n.observers[this.asyncScriptLoaderGetScriptLoaderID()],!0===ye.removeOnUnmount&&delete fe[e])},c.render=function(){var t=ye.globalName,s=this.props,r=(s.asyncScriptOnLoad,s.forwardedRef),a=function(e,t){if(null==e)return{};var s,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)s=a[n],t.indexOf(s)>=0||(r[s]=e[s]);return r}(s,["asyncScriptOnLoad","forwardedRef"]);return t&&"undefined"!=typeof window&&(a[t]=void 0!==window[t]?window[t]:void 0),a.ref=r,Object(n.createElement)(e,a)},a}(n.Component),r=Object(n.forwardRef)((function(e,t){return Object(n.createElement)(s,he({},e,{forwardedRef:t}))}));return r.displayName="AsyncScriptLoader("+t+")",r.propTypes={asyncScriptOnLoad:oe.a.func},be()(r,e)})(de),we=s("Z0+A"),Oe=function(e,t){return new URLSearchParams(e).get(t)},Ce=we.a?function(e){var t=window.location,s=Object(n.useState)((function(){return Oe(t.search,e)})),r=s[0],a=s[1];return Object(n.useEffect)((function(){var s=function(){a(Oe(t.search,e))};return Object(we.d)(window,"popstate",s),Object(we.d)(window,"pushstate",s),Object(we.d)(window,"replacestate",s),function(){Object(we.c)(window,"popstate",s),Object(we.c)(window,"pushstate",s),Object(we.c)(window,"replacestate",s)}}),[]),r}:function(){return null},ke=s("xUbJ");let je=!1;"matchMedia"in window&&(matchMedia("(display-mode: standalone)").matches?je=!0:"standalone"in navigator&&(je=navigator.standalone));var Ee=je,Ie="_1c5Op3_E";function _e(){return(_e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function Te(){var e;Object(i.g)();const t=ke.a.iOS&&!Ee&&!ke.a.Safari||ke.a.WebView,s=Object(n.useRef)(null),{t:a,i18n:c}=Object(f.useTranslation)("auth"),{api:o}=Object(_.a)(),u=Ce("email"),[l,d]=Object(n.useState)(!0),p=Object(S.a)({initialValues:{email:u||"",password:"",lang:c.language,recaptchaToken:""},onSubmit:async e=>{y.a.recaptcha_public_key&&(await s.current.reset(),e={...e,recaptchaToken:await s.current.executeAsync()}),await o.users.create({payload:e}),window.location.replace("/pages/create")}}),b=p.values.email&&p.values.password,h=[a(p.errors.email),"GEOLOCKED"===(null===(e=p.submit.error)||void 0===e?void 0:e.code)&&a("auth.signup.geoLockedError")].filter(Boolean),g=!t;return r.a.createElement("form",{onSubmit:p.handleSubmit},r.a.createElement("div",null,g&&r.a.createElement(H,{beforeProvider:"auth.signUpWith",backgroundColor:"#db4a39",style:{fontSize:14},id:"button-signup-google"}),r.a.createElement(Z,{beforeProvider:"auth.signUpWith",iconBorderColor:"#222",style:{fontSize:14},id:"button-signup-apple"}),!l&&r.a.createElement(G,{icon:I.L,as:"div",onClick:()=>d(!0),style:{fontSize:14},id:"button-signup-show-email-form"},a("auth.signUpWith",{provider:"Email"})),l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,_e({builderInput:!0,placeholder:a("label.email"),autoComplete:"email",autoFocus:!0,errors:h},p.getFieldProps("email"),{style:{height:44,fontSize:18,marginTop:16},errorStyle:{fontSize:16,textAlign:"center"}})),r.a.createElement(P.a,_e({builderInput:!0,placeholder:a("label.password"),type:"password",autoComplete:"new-password",errors:a(p.errors.password)},p.getFieldProps("password"),{style:{height:44,fontSize:18},errorStyle:{fontSize:16,textAlign:"center"}})),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(x.a,{fullWidth:!0,type:"submit",isFetching:p.isSubmitting,disabled:!b,style:{fontSize:18,fontWeight:"bold"},id:"button-signup-email"},a("auth.signup.signup"))),r.a.createElement(J,null),!!y.a.recaptcha_public_key&&r.a.createElement("span",{className:Ie},"This site is protected by reCAPTCHA and the Google"," ",r.a.createElement("a",{href:"https://policies.google.com/privacy",target:"_blank",rel:"noopener noreferrer"},"Privacy Policy")," ","and"," ",r.a.createElement("a",{href:"https://policies.google.com/terms",target:"_blank",rel:"noopener noreferrer"},"Terms of Service")," ","apply."))),y.a.recaptcha_public_key&&r.a.createElement(ve,{ref:s,size:"invisible",sitekey:y.a.recaptcha_public_key}))}var Se={header:"_1F49bqzu",footer:"LwwE5W3s"};function Pe(){const{t:e}=Object(f.useTranslation)("auth");return r.a.createElement(E,null,r.a.createElement("div",{className:Se.root},r.a.createElement("div",{className:Se.header},r.a.createElement("h1",null,e("auth.signup.heading"))),r.a.createElement(Te,null),r.a.createElement("div",{className:Se.footer},r.a.createElement("span",null,e("auth.signin.haveAccount")," ",r.a.createElement(o.b,{style:{color:"#007aff"},to:"/login"},e("auth.signin.signin"))))))}var xe="UG3zKvsk";function Re(){const{t:e}=Object(f.useTranslation)("auth"),t=Object(_.a)(),s=Object(S.a)({initialValues:{email:""},onSubmit:e=>t.api.users.recoveryPassword({payload:e})});return r.a.createElement("form",{onSubmit:s.handleSubmit},r.a.createElement(P.a,{builderInput:!0,name:"email",value:s.values.email,onChange:s.handleChange,errors:e(s.errors.email),placeholder:e("auth.restore.placeholder"),type:"email",style:{height:44,fontSize:18},errorStyle:{fontSize:16,textAlign:"center"}}),"success"===s.status?r.a.createElement("span",{className:xe},e("auth.restore.success")):r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(x.a,{fullWidth:!0,isFetching:s.isSubmitting,type:"submit",style:{fontSize:18,fontWeight:"bold",backgroundColor:s.isSubmitting?"transparent":"#007aff"}},e("auth.restore.button"))))}var Ae={header:"_2tsc--w2",footer:"k-5KT7MW"};function Le(){const{t:e}=Object(f.useTranslation)("auth");return r.a.createElement(E,null,r.a.createElement("div",{className:Ae.root},r.a.createElement("div",{className:Ae.header},r.a.createElement("h1",null,e("auth.restore.heading"))),r.a.createElement(Re,null),r.a.createElement("div",{className:Ae.footer},r.a.createElement("span",null,e("auth.signin.haveAccount")," ",r.a.createElement(o.b,{style:{color:"#007aff"},to:"/login"},e("auth.signin.signin"))),r.a.createElement("span",null,e("auth.signin.noAccount")," ",r.a.createElement(o.b,{style:{color:"#007aff"},to:"/signup"},e("auth.signin.signup"))))))}var Fe=s("Hjqh"),Ue=s("1isK"),Me=s("Oe/J"),Ne={header:"_18u9wvwk",footer:"_3_zLMPnb"};function qe(e){let{code:t,redirectTo:s,backTrack:a}=e;const{t:c}=Object(f.useTranslation)("auth"),{isAuthenticated:i}=Object(b.a)(),{api:o,ui:u}=Object(_.a)(),{pending:l,error:d,getValidationError:p}=Object(Fe.a)(async()=>o.auth.getToken({code:t}),[t]),[h,g]=Object(n.useState)(),m=p("code");return Object(n.useLayoutEffect)(()=>{i&&g(s)},[i]),Object(n.useLayoutEffect)(()=>{a&&u.setBackTrack(a)},[a]),h&&(window.location.href=h),r.a.createElement(E,null,r.a.createElement("div",{className:Ne.root},r.a.createElement("div",{className:Ne.header},r.a.createElement("h1",null,c("auth.restore.authenticating"))),l||h?r.a.createElement(Ue.a,null):d?m?r.a.createElement(Me.a,null,m):r.a.createElement("div",null,c("errorsList.expired_code")):""))}function De(){const{code:e}=Object(i.i)();return r.a.createElement(qe,{code:e,redirectTo:"/s/account/change-password"})}qe.defaultProps={redirectTo:"/",backTrack:""};var Ve=s("Fz8S");function Ge(){const{code:e}=Object(i.i)(),{search:t}=Object(i.h)(),{redirect_to:s,back_track:n}=Ve.a.parse(t);return r.a.createElement(qe,{code:e,redirectTo:s,backTrack:n})}function ze(){return(ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function Be(e){let{code:t,invite:s}=e;const{t:a}=Object(f.useTranslation)(),{api:c}=Object(_.a)(),o=Object(S.a)({initialValues:{email:s.email,name:"",password:""},onSubmit:Object(n.useCallback)(e=>c.users.join({payload:{...e,code:t}}),[t])});return"success"===o.status?r.a.createElement(i.a,{to:"/"}):r.a.createElement("form",{onSubmit:o.handleSubmit},o.errors.code&&r.a.createElement(Me.a,null,o.errors.code),r.a.createElement(P.a,ze({placeholder:a("label.email"),type:"email",autoComplete:"email",error:a(o.errors.email)},o.getFieldProps("email"))),r.a.createElement(P.a,ze({placeholder:a("label.password"),type:"password",autoComplete:"new-password",error:a(o.errors.password)},o.getFieldProps("password"))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:30}},r.a.createElement(x.a,{type:"submit",fullWidth:!0,isFetching:o.isSubmitting},a("RegistrationFormMember.button"))),r.a.createElement(J,null))}var He={header:"I__Bzg9L",footer:"_2BhYljrf"};function We(e){let{code:t}=e;const{t:s}=Object(f.useTranslation)(),{api:n}=Object(_.a)(),{pending:a,result:c,error:i,getValidationError:o}=Object(Fe.a)(()=>n.users.checkInvite({payload:{code:t}}),[t]),u=o("code");return a?null:r.a.createElement(E,null,r.a.createElement("div",{className:He.root},r.a.createElement("div",{className:He.header},r.a.createElement("h1",null,s("RegistrationPageMember.heading"))),a?r.a.createElement(Ue.a,null):i?u?r.a.createElement(Me.a,null,u):r.a.createElement("div",null,s("errorsList.expired_code")):c&&r.a.createElement(Be,{code:t,invite:c})))}function Ke(){const{code:e}=Object(i.i)();return r.a.createElement(We,{code:e})}function Ze(e){const{isAuthenticated:t}=Object(b.a)();return t?r.a.createElement(i.b,e):r.a.createElement(i.a,{to:"/login"})}function $e(){return Object(l.c)("auth",e=>s("dCo2")(`./${e}/auth.json`)),Object(d.a)(),null}function Ye(e){const{isAuthenticated:t}=Object(b.a)();return t&&te(),r.a.createElement(i.b,e)}const Je=()=>(Object(h.a)(),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/reset-password/:code",component:De}),r.a.createElement(i.b,{exact:!0,path:"/join/:code",component:Ke}),r.a.createElement(i.b,{exact:!0,path:"/login/code/:code",component:Ge}),r.a.createElement(Ye,{exact:!0,path:"/login",component:ae}),r.a.createElement(Ye,{path:"/signup",component:Pe}),r.a.createElement(Ye,{exact:!0,path:"/restore",component:Le}),r.a.createElement(Ze,{exact:!0,path:"/logout",component:ce}),r.a.createElement(i.a,{to:"/login"})));function Xe(e){let{store:t}=e;return r.a.createElement(n.Suspense,{fallback:r.a.createElement(p.a,null)},r.a.createElement($e,null),r.a.createElement(u.a,{store:t},r.a.createElement(o.a,{basename:"/auth"},r.a.createElement(Je,null))))}const Qe=Object(c.a)();Object(a.render)(r.a.createElement(Xe,{store:Qe}),document.getElementById("root"))},"Cy+X":function(e,t,s){"use strict";var n=s("xf01"),r=s.n(n);t.a=e=>{const t=null!=e&&e.getBrightness?e:new r.a(e);return t.getBrightness()>=220||t.getAlpha()<.35}},E7bv:function(e,t,s){"use strict";s.d(t,"b",(function(){return d})),s.d(t,"a",(function(){return p}));var n=s("UhZ4"),r=s.n(n),a=s("bESJ"),c=s("kbj8"),i=s("5WIS"),o=s("lkLo");var u=s("N6lx"),l=s("yHpL");function d(){const{isSavingUtm:e}=Object(u.a)(),{api:t}=Object(l.a)();Object(a.a)(()=>{const s=r.a.get("utm_signup");e&&s&&(r.a.remove("utm_signup"),t.users.updateUtm({payload:s}))})}function p(){const e=function(){const e=Object(o.h)(),t=new URLSearchParams(e.search);return Object.fromEntries(t)}();Object(a.a)(()=>{if(r.a.get("utm_signup"))return;const t=Object(c.a)(e,(e,t)=>t.startsWith("utm_")||t.match(/^\w+clk?id$/));Object(i.a)(t)||r.a.set("utm_signup",t)})}},FC9d:function(e,t,s){"use strict";s.d(t,"v",(function(){return n})),s.d(t,"w",(function(){return r})),s.d(t,"h",(function(){return a})),s.d(t,"e",(function(){return c})),s.d(t,"t",(function(){return i})),s.d(t,"d",(function(){return o})),s.d(t,"r",(function(){return u})),s.d(t,"p",(function(){return l})),s.d(t,"s",(function(){return d})),s.d(t,"q",(function(){return p})),s.d(t,"n",(function(){return b})),s.d(t,"c",(function(){return h})),s.d(t,"y",(function(){return f})),s.d(t,"g",(function(){return g})),s.d(t,"b",(function(){return m})),s.d(t,"l",(function(){return y})),s.d(t,"f",(function(){return v})),s.d(t,"i",(function(){return w})),s.d(t,"j",(function(){return O})),s.d(t,"k",(function(){return C})),s.d(t,"o",(function(){return k})),s.d(t,"m",(function(){return j})),s.d(t,"u",(function(){return E})),s.d(t,"x",(function(){return I})),s.d(t,"a",(function(){return _}));const n="TextRich",r="Timer",a="Giphy",c="CustomCode",i="SubscriptionForm",o="Custom",u="ServicesGrid",l="Products",d="Socials",p="Quote",b="List",h="Audio",f="VideoGallery",g="Features",m="Accordion",y="ImageGallery",v="Divider",w="Hat",O="Heading",C="Image",k="Messengers",j="Link",E="Text",I="Video",_=[n,r,a,c,i,o,u,l,d,p,b,h,f,g,m,y,v,w,O,C,k,j,E,I]},Fz8S:function(e,t,s){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e){let t=[];for(let s in e)if(n(e,s)){const n=[s,e[s]].join("=");t.push(n)}return t.length>0?"?"+t.join("&"):""}s.d(t,"a",(function(){return r})),r.parse=function(e){const t=(e||"").replace("?","").split("&"),s={};for(const e of t){const t=e.replace(/\+/g,"%20"),r=t.indexOf("=");if(r<=0)continue;const a=decodeURIComponent(t.slice(0,r)),c=decodeURIComponent(t.slice(r+1));n(s,a)?Array.isArray(s[a])?s[a].push(c):s[a]=[s[a],c]:s[a]=c}return s}},Gkiy:function(e,t,s){"use strict";var n=s("r0ML"),r=s.n(n),a=s("Pc05"),c=s.n(a),i="JbT8d0t8",o="_3fbTNNoe";function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const l=e=>{let{className:t,hasError:s,align:n,children:a,as:l="div",...d}=e;return r.a.createElement(l,u({className:c()(t,i,{[o]:"right"===n})},d),a)};l.defaultProps={hasError:!1};t.a=l},Hjqh:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var n=s("r0ML"),r=s("vMq5");function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const s=Object(r.a)(e,t);return Object(n.useEffect)(()=>{s.run()},t),s}},Hw9h:function(e,t,s){"use strict";var n=s("UhZ4"),r=s.n(n),a=s("cGUp"),c=s.n(a),i=s("K6sN"),o=s("w5oC");t.a=new class{constructor(e){this.baseUrl=e}async listFiles(e){return this.makeGet("/files",e)}async uploadFile(e){let{file:t,workspace:s,website:n,destination:r}=e;const a=new FormData;return a.append("file",t),a.append("workspace",s),a.append("website",n),a.append("destination",r),this.makePost("/api/files",a)}async uploadImage(e){let{file:t,workspace:s,website:n,destination:r}=e;const a=new FormData;return a.append("file",t),a.append("variant","normal"),a.append("workspace",s),n&&a.append("website",n),a.append("destination",r),this.makePost("/api/images",a)}async uploadIcon(e){let{file:t,workspace:s,website:n,destination:r}=e;const a=new FormData;return a.append("file",t),a.append("variant","icon_192"),a.append("format","png"),a.append("workspace",s),a.append("website",n),a.append("destination",r),this.makePost("/api/images",a)}deleteFiles(e){return this.makePost("/api/files/delete",e)}getHeaders(){return{Accept:i.a,Authorization:"Bearer "+this.getAccessToken()}}getAccessToken(){return r.a.get(o.a)}async makePost(e,t){const s=new URL(e,this.baseUrl),n=Object(i.e)(t),r=this.getHeaders();n||(r["Content-Type"]=i.a);const a=await fetch(s,{method:"POST",body:n?t:JSON.stringify(t),headers:r});if(204!==a.status)return Object(i.f)(a.headers)?a.json():a.text()}async makeGet(e,t){const s=new URL(e,this.baseUrl);s.search=new URLSearchParams(t);const n=await fetch(s,{headers:this.getHeaders()});return Object(i.f)(n.headers)?n.json():n.text()}}(c.a.media_url)},K6sN:function(e,t,s){"use strict";s.d(t,"a",(function(){return u})),s.d(t,"e",(function(){return l})),s.d(t,"g",(function(){return d})),s.d(t,"f",(function(){return p})),s.d(t,"h",(function(){return b})),s.d(t,"i",(function(){return f})),s.d(t,"b",(function(){return m})),s.d(t,"d",(function(){return y})),s.d(t,"c",(function(){return v}));var n=s("ObYw"),r=s.n(n),a=s("XY3h"),c=s.n(a),i=s("R6Hn"),o=s("j2AC");const u="application/json";function l(e){return e instanceof FormData}function d(e){return"object"==typeof e}function p(e){const t=e.get("Content-Type");return!!t&&c.a.parse(t).type===u}function b(e){return r()(e)?e:window.location.origin+e}const h=e=>async function(){return e(...arguments)};function f(e){const t={};if(null!=e&&e.errors)for(let s in e.errors)Object(i.a)(t,s,e.errors[s]);return t}function g(e,t){"Sentry"in window&&Sentry.withScope(s=>{s.setExtras(t),Sentry.captureException(e)})}function m(e){function t(t){return{type:e,...t}}return e="@API/"+e,t.type=e,t.toString=()=>e,t}function y(e,t,s){const n="@API/SOCKET/"+t;s||(s=e=>({payload:e}));const r=()=>r=>{const a=e.createSocket();a.on(t,(function(t){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=c.clientId===e.clientId;i||r({type:n,socketId:a.id,...c,...s(...Array.isArray(t)?t:[t]),ignore:!1})}))};return r.type=n,r.toString=()=>n,r}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function s(t,s){s=h(s);const n=m(t),r=m(t+"/SUCCESS"),a=m(t+"/FAILURE");function c(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t={...e._params,...t},async(e,c)=>{e(n(t));try{const n=await s(t);return e(r({...t,result:n})),n}catch(s){throw e(a({...t,error:s})),o.g.is(s)||g(s,{action:a.toString(),state:c()}),s}}}return c.request=n,c.requestType=n.type,c.success=r,c.successType=r.type,c.failure=a,c.failureType=a.type,c.toString=n.toString,c.type=n.type,c}function n(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(const[a,c]of Object.entries(e)){if(a.startsWith("_"))continue;const e=t?`${t}.${a}`:a;"object"==typeof c?r[a]=n(c,e):"function"==typeof c&&(r[a]=s(e,c))}return r}return n(e.resources,null,t)}},KhfH:function(e,t,s){"use strict";var n=s("RTFG");const r=new Map([["USD","en-US"],["EUR","de-DE"]]),a=Object(n.a)((e,t)=>(r.has(t)&&(e=r.get(t)),new Intl.NumberFormat(e,{style:"currency",currency:t,currencyDisplay:r.has(t)?"symbol":"code",minimumFractionDigits:0,useGrouping:!1})),(e,t)=>`${e}${t}`);t.a=(e,t,s)=>a(s,t).format(e)},"MP+E":function(e,t,s){"use strict";var n=s("K6sN"),r=s("a2Wz");const a=Object(n.c)(r.a);function c(e,t){return Object(n.d)(r.a,e,t)}a.init=()=>async e=>{if(!r.a.isAuthenticated)return;return t=[a.users.me(),a.workspaces.retrieve(),a.billing.details(),a.billing.products.prices(),a.websites.list(),a.collections.list()],Promise.all(t.map(t=>e(t)));var t};const i=(e,t)=>({contactId:e,payload:t}),o=(e,t)=>({feedbackId:e,result:t});a.listenConnect=c("connect"),a.listenDisconnect=c("disconnect"),a.listenReconnect=c("reconnect"),a.listenVerifyVersion=c("verifyVersion"),a.listenUserUpdated=c("user_updated",e=>e),a.listenNewMessages=c("newMessages",i),a.listenCreateConversation=c("createConversation",i),a.listenUpdateConversation=c("updateConversation",i),a.listenSubscriptionCreated=c("subscription_created"),a.listenSubscriptionUpdated=c("subscription_updated"),a.listenSubscriptionCancelled=c("subscription_cancelled"),a.listenPaymentSucceeded=c("subscription_payment_succeeded"),a.listenPaymentInitialSucceeded=c("initial_subscription_payment_succeeded"),a.listenPaymentFailed=c("subscription_payment_failed"),a.listenPaymentRetryFailed=c("retry_subscription_payment_failed"),a.listenHighRiskTransactionUpdated=c("high_risk_transaction_updated"),a.listenCreateFeedback=c("createFeedback",o),a.listenUpdateFeedback=c("updateFeedback",o),a.conversations.filterList=function(){let{query:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(s,n)=>{const r=n(),{status:c,assign:i,searchValue:o,showNewFirst:u}=r.ui.conversationsFilter;return e={status:c,assign:i,searchValue:o,sort:u?"new":"old",...e},s(a.conversations.list({query:e,...t}))}},a.unsubscribe=function(e,t){const s=s=>async n=>{n({type:e,payload:s}),await t(s)};return s.type=e="@API/"+e,s.toString=()=>e,s}("unsubscribe",e=>{let{cancelUrl:t}=e;window.open(t)}),t.a=a},"MY/q":function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var n=s("r0ML"),r=s.n(n),a=s("Pc05"),c=s.n(a),i="_1cnTjnAM",o="_3hRipkpF",u="_3QPDy911",l="_2GF_HvGn";function d(e){let{error:t,critical:s=!0,shake:n,errorStyle:a}=e;if(!t)return null;const d=Array.isArray(t)?t:[t];return r.a.createElement("ul",{className:c()(i,{[o]:!s,[u]:n,[l]:n}),style:a},d.map((e,t)=>r.a.createElement("li",{key:t},e)))}},N6lx:function(e,t,s){"use strict";(function(e){s.d(t,"a",(function(){return a}));var n=s("zl5+"),r=s("Qg6Y");function a(){var t;const{card:s,projectVersion:a}=Object(r.a)(),c=!(null==s||null===(t=s.links)||void 0===t||!t.length),i=Object(n.a)(a,"<=2.9"),o="mobile"!==e.env.REACT_APP_TARGET&&Object(n.a)(a,"<4.0.0");return{isInboxDisplayed:i,isLinksDisplayed:c,isSavingUtm:Object(n.a)(a,">=5.12.0"),isOldVersionDisplayed:o}}}).call(this,s("TzVV"))},NFaR:function(e,t,s){"use strict";s.r(t),t.default={}},Nphk:function(e,t,s){"use strict";s.d(t,"a",(function(){return m}));var n=s("UhZ4"),r=s.n(n),a=s("quq1"),c=s("kqAp"),i=s.n(c),o=s("cYf2"),u=s.n(o),l=s("Lx+S"),d=s.n(l),p=s("3gnH"),b=s("9AJz"),h=s("w5oC"),f=s("Hw9h");const g=Object(a.default)(i.a);class m extends b.a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),this._params={workspaceId:""},this._socket=null,this.resources={auth:{getToken:this.tokenRequest("GET",h.b.auth+"/token/:code"),login:this.tokenRequest("POST",h.b.auth+"/login"),logout:async()=>(this.accessToken=null,await this.apiCall("GET",h.b.auth+"/logout"))},billing:{update:this.put(h.b.billing),changePlan:this.post(h.b.billing+"/change-plan"),previewPlanChange:this.post(h.b.billing+"/preview-plan-change"),changeCreditCard:this.put(h.b.billing+"/card"),applyCoupon:this.put(h.b.billing+"/apply-coupon"),getCoupon:this.get(h.b.billing+"/coupons/:couponId"),details:this.get(h.b.billing+"/details"),subscription:{create:this.post(h.b.subscription+"/create"),cancel:this.post(h.b.subscription+"/cancel"),pause:this.post(h.b.subscription+"/pause"),renew:this.post(h.b.subscription+"/renew"),changeCard:this.post(h.b.subscription+"/change-card"),payNow:this.post(h.b.subscription+"/pay-now")},products:{prices:this.get(h.b.billing+"/products/prices")}},bot:{donate:this.post(h.b.bot+"/donate"),subscribe:this.post(h.b.bot+"/subscribe")},bots:{create:this.post(""+h.b.bots),update:this.put(h.b.bots+"/:botId"),delete:this.delete(h.b.bots+"/:botId"),upload:async e=>{let{payload:t,botId:s,field:n="file"}=e;const r=new FormData;return r.append(n,t),this.apiCall("POST",h.b.bots+"/:botId/upload",{botId:s,payload:r,query:{field:n}})}},card:{update:this.put(""+h.b.card),patch:this.patch(""+h.b.card),statistics:this.get(h.b.card+"/statistics"),messengers:{create:this.post(h.b.card+"/messengers"),sort:this.put(h.b.card+"/messengers/sort"),update:this.put(h.b.card+"/messengers/:messengerId"),delete:this.delete(h.b.card+"/messengers/:messengerId")},links:{create:this.post(h.b.card+"/links"),update:this.put(h.b.card+"/links/:linkId"),delete:this.delete(h.b.card+"/links/:linkId")},domain:{connect:this.put(h.b.card+"/domain"),disconnect:this.delete(h.b.card+"/domain")},uploadAvatar:e=>{let{payload:t}=e;return this.resources.workspaces.upload({payload:t,uploadType:"photo",field:"design.photo"})},uploadCover:e=>{let{payload:t}=e;return this.resources.workspaces.upload({payload:t,uploadType:"background",field:"design.background.image"})}},onboarding:{update:this.put(h.b.onboarding)},collections:{list:this.get(h.b.collections),create:this.post(h.b.collections),retrieve:this.get(h.b.collections+"/:collectionId"),sort:this.put(h.b.collections+"/sort"),update:this.put(h.b.collections+"/:collectionId"),delete:this.delete(h.b.collections+"/:collectionId"),products:{get:this.get(h.b.collections+"/:collectionId/products"),update:this.put(h.b.collections+"/:collectionId/products")}},contacts:{list:this.get(h.b.contacts),update:this.put(h.b.contacts+"/:contactId"),delete:this.delete(h.b.contacts+"/:contactId")},conversations:{list:this.get(h.b.conversations),retrieve:this.get(h.b.conversations+"/:contactId"),read:this.put(h.b.conversations+"/:contactId/read"),assign:this.put(h.b.conversations+"/:contactId/assign/:userId"),assignMe:this.put(h.b.conversations+"/:contactId/assign/me"),changeStatus:this.put(h.b.conversations+"/:contactId/status/:status"),block:this.put(h.b.conversations+"/:contactId/block"),uploadAttachment:async e=>{let{payload:t,contactId:s}=e;const n=new FormData;return n.append("file",t),this.apiCall("POST",h.b.conversations+"/:contactId/uploads/attachment",{contactId:s,payload:n,query:{field:"file"}})},sendAttachment:async e=>{let{contactId:t,payload:s}=e;const{file:n,...r}=s,{url:a,filename:c,mime:i,size:o}=await this.resources.conversations.uploadAttachment({contactId:t,payload:n});return this.resources.messages.create({contactId:t,payload:{type:"image/png"===i||"image/jpeg"===i?"image":"file",mediaUrl:a,fileName:c,fileSize:o,destination:"client",...r}})},sendMessage:e=>{let{contactId:t,payload:s}=e;return this.apiCall("POST",h.b.messages,{contactId:t,payload:{type:"text",destination:"client",...s}})},messages:this.get(h.b.messages),statistics:this.get(h.b.conversations+"/statistics"),unread:this.get(h.b.conversations+"/unread")},integrations:{create:this.post(h.b.integrations),delete:this.delete(h.b.integrations+"/:integrationId")},messages:{list:this.get(h.b.messages),create:this.post(h.b.messages)},products:{list:this.get(h.b.products),sublist:this.get(h.b.products),create:this.post(h.b.products),retrieve:this.get(h.b.products+"/:productId"),update:this.put(h.b.products+"/:productId"),delete:this.delete(h.b.products+"/:productId"),sort:this.put(h.b.products+"/sort"),migrate:this.post(h.b.products+"/migrate"),listByCollection:this.get(h.b.products+"/:collectionId/sorted"),retrieveBySlug:this.get(h.b.products+"/:collectionId/:productSlug"),uploadPhoto:e=>{let{payload:t,websiteId:s}=e;return f.a.uploadImage({file:t,workspace:this.getWorkspaceId(),website:s,destination:`w/${this.getWorkspaceId()}/websites/${s}/products`})},uploadPhotos:async e=>{let{payloads:t,websiteId:s}=e;const n=await Promise.all(t.map(async e=>{try{const{url:t}=await this.resources.products.uploadPhoto({payload:e,websiteId:s});return{file:e.name,result:t}}catch(t){return{file:e.name,error:t.errors&&t.errors.photos||t.message}}}));return{success:n.filter(e=>{let{result:t}=e;return t}),failed:n.filter(e=>{let{error:t}=e;return t})}}},replies:{list:this.get(h.b.replies),create:this.post(h.b.replies),update:this.put(h.b.replies+"/:replyId"),delete:this.delete(h.b.replies+"/:replyId")},reviews:{list:this.get(h.b.reviews),create:this.post(h.b.reviews),delete:this.delete(h.b.reviews+"/:reviewId"),my:this.get(h.b.reviews+"/my")},team:{create:this.post(h.b.team),update:this.put(h.b.team+"/:memberId"),delete:this.delete(h.b.team+"/:memberId")},users:{create:async e=>{const t=await this.apiCall("POST",""+h.b.users,e);return this.accessToken=t.token,t},checkInvite:this.post(h.b.users+"/check-invite"),checkRegistrationInvite:this.post(h.b.users+"/check-reg-invite"),recoveryPassword:this.post(h.b.users+"/recovery-password"),join:async e=>{const t=await this.apiCall("POST",h.b.users+"/join",e);return this.accessToken=t.token,t},me:this.get(h.b.users+"/me"),updateMyAccount:this.put(h.b.users+"/me"),changeMyPassword:this.put(h.b.users+"/me/change-password"),sendFeedback:this.put(h.b.users+"/me/feedback"),saveMySubscription:this.put(h.b.users+"/me/save-subscription"),updateUtm:this.post(h.b.users+"/me/utm"),uploadAvatar:e=>{let{payload:t,field:s}=e;return this.resources.workspaces.upload({uploadType:"photo",payload:t,field:s})},invites:{list:this.get(h.b.invites),create:this.post(h.b.invites),delete:this.delete(h.b.invites+"/:inviteId")},switchApp:this.put(h.b.users+"/me/switch-app"),connectTelegram:this.post(h.b.users+"/me/connect-telegram")},workspaces:{my:this.get(h.b.workspaces+"/my"),create:this.post(h.b.workspaces),retrieve:this.get(h.b.workspaces+"/:workspaceId"),update:this.put(h.b.workspaces+"/:workspaceId"),delete:this.delete(h.b.workspaces+"/:workspaceId"),upload:async e=>{let{payload:t,field:s,uploadType:n}=e;const r=new FormData;return r.append(s,t),this.apiCall("POST",h.b.workspaces+"/:workspaceId/uploads/:uploadType",{payload:r,query:{field:s},uploadType:n})}},websites:{list:this.method("GET",h.b.websites),create:this.method("POST",h.b.websites),scaffold:this.method("POST",h.b.websites+"/scaffold"),retrieve:this.method("GET",h.b.websites+"/:websiteId"),update:this.method("PUT",h.b.websites+"/:websiteId"),delete:this.method("DELETE",h.b.websites+"/:websiteId"),retrieveBySlug:this.method("GET",h.b.websites+"/slug/:websiteSlug"),domain:{update:this.method("PUT",h.b.websites+"/:websiteId/domain"),delete:this.method("DELETE",h.b.websites+"/:websiteId/domain"),get:this.method("GET",h.b.websites+"/:websiteId/domain")},upload:async e=>{let{websiteId:t,payload:s}=e;return f.a.uploadImage({file:s,workspace:this.getWorkspaceId(),website:t,destination:`w/${this.getWorkspaceId()}/websites/${t}`})},uploadFavicon:async e=>{let{websiteId:t,payload:s}=e;return f.a.uploadIcon({file:s,workspace:this.getWorkspaceId(),website:t,destination:`w/${this.getWorkspaceId()}/websites/${t}`})},uploadMany:async e=>{let{websiteId:t,payloads:s,field:n="files"}=e;const r=await Promise.all(s.map(async e=>{try{const s=await this.resources.websites.upload({websiteId:t,field:n,payload:e});return{file:e.name,result:s}}catch(t){return{file:e.name,error:t.errors&&t.errors[n]||t.message}}}));return{success:r.filter(e=>{let{result:t}=e;return t}),failed:r.filter(e=>{let{error:t}=e;return t})}},deleteUpload:async e=>{let{path:t}=e;return f.a.deleteFiles({path:[t]})},crm:{settings:{update:this.post(h.b.websites+"/:websiteId/crm/settings")}},audience:{list:this.get(h.b.websites+"/:websiteId/audience"),download:async e=>{let{websiteId:t}=e;return this.apiCall("GET",h.b.websites+"/:websiteId/audience/download",{websiteId:t,raw:!0})}},services:{requestABlock:this.post(h.b.websites+"/:websiteId/request-a-block")}},pages:{list:this.method("GET",h.b.pages),create:this.method("POST",h.b.pages),retrieve:this.method("GET",h.b.pages+"/:pageId"),update:this.method("PUT",h.b.pages+"/:pageId"),delete:this.method("DELETE",h.b.pages+"/:pageId"),retrieveBySlug:this.method("GET",h.b.pages+"/slug/:pageSlug"),statistics:this.get(h.b.pages+"/:pageId/statistics"),applyTemplate:this.post(h.b.pages+"/:pageId/apply-template/:templateId")},feedbacks:{list:this.method("GET",h.b.feedbacks),create:this.method("POST",h.b.feedbacks),count:this.method("GET",h.b.feedbacks+"/count"),perWebsiteCount:this.post(h.b.websites+"/feedback/count"),recent:this.method("GET",h.b.feedbacks+"/recent"),retrieve:this.method("GET",h.b.feedbacks+"/:feedbackId"),update:this.method("PUT",h.b.feedbacks+"/:feedbackId"),delete:this.method("DELETE",h.b.feedbacks+"/:feedbackId")},orders:{list:this.method("GET",h.b.orders),update:this.method("PUT",h.b.orders+"/:orderId")},blocks:{create:this.post(h.b.blocks),update:this.put(h.b.blocks+"/:blockId"),convert:this.put(h.b.blocks+"/:blockId/convert"),delete:this.delete(h.b.blocks+"/:blockId"),toggle:this.put(h.b.blocks+"/toggle"),group:this.put(h.b.blocks+"/group"),clone:this.put(h.b.blocks+"/clone"),deleteMany:this.put(h.b.blocks+"/deleteMany"),sort:this.put(h.b.blocks+"/sort")},tags:{list:this.get(h.b.tags),create:this.post(h.b.tags),retrieve:this.get(h.b.tags+"/:tagId"),update:this.put(h.b.tags+"/:tagId"),delete:this.delete(h.b.tags+"/:tagId")},pageTemplates:{list:this.get(h.b.templates),create:this.post(h.b.templates),retrieve:this.get(h.b.templates+"/:templateId"),update:this.put(h.b.templates+"/:templateId"),delete:this.delete(h.b.templates+"/:templateId"),uploadThumbnail:e=>{let{payload:t,field:s}=e;return this.resources.workspaces.upload({uploadType:"template",payload:t,field:s})}},crm:{settings:{update:this.post(h.b.crm+"/settings")}},endpoints:{sample:this.get(h.b.endpoints+"/test"),test:this.post(h.b.endpoints+"/test")}},this._socketUrl=e.socketUrl,this._accessToken=r.a.get(h.a),this._storeClientId()}_storeClientId(){let e=r.a.get("client_uuid");e||(e=d()(),r.a.set("client_uuid",e)),this.clientId=e}addHeaders(e){this._accessToken&&(e.headers.Authorization=`Bearer "${this._accessToken}"`),e.headers["Accept-Language"]=p.a.language,e.headers["X-Client-Id"]=this.clientId}get isAuthenticated(){return!!this._accessToken}get accessToken(){return this._accessToken}set accessToken(e){this._accessToken=e,e?r.a.set(h.a,e):(r.a.remove(h.a),this._closeSocket()),this.emit("changeAccessToken")}get aboutMe(){return this._accessToken?g(this._accessToken):null}_createSocket(){const e=u()(this._socketUrl,{transports:["websocket"],query:{token:this._accessToken,clientId:this.clientId}});return e.on("connect",()=>{e.emit("start")}),e}_closeSocket(){this._socket&&(this._socket.close(),this._socket=null)}createSocket(){return this._socket||(this._socket=this._createSocket()),this._socket}async execRequest(){try{return await super.execRequest(...arguments)}catch(e){throw 403!==e.status||e.permission||(this.accessToken=null),e}}getWorkspaceId(){return this._params.workspaceId}tokenRequest(e,t){return async s=>{const n=await this.apiCall(e,t,s);return this.accessToken=n.token,n}}}},"Oe/J":function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var n=s("r0ML"),r=s.n(n),a=s("cpKZ"),c="SKZRHG0g";function i(e){return r.a.createElement("div",Object(a.a)(c,e))}},OiJC:function(e,t,s){"use strict";s.r(t);var n=s("v2iy");t.default=(e,t,s)=>Object(n.createStore)(e,t,Object(n.applyMiddleware)(...s))},OzhK:function(e,t,s){var n={"./en-au":"4ztU","./en-au.js":"4ztU","./en-ca":"Vj0R","./en-ca.js":"Vj0R","./en-gb":"blmW","./en-gb.js":"blmW","./en-ie":"oC32","./en-ie.js":"oC32","./en-il":"LdJM","./en-il.js":"LdJM","./en-nz":"LhZT","./en-nz.js":"LhZT","./ru":"dcup","./ru.js":"dcup","./uk":"iaX5","./uk.js":"iaX5"};function r(e){var t=a(e);return s(t)}function a(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id="OzhK"},"P+1c":function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var n=s("r0ML"),r=s("a2Wz"),a=s("+mqk");function c(){const e=Object(a.a)();return Object(n.useEffect)(()=>{function t(){e()}return r.a.on("changeAccessToken",t),()=>{r.a.removeListener("changeAccessToken",t)}},[]),{accessToken:r.a.accessToken,isAuthenticated:r.a.isAuthenticated,user:r.a.user}}},Qg6Y:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s("g0xT");function r(){return Object(n.c)(e=>e.workspace)}},R6Lt:function(e,t,s){"use strict";var n=s("5J2B"),r=s("2i01"),a=e=>t=>s=>{try{return t(s)}catch(t){console.error("Exception in a reducer!",t),"Sentry"in window&&Sentry.withScope(n=>{n.setExtras({action:s,state:e.getState()}),Sentry.captureException(t)})}},c=s("v2iy"),i=s("yPYI"),o=s("MP+E");function u(e,t){switch(t.type){case o.a.conversations.assign.successType:case o.a.conversations.assignMe.successType:case o.a.messages.create.successType:e.byContactId[t.contactId]=t.result.conversation;break;case o.a.conversations.changeStatus.successType:case o.a.conversations.read.successType:case o.a.conversations.retrieve.successType:e.byContactId[t.contactId]=t.result;break;case o.a.contacts.update.successType:e.byContactId[t.contactId].contact=t.result}}function l(e,t){e.byContactId[t.contactId]=t.payload,-1===e.ids.indexOf(t.contactId)&&e.ids.unshift(t.contactId)}var d=Object(i.b)({byContactId:{},ids:[],hasNext:!0,next:null},{[o.a.conversations.list.success]:(e,t)=>{t.query&&t.query.next||(e.ids=[]),e.hasNext=t.result.hasNext,e.next=t.result.next,t.result.results.forEach(t=>{e.byContactId[t.contact._id]=t,-1===e.ids.indexOf(t.contact._id)&&e.ids.push(t.contact._id)})},[o.a.conversations.assign.successType]:u,[o.a.conversations.assignMe.successType]:u,[o.a.conversations.changeStatus.successType]:u,[o.a.conversations.read.successType]:u,[o.a.conversations.retrieve.successType]:u,[o.a.contacts.update.successType]:u,[o.a.listenUpdateConversation]:l,[o.a.listenCreateConversation]:l});const p=(e,t)=>{const s={};for(const[t,n]of Object.entries(e))s[n._id]=t;const n=Array.from(e);for(const e of t){const t=s[e._id];void 0!==t?n[t]=e:n.push(e)}return n.sort((e,t)=>t.received-e.received)};function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{hasNext:!0,next:null,items:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a.conversations.messages.successType:return{...e,hasNext:t.result.messages.hasNext,next:t.result.messages.next,items:t.query&&t.query.next?p(e.items,t.result.messages.results):[...t.result.messages.results]};case o.a.conversations.sendMessage.successType:case o.a.conversations.sendAttachment.successType:case o.a.conversations.assign.successType:case o.a.conversations.assignMe.successType:return{...e,items:t.result.messages.concat(e.items)};case o.a.listenNewMessages.type:return{...e,items:p(t.payload,e.items)};default:return e}}var h=Object(i.b)({},{[o.a.conversations.unread.success]:(e,t)=>t.result,[o.a.conversations.read.success]:(e,t)=>{e[t.contactId]=0}});var f=Object(i.b)({all:0,unassigned:0,my:0},{[o.a.conversations.statistics.success]:(e,t)=>t.result.conversations}),g=Object(c.combineReducers)({list:d,messages:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a.conversations.messages.successType:case o.a.conversations.sendMessage.successType:case o.a.conversations.sendAttachment.successType:case o.a.conversations.assign.successType:case o.a.conversations.assignMe.successType:case o.a.listenNewMessages.type:return{...e,[t.contactId]:b(e[t.contactId],t)};default:return e}},unread:h,statistics:f}),m=s("UhZ4"),y=s.n(m);const v={user:null,markers:[],token:y.a.get("accessToken")};var w=s("b9Gi"),O=s("okl4");function C(e,t){e.card.domain=t.result.domain}function k(e,t){e.card=t.result}var j=Object(i.b)({card:{}},{[o.a.card.update.success]:k,[o.a.card.patch.success]:k,[o.a.card.messengers.create.success]:(e,t)=>{e.card.messengers.push(t.result)},[o.a.card.messengers.update.success]:(e,t)=>{Object(i.d)(e.card.messengers,Object(O.b)(t.messengerId),t.result)},[o.a.card.messengers.delete.success]:(e,t)=>{Object(i.c)(e.card.messengers,Object(O.b)(t.messengerId))},[o.a.card.messengers.sort.success]:(e,t)=>{e.card.messengers=t.result},[o.a.card.links.create.success]:(e,t)=>{e.card.links.push(t.result)},[o.a.card.links.update.success]:(e,t)=>{Object(i.d)(e.card.links,Object(O.b)(t.linkId),t.result)},[o.a.card.links.delete.success]:(e,t)=>{Object(i.c)(e.card.links,Object(O.b)(t.linkId))},[o.a.card.domain.connect.success]:C,[o.a.card.domain.disconnect.success]:C,[o.a.products.create.success]:e=>{e.card.products.count++},[o.a.products.delete.success]:e=>{e.card.products.count=Math.max(0,e.card.products.count-1)}});var E=Object(i.b)({integrations:[]},{[o.a.integrations.create.success]:(e,t)=>{e.integrations.push(t.result.integration)},[o.a.integrations.delete.success]:(e,t)=>{Object(i.c)(e.integrations,Object(O.b)(t.integrationId))}});var I=Object(i.b)({team:[]},{[o.a.team.create.success]:(e,t)=>{e.team.push(t.result)},[o.a.team.update.success]:(e,t)=>{Object(i.d)(e.team,Object(O.b)(t.memberId),t.result)},[o.a.team.delete.success]:(e,t)=>{Object(i.c)(e.team,Object(O.b)(t.memberId))}}),_=Object(i.b)([],{[o.a.bots.create.success]:(e,t)=>{e.push(t.result)},[o.a.bots.update.success]:(e,t)=>{Object(i.d)(e,Object(O.b)(t.botId),t.result)},[o.a.bots.delete.success]:(e,t)=>{Object(i.c)(e,Object(O.b)(t.botId))}});var T=Object(i.b)({replies:[]},{[o.a.replies.list.success]:(e,t)=>{e.replies=t.result},[o.a.replies.create.success]:(e,t)=>{e.replies.unshift(t.result)},[o.a.replies.update.success]:(e,t)=>{Object(i.d)(e.replies,Object(O.b)(t.replyId),t.result)},[o.a.replies.delete.success]:(e,t)=>{Object(i.c)(e.replies,Object(O.b)(t.replyId))}});var S=Object(i.b)({quantities:{websites:0,templates:0}},{[o.a.websites.list.success]:(e,t)=>{e&&(e.quantities.websites=t.result.length)},[o.a.websites.create.success]:e=>{e.quantities.websites++},[o.a.websites.scaffold.success]:e=>{e.quantities.websites++},[o.a.websites.delete.success]:e=>{e.quantities.websites=Math.max(0,e.quantities.websites-1)},[o.a.pageTemplates.create.success]:e=>{e.quantities.templates++},[o.a.pageTemplates.delete.success]:e=>{e.quantities.templates=Math.max(0,e.quantities.templates-1)}});var P=Object(i.b)({crm:{defaultCurrency:"USD",onBoarding:!1}},{[o.a.crm.settings.update.success]:(e,t)=>{e.crm=t.result}});const x=[];var R=Object(i.b)({isFetching:!0,result:null,plans:null},{[o.a.billing.details.request]:(e,t)=>{e.isFetching=!0},[o.a.billing.details.success]:(e,t)=>{e.isFetching=!1,e.result=t.result},[o.a.billing.details.failure]:(e,t)=>{e.isFetching=!1,e.error=t.error},[o.a.billing.update.success]:(e,t)=>{e.result=t.result},[o.a.billing.applyCoupon.success]:(e,t)=>{e.result=t.result},[o.a.billing.products.prices.success]:(e,t)=>{e.plans=t.result}});const A=e=>{e.isFetching=!0},L=e=>{e.isFetching=!1},F={collectionId:null,items:[],next:null,filter:{name:"",collectionId:""},guid:0,isFetching:!1};var U=Object(i.b)(F,{[o.a.products.create.request]:A,[o.a.products.update.request]:A,[o.a.products.delete.request]:A,[o.a.products.sort.request]:A,[o.a.products.list.failure]:L,[o.a.products.retrieve.failure]:L,[o.a.products.create.failure]:L,[o.a.products.update.failure]:L,[o.a.products.delete.failure]:L,[o.a.products.sort.failure]:L,[o.a.products.create.success]:(e,t)=>{L(e),e.items.unshift(t.result)},[o.a.products.retrieve.success]:(e,t)=>{L(e),Object(i.d)(e.items,Object(O.b)(t.productId),t.result)},[o.a.products.update.success]:(e,t)=>{L(e),Object(i.d)(e.items,Object(O.b)(t.productId),t.result)},[o.a.products.delete.success]:(e,t)=>{L(e),Object(i.c)(e.items,Object(O.b)(t.productId))},[o.a.products.list.request]:(e,t)=>{var s;e.isFetching=!0,(e.guid<(t.guid||0)||null===(s=t.query)||void 0===s||!s.next)&&(e.items=[])},[o.a.products.list.success]:(e,t)=>{var s;if(t.guid&&t.guid<e.guid)return e;e.collectionId=t.collection||null,e.items=null!==(s=t.query)&&void 0!==s&&s.next?e.items.concat(t.result.results):t.result.results,e.next=t.result.next,e.isFetching=!1},[o.a.products.sort.success]:(e,t)=>{e.items=t.result,e.isFetching=!1},SET_PRODUCTS_FILTER:(e,t)=>{e.filter.name=t.payload.name,e.filter.collectionId=t.payload.collectionId,e.next=null,e.guid=e.guid+1},CLEAR_PRODUCTS_STORE:()=>F});const M=e=>{e.isFetching=!0},N=e=>{e.isFetching=!1},q={collectionId:null,items:[],next:null,filter:{name:"",collectionId:""},guid:0,isFetching:!1};var D=Object(i.b)(q,{[o.a.products.create.request]:M,[o.a.products.update.request]:M,[o.a.products.delete.request]:M,[o.a.products.sort.request]:M,[o.a.products.sublist.failure]:N,[o.a.products.retrieve.failure]:N,[o.a.products.create.failure]:N,[o.a.products.update.failure]:N,[o.a.products.delete.failure]:N,[o.a.products.sort.failure]:N,[o.a.products.create.success]:(e,t)=>{N(e),e.items.unshift(t.result)},[o.a.products.retrieve.success]:(e,t)=>{N(e),Object(i.d)(e.items,Object(O.b)(t.productId),t.result)},[o.a.products.update.success]:(e,t)=>{N(e),Object(i.d)(e.items,Object(O.b)(t.productId),t.result)},[o.a.products.delete.success]:(e,t)=>{N(e),Object(i.c)(e.items,Object(O.b)(t.productId))},[o.a.products.sublist.request]:(e,t)=>{var s;e.isFetching=!0,(e.guid<(t.guid||0)||null===(s=t.query)||void 0===s||!s.next)&&(e.items=[])},[o.a.products.sublist.success]:(e,t)=>{var s;if(t.guid&&t.guid<e.guid)return e;e.collectionId=t.collection||null,e.items=null!==(s=t.query)&&void 0!==s&&s.next?e.items.concat(t.result.results):t.result.results,e.next=t.result.next,e.isFetching=!1},[o.a.products.sort.success]:(e,t)=>{e.items=t.result,e.isFetching=!1},[o.a.collections.products.update]:e=>{e.guid++},SET_PRODUCTS_SUB_FILTER:(e,t)=>{e.filter.name=t.payload.name,e.filter.collectionId=t.payload.collectionId,e.next=null,e.guid=e.guid+1},CLEAR_PRODUCTS_SUB_STORE:()=>q});const V=(e,t)=>({botId:e||null,currentPath:[{id:t?t.botData.startResponseId:1}]}),G=V();var z=Object(i.b)(G,{SELECT_BOT:(e,t)=>{let{botId:s,bot:n}=t;e.botId!==s&&Object.assign(e,V(s,n))},SET_DIALOG_PATH:(e,t)=>{let{path:s}=t;e.currentPath=s},OPEN_DIALOG_BRANCH:(e,t)=>{let{parentResponseID:s,nextResponseID:n,content:r}=t;const a=[];for(const t of e.currentPath)if(a.push(t),t.id===s){n&&a.push({parentResponseID:s,id:n,reaction:{content:r}});break}e.currentPath=a}});const B=e=>t=>{t.isFetching=e},H=(e,t)=>({...e,...t.result,isFetching:!1,lastRequest:Date.now()});var W=Object(i.b)({items:[],isFetching:!1,allPublishedProductsCount:0,allCollectionsCount:0,publishedCollectionsCount:0,allProductsCount:0,lastRequest:null},{[o.a.collections.list.request]:B(!0),[o.a.collections.retrieve.request]:B(!0),[o.a.collections.create.request]:B(!0),[o.a.collections.update.request]:B(!0),[o.a.collections.delete.request]:B(!0),[o.a.collections.products.update.request]:B(!0),[o.a.collections.sort.request]:B(!0),[o.a.products.migrate.request]:B(!0),[o.a.collections.list.failure]:B(!1),[o.a.collections.retrieve.failure]:B(!1),[o.a.collections.create.failure]:B(!1),[o.a.collections.update.failure]:B(!1),[o.a.collections.delete.failure]:B(!1),[o.a.collections.products.update.failure]:B(!1),[o.a.collections.sort.failure]:B(!1),[o.a.products.migrate.failure]:B(!1),[o.a.collections.retrieve.success]:B(!1),[o.a.collections.list.success]:H,[o.a.collections.sort.success]:H,[o.a.collections.update.success]:H,[o.a.collections.create.success]:H,[o.a.collections.delete.success]:H,[o.a.collections.products.update.success]:H,[o.a.products.migrate.success]:H,[o.a.products.sort.success]:e=>e}),K=s("cGUp"),Z=s.n(K),$=s("+rr2");const Y={mobileMenuVisible:!1,pagePreview:null,isClientExpired:!1,conversationsFilter:{status:"open",assign:"all",searchValue:"",showNewFirst:!0,...y.a.get("conversationsFilter")||{}},unsubscribe:{status:"initial"},isAdvancedStylingMode:y.a.get("advancedStylingMode")||!1,isMobileContainer:!1,backTrack:""};var J=Object(i.b)(Y,{[$.ui.toggleMobileMenu]:(e,t)=>{e.mobileMenuVisible=t.payload},[$.ui.toggleStylingMode]:e=>{e.isAdvancedStylingMode=!e.isAdvancedStylingMode},[$.ui.toggleMobileContainer]:(e,t)=>{e.isMobileContainer="boolean"==typeof t.payload?t.payload:!e.isMobileContainer},[$.ui.setMessage]:(e,t)=>{e.message=t.payload},[$.ui.setConversationsFilter]:(e,t)=>{e.conversationsFilter={...e.conversationsFilter,...t.payload}},[$.ui.setPagePreview]:(e,t)=>{e.pagePreview=t.payload},[$.ui.setPageBlockPreview]:(e,t)=>{if(t.payload._id)e.pagePreview.blocks=e.pagePreview.blocks.map(e=>e._id===t.payload._id?t.payload:e);else{e.pagePreview.blocks.length>0&&!e.pagePreview.blocks.slice(-1).pop()._id?e.pagePreview.blocks=e.pagePreview.blocks.map(e=>e._id?e:t.payload):e.pagePreview.blocks.push(t.payload)}},[o.a.listenVerifyVersion]:(e,t)=>{e.isClientExpired=t.payload!==Z.a.version},[o.a.unsubscribe]:(e,t)=>{e.unsubscribe.status="pending"},[o.a.listenSubscriptionCancelled]:(e,t)=>{e.unsubscribe.state="finish"},[$.ui.setBackTrack]:(e,t)=>{e.backTrack=t.payload}});var X=Object(i.b)({socketId:null,isConnected:!1,reconnected:0},{[o.a.listenConnect]:(e,t)=>{e.socketId=t.socketId,e.isConnected=!0},[o.a.listenDisconnect]:e=>{e.socketId=null,e.isConnected=!1},[o.a.listenReconnect]:e=>{e.reconnected++}}),Q=s("/PY/"),ee=s("FC9d");const te=(e,t)=>((e,t)=>e.find(Object(O.b)(t.websiteId)))(e,t).pages,se=(e,t)=>te(e,t).find(Object(O.b)(t.pageId)),ne=(e,t)=>e.blocks.find(Object(O.b)(t)),re=(e,t)=>{e.unshift(t.result)},ae=(e,t)=>{Object(i.d)(e,Object(O.b)(t.websiteId),t.result)},ce=(e,t)=>{se(e,t).blocks=t.result},ie=(e,t)=>{const s=se(e,t);if(!s.blocks.length){const n=e.find(Object(O.b)(t.websiteId));s.enabled=!1,n.enabled=!1}};var oe=Object(i.b)([],{[o.a.websites.create.success]:re,[o.a.websites.scaffold.success]:re,[o.a.websites.list.success]:(e,t)=>t.result,[o.a.websites.update.success]:ae,[o.a.websites.crm.settings.update.success]:ae,[o.a.websites.delete.success]:(e,t)=>{Object(i.c)(e,Object(O.b)(t.websiteId))},[o.a.websites.domain.update.success]:(e,t)=>{e.find(Object(O.b)(t.websiteId)).domain=t.result},[o.a.websites.domain.delete.success]:(e,t)=>{e.find(Object(O.b)(t.websiteId)).domain={name:""}},[o.a.pages.create.success]:(e,t)=>{te(e,t).unshift(t.result)},[o.a.pages.applyTemplate.success]:ae,[o.a.pages.update.success]:(e,t)=>{Object(i.d)(te(e,t),Object(O.b)(t.pageId),t.result)},[o.a.pages.delete.success]:(e,t)=>{Object(i.c)(te(e,t),Object(O.b)(t.pageId))},[o.a.blocks.create.success]:(e,t)=>{se(e,t).blocks.push(t.result)},[o.a.blocks.toggle.success]:ce,[o.a.blocks.group.success]:ce,[o.a.blocks.clone.success]:ce,[o.a.blocks.sort.success]:ce,[o.a.blocks.update.success]:(e,t)=>{Object(i.d)(se(e,t).blocks,Object(O.b)(t.blockId),t.result)},[o.a.blocks.convert.success]:(e,t)=>{Object(i.d)(e,Object(O.b)(t.websiteId),t.result.website)},[o.a.blocks.delete.success]:(e,t)=>{const s=se(e,t),{results:n}=Object(Q.c)(s,ne(s,t.blockId),e=>{let{_id:t}=e;return t});s.blocks=s.blocks.filter(e=>{let{_id:t}=e;return!n.includes(t)}),ie(e,t)},[o.a.blocks.deleteMany.success]:(e,t)=>{const s=se(e,t),n=[];for(const e of t.payload.blockId){const{results:t}=Object(Q.c)(s,ne(s,e),e=>{let{_id:t}=e;return t});n.push(...t)}s.blocks=s.blocks.filter(e=>{let{_id:t}=e;return!n.includes(t)}),ie(e,t)},[o.a.collections.delete.success]:(e,t)=>{const s=t.collectionId;for(const{pages:t}of e)for(const e of t)for(const{kind:t,collections:r}of e.blocks){var n;t===ee.p&&(null!=r&&null!==(n=r.include)&&void 0!==n&&n.includes(s)&&(r.include=r.include.filter(e=>e!==s)))}}});const ue=e=>t=>{t.isFetching=e};var le=Object(i.b)({items:[],guid:0,isFetching:!1},{[o.a.pageTemplates.create.request]:ue(!0),[o.a.pageTemplates.retrieve.request]:ue(!0),[o.a.pageTemplates.update.request]:ue(!0),[o.a.pageTemplates.delete.request]:ue(!0),[o.a.pageTemplates.create.failure]:ue(!1),[o.a.pageTemplates.update.failure]:ue(!1),[o.a.pageTemplates.delete.failure]:ue(!1),[o.a.pageTemplates.list.failure]:ue(!1),[o.a.pageTemplates.create.success]:(e,t)=>{e.items.unshift(t.result),e.isFetching=!1},[o.a.pageTemplates.retrieve.success]:(e,t)=>{Object(i.d)(e.items,Object(O.b)(t.templateId),t.result)||e.items.unshift(t.result),e.isFetching=!1},[o.a.pageTemplates.update.success]:(e,t)=>{Object(i.d)(e.items,Object(O.b)(t.templateId),t.result),e.isFetching=!1},[o.a.pageTemplates.delete.success]:(e,t)=>{Object(i.c)(e.items,Object(O.b)(t.templateId)),e.isFetching=!1},[o.a.pageTemplates.list.request]:e=>{e.isFetching=!0},[o.a.pageTemplates.list.success]:(e,t)=>{if(t.guid&&t.guid<e.guid)return e;e.items=t.result,e.isFetching=!1}});const de=e=>t=>{t.isFetching=e},pe=(e,t,s)=>{t&&(e.counts[t]=(e.counts[t]||0)+1),s&&(e.counts[s]=Math.max(0,(e.counts[s]||0)-1)),e.recent=e.counts},be=(e,t)=>{e.isFetching=!1,e.items.find(Object(O.b)(t.feedbackId))||(e.items.unshift(t.result),e.counts.all++,pe(e,t.result.status))},he=(e,t)=>{const s=e.items.find(Object(O.b)(t.feedbackId));Object(i.d)(e.items,Object(O.b)(t.feedbackId),t.result),(null==s?void 0:s.status)!==t.result.status&&pe(e,t.result.status,null==s?void 0:s.status),e.isFetching=!1},fe={all:[],new:[],processing:[],accepted:[],rejected:[]},ge={items:[],next:null,filter:{website:null,status:"new"},recent:{},counts:{all:0,new:0,processing:0,accepted:0,rejected:0},totals:fe,tags:[],guid:0,isFetching:!1};var me=Object(i.b)(ge,{[o.a.feedbacks.create.request]:de(!0),[o.a.feedbacks.retrieve.request]:de(!0),[o.a.feedbacks.list.request]:de(!0),[o.a.feedbacks.update.request]:de(!0),[o.a.feedbacks.delete.request]:de(!0),[o.a.feedbacks.create.failure]:de(!1),[o.a.feedbacks.update.failure]:de(!1),[o.a.feedbacks.delete.failure]:de(!1),[o.a.feedbacks.list.failure]:de(!1),[o.a.feedbacks.recent.success]:(e,t)=>{e.recent=t.result.counts,e.totals={...fe,...t.result.totals}},[o.a.feedbacks.create.success]:be,[o.a.feedbacks.retrieve.success]:(e,t)=>{Object(i.d)(e.items,Object(O.b)(t.feedbackId),t.result)||e.items.unshift(t.result),e.isFetching=!1},[o.a.feedbacks.update.success]:he,[o.a.feedbacks.delete.success]:(e,t)=>{e.isFetching=!1,e.counts.all=Math.max(0,e.counts.all-1);const s=Object(i.c)(e.items,Object(O.b)(t.feedbackId));pe(e,null,null==s?void 0:s.status)},[o.a.feedbacks.list.success]:(e,t)=>{let{guid:s,result:n,query:r}=t;if(s&&s<e.guid)return e;e.items=null!=r&&r.next?e.items.concat(n.results):n.results,e.counts=n.counts,e.recent=n.counts,e.totals={...fe,...n.totals},e.tags=n.tags,e.next=n.next,e.isFetching=!1},[o.a.orders.update.success]:(e,t)=>{const s=e.items.find(e=>{let{purchase:s}=e;return(null==s?void 0:s._id)===t.orderId});s&&he(e,{feedbackId:s._id,result:{...s,purchase:t.result}})},[o.a.listenCreateFeedback]:be,[o.a.listenUpdateFeedback]:he,SET_FEEDBACK_ITEMS_FILTER:(e,t)=>{e.filter=t.payload||{},e.next=null,e.guid=e.guid+1}});const ye=e=>t=>{t.isFetching=e};var ve=Object(i.b)({items:[],next:null,guid:0,isFetching:!1},{[o.a.users.invites.create.request]:ye(!0),[o.a.users.invites.delete.request]:ye(!0),[o.a.users.invites.create.failure]:ye(!1),[o.a.users.invites.delete.failure]:ye(!1),[o.a.users.invites.list.failure]:ye(!1),[o.a.users.invites.delete.success]:ye(!1),[o.a.users.invites.create.success]:(e,t)=>{e.items.unshift(t.result),e.isFetching=!1},[o.a.users.invites.delete.success]:(e,t)=>{Object(i.c)(e.items,Object(O.b)(t.inviteId)),e.isFetching=!1},[o.a.users.invites.list.request]:e=>{e.isFetching=!0},[o.a.users.invites.list.success]:(e,t)=>{if(t.guid&&t.guid<e.guid)return e;e.items=t.query&&t.query.next?e.items.concat(t.result.results):t.result.results,e.next=t.result.next,e.isFetching=!1}}),we=s("uyvO");const Oe={price:null,status:we.a.initial};function Ce(e,t){e.price=t.payload.price}function ke(e){e.price=Oe.price,e.status=Oe.status}var je=Object(i.b)(Oe,{[$.checkout.load]:(e,t)=>{e.status=we.a.loaded,e.price=t.payload.price},[$.checkout.changeCountry]:Ce,[$.checkout.applyCoupon]:Ce,[$.checkout.removeCoupon]:Ce,[$.checkout.completePayment]:(e,t)=>{e.status=t.payload.isPendingReview?we.a.pending_review:we.a.complete_payment_successfully},[$.checkout.reset]:ke,[$.checkout.close]:ke,[$.checkout.applyPlan]:e=>{e.status=we.a.applied_plan}}),Ee=s("8hF1");const Ie=e=>t=>{t.isFetching=e},_e={isFetching:!1,filter:{},items:[],next:null};var Te=Object(i.b)(_e,{[o.a.websites.audience.list.request]:Ie(!0),[o.a.websites.audience.list.failure]:Ie(!1),[o.a.websites.audience.list.success]:(e,t)=>{let{result:s,query:n}=t;e.next=s.next,e.isFetching=!1,null!=n&&n.next?e.items.push(...s.results):e.items=s.results},[Ee.b]:(e,t)=>{e.filter=t.payload||{},e.next=null},[Ee.a]:()=>_e});var Se=Object(c.combineReducers)({conversations:g,currentUser:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a.users.me.success.type:case o.a.users.updateMyAccount.success.type:return{...e,user:t.result};case o.a.auth.login.success.type:case o.a.auth.getToken.success.type:case o.a.users.create.success.type:case o.a.users.join.success.type:return{...e,...t.result};case o.a.listenUserUpdated.type:return t.user._id!==e.user._id?e:{...e,markers:t.marker?[...e.markers,t.marker]:e.markers,user:{...e.user,...t.user}};default:return e}},workspace:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return Object(w.a)(e,e=>{switch(t.type){case o.a.workspaces.retrieve.successType:case o.a.workspaces.create.successType:case o.a.workspaces.update.successType:return t.result;case o.a.onboarding.update.successType:e.onboarding=t.result;break;default:j(e,t),E(e,t),I(e,t),_(e,t),T(e,t),S(e,t),P(e,t)}})},cardStatistics:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a.card.statistics.success.type:return t.result;default:return e}},billingDetails:R,products:U,subproducts:D,collections:W,invites:ve,websites:oe,templates:le,feedback:me,botEditor:z,ui:J,socket:X,checkout:je,audience:Te}),Pe=s("fp/B"),xe=s("3gnH"),Re=s("aV+K"),Ae=s("79Hl");const Le=/^\/(?:s\/)?billing/;function Fe(){const e=Re.a.location.pathname;if(Le.test(e))return(e.startsWith("/s/")?"/s":"")+"/billing"}function*Ue(){const e=yield Object(Pe.d)(),{status:t}=e.ui.conversationsFilter;yield Object(Pe.c)(o.a.conversations.statistics({query:{status:t}}))}function*Me(){const e=yield Object(Pe.d)();yield Object(Pe.a)([y.a,"set"],"conversationsFilter",e.ui.conversationsFilter),yield Object(Pe.c)(o.a.conversations.filterList())}function*Ne(){yield Object(Pe.c)(o.a.conversations.unread())}function*qe(e){let{result:t}=e;yield Object(Pe.c)(o.a.feedbacks.recent({websiteId:t.website}))}function*De(){yield Object(Pe.c)($.ui.setConversationsFilter({assign:"all",status:"open",searchValue:"",showNewFirst:!0}))}function*Ve(){yield Object(Pe.c)(o.a.collections.list())}function*Ge(){const e=yield Object(Pe.d)(),{user:t}=e.currentUser;t&&window.Sentry.setUser({email:t.email,oid:t._id})}function*ze(e){if(window.matchMedia("(max-width: 767px)").matches)yield Object(Pe.a)(Re.a.push,"/i");else{const{conversations:t}=yield Object(Pe.d)(),s=t.list.ids.map(e=>t.list.byContactId[e]).filter(t=>t.status!==e.status&&t.contact._id!==e.contactId);yield Object(Pe.a)(Re.a.push,s.length>0?"/i/"+s[0].contact._id:"/i")}}function*Be(){yield Object(Pe.c)(o.a.workspaces.retrieve())}function*He(e){yield Object(Pe.c)($.ui.setConversationsFilter({status:"open"})),yield Object(Pe.c)(o.a.conversations.retrieve({contactId:e.contactId}))}function*We(){yield Object(Pe.c)(o.a.workspaces.retrieve()),yield Object(Pe.c)(o.a.billing.details())}function*Ke(){const e=Fe();e&&(yield Object(Pe.a)(Re.a.push,e+"/checkout-complete-successfully"))}function*Ze(){(yield Object(Pe.d)()).checkout.status===we.a.complete_payment_successfully&&(yield Object(Pe.c)($.checkout.applyPlan()))}function*$e(){yield Object(Pe.c)(o.a.workspaces.retrieve()),yield Object(Pe.c)(o.a.billing.details());const e=Fe();e&&(yield Object(Pe.a)(Re.a.push,e))}function*Ye(){const e=yield Object(Pe.d)();yield Object(Pe.a)([y.a,"set"],"advancedStylingMode",e.ui.isAdvancedStylingMode)}function*Je(e){const t=yield Object(Pe.d)();yield Object(Pe.c)(o.a.users.updateMyAccount({payload:{...t.currentUser.user,country:e.payload.country}}))}function*Xe(){const{currentUser:e}=yield Object(Pe.d)();yield Object(Pe.a)([xe.a,"changeLanguage"],e.user.lang)}function*Qe(){const{feedback:{filter:e}}=yield Object(Pe.d)();if(e.website){const{website:t,...s}=e;yield Object(Pe.c)(o.a.feedbacks.list({websiteId:t,query:Object(O.c)(s)}))}}function*et(){const{audience:{filter:e}}=yield Object(Pe.d)();if(e.website){const{website:t,...s}=e;yield Object(Pe.c)(o.a.websites.audience.list({websiteId:t,query:Object(O.c)(s)}))}}function*tt(){window.Sentry&&(yield Object(Pe.b)(1e3,"*",Ge)),yield Object(Pe.b)(100,[o.a.conversations.assign.success,o.a.conversations.assignMe.success,o.a.conversations.changeStatus.success,o.a.listenCreateConversation.type,o.a.listenUpdateConversation.type,$.ui.setConversationsFilter],Ue),yield Object(Pe.e)(o.a.conversations.assignMe.success,De),yield Object(Pe.e)($.ui.setConversationsFilter,Me),yield Object(Pe.e)($.ui.toggleStylingMode,Ye),yield Object(Pe.e)([o.a.listenCreateConversation.type,o.a.listenUpdateConversation.type,o.a.workspaces.my],Ne),yield Object(Pe.e)([o.a.feedbacks.update.success,o.a.feedbacks.delete.success,o.a.feedbacks.create.success,o.a.listenCreateFeedback.type,o.a.listenUpdateFeedback.type],qe),yield Object(Pe.e)([o.a.products.create.success,o.a.products.update.success,o.a.products.delete.success,o.a.websites.create.success,o.a.websites.scaffold.success,o.a.websites.delete.success,o.a.collections.products.update.success,o.a.blocks.convert.success],Ve),yield Object(Pe.e)([o.a.billing.update.success,o.a.billing.subscription.cancel.success,o.a.billing.changeCreditCard.success,o.a.listenSubscriptionCreated.type,o.a.listenSubscriptionUpdated.type,o.a.listenSubscriptionCancelled.type,o.a.listenPaymentSucceeded.type,o.a.listenPaymentFailed.type,o.a.listenPaymentRetryFailed.type,o.a.listenHighRiskTransactionUpdated.type],We),yield Object(Pe.e)($.checkout.completePayment,Ke),yield Object(Pe.e)(o.a.billing.changePlan.success,$e),yield Object(Pe.e)(o.a.conversations.changeStatus.success,ze),yield Object(Pe.e)(o.a.billing.details.success,Ze),yield Object(Pe.e)([o.a.integrations.create.success,o.a.integrations.delete.success],Be),yield Object(Pe.e)([o.a.conversations.sendMessage.success,o.a.conversations.sendAttachment.success],He),yield Object(Pe.e)($.checkout.changeCountry,Je),yield Object(Pe.e)(o.a.users.me.success,Xe),yield Object(Pe.b)(300,Ae.a,Qe),yield Object(Pe.b)(300,Ee.b,et)}var st=s("Iklh"),nt=s("ITG7"),rt=s.n(nt),at=s("y3Ab"),ct=s("eTsq");const it={[o.a.auth.login.successType]:()=>({event:"login",method:"email"}),[o.a.users.create.successType]:()=>({event:"sign_up",method:"email"}),[o.a.users.create.failureType]:e=>({event:"Sign up error",error:Object(at.a)(e.error,["stack","json"])}),[o.a.websites.update.successType]:(e,t)=>{const s=t.websites.find(Object(ct.a)({_id:e.websiteId}));if((null==s||!s.enabled)&&e.payload.enabled)return{event:"website_published"}},[o.a.listenSubscriptionCreated.type]:e=>({event:"subscription_created",...e.payload}),[o.a.billing.subscription.cancel.successType]:()=>({event:"subscription_cancelled"}),[o.a.users.me.successType]:e=>({event:"account_load",userId:e.result._id,email:e.result.email}),[o.a.workspaces.retrieve.successType]:e=>({event:"workspace_load",workspaceId:e.result._id,plan:e.result.billing.plan}),[$.checkout.applyCoupon.type]:e=>({event:"checkout.applyCoupon",coupon:e.payload.coupon}),[$.checkout.removeCoupon.type]:()=>({event:"checkout.removeCoupon"}),[$.checkout.changeCountry.type]:e=>({event:"checkout.changeCountry",...e.payload}),[$.checkout.close.type]:()=>({event:"checkout.close"}),[$.checkout.complete.type]:()=>({event:"checkout.complete"}),[$.checkout.completePayment.type]:e=>({event:"checkout.completePayment",...e.payload}),[$.checkout.load.type]:e=>({event:"checkout.load",...e.payload}),[$.checkout.error.type]:e=>({event:"checkout.error",...e.payload}),[$.checkout.selectPaymentMethod.type]:e=>({event:"checkout.selectPaymentMethod",...e.payload}),[o.a.blocks.create.successType]:e=>({event:"Create block",kind:e.result.kind}),[o.a.blocks.update.successType]:e=>({event:"Update block",kind:e.result.kind}),[o.a.blocks.delete.successType]:(e,t)=>{const s=t.websites.find(Object(ct.a)({_id:e.websiteId})),n=null==s?void 0:s.pages.find(Object(ct.a)({_id:e.pageId})),r=null==n?void 0:n.blocks.find(Object(ct.a)({_id:e.blockId}));return{event:"Delete block",kind:null==r?void 0:r.kind}},[o.a.blocks.deleteMany.successType]:(e,t)=>{const s=t.websites.find(Object(ct.a)({_id:e.websiteId})),n=null==s?void 0:s.pages.find(Object(ct.a)({_id:e.pageId})),r=(null==n?void 0:n.blocks.filter(Object(ct.a)({_id:{$in:e.payload.blockId}})))||[];return{event:"Delete many blocks",kinds:[...new Set(r.map(e=>{let{kind:t}=e;return t}))]}},[o.a.websites.create.successType]:()=>({event:"Create website"}),[o.a.websites.scaffold.successType]:()=>({event:"Create website"}),[o.a.websites.delete.successType]:()=>({event:"Delete website"}),[o.a.websites.domain.update.successType]:()=>({event:"domain.connect"}),[o.a.websites.domain.delete.successType]:()=>({event:"domain.disconnect"}),[o.a.products.create.successType]:()=>({event:"products.create"}),[o.a.products.delete.successType]:()=>({event:"products.delete"}),[o.a.products.update.successType]:()=>({event:"products.update"})},ot=rt()(),ut=Object(st.createMiddleware)(it,ot,{logger:null}),lt=!!window.dataLayer;let dt;dt=s("OiJC").default;const pt=Object(r.a)(),bt=[];lt&&bt.push(ut);t.a=e=>{const t=dt(Se,e,[n.a,pt,...bt,a]);return pt.run(tt),t}},Rt50:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s("3gnH");const r=()=>Object(n.c)("ui",e=>s("3HFw")(`./${e}/ui.json`))},S955:function(e,t,s){"use strict";s.d(t,"a",(function(){return f}));var n=s("Pc05"),r=s.n(n),a=s("r0ML"),c=s.n(a),i="OZk7uuFJ",o="_363P8L0L",u="_2TsJk87z",l="kpqTtSO0",d="_1PmvMDMx",p="_1bdgcwFw",b="DY8ghz_7";function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const f=e=>{let{color:t,inline:s,...n}=e;const a=t?{background:t}:null;return c.a.createElement("div",h({className:r()(i,s&&o)},n),c.a.createElement("div",{className:u},c.a.createElement("div",{className:r()(l,d),style:a}),c.a.createElement("div",{className:r()(l,p),style:a}),c.a.createElement("div",{className:r()(l,b),style:a})))}},YpKG:function(e,t,s){"use strict";t.a=e=>{if(e<1024)return e+" B";const t=Math.floor(Math.log(e)/Math.log(1024)),s=e/Math.pow(1024,t),n=Math.round(s);return`${String(n<10?s.toFixed(2):n<100?s.toFixed(1):n).replace(/\.0+$/,"")} ${"KMGTPEZY"[t-1]}B`}},ZAuZ:function(e,t,s){"use strict";s.d(t,"a",(function(){return g}));var n=s("Pc05"),r=s.n(n),a=s("iHip"),c=s.n(a),i=s("r0ML"),o=s.n(i),u=s("bESJ"),l=s("63aL"),d=s("cpKZ"),p=s("r1xb"),b={root:"_2B3ofJ5E",counter:"_3-b9pfi-",input:"_2DRCzfDh",inlineEdit:"YPgCGw-v",error:"_1_PCEXDn",sizeNormal:"DzCEGuof",small:"hVVuxPYt",grey:"_2AB3cyPB",customNativeIcon:"gXrIPW3z",disabled:"jZa3dVTS",select:"_3ZdF5RHe","input-wrapper":"_1GswEJx-",inputWrapper:"_1GswEJx-",builderInput:"_2jRUtpby",hexInput:"_28ye7akn",contextBlock:"_28j5RRRN",clearAddon:"_26G-OSX_",icon:"_1AAPpJVf",root_grey:"rf7_RATV",rootGrey:"rf7_RATV",before:"_25tSvmqV",after:"_3GByWsk_",hasRightAddon:"_13_oLbQh",hidden:"_2zAg-NV4","padding-right":"_3o8wApXg",paddingRight:"_3o8wApXg",clearable:"_1NP8_n7i"};function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}g.defaultProps={containerClassName:"",hasError:!1,disabled:!1,type:"text",inputStyle:"default",builderInput:!1,autoFocus:!1,isSelectAddon:!0};const f=(e,t,s)=>{let n=Object(p.a)(e);return n&&("string"!=typeof n&&s?s&&(n=o.a.cloneElement(n,Object(d.a)(r()(n.props.className,b.select),n.props))):n=o.a.createElement("div",{className:r()(b.contextBlock,t)},n)),n};function g(e){var t;let{className:s,containerClassName:n,inputClassName:a,hasError:d,icon:p,size:g,beforeInput:m,afterInput:y,hexInput:v,hidden:w,maxLength:O,value:C,disabled:k,refInput:j,inputStyle:E,builderInput:I,autoFocus:_,isSelectAddon:T,clearable:S,type:P,...x}=e;const R=S&&!!C,A=Object(i.useCallback)(()=>{var e;return null===(e=x.onChange)||void 0===e?void 0:e.call(x,{target:{name:x.name,value:""}})},[x.name,x.onChange]),L=f(m,s,T),F=f(y,s,T),U=r()(b.root,{[b.icon]:p,[b.before]:L,[b.after]:F,[b.hidden]:w,[b.hexInput]:v,[b.disabled]:k,[b.builderInput]:I,[b.clearable]:R},E&&b["root_"+E],n),M=r()(s,b.input,{[b.error]:d,[b.paddingRight]:O,[b.small]:"small"===g,[b.sizeNormal]:"normal"===g},E&&b[E],a),N=C?String(C).trim().length:0,q=Object(i.useRef)();return Object(u.a)(()=>{_&&setTimeout(()=>{var e;return null===(e=q.current)||void 0===e?void 0:e.focus()},100)}),o.a.createElement("div",{className:U},p&&o.a.createElement(p,{size:25,color:"#C7C7CC"}),L,o.a.createElement("div",{className:b.inputWrapper,style:{color:null===(t=x.style)||void 0===t?void 0:t.color}},o.a.createElement("input",h({ref:c()(q,j),className:M,value:C,maxLength:O,disabled:k,type:P},x)),O&&o.a.createElement("span",{className:b.counter},O-N),R&&o.a.createElement("div",{className:r()(b.clearAddon,!F&&b.hasRightAddon),onClick:A},o.a.createElement(l.ib,{size:14,style:{marginBottom:-1}})),"date"===P&&o.a.createElement(l.k,{className:b.customNativeIcon}),"time"===P&&o.a.createElement(l.s,{className:b.customNativeIcon})),F)}},Zsls:function(e,t){e.exports=window.PLANS||{}},a2Wz:function(e,t,s){"use strict";(function(e){var n=s("UhZ4"),r=s.n(n),a=s("DC3q"),c=s("cGUp"),i=s.n(c);s("Hw9h");const o=new(s("Nphk").a)({baseUrl:e.env.REACT_APP_API_URL||"/api",socketUrl:i.a.websocket_url});function u(){const e=Object(a.a)(o.aboutMe,"workspaces[0].workspace");o.param("workspaceId",e),r.a.set("currentWorkspace",e)}o.isAuthenticated&&u(),o.on("changeAccessToken",()=>{u()}),t.a=o}).call(this,s("TzVV"))},"aV+K":function(e,t,s){"use strict";var n=s("52Hf"),r=s("vGY9");const a=Object(n.a)({getUserConfirmation:(e,t)=>{r.a.notify(e,t)||t(!0)}});t.a=a},cpKZ:function(e,t,s){"use strict";var n=s("Pc05"),r=s.n(n),a=s("AcDw");const c=Object(a.a)((e,t)=>({...t,className:r()(e,t.className)}));t.a=c},dCo2:function(e,t,s){var n={"./en/auth.json":["Gnzi",0],"./ru/auth.json":["drqc",1],"./uk/auth.json":["HLg/",2]};function r(e){if(!s.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return s.e(t[1]).then((function(){return s.t(r,3)}))}r.keys=function(){return Object.keys(n)},r.id="dCo2",e.exports=r},j2AC:function(e,t,s){"use strict";s.d(t,"d",(function(){return c})),s.d(t,"f",(function(){return i})),s.d(t,"e",(function(){return o})),s.d(t,"g",(function(){return u})),s.d(t,"a",(function(){return l})),s.d(t,"b",(function(){return d})),s.d(t,"c",(function(){return p}));var n=s("y3H7"),r=s("K6sN");class a extends n.a{constructor(e){super(),this.name="ApiError",this.errors={},this.status=500,Object.assign(this,e)}static is(e){return!!e&&(this.name===e.name||this.type===e.type||e instanceof this)}get type(){return this.name}}class c extends n.a{constructor(){super(...arguments),this.name="NetworkError"}}class i extends a{constructor(){super(...arguments),this.name="RequestError"}}class o extends a{constructor(e){super({status:404,message:"NotFound error",...e}),this.name="NotFoundError"}}class u extends a{constructor(e){super({status:400,message:"Validation error",errors:Object(r.i)(e.json),...e}),this.name="ValidationError"}}class l extends a{constructor(e){super({status:401,message:"Authorization error",...e}),this.name="AuthorizationError";const t=e.json;null!=t&&t.permission&&(this.permission=t.permission,this.code=t.code,this.plan=t.plan,this.target=t.target)}isFeatureAccessError(){return!!this.permission}}class d extends a{constructor(e){let{status:t,message:s,json:{error:n}}=e;super({status:t||403,message:(null==n?void 0:n.message)||s||"Forbidden",permission:null==n?void 0:n.permission,code:null==n?void 0:n.code,...null==n?void 0:n.details}),this.name="ForbiddenError"}static isPermissionBlock(e){return this.is(e)&&!!e.permission}}class p extends a{constructor(e){super({status:429,message:e.json.error||"Too Many Requests",within:e.json.within,...e}),this.name="LimitRequestsError"}}},j68g:function(e,t,s){"use strict";s.d(t,"c",(function(){return c})),s.d(t,"b",(function(){return p})),s.d(t,"a",(function(){return b}));var n=s("quq1"),r=s("Zsls"),a=s.n(r);const c=()=>Object.values(a.a),i=e=>e.id,o=e=>e.paddle||e.liqpay,u=e=>!e.paddle&&!e.liqpay,l=e=>e.deprecated,d=e=>e.published,p=Object(n.default)(()=>{const e=c(),t=e.filter(o).map(i),s=["unlimited",...e.filter(u).map(i)],n=e.filter(l).map(i),r=e.filter(d).map(i);return{BASIC:"basic",UNLIMITED:"unlimited",UNPAID:s,PAID:t,UPGRADEABLE:["basic",...r],DEPRECATED:n,ACTUAL:r}}),b=e=>e&&c().find(t=>t.id===e)},jMR3:function(e,t,s){"use strict";var n=s("r0ML"),r=s.n(n);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}t.a=function(e){return r.a.createElement("a",a({target:"_blank",rel:"noopener noreferrer"},e))}},kGuf:function(e,t,s){"use strict";var n=s("r0ML");function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var a=n.createElement("path",{d:"M6.08 3.625v12.688c0 .75.629 1.359 1.404 1.359.775 0 1.403-.609 1.403-1.36V3.626c0-.75-.628-1.36-1.403-1.36s-1.403.61-1.403 1.36zm11.226 1.813v12.687c0 .75.629 1.36 1.404 1.36.775 0 1.403-.61 1.403-1.36V5.437c0-.75-.628-1.359-1.403-1.359s-1.404.609-1.404 1.36zm-5.612-3.625V14.5c0 .75.628 1.36 1.403 1.36s1.403-.61 1.403-1.36V1.812c0-.75-.628-1.359-1.403-1.359s-1.403.609-1.403 1.36zM26.52 19.619l-11.845 5.525c-3.956 1.845-8.708.234-10.614-3.599a7.504 7.504 0 01-.787-3.342V8.156c0-.75-.628-1.36-1.403-1.36s-1.403.61-1.403 1.36v10.047c0 1.566.364 3.111 1.065 4.521 2.577 5.187 9.007 7.366 14.36 4.87l11.845-5.525c.698-.326.992-1.139.655-1.815-.336-.676-1.174-.96-1.873-.635z",fillRule:"evenodd"});t.a=function(e){return n.createElement("svg",r({viewBox:"-10 -10 49 49"},e),a)}},nq71:function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var n=s("r0ML"),r=s("LkJY"),a=s("hycj"),c=s("DC3q"),i=s("QJEF"),o=s("vMq5");function u(e){let{initialValues:t,onChange:s,onSubmit:u,errorsPrefix:l,resetOnSuccess:d=!1,autoSubmit:p=!1,autoSubmitDebounce:b=400,...h}=e;const[f,g]=Object(n.useState)({}),m=Object(o.a)(u),y=Object(a.f)({initialValues:t,onSubmit:function(){return m.run(...arguments)},...h}),v=l?Object(c.a)(m.validationErrors,l):m.validationErrors,w=p&&y.dirty;Object(n.useEffect)(()=>{m.fulfilled&&(y.setSubmitting(!1),y.setStatus("success"),d&&y.resetForm())},[m.fulfilled]),Object(n.useEffect)(()=>{m.rejected&&(y.setSubmitting(!1),y.setStatus("failure"))},[m.rejected]),Object(n.useEffect)(()=>{y.setErrors(v)},[v]),Object(r.a)(()=>{s&&s(y.values,y)},[y.values]);const O=Object(n.useMemo)(()=>Object(i.default)(y.submitForm,b),[b,y.submitForm]);return Object(r.a)(()=>{w&&O()},[O,w]),{warnings:f,setWarnings:g,submit:m,errorsPrefix:l,...y}}},okl4:function(e,t,s){"use strict";s.d(t,"c",(function(){return c})),s.d(t,"b",(function(){return o}));var n=s("wTxz"),r=s("5WIS"),a=s("y3Ab");const c=e=>Object.fromEntries(Object.entries(e).filter(e=>{let[,t]=e;return null!=t?t:""!==t})),i=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return e=>Object(n.a)(e,...t)},o=e=>i({_id:e}),u=e=>t=>e===t,l=e=>{const t=String(e).toLowerCase();return e=>String(e).toLowerCase().includes(t)},d=(e,t)=>s=>s[t]===e,p=(e,t)=>{const s=l(e);return e=>s(e[t]||"")},b={0:d,1:p},h=(e,t)=>{const s=Object.entries(e);return e=>!!(s.every(t=>{let[s,n]=t;return!n||e[s]===n})^!!t)};t.a={match:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=(e,s)=>{let[n,r]=s;const a=t[n];if(-1===a)return e;const c=("function"==typeof a?a:b[a]||d)(r,n);return e.every(c)?e:e.filter(c)};return t=>Object.entries(t).reduce(s,e)},isMatch:i,isMatchId:o,isExact:u,isSubstring:l,byEquality:d,bySubstring:p,byProps:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;return s=>{const n=t(s);return t=>e.some(e=>n(t[e]))}},filterWithSpecifier:h,filterWithExclusion:(e,t)=>{if(!t)return e;const s=t.filter,n=t.exclude,c=!!s,i=!Object(r.a)(n),o=c||i?Object(a.a)(t,["filter","exclude"]):t;return c&&(e=e.filter(s)),i&&(e=e.filter(h(n,!0))),Object(r.a)(o)||(e=e.filter(h(o))),e}}},r1xb:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));const n=(e,t)=>e&&"function"==typeof e?e(t):e||null},tdCx:function(e,t,s){"use strict";s.d(t,"b",(function(){return o})),s.d(t,"a",(function(){return u}));var n=s("r0ML"),r=s("ehRZ"),a=s("jxal"),c=s("vtB/"),i=s("Qg6Y");const{useWarning:o,useRestriction:u}=function(){const e=new a.EventEmitter;e.setMaxListeners(100);const t=function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return e.emit("show",...s)},s=()=>e.emit("hide");return{useWarning:function(){const[r,a]=Object(n.useState)({isPresented:!1,warning:null});return Object(n.useEffect)(()=>{const t=e=>a({isPresented:!0,warning:e}),s=()=>a(e=>({...e,isPresented:!1}));return e.on("show",t),e.on("hide",s),()=>{e.removeListener("show",t),e.removeListener("hide",s)}},[]),{...r,show:t,hide:s}},useRestriction:function(e,a){const o=Object(i.a)(),[u,l]=Object(n.useState)(),d=Object(n.useCallback)((e,t)=>Object(c.a)(e,{workspace:o},t,l),[o]),p=Object(n.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return t(e)}),[u]),b=Object(n.useCallback)(()=>l(null),[]),h=Object(n.useCallback)(e=>{null!=e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation()),t(u)},[u]);return Object(r.a)(()=>{e&&d(e,a)},[d,e,a]),{warning:u,hasWarning:!!u,showWarning:p,clearWarning:b,hideWarning:s,handleBlockedEvent:u?h:void 0,checkRule:d}}}}()},uyvO:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));const n={initial:"initial",loaded:"loaded",pending_review:"pending_review",complete_payment_successfully:"complete_payment_successfully",applied_plan:"applied_plan"}},vGY9:function(e,t,s){"use strict";class n{constructor(e,t,s){this.uid=e,this.history=t,this.process=s}check(e,t){if(!this.forbid||this.forbid(e,t,this.history.location))return!1}when(e){return this.forbid=e,this}}t.a=new class{constructor(){this.off=null,this.observers={}}subscribe(e,t,s){return this.off||(this.off=e.block((e,t)=>{for(const[s,n]of Object.entries(this.observers))if(!1===n.check(e,t))return s})),this.observers[t]=new n(t,e,s)}unsubscribe(e){this.observers[e]&&(delete this.observers[e],Object.keys(this.observers).length||(this.off(),this.off=null))}notify(e,t){const s=this.observers[e];return s&&s.process(t),!!s}}},vMq5:function(e,t,s){"use strict";s.d(t,"a",(function(){return p}));var n=s("r0ML"),r=s("SVdZ"),a=s("DC3q"),c=s("j2AC"),i=s("tdCx");let o=0;const u={pending:!1,fulfilled:!1,rejected:!1,error:null,result:null},l={...u,requestId:-1,requestCount:0};function d(e,t){let{type:s,requestId:n,...r}=t;if(e.requestId>n)return e;switch(s){case"pending":return{...e,...u,requestId:n,pending:!0,requestCount:e.requestCount+1};case"fulfilled":return{...e,...u,requestId:n,fulfilled:!0,result:r.result};case"rejected":return{...e,...u,requestId:n,rejected:!0,error:r.error};default:throw new Error}}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const s=Object(n.useRef)(e),u=Object(r.a)(),[p,b]=Object(n.useReducer)(d,l),{show:h}=Object(i.b)();s.current=e;const f=Object(n.useCallback)((async function(){function e(){u()&&b(...arguments)}const t=o++;e({type:"pending",requestId:t});try{e({type:"fulfilled",requestId:t,result:await s.current(...arguments)})}catch(s){e({type:"rejected",requestId:t,error:s}),c.b.isPermissionBlock(s)&&h(s)}}),t);return Object(n.useMemo)(()=>{const e=c.g.is(p.error)?p.error.errors:{};return{...p,validationErrors:e,getValidationError:t=>Object(a.a)(e,t),run:f}},[p,f])}},"vtB/":function(e,t,s){"use strict";s.d(t,"c",(function(){return I})),s.d(t,"d",(function(){return _})),s.d(t,"b",(function(){return T})),s.d(t,"a",(function(){return S}));var n=s("j68g"),r=s("RTFG");const a="*",c=["create","view","edit","delete"],i=new Set(["create","view","edit","delete",a,"?"]),o=Object(r.a)(e=>{const[t,s=a]=e.split(":"),n=new Set;if(s)for(const e of s.split(","))if(e===a)for(const e of c)n.add(e);else{if(!i.has(e))throw new Error(`Unknown action "${e}"`);n.add(e)}else for(const e of c)n.add(e);return{resource:t,actions:[...n]}});class u{constructor(e,t,s,n,r){this.user=e,this.subject=t,this.role=s,r?(this.resource=n,this.actions=r):this.fill(n)}get description(){return`[@${this.role} ${this.resource}${this.isEvery()?"":":"+this.actions.join(",")}]${this.subject?" @ "+JSON.stringify(this.subject):""}`}get currentUser(){var e,t;return null===(e=this.user)||void 0===e||null===(t=e.workspace)||void 0===t?void 0:t.owner}get currentUserId(){const e=this.currentUser;return e?String(e._id||e):null}fill(e){return Object.assign(this,o(e))}match(e){const{resource:t,actions:s}=o(e);return this.on(t)&&this.isEvery(s)}only(e){return new u(this.user,this.subject,this.role,this.resource,e)}on(e){return this.resource===e}includes(e){return this.actions.includes(e)}is(e){return 1===this.actions.length&&this.actions[0]===e}isAny(){return this.actions.includes("?")}isEvery(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:c).every(e=>this.actions.includes(e))}}const l=c.length,d={create:!0,view:!0,edit:!0,delete:!0};class p{constructor(e,t){this.name=e,this.access=t||{...d},this._any=null}merge(e){return Object.assign(this.access,e.access),this._any=null,this}get grantsAny(){if(null===this._any){let e=0;for(const t of Object.values(this.access))if(e++,t)return this._any=!0,!0;this._any=e!==l&&void 0}return this._any}isGranted(e){return"?"===e?this.grantsAny:this.access[e]}}class b{constructor(e,t){this.name=e,this.parent=t,this.resources=[]}getResourceIds(){return this.resources.map(e=>e.name)}addResource(e){const t=this.getResource(e.name);return t?t.merge(e):(this.resources.push(e),e)}getResource(e){return this.resources.find(t=>t.name===e)}isGranted(e){let t,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.getResource(e.resource);if(n){let s;if(e.isAny()){if(s=n.isGranted("?"),void 0!==s)return s}else{t=new Set(e.actions);for(const s of e.actions){const e=n.isGranted(s);if(!1===e)return!1;!0===e&&t.delete(s)}if(!t.size)return!0;e=e.only([...t])}}return!s&&this.parent&&this.parent.isGranted(e)||!1}}class h{constructor(){this.roles=[]}getRoleIds(){return this.roles.map(e=>e.name)}getRuleIds(){return[...new Set([].concat(...this.roles.map(e=>e.getResourceIds())))]}addRole(e){if(this.getRole(e.name))throw new Error(`Multiple definitions of "${e.name}" role`);return this.roles.push(e),e}getRole(e){return this.roles.find(t=>t.name===e)}isGranted(e){const t=this.getRole(e.role);return!!t&&t.isGranted(e)}}class f{constructor(e){this.definitions=e}load(){const e=new h;for(const{id:t,rules:{extend:s,grant:n,reject:r}}of this.definitions){const a=s&&e.getRole(s),c=e.addRole(new b(t,a));for(const[e,t]of[[n,!0],[r,!1]])if(e)for(const s of e)c.addResource(this.parseRuleDefinition(s,t))}return e}parseRuleDefinition(e,t){if("object"==typeof e){const{rule:s,...n}=e,r=this.parseRuleDefinition(s,t);return r.payload=n,r}const{resource:s,actions:n}=o(e);return new p(s,n.reduce((e,s)=>(e[s]=t,e),{}))}}var g=s("zl5+");class m{supports(e){return!1}supportsVersion(e,t){return Object(g.a)(e.user.workspace.projectVersion,t)}vote(e){}}class y extends m{static getLimitByRole(e){switch(e){case"basic":case"start400":case"pro400":return 1;case"business400":return 10;default:return 3}}supports(e){return"websites"===e.resource}vote(e){return!(e.includes("create")&&!this.canCreate(e))&&!("basic"===e.role&&e.includes("edit")&&!this.canEditBasic(e))}canCreate(e){return e.user.workspace.quantities.websites<y.getLimitByRole(e.role)}canEditBasic(e){e.subject;return!0}}class v extends m{constructor(e){super(),this.acl=e}supports(e){return"page-blocks"===e.resource}vote(e){const t=this.acl.vote(e);return!(t&&(e.includes("create")||e.includes("edit"))&&!this.canEdit(e))&&t}canEdit(e){if(!e.subject)return!0;const t=e.subject.kind;return this.acl.grantsInArrayPayload(e,s=>"string"==typeof s?s===t:s.kind===t&&this.supportsVersion(e,s.version))}}let w;const O=new class extends m{constructor(e){super(),this.loader=e}supports(e){return!0}vote(e){return this.acl.isGranted(e)}grantsInArrayPayload(e,t){const s="function"==typeof t?t:e=>e===t;let n=this.acl.getRole(e.role);for(;n;){const t=n.getResource(e.resource);if(t)if(t.payload){const{grant:e,reject:n}=t.payload;if(e&&("*"===e||e.some(s)))return!0;if(n&&("*"===n||n.some(s)))return!1}else if(n.isGranted(e,!0))return!0;n=n.parent}return!1}get acl(){return this._acl||(this._acl=this.loader()),this._acl}}(()=>w||(w=new f(Object(n.c)()).load())),C=new class extends class{constructor(){this.voters=[]}addVoter(e){this.voters.push(e)}vote(e){for(const t of this.voters){if(!t.supports(e))continue;const s=t.vote(e);if(void 0!==s)return s}return!0}}{isGranted(e,t,s,n){return this.vote(new u(e,n,t,s))}};C.addVoter(new class extends m{supports(e){return"unlimited"===e.role&&"page-templates"!==e.resource}vote(){return!0}}),C.addVoter(new class extends m{constructor(e){super(),this.constraints=e}supports(e){return!!this.constraints[e.resource]}vote(e){if(!this.supportsVersion(e,this.constraints[e.resource]))return!1}}({"ru-integrations":"<5.14"})),C.addVoter(new class extends m{supports(e){return"collections"===e.resource}vote(e){if("basic"===e.role){if(e.includes("create"))return!1;if(e.includes("edit"))return!1}return!(e.includes("edit")&&!this.canEdit(e))&&!(e.includes("delete")&&!this.canDelete(e))}canEdit(e){return e.subject&&!e.subject.default}canDelete(e){return!e.subject.default}}),C.addVoter(new class extends m{supports(e){return"basic"===e.role&&"messengers"===e.resource&&this.supportsVersion(e,">=2.11")}vote(e){return!(e.includes("create")&&!this.canCreate(e))&&!(e.includes("edit")&&!this.canEdit(e))}canCreate(e){return this.canEdit(e)}canEdit(e){if(!e.subject)return!0;const{user:{workspace:t},subject:s}=e,n=t.card.messengers.find(e=>e.enabled);return!(n&&n.messenger!==s.messenger)}}),C.addVoter(new class extends m{supports(e){return"basic"===e.role&&"products"===e.resource}vote(e){return!(e.includes("create")&&!this.canCreate(e))&&!(e.includes("edit")&&!this.canEdit(e))}canCreate(e){return this.canEdit(e)}canEdit(e){if(e.subject&&e.subject.slug)return!0;const{user:{workspace:t}}=e;return t.card.products.count<10}}),C.addVoter(new y),C.addVoter(new class extends m{supports(e){return"page-templates"===e.resource}vote(e){return!(e.includes("create")&&!this.canCreate(e))&&(!(e.includes("edit")&&!this.canEdit(e))&&!(e.includes("delete")&&!this.canDelete(e)))}canCreate(e){const t=e.user.workspace.quantities.templates;switch(e.role){case"unlimited":return t<20;default:return!1}}canDelete(e){return this.canEdit(e)}canEdit(e){var t;return null===(t=e.subject)||void 0===t||!t._id||String(e.subject.author)===e.currentUserId}}),C.addVoter(new class extends m{constructor(e){super(),this.acl=e}supports(e){return"page-themes"===e.resource}vote(e){const t=this.acl.vote(e);return!(t&&e.includes("edit")&&!this.canEdit(e))&&t}canEdit(e){return!e.subject||this.acl.grantsInArrayPayload(e,e.subject.colorId)}}(O)),C.addVoter(new class extends m{constructor(e){super(),this.acl=e}supports(e){return"page-styling"===e.resource}vote(e){const t=this.acl.vote(e);return!(t&&e.includes("edit")&&!this.canEdit(e))&&t}canEdit(e){return!e.subject||this.acl.grantsInArrayPayload(e,e.subject.type)}}(O)),C.addVoter(new v(O)),C.addVoter(new class extends v{supports(e){return"page-blocks-publish"===e.resource}vote(e){return super.vote(e)&&this.canEdit(e)}}(O)),C.addVoter(new class extends m{supports(e){return"basic"===e.role&&"subscription-form-field"===e.resource}vote(e){if(e.includes("create")&&!this.canCreate(e))return!1}canCreate(e){var t;let{subject:s}=e;return!(null==s||null===(t=s.items)||void 0===t?void 0:t.find(e=>{let{type:t}=e;return"email"!==t}))}}(O)),C.addVoter(O);const k=(e,t,s,n)=>{var r,a;return C.isGranted(e,n||(null==e||null===(r=e.workspace)||void 0===r||null===(a=r.billing)||void 0===a?void 0:a.plan),t,s)};class j extends Error{constructor(e,t,s,n,r){super(e),this.status=403,this.code=t,this.plan=s,this.permission=n,this.target=r}}class E{constructor(e,t,s,n,r,a){this.user=e,this.permission=t,this.subject=s,this.granted=n,this.paid=r,this.upgrade=a}get approve(){return this.granted&&this.paid}get billing(){return this.user.workspace.billing||{}}get plan(){return this.billing.plan}get error(){if(!this._error&&!this.approve){if(this.granted&&!this.paid)this._error=this.createPayError();else{const e=this.upgrade;this._error=e?this.createUpgradeError(e):this.createForbiddenError()}}return this._error||null}createPayError(){return new j("Pay for "+this.plan,"unpaid",this.plan,this.permission,this.plan)}createUpgradeError(e){return new j("Upgrade to "+e,"upgrade",this.plan,this.permission,e)}createForbiddenError(){return new j("Access forbidden","forbidden",this.plan,this.permission)}}const I=(e,t,s,r)=>{let a=s;"function"==typeof a&&(r=a,a=null);const c=t.workspace.billing||{},i=k(t,e,a),o=!function(e){let{plan:t,status:s,paid:n}=e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(!t||"trialing"!==s&&!["basic","unlimited"].includes(t))&&!(n||r&&"past_due"===s)}(c,t.allowPastDue)||k(t,e,a,"basic"),u=i?c.plan:((e,t,s)=>{var r,a;const{UPGRADEABLE:c}=Object(n.b)(),i=null===(r=e.workspace)||void 0===r||null===(a=r.billing)||void 0===a?void 0:a.plan,o=O.acl.getRoleIds(),u=o.indexOf(i);if(u>=0)for(const n of o.slice(u+1)){if(!c.includes(n))continue;if(C.isGranted(e,n,t,s))return n}})(t,e,a),l=new E(t,e,a,i,o,u);return r&&r(l.error,l.approve),l},_=(e,t,s,n)=>{for(const r of s){if(I(e,t,r,n).error)return!1}return!0},T=(e,t,s)=>{if(Array.isArray(e)){for(const n of e)T(n,t,s);return}return(Array.isArray(s)?_:I)(e,t,s,e=>{if(e)throw e})},S=(e,t,s,n)=>{if(Array.isArray(e)){for(const r of e)if(!S(r,t,s,n))return!1;return!0}return Array.isArray(s)?_(e,t,s,n):I(e,t,s,n).approve}},w5oC:function(e,t,s){"use strict";s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return r}));const n="accessToken",r={auth:"/auth",billing:"/workspaces/:workspaceId/billing",subscription:"/workspaces/:workspaceId/billing/subscription",bot:"/bot",bots:"/workspaces/:workspaceId/bots",card:"/workspaces/:workspaceId/card",collections:"/workspaces/:workspaceId/collections",contacts:"/workspaces/:workspaceId/contacts",conversations:"/workspaces/:workspaceId/conversations",integrations:"/workspaces/:workspaceId/integrations",messages:"/workspaces/:workspaceId/conversations/:contactId/messages",onboarding:"/workspaces/:workspaceId/onboarding",products:"/workspaces/:workspaceId/products",crm:"/workspaces/:workspaceId/crm",endpoints:"/workspaces/:workspaceId/endpoints",services:"/workspaces/:workspaceId/services",replies:"/workspaces/:workspaceId/replies",websites:"/workspaces/:workspaceId/websites",pages:"/workspaces/:workspaceId/websites/:websiteId/pages",feedbacks:"/workspaces/:workspaceId/websites/:websiteId/feedback",blocks:"/workspaces/:workspaceId/websites/:websiteId/pages/:pageId/blocks",orders:"/workspaces/:workspaceId/orders",tags:"/workspaces/:workspaceId/tags",templates:"/workspaces/:workspaceId/templates",team:"/workspaces/:workspaceId/team",users:"/users",invites:"/workspaces/:workspaceId/invites",workspaces:"/workspaces"}},xUbJ:function(e,t,s){"use strict";var n,r=s("1jyU");t.a=Object(r.a)(null===(n=window.navigator)||void 0===n?void 0:n.userAgent)},yHpL:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var n=s("r0ML"),r=s("g0xT"),a=s("z2J+"),c=s("yiSu");function i(){const e=Object(r.b)();return Object(n.useMemo)(()=>Object(a.a)(c.a,e),[e])}},yPYI:function(e,t,s){"use strict";s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return c})),s.d(t,"d",(function(){return i})),s.d(t,"c",(function(){return o}));var n=s("b9Gi");s("R6Hn"),s("9IQG");Object(n.b)();const r=function(e,t){const s=function(){for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];if(t)return{type:e,...t(...n)};const[a,...c]=n;return{type:e,payload:a,meta:c}};return s.type=e,s.toString=()=>e,s};class a{constructor(e,t){t={immutable:!0,...t},this._state=e,this._immutable=t.immutable,this._cases={}}addCase(e,t){if(Array.isArray(e))for(let s of e)this._cases[String(s)]=t;else this._cases[String(e)]=t;return this}hasCase(e){return this._cases.hasOwnProperty(e)}runCase(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return this._cases[e](...s)}createReducer(){var e=this;let t;return t=this._immutable?function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e._state,s=arguments.length>1?arguments[1]:void 0;return Object(n.d)(t)&&e.hasCase(s.type)?e.runCase(s.type,t,s):Object(n.a)(t,t=>{if(e.hasCase(s.type))return e.runCase(s.type,t,s)})}:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e._state,s=arguments.length>1?arguments[1]:void 0;return e.hasCase(s.type)?e.runCase(s.type,t,s):t},t.builder=this,t}}function c(e,t,s){if("function"==typeof t&&2===t.length)return function(e,t){return function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return Object(n.a)(s,e=>t(e,r))}}(e,t);return function(e,t,s){const n=new a(e,s);if("function"==typeof t)t(n);else{if("object"!=typeof t)throw new Error("Invalid handler type");for(const e of Object.keys(t))n.addCase(e,t[e])}return n}(e,t,s).createReducer()}function i(e,t,s){const n=e.findIndex(t);return n>=0&&(e[n]=s),n>=0}function o(e,t){const s=e.findIndex(t);if(s>=0)return e.splice(s,1)[0]}},yW3b:function(e,t,s){"use strict";var n=s("r0ML"),r=s.n(n),a=s("Pc05"),c=s.n(a),i=s("S955"),o={root:"_14Cr09WO",disabled:"_1r7KFOqO",container:"_38ipXAfL",large:"_1DDLmGaP",standart:"_28sW77FH",small:"vJKOE1HZ",inline:"_2q5oeb0I","full-width":"_3-cEvdD1",fullWidth:"_3-cEvdD1",rounded:"_1_3Lg1WK",transparent:"_32haqqur",primary:"_8TaX8Vft",primary2:"_36ZK8UKA",secondary:"_2Ixehd9l",secondary2:"_1DYsclgb",warning:"_1cdi78HV",danger:"_3UErwoyN",success:"HMuHD5d5",grey:"_2zVQBGJz",white:"_3ofjL6hh",link:"RjnLE1Zx",solid:"w7G2zjC2",nopadding:"WOcWrBrC","secondary-outline":"DknFjkei",secondaryOutline:"DknFjkei",icon:"_5Skc7ISc",noborder:"_17xoryeh",socialBtnOnly:"_1cdRpsQj",socialBtnWithText:"_3AoURXnO",facebook:"_2H0RI3CX",iconFixedLeft:"_2iX8xFTL",iconFixedRight:"_2oJ51Vgu"};const u=e=>{let{className:t,contentClassName:s,tag:n="button",disabled:a,children:u,beforeIcon:l,afterIcon:d,fullWidth:p,outline:b,rounded:h,btnStyle:f,size:g,noborder:m,nopadding:y,socialStyle:v,isFetching:w,loaderColor:O,iconFixed:C,wrapContentStyle:k,...j}=e;const E=w?"transparent":b?f+"Outline":f,I="button"===n,_=e=>e?r.a.createElement("span",{className:o.icon},e):null,T=w||a,S={className:c()(o.root,t,m&&o.noborder,y&&o.nopadding,o[v],o[g],o[E],{[o.fullWidth]:p,[o.rounded]:h,[o.disabled]:!I&&(w||a),[o.iconFixedLeft]:"left"===C,[o.iconFixedRight]:"right"===C}),"data-element":"button",...j};I&&(S.disabled=T);const P=r.a.createElement(r.a.Fragment,null,_(l),r.a.createElement("span",{style:k},u),_(d));return r.a.createElement(n,S,r.a.createElement("span",{style:{opacity:w?0:1},className:c()(o.container,s)},P),w&&r.a.createElement(i.a,{color:O},P))};u.defaultProps={fullWidth:!1,btnStyle:"primary",outline:!1,rounded:!1,size:"standart",disabled:!1,wrapContentStyle:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"}};t.a=u},yiSu:function(e,t,s){"use strict";var n=s("+rr2");s.d(t,"a",(function(){return n}))},"z2J+":function(e,t,s){"use strict";function n(e,t){if("object"==typeof e){const s={};for(const[r,a]of Object.entries(e))s[r]=n(a,t);return s}if("function"==typeof e)return function(e,t){return function(){return t(e(...arguments))}}(e,t);throw new Error("Invalid actionCreators type")}s.d(t,"a",(function(){return n}))},zbc8:function(e,t,s){"use strict";s.d(t,"b",(function(){return r})),s.d(t,"a",(function(){return a}));var n=s("Yr7G");const r={messenger:n.i,viber:n.P,telegram:n.K,vk:n.R,whatsapp:n.S,instagram:n.q,skype:n.E},a={whatsapp:{label:"WhatsApp",color:"#4FCE5D"},telegram:{label:"Telegram",color:"#0088CC"},viber:{label:"Viber",color:"#675CA8"},messenger:{label:"Facebook messenger",color:"#0084FF"},vk:{label:"Vkontakte",color:"#597BA0"},skype:{label:"Skype",color:"#00AFF0"},line:{label:"Line",color:"#00AFF0"},instagram:{label:"Instagram Direct",color:"#E1306C"}}},"zl5+":function(e,t,s){"use strict";var n=s("sosI"),r=s("RTFG");t.a=Object(r.a)((e,t)=>(e=e.includes("-")?e.split("-",2)[0]:e,Object(n.a)(e,t)),(e,t)=>`${e}${t}`)}}]);
//# sourceMappingURL=7.88a00e3bf7b061431b86.js.map