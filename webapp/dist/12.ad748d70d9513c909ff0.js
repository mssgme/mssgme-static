(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{PNWK:function(e,t,a){"use strict";a.r(t),a.d(t,"PageThumbnailRenderer",(function(){return E}));var n=a("xfSh"),r=a.n(n),c=a("r0ML"),i=a.n(c),l=a("QJEF"),s=a("63aL"),o=a("cpKZ"),d=a("S955"),h=a("VkFy"),u="_3Sf_b2cH",w="_1qEdhbLc",b="_2fWpMh6f",g="_2u6Vezgs";const m=e=>{let{website:t,page:a,width:n,height:s,delay:o,onRendered:d,onError:u}=e;const w=Object(c.useMemo)(()=>({width:n,minWidth:n,height:s,minHeight:s,boxShadow:"none",borderRadius:0}),[n,s]),[g,m]=Object(c.useState)(),E=Object(c.useCallback)(async e=>{try{const t=await r()(e,{width:n,height:s,useCORS:!0}),a=await new Promise((e,a)=>{try{t.toBlob(e,"image/jpeg",80)}catch(e){a(e)}});return a||!1}catch(e){return console.log(e),!1}}),f=Object(c.useCallback)(e=>{e&&(d(null),m(e))},[a,t,d]);return Object(c.useEffect)(()=>{if(!g)return;const e=Object(l.default)((async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const n=await E(t);e.cancel(),n?d(n):--a>0?e(t,a):u&&u(new Error("Can't generate preview"))}),o);return u&&u(null),e(g),e.cancel},[g,d]),i.a.createElement("div",{className:b,style:w},i.a.createElement(h.a,{ref:f,style:w,interactive:!1,website:t,page:a}))},E=e=>{let{website:t,page:a,width:n,height:r,delay:c,src:l,error:h,onChange:b,onError:E,...f}=e;return i.a.createElement("div",Object(o.a)(u,f),i.a.createElement("div",{className:g},l?i.a.createElement("img",{src:l,alt:"Thumbnail"}):h?i.a.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",display:"flex"}},i.a.createElement(s.H,{size:20,color:"#999"})):i.a.createElement(d.a,null)),i.a.createElement("div",{className:w},i.a.createElement(m,{website:t,page:a,width:n,height:r,delay:c,onRendered:b,onError:E})))};E.defaultProps={width:375,height:506,delay:1500};t.default=E}}]);
//# sourceMappingURL=12.ad748d70d9513c909ff0.js.map