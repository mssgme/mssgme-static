{"version":3,"sources":["webpack:////drone/src/packages/shared/src/helpers/isMatchedBy.js","webpack:////drone/src/packages/lib/src/baseApi.js","webpack:////drone/src/packages/lib/src/feedbackApi.js","webpack:////drone/src/packages/shared/src/landings/feedbacks.js","webpack:////drone/src/packages/ui/src/components/Inputs/CountrySelect/countries.js","webpack:////drone/src/packages/ui/src/components/Inputs/CountrySelect/index.js","webpack:////drone/src/packages/ui/src/components/Inputs/RadioGroup/styles.scss","webpack:////drone/src/packages/ui/src/components/Inputs/RadioGroup/index.js","webpack:////drone/src/packages/ui/src/components/Inputs/CheckboxGroup/styles.scss","webpack:////drone/src/packages/ui/src/components/Inputs/CheckboxGroup/index.js","webpack:////drone/src/packages/userpage-core/src/landings/hooks/useModalThemes.js","webpack:////drone/src/packages/userpage-core/src/landings/hooks/useCustomInputTheme.js","webpack:////drone/src/packages/userpage-core/src/landings/hooks/useInputTheme.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/DynamicFormInputs/DynamicFormInput.scss","webpack:////drone/src/packages/userpage-core/src/landings/UI/DynamicFormInputs/DynamicFormInput.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/DynamicFormInputs/DynamicFormInputs.scss","webpack:////drone/src/packages/userpage-core/src/landings/UI/DynamicFormInputs/DynamicFormInputs.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/ThemedButton/ThemedButton.scss","webpack:////drone/src/packages/userpage-core/src/landings/UI/ThemedButton/ThemedButton.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/ThemedModal/ThemedModal.scss","webpack:////drone/src/packages/userpage-core/src/landings/UI/ThemedModal/ThemedModal.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/SubscriptionForm/SubscriptionFormContent.scss","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/SubscriptionForm/SubscriptionFormContent.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/SubscriptionForm/SubscriptionForm.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/SubscriptionForm/index.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/MoreButton/styles.scss","webpack:////drone/src/packages/userpage-core/src/landings/UI/MoreButton/index.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/ServicesGrid/ServicesGridItem.scss","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/ServicesGrid/ServicesGridItem.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/ServiceContent/ServiceContent.scss","webpack:////drone/src/packages/userpage-core/src/landings/UI/ServiceContent/ServicePhoto.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/ServiceContent/ServicePhotos.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/ServiceContent/BuyButton.scss","webpack:////drone/src/packages/userpage-core/src/landings/UI/ServiceContent/BuyButton.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/ServiceContent/ServiceActionsPane.js","webpack:////drone/src/packages/helpers/src/parseUrl.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/ServiceContent/ExternalUrlButton.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/ServiceContent/ServiceContent.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/ServicesGrid/ServicesModal.scss","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/ServicesGrid/ServicesModal.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/ServicesGrid/ServicesGrid.scss","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/ServicesGrid/ServicesGrid.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/ServicesGrid/index.js","webpack:////drone/src/packages/userpage-core/src/products/Elements/ProductItem/styles.scss","webpack:////drone/src/packages/userpage-core/src/products/Elements/ProductItem/index.js","webpack:////drone/src/packages/lib/src/productsApi.js","webpack:////drone/src/packages/userpage-core/src/UI/ScrollableBar/ScrollableBar.scss","webpack:////drone/src/packages/userpage-core/src/UI/ScrollableBar/ScrollableBar.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Products/CollectionsBar/ButtonsMenu.scss","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Products/CollectionsBar/ButtonsMenuItems.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Products/CollectionsBar/ButtonsMenu.js","webpack:////drone/src/packages/ui/src/components/Inputs/Buttons/TextButton.scss","webpack:////drone/src/packages/ui/src/components/Inputs/Buttons/TextButton.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Products/CollectionsBar/FilterMenu.scss","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Products/CollectionsBar/FilterMenu.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Products/CollectionsBar/CollectionsBar.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Products/Products.scss","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Products/Products.js","webpack:////drone/src/packages/userpage-core/src/landings/hooks/useProductsApi.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Products/index.js","webpack:////drone/src/packages/userpage-core/src/landings/hooks/useContacts.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/Grid/styles.scss","webpack:////drone/src/packages/userpage-core/src/landings/UI/Grid/index.js","webpack:////drone/src/packages/userpage-core/src/landings/Product/CollectionView/CollectionView.scss","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrdersPage/UserOrdersPage.scss","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrdersPage/UserOrdersPage.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/PayButton/PayButton.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/StripeCheckoutForm.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/StripeCheckoutForm.scss","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/ShoppingCartPage/Providers/PayPalPayment.scss","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/ShoppingCartPage/Providers/Buttons/WayforpayButton.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/ShoppingCartPage/Providers/WayforpayPayment.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/ShoppingCartPage/Providers/Buttons/RobokassaButton.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/ShoppingCartPage/Providers/Buttons/LiqpayButton.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/ShoppingCartPage/Providers/index.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/ShoppingCartPage/Providers/CashOnDeliveryPayment.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/ShoppingCartPage/Providers/StripePayment.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/ShoppingCartPage/Providers/PayPalPayment.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/ShoppingCartPage/Providers/RobokassaPayment.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/ShoppingCartPage/Providers/LiqpayPayment.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/ShoppingCartPage/Providers/OtherPayment.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/OrderViewPage/OrderViewPage.scss","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/OrderViewPage/Section.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/OrderViewPage/Row.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/OrderViewPage/OrderViewPage.js","webpack:////drone/src/packages/userpage-core/src/landings/hooks/usePageColors.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/Steps/StepContext.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/Steps/useStep.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/Steps/StepSwitch.scss","webpack:////drone/src/packages/userpage-core/src/landings/UI/Steps/StepIcon.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/Steps/StepSwitch.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/Steps/Step.scss","webpack:////drone/src/packages/userpage-core/src/landings/UI/Steps/Step.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/Row.scss","webpack:////drone/src/packages/userpage-core/src/landings/Order/Row.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/Divider/Divider.scss","webpack:////drone/src/packages/userpage-core/src/landings/Order/Divider/Divider.js","webpack:////drone/src/packages/icons/src/dist-icons/MinusIcon.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderItem/OrderItem.scss","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderItem/OrderItem.js","webpack:////drone/src/packages/helpers/src/getTransparentColor.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/OrderItem/OrderItemsList.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/ShoppingCartPage/Steps/StepsFooter.scss","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/ShoppingCartPage/Steps/StepsFooter.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/ShoppingCartPage/Steps/AdjustingStep.js","webpack:////drone/src/packages/userpage-core/src/landings/UI/Inputs/TextField/TextField.scss","webpack:////drone/src/packages/userpage-core/src/landings/UI/Inputs/TextField/TextField.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/captureSubmitError.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/useOrderSubmit.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/ShoppingCartPage/Steps/ContactInfoStep.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/ShoppingCartPage/Steps/ShippingAddressStep.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/ShoppingCartPage/Steps/PaymentStep.scss","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/ShoppingCartPage/Steps/PaymentStep.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/ShoppingCartPage/ShoppingCartPage.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/UserOrderPage.scss","webpack:////drone/src/packages/userpage-core/src/landings/Order/PaymentStatusPage.scss","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/PageProductsRouting.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/UserOrderPage/UserOrderPage.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/useOrder.js","webpack:////drone/src/packages/userpage-core/src/landings/Order/PaymentStatusPage.js","webpack:////drone/src/packages/userpage-core/src/landings/Product/ProductView/ProductView.js","webpack:////drone/src/packages/userpage-core/src/landings/Product/CollectionView/CollectionView.js"],"names":["value","prop","what","String","toLowerCase","item","defaults","baseUrl","BaseApi","constructor","options","this","get","endpoint","request","post","body","method","put","delete","Array","isArray","params","obj","arr","val","push","length","join","urlSearch","startsWith","isAbsolute","headers","rest","response","fetch","includes","toUpperCase","Accept","JSON","stringify","undefined","ok","status","errors","json","error","Error","type","ValidationError","message","AuthorizationError","statusText","ApiError","FeedbackApi","submit","workspaceId","websiteId","payload","mapDynamicFieldToName","_ref","index","_id","priorityCountries","separator","key","label","disabled","getDefaultCountriesOptions","memoizeOne","lang","availableLang","languages","fallback_language","countriesArray","Object","values","countries","map","alpha_2","alpha_3","sort","item1","item2","localeCompare","prioritizedCountries","filter","country","indexOf","restCountries","__t","CountrySelect","i18n","useTranslation","React","createElement","SelectSimple","_extends","language","RadioIcon","color","version","viewBox","xmlns","width","height","fill","fillRule","transform","x","y","rx","stroke","strokeWidth","className","styles","RadioGroup","_ref2","name","onChange","pane","hasError","cls","option","_rest$style","isSelected","classNames","style","checked","dangerouslySetInnerHTML","__html","CheckboxGroup","isChecked","Field","as","Checkbox","builderInput","placeholder","useModalThemes","kind","arguments","ProductsBlockKind","baseTheme","useTheme","theme","useElementTheme","elementPath","compile","useMemo","modalStyle","backgroundColor","colors","background","contentStyle","useCustomInputTheme","customTheme","input","inputBackgroundColor","inputTextColor","border","borderRadius","padding","display","useInputTheme","SubscriptionFormBlockKind","specificComponents","select","radio","checkbox","inputSpecificTypes","phone","handleEnterKey","e","preventDefault","isFieldSupport","feature","DynamicFormInput","defaultMaxSize","defaultStyle","maxLength","size","fieldProps","required","specificComponent","isTextArea","commonProps","optionsArray","split","Boolean","component","Textarea","Input","onKeyPress","min","inputMode","pattern","getFieldProps","field","meta","useField","FormField","shakeError","touched","errorStyle","inputClassName","labelClassName","DynamicFormInputs","block","root","gridMode","items","ThemedButton","isFetching","contour","baseStyle","contentAlignLeft","getContourColor","buttonBackground","buttonTextColor","keyHash","Button","tag","loaderColor","stopPropagation","animateValue","from","to","transition","startAnimation","stop","ThemedModal","handleHash","compact","overlay","children","showHeader","title","onClose","onClosing","noEscape","noop","targetNode","document","querySelector","history","useHistory","isDesktopAdaptation","clientWidth","revealOffsetMap","opacity","useMotionValue","useTransform","scale","usePageTheme","container","text","close","isClosing","setClosing","useState","handleClose","useCallback","async","_len","args","_key","replace","location","pathname","duration","onComplete","goBack","useEffect","usePresenceRemoval","ReactDom","createPortal","onClick","motion","div","cn","FiX","renderNode","defaultProps","defaultCountry","memoize","SubscriptionFormContent","onSubmit","rawSubmit","interactive","sent","setSent","validationSchema","object","reduce","acc","validator","string","trim","max","email","matches","excludeEmptyString","mapDynamicInputsToValidationSchema","FormTag","loading","useAsyncFn","pairs","_values$item$_id","formik","useEnhancedFormik","initialValues","getFormDefaults","fields","fromEntries","handleSentModalClosed","resetForm","hasUrl","sentUrl","timer","setTimeout","window","clearTimeout","setErrors","mapValues","FormikProvider","id","SubmitButton","isInitialHidden","fullWidth","sendLabel","AnimatePresence","FiCheck","sentText","SubscriptionForm","useBlockTheme","website","useWebsiteData","page","usePageData","combined","useMergedStyles","handleSubmit","feedbackApi","workspace","pageId","blockId","data","submitEvent","CustomEvent","detail","dispatchEvent","BlockBase","MoreButton","ServicesGridItem","themeStyles","getMediaSizeUrl","useUploads","photoUrl","MediaSizes","Half","thumbnail","LazyImage","src","alt","emptyPlaceholder","IoMdImage","price","formattedDiscount","discount","discountPrice","amount","lineThrough","formatted","ServicePhoto","forwardRef","ref","onLoad","handleClick","slide","slideImage","Large","zoomIcon","common","FiZoomIn","imagePreloader","LoadingIndicator","lazy","loadPrevNext","preloaderClass","loadedClass","loaded","ServicePhotos","photos","isActive","isPrev","isNext","navigationPrevRef","useRef","navigationNextRef","paginationElRef","shouldSwiperLoad","setShouldSwiperLoad","swiper","setSwiper","isLightbox","setIsLightbox","currentLightBoxSlideIndex","setCurrentLightBoxSlideIndex","hasMultiplePhotos","hasNavElements","current","showSwiper","isSwipeable","openLightBox","closeLightBox","handleSlide","pagination","el","clickable","renderBullet","dot","clickableClass","clickablePagination","bulletActiveClass","activeBullet","handleLoad","updateAutoHeight","swiperContainer","Swiper","nested","autoHeight","navigation","prevEl","nextEl","speed","watchOverflow","loop","onSwiper","preloader","controlsContainer","hidden","controls","noSwiping","control","FiChevronLeft","FiChevronRight","closeButtonWrapper","closeButton","Suspense","fallback","LightBox","activeIndex","images","url","BuyButton","service","onCartAdd","productCurrency","api","useFrontAPI","generateUrl","useNavigationUtils","router","useCoreContext","currentOrder","saveOrderId","useSavedOrders","isInCart","find","productId","orderId","orderPath","orders","toView","isDifferentCurrency","_currentOrder$items$","_currentOrder$items$$","orderCurrency","currency","restrictCurrenciesMessage","toggleRestrictCurrenciesMessage","useToggle","handleBuy","quantity","result","modify","create","Fragment","beforeIcon","ShoppingCartIcon","Link","state","slug","backPath","product","textAlign","ServiceActionsPane","contacts","enabledPayments","renderBlock","useRenderer","hasContacts","actionsBuy","actionsBuyButton","actionsWrap","ExternalUrlButton","_service$externalButt","_service$externalButt2","externalButton","externalUrl","parsed","URL","err","parseUrl","LinkBlank","href","data-id","data-title","data-element","data-event-name","urlSafeComponent","buttonContent","hostname","ServiceContent","description","backUrl","isCartAddAnimation","toggleCartAddAnimation","rootEl","serviceTitle","isDarkTheme","isLightColor","slice","backgroundImage","substring","contactsEl","_e$preventDefault","call","scrollTop","scrollTo","top","behavior","wrapper","active","content","dark","fixedPane","cartBouncer","animate","bottom","exit","stiffness","ShoppingCartButton","steady","absolute","ServicesModal","services","hasMultipleServices","contactBlocks","enabled","_ref3","blocks","isMatchedById","handleSlideChange","realIndex","allowTouchMove","initialSlide","noSwipingClass","onInit","onSlideChange","assign","_ref4","ServicesGrid","sortable","delay","useLocation","hashId","hash","slideIndexFromHash","findIndex","hasSlideFromHash","Number","isInteger","setPage","isDelayed","setDelayed","isServicesModal","setIsServicesModal","currentServiceIndex","setCurrentServiceIndex","total","hasMore","Math","ceil","sliced","handleLoadMore","old","openServicesModal","closeServicesModal","useTimeoutFn","Spinner","servicesList","pointerEvents","moreButtonContainer","ServicesGridBlockKind","ProductItem","Tag","published","mediaUtils","generateProductThumbnailUrl","ProductsApi","list","load","loadBySlug","productSlug","collectionId","ScrollableBar","containerClass","scroll","useHorizontalTabbedScroll","hasLeftBtn","hasRightBtn","moveLeft","moveRight","moveTo","useBasePageColor","useDeepCompareEffect","ButtonsMenuItems","activeCollectionId","onSelect","resolvePathname","themeStyle","button","productsCategoryTextColor","buttonActive","isTabbed","filterMode","ItemTag","_e$target$dataset","_items$index","target","dataset","col","data-index","data-slug","default","ButtonsMenu","TextButton","props","PureButton","FilterMenuItem","collection","publishedProductsCount","FilterMenu","isOpen","toggle","selected","isMatchId","useClickAway","handleSelect","aria-pressed","ChevronDownIcon","Fade","in","CollectionsBar","Item","baseProductUrl","fromCollection","_product$slug","Products","_showCollections$","isMobileMode","isMounted","useMountedState","commonStyle","moreStyle","collectionIds","activeCollections","collections","showCollections","setActiveCollectionId","pick","query","limit","isMobile","include","hasNext","getProducts","store","setStore","next","publishedCount","pending","run","useFetching","results","productsStore","productsApi","resetStore","prevProducts","concat","useDebounce","catch","handleError","useProductsApi","handleMore","getFromCollection","keys","cols","_showCollections$2","firstId","SearchIcon","useContacts","messengers","useCRMData","MessengersBlockKind","Grid","itemClassName","Children","immediate","PayButton","_PAYMENT_PROVIDERS$pr","_PAYMENT_PROVIDERS$pr2","provider","isSingular","usePaymentConfigs","PAYMENT_PROVIDERS","Icon","icon","CARD_OPTIONS","hidePostalCode","iconStyle","classes","base","webkitAutofill","StripeCheckoutForm","rawDisabled","onPay","stripe","useStripe","elements","useElements","inputStyles","succeeded","setSucceeded","processing","setProcessing","setDisabled","setError","iconColor","overflow","clientSecret","useAsync","signatures","createStripePaymentIntent","isDisabled","confirmCardPayment","payment_method","card","getElement","CardElement","handleChange","empty","FormErrors","shake","marginTop","merchantDomainName","orderPaymentTimeout","WayforpayButton","merchantAccount","orderReference","orderDate","products","returnUrl","serviceUrl","createSignature","productName","productPrice","productCount","count","merchantSignature","setMerchantSignature","action","extractProduct","RobokassaButton","merchantLogin","invId","outSum","outSumCurrency","isTest","signature","setSignature","LiqpayButton","publicKey","resultUrl","serverUrl","public_key","order_id","encode","FiTruck","FaPaypal","FaStripe","FaMoneyBillAlt","FiChevronsRight","PAYMENT_PROVIDER_RENDERERS","cod","handleOrder","order","payments","isSingularOnline","isModal","toggleModal","stripePromise","loadStripe","Elements","paypal","contactInfo","firstName","lastName","supported_currencies","isSupportedCurrency","createOrder","actions","purchase_units","currency_code","breakdown","item_total","payer","given_name","surname","unit_amount","onApprove","details","capture","PayPalScriptProvider","clientId","PayPalButtons","layout","tagline","wayforpay","finalUrl","floor","random","round","Date","now","createWayforpaySignature","BACKEND_ENDPOINTS","getWayforpayCallback","robokassa","test","createRobokassaSignature","liqpay","getLiqPayCallback","getLiqPayResultUrl","createLiqpaySignature","other","handleModal","instructions","whiteSpace","Section","features","Row","OrderViewPage","_order$contactInfo","isPayNowModal","togglePayNowModal","isShowingCancelPrompt","showCancelPrompt","hideCancelPrompt","useBooleanHandler","online","mapper","finalizeLoading","handlePay","finalize","paymentMethod","cancelLoading","handleCancelOrder","cancel","finalized","isJustOneOnlinePaymentMethod","onlineElements","Renderer","feedback","handlesPaymentsStatus","phoneNumber","shippingAddress","city","address","postalCode","comment","usePageColors","StepContext","createContext","getPrevStep","first","getNextStep","last","useStep","currentStep","setCurrentStep","steps","useContext","lastStep","isFirstStep","isLastStep","nextStep","previousStep","gotoStep","step","_steps","isDone","gotoNextStep","gotoPreviousStep","getStepName","firstStep","StepIcon","number","isCurrent","stepCurrent","StepSwitch","mapped","toArray","setSteps","child","divider","borderColor","Provider","Step","Divider","borderTop","MinusIcon","svgRef","IconBase","d","strokeLinecap","strokeLinejoin","ForwardRef","OrderItem","onAdjust","rawColor","setAlpha","TinyColor2","isEditable","isMultiEditable","handleAdjust","delta","handleAdd","handleSubtract","handleRemove","Infinity","IconButton","knob","CloseIcon","row","quantityText","margin","PlusIcon","fontWeight","printPrice","subtotal","subTotal","OrderItemsList","useOrderProducts","marginBottom","StepsFooter","prev","isFetchingPrev","handlePrev","isFetchingNext","handleNext","AdjustingStep","handleModifyItems","TextField","customStyle","captureSubmitError","fn","helpers","is","fieldName","setFieldError","useOrderSubmit","update","INITIAL_CONTACT_INFO","ContactInfoStep","_form$optional","form","doSubmit","noLastName","optional","Formik","isSubmitting","Form","INITIAL_SHIPPING_ADDRESS","ShippingAddressStep","_form$optional2","_form$optional3","requestCity","requestState","requestPostalCode","PaymentStep","_immediate$","removeCurrentOrderId","hasOnlineMethods","hasImmediateMethods","isJustOneOnlinePaymentMethods","toStatus","setSelected","optionStyles","found","i","renderOption","_ref5","CheckableItem","contentClass","_ref6","ListInput","containerClassName","choiceClassName","ShoppingCartPage","Redirect","ShoppingBagIcon","MdContactPhone","collectAddress","MapPinIcon","CreditCardIcon","ordersRouting","path","userOrders","finalizedOrders","shouldRenderPaymentStatus","timestamp","toLocaleDateString","exact","isNotFound","useUserOrders","show","complete","NotFoundError","useOrder","removeOrderId","toHome","handleClosing","useEventCallback","remove","renderContent","useViewOrder","successURL","hasSuccessUrl","resolvedStatus","event","FaRegFrown","FaRegSmileBeam","successMessage","SmartButton","link","minHeight","productRouting","_history$location$sta","collectionSlug","isMatchedBy","defaultCollectionId","getProduct","addUrl","encodeURIComponent","documentElement","start","messenger","is404","routing","setProducts","PageProductsRouting","AnimateableRoutes"],"mappings":"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","file":"8.7770d6fb5b49922b494f.js","sourcesContent":["export default (value, prop) => {\n    const what = String(value).toLowerCase();\n\n    return (item) => String(item[prop]).toLowerCase() === what;\n};\n","const defaults = {\n    baseUrl: '/api',\n};\n\n// const meta = document.querySelector('meta[name=\"csrf-token\"]');\n// const csrfToken = meta ? meta.content : undefined;\n\nconst ApiError = (status, statusText) => {\n    const error = Error(statusText);\n    error.status = status;\n    error.type = 'api';\n    return error;\n};\n\nfunction urlSearch(obj) {\n    if (typeof obj !== 'object') return '';\n    const arr = [];\n\n    for (let prop in obj) {\n        const val = obj[prop];\n        if (val !== null && val !== undefined) arr.push(`${prop}=${val}`);\n    }\n\n    return arr.length > 0 ? '?' + arr.join('&') : '';\n}\n\nconst ValidationError = (errors) => {\n    const error = new Error('Validation error');\n    error.type = 'validation';\n    error.errors = errors;\n    return error;\n};\n\nconst AuthorizationError = (message) => {\n    const error = new Error(message);\n    error.type = 'authorization';\n    return error;\n};\n\nfunction isAbsolute(endpoint) {\n    return endpoint.startsWith('http://') || endpoint.startsWith('https://');\n}\n\nexport class BaseApi {\n    constructor(options) {\n        this.options = { ...defaults, ...options };\n    }\n\n    get(endpoint) {\n        return this.request(endpoint);\n    }\n\n    post(endpoint, body) {\n        return this.request(endpoint, { method: 'POST', body });\n    }\n\n    put(endpoint, body) {\n        return this.request(endpoint, { method: 'PUT', body });\n    }\n\n    delete(endpoint) {\n        return this.request(endpoint, { method: 'DELETE' });\n    }\n\n    async request(endpoint, options) {\n        if (Array.isArray(endpoint)) {\n            let params;\n            [endpoint, params] = endpoint;\n            endpoint = endpoint + urlSearch(params);\n        }\n\n        if (!isAbsolute(endpoint)) endpoint = this.options.baseUrl + endpoint;\n\n        const { method, headers, body, ...rest } = { method: 'GET', ...options };\n\n        const response = await fetch(endpoint, {\n            method: ['PUT', 'DELETE'].includes(method.toUpperCase()) ? 'POST' : method,\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                'X-HTTP-Method-Override': method.toUpperCase(),\n                // 'X-CSRF-Token': csrfToken,\n                ...headers,\n            },\n            body: body ? JSON.stringify(body) : undefined,\n            ...rest,\n        });\n\n        if (!response.ok) {\n            switch (response.status) {\n                case 400: {\n                    const { errors } = await response.json();\n                    throw ValidationError(errors);\n                }\n                case 401:\n                case 403:\n                    throw AuthorizationError(response.statusText);\n                default:\n                    throw ApiError(response.status, response.statusText);\n            }\n        }\n\n        if (response.status !== 204) {\n            return response.json();\n        }\n    }\n}\n\nexport default (options) => new BaseApi(options);\n","import { BaseApi } from './baseApi';\n\nexport class FeedbackApi extends BaseApi {\n    submit(workspaceId, websiteId, payload) {\n        return this.post(`/workspaces/${workspaceId}/websites/${websiteId}/feedback`, payload);\n    }\n}\n\nexport default ((options) => new FeedbackApi(options))();\n","import { object, string } from 'yup';\n\nimport { __t } from '../trans';\n\nexport const defaultDynamicFieldLengthLimit = 250;\nexport const mapDynamicFieldToName = ({ _id }, index) => _id || `field-${index}`;\nexport const mapDynamicInputsToValidationSchema = ({ items }) =>\n    object({\n        ...items.reduce((acc, item, index) => {\n            const field = mapDynamicFieldToName(item, index);\n            let validator = string()\n                .trim()\n                .max(item.size || defaultDynamicFieldLengthLimit, __t('field_too_long'));\n\n            if (item.required) {\n                validator = validator.required(__t('field_required'));\n            }\n\n            switch (item.type) {\n                case 'email': {\n                    validator = validator.email(__t('field_email'));\n\n                    break;\n                }\n                case 'phone': {\n                    validator = validator.matches(/\\+?[\\d\\-\\s()]{5,}/, {\n                        name: 'phone',\n                        message: __t('field_phone'),\n                        excludeEmptyString: true,\n                    });\n\n                    break;\n                }\n            }\n\n            acc[field] = validator;\n\n            return acc;\n        }, {}),\n    });\n","export default {\n    'afghanistan': {\n        'uk_name': 'Афганістан',\n        'ru_name': 'Афганистан',\n        'en_name': 'Afghanistan',\n        'alpha_2': 'AF',\n        'alpha_3': 'AFG',\n    },\n    'alandislands': {\n        'uk_name': 'Аландські острови',\n        'ru_name': 'Аландские Острова',\n        'en_name': 'Åland Islands',\n        'alpha_2': 'AX',\n        'alpha_3': 'ALA',\n    },\n    'albania': {\n        'uk_name': 'Албанія',\n        'ru_name': 'Албания',\n        'en_name': 'Albania',\n        'alpha_2': 'AL',\n        'alpha_3': 'ALB',\n    },\n    'algeria': {\n        'uk_name': 'Алжир',\n        'ru_name': 'Алжир',\n        'en_name': 'Algeria',\n        'alpha_2': 'DZ',\n        'alpha_3': 'DZA',\n    },\n    'americansamoa': {\n        'uk_name': 'Американське Самоа',\n        'ru_name': 'Американское Самоа',\n        'en_name': 'American Samoa',\n        'alpha_2': 'AS',\n        'alpha_3': 'ASM',\n    },\n    'andorra': {\n        'uk_name': 'Андорра',\n        'ru_name': 'Андорра',\n        'en_name': 'Andorra',\n        'alpha_2': 'AD',\n        'alpha_3': 'AND',\n    },\n    'angola': {\n        'uk_name': 'Ангола',\n        'ru_name': 'Ангола',\n        'en_name': 'Angola',\n        'alpha_2': 'AO',\n        'alpha_3': 'AGO',\n    },\n    'anguilla': {\n        'uk_name': 'Ангілья',\n        'ru_name': 'Ангилья',\n        'en_name': 'Anguilla',\n        'alpha_2': 'AI',\n        'alpha_3': 'AIA',\n    },\n    'antiguaandbarbuda': {\n        'uk_name': 'Антигуа і Барбуда',\n        'ru_name': 'Антигуа и Барбуда',\n        'en_name': 'Antigua and Barbuda',\n        'alpha_2': 'AG',\n        'alpha_3': 'ATG',\n    },\n    'argentina': {\n        'uk_name': 'Аргентина',\n        'ru_name': 'Аргентина',\n        'en_name': 'Argentina',\n        'alpha_2': 'AR',\n        'alpha_3': 'ARG',\n    },\n    'armenia': {\n        'uk_name': 'Вірменія',\n        'ru_name': 'Армения',\n        'en_name': 'Armenia',\n        'alpha_2': 'AM',\n        'alpha_3': 'ARM',\n    },\n    'aruba': {\n        'uk_name': 'Аруба',\n        'ru_name': 'Аруба',\n        'en_name': 'Aruba',\n        'alpha_2': 'AW',\n        'alpha_3': 'ABW',\n    },\n    'australia': {\n        'uk_name': 'Австралія',\n        'ru_name': 'Австралия',\n        'en_name': 'Australia',\n        'alpha_2': 'AU',\n        'alpha_3': 'AUS',\n    },\n    'austria': {\n        'uk_name': 'Австрія',\n        'ru_name': 'Австрия',\n        'en_name': 'Austria',\n        'alpha_2': 'AT',\n        'alpha_3': 'AUT',\n    },\n    'azerbaijan': {\n        'uk_name': 'Азербайджан',\n        'ru_name': 'Азербайджан',\n        'en_name': 'Azerbaijan',\n        'alpha_2': 'AZ',\n        'alpha_3': 'AZE',\n    },\n    'thebahamas': {\n        'uk_name': 'Багамські Острови',\n        'ru_name': 'Багамские Острова',\n        'en_name': 'The Bahamas',\n        'alpha_2': 'BS',\n        'alpha_3': 'BHS',\n    },\n    'bahrain': {\n        'uk_name': 'Бахрейн',\n        'ru_name': 'Бахрейн',\n        'en_name': 'Bahrain',\n        'alpha_2': 'BH',\n        'alpha_3': 'BHR',\n    },\n    'bangladesh': {\n        'uk_name': 'Бангладеш',\n        'ru_name': 'Бангладеш',\n        'en_name': 'Bangladesh',\n        'alpha_2': 'BD',\n        'alpha_3': 'BGD',\n    },\n    'barbados': {\n        'uk_name': 'Барбадос',\n        'ru_name': 'Барбадос',\n        'en_name': 'Barbados',\n        'alpha_2': 'BB',\n        'alpha_3': 'BRB',\n    },\n    'belarus': {\n        'uk_name': 'Білорусь',\n        'ru_name': 'Беларусь',\n        'en_name': 'Belarus',\n        'alpha_2': 'BY',\n        'alpha_3': 'BLR',\n    },\n    'belgium': {\n        'uk_name': 'Бельгія',\n        'ru_name': 'Бельгия',\n        'en_name': 'Belgium',\n        'alpha_2': 'BE',\n        'alpha_3': 'BEL',\n    },\n    'belize': {\n        'uk_name': 'Беліз',\n        'ru_name': 'Белиз',\n        'en_name': 'Belize',\n        'alpha_2': 'BZ',\n        'alpha_3': 'BLZ',\n    },\n    'benin': {\n        'uk_name': 'Бенін',\n        'ru_name': 'Бенин',\n        'en_name': 'Benin',\n        'alpha_2': 'BJ',\n        'alpha_3': 'BEN',\n    },\n    'bermuda': {\n        'uk_name': 'Бермудські Острови',\n        'ru_name': 'Бермудские острова',\n        'en_name': 'Bermuda',\n        'alpha_2': 'BM',\n        'alpha_3': 'BMU',\n    },\n    'bhutan': {\n        'uk_name': 'Бутан',\n        'ru_name': 'Бутан',\n        'en_name': 'Bhutan',\n        'alpha_2': 'BT',\n        'alpha_3': 'BTN',\n    },\n    'bolivia': {\n        'uk_name': 'Болівія',\n        'ru_name': 'Боливия',\n        'en_name': 'Bolivia',\n        'alpha_2': 'BO',\n        'alpha_3': 'BOL',\n    },\n    'bonaire': {\n        'uk_name': 'Карибські Нідерланди',\n        'ru_name': 'Бонайре',\n        'en_name': 'Bonaire',\n        'alpha_2': 'BQ',\n        'alpha_3': 'BES',\n    },\n    'botswana': {\n        'uk_name': 'Ботсвана',\n        'ru_name': 'Ботсвана',\n        'en_name': 'Botswana',\n        'alpha_2': 'BW',\n        'alpha_3': 'BWA',\n    },\n    'brazil': {\n        'uk_name': 'Бразилія',\n        'ru_name': 'Бразилия',\n        'en_name': 'Brazil',\n        'alpha_2': 'BR',\n        'alpha_3': 'BRA',\n    },\n    'britishindianoceanterritory': {\n        'uk_name': 'Британська Територія в Індійському Океані',\n        'ru_name': 'Британская Территория В Индийском Океане',\n        'en_name': 'British Indian Ocean Territory',\n        'alpha_2': 'IO',\n        'alpha_3': 'IOT',\n    },\n    'britishvirginislands': {\n        'uk_name': 'Британські Віргінські Острови',\n        'ru_name': 'Британские Виргинские Острова',\n        'en_name': 'British Virgin Islands',\n        'alpha_2': 'VG',\n        'alpha_3': 'VGB',\n    },\n    'brunei': {\n        'uk_name': 'Бруней',\n        'ru_name': 'Бруней',\n        'en_name': 'Brunei',\n        'alpha_2': 'BN',\n        'alpha_3': 'BRN',\n    },\n    'bulgaria': {\n        'uk_name': 'Болгарія',\n        'ru_name': 'Болгария',\n        'en_name': 'Bulgaria',\n        'alpha_2': 'BG',\n        'alpha_3': 'BGR',\n    },\n    'burkinafaso': {\n        'uk_name': 'Буркіна-Фасо',\n        'ru_name': 'Буркина-Фасо',\n        'en_name': 'Burkina Faso',\n        'alpha_2': 'BF',\n        'alpha_3': 'BFA',\n    },\n    'burundi': {\n        'uk_name': 'Бурунді',\n        'ru_name': 'Бурунди',\n        'en_name': 'Burundi',\n        'alpha_2': 'BI',\n        'alpha_3': 'BDI',\n    },\n    'cambodia': {\n        'uk_name': 'Камбоджа',\n        'ru_name': 'Камбоджа',\n        'en_name': 'Cambodia',\n        'alpha_2': 'KH',\n        'alpha_3': 'KHM',\n    },\n    'cameroon': {\n        'uk_name': 'Камерун',\n        'ru_name': 'Камерун',\n        'en_name': 'Cameroon',\n        'alpha_2': 'CM',\n        'alpha_3': 'CMR',\n    },\n    'canada': {\n        'uk_name': 'Канада',\n        'ru_name': 'Канада',\n        'en_name': 'Canada',\n        'alpha_2': 'CA',\n        'alpha_3': 'CAN',\n    },\n    'capeverde': {\n        'uk_name': 'Кабо-Верде',\n        'ru_name': 'Кабо-Верде',\n        'en_name': 'Cape Verde',\n        'alpha_2': 'CV',\n        'alpha_3': 'CPV',\n    },\n    'caymanislands': {\n        'uk_name': 'Кайманові Острови',\n        'ru_name': 'Каймановы Острова',\n        'en_name': 'Cayman Islands',\n        'alpha_2': 'KY',\n        'alpha_3': 'CYM',\n    },\n    'centralafricanrepublic': {\n        'uk_name': 'Центральноафриканська Республіка',\n        'ru_name': 'Центральноафриканская Республика',\n        'en_name': 'Central African Republic',\n        'alpha_2': 'CF',\n        'alpha_3': 'CAF',\n    },\n    'chad': {\n        'uk_name': 'Чад',\n        'ru_name': 'Чад',\n        'en_name': 'Chad',\n        'alpha_2': 'TD',\n        'alpha_3': 'TCD',\n    },\n    'chile': {\n        'uk_name': 'Чилі',\n        'ru_name': 'Чили',\n        'en_name': 'Chile',\n        'alpha_2': 'CL',\n        'alpha_3': 'CHL',\n    },\n    'china': {\n        'uk_name': 'Китайська Народна Республіка',\n        'ru_name': 'Китай',\n        'en_name': 'China',\n        'alpha_2': 'CN',\n        'alpha_3': 'CHN',\n    },\n    'christmasisland': {\n        'uk_name': 'Острів Різдва',\n        'ru_name': 'Остров Рождества',\n        'en_name': 'Christmas Island',\n        'alpha_2': 'CX',\n        'alpha_3': 'CXR',\n    },\n    'cocos(keeling)islands': {\n        'uk_name': 'Кокосові острови',\n        'ru_name': 'Кокосовые (Килинг Острова',\n        'en_name': 'Cocos (Keeling) Islands',\n        'alpha_2': 'CC',\n        'alpha_3': 'CCK',\n    },\n    'colombia': {\n        'uk_name': 'Колумбія',\n        'ru_name': 'Колумбия',\n        'en_name': 'Colombia',\n        'alpha_2': 'CO',\n        'alpha_3': 'COL',\n    },\n    'comoros': {\n        'uk_name': 'Коморські Острови',\n        'ru_name': 'Коморские острова',\n        'en_name': 'Comoros',\n        'alpha_2': 'KM',\n        'alpha_3': 'COM',\n    },\n    'republicofthecongo': {\n        'uk_name': 'Республіка Конго',\n        'ru_name': 'Республика Конго',\n        'en_name': 'Republic of the Congo',\n        'alpha_2': 'CG',\n        'alpha_3': 'COG',\n    },\n    'democraticrepublicofthecongo': {\n        'uk_name': 'ДР Конго',\n        'ru_name': 'Демократическая Республика Конго',\n        'en_name': 'Democratic Republic of the Congo',\n        'alpha_2': 'CD',\n        'alpha_3': 'COD',\n    },\n    'cookislands': {\n        'uk_name': 'Острови Кука',\n        'ru_name': 'Кука',\n        'en_name': 'Cook Islands',\n        'alpha_2': 'CK',\n        'alpha_3': 'COK',\n    },\n    'costarica': {\n        'uk_name': 'Коста-Рика',\n        'ru_name': 'Коста-Рика',\n        'en_name': 'Costa Rica',\n        'alpha_2': 'CR',\n        'alpha_3': 'CRI',\n    },\n    'croatia': {\n        'uk_name': 'Хорватія',\n        'ru_name': 'Хорватия',\n        'en_name': 'Croatia',\n        'alpha_2': 'HR',\n        'alpha_3': 'HRV',\n    },\n    'cuba': {\n        'uk_name': 'Куба',\n        'ru_name': 'Куба',\n        'en_name': 'Cuba',\n        'alpha_2': 'CU',\n        'alpha_3': 'CUB',\n    },\n    'curaçao': {\n        'uk_name': 'Кюрасао',\n        'ru_name': 'Кюрасао',\n        'en_name': 'Curaçao',\n        'alpha_2': 'CW',\n        'alpha_3': 'CUW',\n    },\n    'cyprus': {\n        'uk_name': 'Кіпр',\n        'ru_name': 'Кипр',\n        'en_name': 'Cyprus',\n        'alpha_2': 'CY',\n        'alpha_3': 'CYP',\n    },\n    'czechrepublic': {\n        'uk_name': 'Чехія',\n        'ru_name': 'Чехия',\n        'en_name': 'Czech Republic',\n        'alpha_2': 'CZ',\n        'alpha_3': 'CZE',\n    },\n    'denmark': {\n        'uk_name': 'Данія',\n        'ru_name': 'Дания',\n        'en_name': 'Denmark',\n        'alpha_2': 'DK',\n        'alpha_3': 'DNK',\n    },\n    'djibouti': {\n        'uk_name': 'Джибуті',\n        'ru_name': 'Джибути',\n        'en_name': 'Djibouti',\n        'alpha_2': 'DJ',\n        'alpha_3': 'DJI',\n    },\n    'dominica': {\n        'uk_name': 'Домініка',\n        'ru_name': 'Доминика',\n        'en_name': 'Dominica',\n        'alpha_2': 'DM',\n        'alpha_3': 'DMA',\n    },\n    'dominicanrepublic': {\n        'uk_name': 'Домініканська Республіка',\n        'ru_name': 'Доминиканская Республика',\n        'en_name': 'Dominican Republic',\n        'alpha_2': 'DO',\n        'alpha_3': 'DOM',\n    },\n    'ecuador': {\n        'uk_name': 'Еквадор',\n        'ru_name': 'Эквадор',\n        'en_name': 'Ecuador',\n        'alpha_2': 'EC',\n        'alpha_3': 'ECU',\n    },\n    'egypt': {\n        'uk_name': 'Єгипет',\n        'ru_name': 'Египет',\n        'en_name': 'Egypt',\n        'alpha_2': 'EG',\n        'alpha_3': 'EGY',\n    },\n    'elsalvador': {\n        'uk_name': 'Сальвадор',\n        'ru_name': 'Сальвадор',\n        'en_name': 'El Salvador',\n        'alpha_2': 'SV',\n        'alpha_3': 'SLV',\n    },\n    'equatorialguinea': {\n        'uk_name': 'Екваторіальна Гвінея',\n        'ru_name': 'Экваториальная Гвинея',\n        'en_name': 'Equatorial Guinea',\n        'alpha_2': 'GQ',\n        'alpha_3': 'GNQ',\n    },\n    'eritrea': {\n        'uk_name': 'Еритрея',\n        'ru_name': 'Эритрея',\n        'en_name': 'Eritrea',\n        'alpha_2': 'ER',\n        'alpha_3': 'ERI',\n    },\n    'estonia': {\n        'uk_name': 'Естонія',\n        'ru_name': 'Эстония',\n        'en_name': 'Estonia',\n        'alpha_2': 'EE',\n        'alpha_3': 'EST',\n    },\n    'ethiopia': {\n        'uk_name': 'Ефіопія',\n        'ru_name': 'Эфиопия',\n        'en_name': 'Ethiopia',\n        'alpha_2': 'ET',\n        'alpha_3': 'ETH',\n    },\n    'falklandislands': {\n        'uk_name': 'Фолклендські Острови',\n        'ru_name': 'Фолклендские Острова',\n        'en_name': 'Falkland Islands',\n        'alpha_2': 'FK',\n        'alpha_3': 'FLK',\n    },\n    'faroeislands': {\n        'uk_name': 'Фарерські острови',\n        'ru_name': 'Фарерские Острова',\n        'en_name': 'Faroe Islands',\n        'alpha_2': 'FO',\n        'alpha_3': 'FRO',\n    },\n    'fiji': {\n        'uk_name': 'Фіджі',\n        'ru_name': 'Фиджи',\n        'en_name': 'Fiji',\n        'alpha_2': 'FJ',\n        'alpha_3': 'FJI',\n    },\n    'finland': {\n        'uk_name': 'Фінляндія',\n        'ru_name': 'Финляндия',\n        'en_name': 'Finland',\n        'alpha_2': 'FI',\n        'alpha_3': 'FIN',\n    },\n    'france': {\n        'uk_name': 'Франція',\n        'ru_name': 'Франция',\n        'en_name': 'France',\n        'alpha_2': 'FR',\n        'alpha_3': 'FRA',\n    },\n    'frenchguiana': {\n        'uk_name': 'Французька Гвіана',\n        'ru_name': 'Французская Гвиана',\n        'en_name': 'French Guiana',\n        'alpha_2': 'GF',\n        'alpha_3': 'GUF',\n    },\n    'frenchpolynesia': {\n        'uk_name': 'Французька Полінезія',\n        'ru_name': 'Французская Полинезия',\n        'en_name': 'French Polynesia',\n        'alpha_2': 'PF',\n        'alpha_3': 'PYF',\n    },\n    'frenchsouthernandantarcticlands': {\n        'uk_name': 'Французькі Південні і Антарктичні Території',\n        'ru_name': 'Французские Южные и Антарктические территории',\n        'en_name': 'French Southern and Antarctic Lands',\n        'alpha_2': 'TF',\n        'alpha_3': 'ATF',\n    },\n    'gabon': {\n        'uk_name': 'Габон',\n        'ru_name': 'Габон',\n        'en_name': 'Gabon',\n        'alpha_2': 'GA',\n        'alpha_3': 'GAB',\n    },\n    'thegambia': {\n        'uk_name': 'Гамбія',\n        'ru_name': 'Гамбия',\n        'en_name': 'The Gambia',\n        'alpha_2': 'GM',\n        'alpha_3': 'GMB',\n    },\n    'georgia': {\n        'uk_name': 'Грузія',\n        'ru_name': 'Грузия',\n        'en_name': 'Georgia',\n        'alpha_2': 'GE',\n        'alpha_3': 'GEO',\n    },\n    'germany': {\n        'uk_name': 'Німеччина',\n        'ru_name': 'Германия',\n        'en_name': 'Germany',\n        'alpha_2': 'DE',\n        'alpha_3': 'DEU',\n    },\n    'ghana': {\n        'uk_name': 'Гана',\n        'ru_name': 'Гана',\n        'en_name': 'Ghana',\n        'alpha_2': 'GH',\n        'alpha_3': 'GHA',\n    },\n    'gibraltar': {\n        'uk_name': 'Гібралтар',\n        'ru_name': 'Гибралтар',\n        'en_name': 'Gibraltar',\n        'alpha_2': 'GI',\n        'alpha_3': 'GIB',\n    },\n    'greece': {\n        'uk_name': 'Греція',\n        'ru_name': 'Греция',\n        'en_name': 'Greece',\n        'alpha_2': 'GR',\n        'alpha_3': 'GRC',\n    },\n    'greenland': {\n        'uk_name': 'Гренландія',\n        'ru_name': 'Гренландия',\n        'en_name': 'Greenland',\n        'alpha_2': 'GL',\n        'alpha_3': 'GRL',\n    },\n    'grenada': {\n        'uk_name': 'Гренада',\n        'ru_name': 'Гренада',\n        'en_name': 'Grenada',\n        'alpha_2': 'GD',\n        'alpha_3': 'GRD',\n    },\n    'guadeloupe': {\n        'uk_name': 'Гваделупа',\n        'ru_name': 'Гваделупа',\n        'en_name': 'Guadeloupe',\n        'alpha_2': 'GP',\n        'alpha_3': 'GLP',\n    },\n    'guam': {\n        'uk_name': 'Гуам',\n        'ru_name': 'ГУАМ',\n        'en_name': 'Guam',\n        'alpha_2': 'GU',\n        'alpha_3': 'GUM',\n    },\n    'guatemala': {\n        'uk_name': 'Гватемала',\n        'ru_name': 'Гватемала',\n        'en_name': 'Guatemala',\n        'alpha_2': 'GT',\n        'alpha_3': 'GTM',\n    },\n    'guernsey': {\n        'uk_name': 'Гернсі',\n        'ru_name': 'Гернси',\n        'en_name': 'Guernsey',\n        'alpha_2': 'GG',\n        'alpha_3': 'GGY',\n    },\n    'guinea': {\n        'uk_name': 'Гвінея',\n        'ru_name': 'Гвинея',\n        'en_name': 'Guinea',\n        'alpha_2': 'GN',\n        'alpha_3': 'GIN',\n    },\n    'guineabissau': {\n        'uk_name': 'Гвінея-Бісау',\n        'ru_name': 'Гвинея-Бисау',\n        'en_name': 'Guinea-Bissau',\n        'alpha_2': 'GW',\n        'alpha_3': 'GNB',\n    },\n    'guyana': {\n        'uk_name': 'Гаяна',\n        'ru_name': 'Гайана',\n        'en_name': 'Guyana',\n        'alpha_2': 'GY',\n        'alpha_3': 'GUY',\n    },\n    'haiti': {\n        'uk_name': 'Гаїті',\n        'ru_name': 'Гаити',\n        'en_name': 'Haiti',\n        'alpha_2': 'HT',\n        'alpha_3': 'HTI',\n    },\n    'honduras': {\n        'uk_name': 'Гондурас',\n        'ru_name': 'Гондурас',\n        'en_name': 'Honduras',\n        'alpha_2': 'HN',\n        'alpha_3': 'HND',\n    },\n    'hongkong': {\n        'uk_name': 'Гонконг',\n        'ru_name': 'Гонконг',\n        'en_name': 'Hong Kong',\n        'alpha_2': 'HK',\n        'alpha_3': 'HKG',\n    },\n    'hungary': {\n        'uk_name': 'Угорщина',\n        'ru_name': 'Венгрия',\n        'en_name': 'Hungary',\n        'alpha_2': 'HU',\n        'alpha_3': 'HUN',\n    },\n    'iceland': {\n        'uk_name': 'Ісландія',\n        'ru_name': 'Исландия',\n        'en_name': 'Iceland',\n        'alpha_2': 'IS',\n        'alpha_3': 'ISL',\n    },\n    'india': {\n        'uk_name': 'Індія',\n        'ru_name': 'Индия',\n        'en_name': 'India',\n        'alpha_2': 'IN',\n        'alpha_3': 'IND',\n    },\n    'indonesia': {\n        'uk_name': 'Індонезія',\n        'ru_name': 'Индонезия',\n        'en_name': 'Indonesia',\n        'alpha_2': 'ID',\n        'alpha_3': 'IDN',\n    },\n    'ivorycoast': {\n        'uk_name': 'Кот-д\\'Івуар',\n        'ru_name': 'Кот Д\\'Ивуар',\n        'en_name': 'Ivory Coast',\n        'alpha_2': 'CI',\n        'alpha_3': 'CIV',\n    },\n    'iran': {\n        'uk_name': 'Іран',\n        'ru_name': 'Иран',\n        'en_name': 'Iran',\n        'alpha_2': 'IR',\n        'alpha_3': 'IRN',\n    },\n    'iraq': {\n        'uk_name': 'Ірак',\n        'ru_name': 'Ирак',\n        'en_name': 'Iraq',\n        'alpha_2': 'IQ',\n        'alpha_3': 'IRQ',\n    },\n    'republicofireland': {\n        'uk_name': 'Ірландія',\n        'ru_name': 'Ирландия',\n        'en_name': 'Republic of Ireland',\n        'alpha_2': 'IE',\n        'alpha_3': 'IRL',\n    },\n    'isleofman': {\n        'uk_name': 'Острів Мен',\n        'ru_name': 'Остров Мэн',\n        'en_name': 'Isle of Man',\n        'alpha_2': 'IM',\n        'alpha_3': 'IMN',\n    },\n    'israel': {\n        'uk_name': 'Ізраїль',\n        'ru_name': 'Израиль',\n        'en_name': 'Israel',\n        'alpha_2': 'IL',\n        'alpha_3': 'ISR',\n    },\n    'italy': {\n        'uk_name': 'Італія',\n        'ru_name': 'Италия',\n        'en_name': 'Italy',\n        'alpha_2': 'IT',\n        'alpha_3': 'ITA',\n    },\n    'jamaica': {\n        'uk_name': 'Ямайка',\n        'ru_name': 'Ямайка',\n        'en_name': 'Jamaica',\n        'alpha_2': 'JM',\n        'alpha_3': 'JAM',\n    },\n    'japan': {\n        'uk_name': 'Японія',\n        'ru_name': 'Япония',\n        'en_name': 'Japan',\n        'alpha_2': 'JP',\n        'alpha_3': 'JPN',\n    },\n    'jordan': {\n        'uk_name': 'Йорданія',\n        'ru_name': 'Иордания',\n        'en_name': 'Jordan',\n        'alpha_2': 'JO',\n        'alpha_3': 'JOR',\n    },\n    'kazakhstan': {\n        'uk_name': 'Казахстан',\n        'ru_name': 'Казахстан',\n        'en_name': 'Kazakhstan',\n        'alpha_2': 'KZ',\n        'alpha_3': 'KAZ',\n    },\n    'kenya': {\n        'uk_name': 'Кенія',\n        'ru_name': 'Кения',\n        'en_name': 'Kenya',\n        'alpha_2': 'KE',\n        'alpha_3': 'KEN',\n    },\n    'kiribati': {\n        'uk_name': 'Кірибаті',\n        'ru_name': 'Кирибати',\n        'en_name': 'Kiribati',\n        'alpha_2': 'KI',\n        'alpha_3': 'KIR',\n    },\n    'kuwait': {\n        'uk_name': 'Кувейт',\n        'ru_name': 'Кувейт',\n        'en_name': 'Kuwait',\n        'alpha_2': 'KW',\n        'alpha_3': 'KWT',\n    },\n    'kyrgyzstan': {\n        'uk_name': 'Киргизстан',\n        'ru_name': 'Кыргызстан',\n        'en_name': 'Kyrgyzstan',\n        'alpha_2': 'KG',\n        'alpha_3': 'KGZ',\n    },\n    'laos': {\n        'uk_name': 'Лаос',\n        'ru_name': 'Лаос',\n        'en_name': 'Laos',\n        'alpha_2': 'LA',\n        'alpha_3': 'LAO',\n    },\n    'latvia': {\n        'uk_name': 'Латвія',\n        'ru_name': 'Латвия',\n        'en_name': 'Latvia',\n        'alpha_2': 'LV',\n        'alpha_3': 'LVA',\n    },\n    'lebanon': {\n        'uk_name': 'Ліван',\n        'ru_name': 'Ливан',\n        'en_name': 'Lebanon',\n        'alpha_2': 'LB',\n        'alpha_3': 'LBN',\n    },\n    'lesotho': {\n        'uk_name': 'Лесото',\n        'ru_name': 'Лесото',\n        'en_name': 'Lesotho',\n        'alpha_2': 'LS',\n        'alpha_3': 'LSO',\n    },\n    'liberia': {\n        'uk_name': 'Ліберія',\n        'ru_name': 'Либерия',\n        'en_name': 'Liberia',\n        'alpha_2': 'LR',\n        'alpha_3': 'LBR',\n    },\n    'libya': {\n        'uk_name': 'Лівія',\n        'ru_name': 'Ливия',\n        'en_name': 'Libya',\n        'alpha_2': 'LY',\n        'alpha_3': 'LBY',\n    },\n    'liechtenstein': {\n        'uk_name': 'Ліхтенштейн',\n        'ru_name': 'Лихтенштейн',\n        'en_name': 'Liechtenstein',\n        'alpha_2': 'LI',\n        'alpha_3': 'LIE',\n    },\n    'lithuania': {\n        'uk_name': 'Литва',\n        'ru_name': 'Литва',\n        'en_name': 'Lithuania',\n        'alpha_2': 'LT',\n        'alpha_3': 'LTU',\n    },\n    'luxembourg': {\n        'uk_name': 'Люксембург',\n        'ru_name': 'Люксембург',\n        'en_name': 'Luxembourg',\n        'alpha_2': 'LU',\n        'alpha_3': 'LUX',\n    },\n    'republicofmacedonia': {\n        'uk_name': 'Північна Македонія',\n        'ru_name': 'Республика Македония',\n        'en_name': 'Republic of Macedonia',\n        'alpha_2': 'MK',\n        'alpha_3': 'MKD',\n    },\n    'madagascar': {\n        'uk_name': 'Мадагаскар',\n        'ru_name': 'Мадагаскар',\n        'en_name': 'Madagascar',\n        'alpha_2': 'MG',\n        'alpha_3': 'MDG',\n    },\n    'malawi': {\n        'uk_name': 'Малаві',\n        'ru_name': 'Малави',\n        'en_name': 'Malawi',\n        'alpha_2': 'MW',\n        'alpha_3': 'MWI',\n    },\n    'malaysia': {\n        'uk_name': 'Малайзія',\n        'ru_name': 'Малайзия',\n        'en_name': 'Malaysia',\n        'alpha_2': 'MY',\n        'alpha_3': 'MYS',\n    },\n    'maldives': {\n        'uk_name': 'Мальдіви',\n        'ru_name': 'Мальдивы',\n        'en_name': 'Maldives',\n        'alpha_2': 'MV',\n        'alpha_3': 'MDV',\n    },\n    'mali': {\n        'uk_name': 'Малі',\n        'ru_name': 'Мали',\n        'en_name': 'Mali',\n        'alpha_2': 'ML',\n        'alpha_3': 'MLI',\n    },\n    'malta': {\n        'uk_name': 'Мальта',\n        'ru_name': 'Мальта',\n        'en_name': 'Malta',\n        'alpha_2': 'MT',\n        'alpha_3': 'MLT',\n    },\n    'marshallislands': {\n        'uk_name': 'Маршаллові Острови',\n        'ru_name': 'Маршалловы Острова',\n        'en_name': 'Marshall Islands',\n        'alpha_2': 'MH',\n        'alpha_3': 'MHL',\n    },\n    'martinique': {\n        'uk_name': 'Мартиніка',\n        'ru_name': 'Мартиника',\n        'en_name': 'Martinique',\n        'alpha_2': 'MQ',\n        'alpha_3': 'MTQ',\n    },\n    'mauritania': {\n        'uk_name': 'Мавританія',\n        'ru_name': 'Мавритания',\n        'en_name': 'Mauritania',\n        'alpha_2': 'MR',\n        'alpha_3': 'MRT',\n    },\n    'mauritius': {\n        'uk_name': 'Маврикій',\n        'ru_name': 'Маврикий',\n        'en_name': 'Mauritius',\n        'alpha_2': 'MU',\n        'alpha_3': 'MUS',\n    },\n    'mayotte': {\n        'uk_name': 'Майотта',\n        'ru_name': 'Майотта',\n        'en_name': 'Mayotte',\n        'alpha_2': 'YT',\n        'alpha_3': 'MYT',\n    },\n    'mexico': {\n        'uk_name': 'Мексика',\n        'ru_name': 'Мексика',\n        'en_name': 'Mexico',\n        'alpha_2': 'MX',\n        'alpha_3': 'MEX',\n    },\n    'federatedstatesofmicronesia': {\n        'uk_name': 'Федеративні Штати Мікронезії',\n        'ru_name': 'Федеративные Штаты Микронезии',\n        'en_name': 'Federated States of Micronesia',\n        'alpha_2': 'FM',\n        'alpha_3': 'FSM',\n    },\n    'moldova': {\n        'uk_name': 'Молдова',\n        'ru_name': 'Молдова',\n        'en_name': 'Moldova',\n        'alpha_2': 'MD',\n        'alpha_3': 'MDA',\n    },\n    'monaco': {\n        'uk_name': 'Монако',\n        'ru_name': 'Монако',\n        'en_name': 'Monaco',\n        'alpha_2': 'MC',\n        'alpha_3': 'MCO',\n    },\n    'mongolia': {\n        'uk_name': 'Монголія',\n        'ru_name': 'Монголия',\n        'en_name': 'Mongolia',\n        'alpha_2': 'MN',\n        'alpha_3': 'MNG',\n    },\n    'montenegro': {\n        'uk_name': 'Чорногорія',\n        'ru_name': 'Черногория',\n        'en_name': 'Montenegro',\n        'alpha_2': 'ME',\n        'alpha_3': 'MNE',\n    },\n    'montserrat': {\n        'uk_name': 'Монтсеррат',\n        'ru_name': 'Монсеррат',\n        'en_name': 'Montserrat',\n        'alpha_2': 'MS',\n        'alpha_3': 'MSR',\n    },\n    'morocco': {\n        'uk_name': 'Марокко',\n        'ru_name': 'Марокко',\n        'en_name': 'Morocco',\n        'alpha_2': 'MA',\n        'alpha_3': 'MAR',\n    },\n    'mozambique': {\n        'uk_name': 'Мозамбік',\n        'ru_name': 'Мозамбик',\n        'en_name': 'Mozambique',\n        'alpha_2': 'MZ',\n        'alpha_3': 'MOZ',\n    },\n    'myanmar': {\n        'uk_name': 'М\\'янма',\n        'ru_name': 'Мьянма',\n        'en_name': 'Myanmar',\n        'alpha_2': 'MM',\n        'alpha_3': 'MMR',\n    },\n    'namibia': {\n        'uk_name': 'Намібія',\n        'ru_name': 'Намибия',\n        'en_name': 'Namibia',\n        'alpha_2': 'NA',\n        'alpha_3': 'NAM',\n    },\n    'nauru': {\n        'uk_name': 'Науру',\n        'ru_name': 'Науру',\n        'en_name': 'Nauru',\n        'alpha_2': 'NR',\n        'alpha_3': 'NRU',\n    },\n    'nepal': {\n        'uk_name': 'Непал',\n        'ru_name': 'Непал',\n        'en_name': 'Nepal',\n        'alpha_2': 'NP',\n        'alpha_3': 'NPL',\n    },\n    'netherlands': {\n        'uk_name': 'Нідерланди',\n        'ru_name': 'Нидерланды',\n        'en_name': 'Netherlands',\n        'alpha_2': 'NL',\n        'alpha_3': 'NLD',\n    },\n    'newcaledonia': {\n        'uk_name': 'Нова Каледонія',\n        'ru_name': 'Новая Каледония',\n        'en_name': 'New Caledonia',\n        'alpha_2': 'NC',\n        'alpha_3': 'NCL',\n    },\n    'newzealand': {\n        'uk_name': 'Нова Зеландія',\n        'ru_name': 'Новая Зеландия',\n        'en_name': 'New Zealand',\n        'alpha_2': 'NZ',\n        'alpha_3': 'NZL',\n    },\n    'nicaragua': {\n        'uk_name': 'Нікарагуа',\n        'ru_name': 'Никарагуа',\n        'en_name': 'Nicaragua',\n        'alpha_2': 'NI',\n        'alpha_3': 'NIC',\n    },\n    'niger': {\n        'uk_name': 'Нігер',\n        'ru_name': 'Нигер',\n        'en_name': 'Niger',\n        'alpha_2': 'NE',\n        'alpha_3': 'NER',\n    },\n    'nigeria': {\n        'uk_name': 'Нігерія',\n        'ru_name': 'Нигерия',\n        'en_name': 'Nigeria',\n        'alpha_2': 'NG',\n        'alpha_3': 'NGA',\n    },\n    'niue': {\n        'uk_name': 'Ніуе',\n        'ru_name': 'Ниуэ',\n        'en_name': 'Niue',\n        'alpha_2': 'NU',\n        'alpha_3': 'NIU',\n    },\n    'norfolkisland': {\n        'uk_name': 'Острів Норфолк',\n        'ru_name': 'Остров Норфолк',\n        'en_name': 'Norfolk Island',\n        'alpha_2': 'NF',\n        'alpha_3': 'NFK',\n    },\n    'northkorea': {\n        'uk_name': 'Північна Корея',\n        'ru_name': 'Северная Корея',\n        'en_name': 'North Korea',\n        'alpha_2': 'KP',\n        'alpha_3': 'PRK',\n    },\n    'northernmarianaislands': {\n        'uk_name': 'Північні Маріанські Острови',\n        'ru_name': 'Северные Марианские Острова',\n        'en_name': 'Northern Mariana Islands',\n        'alpha_2': 'MP',\n        'alpha_3': 'MNP',\n    },\n    'norway': {\n        'uk_name': 'Норвегія',\n        'ru_name': 'Норвегия',\n        'en_name': 'Norway',\n        'alpha_2': 'NO',\n        'alpha_3': 'NOR',\n    },\n    'oman': {\n        'uk_name': 'Оман',\n        'ru_name': 'Оман',\n        'en_name': 'Oman',\n        'alpha_2': 'OM',\n        'alpha_3': 'OMN',\n    },\n    'pakistan': {\n        'uk_name': 'Пакистан',\n        'ru_name': 'Пакистан',\n        'en_name': 'Pakistan',\n        'alpha_2': 'PK',\n        'alpha_3': 'PAK',\n    },\n    'palau': {\n        'uk_name': 'Палау',\n        'ru_name': 'Палау',\n        'en_name': 'Palau',\n        'alpha_2': 'PW',\n        'alpha_3': 'PLW',\n    },\n    'palestine': {\n        'uk_name': 'Палестина',\n        'ru_name': 'Палестина',\n        'en_name': 'Palestine',\n        'alpha_2': 'PS',\n        'alpha_3': 'PSE',\n    },\n    'panama': {\n        'uk_name': 'Панама',\n        'ru_name': 'Панама',\n        'en_name': 'Panama',\n        'alpha_2': 'PA',\n        'alpha_3': 'PAN',\n    },\n    'papuanewguinea': {\n        'uk_name': 'Папуа Нова Гвінея',\n        'ru_name': 'Папуа-Новая Гвинея',\n        'en_name': 'Papua New Guinea',\n        'alpha_2': 'PG',\n        'alpha_3': 'PNG',\n    },\n    'paraguay': {\n        'uk_name': 'Парагвай',\n        'ru_name': 'Парагвай',\n        'en_name': 'Paraguay',\n        'alpha_2': 'PY',\n        'alpha_3': 'PRY',\n    },\n    'peru': {\n        'uk_name': 'Перу',\n        'ru_name': 'Перу',\n        'en_name': 'Peru',\n        'alpha_2': 'PE',\n        'alpha_3': 'PER',\n    },\n    'philippines': {\n        'uk_name': 'Філіппіни',\n        'ru_name': 'Филиппины',\n        'en_name': 'Philippines',\n        'alpha_2': 'PH',\n        'alpha_3': 'PHL',\n    },\n    'pitcairnislands': {\n        'uk_name': 'Піткерн',\n        'ru_name': 'Острова Питкэрн',\n        'en_name': 'Pitcairn Islands',\n        'alpha_2': 'PN',\n        'alpha_3': 'PCN',\n    },\n    'poland': {\n        'uk_name': 'Польща',\n        'ru_name': 'Польша',\n        'en_name': 'Poland',\n        'alpha_2': 'PL',\n        'alpha_3': 'POL',\n    },\n    'portugal': {\n        'uk_name': 'Португалія',\n        'ru_name': 'Португалия',\n        'en_name': 'Portugal',\n        'alpha_2': 'PT',\n        'alpha_3': 'PRT',\n    },\n    'puertorico': {\n        'uk_name': 'Пуерто-Рико',\n        'ru_name': 'Пуэрто-Рико',\n        'en_name': 'Puerto Rico',\n        'alpha_2': 'PR',\n        'alpha_3': 'PRI',\n    },\n    'qatar': {\n        'uk_name': 'Катар',\n        'ru_name': 'Катар',\n        'en_name': 'Qatar',\n        'alpha_2': 'QA',\n        'alpha_3': 'QAT',\n    },\n    'republicofkosovo': {\n        'uk_name': 'Республіка Косово',\n        'ru_name': 'Республика Косово',\n        'en_name': 'Republic of Kosovo',\n        'alpha_2': 'XK',\n        'alpha_3': 'KOS',\n    },\n    'réunion': {\n        'uk_name': 'Реюньйон',\n        'ru_name': 'Реюньон',\n        'en_name': 'Réunion',\n        'alpha_2': 'RE',\n        'alpha_3': 'REU',\n    },\n    'romania': {\n        'uk_name': 'Румунія',\n        'ru_name': 'Румыния',\n        'en_name': 'Romania',\n        'alpha_2': 'RO',\n        'alpha_3': 'ROU',\n    },\n    'russia': {\n        'uk_name': 'Росія',\n        'ru_name': 'Россия',\n        'en_name': 'Russia',\n        'alpha_2': 'RU',\n        'alpha_3': 'RUS',\n    },\n    'rwanda': {\n        'uk_name': 'Руанда',\n        'ru_name': 'Руанда',\n        'en_name': 'Rwanda',\n        'alpha_2': 'RW',\n        'alpha_3': 'RWA',\n    },\n    'saintbarthélemy': {\n        'uk_name': 'Сен-Бартелемі',\n        'ru_name': 'Сен-Бартельми',\n        'en_name': 'Saint Barthélemy',\n        'alpha_2': 'BL',\n        'alpha_3': 'BLM',\n    },\n    'saintkittsandnevis': {\n        'uk_name': 'Сент-Кіттс і Невіс',\n        'ru_name': 'Сент-Китс и Невис',\n        'en_name': 'Saint Kitts and Nevis',\n        'alpha_2': 'KN',\n        'alpha_3': 'KNA',\n    },\n    'saintlucia': {\n        'uk_name': 'Сент-Люсія',\n        'ru_name': 'Сент-Люсия',\n        'en_name': 'Saint Lucia',\n        'alpha_2': 'LC',\n        'alpha_3': 'LCA',\n    },\n    'saintmartin': {\n        'uk_name': 'Сен-Мартен',\n        'ru_name': 'Сен-Мартен',\n        'en_name': 'Saint Martin',\n        'alpha_2': 'MF',\n        'alpha_3': 'MAF',\n    },\n    'saintpierreandmiquelon': {\n        'uk_name': 'Сен-П\\'єр і Мікелон',\n        'ru_name': 'Сен-Пьер и Микелон',\n        'en_name': 'Saint Pierre and Miquelon',\n        'alpha_2': 'PM',\n        'alpha_3': 'SPM',\n    },\n    'saintvincentandthegrenadines': {\n        'uk_name': 'Сент-Вінсент і Гренадини',\n        'ru_name': 'Сент-Винсент и Гренадины',\n        'en_name': 'Saint Vincent and the Grenadines',\n        'alpha_2': 'VC',\n        'alpha_3': 'VCT',\n    },\n    'samoa': {\n        'uk_name': 'Самоа',\n        'ru_name': 'Самоа',\n        'en_name': 'Samoa',\n        'alpha_2': 'WS',\n        'alpha_3': 'WSM',\n    },\n    'sanmarino': {\n        'uk_name': 'Сан-Марино',\n        'ru_name': 'Сан-Марино',\n        'en_name': 'San Marino',\n        'alpha_2': 'SM',\n        'alpha_3': 'SMR',\n    },\n    'sãotoméandpríncipe': {\n        'uk_name': 'Сан-Томе і Принсіпі',\n        'ru_name': 'Сан-Томе и Принсипи',\n        'en_name': 'São Tomé and Príncipe',\n        'alpha_2': 'ST',\n        'alpha_3': 'STP',\n    },\n    'saudiarabia': {\n        'uk_name': 'Саудівська Аравія',\n        'ru_name': 'Саудовская Аравия',\n        'en_name': 'Saudi Arabia',\n        'alpha_2': 'SA',\n        'alpha_3': 'SAU',\n    },\n    'senegal': {\n        'uk_name': 'Сенегал',\n        'ru_name': 'Сенегал',\n        'en_name': 'Senegal',\n        'alpha_2': 'SN',\n        'alpha_3': 'SEN',\n    },\n    'serbia': {\n        'uk_name': 'Сербія',\n        'ru_name': 'Сербия',\n        'en_name': 'Serbia',\n        'alpha_2': 'RS',\n        'alpha_3': 'SRB',\n    },\n    'seychelles': {\n        'uk_name': 'Сейшельські Острови',\n        'ru_name': 'Сейшельские острова',\n        'en_name': 'Seychelles',\n        'alpha_2': 'SC',\n        'alpha_3': 'SYC',\n    },\n    'sierraleone': {\n        'uk_name': 'Сьєрра-Леоне',\n        'ru_name': 'Сьерра-Леоне',\n        'en_name': 'Sierra Leone',\n        'alpha_2': 'SL',\n        'alpha_3': 'SLE',\n    },\n    'singapore': {\n        'uk_name': 'Сінгапур',\n        'ru_name': 'Сингапур',\n        'en_name': 'Singapore',\n        'alpha_2': 'SG',\n        'alpha_3': 'SGP',\n    },\n    'sintmaarten': {\n        'uk_name': 'Сінт-Мартен',\n        'ru_name': 'Синт-Мартен',\n        'en_name': 'Sint Maarten',\n        'alpha_2': 'SX',\n        'alpha_3': 'SXM',\n    },\n    'slovakia': {\n        'uk_name': 'Словаччина',\n        'ru_name': 'Словакия',\n        'en_name': 'Slovakia',\n        'alpha_2': 'SK',\n        'alpha_3': 'SVK',\n    },\n    'slovenia': {\n        'uk_name': 'Словенія',\n        'ru_name': 'Словения',\n        'en_name': 'Slovenia',\n        'alpha_2': 'SI',\n        'alpha_3': 'SVN',\n    },\n    'solomonislands': {\n        'uk_name': 'Соломонові Острови',\n        'ru_name': 'Соломоновы Острова',\n        'en_name': 'Solomon Islands',\n        'alpha_2': 'SB',\n        'alpha_3': 'SLB',\n    },\n    'somalia': {\n        'uk_name': 'Сомалі',\n        'ru_name': 'Сомали',\n        'en_name': 'Somalia',\n        'alpha_2': 'SO',\n        'alpha_3': 'SOM',\n    },\n    'southafrica': {\n        'uk_name': 'ПАР',\n        'ru_name': 'Южная Африка',\n        'en_name': 'South Africa',\n        'alpha_2': 'ZA',\n        'alpha_3': 'ZAF',\n    },\n    'southgeorgia': {\n        'uk_name': 'Південна Джорджія та Південні Сандвічеві Острови',\n        'ru_name': 'Южная Георгия',\n        'en_name': 'South Georgia',\n        'alpha_2': 'GS',\n        'alpha_3': 'SGS',\n    },\n    'southkorea': {\n        'uk_name': 'Південна Корея',\n        'ru_name': 'Южная Корея',\n        'en_name': 'South Korea',\n        'alpha_2': 'KR',\n        'alpha_3': 'KOR',\n    },\n    'southsudan': {\n        'uk_name': 'Південний Судан',\n        'ru_name': 'Южный Судан',\n        'en_name': 'South Sudan',\n        'alpha_2': 'SS',\n        'alpha_3': 'SSD',\n    },\n    'spain': {\n        'uk_name': 'Іспанія',\n        'ru_name': 'Испания',\n        'en_name': 'Spain',\n        'alpha_2': 'ES',\n        'alpha_3': 'ESP',\n    },\n    'srilanka': {\n        'uk_name': 'Шрі-Ланка',\n        'ru_name': 'Шри-Ланка',\n        'en_name': 'Sri Lanka',\n        'alpha_2': 'LK',\n        'alpha_3': 'LKA',\n    },\n    'sudan': {\n        'uk_name': 'Судан',\n        'ru_name': 'Судан',\n        'en_name': 'Sudan',\n        'alpha_2': 'SD',\n        'alpha_3': 'SDN',\n    },\n    'suriname': {\n        'uk_name': 'Суринам',\n        'ru_name': 'Суринам',\n        'en_name': 'Suriname',\n        'alpha_2': 'SR',\n        'alpha_3': 'SUR',\n    },\n    'svalbardandjanmayen': {\n        'uk_name': 'Свальбард і Ян-Маєн',\n        'ru_name': 'Шпицберген и Ян Майен',\n        'en_name': 'Svalbard and Jan Mayen',\n        'alpha_2': 'SJ',\n        'alpha_3': 'SJM',\n    },\n    'swaziland': {\n        'uk_name': 'Есватіні',\n        'ru_name': 'Свазиленд',\n        'en_name': 'Swaziland',\n        'alpha_2': 'SZ',\n        'alpha_3': 'SWZ',\n    },\n    'sweden': {\n        'uk_name': 'Швеція',\n        'ru_name': 'Швеция',\n        'en_name': 'Sweden',\n        'alpha_2': 'SE',\n        'alpha_3': 'SWE',\n    },\n    'switzerland': {\n        'uk_name': 'Швейцарія',\n        'ru_name': 'Швейцария',\n        'en_name': 'Switzerland',\n        'alpha_2': 'CH',\n        'alpha_3': 'CHE',\n    },\n    'syria': {\n        'uk_name': 'Сирія',\n        'ru_name': 'Сирия',\n        'en_name': 'Syria',\n        'alpha_2': 'SY',\n        'alpha_3': 'SYR',\n    },\n    'taiwan': {\n        'uk_name': 'Тайвань',\n        'ru_name': 'Тайвань',\n        'en_name': 'Taiwan',\n        'alpha_2': 'TW',\n        'alpha_3': 'TWN',\n    },\n    'tajikistan': {\n        'uk_name': 'Таджикистан',\n        'ru_name': 'Таджикистан',\n        'en_name': 'Tajikistan',\n        'alpha_2': 'TJ',\n        'alpha_3': 'TJK',\n    },\n    'tanzania': {\n        'uk_name': 'Танзанія',\n        'ru_name': 'Танзания',\n        'en_name': 'Tanzania',\n        'alpha_2': 'TZ',\n        'alpha_3': 'TZA',\n    },\n    'thailand': {\n        'uk_name': 'Таїланд',\n        'ru_name': 'Таиланд',\n        'en_name': 'Thailand',\n        'alpha_2': 'TH',\n        'alpha_3': 'THA',\n    },\n    'easttimor': {\n        'uk_name': 'Східний Тимор',\n        'ru_name': 'Восточный Тимор',\n        'en_name': 'East Timor',\n        'alpha_2': 'TL',\n        'alpha_3': 'TLS',\n    },\n    'togo': {\n        'uk_name': 'Того',\n        'ru_name': 'Того',\n        'en_name': 'Togo',\n        'alpha_2': 'TG',\n        'alpha_3': 'TGO',\n    },\n    'tokelau': {\n        'uk_name': 'Токелау',\n        'ru_name': 'Токелау',\n        'en_name': 'Tokelau',\n        'alpha_2': 'TK',\n        'alpha_3': 'TKL',\n    },\n    'tonga': {\n        'uk_name': 'Тонга',\n        'ru_name': 'Тонга',\n        'en_name': 'Tonga',\n        'alpha_2': 'TO',\n        'alpha_3': 'TON',\n    },\n    'trinidadandtobago': {\n        'uk_name': 'Тринідад і Тобаго',\n        'ru_name': 'Тринидад и Тобаго',\n        'en_name': 'Trinidad and Tobago',\n        'alpha_2': 'TT',\n        'alpha_3': 'TTO',\n    },\n    'tunisia': {\n        'uk_name': 'Туніс',\n        'ru_name': 'Тунис',\n        'en_name': 'Tunisia',\n        'alpha_2': 'TN',\n        'alpha_3': 'TUN',\n    },\n    'turkey': {\n        'uk_name': 'Туреччина',\n        'ru_name': 'Турция',\n        'en_name': 'Turkey',\n        'alpha_2': 'TR',\n        'alpha_3': 'TUR',\n    },\n    'turkmenistan': {\n        'uk_name': 'Туркменістан',\n        'ru_name': 'Туркменистан',\n        'en_name': 'Turkmenistan',\n        'alpha_2': 'TM',\n        'alpha_3': 'TKM',\n    },\n    'turksandcaicosislands': {\n        'uk_name': 'Острови Теркс і Кайкос',\n        'ru_name': 'Теркс и Кайкос',\n        'en_name': 'Turks and Caicos Islands',\n        'alpha_2': 'TC',\n        'alpha_3': 'TCA',\n    },\n    'tuvalu': {\n        'uk_name': 'Тувалу',\n        'ru_name': 'Тувалу',\n        'en_name': 'Tuvalu',\n        'alpha_2': 'TV',\n        'alpha_3': 'TUV',\n    },\n    'uganda': {\n        'uk_name': 'Уганда',\n        'ru_name': 'Уганда',\n        'en_name': 'Uganda',\n        'alpha_2': 'UG',\n        'alpha_3': 'UGA',\n    },\n    'ukraine': {\n        'uk_name': 'Україна',\n        'ru_name': 'Украина',\n        'en_name': 'Ukraine',\n        'alpha_2': 'UA',\n        'alpha_3': 'UKR',\n    },\n    'unitedarabemirates': {\n        'uk_name': 'ОАЕ',\n        'ru_name': 'Объединенные Арабские Эмираты',\n        'en_name': 'United Arab Emirates',\n        'alpha_2': 'AE',\n        'alpha_3': 'ARE',\n    },\n    'unitedkingdom': {\n        'uk_name': 'Велика Британія',\n        'ru_name': 'Соединенное Королевство',\n        'en_name': 'United Kingdom',\n        'alpha_2': 'GB',\n        'alpha_3': 'GBR',\n    },\n    'unitedstates': {\n        'uk_name': 'США',\n        'ru_name': 'Соединенные Штаты',\n        'en_name': 'United States',\n        'alpha_2': 'US',\n        'alpha_3': 'USA',\n    },\n    'uruguay': {\n        'uk_name': 'Уругвай',\n        'ru_name': 'Уругвай',\n        'en_name': 'Uruguay',\n        'alpha_2': 'UY',\n        'alpha_3': 'URY',\n    },\n    'uzbekistan': {\n        'uk_name': 'Узбекистан',\n        'ru_name': 'Узбекистан',\n        'en_name': 'Uzbekistan',\n        'alpha_2': 'UZ',\n        'alpha_3': 'UZB',\n    },\n    'vanuatu': {\n        'uk_name': 'Вануату',\n        'ru_name': 'Вануату',\n        'en_name': 'Vanuatu',\n        'alpha_2': 'VU',\n        'alpha_3': 'VUT',\n    },\n    'venezuela': {\n        'uk_name': 'Венесуела',\n        'ru_name': 'Венесуэла',\n        'en_name': 'Venezuela',\n        'alpha_2': 'VE',\n        'alpha_3': 'VEN',\n    },\n    'vietnam': {\n        'uk_name': 'В\\'єтнам',\n        'ru_name': 'Вьетнам',\n        'en_name': 'Vietnam',\n        'alpha_2': 'VN',\n        'alpha_3': 'VNM',\n    },\n    'wallisandfutuna': {\n        'uk_name': 'Волліс і Футуна',\n        'ru_name': 'Уоллис и Футуна',\n        'en_name': 'Wallis and Futuna',\n        'alpha_2': 'WF',\n        'alpha_3': 'WLF',\n    },\n    'westernsahara': {\n        'uk_name': 'Західна Сахара',\n        'ru_name': 'Западная Сахара',\n        'en_name': 'Western Sahara',\n        'alpha_2': 'EH',\n        'alpha_3': 'ESH',\n    },\n    'yemen': {\n        'uk_name': 'Ємен',\n        'ru_name': 'Йемен',\n        'en_name': 'Yemen',\n        'alpha_2': 'YE',\n        'alpha_3': 'YEM',\n    },\n    'zambia': {\n        'uk_name': 'Замбія',\n        'ru_name': 'Замбия',\n        'en_name': 'Zambia',\n        'alpha_2': 'ZM',\n        'alpha_3': 'ZMB',\n    },\n    'zimbabwe': {\n        'uk_name': 'Зімбабве',\n        'ru_name': 'Зимбабве',\n        'en_name': 'Zimbabwe',\n        'alpha_2': 'ZW',\n        'alpha_3': 'ZWE',\n    },\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport memoizeOne from 'memoize-one';\nimport { useTranslation } from 'react-i18next';\nimport { languages, fallback_language } from 'config';\n\nimport { __t } from '@mssgme/shared';\n\nimport SelectSimple from '../SelectSimple';\nimport countries from './countries';\n\nconst priorityCountries = ['UA', 'KZ', 'US'];\nconst separator = (key) => ({\n    label: '--------------------',\n    value: 'separator' + key,\n    disabled: true,\n});\n\nexport const getDefaultCountriesOptions = memoizeOne((lang) => {\n    const availableLang = languages.includes(lang) ? lang : fallback_language;\n    const countriesArray = Object.values(countries)\n        .map((item) => ({\n            label: item[`${availableLang}_name`],\n            value: `${item.alpha_2}-${item.alpha_3}`,\n            alpha_2: item.alpha_2,\n        }))\n        .sort((item1, item2) => item1.label.localeCompare(item2.label));\n\n    const prioritizedCountries = countriesArray\n        .filter((country) => priorityCountries.includes(country.alpha_2))\n        .sort((item1, item2) => priorityCountries.indexOf(item1.alpha_2) - priorityCountries.indexOf(item2.alpha_2));\n    const restCountries = countriesArray.filter((country) => !prioritizedCountries.includes(country));\n\n    return [{ label: __t('not_selected'), value: '' }, separator(1), ...prioritizedCountries, separator(2), ...restCountries];\n});\n\nconst CountrySelect = ({ ...rest }) => {\n    const { i18n } = useTranslation();\n\n    return <SelectSimple {...rest} options={getDefaultCountriesOptions(i18n.language)} />;\n};\n\nCountrySelect.propTypes = {\n    lang: PropTypes.string,\n};\n\nexport default CountrySelect;\n","// extracted by mini-css-extract-plugin\nexport default {\"pane\":\"_3qwvKJdU\",\"radio\":\"_3M-OICMF\",\"radioDot\":\"_1WsCkYdb\",\"active\":\"_3niUZvmH\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { cls } from '@mssgme/helpers';\n\nimport styles from './styles.scss';\n\nconst RadioIcon = ({ color = '#007AFF' }) => (\n    <svg\n        version=\"1.1\"\n        viewBox=\"0 0 18 18\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"18\"\n        height=\"18\"\n    >\n        <g fill=\"none\" fillRule=\"evenodd\">\n            <g transform=\"translate(-568 -3567)\">\n                <g transform=\"translate(568 3567)\">\n                    <rect\n                        x=\".75\"\n                        y=\".75\"\n                        width=\"16.5\"\n                        height=\"16.5\"\n                        rx=\"8.25\"\n                        stroke={color}\n                        strokeWidth=\"1.5\"\n                    />\n                    <rect className={styles.radioDot} x=\"3\" y=\"3\" width=\"12\" height=\"12\" rx=\"6\" fill={color} />\n                </g>\n            </g>\n        </g>\n    </svg>\n);\n\nRadioIcon.propTypes = {\n    color: PropTypes.string,\n};\n\nconst RadioGroup = ({ options, value, name, onChange, pane, hasError, ...rest }) =>\n    (\n        <div {...cls([pane && styles.pane], rest)}>\n            {options.map((option, index) => {\n                const isSelected = value === option.value;\n\n                return (\n                    <div key={name + index} className={classNames(styles.radio, isSelected && styles.active)}>\n                        <label>\n                            <RadioIcon color={rest.style?.color} />\n                            <input type=\"radio\" name={name} value={option.value} checked={isSelected} onChange={onChange} />\n                            <span dangerouslySetInnerHTML={{ __html: option.label }} />\n                        </label>\n                    </div>\n                );\n            })}\n        </div>\n    );\n\nRadioGroup.propTypes = {\n    value: PropTypes.string,\n    name: PropTypes.string,\n    options: PropTypes.arrayOf(PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })).isRequired,\n    onChange: PropTypes.func.isRequired,\n    pane: PropTypes.bool,\n    hasError: PropTypes.bool,\n};\n\nexport default RadioGroup;\n","// extracted by mini-css-extract-plugin\nexport default {\"pane\":\"VGHdNTVb\",\"radio\":\"_2_QVkYwX\",\"checkbox\":\"gN5qfTgR\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Field } from 'formik';\n\nimport Checkbox from '../Checkbox';\n\nimport styles from './styles.scss';\n\nconst CheckboxGroup = ({ options, className, name, value, onChange, pane, style }) => (\n    <div className={classNames(className, pane && styles.pane)} style={style}>\n        {options.map((option, index) => {\n            const isChecked = value?.includes(option.value);\n\n            return (\n                <Field\n                    as={Checkbox}\n                    key={name + index}\n                    builderInput\n                    name={name}\n                    value={option.value}\n                    checked={isChecked}\n                    placeholder={option.label}\n                    onChange={onChange}\n                    className={styles.checkbox}\n                    style={style}\n                />\n            );\n        })}\n    </div>\n);\n\nCheckboxGroup.propTypes = {\n    className: PropTypes.string,\n    name: PropTypes.string,\n    options: PropTypes.arrayOf(PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })).isRequired,\n    onChange: PropTypes.func.isRequired,\n    value: PropTypes.array,\n    pane: PropTypes.bool,\n    style: PropTypes.object,\n};\n\nexport default CheckboxGroup;\n","import { useMemo } from 'react';\n\nimport { ProductsBlockKind } from '@mssgme/shared';\nimport { useElementTheme, useTheme } from '@mssgme/ui';\n\nexport const useModalThemes = (kind = ProductsBlockKind) => {\n    const baseTheme = useTheme();\n    const { theme, style } = useElementTheme({ baseTheme, elementPath: `blocks.${kind.toLowerCase()}`, compile: true });\n\n    return useMemo(\n        () => ({\n            theme,\n            style,\n            // todo: find out why this is needed (`colors.background` vs `page.backgroundColor`)\n            modalStyle: { ...style, backgroundColor: baseTheme.colors.background },\n            contentStyle: { ...theme, ...style, backgroundColor: baseTheme.colors.background },\n        }),\n        [theme, style]\n    );\n};\n","import { useMemo } from 'react';\n\nexport const useCustomInputTheme = (customTheme) => {\n    return useMemo(\n        () =>\n            customTheme && {\n                input: {\n                    backgroundColor: customTheme.inputBackgroundColor,\n                    color: customTheme.inputTextColor,\n                    border: 'none',\n                    borderRadius: customTheme.borderRadius,\n                },\n                error: {\n                    color: customTheme.inputTextColor,\n                    padding: '2px 8px',\n                    backgroundColor: customTheme.inputBackgroundColor,\n                    display: 'inline-block',\n                    borderRadius: customTheme.borderRadius,\n                },\n            },\n        [customTheme]\n    );\n};\n","import { SubscriptionFormBlockKind } from '@mssgme/shared';\nimport { useModalThemes } from './useModalThemes';\nimport { useCustomInputTheme } from './useCustomInputTheme';\n\nexport const useInputTheme = () => {\n    const { theme } = useModalThemes(SubscriptionFormBlockKind);\n\n    return useCustomInputTheme(theme);\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"_1Bcpw_pC\",\"label\":\"_3hGNtA0_\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { useField } from 'formik';\n\nimport { __t, mapDynamicFieldToName } from '@mssgme/shared';\nimport { FormField, Input, Textarea, SelectSimple, RadioGroup, CheckboxGroup, CountrySelect } from '@mssgme/ui';\n\nimport { useCustomInputTheme, useInputTheme } from '../../hooks';\n\nimport styles from './DynamicFormInput.scss';\n\nconst SIMPLE_TEXT_INPUT_MAX_LENGTH = 250;\n\nconst specificComponents = {\n    select: SelectSimple,\n    radio: RadioGroup,\n    checkbox: CheckboxGroup,\n    country: CountrySelect,\n};\n\nconst inputSpecificTypes = {\n    name: 'text',\n    phone: 'tel',\n};\n\nconst handleEnterKey = (e) => {\n    if (e.key === 'Enter') {\n        e.preventDefault();\n    }\n};\n\nexport const isFieldSupport = (type, feature) => {\n    switch (feature) {\n        case 'paneProp':\n            return ['radio', 'checkbox'].includes(type);\n        case 'maxLength':\n            return !['date', 'time', 'number'].includes(type);\n        case 'hasPlaceholderOption':\n            return type === 'select';\n        default:\n            return false;\n    }\n};\n\nconst getFieldProps = ({ name, label, type, required, maxLength, options }) => {\n    const specificComponent = specificComponents[type];\n    const isTextArea = maxLength > SIMPLE_TEXT_INPUT_MAX_LENGTH && type === 'text';\n    const commonProps = {\n        name,\n        label: label || type,\n        required,\n    };\n\n    if (specificComponent) {\n        let optionsArray = options?.split(/\\r?\\n/).filter(Boolean).map((option) => ({ label: option, value: option }));\n\n        if (isFieldSupport(type, 'hasPlaceholderOption')) {\n            optionsArray = [{ label: __t('not_selected'), value: '' }, ...optionsArray];\n        }\n\n        return {\n            ...commonProps,\n            component: specificComponent,\n            options: optionsArray,\n            pane: isFieldSupport(type, 'paneProp') || undefined,\n        };\n    }\n\n    if (isTextArea) {\n        return {\n            ...commonProps,\n            component: Textarea,\n            maxLength,\n        };\n    }\n\n    return {\n        ...commonProps,\n        component: Input,\n        maxLength: isFieldSupport(type, 'maxLength') ? maxLength : undefined,\n        type: inputSpecificTypes[type] || type,\n        onKeyPress: handleEnterKey,\n        ...(type === 'number' && { min: 0, inputMode: 'numeric', pattern: '[0-9]*' }),\n    };\n};\n\nexport const DynamicFormInput = ({ index, input, as, defaultMaxSize, theme }) => {\n    const defaultStyle = useInputTheme(theme);\n    const customStyle = useCustomInputTheme(theme);\n    const style = customStyle || defaultStyle;\n    const maxLength = input.size || defaultMaxSize;\n    const name = mapDynamicFieldToName(input, index);\n    const fieldProps = getFieldProps({ ...input, maxLength, name });\n    const [field, meta] = useField(name);\n\n    return (\n        <FormField\n            shakeError\n            as={as}\n            errors={meta.touched && meta.error}\n            style={style.input}\n            errorStyle={style.error}\n            inputClassName={styles.input}\n            labelClassName={styles.label}\n            {...field}\n            {...fieldProps}\n        />\n    );\n};\n\nDynamicFormInput.propTypes = {\n    input: PropTypes.shape({\n        _id: PropTypes.string,\n        label: PropTypes.string,\n        required: PropTypes.bool,\n        size: PropTypes.number,\n        options: PropTypes.string,\n        type: PropTypes.string,\n    }).isRequired,\n    index: PropTypes.number.isRequired,\n    as: PropTypes.oneOfType([PropTypes.string, PropTypes.elementType]),\n    type: PropTypes.string,\n    defaultMaxSize: PropTypes.number.isRequired,\n    theme: PropTypes.object,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"qsFFCJh2\"};","import PropTypes from 'prop-types';\nimport React from 'react';\n\nimport { cls } from '@mssgme/helpers';\n\nimport { DynamicFormInput } from './DynamicFormInput';\n\nimport styles from './DynamicFormInputs.scss';\n\nexport const DynamicFormInputs = ({ block, theme, defaultMaxSize, ...rest }) => {\n    return (\n        <ul {...cls([styles.root, styles[theme.gridMode]], rest)}>\n            {block.items.map((item, index) => (\n                <DynamicFormInput\n                    as=\"li\"\n                    key={item._id || index}\n                    index={index}\n                    input={item}\n                    defaultMaxSize={defaultMaxSize}\n                    theme={theme}\n                />\n            ))}\n        </ul>\n    );\n};\n\nDynamicFormInputs.propTypes = {\n    block: PropTypes.shape({\n        items: PropTypes.arrayOf(\n            PropTypes.shape({\n                _id: PropTypes.string,\n                label: PropTypes.string,\n                required: PropTypes.bool,\n                size: PropTypes.number,\n                options: PropTypes.string,\n                type: PropTypes.string,\n            })\n        ).isRequired,\n    }).isRequired,\n    theme: PropTypes.object.isRequired,\n    defaultMaxSize: PropTypes.number.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3qe-gVKI\",\"contentAlignLeft\":\"_24kddiH0\"};","import PropTypes from 'prop-types';\nimport React, { useMemo } from 'react';\n\nimport { cls, getContourColor, keyHash } from '@mssgme/helpers';\nimport { Button } from '@mssgme/ui';\n\nimport styles from './ThemedButton.scss';\n\nexport const ThemedButton = ({ theme, isFetching, disabled, contour, style: baseStyle, contentAlignLeft, ...rest }) => {\n    const style = useMemo(() => {\n        if (contour) {\n            const { backgroundColor, color, border } = getContourColor(\n                theme.backgroundColor,\n                theme.buttonBackground,\n                theme.buttonTextColor\n            );\n\n            return {\n                backgroundColor,\n                color,\n                border: `1px solid ${border}`,\n                ...baseStyle,\n            };\n        }\n\n        return {\n            backgroundColor: theme.buttonBackground,\n            color: theme.buttonTextColor,\n            ...baseStyle,\n        };\n    }, [contour, theme, keyHash(baseStyle)]);\n\n    return (\n        <Button\n            tag=\"a\"\n            size=\"standart\"\n            isFetching={isFetching}\n            disabled={disabled}\n            style={style}\n            loaderColor={style.color}\n            {...cls([styles.root, contentAlignLeft && styles.contentAlignLeft], rest)}\n        />\n    );\n};\n\nThemedButton.propTypes = {\n    ...Button.propTypes,\n    theme: PropTypes.object.isRequired,\n    contour: PropTypes.bool,\n    contentAlignLeft: PropTypes.bool,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"rootContainer\":\"_2ZWAllbS\",\"root\":\"_1JID85We\",\"compact\":\"_17ERpmFn\",\"desktop\":\"_1otflT8l\",\"overlay\":\"b-__q_Am\",\"header\":\"_1uPM4Id_\",\"title\":\"_2e4e_N7l\",\"closeButton\":\"_2H_TYfWD\",\"content\":\"dMy_SU1_\",\"padded\":\"_2RzDmlOp\"};","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport ReactDom from 'react-dom';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { motion, startAnimation, useMotionValue, useTransform } from 'framer-motion';\nimport { FiX } from 'react-icons/fi';\n\nimport { cls } from '@mssgme/helpers';\nimport { renderNode, usePresenceRemoval } from '@mssgme/ui';\n\nimport { usePageTheme } from '../../hooks';\n\nimport styles from './ThemedModal.scss';\n\nconst stopPropagation = (e) => {\n    e.stopPropagation();\n};\n\nconst animateValue = (from, to, transition) => {\n    void startAnimation('', from, to, transition);\n\n    return {\n        stop: () => from.stop(),\n    };\n};\n\nexport const ThemedModal = ({\n    handleHash,\n    compact,\n    overlay,\n    padding,\n    children,\n    showHeader,\n    title,\n    onClose,\n    onClosing,\n    noEscape,\n    noop,\n    ...rest\n}) => {\n    const targetNode = document.querySelector('#page_root, #mainRoot');\n    const history = useHistory();\n    // isDesktopAdaptation rely on main container width and not viewport breakpoint\n    // because of mobile/desktop preview in admin panel\n    const isDesktopAdaptation = targetNode?.clientWidth > 600;\n    const revealOffsetMap = isDesktopAdaptation && compact ? [40, 0] : ['100%', '0%'];\n    const opacity = useMotionValue(0);\n    const y = useTransform(opacity, [0, 1], revealOffsetMap);\n    const scale = useTransform(opacity, [0, 1], [0.95, 1]);\n    const { theme } = usePageTheme();\n    const style = useMemo(\n        () => ({\n            container: {\n                y,\n                backgroundColor: theme.colors.background,\n                color: theme.colors.text,\n                opacity: isDesktopAdaptation && compact ? opacity : 1,\n                scale: isDesktopAdaptation && compact ? scale : 1,\n            },\n            close: { color: theme.colors.text },\n        }),\n        [theme.colors]\n    );\n    const [isClosing, setClosing] = useState(true);\n\n    const handleClose = useCallback(\n        async (...args) => {\n            if (isClosing || noEscape) {\n                return;\n            }\n\n            setClosing(true);\n\n            if (handleHash) {\n                history.replace(history.location.pathname);\n            }\n\n            if (onClosing && false === (await onClosing())) {\n                return;\n            }\n\n            animateValue(opacity, 0, {\n                duration: 0.3,\n                type: 'ease',\n                onComplete: () => {\n                    if (!onClose) {\n                        return;\n                    }\n\n                    if (onClose === true) {\n                        history.goBack();\n                    } else if (typeof onClose === 'string') {\n                        history.push(onClose);\n                    } else {\n                        onClose(...args);\n                    }\n                },\n            });\n        },\n        [isClosing, onClose, onClosing, handleHash, noEscape]\n    );\n\n    useEffect(() => {\n        const controls = animateValue(opacity, 1, {\n            duration: 0.3,\n            type: 'ease',\n            onComplete: () => setClosing(false),\n        });\n\n        return controls.stop;\n    }, []);\n\n    usePresenceRemoval();\n\n    if (!targetNode) {\n        return null;\n    }\n\n    return ReactDom.createPortal(\n        <div className={styles.rootContainer} onClick={noop && stopPropagation}>\n            {(compact || overlay) && (\n                <motion.div\n                    style={{ opacity }}\n                    className={styles.overlay}\n                    onClick={handleClose}\n                />\n            )}\n\n            <motion.div\n                className={cn(styles.root, compact && styles.compact, isDesktopAdaptation && styles.desktop)}\n                style={style.container}\n            >\n                {(showHeader || title) && (\n                    <div className={styles.header}>\n                        <div className={styles.closeButton} style={style.close} onClick={handleClose}>\n                            <FiX size={24} />\n                        </div>\n                        {title && <div className={styles.title}>{title}</div>}\n                        <div />\n                    </div>\n                )}\n\n                <div {...cls([styles.content, padding && styles.padded], rest)}>\n                    {renderNode(children, handleClose)}\n                </div>\n            </motion.div>\n        </div>,\n        targetNode\n    );\n};\n\nThemedModal.propTypes = {\n    showHeader: PropTypes.bool,\n    title: PropTypes.any,\n    onClose: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.bool]).isRequired,\n    onClosing: PropTypes.func,\n    theme: PropTypes.shape({ backgroundColor: PropTypes.string, color: PropTypes.string }),\n    compact: PropTypes.bool,\n    handleHash: PropTypes.bool,\n    overlay: PropTypes.bool,\n    fullWidth: PropTypes.bool,\n    padding: PropTypes.bool,\n    noEscape: PropTypes.bool,\n    noop: PropTypes.bool,\n};\n\nThemedModal.defaultProps = {\n    showHeader: true,\n    noEscape: false,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"buttonContainer\":\"_35FFwmIV\",\"successContent\":\"Pbq8WWuk\",\"icon\":\"_3tc4nquV\",\"closeIcon\":\"G81q4QWv\",\"text\":\"_3Aqm6-Qf\"};","import PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useAsyncFn } from 'react-use';\nimport { AnimatePresence } from 'framer-motion';\nimport { FiCheck, FiX } from 'react-icons/fi';\nimport { mapValues, memoize } from 'lodash';\n\nimport {\n    __t,\n    defaultDynamicFieldLengthLimit,\n    mapDynamicFieldToName,\n    mapDynamicInputsToValidationSchema,\n} from '@mssgme/shared';\nimport { FormikProvider, LandingsPropTypes, SubmitButton, useEnhancedFormik, getDefaultCountriesOptions } from '@mssgme/ui';\nimport { DynamicFormInputs, ThemedButton, ThemedModal } from '../../../UI';\n\nimport styles from './SubscriptionFormContent.scss';\n\nconst defaultCountry = memoize(() => getDefaultCountriesOptions('en')[0].value);\n\nconst getFormDefaults = (fields) => Object.fromEntries(\n    fields.map((field, index) => {\n        let value;\n\n        switch (field.type) {\n            case 'country':\n                value = defaultCountry();\n                break;\n            case 'checkbox':\n                value = [];\n                break;\n            default:\n                value = '';\n        }\n\n        return [mapDynamicFieldToName(field, index), value];\n    })\n);\n\nexport const SubscriptionFormContent = ({ block, theme, onSubmit: rawSubmit, interactive, ...rest }) => {\n    const [sent, setSent] = useState(null);\n    const validationSchema = useMemo(() => mapDynamicInputsToValidationSchema(block), [block]);\n    const FormTag = interactive ? 'form' : 'div';\n\n    const [{ loading, error }, onSubmit] = useAsyncFn(\n        async (values) => {\n            if (false === (await rawSubmit(values))) {\n                return;\n            }\n\n            const items = block.items.map((item, index) => {\n                const field = mapDynamicFieldToName(item, index);\n                const value = values[item._id] ?? values[field];\n\n                return {\n                    key: field,\n                    label: item.label,\n                    value,\n                };\n            });\n            const pairs = items.filter(({ value }) => value);\n\n            setSent(pairs);\n        },\n        [rawSubmit]\n    );\n\n    const formik = useEnhancedFormik({\n        initialValues: useMemo(() => getFormDefaults(block.items), [block.items]),\n        validationSchema,\n        onSubmit,\n    });\n\n    const handleSentModalClosed = useCallback(() => {\n        setSent(false);\n        formik.resetForm();\n    }, [formik]);\n\n    useEffect(() => {\n        if (sent && block.hasUrl && block.sentUrl) {\n            const timer = setTimeout(() => (window.location = block.sentUrl), 1000);\n\n            return () => clearTimeout(timer);\n        }\n    }, [sent, block.hasUrl, block.sentUrl, formik]);\n\n    useEffect(() => {\n        formik.setErrors(mapValues(error?.errors, (value) => __t(value)));\n    }, [error]);\n\n    return (\n        <FormikProvider value={formik}>\n            <FormTag id={`form_${block._id}`} {...rest}>\n                <DynamicFormInputs theme={theme} block={block} defaultMaxSize={defaultDynamicFieldLengthLimit} />\n\n                <div className={styles.buttonContainer}>\n                    <SubmitButton\n                        as={ThemedButton}\n                        theme={theme}\n                        isInitialHidden={false}\n                        fullWidth\n                        isFetching={loading}\n                        disabled={!block.items.length}\n                        style={{\n                            backgroundColor: theme.buttonBackground,\n                            color: theme.buttonTextColor,\n                            borderRadius: theme.borderRadius,\n                        }}\n                    >\n                        {block.sendLabel}\n                    </SubmitButton>\n                </div>\n            </FormTag>\n\n            <AnimatePresence>\n                {sent && (\n                    <ThemedModal compact overlay showHeader={false} onClose={handleSentModalClosed}>\n                        {(handleClose) => (\n                            <div className={styles.successContent}>\n                                <div className={styles.closeIcon} onClick={handleClose}>\n                                    <FiX size={26} />\n                                </div>\n                                <FiCheck size={60} className={styles.icon} />\n                                <p className={styles.text}>{block.sentText}</p>\n                            </div>\n                        )}\n                    </ThemedModal>\n                )}\n            </AnimatePresence>\n        </FormikProvider>\n    );\n};\n\nSubscriptionFormContent.propTypes = {\n    block: LandingsPropTypes.block.isRequired,\n    theme: PropTypes.object.isRequired,\n    onSubmit: PropTypes.func.isRequired,\n    interactive: PropTypes.bool,\n};\n","import React, { useCallback } from 'react';\n\nimport { SubscriptionFormBlockKind } from '@mssgme/shared';\nimport { feedbackApi } from '@mssgme/lib';\nimport { LandingsPropTypes, useMergedStyles } from '@mssgme/ui';\n\nimport { useBlockTheme, usePageData, useWebsiteData } from '../../../hooks';\nimport { BlockBase } from '../BlockBase';\nimport { SubscriptionFormContent } from './SubscriptionFormContent';\n\nexport default function SubscriptionForm({ block, style: baseStyle, interactive, ...rest }) {\n    const { theme, style } = useBlockTheme(block);\n    const website = useWebsiteData();\n    const page = usePageData();\n    const combined = useMergedStyles(style, baseStyle);\n\n    const handleSubmit = useCallback(\n        async (values) => {\n            if (!interactive) {\n                return;\n            }\n\n            await feedbackApi.submit(\n                website.workspace,\n                website._id,\n                { pageId: page._id, blockId: block._id, data: values }\n            );\n\n            const submitEvent = new CustomEvent('formSubmitted', {\n                detail: block._id,\n            });\n\n            document.dispatchEvent(submitEvent);\n        },\n        [website, interactive]\n    );\n\n    return (\n        <BlockBase\n            as={SubscriptionFormContent}\n            interactive={interactive}\n            block={block}\n            style={combined}\n            theme={theme}\n            onSubmit={handleSubmit}\n            {...rest}\n        />\n    );\n}\n\nSubscriptionForm.propTypes = {\n    ...BlockBase.propTypes,\n    block: LandingsPropTypes.block.isRequired,\n};\n\nSubscriptionForm.defaultProps = BlockBase.defaultProps;\n\nSubscriptionForm.kind = SubscriptionFormBlockKind;\n","import SubscriptionForm from './SubscriptionForm';\n\nexport default SubscriptionForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1aGC9hdN\",\"disabled\":\"R67GzQRa\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { __t } from '@mssgme/shared';\nimport styles from './styles.scss';\n\nexport const MoreButton = ({ disabled, className, ...rest }) => (\n    <span className={classNames(styles.root, { [styles.disabled]: disabled }, className)} {...rest}>\n        {__t('show_more')}\n    </span>\n);\n\nMoreButton.propTypes = {\n    disabled: PropTypes.bool,\n    className: PropTypes.string,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"-XoAMny0\",\"thumbnail\":\"C_R44W3m\",\"emptyPlaceholder\":\"_335lD0ul\",\"meta\":\"_3haFePjs\",\"title\":\"_19uOjj9I\",\"price\":\"_1YA6epaj\",\"discountPrice\":\"_26QDH8kd\",\"lineThrough\":\"_1iPjetGG\",\"list\":\"_1BKtItoB\"};","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { IoMdImage } from 'react-icons/io';\n\nimport { __t } from '@mssgme/shared';\nimport { LazyImage } from '@mssgme/ui';\nimport { useUploads, MediaSizes } from '../../../hooks';\n\nimport styles from './ServicesGridItem.scss';\n\nexport const ServicesGridItem = ({ item, themeStyles, ...rest }) => {\n    const { getMediaSizeUrl } = useUploads();\n    const photoUrl = getMediaSizeUrl(item.photoUrl, MediaSizes.Half);\n\n    return (\n        <div className={cn(styles.item, styles[themeStyles.gridMode])} {...rest}>\n            <div className={styles.thumbnail} style={{ backgroundColor: themeStyles.backgroundColor }}>\n                {photoUrl ? (\n                    <LazyImage src={photoUrl} alt={item.title} />\n                ) : (\n                    <div className={styles.emptyPlaceholder}>\n                        <IoMdImage size=\"40%\" color=\"#fff\" />\n                    </div>\n                )}\n            </div>\n            <div className={styles.meta} style={{ color: themeStyles.color }}>\n                <div>\n                    <h6 className={styles.title}>{item.title}</h6>\n                    {item.price && (\n                        <div className={styles.price}>\n                            {item.price.formattedDiscount &&\n                                (item.price.discount === 0 ? (\n                                    <span className={styles.discountPrice}>{__t('free')}</span>\n                                ) : (\n                                    <span className={styles.discountPrice}>{item.price.formattedDiscount}</span>\n                                ))}\n                            {item.price.amount === 0 ? (\n                                __t('free')\n                            ) : (\n                                <span className={item.price.formattedDiscount ? styles.lineThrough : null}>\n                                    {item.price.formatted}\n                                </span>\n                            )}\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nServicesGridItem.propTypes = {\n    item: PropTypes.object.isRequired,\n    themeStyles: PropTypes.object.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"_3jhxiqOr\",\"opacity\":\"_3pgdaWXY\",\"root\":\"_3pwAbyVF\",\"active\":\"_1-6fDei8\",\"closeButtonWrapper\":\"_8dj21P8K\",\"closeButton\":\"_1GBc3ikw\",\"swiperContainer\":\"_1Qp4_m7K\",\"preloader\":\"_13WBnBK-\",\"swiper\":\"_22hloKnO\",\"slide\":\"_1RK4GSWG\",\"slideImage\":\"_30NJpZlb\",\"imagePreloader\":\"_1H56Dfu4\",\"loaded\":\"_8AKZkImA\",\"zoomIcon\":\"_3aTNt7_W\",\"controlsContainer\":\"tgROkwx3\",\"hidden\":\"_3-DxphH3\",\"controls\":\"_194m9rIu\",\"control\":\"_1YtkZ4xL\",\"pagination\":\"_10qA4vZk\",\"clickablePagination\":\"JzPCNBQm\",\"dot\":\"_8xCE8Iq9\",\"activeBullet\":\"_1XEkIJZQ\",\"content\":\"_19JYevFe\",\"dark\":\"C5PmAxFx\",\"title\":\"_3DJQ7C_B\",\"price\":\"_3blmRIIw\",\"lineThrough\":\"_1blY4HxK\",\"description\":\"_1vGt9qoh\",\"externalButton\":\"_2NsswoAb\",\"buttonContent\":\"_2cLgzYIF\",\"url\":\"_2gleBV4K\",\"blurred\":\"ZjSNusp0\",\"contacts\":\"_2Wm6Xm44\",\"actionsBuy\":\"_2TIFgmpV\",\"actionsBuyButton\":\"DmSK8Nv_\",\"actionsWrap\":\"o70qqDyp\",\"fixedPane\":\"_1vKLNpVO\",\"noSwiping\":\"_1Cw4az2m\",\"cartBouncer\":\"_1ZEctz9U\"};","import PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\nimport { FiZoomIn } from 'react-icons/fi';\n\nimport { cls } from '@mssgme/helpers';\nimport { LoadingIndicator } from '@mssgme/ui';\nimport { MediaSizes, useUploads } from '../../hooks';\n\nimport styles from './ServiceContent.scss';\n\nexport const ServicePhoto = React.forwardRef(function ServicePhoto(\n    { photoUrl, title, index, style, onLoad, onClick, ...rest },\n    ref\n) {\n    const { getMediaSizeUrl } = useUploads();\n    const handleClick = useCallback(() => void onClick(index), [index, onClick]);\n\n    return (\n        <div ref={ref} {...cls(styles.slide, rest)}>\n            <div className={styles.slideImage}>\n                <img\n                    {...{ 'data-src': getMediaSizeUrl(photoUrl, MediaSizes.Large) }}\n                    className=\"swiper-lazy\"\n                    alt={title}\n                    onLoad={onLoad}\n                    onClick={handleClick}\n                />\n                <div className={styles.zoomIcon} style={style.common}>\n                    <FiZoomIn size={14} />\n                </div>\n                <div className={styles.imagePreloader} style={style.background}>\n                    <div>\n                        <LoadingIndicator />\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n});\n\nServicePhoto.propTypes = {\n    photoUrl: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    index: PropTypes.number.isRequired,\n    style: PropTypes.object.isRequired,\n    onLoad: PropTypes.func.isRequired,\n    onClick: PropTypes.func.isRequired,\n};\n","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { FiChevronLeft, FiChevronRight, FiX } from 'react-icons/fi';\n\nimport { LoadingIndicator, Swiper } from '@mssgme/ui';\nimport { LightBox } from '../LightBox';\nimport { ServicePhoto } from './ServicePhoto';\n\nimport styles from './ServiceContent.scss';\n\nconst lazy = {\n    loadPrevNext: true,\n    preloaderClass: styles.imagePreloader,\n    loadedClass: styles.loaded,\n};\n\nexport const ServicePhotos = ({ photos, title, isActive, isPrev, isNext, themeStyles, style, onClose }) => {\n    const navigationPrevRef = React.useRef(null);\n    const navigationNextRef = React.useRef(null);\n    const paginationElRef = useRef(null);\n    const [shouldSwiperLoad, setShouldSwiperLoad] = useState(false);\n    const [swiper, setSwiper] = useState(null);\n    const [isLightbox, setIsLightbox] = useState(false);\n    const [currentLightBoxSlideIndex, setCurrentLightBoxSlideIndex] = useState(0);\n\n    const hasMultiplePhotos = photos.length > 1;\n    const hasNavElements = !!paginationElRef.current && !!navigationPrevRef.current && !!navigationNextRef.current;\n    const showSwiper = shouldSwiperLoad && (!hasMultiplePhotos || hasNavElements);\n    const isSwipeable = isActive || isPrev || isNext;\n\n    const openLightBox = useCallback(() => setIsLightbox(true), []);\n    const closeLightBox = useCallback(() => setIsLightbox(false), []);\n\n    const handleSlide = useCallback((index) => {\n        setCurrentLightBoxSlideIndex(index);\n        openLightBox();\n    });\n\n    const pagination = useMemo(\n        () =>\n            hasMultiplePhotos && {\n                el: paginationElRef.current,\n                clickable: true,\n                renderBullet: (index, className) => {\n                    return `<div class=\"${className} ${styles.dot}\"><div style=\"background-color: ${\n                        themeStyles ? themeStyles.color : 'null'\n                    }\"></div></div>`;\n                },\n                clickableClass: styles.clickablePagination,\n                bulletActiveClass: styles.activeBullet,\n            },\n        [paginationElRef.current, hasMultiplePhotos, themeStyles]\n    );\n\n    const handleLoad = useCallback(() => void (swiper && swiper.updateAutoHeight()), [swiper]);\n\n    useEffect(() => {\n        if (isSwipeable) {\n            setShouldSwiperLoad(true);\n        }\n    }, [isSwipeable]);\n\n    return (\n        <div className={styles.swiperContainer}>\n            {showSwiper ? (\n                <Swiper\n                    className={styles.swiper}\n                    nested\n                    autoHeight\n                    lazy={lazy}\n                    pagination={pagination}\n                    navigation={{\n                        prevEl: navigationPrevRef.current,\n                        nextEl: navigationNextRef.current,\n                    }}\n                    speed={600}\n                    watchOverflow={hasMultiplePhotos}\n                    loop={hasMultiplePhotos}\n                    onSwiper={setSwiper}\n                >\n                    {photos.map((photoUrl, index) => (\n                        <ServicePhoto\n                            key={photoUrl + index}\n                            index={index}\n                            photoUrl={photoUrl}\n                            title={title}\n                            style={style}\n                            onLoad={handleLoad}\n                            onClick={handleSlide}\n                        />\n                    ))}\n                </Swiper>\n            ) : (\n                <div className={styles.preloader}>\n                    <div>\n                        <LoadingIndicator />\n                    </div>\n                </div>\n            )}\n            {hasMultiplePhotos && (\n                <div className={cn(styles.controlsContainer, { [styles.hidden]: !showSwiper })}>\n                    <div className={cn(styles.controls, styles.noSwiping)} style={style.pagination}>\n                        <div className={styles.control} ref={navigationPrevRef}>\n                            <FiChevronLeft size={16} />\n                        </div>\n                        <div className={styles.pagination} ref={paginationElRef} />\n                        <div className={styles.control} ref={navigationNextRef}>\n                            <FiChevronRight size={16} />\n                        </div>\n                    </div>\n                </div>\n            )}\n            <div\n                className={cn(styles.closeButtonWrapper, styles.noSwiping)}\n                onClick={onClose}\n                style={{ display: 'flex' }}\n            >\n                <div className={styles.closeButton} style={style.common}>\n                    <FiX size={14} />\n                </div>\n            </div>\n\n            {isLightbox && (\n                <React.Suspense fallback={null}>\n                    <LightBox\n                        activeIndex={currentLightBoxSlideIndex}\n                        images={photos.map((url) => ({ url }))}\n                        onClose={closeLightBox}\n                    />\n                </React.Suspense>\n            )}\n        </div>\n    );\n};\n\nServicePhotos.propTypes = {\n    photos: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\n    isActive: PropTypes.bool,\n    isPrev: PropTypes.bool,\n    isNext: PropTypes.bool,\n    title: PropTypes.string.isRequired,\n    themeStyles: PropTypes.object,\n    style: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"yGbJMyhr\"};","import PropTypes from 'prop-types';\nimport React, { useMemo } from 'react';\nimport { useAsyncFn, useToggle } from 'react-use';\nimport { Link } from 'react-router-dom';\n\nimport { __t } from '@mssgme/shared';\nimport { cls } from '@mssgme/helpers';\nimport { ShoppingCartIcon } from '@mssgme/icons';\nimport { useNavigationUtils } from '@mssgme/hooks';\nimport { useCoreContext, useFrontAPI, useModalThemes, usePageData, useSavedOrders } from '../../hooks';\nimport { ThemedButton } from '../ThemedButton';\nimport { ThemedModal } from '../ThemedModal';\n\nimport styles from './BuyButton.scss';\n\nconst propTypes = {\n    service: PropTypes.object.isRequired,\n    interactive: PropTypes.bool,\n    onCartAdd: PropTypes.func,\n    productCurrency: PropTypes.string,\n};\n\nfunction BuyButton({ service, interactive, onCartAdd, productCurrency, ...rest }) {\n    const api = useFrontAPI();\n    const { generateUrl } = useNavigationUtils();\n    const { router } = useCoreContext();\n    const { currentOrder, saveOrderId } = useSavedOrders();\n    const { _id: pageId } = usePageData();\n    const { contentStyle } = useModalThemes();\n    const isInCart = useMemo(() => !!currentOrder?.items.find((item) => item.productId === service._id), [\n        currentOrder,\n        service._id,\n    ]);\n    const orderId = currentOrder?._id;\n    const orderPath = useMemo(() => orderId && router.orders.toView(orderId, generateUrl('.')), [orderId]);\n    const isDifferentCurrency = useMemo(() => {\n        const orderCurrency = currentOrder?.items[0]?.price?.currency;\n\n        return !!(orderCurrency && orderCurrency !== productCurrency);\n    }, [currentOrder?.items, productCurrency]);\n    const [restrictCurrenciesMessage, toggleRestrictCurrenciesMessage] = useToggle(false);\n    const [{ loading }, handleBuy] = useAsyncFn(async () => {\n        if (isInCart || !interactive) {\n            return;\n        }\n\n        // restrict adding products with different currencies\n        if (isDifferentCurrency) {\n            toggleRestrictCurrenciesMessage(true);\n\n            return;\n        }\n\n        const payload = { items: [{ productId: service._id, quantity: 1 }] };\n        let result;\n\n        if (orderId) {\n            result = await api.orders.modify({ orderId, payload });\n        } else {\n            result = await api.orders.create({ pageId, payload });\n\n            saveOrderId(result._id);\n        }\n\n        onCartAdd && onCartAdd();\n\n        return result;\n    }, [interactive, service._id, pageId, orderId, isInCart, isDifferentCurrency, saveOrderId]);\n\n    return (\n        <>\n            <ThemedButton\n                fullWidth\n                theme={contentStyle}\n                disabled={!interactive}\n                isFetching={loading}\n                beforeIcon={isInCart && <ShoppingCartIcon />}\n                {...(isInCart\n                    ? {\n                        tag: Link,\n                        to: {\n                            pathname: orderPath,\n                            state: service.slug ? { backPath: router.product.toView(service.slug) } : null,\n                        },\n                    }\n                    : { onClick: handleBuy })}\n                {...cls(styles.root, rest)}\n            >\n                {isInCart ? __t('to_cart') : __t('buy')}\n            </ThemedButton>\n            {restrictCurrenciesMessage && (\n                <ThemedModal\n                    overlay\n                    compact\n                    padding\n                    title={__t('error_occurred')}\n                    onClose={toggleRestrictCurrenciesMessage}\n                >\n                    <div style={{ textAlign: 'center' }}>{__t('different_currencies_error')}</div>\n                </ThemedModal>\n            )}\n        </>\n    );\n}\n\nBuyButton.propTypes = propTypes;\n\nexport default BuyButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { cls } from '@mssgme/helpers';\nimport { useRenderer } from '../../hooks';\nimport BuyButton from './BuyButton';\n\nimport styles from './ServiceContent.scss';\n\nexport const ServiceActionsPane = ({\n    contacts,\n    service,\n    interactive,\n    enabledPayments,\n    onCartAdd,\n    currency,\n    ...rest\n}) => {\n    const renderBlock = useRenderer();\n    const hasContacts = !!contacts?.length;\n\n    return (\n        <div {...cls(styles.contacts, rest)}>\n            {enabledPayments && (\n                <div className={styles.actionsBuy}>\n                    <BuyButton\n                        className={styles.actionsBuyButton}\n                        service={service}\n                        productCurrency={currency}\n                        interactive={interactive}\n                        onCartAdd={onCartAdd}\n                    />\n                </div>\n            )}\n\n            {hasContacts && (\n                <div className={styles.actionsWrap}>{contacts?.map(renderBlock)}</div>\n            )}\n        </div>\n    );\n};\n\nServiceActionsPane.propTypes = {\n    contacts: PropTypes.arrayOf(PropTypes.shape({ kind: PropTypes.string.isRequired })),\n    service: PropTypes.object.isRequired,\n    interactive: PropTypes.bool,\n    enabledPayments: PropTypes.bool,\n    onCartAdd: PropTypes.func.isRequired,\n    currency: PropTypes.string,\n};\n","export default (url) => {\n    try {\n        return url && new URL(url);\n    } catch (err) {\n        return null;\n    }\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nimport { __t } from '@mssgme/shared';\nimport { parseUrl, urlSafeComponent } from '@mssgme/helpers';\nimport { LinkBlank } from '@mssgme/ui';\nimport { ThemedButton } from '../ThemedButton';\nimport styles from './ServiceContent.scss';\n\nexport const ExternalUrlButton = ({ service, themeStyles }) => {\n    const url = service.externalButton?.url || service.externalUrl;\n    const parsed = url && parseUrl(url);\n\n    if (!url) {\n        return null;\n    }\n\n    return (\n        <ThemedButton\n            fullWidth\n            tag={LinkBlank}\n            theme={themeStyles}\n            href={url}\n            data-id={service._id}\n            data-title={service.title || service.name}\n            data-element=\"custom-link\"\n            data-event-name={urlSafeComponent(url)}\n            className={styles.externalButton}\n        >\n            <div className={styles.buttonContent}>\n                <span>{service.externalButton?.title || __t('visit_website')}</span>\n                {!!parsed && <span className={styles.url}>{parsed.hostname}</span>}\n            </div>\n        </ThemedButton>\n    );\n};\n\nExternalUrlButton.propTypes = {\n    service: PropTypes.object.isRequired,\n    themeStyles: PropTypes.object.isRequired,\n};\n","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useMemo, useRef } from 'react';\nimport { useToggle } from 'react-use';\nimport { AnimatePresence, motion } from 'framer-motion';\n\nimport { __t } from '@mssgme/shared';\nimport { isLightColor } from '@mssgme/helpers';\nimport { useWebsiteData } from '../../hooks';\nimport { ServicePhotos } from './ServicePhotos';\nimport { ServiceActionsPane } from './ServiceActionsPane';\nimport { ExternalUrlButton } from './ExternalUrlButton';\nimport { ShoppingCartButton } from '../ShoppingCartButton';\n\nimport styles from './ServiceContent.scss';\n\nexport function ServiceContent({\n    service: { description, price },\n    service,\n    contacts,\n    isActive,\n    isPrev,\n    isNext,\n    interactive,\n    themeStyles,\n    backUrl,\n    onClose,\n}) {\n    const { enabledPayments } = useWebsiteData();\n    const [isCartAddAnimation, toggleCartAddAnimation] = useToggle(false);\n    const rootEl = useRef(null);\n    const serviceTitle = service.title || service.name;\n    const isDarkTheme = !isLightColor(themeStyles.backgroundColor);\n    const style = useMemo(() => {\n        const { color, backgroundColor } = themeStyles;\n\n        return {\n            common: {\n                color,\n                backgroundColor,\n            },\n            color: {\n                color,\n            },\n            background: {\n                backgroundColor,\n            },\n            pagination: {\n                backgroundColor: backgroundColor.slice(0, -2) + '80',\n                color,\n            },\n            contacts: {\n                backgroundImage: `linear-gradient(to bottom, ${backgroundColor.substring(\n                    0,\n                    7\n                )}00 0%, ${backgroundColor} 18px, ${backgroundColor} 100%)`,\n            },\n        };\n    }, [themeStyles]);\n\n    const isSwipeable = isActive || isPrev || isNext;\n    const hasActions = enabledPayments || !!contacts?.length;\n\n    const contactsEl = hasActions && (\n        <ServiceActionsPane\n            style={style.contacts}\n            contacts={contacts}\n            service={service}\n            interactive={interactive}\n            enabledPayments={enabledPayments}\n            onCartAdd={toggleCartAddAnimation}\n            currency={price?.currency}\n        />\n    );\n\n    const handleClose = useCallback(\n        (e) => {\n            e?.preventDefault?.();\n\n            onClose(backUrl);\n        },\n        [backUrl, onClose]\n    );\n\n    useEffect(() => {\n        if (rootEl.current && rootEl.current.scrollTop !== 0) {\n            rootEl.current.scrollTo({ top: 0, behavior: 'smooth' });\n        }\n    }, [isSwipeable]);\n\n    useEffect(() => {\n        if (!isCartAddAnimation) {\n            return;\n        }\n\n        const timer = setTimeout(() => toggleCartAddAnimation(false), 1000);\n\n        return () => {\n            clearTimeout(timer);\n        };\n    }, [isCartAddAnimation]);\n\n    return (\n        <div className={styles.wrapper}>\n            <div className={cn(styles.root, { [styles.active]: isActive })} ref={rootEl} style={style.color}>\n                <ServicePhotos\n                    photos={service.photos}\n                    title={serviceTitle}\n                    isActive={isActive}\n                    isPrev={isPrev}\n                    isNext={isNext}\n                    themeStyles={themeStyles}\n                    style={style}\n                    onClose={handleClose}\n                />\n\n                <div className={cn(styles.content, isDarkTheme && styles.dark)}>\n                    <div>\n                        <h1 className={styles.title}>{serviceTitle}</h1>\n\n                        {price && (\n                            <div className={styles.price} style={style.color}>\n                                {price.formattedDiscount && (\n                                    <span className={styles.discountPrice}>\n                                        {price.discount === 0 ? __t('free') : price.formattedDiscount}\n                                    </span>\n                                )}\n                                {price.amount === 0 ? (\n                                    __t('free')\n                                ) : (\n                                    <span className={price.formattedDiscount ? styles.lineThrough : null}>\n                                        {price.formatted}\n                                    </span>\n                                )}\n                            </div>\n                        )}\n\n                        <ExternalUrlButton themeStyles={themeStyles} service={service} />\n                    </div>\n                    {description && <p className={styles.description}>{description}</p>}\n                    {contactsEl && <div className={styles.fixedPane}>{contactsEl}</div>}\n\n                    <AnimatePresence>\n                        {isCartAddAnimation && (\n                            <motion.div\n                                className={styles.cartBouncer}\n                                animate={{ bottom: 16 }}\n                                exit={{ bottom: -60 }}\n                                transition={{ type: 'spring', stiffness: 100 }}\n                            >\n                                <ShoppingCartButton steady absolute />\n                            </motion.div>\n                        )}\n                    </AnimatePresence>\n                </div>\n            </div>\n\n            {contactsEl}\n        </div>\n    );\n}\n\nServiceContent.propTypes = {\n    service: PropTypes.object.isRequired,\n    contacts: PropTypes.array,\n    isActive: PropTypes.bool.isRequired,\n    isPrev: PropTypes.bool.isRequired,\n    isNext: PropTypes.bool.isRequired,\n    interactive: PropTypes.bool,\n    themeStyles: PropTypes.object.isRequired,\n    onClose: PropTypes.func.isRequired,\n    backUrl: PropTypes.string,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"_2XbhEsS0\",\"swiper\":\"QnbvWe1q\",\"noSwiping\":\"_2zN_ACNB\"};","import PropTypes from 'prop-types';\nimport React, { useCallback, useMemo } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { isMatchedById } from '@mssgme/shared';\nimport { Swiper } from '@mssgme/ui';\nimport { usePageData } from '../../../hooks';\nimport { ServiceContent, ThemedModal } from '../../../UI';\n\nimport styles from './ServicesModal.scss';\n\nexport function ServicesModal({\n    services,\n    contacts,\n    activeIndex,\n    interactive,\n    onClose,\n    onClosing,\n    themeStyles,\n    handleHash,\n}) {\n    const page = usePageData();\n    const history = useHistory();\n    const hasMultipleServices = services.length > 1;\n\n    const contactBlocks = useMemo(\n        () =>\n            contacts\n                .filter(({ enabled }) => enabled)\n                .map(({ blockId }) => page.blocks.find(isMatchedById(blockId))),\n        [page, contacts]\n    );\n\n    const handleSlideChange = useCallback(\n        (swiper) => {\n            if (handleHash) {\n                history.replace('#' + services[swiper.realIndex]._id);\n            }\n        },\n        [handleHash, services]\n    );\n\n    return (\n        <ThemedModal overlay handleHash showHeader={false} onClose={onClose}>\n            <div className={styles.content}>\n                <Swiper\n                    className={styles.swiper}\n                    allowTouchMove={hasMultipleServices}\n                    initialSlide={activeIndex}\n                    noSwipingClass={styles.noSwiping}\n                    speed={600}\n                    pagination={false}\n                    onInit={handleSlideChange}\n                    onSlideChange={handleSlideChange}\n                >\n                    {services.map((service, index) =>\n                        Object.assign(\n                            ({ isActive, isPrev, isNext }) => (\n                                <ServiceContent\n                                    themeStyles={themeStyles}\n                                    service={service}\n                                    contacts={contactBlocks}\n                                    isActive={isActive}\n                                    isPrev={isPrev}\n                                    isNext={isNext}\n                                    interactive={interactive}\n                                    onClose={onClose}\n                                />\n                            ),\n                            { key: service._id || index }\n                        )\n                    )}\n                </Swiper>\n            </div>\n        </ThemedModal>\n    );\n}\n\nServicesModal.propTypes = {\n    services: PropTypes.array.isRequired,\n    contacts: PropTypes.array.isRequired,\n    activeIndex: PropTypes.number.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onClosing: PropTypes.func,\n    themeStyles: PropTypes.object.isRequired,\n    handleHash: PropTypes.bool,\n    interactive: PropTypes.bool,\n};\n\nServicesModal.defaultProps = {\n    handleHash: true,\n    interactive: true,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"servicesList\":\"_1tPoDiYt\",\"list\":\"_11aOBJzF\",\"moreButtonContainer\":\"_1WE-HNBa\",\"blurred\":\"VgXs12px\"};","import PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useLocation, useHistory } from 'react-router';\nimport { useTimeoutFn } from 'react-use';\n\nimport { __t, ServicesGridBlockKind } from '@mssgme/shared';\nimport { LandingsPropTypes, Spinner } from '@mssgme/ui';\nimport { useBlockTheme } from '../../../hooks';\nimport { MoreButton } from '../../../UI';\nimport { BlockBase } from '../BlockBase';\nimport { ServicesGridItem } from './ServicesGridItem';\nimport { ServicesModal } from './ServicesModal';\n\nimport styles from './ServicesGrid.scss';\n\nconst ITEMS_PER_PAGE = 6;\n\n// TODO: Migrate/convert all service grid items to normal products and remove this block. Replace with Products block.\n\nexport default function ServicesGrid({ block, sortable, interactive, delay = 0, ...rest }) {\n    const location = useLocation();\n    const history = useHistory();\n    const hashId = location.hash && location.hash.slice(1);\n    const slideIndexFromHash = hashId && block.items.findIndex((item) => item._id === hashId);\n    const hasSlideFromHash = Number.isInteger(slideIndexFromHash) && slideIndexFromHash >= 0;\n    const { theme } = useBlockTheme(block);\n    const [page, setPage] = useState(1);\n    const [isDelayed, setDelayed] = useState(!!delay);\n    const [isServicesModal, setIsServicesModal] = useState(false);\n    const [currentServiceIndex, setCurrentServiceIndex] = useState(0);\n    const total = block.items.length;\n    const pages = Math.ceil(total / ITEMS_PER_PAGE);\n    const hasMore = page < pages;\n    const sliced = hasMore ? block.items.slice(0, page * ITEMS_PER_PAGE) : block.items;\n\n    const handleLoadMore = useCallback(() => setPage((old) => old + 1), []);\n    const openServicesModal = useCallback(() => {\n        setIsServicesModal(true);\n    }, []);\n    const closeServicesModal = useCallback(() => {\n        setIsServicesModal(false);\n        history.push(location.pathname);\n    }, [location.pathname]);\n\n    useEffect(() => {\n        if (hasSlideFromHash && !sortable) {\n            setCurrentServiceIndex(slideIndexFromHash);\n            openServicesModal();\n        }\n    }, [hasSlideFromHash]);\n\n    useTimeoutFn(() => setDelayed(false), delay);\n\n    if (isDelayed) {\n        return (\n            <BlockBase {...rest}>\n                <Spinner />\n            </BlockBase>\n        );\n    }\n\n    return (\n        <BlockBase lazy {...rest}>\n            {sliced.length ? (\n                <ul className={cn(styles.servicesList, styles[theme.gridMode])}>\n                    {sliced.map((item, index) => (\n                        <li key={item._id || index}>\n                            <ServicesGridItem\n                                item={item}\n                                themeStyles={theme}\n                                onClick={() => {\n                                    setCurrentServiceIndex(index);\n                                    openServicesModal();\n                                }}\n                            />\n                        </li>\n                    ))}\n                </ul>\n            ) : (\n                <ul\n                    className={cn(styles.servicesList, styles[theme.gridMode])}\n                    style={{ opacity: 0.7, pointerEvents: 'none' }}\n                >\n                    <li>\n                        <ServicesGridItem\n                            themeStyles={theme}\n                            item={{\n                                title: __t('title'),\n                                price: { amount: 9.99, formatted: '$19.99', formattedDiscount: '$9.99' },\n                            }}\n                        />\n                    </li>\n                    <li>\n                        <ServicesGridItem\n                            themeStyles={theme}\n                            item={{\n                                title: __t('title'),\n                                price: { amount: 9.99, formatted: '$19.99', formattedDiscount: '$9.99' },\n                            }}\n                        />\n                    </li>\n                </ul>\n            )}\n\n            {hasMore && (\n                <div className={styles.moreButtonContainer}>\n                    <MoreButton\n                        onClick={handleLoadMore}\n                        style={{\n                            backgroundColor: theme.backgroundColor,\n                            color: theme.color,\n                            borderRadius: theme.borderRadius,\n                        }}\n                    />\n                </div>\n            )}\n            {isServicesModal && (\n                <ServicesModal\n                    handleHash={interactive}\n                    themeStyles={theme}\n                    contacts={block.contacts}\n                    services={block.items}\n                    activeIndex={currentServiceIndex}\n                    interactive={interactive}\n                    onClose={closeServicesModal}\n                />\n            )}\n        </BlockBase>\n    );\n}\n\nServicesGrid.propTypes = {\n    ...BlockBase.propTypes,\n    block: LandingsPropTypes.block.isRequired,\n    delay: PropTypes.number,\n};\n\nServicesGrid.defaultProps = BlockBase.defaultProps;\n\nServicesGrid.kind = ServicesGridBlockKind;\n","import ServicesGrid from './ServicesGrid';\n\nexport default ServicesGrid;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2KH1UV2J\",\"disabled\":\"_6MqLJcxA\",\"thumbnail\":\"_1qewrm71\",\"emptyPlaceholder\":\"_2BfWiASX\",\"meta\":\"_15DjKOTm\",\"title\":\"_3nacUjt2\",\"price\":\"_2FnTybXH\",\"discountPrice\":\"_2FePtAvK\",\"lineThrough\":\"VV_yIBHb\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { IoMdImage } from 'react-icons/io';\n\nimport { __t, mediaUtils } from '@mssgme/shared';\nimport { LazyImage } from '@mssgme/ui';\n\nimport styles from './styles.scss';\n\nexport const ProductItem = ({ tag: Tag, product: { name, price, published, photoUrl }, themeStyles, ...rest }) => {\n    return (\n        <Tag className={classNames(styles.root, !published && styles.disabled)} {...rest}>\n            <div className={styles.thumbnail} style={{ backgroundColor: themeStyles.backgroundColor }}>\n                {photoUrl ? (\n                    <LazyImage src={mediaUtils.generateProductThumbnailUrl(photoUrl)} alt={name} />\n                ) : (\n                    <div className={styles.emptyPlaceholder}>\n                        <IoMdImage size=\"40%\" color=\"#fff\" />\n                    </div>\n                )}\n            </div>\n            <div className={styles.meta} style={{ color: themeStyles.color }}>\n                <span className={styles.title}>{name}</span>\n                {price && (\n                    <span className={styles.price}>\n                        {price.formattedDiscount &&\n                            (price.discount === 0 ? (\n                                <span className={styles.discountPrice}>{__t('free')}</span>\n                            ) : (\n                                <span className={styles.discountPrice}>{price.formattedDiscount}</span>\n                            ))}\n                        {price.amount === 0 ? (\n                            __t('free')\n                        ) : (\n                            <span className={price.formattedDiscount ? styles.lineThrough : null}>\n                                {price.formatted}\n                            </span>\n                        )}\n                    </span>\n                )}\n            </div>\n        </Tag>\n    );\n};\n\nProductItem.propTypes = {\n    product: PropTypes.object.isRequired,\n    themeStyles: PropTypes.object,\n    tag: PropTypes.any,\n};\n\nProductItem.defaultProps = {\n    tag: 'div',\n    themeStyles: {},\n};\n","import { BaseApi } from './baseApi';\n\nexport class ProductsApi extends BaseApi {\n    list(workspaceId, params) {\n        return this.get([`/workspaces/${workspaceId}/products`, params]);\n    }\n\n    load(workspaceId, productId) {\n        return this.get([`/workspaces/${workspaceId}/products/${productId}`]);\n    }\n\n    loadBySlug(workspaceId, productSlug, collectionId) {\n        return this.get([`/workspaces/${workspaceId}/products/${collectionId}/${productSlug}`]);\n    }\n}\n\nexport default ((options) => new ProductsApi(options))();\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3qiTkphc\",\"list\":\"_1HB8UTNX\",\"clipLeft\":\"_1FIEd0Mt\",\"clipRight\":\"_1Gs6ZdRI\",\"controlContainerLeft\":\"_1v5WsBRw\",\"controlContainerRight\":\"_1UdhKCWu\",\"control\":\"_2Ol28q5V\"};","import PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport React from 'react';\nimport { useDeepCompareEffect } from 'react-use';\n\nimport { cls } from '@mssgme/helpers';\nimport { renderNode, useHorizontalTabbedScroll } from '@mssgme/ui';\nimport { useBasePageColor } from '../../hooks';\n\nimport styles from './ScrollableBar.scss';\n\nexport const ScrollableBar = ({ items, color, containerClass, children, ...rest }) => {\n    const scroll = useHorizontalTabbedScroll(items.length);\n    const { root, list, hasLeftBtn, hasRightBtn, moveLeft, moveRight, moveTo } = scroll;\n    const { backgroundColor } = useBasePageColor();\n\n    useDeepCompareEffect(() => {\n        if (items.length) {\n            moveTo(0);\n        }\n    }, [items]);\n\n    containerClass = cn(styles.list, hasLeftBtn && styles.clipLeft, hasRightBtn && styles.clipRight, containerClass);\n\n    return (\n        <div ref={root} {...cls(styles.root, rest)}>\n            {hasLeftBtn && (\n                <div key={`le-${backgroundColor}`} className={styles.controlContainerLeft} onClick={moveLeft}>\n                    <div className={styles.control} style={{ color }}>\n                        &larr;\n                    </div>\n                </div>\n            )}\n\n            <ul ref={list} className={cn(styles.list, containerClass)}>\n                {renderNode(children, scroll)}\n            </ul>\n\n            {hasRightBtn && (\n                <div key={`ri-${backgroundColor}`} className={styles.controlContainerRight} onClick={moveRight}>\n                    <div className={styles.control} style={{ color }}>\n                        &rarr;\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nScrollableBar.propTypes = {\n    items: PropTypes.array.isRequired,\n    color: PropTypes.string,\n    containerClass: PropTypes.string,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3dvk4qMK\",\"item\":\"_3awBxbh9\",\"active\":\"zyqy27XG\",\"list\":\"_2agEy5u-\"};","import PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport React, { useCallback, useMemo } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport { __t } from '@mssgme/shared';\nimport { resolvePathname } from '@mssgme/helpers';\n\nimport styles from './ButtonsMenu.scss';\n\nexport const ButtonsMenuItems = ({ items, interactive, activeCollectionId, theme, onSelect, moveTo }) => {\n    const location = useLocation();\n    const baseUrl = useMemo(() => resolvePathname(location.pathname, 'c'), [location.pathname]);\n    const themeStyle = useMemo(\n        () => ({\n            button: {\n                backgroundColor: theme.backgroundColor,\n                color: theme.productsCategoryTextColor || theme.color,\n                borderRadius: theme.borderRadius,\n            },\n            buttonActive: {\n                backgroundColor: theme.buttonBackground,\n                color: theme.buttonTextColor,\n                borderRadius: theme.borderRadius,\n            },\n        }),\n        [theme]\n    );\n\n    const isTabbed = theme.filterMode === 'tabs';\n    const ItemTag = interactive ? Link : 'div';\n    const handleClick = useCallback(\n        (e) => {\n            if (!isTabbed) {\n                return;\n            }\n\n            e.preventDefault();\n\n            const slug = e.target.dataset?.slug;\n            const index = items.findIndex((item) => item.slug === slug);\n            const id = items[index]?._id;\n\n            if (id === activeCollectionId) {\n                // onSelect(null);\n            } else {\n                moveTo(index);\n                onSelect(id);\n            }\n        },\n        [isTabbed, activeCollectionId, items, moveTo, onSelect]\n    );\n\n    return (\n        items.map((col, index) => {\n            const isActive = isTabbed && activeCollectionId === col._id;\n\n            return (\n                <li\n                    key={col._id}\n                    data-index={index}\n                    className={cn(styles.item, isActive && styles.active)}\n                >\n                    <ItemTag\n                        style={isActive ? themeStyle.buttonActive : themeStyle.button}\n                        data-slug={col.slug}\n                        onClick={handleClick}\n                        to={interactive && `${baseUrl}/${col.slug}` || undefined}\n                    >\n                        {col.default ? __t('all_products') : col.name}\n                    </ItemTag>\n                </li>\n            );\n        })\n    );\n};\n\nButtonsMenuItems.propTypes = {\n    items: PropTypes.array.isRequired,\n    interactive: PropTypes.bool,\n    activeCollectionId: PropTypes.string,\n    theme: PropTypes.object.isRequired,\n    onSelect: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { useDeepCompareEffect } from 'react-use';\n\nimport { cls } from '@mssgme/helpers';\nimport { ScrollableBar } from '../../../../../UI';\nimport { ButtonsMenuItems } from './ButtonsMenuItems';\n\nimport styles from './ButtonsMenu.scss';\n\nexport const ButtonsMenu = ({ items, interactive, activeCollectionId, theme, onSelect, ...rest }) => {\n    useDeepCompareEffect(() => {\n        if (items.length) {\n            onSelect(items[0]._id);\n        }\n    }, [items]);\n\n    return (\n        <ScrollableBar containerClass={styles.list} color={theme.color} items={items} {...cls(styles.root, rest)}>\n            {(scroll) => (\n                <ButtonsMenuItems\n                    theme={theme}\n                    activeCollectionId={activeCollectionId}\n                    interactive={interactive}\n                    items={items}\n                    onSelect={onSelect}\n                    {...scroll}\n                />\n            )}\n        </ScrollableBar>\n    );\n};\n\nButtonsMenu.propTypes = {\n    items: PropTypes.array.isRequired,\n    interactive: PropTypes.bool,\n    activeCollectionId: PropTypes.string,\n    theme: PropTypes.object.isRequired,\n    onSelect: PropTypes.func,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"_1cheHu2s\",\"startIcon\":\"_3QTRIM5a\",\"endIcon\":\"bgPcNmEE\"};","import React from 'react';\nimport PureButton from './PureButton';\n\nimport styles from './TextButton.scss';\n\nexport default function TextButton(props) {\n    return <PureButton styles={styles} {...props} />;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2dUvypCw\",\"select\":\"_5GfWMbLF\",\"button\":\"_1RWnUF4N\",\"label\":\"_146sE58Z\",\"arrow\":\"_17yoFmZR\",\"option\":\"_3-EPpWFr\",\"active\":\"_2mmR5s76\",\"optionLabel\":\"Hm8d5GxS\",\"badge\":\"yfPVOd0T\",\"dropdown\":\"_3ViuLY5O\"};","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useRef } from 'react';\nimport { useClickAway, useToggle } from 'react-use';\n\nimport { __t } from '@mssgme/shared';\nimport { isMatchId } from '@mssgme/helpers';\nimport { ChevronDownIcon } from '@mssgme/icons';\nimport { Fade, TextButton } from '@mssgme/ui';\n\nimport styles from './FilterMenu.scss';\n\nexport const FilterMenuItem = ({ collection, active, onSelect }) => {\n    const handleClick = useCallback(() => onSelect(collection._id), [onSelect, collection]);\n\n    return (\n        <div className={cn(styles.option, active && styles.active)} onClick={handleClick}>\n            <span className={styles.optionLabel}>{collection.default ? __t('all_products') : collection.name}</span>\n            <span className={styles.badge}>{collection.publishedProductsCount}</span>\n        </div>\n    );\n};\n\nFilterMenuItem.propTypes = {\n    collection: PropTypes.object.isRequired,\n    onSelect: PropTypes.func.isRequired,\n    active: PropTypes.bool,\n};\n\nexport const FilterMenu = ({ items, activeCollectionId, theme, interactive, onSelect, ...rest }) => {\n    const root = useRef();\n    const [isOpen, toggle] = useToggle();\n    const selected = items.find(isMatchId(activeCollectionId));\n\n    useClickAway(root, () => toggle(false));\n\n    const handleSelect = useCallback((id) => {\n        onSelect(id);\n        toggle(false);\n    });\n\n    return (\n        <div className={styles.root} {...rest}>\n            <div className={styles.select} ref={root}>\n                <TextButton aria-pressed={isOpen} className={styles.button} onClick={toggle}>\n                    <span className={styles.label}>\n                        {selected && (selected.default ? __t('all_products') : selected.name)}\n                        {selected && <span>&nbsp;({selected?.publishedProductsCount})</span>}\n                    </span>\n                    <ChevronDownIcon size={16} className={styles.arrow} />\n                </TextButton>\n\n                <Fade in={isOpen}>\n                    <div className={styles.dropdown}>\n                        {items.map((collection) => (\n                            <FilterMenuItem\n                                key={collection._id}\n                                active={collection._id === activeCollectionId}\n                                collection={collection}\n                                onSelect={handleSelect}\n                            />\n                        ))}\n                    </div>\n                </Fade>\n            </div>\n        </div>\n    );\n};\n\nFilterMenu.propTypes = {\n    items: PropTypes.array.isRequired,\n    baseUrl: PropTypes.string.isRequired,\n    buttonStyle: PropTypes.object,\n    arrowsStyle: PropTypes.object,\n    interactive: PropTypes.bool,\n    activeCollectionId: PropTypes.string,\n    theme: PropTypes.object.isRequired,\n    onSelect: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nimport { ButtonsMenu } from './ButtonsMenu';\nimport { FilterMenu } from './FilterMenu';\n\nexport function CollectionsBar({ theme, ...rest }) {\n    return theme.filterMode === 'filter' ? (\n        <FilterMenu theme={theme} {...rest} />\n    ) : (\n        <ButtonsMenu theme={theme} {...rest} />\n    );\n}\n\nCollectionsBar.propTypes = {\n    items: PropTypes.array.isRequired,\n    interactive: PropTypes.bool,\n    activeCollectionId: PropTypes.string,\n    theme: PropTypes.object.isRequired,\n    onSelect: PropTypes.func,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"zqQ_UzIa\",\"title\":\"_2YZlafSS\",\"list\":\"v4gRAsY4\",\"mobileMode\":\"_2d3Wg2J0\",\"empty\":\"_8ORnZ2Rf\",\"icon\":\"_149SoVjF\",\"description\":\"l6CXojOX\",\"moreBtnContainer\":\"_3OrypCfY\",\"moreBtn\":\"_3N_b-4yz\"};","import PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useMountedState } from 'react-use';\nimport { get, pick } from 'lodash';\n\nimport { __t, ProductsBlockKind } from '@mssgme/shared';\nimport { cls, isMatchId, isMobile, keyHash } from '@mssgme/helpers';\nimport { useNavigationUtils } from '@mssgme/hooks';\nimport { LandingsPropTypes, Spinner } from '@mssgme/ui';\nimport { SearchIcon } from '@mssgme/icons';\nimport { ProductItem } from '../../../../products';\nimport { useBlockTheme, useProductsApi, useWebsiteData } from '../../../hooks';\nimport { MoreButton } from '../../../UI';\nimport { BlockBase } from '../BlockBase';\nimport { CollectionsBar } from './CollectionsBar';\n\nimport styles from './Products.scss';\n\nexport const Item = ({ product, baseProductUrl, fromCollection, interactive, ...rest }) => {\n    const to = useMemo(\n        () =>\n            interactive\n                ? {\n                    pathname: `${baseProductUrl}/${product.slug?.toLowerCase()}`,\n                    state: { fromCollection },\n                }\n                : undefined,\n        [baseProductUrl, interactive, product]\n    );\n\n    return <ProductItem product={product} tag={interactive ? Link : 'div'} to={to} {...rest} />;\n};\n\nItem.propTypes = {\n    product: PropTypes.object.isRequired,\n    interactive: PropTypes.bool,\n    fromCollection: PropTypes.string,\n    baseProductUrl: PropTypes.string,\n    style: PropTypes.object,\n};\n\nexport default function Products({ block, interactive, isMobileMode, ...rest }) {\n    const website = useWebsiteData();\n    const isMounted = useMountedState();\n    const { generateUrl } = useNavigationUtils();\n    const { theme, style } = useBlockTheme(block);\n    const { commonStyle, moreStyle } = useMemo(() => ({\n        commonStyle: { color: style.color },\n        moreStyle: { ...style, color: theme.productsCategoryTextColor },\n    }), [style]);\n    const collectionIds = get(block, 'collections.include', []);\n    const activeCollections = website.collections.filter((col) => col.published && col.publishedProductsCount);\n    const showCollections = collectionIds.length\n        ? collectionIds.map((id) => activeCollections.find(isMatchId(id))).filter(Boolean)\n        : activeCollections;\n    const isTabbed = theme.filterMode !== 'buttons';\n    const [activeCollectionId, setActiveCollectionId] = useState(showCollections[0]?._id || null);\n\n    const options = pick(block, ['products', 'total', 'sort']);\n    const query = useMemo(\n        () => ({\n            ...options,\n            limit: isMobile() ? 6 : 12,\n            collections: activeCollectionId && isTabbed ? { include: [activeCollectionId] } : block.collections,\n        }),\n        [website.collections, keyHash(options), activeCollectionId, isTabbed]\n    );\n    const { hasNext, isFetching, items, getProducts } = useProductsApi({\n        workspaceId: website.workspace,\n        websiteId: website._id,\n        query,\n    });\n    const handleMore = useCallback(() => getProducts(), [getProducts]);\n    const baseProductUrl = useMemo(() => generateUrl('p'), [generateUrl]);\n    const getFromCollection = (product) => Object.keys(product.cols || {}).find((id) => collectionIds.includes(id));\n\n    useEffect(() => {\n        const firstId = showCollections[0]?._id;\n\n        if (firstId !== activeCollectionId && !showCollections.find(isMatchId(activeCollectionId))) {\n            if (isMounted()) {\n                setActiveCollectionId(firstId);\n            }\n        }\n    }, [activeCollectionId, showCollections]);\n\n    return (\n        <BlockBase {...cls([styles.root, isMobileMode && styles.mobileMode], rest)}>\n            {!!block.title && (\n                <div className={styles.title} style={commonStyle}>\n                    {block.title}\n                </div>\n            )}\n\n            {showCollections.length > 1 && (\n                <CollectionsBar\n                    theme={theme}\n                    style={commonStyle}\n                    items={showCollections}\n                    interactive={interactive}\n                    activeCollectionId={activeCollectionId}\n                    onSelect={setActiveCollectionId}\n                />\n            )}\n\n            <ul className={styles.list}>\n                {items.map((product) => (\n                    <li key={product._id}>\n                        <Item\n                            product={product}\n                            interactive={interactive}\n                            baseProductUrl={baseProductUrl}\n                            fromCollection={activeCollectionId || getFromCollection(product)}\n                            themeStyles={theme}\n                            style={commonStyle}\n                        />\n                    </li>\n                ))}\n\n                {!(items.length || isFetching) && (\n                    <li key=\"empty-list\" className={styles.empty} style={commonStyle}>\n                        <SearchIcon className={styles.icon} size={48} />\n                        <div className={styles.description}>{__t('no_products')}</div>\n                    </li>\n                )}\n            </ul>\n\n            {isFetching ? (\n                <Spinner />\n            ) : (\n                hasNext && (\n                    <div className={styles.moreBtnContainer}>\n                        <MoreButton\n                            className={styles.moreBtn}\n                            style={moreStyle}\n                            onClick={handleMore}\n                            disabled={isFetching}\n                        />\n                    </div>\n                )\n            )}\n        </BlockBase>\n    );\n}\n\nProducts.propTypes = {\n    ...BlockBase.propTypes,\n    block: LandingsPropTypes.block.isRequired,\n};\n\nProducts.defaultProps = BlockBase.defaultProps;\n\nProducts.kind = ProductsBlockKind;\n","import { useState } from 'react';\nimport { useDebounce, useMountedState } from 'react-use';\n\nimport { handleError, productsApi } from '@mssgme/lib';\nimport { useFetching } from '@mssgme/hooks';\n\nexport const useProductsApi = ({ workspaceId, websiteId, query }) => {\n    const isMounted = useMountedState();\n    const [store, setStore] = useState({ hasNext: false, next: null, publishedCount: 0, items: [], isFetching: true });\n    const { pending: isFetching, run: getProducts } = useFetching(\n        async (resetStore) => {\n            const { results, next, ...productsStore } = await productsApi.list(workspaceId, {\n                limit: query.limit,\n                next: resetStore ? null : store.next,\n                collection: query.collections.include,\n                website: websiteId,\n                published: true,\n            });\n\n            if (!isMounted()) {\n                return;\n            }\n\n            setStore((prevProducts) => {\n                const items = resetStore ? results : prevProducts.items.concat(results);\n                const hasNext = productsStore.hasNext && !(query.total && items.length >= query.total);\n\n                return {\n                    ...productsStore,\n                    next: (hasNext && next) || null,\n                    items: query.total ? items.slice(0, query.total) : items,\n                    hasNext,\n                };\n            });\n        },\n        [store.next, query]\n    );\n\n    useDebounce(() => void getProducts(true).catch(handleError), 100, [query]);\n\n    return {\n        ...store,\n        isFetching: store.isFetching || isFetching,\n        getProducts,\n    };\n};\n","import Products from './Products';\n\nexport default Products;\n","import { useMemo } from 'react';\n\nimport { MessengersBlockKind } from '@mssgme/shared';\nimport { useCRMData } from '../hooks';\n\nexport function useContacts(map) {\n    const { contacts: { messengers } } = useCRMData();\n\n    return useMemo(\n        () =>\n            messengers.length ? [\n                {\n                    _id: `messengers-${messengers.map(({ _id }) => _id).join('-')}`,\n                    kind: MessengersBlockKind,\n                    messengers: map ? messengers.map(map) : messengers,\n                    enabled: true,\n                },\n            ] : undefined,\n        [messengers, map]\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"Eihnl-9N\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './styles.scss';\n\nexport function Grid({ children, itemClassName }) {\n    return (\n        <ul className={styles.root}>\n            {React.Children.map(children, (item, index) => (\n                <li key={index} className={itemClassName}>\n                    {item}\n                </li>\n            ))}\n        </ul>\n    );\n}\n\nGrid.propTypes = {\n    children: PropTypes.node,\n    itemClassName: PropTypes.string,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"_1tZ4uWus\",\"moreBtnContainer\":\"_1tySfxGC\",\"moreBtn\":\"_1Gt8GCb-\",\"animated\":\"_3SAjP8Or\",\"revealItem\":\"_30YTujS8\"};","// extracted by mini-css-extract-plugin\nexport default {\"ordersList\":\"_31gbTMWf\",\"orderHeader\":\"_3khO0JNN\",\"orderContent\":\"_3VDlZaSO\"};","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { useNavigationUtils } from '@mssgme/hooks';\nimport { __t } from '@mssgme/shared';\nimport { usePresenceRemoval } from '@mssgme/ui';\nimport { usePageTheme, useSavedOrders } from '../../hooks';\nimport { ThemedModal } from '../../UI';\n\nimport styles from './UserOrdersPage.scss';\n\nconst immediate = ['cod', 'other'];\nconst shouldRenderPaymentStatus = ({ paymentMethod, feedback: { status } }) => (\n    !immediate.includes(paymentMethod) && status !== 'rejected'\n);\n\nexport function UserOrdersPage() {\n    const { generateUrl } = useNavigationUtils();\n    const { theme } = usePageTheme();\n    const { userOrders } = useSavedOrders();\n    const finalizedOrders = userOrders.filter((order) => order.finalized && order.feedback);\n\n    usePresenceRemoval();\n\n    if (!finalizedOrders.length) {\n        return null;\n    }\n\n    return (\n        <ThemedModal overlay compact padding title={__t('my_orders')} onClose={generateUrl('..')}>\n            <ul className={styles.ordersList}>\n                {finalizedOrders.map((order) => (\n                    <li key={order._id}>\n                        <Link to={generateUrl(order._id)} style={theme.blocks.features}>\n                            <div className={styles.orderHeader}>\n                                <div>\n                                    <h2>\n                                        {__t('order_term')} #{order.feedback.order}\n                                    </h2>\n                                    <div>\n                                        <span\n                                            style={{\n                                                color: theme.colors.background,\n                                                backgroundColor: theme.colors.text,\n                                            }}\n                                        >\n                                            {__t(`order_status_${order.feedback.status}`)}\n                                        </span>\n                                        {shouldRenderPaymentStatus(order) && (\n                                            <span\n                                                style={{\n                                                    color: theme.colors.background,\n                                                    backgroundColor: theme.colors.text,\n                                                }}\n                                            >\n                                                {__t(`payment_status_${order.status}`)}\n                                            </span>\n                                        )}\n                                    </div>\n                                </div>\n                                <div>\n                                    <div>\n                                        <span>{new Date(order.feedback.timestamp).toLocaleDateString()}</span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className={styles.orderContent}>\n                                <div>\n                                    <h3>{__t('products')}</h3>\n                                    <span>\n                                        {order.items.map((item) => `${item.name} x${item.quantity}`).join(', ')}\n                                    </span>\n                                </div>\n                                <div>\n                                    {order.total.amount} {order.total.currency}\n                                </div>\n                            </div>\n                        </Link>\n                    </li>\n                ))}\n            </ul>\n        </ThemedModal>\n    );\n}\n","import React from 'react';\n\nimport { __t, PAYMENT_PROVIDERS } from '@mssgme/shared';\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { useModalThemes, usePaymentConfigs } from '../../hooks';\nimport { ThemedButton } from '../../UI';\n\nexport const PayButton = ({ provider, ...props }) => {\n    const { isSingular } = usePaymentConfigs();\n    const { contentStyle } = useModalThemes();\n    const label = PAYMENT_PROVIDERS[provider]?.label || provider;\n    const Icon = PAYMENT_PROVIDERS[provider]?.icon;\n\n    return (\n        <ThemedButton\n            fullWidth\n            tag=\"button\"\n            type=\"submit\"\n            beforeIcon={Icon && <Icon size={24} />}\n            theme={contentStyle}\n            contentAlignLeft\n            {...props}\n        >\n            {__t(isSingular ? 'pay' : 'payWith', { provider: label })}\n        </ThemedButton>\n    );\n};\n\nPayButton.propTypes = {\n    provider: LandingsPropTypes.paymentMethod,\n};\n","import PropTypes from 'prop-types';\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { useAsync, useMountedState } from 'react-use';\nimport { CardElement, useElements, useStripe } from '@stripe/react-stripe-js';\nimport { pick } from 'lodash';\n\nimport { FormErrors } from '@mssgme/ui';\nimport { useFrontAPI, useInputTheme } from '../hooks';\nimport { PayButton } from './PayButton';\n\nimport styles from './StripeCheckoutForm.scss';\n\nconst CARD_OPTIONS = {\n    hidePostalCode: true,\n    iconStyle: 'solid',\n    classes: {\n        base: styles.cardBase,\n        webkitAutofill: styles.cardAutofill,\n    },\n};\n\nconst propTypes = {\n    orderId: PropTypes.string.isRequired,\n    onPay: PropTypes.func.isRequired,\n    disabled: PropTypes.bool,\n};\n\nfunction StripeCheckoutForm({ orderId, disabled: rawDisabled, onPay }) {\n    const stripe = useStripe();\n    const elements = useElements();\n    const api = useFrontAPI();\n    const isMounted = useMountedState();\n    const inputStyles = useInputTheme();\n    const [succeeded, setSucceeded] = useState(false);\n    const [processing, setProcessing] = useState(false);\n    const [disabled, setDisabled] = useState(true);\n    const [error, setError] = useState(null);\n\n    const { style, options } = useMemo(\n        () => ({\n            options: {\n                ...CARD_OPTIONS,\n                disabled: processing || succeeded,\n                style: {\n                    base: {\n                        iconColor: inputStyles.input.color,\n                        color: inputStyles.input.color,\n                        // ...pick(inputStyles.input, ['backgroundColor', 'color']),\n                        '::placeholder': pick(inputStyles.input, ['backgroundColor', 'color']),\n                        '::selection': { backgroundColor: 'currentColor' },\n                        ':-webkit-autofill': {\n                            color: inputStyles.input.color,\n                        },\n                    },\n                },\n            },\n            style: {\n                ...inputStyles.input,\n                overflow: 'hidden',\n            },\n        }),\n        [processing, succeeded, inputStyles.input]\n    );\n\n    const { value: clientSecret } = useAsync(\n        async () => (await api.orders.signatures.createStripePaymentIntent({ orderId })).clientSecret,\n        [orderId]\n    );\n\n    const isDisabled = processing || disabled || succeeded || rawDisabled || !clientSecret;\n\n    const handleSubmit = useCallback(\n        async (e) => {\n            e.preventDefault();\n            setProcessing(true);\n\n            try {\n                const payload = await stripe.confirmCardPayment(clientSecret, {\n                    payment_method: {\n                        card: elements.getElement(CardElement),\n                    },\n                });\n\n                setError(payload.error ? `Payment failed ${payload.error.message}` : null);\n\n                if (!payload.error) {\n                    setSucceeded(true);\n\n                    onPay('stripe', payload);\n                }\n            } finally {\n                if (isMounted()) {\n                    setProcessing(false);\n                }\n            }\n        },\n        [stripe, elements, clientSecret, onPay]\n    );\n\n    const handleChange = useCallback(async (e) => {\n        setDisabled(e.empty || !!e.error);\n        setError(e.error ? e.error.message : '');\n    });\n\n    return (\n        <form onSubmit={handleSubmit}>\n            <div style={style}>\n                <CardElement onChange={handleChange} options={options} />\n            </div>\n            {error && <FormErrors error={error} shake errorStyle={inputStyles.error} />}\n\n            <PayButton disabled={isDisabled} provider=\"stripe\" style={{ marginTop: 16 }} contentAlignLeft={false} />\n        </form>\n    );\n}\n\nStripeCheckoutForm.propTypes = propTypes;\n\nexport default StripeCheckoutForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"cardBase\":\"_2MpdUitw\",\"cardInvalid\":\"_2N6SmSfD\",\"cardAutofill\":\"_2hSkXJ0_\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3pUs9pIc\",\"overlapButton\":\"_1k6i00lU\"};","import PropTypes from 'prop-types';\nimport React, { Fragment, useEffect, useMemo, useState } from 'react';\nimport { PayButton } from '../../../../PayButton';\n\nconst CURRENCIES = ['UAH', 'USD', 'EUR', 'RUB'];\nconst PAYMENT_URL = 'https://secure.wayforpay.com/pay';\n\nconst productShape = PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    price: PropTypes.number.isRequired,\n    count: PropTypes.number.isRequired,\n});\n\nconst propTypes = {\n    merchantAccount: PropTypes.string.isRequired,\n    merchantDomainName: PropTypes.string,\n    orderReference: PropTypes.string.isRequired,\n    orderDate: PropTypes.number.isRequired,\n    amount: PropTypes.number.isRequired,\n    currency: PropTypes.oneOf(CURRENCIES),\n    products: PropTypes.arrayOf(productShape).isRequired,\n    returnUrl: PropTypes.string,\n    serviceUrl: PropTypes.string,\n    disabled: PropTypes.bool,\n    createSignature: PropTypes.func.isRequired,\n    orderPaymentTimeout: PropTypes.number,\n};\n\nconst defaultProps = {\n    merchantDomainName: document.location.hostname,\n    orderPaymentTimeout: 0,\n};\n\nfunction WayforpayButton({\n    merchantAccount,\n    merchantDomainName,\n    orderReference,\n    orderDate,\n    amount,\n    currency,\n    products,\n    returnUrl,\n    serviceUrl,\n    createSignature,\n    orderPaymentTimeout,\n    disabled: rawDisabled,\n}) {\n    const productName = useMemo(() => products.map(({ name }) => name), [products]);\n    const productPrice = useMemo(() => products.map(({ price }) => price), [products]);\n    const productCount = useMemo(() => products.map(({ count }) => count), [products]);\n    const [merchantSignature, setMerchantSignature] = useState('');\n    const [disabled, setDisabled] = useState(true);\n    const isDisabled = disabled || rawDisabled;\n\n    useEffect(() => {\n        async function request() {\n            if (!rawDisabled) {\n                setDisabled(true);\n\n                try {\n                    const json = await createSignature({\n                        merchantAccount,\n                        merchantDomainName,\n                        orderReference,\n                        orderDate,\n                        amount,\n                        currency,\n                        productName,\n                        productPrice,\n                        productCount,\n                    });\n\n                    setMerchantSignature(json.merchantSignature);\n                } finally {\n                    setDisabled(false);\n                }\n            }\n        }\n\n        void request();\n    }, [\n        merchantAccount,\n        merchantDomainName,\n        orderReference,\n        orderDate,\n        amount,\n        currency,\n        productName,\n        productPrice,\n        productCount,\n        createSignature,\n    ]);\n\n    return (\n        <form method=\"POST\" action={PAYMENT_URL}>\n            <input type=\"hidden\" name=\"merchantAccount\" value={merchantAccount} />\n            <input type=\"hidden\" name=\"merchantDomainName\" value={merchantDomainName} />\n            <input type=\"hidden\" name=\"merchantSignature\" value={merchantSignature} />\n            <input type=\"hidden\" name=\"merchantTransactionType\" value=\"AUTO\" />\n            <input type=\"hidden\" name=\"merchantTransactionSecureType\" value=\"AUTO\" />\n            <input type=\"hidden\" name=\"orderReference\" value={orderReference} />\n            <input type=\"hidden\" name=\"orderDate\" value={orderDate} />\n            <input type=\"hidden\" name=\"amount\" value={amount} />\n            <input type=\"hidden\" name=\"currency\" value={currency} />\n            <input type=\"hidden\" name=\"orderTimeout\" value={orderPaymentTimeout} />\n            <input type=\"hidden\" name=\"orderLifetime\" value={orderPaymentTimeout} />\n            {productName.map((name, index) => (\n                <Fragment key={index}>\n                    <input type=\"hidden\" name=\"productName[]\" value={name} />\n                </Fragment>\n            ))}\n            {productPrice.map((price, index) => (\n                <Fragment key={index}>\n                    <input type=\"hidden\" name=\"productPrice[]\" value={price} />\n                </Fragment>\n            ))}\n            {productCount.map((count, index) => (\n                <Fragment key={index}>\n                    <input type=\"hidden\" name=\"productCount[]\" value={count} />\n                </Fragment>\n            ))}\n            {returnUrl && <input type=\"hidden\" name=\"returnUrl\" value={returnUrl} />}\n            {serviceUrl && <input type=\"hidden\" name=\"serviceUrl\" value={serviceUrl} />}\n\n            <PayButton disabled={isDisabled} provider=\"wayforpay\" />\n        </form>\n    );\n}\n\nWayforpayButton.propTypes = propTypes;\nWayforpayButton.defaultProps = defaultProps;\n\nexport default WayforpayButton;\n","import PropTypes from 'prop-types';\nimport React, { useCallback, useMemo } from 'react';\n// import moment from 'moment';\n\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { BACKEND_ENDPOINTS, useCRMData, useFrontAPI, useWebsiteData } from '../../../../hooks';\nimport WayforpayButton from './Buttons/WayforpayButton';\n\nconst propTypes = {\n    order: LandingsPropTypes.order.isRequired,\n    disabled: PropTypes.bool,\n};\n\nfunction extractProduct({ name, price, quantity }) {\n    return { name, price: price.amount, count: quantity };\n}\n\nexport function WayforpayPayment({ order, disabled }) {\n    const { finalUrl } = useWebsiteData();\n    const { payments } = useCRMData();\n    const api = useFrontAPI();\n    /*\n     * TODO: generate orderReference considering order timeout to avoid duplicated orders in wayforpay personal\n     *       cabinet (need more logic in cart and crm for that)\n     */\n    // const orderPaymentTimeout = 86400; // 1 day\n    // const orderCreatedInLocalTime = moment\n    //     .utc(order.createdAt)\n    //     .local()\n    //     .unix();\n    // const isOrderPaymentDead = Math.round(Date.now() / 1000) - orderCreatedInLocalTime > orderPaymentTimeout;\n    const orderReference = `${order._id}_uniq${Math.floor(Math.random() * 100000)}`;\n    const orderDate = useMemo(() => Math.round(Date.now() / 1000), []);\n    const products = useMemo(() => order.items.map(extractProduct), [order]);\n    const createSignature = useCallback(\n        (payload) => api.orders.signatures.createWayforpaySignature({ orderId: order._id, payload }),\n        [order._id]\n    );\n    const returnUrl = BACKEND_ENDPOINTS.getWayforpayCallback(order);\n\n    return (\n        <WayforpayButton\n            merchantAccount={payments.wayforpay.merchantAccount}\n            merchantDomainName={finalUrl}\n            orderReference={orderReference}\n            orderDate={orderDate}\n            amount={order.total.amount}\n            currency={order.total.currency}\n            products={products}\n            createSignature={createSignature}\n            returnUrl={returnUrl}\n            disabled={disabled}\n            // orderPaymentTimeout={orderPaymentTimeout}\n        />\n    );\n}\n\nWayforpayPayment.propTypes = propTypes;\n","import PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\n\nimport { PayButton } from '../../../../PayButton';\n\nconst CURRENCIES = ['USD', 'EUR', 'RUB', 'KZT'];\nconst PAYMENT_URL = 'https://auth.robokassa.ru/Merchant/Index.aspx';\n\nconst propTypes = {\n    merchantLogin: PropTypes.string.isRequired,\n    invId: PropTypes.string.isRequired,\n    outSum: PropTypes.number.isRequired,\n    outSumCurrency: PropTypes.oneOf(CURRENCIES),\n    createSignature: PropTypes.func.isRequired,\n    isTest: PropTypes.bool.isRequired,\n    disabled: PropTypes.bool,\n};\n\nconst defaultProps = {\n    outSumCurrency: 'RUB',\n    isTest: false,\n};\n\nfunction RobokassaButton({\n    merchantLogin,\n    invId,\n    outSum,\n    outSumCurrency,\n    createSignature,\n    disabled: rawDisabled,\n    isTest,\n}) {\n    const [signature, setSignature] = useState('');\n    const [disabled, setDisabled] = useState(true);\n    const isDisabled = disabled || rawDisabled;\n\n    useEffect(() => {\n        async function request() {\n            setDisabled(true);\n\n            try {\n                const json = await createSignature({});\n\n                setSignature(json.signature);\n            } finally {\n                setDisabled(false);\n            }\n        }\n        void request();\n    }, []);\n\n    return (\n        <form method=\"POST\" action={PAYMENT_URL}>\n            <input type=\"hidden\" name=\"MerchantLogin\" value={merchantLogin} />\n            <input type=\"hidden\" name=\"InvId\" value={invId} />\n            <input type=\"hidden\" name=\"SignatureValue\" value={signature} />\n            <input type=\"hidden\" name=\"OutSum\" value={outSum} />\n            <input type=\"hidden\" name=\"OutSumCurrency\" value={outSumCurrency} />\n            {isTest && <input type=\"hidden\" name=\"IsTest\" value=\"1\" />}\n\n            <PayButton disabled={isDisabled} provider=\"robokassa\" />\n        </form>\n    );\n}\n\nRobokassaButton.propTypes = propTypes;\nRobokassaButton.defaultProps = defaultProps;\n\nexport default RobokassaButton;\n","import PropTypes from 'prop-types';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { encode } from 'js-base64';\n\nimport { PayButton } from '../../../../PayButton';\n\nconst CURRENCIES = ['USD', 'EUR', 'RUB', 'UAH', 'BYN', 'KZT'];\nconst PAYMENT_URL = 'https://www.liqpay.ua/api/3/checkout';\nconst ACTIONS = ['pay', 'hold', 'subscribe', 'paydonate', 'auth'];\nconst VERSION = 3;\n\nconst propTypes = {\n    publicKey: PropTypes.string.isRequired,\n    action: PropTypes.oneOf(ACTIONS),\n    amount: PropTypes.number.isRequired,\n    currency: PropTypes.oneOf(CURRENCIES).isRequired,\n    description: PropTypes.string.isRequired,\n    orderId: PropTypes.string.isRequired,\n    resultUrl: PropTypes.string,\n    serverUrl: PropTypes.string,\n    disabled: PropTypes.bool,\n    createSignature: PropTypes.func.isRequired,\n};\n\nconst defaultProps = {\n    action: ACTIONS[0],\n};\n\nfunction LiqpayButton({\n    publicKey,\n    action,\n    amount,\n    currency,\n    description,\n    orderId,\n    createSignature,\n    resultUrl,\n    serverUrl,\n    disabled: rawDisabled,\n}) {\n    const [disabled, setDisabled] = useState(true);\n    const [signature, setSignature] = useState('');\n    const isDisabled = disabled || rawDisabled;\n\n    const data = useMemo(() => {\n        const params = {\n            public_key: publicKey,\n            version: VERSION,\n            action,\n            amount,\n            currency,\n            description,\n            order_id: orderId,\n        };\n        if (resultUrl) params['result_url'] = resultUrl;\n        if (serverUrl) params['server_url'] = serverUrl;\n\n        return encode(JSON.stringify(params));\n    }, [publicKey, action, amount, currency, description, orderId]);\n\n    useEffect(() => {\n        async function request() {\n            if (!rawDisabled) {\n                setDisabled(true);\n\n                try {\n                    const json = await createSignature({ data });\n\n                    setSignature(json.signature);\n                } finally {\n                    setDisabled(false);\n                }\n            }\n        }\n\n        void request();\n    }, [data]);\n\n    return (\n        <form method=\"POST\" action={PAYMENT_URL}>\n            <input type=\"hidden\" name=\"data\" value={data} />\n            <input type=\"hidden\" name=\"signature\" value={signature} />\n\n            <PayButton disabled={isDisabled} provider=\"liqpay\" />\n        </form>\n    );\n}\n\nLiqpayButton.propTypes = propTypes;\nLiqpayButton.defaultProps = defaultProps;\n\nexport default LiqpayButton;\n","import { FiChevronsRight, FiTruck } from 'react-icons/fi';\nimport { FaMoneyBillAlt, FaPaypal, FaStripe } from 'react-icons/fa';\n\nimport { CashOnDeliveryPayment } from './CashOnDeliveryPayment';\nimport { StripePayment } from './StripePayment';\nimport { PayPalPayment } from './PayPalPayment';\nimport { WayforpayPayment } from './WayforpayPayment';\nimport { RobokassaPayment } from './RobokassaPayment';\nimport { LiqpayPayment } from './LiqpayPayment';\nimport { OtherPayment } from './OtherPayment';\n\nexport const PAYMENT_PROVIDERS = [\n    { provider: 'cod', icon: FiTruck },\n    { provider: 'paypal', icon: FaPaypal },\n    { provider: 'stripe', icon: FaStripe },\n    { provider: 'wayforpay', icon: FaMoneyBillAlt },\n    // { provider: 'robokassa', icon: FaMoneyBillAlt },\n    { provider: 'liqpay', icon: FiChevronsRight },\n    // { provider: 'other', icon: FaMoneyBillAlt },\n];\n\nexport const PAYMENT_PROVIDER_RENDERERS = {\n    cod: CashOnDeliveryPayment,\n    stripe: StripePayment,\n    paypal: PayPalPayment,\n    wayforpay: WayforpayPayment,\n    robokassa: RobokassaPayment,\n    liqpay: LiqpayPayment,\n    other: OtherPayment,\n};\n","import PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\n\nimport { __t } from '@mssgme/shared';\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { useModalThemes } from '../../../../hooks';\nimport { ThemedButton } from '../../../../UI';\n\nconst propTypes = {\n    order: LandingsPropTypes.order.isRequired,\n    onPay: PropTypes.func.isRequired,\n    disabled: PropTypes.bool,\n};\n\nexport function CashOnDeliveryPayment({ disabled, onPay }) {\n    const { contentStyle } = useModalThemes();\n\n    const handleOrder = useCallback(() => onPay('cod'), [onPay]);\n\n    return (\n        <ThemedButton fullWidth theme={contentStyle} disabled={disabled} onClick={handleOrder}>\n            {__t('make_order')}\n        </ThemedButton>\n    );\n}\n\nCashOnDeliveryPayment.propTypes = propTypes;\n","import PropTypes from 'prop-types';\nimport React, { useMemo } from 'react';\nimport { Elements } from '@stripe/react-stripe-js';\nimport { loadStripe } from '@stripe/stripe-js/pure';\nimport { useToggle } from 'react-use';\n\nimport { __t, PAYMENT_PROVIDERS } from '@mssgme/shared';\nimport { useModalThemes, usePaymentConfigs } from '../../../../hooks';\nimport { ThemedButton, ThemedModal } from '../../../../UI';\nimport StripeCheckoutForm from '../../../StripeCheckoutForm';\n\nconst propTypes = {\n    order: PropTypes.object.isRequired,\n    onPay: PropTypes.func.isRequired,\n    disabled: PropTypes.bool,\n};\n\nexport function StripePayment({ order, disabled, onPay }) {\n    const { icon: Icon, label } = PAYMENT_PROVIDERS.stripe;\n    const { payments, isSingularOnline } = usePaymentConfigs();\n    const { contentStyle } = useModalThemes();\n    const [isModal, toggleModal] = useToggle(false);\n    const stripePromise = useMemo(() => loadStripe(payments.stripe.publicKey), [payments.stripe.publicKey]);\n\n    const elements = (\n        <Elements stripe={stripePromise}>\n            <StripeCheckoutForm orderId={order._id} disabled={disabled} onPay={onPay} />\n        </Elements>\n    );\n\n    if (isSingularOnline) {\n        return elements;\n    }\n\n    return (\n        <ThemedButton\n            fullWidth\n            beforeIcon={<Icon size={24} />}\n            theme={contentStyle}\n            disabled={disabled}\n            onClick={toggleModal}\n            contentAlignLeft\n        >\n            {__t('payWith', { provider: label })}\n\n            {isModal && (\n                <ThemedModal noop compact overlay padding title={label} onClose={toggleModal}>\n                    {elements}\n                </ThemedModal>\n            )}\n        </ThemedButton>\n    );\n}\n\nStripePayment.propTypes = propTypes;\n","import PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\nimport { PayPalButtons, PayPalScriptProvider } from '@paypal/react-paypal-js';\n\nimport { __t, PAYMENT_PROVIDERS } from '@mssgme/shared';\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { ThemedButton } from '../../../../UI';\nimport { useCRMData, useModalThemes } from '../../../../hooks';\n\n// paypal buttons docs: https://paypal.github.io/react-paypal-js\n\nimport styles from './PayPalPayment.scss';\n\nconst propTypes = {\n    order: LandingsPropTypes.order.isRequired,\n    onPay: PropTypes.func.isRequired,\n    disabled: PropTypes.bool,\n};\n\nexport function PayPalPayment({\n    order: {\n        total,\n        items,\n        contactInfo: { firstName, lastName } = {},\n    },\n    disabled,\n    onPay,\n}) {\n    const { icon: Icon, label, supported_currencies } = PAYMENT_PROVIDERS.paypal;\n    const { payments } = useCRMData();\n    const { contentStyle } = useModalThemes();\n    const isSupportedCurrency = supported_currencies.includes(total.currency);\n\n    const createOrder = useCallback(\n        (data, actions) =>\n            actions.order.create({\n                purchase_units: [\n                    {\n                        amount: {\n                            currency_code: total.currency,\n                            value: total.amount,\n                            breakdown: {\n                                item_total: {\n                                    currency_code: total.currency,\n                                    value: total.amount,\n                                },\n                            },\n                        },\n                        payer: {\n                            name: {\n                                given_name: firstName,\n                                surname: lastName,\n                            },\n                        },\n                        items: items.map(({ name, price, quantity }) => ({\n                            name,\n                            unit_amount: {\n                                currency_code: price.currency,\n                                value: price.amount,\n                            },\n                            quantity,\n                        })),\n                    },\n                ],\n            }),\n        [total]\n    );\n\n    const onApprove = useCallback(\n        async (data, actions) => {\n            const details = await actions.order.capture();\n            await onPay('paypal', details);\n        },\n        [onPay]\n    );\n\n    return (\n        <div className={styles.root}>\n            <ThemedButton\n                fullWidth\n                beforeIcon={<Icon size={24} />}\n                theme={contentStyle}\n                disabled={disabled || !isSupportedCurrency}\n                className={styles.overlapButton}\n                contentAlignLeft\n            >\n                {__t('payWith', { provider: label })}\n            </ThemedButton>\n\n            {isSupportedCurrency && (\n                <PayPalScriptProvider options={{ 'client-id': payments.paypal.clientId, currency: total.currency }}>\n                    <PayPalButtons\n                        style={{ layout: 'horizontal', tagline: false }}\n                        disabled={disabled}\n                        createOrder={createOrder}\n                        onApprove={onApprove}\n                    />\n                </PayPalScriptProvider>\n            )}\n        </div>\n    );\n}\n\nPayPalPayment.propTypes = propTypes;\n","import PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\n\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { useCRMData, useFrontAPI } from '../../../../hooks';\nimport RobokassaButton from './Buttons/RobokassaButton';\n\nconst propTypes = {\n    order: LandingsPropTypes.order.isRequired,\n    disabled: PropTypes.bool,\n};\n\nexport function RobokassaPayment({ order, disabled }) {\n    const api = useFrontAPI();\n    const {\n        payments: {\n            robokassa: { merchantLogin, test: isTest },\n        },\n    } = useCRMData();\n    const createSignature = useCallback(\n        (payload) => api.orders.signatures.createRobokassaSignature({ orderId: order._id, payload }),\n        [order._id]\n    );\n\n    return (\n        <RobokassaButton\n            merchantLogin={merchantLogin}\n            outSum={order.total.amount}\n            outSumCurrency={order.total.currency}\n            invId={order._id}\n            createSignature={createSignature}\n            disabled={disabled}\n            isTest={isTest}\n        />\n    );\n}\n\nRobokassaPayment.propTypes = propTypes;\n","import PropTypes from 'prop-types';\nimport React, { useCallback, useMemo } from 'react';\n\nimport { __t } from '@mssgme/shared';\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { useCRMData, useFrontAPI, BACKEND_ENDPOINTS, useWebsiteData } from '../../../../hooks';\nimport LiqpayButton from './Buttons/LiqpayButton';\n\nconst propTypes = {\n    order: LandingsPropTypes.order.isRequired,\n    disabled: PropTypes.bool,\n};\n\nexport function LiqpayPayment({ order, disabled }) {\n    const api = useFrontAPI();\n    const orderReference = `${order._id}_uniq${Math.floor(Math.random() * 100000)}`;\n    const { payments } = useCRMData();\n    const { finalUrl } = useWebsiteData();\n    const description = `${__t('payment_for_order')}${order._id}:\\n\\n${order.items\n        .map(\n            (product, index) =>\n                `${index + 1}. ${product.name} ${product.quantity}x${product.price.amount}${product.price.currency}\\n`\n        )\n        .join('')}\\n\\n${finalUrl}`;\n    const { resultUrl, serverUrl } = useMemo(\n        () => ({\n            serverUrl: BACKEND_ENDPOINTS.getLiqPayCallback(order),\n            resultUrl: BACKEND_ENDPOINTS.getLiqPayResultUrl(order),\n        }),\n        [order]\n    );\n\n    const createSignature = useCallback(\n        (payload) => api.orders.signatures.createLiqpaySignature({ orderId: order._id, payload }),\n        [order._id]\n    );\n\n    return (\n        <LiqpayButton\n            publicKey={payments.liqpay.publicKey}\n            amount={order.total.amount}\n            currency={order.total.currency}\n            orderId={orderReference}\n            description={description}\n            createSignature={createSignature}\n            resultUrl={resultUrl}\n            serverUrl={serverUrl}\n            disabled={disabled}\n        />\n    );\n}\n\nLiqpayPayment.propTypes = propTypes;\n","import PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\nimport { useToggle } from 'react-use';\n\nimport { __t } from '@mssgme/shared';\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { useCRMData, useModalThemes } from '../../../../hooks';\nimport { ThemedButton, ThemedModal } from '../../../../UI';\n\nconst propTypes = {\n    order: LandingsPropTypes.order.isRequired,\n    onPay: PropTypes.func.isRequired,\n    disabled: PropTypes.bool,\n};\n\nexport function OtherPayment({ order, disabled, onPay }) {\n    const { payments } = useCRMData();\n    const { contentStyle } = useModalThemes();\n    const [isModal, toggleModal] = useToggle();\n\n    const handleOrder = useCallback(() => onPay('other'), [onPay]);\n    const handleModal = useCallback(() => {\n        if (payments.other.instructions) {\n            toggleModal(true);\n        } else {\n            handleOrder();\n        }\n    }, [payments.other.instructions, toggleModal]);\n\n    return (\n        <div>\n            <ThemedButton fullWidth theme={contentStyle} disabled={disabled} onClick={handleModal}>\n                {__t('make_order')}\n            </ThemedButton>\n\n            {isModal && (\n                <ThemedModal noop compact overlay padding title={__t('payments_instructions')} onClose={toggleModal}>\n                    {(handleClose) => (\n                        <div>\n                            <div style={{ whiteSpace: 'pre-wrap' }}>{payments.other.instructions}</div>\n\n                            <ThemedButton fullWidth theme={contentStyle} disabled={disabled} onClick={handleClose}>\n                                {__t('make_order')}\n                            </ThemedButton>\n                        </div>\n                    )}\n                </ThemedModal>\n            )}\n        </div>\n    );\n}\n\nOtherPayment.propTypes = propTypes;\n","// extracted by mini-css-extract-plugin\nexport default {\"pane\":\"_38J0w2ww\",\"row\":\"_3calJs61\",\"rowHeading\":\"_3XDLiWay\",\"rowValue\":\"_31zTV_Pq\",\"products\":\"_1q5mhxHg\",\"messengers\":\"_30C-3CPi\",\"sectionHeading\":\"_1emuh5Bz\",\"buttons\":\"_32Oo1KJL\",\"paymentButtons\":\"_3fHjkLsj\",\"cancelPrompt\":\"_3aX-Tfgw\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { cls } from '@mssgme/helpers';\nimport { usePageTheme } from '../../../hooks';\n\nimport styles from './OrderViewPage.scss';\n\nexport const Section = ({ title, ...rest }) => {\n    const { theme } = usePageTheme();\n\n    return (\n        <>\n            {title && <h3 className={styles.sectionHeading}>{title}</h3>}\n            <div style={theme.blocks.features} {...cls(styles.pane, rest)} />\n        </>\n    );\n};\n\nSection.propTypes = {\n    title: PropTypes.any,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { cls } from '@mssgme/helpers';\n\nimport styles from './OrderViewPage.scss';\n\nexport const Row = ({ title, ...rest }) => {\n    return (\n        <div className={styles.row}>\n            <div className={styles.rowHeading}>{title}</div>\n            <div {...cls(styles.rowValue, rest)} />\n        </div>\n    );\n};\n\nRow.propTypes = {\n    title: PropTypes.any,\n};\n","import PropTypes from 'prop-types';\nimport React, { useMemo } from 'react';\nimport { useAsyncFn, useToggle } from 'react-use';\nimport { AnimatePresence, motion } from 'framer-motion';\n\nimport { __t } from '@mssgme/shared';\nimport { useBooleanHandler } from '@mssgme/hooks';\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport {\n    handlesPaymentsStatus,\n    useContacts,\n    useFrontAPI,\n    useModalThemes,\n    usePaymentConfigs,\n    useRenderer,\n} from '../../../hooks';\nimport { ThemedButton, ThemedModal } from '../../../UI';\nimport { PAYMENT_PROVIDER_RENDERERS } from '../ShoppingCartPage';\nimport { Section } from './Section';\nimport { Row } from './Row';\n\nimport styles from './OrderViewPage.scss';\n\nOrderViewPage.propTypes = {\n    isFetching: PropTypes.bool,\n    order: LandingsPropTypes.order.isRequired,\n};\n\nexport function OrderViewPage({ isFetching, order }) {\n    const api = useFrontAPI();\n    const payments = usePaymentConfigs();\n    const renderBlock = useRenderer();\n    const contacts = useContacts();\n    const orderId = order._id;\n    const [isPayNowModal, togglePayNowModal] = useToggle(false);\n    const [isShowingCancelPrompt, showCancelPrompt, hideCancelPrompt] = useBooleanHandler();\n    const { contentStyle } = useModalThemes();\n\n    const { immediate, online } = useMemo(() => {\n        const mapper = ([provider]) => [provider, PAYMENT_PROVIDER_RENDERERS[provider]];\n\n        return {\n            immediate: payments.immediate.map(mapper),\n            online: payments.online.map(mapper),\n        };\n    }, [payments]);\n\n    const [{ loading: finalizeLoading }, handlePay] = useAsyncFn(\n        async (paymentMethod) => {\n            await api.orders.finalize({ orderId, payload: { paymentMethod } });\n            togglePayNowModal();\n        },\n        [orderId]\n    );\n\n    const [{ loading: cancelLoading }, handleCancelOrder] = useAsyncFn(async () => {\n        await api.orders.cancel({ orderId });\n        hideCancelPrompt();\n    }, [orderId]);\n\n    if (!order.finalized) {\n        return null;\n    }\n\n    const loading = isFetching || finalizeLoading || cancelLoading;\n    const isJustOneOnlinePaymentMethod = !immediate.length && online.length === 1;\n    const onlineElements = online.map(\n        ([key, Renderer]) => <Renderer key={key} order={order} disabled={loading} onPay={handlePay} />\n    );\n\n    return (\n        <div>\n            <Section>\n                <Row title={__t('order_status')}>{__t(`order_status_${order.feedback.status}`)}</Row>\n                {handlesPaymentsStatus(order.paymentMethod) && (\n                    <Row title={__t('payment_status')}>{__t(`payment_status_${order.status}`)}</Row>\n                )}\n            </Section>\n\n            <Section title={__t('your_contacts')}>\n                {order.contactInfo && (\n                    <Row title={__t('name')}>{order.contactInfo.lastName} {order.contactInfo.firstName}</Row>\n                )}\n\n                {order.contactInfo && (\n                    <Row title={__t('phone')}>{order.contactInfo.phoneNumber}</Row>\n                )}\n\n                {order.shippingAddress && (\n                    <Row title={__t('shipping')}>\n                        {[\n                            order.shippingAddress.city,\n                            order.shippingAddress.state,\n                            order.shippingAddress.address,\n                            order.shippingAddress.postalCode,\n                        ]\n                            .filter(Boolean)\n                            .join(', ')}\n                    </Row>\n                )}\n                {order.contactInfo?.comment && (\n                    <Row title={__t('comment')}>{order.contactInfo.comment}</Row>\n                )}\n            </Section>\n            <Section className={styles.products} title={__t('order_content')}>\n                {order.items.map((product, index) => (\n                    <Row key={index} title={product.name}>\n                        {product.quantity}x{product.price.amount} {product.price.currency}\n                    </Row>\n                ))}\n\n                <Row title={__t('order_summary')}>{order.total.amount} {order.total.currency}</Row>\n            </Section>\n\n            {contacts && (\n                <Section className={styles.messengers} title={__t('store_contacts')}>\n                    {contacts.map(renderBlock)}\n                </Section>\n            )}\n\n            <AnimatePresence>\n                {order.status === 'failed' && order.feedback.status !== 'rejected' && (\n                    <motion.div\n                        key=\"order-actions\"\n                        className={styles.buttons}\n                        exit={{ opacity: 0, height: 0, marginTop: '0px' }}\n                    >\n                        {isJustOneOnlinePaymentMethod ? (\n                            onlineElements\n                        ) : (\n                            <ThemedButton theme={contentStyle} onClick={togglePayNowModal}>\n                                {__t('pay_order')}\n                            </ThemedButton>\n                        )}\n\n                        <ThemedButton theme={contentStyle} contour onClick={showCancelPrompt}>\n                            {__t('cancel_order')}\n                        </ThemedButton>\n                    </motion.div>\n                )}\n\n                {!isJustOneOnlinePaymentMethod && isPayNowModal && (\n                    <ThemedModal\n                        key=\"online-payment-options\"\n                        overlay\n                        compact\n                        padding\n                        className={styles.paymentButtons}\n                        title={__t('choose_payment_method')}\n                        onClose={togglePayNowModal}\n                    >\n                        {onlineElements}\n                    </ThemedModal>\n                )}\n\n                {isShowingCancelPrompt && (\n                    <ThemedModal\n                        key=\"order-cancellation\"\n                        overlay\n                        compact\n                        padding\n                        title={__t('order_cancellation')}\n                        onClose={hideCancelPrompt}\n                    >\n                        <div className={styles.cancelPrompt}>\n                            {__t('order_cancellation_prompt')}\n                        </div>\n\n                        <ThemedButton\n                            theme={contentStyle}\n                            onClick={handleCancelOrder}\n                            disabled={loading}\n                        >\n                            {__t('order_cancellation_prompt_button')}\n                        </ThemedButton>\n                    </ThemedModal>\n                )}\n            </AnimatePresence>\n        </div>\n    );\n}\n","import { useMemo } from 'react';\n\nimport { usePageTheme } from '../hooks';\n\nexport const usePageColors = (styles) => {\n    const { theme } = usePageTheme();\n\n    return useMemo(() => {\n        const backgroundColor = styles && styles.backgroundColor;\n        const color = styles && styles.color;\n\n        return backgroundColor && color\n            ? styles\n            : {\n                backgroundColor: backgroundColor || theme.colors.background,\n                color: color || theme.colors.text,\n            };\n    }, [styles, theme.colors]);\n};\n","import { createContext } from 'react';\n\nconst StepContext = createContext(1);\n\nexport default StepContext;\n","import { useCallback, useContext } from 'react';\nimport StepContext from './StepContext';\n\nconst getPrevStep = (current, first) => Math.max(first, current - 1);\nconst getNextStep = (current, last) => Math.min(last, current + 1);\n\nfunction useStep() {\n    const { currentStep, setCurrentStep, steps } = useContext(StepContext);\n    const firstStep = 1;\n    const lastStep = steps.length;\n    const isFirstStep = currentStep === firstStep;\n    const isLastStep = currentStep === lastStep;\n    const nextStep = getNextStep(currentStep, lastStep);\n    const previousStep = getPrevStep(currentStep, firstStep);\n    const gotoStep = useCallback(\n        (step) => {\n            if (step === currentStep) {\n                return;\n            }\n\n            if (step < firstStep || step > lastStep) {\n                return;\n            }\n\n            if (step > currentStep && !steps[step - 2]?.isDone) {\n                return;\n            }\n\n            setCurrentStep(step);\n        },\n        [currentStep, firstStep, lastStep, steps]\n    );\n    const gotoNextStep = useCallback(() => setCurrentStep((current) => getNextStep(current, lastStep)), [lastStep]);\n    const gotoPreviousStep = useCallback(() => setCurrentStep((current) => getPrevStep(current, firstStep)), [\n        firstStep,\n    ]);\n    const getStepName = (step) => steps[step - 1].name;\n\n    return {\n        currentStep,\n        getStepName,\n        gotoStep,\n        gotoNextStep,\n        gotoPreviousStep,\n        firstStep,\n        lastStep,\n        isFirstStep,\n        isLastStep,\n        nextStep,\n        previousStep,\n    };\n}\n\nexport default useStep;\n","// extracted by mini-css-extract-plugin\nexport default {\"nav\":\"x1-zVrJv\",\"step\":\"_3PZiK4o6\",\"current\":\"Yj9eeavT\",\"done\":\"_367MqCEn\",\"icon\":\"HYDBXOFi\",\"mark\":\"_2db9WuMK\",\"divider\":\"_3tkHM2Ph\"};","import classNames from 'classnames';\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\n\nimport useStep from './useStep';\n\nimport styles from './StepSwitch.scss';\n\nexport const StepIcon = ({ as: Tag = 'li', step: { number, isCurrent, isDone, icon: Icon }, style }) => {\n    const { gotoStep } = useStep();\n\n    const handleClick = useCallback(() => gotoStep(number), [gotoStep, number]);\n\n    return (\n        <Tag\n            className={classNames(styles.step, {\n                [styles.done]: isDone,\n                [styles.current]: isCurrent,\n            })}\n            style={isCurrent ? style.stepCurrent : style.step}\n            onClick={handleClick}\n        >\n            <div className={styles.icon}>{Icon ? <Icon size={20} /> : number}</div>\n\n            <div className={styles.mark}>{isDone && '✔'}</div>\n        </Tag>\n    );\n};\n\nStepIcon.propTypes = {\n    as: PropTypes.elementType,\n    step: PropTypes.shape({\n        number: PropTypes.number.isRequired,\n        name: PropTypes.string.isRequired,\n        icon: PropTypes.elementType,\n        isCurrent: PropTypes.bool,\n        isDone: PropTypes.bool,\n    }).isRequired,\n    style: PropTypes.shape({\n        step: PropTypes.object,\n        stepCurrent: PropTypes.object,\n    }).isRequired,\n};\n","import React, { useState, Fragment, useMemo, useEffect } from 'react';\n\nimport { usePageColors } from '../../hooks';\nimport { StepIcon } from './StepIcon';\nimport StepContext from './StepContext';\n\nimport styles from './StepSwitch.scss';\n\nfunction StepSwitch({ children }) {\n    const mapped = React.Children.toArray(children);\n    const [currentStep, setCurrentStep] = useState(1);\n    const [steps, setSteps] = useState(() =>\n        mapped.map((child, index) => {\n            const number = index + 1;\n            return {\n                number,\n                name: child.props.name,\n                icon: child.props.icon,\n                child,\n                isDone: number < currentStep,\n                isCurrent: currentStep === number,\n            };\n        })\n    );\n    const colors = usePageColors();\n    const style = useMemo(\n        () => ({\n            divider: { backgroundColor: colors.color },\n            step: { backgroundColor: colors.backgroundColor, borderColor: colors.backgroundColor, color: colors.color },\n            stepCurrent: {\n                backgroundColor: colors.color,\n                borderColor: colors.color,\n                color: colors.backgroundColor,\n            },\n        }),\n        [colors]\n    );\n\n    useEffect(() => {\n        setSteps((old) =>\n            old.map((step) => ({\n                ...step,\n                isCurrent: step.number === currentStep,\n                isDone: step.isDone || currentStep > step.number,\n            }))\n        );\n    }, [currentStep]);\n\n    const content = mapped[steps.find((step) => step.isCurrent).number - 1];\n\n    return (\n        <StepContext.Provider value={{ currentStep, setCurrentStep, steps }}>\n            <div>\n                <ul className={styles.nav}>\n                    {steps.map((step) => (\n                        <Fragment key={step.number}>\n                            {step.number !== 1 && <li className={styles.divider} style={style.divider} />}\n\n                            <StepIcon style={style} step={step} />\n                        </Fragment>\n                    ))}\n                </ul>\n                <div>{content}</div>\n            </div>\n        </StepContext.Provider>\n    );\n}\n\nexport default StepSwitch;\n","// extracted by mini-css-extract-plugin\nexport default {\"step\":\"v85lPsnD\",\"title\":\"_1YQ2PhE1\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Step.scss';\n\nconst propTypes = {\n    name: PropTypes.string,\n};\n\nfunction Step({ children, name }) {\n    return (\n        <div className={styles.step}>\n            {name && <h4 className={styles.title}>{name}</h4>}\n            {children}\n        </div>\n    );\n}\n\nStep.propTypes = propTypes;\n\nexport default Step;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1cIEQnSo\",\"label\":\"_3O2qFkye\",\"value\":\"_1hQSAKZ3\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Row.scss';\n\nconst propTypes = {\n    label: PropTypes.string.isRequired,\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.element]).isRequired,\n};\n\nexport function Row({ label, value, ...rest }) {\n    return (\n        <div className={styles.root} {...rest}>\n            <div className={styles.label}>{label}</div>\n            <div className={styles.value}>{value}</div>\n        </div>\n    );\n}\n\nRow.propTypes = propTypes;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"b04KnDG6\"};","import PropTypes from 'prop-types';\nimport React, { useMemo } from 'react';\n\nimport { cls } from '@mssgme/helpers';\nimport { usePageColors } from '../../hooks';\n\nimport styles from './Divider.scss';\n\nexport const Divider = ({ style: baseStyle, ...props }) => {\n    const colors = usePageColors();\n    const style = useMemo(() => ({ borderTop: `1px solid ${colors.color}`, ...baseStyle }));\n\n    return <div style={style} {...cls(styles.root, props)} />;\n};\n\nDivider.propTypes = {\n    style: PropTypes.object,\n};\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction MinusIcon(props, svgRef) {\n    return (\n        <IconBase fill=\"none\" viewBox=\"0 0 24 24\" ref={svgRef} {...props}>\n            <path d=\"M5 12h14\" stroke=\"currentColor\" strokeWidth={2} strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(MinusIcon);\nexport default ForwardRef;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2RnXDDix\",\"divider\":\"_3rFjyJjx\",\"knob\":\"_2uC3LJzf\",\"thumbnail\":\"_1b9pzxi4\",\"meta\":\"O-47leFn\",\"title\":\"_3gvv9TuI\",\"details\":\"_1k07gsKv\",\"row\":\"_1Uo9ybFj\",\"quantity\":\"_1wslwbIx\",\"quantityText\":\"_2jmlZhSO\",\"price\":\"_15UVvpdZ\",\"subTotal\":\"_1Xk7hugj\",\"list\":\"hnHwJyzE\"};","import PropTypes from 'prop-types';\nimport React, { useCallback, useMemo } from 'react';\nimport { IoMdImage } from 'react-icons/io';\n\nimport { getTransparentColor } from '@mssgme/helpers';\nimport { mediaUtils } from '@mssgme/shared';\nimport { IconButton, LandingsPropTypes, LazyImage } from '@mssgme/ui';\nimport { CloseIcon, MinusIcon, PlusIcon } from '@mssgme/icons';\nimport { usePageColors } from '../../hooks';\nimport { printPrice } from '../printPrice';\n\nimport styles from './OrderItem.scss';\n\nconst propTypes = {\n    item: LandingsPropTypes.orderItem.isRequired,\n    tag: PropTypes.oneOfType([PropTypes.string, PropTypes.elementType]),\n    onAdjust: PropTypes.func,\n};\n\nexport function OrderItem({ item, onAdjust, tag: Tag = 'li' }) {\n    const colors = usePageColors();\n    const style = useMemo(() => ({ borderColor: getTransparentColor(colors.color, 0.2) }));\n    const isEditable = !!onAdjust;\n    const isMultiEditable = item.quantity > 1 && isEditable;\n\n    const handleAdjust = useCallback(\n        (delta) => onAdjust([{ productId: item.productId, quantity: Math.max(0, item.quantity + delta) }]),\n        [item, onAdjust]\n    );\n    const handleAdd = useCallback(() => handleAdjust(+1), [handleAdjust]);\n    const handleSubtract = useCallback(() => handleAdjust(-1), [handleAdjust]);\n    const handleRemove = useCallback(() => handleAdjust(-Infinity), [handleAdjust]);\n\n    return (\n        <Tag className={styles.root}>\n            <div className={styles.divider} style={{ backgroundColor: colors.color }} />\n            <div className={styles.thumbnail}>\n                {item.product.photoUrl ? (\n                    <LazyImage src={mediaUtils.generateProductThumbnailUrl(item.product.photoUrl)} alt={item.name} />\n                ) : (\n                    <div className={styles.emptyPlaceholder}>\n                        <IoMdImage size={70} color=\"#fff\" />\n                    </div>\n                )}\n            </div>\n            <div className={styles.meta}>\n                <div className={styles.title} style={style}>\n                    <div>{item.name}</div>\n\n                    {isEditable && (\n                        <IconButton className={styles.knob} onClick={handleRemove}>\n                            <CloseIcon />\n                        </IconButton>\n                    )}\n                </div>\n                <div className={styles.details}>\n                    <div className={styles.row}>\n                        <div className={styles.quantity}>\n                            {isEditable && (\n                                <IconButton\n                                    className={styles.knob}\n                                    disabled={item.quantity <= 1}\n                                    onClick={handleSubtract}\n                                >\n                                    <MinusIcon size={16} />\n                                </IconButton>\n                            )}\n                            <div className={styles.quantityText} style={{ margin: isEditable ? '0 8px' : '0' }}>\n                                {!isEditable && 'x'}\n                                {item.quantity}\n                            </div>\n                            {isEditable && (\n                                <IconButton className={styles.knob} onClick={handleAdd}>\n                                    <PlusIcon size={16} />\n                                </IconButton>\n                            )}\n                        </div>\n                        <div className={styles.price} style={{ fontWeight: isMultiEditable ? 400 : 600 }}>\n                            {isMultiEditable && `${item.quantity} x `}\n                            {printPrice(isEditable ? item.price : item.subtotal)}\n                        </div>\n                    </div>\n\n                    {isMultiEditable && <div className={styles.subTotal}>= {printPrice(item.subtotal)}</div>}\n                </div>\n            </div>\n        </Tag>\n    );\n}\n\nOrderItem.propTypes = propTypes;\n","import TinyColor2 from 'tinycolor2';\n\nexport default (rawColor, opacity) => {\n    const color = rawColor?.setAlpha ? rawColor : new TinyColor2(rawColor);\n\n    return color.setAlpha(opacity);\n};\n","import PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\n\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { productsApi } from '@mssgme/lib';\nimport { useOrderProducts, useWebsiteData } from '../../hooks';\nimport { Divider } from '../Divider';\nimport { OrderItem } from './OrderItem';\n\nimport styles from './OrderItem.scss';\n\nconst propTypes = {\n    order: LandingsPropTypes.order.isRequired,\n    onAdjust: PropTypes.func,\n};\n\nexport function OrderItemsList({ order, onAdjust, ...rest }) {\n    const website = useWebsiteData();\n    const products = useOrderProducts(\n        website,\n        order,\n        useCallback(({ productId }) => productsApi.load(website.workspace, productId), [])\n    );\n\n    return (\n        <div {...rest}>\n            <Divider style={{ marginBottom: 0 }} />\n            <ul className={styles.list}>\n                {products.map((item) => (\n                    <OrderItem key={item._id} item={item} onAdjust={onAdjust} />\n                ))}\n            </ul>\n            <Divider style={{ marginTop: 0 }} />\n        </div>\n    );\n}\n\nOrderItemsList.propTypes = propTypes;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"LRtc1wu_\",\"button\":\"_2YiVDL3s\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { useAsyncFn } from 'react-use';\n\nimport { __t } from '@mssgme/shared';\nimport { useModalThemes } from '../../../../hooks';\nimport { ThemedButton, useStep } from '../../../../UI';\n\nimport styles from './StepsFooter.scss';\n\nStepsFooter.propTypes = {\n    next: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n    prev: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n    disabled: PropTypes.bool,\n};\n\nexport function StepsFooter({ prev, next, disabled, children }) {\n    const { contentStyle } = useModalThemes();\n    const { gotoPreviousStep, gotoNextStep } = useStep();\n\n    const [{ loading: isFetchingPrev }, handlePrev] = useAsyncFn(async () => {\n        if (typeof prev === 'function') {\n            return prev();\n        }\n\n        gotoPreviousStep();\n    }, [prev, gotoPreviousStep]);\n\n    const [{ loading: isFetchingNext }, handleNext] = useAsyncFn(async () => {\n        if (typeof next === 'function') {\n            return next();\n        }\n\n        gotoNextStep();\n    }, [next, gotoNextStep]);\n\n    return (\n        <footer className={styles.root}>\n            {prev && (\n                <ThemedButton\n                    className={styles.button}\n                    theme={contentStyle}\n                    fullWidth={!next}\n                    contour\n                    type=\"submit\"\n                    disabled={disabled}\n                    isFetching={isFetchingPrev}\n                    onClick={handlePrev}\n                >\n                    {__t('previous')}\n                </ThemedButton>\n            )}\n\n            {next && (\n                <ThemedButton\n                    className={styles.button}\n                    theme={contentStyle}\n                    fullWidth={!prev}\n                    type=\"submit\"\n                    disabled={disabled}\n                    isFetching={isFetchingNext}\n                    onClick={handleNext}\n                >\n                    {__t('next')}\n                </ThemedButton>\n            )}\n\n            {children}\n        </footer>\n    );\n}\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { useAsyncFn } from 'react-use';\n\nimport { __t } from '@mssgme/shared';\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { useFrontAPI, useModalThemes } from '../../../../hooks';\nimport { ThemedButton } from '../../../../UI';\nimport { printPrice } from '../../../printPrice';\nimport { Row } from '../../../Row';\nimport { OrderItemsList } from '../../../OrderItem';\nimport { StepsFooter } from './StepsFooter';\n\nAdjustingStep.propTypes = {\n    order: LandingsPropTypes.order.isRequired,\n    onClose: PropTypes.func.isRequired,\n};\n\nexport function AdjustingStep({ order, onClose }) {\n    const { contentStyle } = useModalThemes();\n    const api = useFrontAPI();\n    const orderId = order._id;\n\n    const [{ loading }, handleModifyItems] = useAsyncFn(\n        /** @param {{ productId: string, quantity: number }[]} items Order items */\n        async (items) => await api.orders.modify({\n            orderId,\n            payload: {\n                items,\n            },\n        }),\n        [orderId]\n    );\n\n    return (\n        <div>\n            <OrderItemsList order={order} onAdjust={order.finalized ? undefined : handleModifyItems} />\n            <Row label={__t('total_to_pay')} value={printPrice(order.total)} />\n\n            <StepsFooter next={!!order.items.length} disabled={loading}>\n                {!order.items.length && (\n                    <ThemedButton\n                        fullWidth\n                        theme={contentStyle}\n                        type=\"submit\"\n                        isFetching={loading}\n                        onClick={onClose}\n                    >\n                        {__t('close')}\n                    </ThemedButton>\n                )}\n            </StepsFooter>\n        </div>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"_2Hf-7TD7\",\"label\":\"VD2M--7_\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useField } from 'formik';\n\nimport { __t } from '@mssgme/shared';\nimport { FormField } from '@mssgme/ui';\nimport { useInputTheme, useCustomInputTheme } from '../../../hooks';\n\nimport styles from './TextField.scss';\n\nconst propTypes = {\n    ...FormField.propTypes,\n    theme: PropTypes.object,\n    name: PropTypes.string.isRequired,\n};\n\nexport function TextField({ theme, ...props }) {\n    const defaultStyle = useInputTheme(theme);\n    const customStyle = useCustomInputTheme(theme);\n    const [field, meta] = useField(props);\n    const style = customStyle || defaultStyle;\n\n    return (\n        <FormField\n            shakeError\n            type=\"text\"\n            errors={meta.touched && meta.error}\n            label={props.label ? null : __t(props.name)}\n            style={style.input}\n            errorStyle={style.error}\n            inputClassName={styles.input}\n            labelClassName={styles.label}\n            {...field}\n            {...props}\n        />\n    );\n}\n\nTextField.propTypes = propTypes;\n","import { ValidationError } from '@mssgme/api-client';\n\nfunction captureSubmitError(fn) {\n    return async (values, helpers) => {\n        try {\n            await fn(values, helpers);\n        } catch (err) {\n            if (ValidationError.is(err)) {\n                for (let fieldName in err.errors) {\n                    helpers.setFieldError(fieldName, err.errors[fieldName]);\n                }\n            } else {\n                throw err;\n            }\n        }\n    };\n}\n\nexport default captureSubmitError;\n","import { useCallback } from 'react';\n\nimport { useFrontAPI } from '../hooks';\nimport { useStep } from '../UI';\nimport captureSubmitError from './captureSubmitError';\n\nexport function useOrderSubmit(orderId) {\n    const { gotoNextStep } = useStep();\n    const api = useFrontAPI();\n\n    return useCallback(\n        captureSubmitError(async (payload) => {\n            await api.orders.update({ orderId, payload });\n\n            gotoNextStep();\n        }),\n        [orderId, gotoNextStep]\n    );\n}\n","import React, { useMemo } from 'react';\nimport { Form, Formik } from 'formik';\n\nimport { __t } from '@mssgme/shared';\nimport { LandingsPropTypes, Textarea } from '@mssgme/ui';\nimport { useCRMData } from '../../../../hooks';\nimport { TextField } from '../../../../UI';\nimport { useOrderSubmit } from '../../../useOrderSubmit';\nimport { StepsFooter } from './StepsFooter';\n\nconst INITIAL_CONTACT_INFO = {\n    firstName: '',\n    lastName: '',\n    phoneNumber: '',\n    comment: '',\n};\n\nContactInfoStep.propTypes = {\n    order: LandingsPropTypes.order.isRequired,\n};\n\nexport function ContactInfoStep({ order }) {\n    const { form } = useCRMData();\n    const initialValues = useMemo(() => ({ contactInfo: order.contactInfo || INITIAL_CONTACT_INFO }), [\n        order.contactInfo,\n    ]);\n    const doSubmit = useOrderSubmit(order._id);\n    const noLastName = !!form.optional?.lastName;\n\n    return (\n        <Formik initialValues={initialValues} onSubmit={doSubmit}>\n            {({ isSubmitting, handleSubmit }) => (\n                <Form>\n                    <TextField\n                        required\n                        name=\"contactInfo.firstName\"\n                        label={noLastName ? __t('contactInfo.name') : __t('contactInfo.firstName')}\n                        placeholder={\n                            noLastName ? __t('contactInfo.placeholder.name') : __t('contactInfo.placeholder.firstName')\n                        }\n                    />\n                    {!noLastName && (\n                        <TextField\n                            required\n                            name=\"contactInfo.lastName\"\n                            placeholder={__t('contactInfo.placeholder.lastName')}\n                        />\n                    )}\n                    <TextField\n                        required\n                        name=\"contactInfo.phoneNumber\"\n                        placeholder={__t('contactInfo.placeholder.phoneNumber')}\n                    />\n                    <TextField\n                        component={Textarea}\n                        name=\"contactInfo.comment\"\n                        placeholder={__t('contactInfo.placeholder.comment')}\n                    />\n\n                    <StepsFooter prev next={handleSubmit} disabled={isSubmitting} />\n                </Form>\n            )}\n        </Formik>\n    );\n}\n","import React, { useMemo } from 'react';\nimport { Form, Formik } from 'formik';\n\nimport { __t } from '@mssgme/shared';\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { useCRMData } from '../../../../hooks';\nimport { TextField } from '../../../../UI';\nimport { useOrderSubmit } from '../../../useOrderSubmit';\nimport { StepsFooter } from './StepsFooter';\n\nconst INITIAL_SHIPPING_ADDRESS = {\n    city: '',\n    state: '',\n    address: '',\n    postalCode: '',\n};\n\nShippingAddressStep.propTypes = {\n    order: LandingsPropTypes.order.isRequired,\n};\n\nexport function ShippingAddressStep({ order }) {\n    const { form } = useCRMData();\n    const initialValues = useMemo(\n        () => ({ shippingAddress: order.shippingAddress || INITIAL_SHIPPING_ADDRESS }),\n        [order.shippingAddress]\n    );\n    const doSubmit = useOrderSubmit(order._id);\n\n    const requestCity = !form.optional?.city;\n    const requestState = !form.optional?.state;\n    const requestPostalCode = !form.optional?.postalCode;\n\n    return (\n        <Formik initialValues={initialValues} onSubmit={doSubmit}>\n            {({ isSubmitting, handleSubmit }) => (\n                <Form>\n                    {requestCity && (\n                        <TextField\n                            required\n                            name=\"shippingAddress.city\"\n                            placeholder={__t('shippingAddress.placeholder.city')}\n                        />\n                    )}\n                    {requestState && (\n                        <TextField\n                            required\n                            name=\"shippingAddress.state\"\n                            placeholder={__t('shippingAddress.placeholder.state')}\n                        />\n                    )}\n                    <TextField\n                        required\n                        name=\"shippingAddress.address\"\n                        placeholder={__t('shippingAddress.placeholder.address')}\n                    />\n                    {requestPostalCode && (\n                        <TextField\n                            required\n                            name=\"shippingAddress.postalCode\"\n                            placeholder={__t('shippingAddress.placeholder.postalCode')}\n                        />\n                    )}\n\n                    <StepsFooter prev next={handleSubmit} disabled={isSubmitting} />\n                </Form>\n            )}\n        </Formik>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"orBar\":\"_1S2p6Wz8\",\"choices\":\"_2x-DoVX6\",\"choice\":\"_2rnWm3_U\",\"choiceWrapper\":\"_3kQ-qeVl\",\"choiceContent\":\"_1mBtqVob\",\"paymentButtons\":\"sSV3oooY\"};","import React, { useCallback, useMemo, useState } from 'react';\nimport { useAsyncFn, useToggle } from 'react-use';\nimport { useHistory } from 'react-router-dom';\nimport { AnimatePresence } from 'framer-motion';\n\nimport { __t } from '@mssgme/shared';\nimport { getContourColor } from '@mssgme/helpers';\nimport { CheckableItem, LandingsPropTypes, ListInput } from '@mssgme/ui';\nimport { ThemedModal } from '../../../../UI';\nimport { useCoreContext, useFrontAPI, useModalThemes, usePaymentConfigs, useSavedOrders } from '../../../../hooks';\nimport { printPrice } from '../../../printPrice';\nimport { Row } from '../../../Row';\nimport { OrderItemsList } from '../../../OrderItem';\nimport { PAYMENT_PROVIDER_RENDERERS, PAYMENT_PROVIDERS } from '../Providers';\nimport { StepsFooter } from './StepsFooter';\n\nimport styles from './PaymentStep.scss';\n\nconst ONLINE_KEY = 'online';\n\nPaymentStep.propTypes = {\n    order: LandingsPropTypes.order.isRequired,\n};\n\nexport function PaymentStep({ order }) {\n    const orderId = order._id;\n    const history = useHistory();\n    const api = useFrontAPI();\n    const payments = usePaymentConfigs();\n    const { removeCurrentOrderId } = useSavedOrders();\n    const { router } = useCoreContext();\n    const { contentStyle } = useModalThemes();\n    const [isPayNowModal, togglePayNowModal] = useToggle(false);\n\n    const { immediate, online } = useMemo(() => {\n        const mapper = ([provider]) => [provider, PAYMENT_PROVIDER_RENDERERS[provider]];\n\n        return {\n            immediate: payments.immediate.map(mapper),\n            online: payments.online.map(mapper),\n        };\n    }, [payments]);\n    const hasOnlineMethods = !!online.length;\n    const hasImmediateMethods = !!immediate.length;\n    const isJustOneOnlinePaymentMethods = hasOnlineMethods && !hasImmediateMethods;\n\n    const [{ loading }, handlePay] = useAsyncFn(\n        async (paymentMethod) => {\n            await api.orders.finalize({ orderId, payload: { paymentMethod } });\n\n            togglePayNowModal();\n            removeCurrentOrderId();\n            history.push(router.orders.toStatus(orderId, 'paid'));\n        },\n        [router, orderId]\n    );\n\n    const [selected, setSelected] = useState(hasOnlineMethods ? ONLINE_KEY : immediate[0]?.[0]);\n\n    const optionStyles = useMemo(() => {\n        const { backgroundColor, color, border } = getContourColor(\n            contentStyle.backgroundColor,\n            contentStyle.buttonBackground,\n            contentStyle.buttonTextColor\n        );\n\n        return {\n            option: {\n                backgroundColor,\n                color,\n                border: `1px solid ${border}`,\n            },\n            active: {\n                backgroundColor: contentStyle.buttonBackground,\n                color: contentStyle.buttonTextColor,\n                border: `1px solid ${contentStyle.buttonBackground}`,\n            },\n        };\n    }, [contentStyle]);\n    const options = useMemo(\n        () =>\n            [\n                hasOnlineMethods && {\n                    value: ONLINE_KEY,\n                    label: __t('pay_now'),\n                    icon: (\n                        <div>\n                            {online.map(([provider]) => {\n                                const found = PAYMENT_PROVIDERS.find((i) => i.provider === provider);\n                                const Icon = found?.icon;\n\n                                return Icon && <Icon key={provider} />;\n                            })}\n                        </div>\n                    ),\n                },\n                ...immediate.map(([key]) => ({\n                    value: key,\n                    label: __t(`payments_${key}`),\n                })),\n            ].filter(Boolean),\n        [online, immediate]\n    );\n\n    const renderOption = useCallback(\n        ({ option, active }) => {\n            const style = active ? optionStyles.active : optionStyles.option;\n\n            return (\n                <CheckableItem\n                    className={styles.choiceWrapper}\n                    contentClass={styles.choiceContent}\n                    style={style}\n                    active={active}\n                    color={style.color}\n                >\n                    {option.label}\n                    {option.icon}\n                </CheckableItem>\n            );\n        },\n        [optionStyles]\n    );\n\n    const handleNext = useCallback(() => {\n        if (selected === ONLINE_KEY) {\n            togglePayNowModal(true);\n        } else {\n            void handlePay(selected);\n        }\n    }, [selected, handlePay]);\n\n    const onlineElements = (\n        <div className={styles.paymentButtons}>\n            {online.map(([key, Renderer]) => (\n                <Renderer key={key} order={order} disabled={loading} onPay={handlePay} />\n            ))}\n        </div>\n    );\n\n    return (\n        <div>\n            <OrderItemsList order={order} />\n            <Row label={__t('total_to_pay')} value={printPrice(order.total)} style={{ marginBottom: 16 }} />\n\n            {isJustOneOnlinePaymentMethods ? (\n                onlineElements\n            ) : (\n                <div style={{ marginBottom: -8 }}>\n                    <ListInput\n                        containerClassName={styles.choices}\n                        choiceClassName={styles.choice}\n                        value={selected}\n                        options={options}\n                        renderOption={renderOption}\n                        onChange={setSelected}\n                    />\n\n                    {hasOnlineMethods && (\n                        <AnimatePresence>\n                            {isPayNowModal && (\n                                <ThemedModal\n                                    overlay\n                                    compact\n                                    padding\n                                    title={__t('choose_payment_method')}\n                                    onClose={togglePayNowModal}\n                                >\n                                    {onlineElements}\n                                </ThemedModal>\n                            )}\n                        </AnimatePresence>\n                    )}\n                </div>\n            )}\n\n            <StepsFooter prev next={!isJustOneOnlinePaymentMethods && handleNext} disabled={loading} />\n        </div>\n    );\n}\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { MdContactPhone } from 'react-icons/md';\n\nimport { __t } from '@mssgme/shared';\nimport { CreditCardIcon, MapPinIcon, ShoppingBagIcon } from '@mssgme/icons';\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { useCoreContext, useCRMData } from '../../../hooks';\nimport { Step, StepSwitch } from '../../../UI';\nimport { AdjustingStep, ContactInfoStep, PaymentStep, ShippingAddressStep } from './Steps';\n\nShoppingCartPage.propTypes = {\n    order: LandingsPropTypes.order.isRequired,\n    onClose: PropTypes.func.isRequired,\n};\n\nexport function ShoppingCartPage({ order, onClose }) {\n    const { router } = useCoreContext();\n    const { form } = useCRMData();\n\n    if (order.finalized) {\n        return <Redirect to={router.orders.toStatus(order._id, order.status)} />;\n    }\n\n    return (\n        <StepSwitch>\n            <Step name={__t('order_adjusting')} icon={ShoppingBagIcon}>\n                <AdjustingStep order={order} onClose={onClose} />\n            </Step>\n            <Step name={__t('order_contact_info')} icon={MdContactPhone}>\n                <ContactInfoStep order={order} />\n            </Step>\n            {!!form.collectAddress && (\n                <Step name={__t('order_shipping_address')} icon={MapPinIcon}>\n                    <ShippingAddressStep order={order} />\n                </Step>\n            )}\n            <Step name={__t('order_payment')} icon={CreditCardIcon}>\n                <PaymentStep order={order} />\n            </Step>\n        </StepSwitch>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"error\":\"_2_lk9UPf\",\"root\":\"_31v2e_-j\",\"cancelPrompt\":\"_2xrOjq_F\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_16xOxYXh\",\"icon\":\"BzF9ozYT\",\"title\":\"_3s9Zed-X\",\"subTitle\":\"_3FQsGQSI\",\"orderTitle\":\"_1NfpeMBe\"};","import React from 'react';\nimport { Provider } from 'react-redux';\n\nimport { AnimateableRoutes, usePresenceRemoval } from '@mssgme/ui';\nimport { useCoreContext } from '../../../hooks';\nimport { CollectionView, ProductView } from '../../Product';\nimport { PaymentStatusPage, UserOrderPage, UserOrdersPage } from '../../Order';\n\nconst ordersRouting = {\n    path: 'orders',\n    component: UserOrdersPage,\n    exact: true,\n    children: [\n        {\n            path: ':orderId',\n            component: UserOrderPage,\n            children: [\n                { path: 'payment/:status', component: PaymentStatusPage },\n            ],\n        },\n    ],\n};\n\nconst productRouting = {\n    path: 'p/:productSlug',\n    component: ProductView,\n    children: [\n        ordersRouting,\n    ],\n};\n\nconst routing = [\n    ordersRouting,\n    productRouting,\n    {\n        path: 'c/:collectionSlug',\n        component: CollectionView,\n        children: [\n            productRouting,\n        ],\n    },\n];\n\nexport function PageProductsRouting(props) {\n    const { store } = useCoreContext();\n\n    usePresenceRemoval();\n\n    const content = <AnimateableRoutes routing={routing} {...props} />;\n\n    return store ? <Provider store={store}>{content}</Provider> : content;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useLocation } from 'react-router-dom';\n\nimport { __t } from '@mssgme/shared';\nimport { Spinner } from '@mssgme/ui';\nimport { useEventCallback } from '@mssgme/hooks';\n\nimport { ThemedModal } from '../../UI';\nimport { useCoreContext, useFrontAPI, useSavedOrders } from '../../hooks';\nimport { useOrder } from '../useOrder';\nimport { OrderViewPage } from './OrderViewPage';\nimport { ShoppingCartPage } from './ShoppingCartPage';\n\nimport styles from './UserOrderPage.scss';\n\nexport const UserOrderPage = ({ orderId }) => {\n    const api = useFrontAPI();\n    const { state } = useLocation();\n    const { router } = useCoreContext();\n    const { order, loading, error, isNotFound } = useOrder(orderId);\n    const { removeOrderId } = useSavedOrders();\n    const backPath = state?.backPath || router.toHome();\n\n    const handleClosing = useEventCallback(async () => {\n        if (!order.items.length) {\n            removeOrderId(order._id);\n\n            return api.orders.remove({ orderId });\n        }\n    });\n\n    if (!(loading || error || order)) {\n        return null;\n    }\n\n    const title = order?.finalized ? `${__t('order_term')} #${order.feedback.order}` : __t('checkout');\n    const renderContent = (handleClose) => {\n        if (loading) {\n            return <Spinner />;\n        }\n\n        if (error) {\n            return (\n                <div className={styles.error}>\n                    {isNotFound ? __t('order_not_found') : error.message}\n                </div>\n            );\n        }\n\n        if (order.finalized) {\n            return <OrderViewPage order={order} isFetching={loading} />;\n        }\n\n        return (\n            <ShoppingCartPage order={order} onClose={handleClose} />\n        );\n    };\n\n    return (\n        <ThemedModal overlay compact padding title={title} onClosing={handleClosing} onClose={backPath}>\n            {renderContent}\n        </ThemedModal>\n    );\n};\n\nUserOrderPage.propTypes = {\n    orderId: PropTypes.string.isRequired,\n};\n","import { useAsync } from 'react-use';\n\nimport { NotFoundError } from '@mssgme/api-client';\nimport { isMatchedById } from '@mssgme/shared';\nimport { useFrontAPI, useUserOrders } from '../hooks';\n\nexport function useOrder(orderId) {\n    const api = useFrontAPI();\n    const userOrders = useUserOrders() || [];\n    const { loading, error, value: immediate } = useAsync(\n        () => api.orders.show({ orderId, query: { complete: true } }),\n        [orderId]\n    );\n    const isNotFound = error && NotFoundError.is(error);\n    const order = userOrders.find(isMatchedById(orderId)) || immediate;\n\n    return {\n        isNotFound,\n        loading,\n        order,\n        error,\n        immediate,\n    };\n}\n","import PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { FaRegFrown, FaRegSmileBeam } from 'react-icons/fa';\n\nimport { __t } from '@mssgme/shared';\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { useCoreContext, useCRMData, useModalThemes, useViewOrder } from '../hooks';\nimport { SmartButton, ThemedButton, ThemedModal } from '../UI';\n// import { OrderItemsList } from './OrderItem';\n\nimport styles from './PaymentStatusPage.scss';\n\nPaymentStatusPage.propTypes = {\n    orderId: PropTypes.string.isRequired,\n    status: LandingsPropTypes.orderStatus.isRequired,\n};\n\nexport function PaymentStatusPage({ orderId, status }) {\n    const history = useHistory();\n    const { router } = useCoreContext();\n    const { form } = useCRMData();\n    const { contentStyle } = useModalThemes();\n    const { order, error } = useViewOrder(orderId);\n    const { action: { type, url, page } } = form.successURL;\n    const hasSuccessUrl = !!(type === 'page' ? page : url);\n    const resolvedStatus = status === 'pending' ? 'paid' : status;\n\n    const handleClose = useCallback(\n        (event) => {\n            if (event?.orderId) {\n                return history.push(router.orders.toView(event?.orderId));\n            }\n\n            return history.push(router.toHome());\n        },\n        [router]\n    );\n\n    if (error) {\n        return (\n            <ThemedModal overlay compact showHeader={false} onClose={handleClose}>\n                <div className={styles.root}>\n                    <p>{__t('order_not_found')}</p>\n                </div>\n            </ThemedModal>\n        );\n    }\n\n    return (\n        <ThemedModal overlay compact showHeader={false} onClose={handleClose}>\n            {(onClose) => (\n                <div className={styles.root}>\n                    {resolvedStatus === 'failed' ? (\n                        <FaRegFrown size={60} className={styles.icon} />\n                    ) : (\n                        <FaRegSmileBeam size={60} className={styles.icon} />\n                    )}\n\n                    <h1 className={styles.title}>{__t(`payment_${resolvedStatus}`)}</h1>\n\n                    {resolvedStatus !== 'failed' && (\n                        <>\n                            <p className={styles.subTitle}>{form.successMessage || __t('payment_paid_subtitle')}</p>\n                            {hasSuccessUrl && (\n                                <div className={styles.subTitle}>\n                                    <SmartButton\n                                        link={form.successURL}\n                                        id={form.successURL.action._id}\n                                        style={{\n                                            background: contentStyle.buttonBackground,\n                                            color: contentStyle.buttonTextColor,\n                                            borderRadius: 10,\n                                            minHeight: 44,\n                                            marginBottom: 40,\n                                        }}\n                                        interactive\n                                    />\n                                </div>\n                            )}\n                        </>\n                    )}\n\n                    {/*<h2 className={styles.orderTitle}>{__t('order_adjusting')}</h2>*/}\n                    {/*{order && <OrderItemsList order={order} />}*/}\n\n                    <ThemedButton\n                        fullWidth\n                        style={{ marginTop: 16 }}\n                        theme={contentStyle}\n                        onClick={() => onClose({ orderId })}\n                    >\n                        {__t('view_order')}\n                    </ThemedButton>\n                    <ThemedButton\n                        fullWidth\n                        style={{ marginTop: 8 }}\n                        contour\n                        theme={contentStyle}\n                        onClick={onClose}\n                    >\n                        {__t('back_to_home')}\n                    </ThemedButton>\n                </div>\n            )}\n        </ThemedModal>\n    );\n}\n","import PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useMemo } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useAsyncFn } from 'react-use';\n\nimport { productsApi } from '@mssgme/lib';\nimport { __t, isMatchedBy } from '@mssgme/shared';\nimport { useNavigationUtils } from '@mssgme/hooks';\nimport { usePresenceRemoval } from '@mssgme/ui';\nimport { ServiceContent, ThemedModal } from '../../UI';\nimport { useContacts, useCoreContext, useModalThemes, useWebsiteData } from '../../hooks';\n\nconst addUrl = (product, finalUrl) => {\n    const text = encodeURIComponent(\n        `${__t('buy_template')} ${product.title || product.name} - ${finalUrl}/p/${product.slug}`\n    );\n    const ref = `buy_${product._id}_${Date.now()}_${document.documentElement.lang}`;\n    const params = {\n        text,\n        ref,\n        start: ref,\n    };\n\n    return (messenger) => {\n        return { ...messenger, params };\n    };\n};\n\nexport function ProductView({ productSlug, collectionSlug, ...props }) {\n    const history = useHistory();\n    const website = useWebsiteData();\n    const collection = collectionSlug && website.collections.find(isMatchedBy(collectionSlug, 'slug'));\n    const fromCollection = history.location.state?.fromCollection || collection?._id || website.defaultCollectionId;\n    const workspaceId = website.workspace;\n    const { generateUrl } = useNavigationUtils();\n    const { contentStyle } = useModalThemes();\n    const { finalUrl } = useWebsiteData();\n    const { store } = useCoreContext();\n    const interactive = !!store;\n    const backPath = useMemo(() => generateUrl('../..'), [history.location]);\n\n    const [{ value: product, error }, getProduct] = useAsyncFn(\n        () => productsApi.loadBySlug(workspaceId, productSlug, fromCollection),\n        [workspaceId, productSlug, fromCollection]\n    );\n    const contactsMap = useMemo(() => product && addUrl(product, finalUrl), [product, finalUrl]);\n    const contacts = useContacts(contactsMap);\n    const is404 = error?.status === 404;\n\n    const handleClose = useCallback(() => history.push(backPath), [backPath]);\n\n    useEffect(() => {\n        if (fromCollection) {\n            void getProduct();\n        }\n    }, [productSlug, fromCollection]);\n\n    usePresenceRemoval();\n\n    return (\n        <ThemedModal overlay showHeader={!!error} title={error ? __t('error') : ''} onClose={handleClose}>\n            {(handleClose) =>\n                error ? (\n                    <div style={{ padding: 16, display: 'flex' }}>\n                        {is404 ? __t('product_not_found') : __t('no_products')}\n                    </div>\n                ) : product ? (\n                    <ServiceContent\n                        {...props}\n                        themeStyles={contentStyle}\n                        service={product}\n                        contacts={contacts}\n                        isActive\n                        isPrev={false}\n                        isNext={false}\n                        interactive={interactive}\n                        backUrl={backPath}\n                        onClose={handleClose}\n                    />\n                ) : null\n            }\n        </ThemedModal>\n    );\n}\n\nProductView.propTypes = {\n    productSlug: PropTypes.string.isRequired,\n    collectionSlug: PropTypes.string,\n};\n","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useState } from 'react';\nimport { useAsyncFn, useDeepCompareEffect } from 'react-use';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport { __t, isMatchedBy } from '@mssgme/shared';\nimport { useNavigationUtils } from '@mssgme/hooks';\nimport { productsApi } from '@mssgme/lib';\nimport { Spinner } from '@mssgme/ui';\nimport { ProductItem } from '../../../products';\nimport { useModalThemes, useWebsiteData } from '../../hooks';\nimport { Grid, MoreButton, ThemedModal } from '../../UI';\n\nimport styles from './CollectionView.scss';\n\nexport const CollectionView = ({ collectionSlug }) => {\n    const history = useHistory();\n    const website = useWebsiteData();\n    const collection = collectionSlug && website.collections.find(isMatchedBy(collectionSlug, 'slug'));\n    const workspaceId = website.workspace;\n    const websiteId = website._id;\n    const collectionId = collection?._id;\n\n    const { style } = useModalThemes();\n    const { generateUrl } = useNavigationUtils();\n    const [{ next, results }, setProducts] = useState({\n        next: null,\n        results: [],\n    });\n    const backPath = generateUrl('../..');\n\n    const [{ loading: isFetching }, getProducts] = useAsyncFn(\n        async (next, resetStore) => {\n            const productsStore = await productsApi.list(workspaceId, {\n                next,\n                collection: collectionId,\n                website: websiteId,\n                published: true,\n            });\n\n            setProducts((prevProducts) => ({\n                ...productsStore,\n                results: resetStore ? productsStore.results : prevProducts.results.concat(productsStore.results),\n            }));\n        },\n        [workspaceId, websiteId, collectionId]\n    );\n\n    const handleClose = useCallback(() => history.push(backPath), [backPath]);\n    const handleMore = useCallback(() => getProducts(next), [next, getProducts]);\n\n    useDeepCompareEffect(() => {\n        if (collection) {\n            void getProducts(null, true);\n        }\n    }, [collection, getProducts]);\n\n    if (!collection) {\n        return null;\n    }\n\n    return (\n        <ThemedModal overlay title={collection.default ? __t('all_products') : collection.name} onClose={handleClose}>\n            <div className={styles.content}>\n                {results.length > 0 && (\n                    <Grid itemClassName={styles.animated}>\n                        {results.map((item) => (\n                            <ProductItem\n                                key={item._id}\n                                product={item}\n                                tag={Link}\n                                to={{\n                                    pathname: generateUrl(\n                                        `../../c/${collection.slug.toLowerCase()}/p/${item.slug.toLowerCase()}`\n                                    ),\n                                    state: {\n                                        fromCollection: collection._id,\n                                    },\n                                }}\n                                themeStyles={style}\n                            />\n                        ))}\n                    </Grid>\n                )}\n\n                {isFetching ? (\n                    <Spinner />\n                ) : (\n                    !!next && (\n                        <div className={cn(styles.moreBtnContainer, styles.animated)}>\n                            <MoreButton\n                                className={styles.moreBtn}\n                                style={style}\n                                onClick={handleMore}\n                                disabled={isFetching}\n                            />\n                        </div>\n                    )\n                )}\n            </div>\n        </ThemedModal>\n    );\n};\n\nCollectionView.propTypes = {\n    collectionSlug: PropTypes.string,\n};\n"],"sourceRoot":""}