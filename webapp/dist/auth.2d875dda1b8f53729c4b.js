(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+c2v":function(t,e,n){var s,i,r;!function(n,o){"use strict";i=[],void 0===(r="function"==typeof(s=function(){function t(t){return t.charAt(0).toUpperCase()+t.substring(1)}function e(t){return function(){return this[t]}}var n=["isConstructor","isEval","isNative","isToplevel"],s=["columnNumber","lineNumber"],i=["fileName","functionName","source"],r=n.concat(s,i,["args"],["evalOrigin"]);function o(e){if(e)for(var n=0;n<r.length;n++)void 0!==e[r[n]]&&this["set"+t(r[n])](e[r[n]])}o.prototype={getArgs:function(){return this.args},setArgs:function(t){if("[object Array]"!==Object.prototype.toString.call(t))throw new TypeError("Args must be an Array");this.args=t},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(t){if(t instanceof o)this.evalOrigin=t;else{if(!(t instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new o(t)}},toString:function(){var t=this.getFileName()||"",e=this.getLineNumber()||"",n=this.getColumnNumber()||"",s=this.getFunctionName()||"";return this.getIsEval()?t?"[eval] ("+t+":"+e+":"+n+")":"[eval]:"+e+":"+n:s?s+" ("+t+":"+e+":"+n+")":t+":"+e+":"+n}},o.fromString=function(t){var e=t.indexOf("("),n=t.lastIndexOf(")"),s=t.substring(0,e),i=t.substring(e+1,n).split(","),r=t.substring(n+1);if(0===r.indexOf("@"))var a=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(r,""),c=a[1],u=a[2],l=a[3];return new o({functionName:s,args:i||void 0,fileName:c,lineNumber:u||void 0,columnNumber:l||void 0})};for(var a=0;a<n.length;a++)o.prototype["get"+t(n[a])]=e(n[a]),o.prototype["set"+t(n[a])]=function(t){return function(e){this[t]=Boolean(e)}}(n[a]);for(var c=0;c<s.length;c++)o.prototype["get"+t(s[c])]=e(s[c]),o.prototype["set"+t(s[c])]=function(t){return function(e){if(n=e,isNaN(parseFloat(n))||!isFinite(n))throw new TypeError(t+" must be a Number");var n;this[t]=Number(e)}}(s[c]);for(var u=0;u<i.length;u++)o.prototype["get"+t(i[u])]=e(i[u]),o.prototype["set"+t(i[u])]=function(t){return function(e){this[t]=String(e)}}(i[u]);return o})?s.apply(e,i):s)||(t.exports=r)}()},"/hqN":function(t,e,n){var s={"./en/auth.json":["kKe4",8],"./ru/auth.json":["FzP2",9],"./uk/auth.json":["M+yq",10]};function i(t){if(!n.o(s,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=s[t],i=e[0];return n.e(e[1]).then((function(){return n.t(i,3)}))}i.keys=function(){return Object.keys(s)},i.id="/hqN",t.exports=i},0:function(t,e){},"0k8D":function(t,e,n){var s={"./en/ui.json":["maHe",18],"./ru/ui.json":["6X5w",19],"./uk/ui.json":["Rwdq",20]};function i(t){if(!n.o(s,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=s[t],i=e[0];return n.e(e[1]).then((function(){return n.t(i,3)}))}i.keys=function(){return Object.keys(s)},i.id="0k8D",t.exports=i},"2OCk":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var s=n("fvrP");const i=()=>Object(s.c)("ui",t=>n("0k8D")(`./${t}/ui.json`))},"4djT":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var s=n("ERkP"),i=n.n(s);function r(){return i.a.createElement("svg",{viewBox:"0 0 107 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{d:"M49.718 14.366C49.718 13.838 49.568 13.454 49.268 13.214C48.98 12.962 48.584 12.836 48.08 12.836C47.744 12.836 47.42 12.902 47.108 13.034C46.808 13.154 46.532 13.322 46.28 13.538C46.304 13.634 46.322 13.736 46.334 13.844C46.346 13.952 46.352 14.06 46.352 14.168V19.964C46.268 20 46.148 20.03 45.992 20.054C45.836 20.09 45.674 20.108 45.506 20.108C45.158 20.108 44.9 20.042 44.732 19.91C44.564 19.778 44.48 19.556 44.48 19.244V14.366C44.48 13.838 44.33 13.454 44.03 13.214C43.73 12.962 43.328 12.836 42.824 12.836C42.488 12.836 42.17 12.89 41.87 12.998C41.57 13.106 41.318 13.226 41.114 13.358V19.964C41.03 20 40.91 20.03 40.754 20.054C40.61 20.09 40.448 20.108 40.268 20.108C39.92 20.108 39.662 20.042 39.494 19.91C39.326 19.778 39.242 19.556 39.242 19.244V13.304C39.242 13.028 39.296 12.806 39.404 12.638C39.512 12.47 39.692 12.302 39.944 12.134C40.292 11.906 40.73 11.714 41.258 11.558C41.786 11.402 42.32 11.324 42.86 11.324C43.424 11.324 43.928 11.402 44.372 11.558C44.828 11.714 45.2 11.942 45.488 12.242C45.824 11.978 46.22 11.762 46.676 11.594C47.144 11.414 47.684 11.324 48.296 11.324C48.764 11.324 49.202 11.384 49.61 11.504C50.018 11.612 50.366 11.792 50.654 12.044C50.954 12.284 51.188 12.59 51.356 12.962C51.524 13.334 51.608 13.778 51.608 14.294V19.964C51.512 20 51.386 20.03 51.23 20.054C51.086 20.09 50.924 20.108 50.744 20.108C50.396 20.108 50.138 20.042 49.97 19.91C49.802 19.778 49.718 19.556 49.718 19.244V14.366ZM60.3775 17.678C60.3775 18.482 60.0775 19.112 59.4775 19.568C58.8775 20.024 58.0075 20.252 56.8675 20.252C56.3995 20.252 55.9675 20.216 55.5715 20.144C55.1755 20.072 54.8335 19.97 54.5455 19.838C54.2695 19.706 54.0535 19.55 53.8975 19.37C53.7415 19.19 53.6635 18.992 53.6635 18.776C53.6635 18.596 53.7055 18.428 53.7895 18.272C53.8855 18.116 54.0115 17.99 54.1675 17.894C54.5035 18.11 54.8875 18.308 55.3195 18.488C55.7515 18.668 56.2555 18.758 56.8315 18.758C57.3715 18.758 57.7855 18.668 58.0735 18.488C58.3615 18.296 58.5055 18.026 58.5055 17.678C58.5055 17.378 58.4035 17.138 58.1995 16.958C58.0075 16.778 57.7195 16.64 57.3355 16.544L56.1115 16.22C55.2955 16.004 54.6955 15.71 54.3115 15.338C53.9275 14.966 53.7355 14.456 53.7355 13.808C53.7355 13.46 53.8075 13.136 53.9515 12.836C54.0955 12.524 54.3055 12.26 54.5815 12.044C54.8695 11.816 55.2235 11.642 55.6435 11.522C56.0635 11.39 56.5435 11.324 57.0835 11.324C57.5155 11.324 57.9055 11.36 58.2535 11.432C58.6135 11.492 58.9195 11.582 59.1715 11.702C59.4355 11.81 59.6395 11.948 59.7835 12.116C59.9275 12.284 59.9995 12.464 59.9995 12.656C59.9995 12.848 59.9575 13.016 59.8735 13.16C59.7895 13.292 59.6815 13.4 59.5495 13.484C59.3335 13.352 59.0095 13.208 58.5775 13.052C58.1575 12.896 57.7015 12.818 57.2095 12.818C56.7055 12.818 56.3095 12.908 56.0215 13.088C55.7335 13.256 55.5895 13.496 55.5895 13.808C55.5895 14.048 55.6675 14.246 55.8235 14.402C55.9915 14.558 56.2735 14.684 56.6695 14.78L57.7135 15.05C58.6255 15.29 59.2975 15.614 59.7295 16.022C60.1615 16.43 60.3775 16.982 60.3775 17.678ZM68.6392 17.678C68.6392 18.482 68.3392 19.112 67.7392 19.568C67.1392 20.024 66.2692 20.252 65.1292 20.252C64.6612 20.252 64.2292 20.216 63.8332 20.144C63.4372 20.072 63.0952 19.97 62.8072 19.838C62.5312 19.706 62.3152 19.55 62.1592 19.37C62.0032 19.19 61.9252 18.992 61.9252 18.776C61.9252 18.596 61.9672 18.428 62.0512 18.272C62.1472 18.116 62.2732 17.99 62.4292 17.894C62.7652 18.11 63.1492 18.308 63.5812 18.488C64.0132 18.668 64.5172 18.758 65.0932 18.758C65.6332 18.758 66.0472 18.668 66.3352 18.488C66.6232 18.296 66.7672 18.026 66.7672 17.678C66.7672 17.378 66.6652 17.138 66.4612 16.958C66.2692 16.778 65.9812 16.64 65.5972 16.544L64.3732 16.22C63.5572 16.004 62.9572 15.71 62.5732 15.338C62.1892 14.966 61.9972 14.456 61.9972 13.808C61.9972 13.46 62.0692 13.136 62.2132 12.836C62.3572 12.524 62.5672 12.26 62.8432 12.044C63.1312 11.816 63.4852 11.642 63.9052 11.522C64.3252 11.39 64.8052 11.324 65.3452 11.324C65.7772 11.324 66.1672 11.36 66.5152 11.432C66.8752 11.492 67.1812 11.582 67.4332 11.702C67.6972 11.81 67.9012 11.948 68.0452 12.116C68.1892 12.284 68.2612 12.464 68.2612 12.656C68.2612 12.848 68.2192 13.016 68.1352 13.16C68.0512 13.292 67.9432 13.4 67.8112 13.484C67.5952 13.352 67.2712 13.208 66.8392 13.052C66.4192 12.896 65.9632 12.818 65.4712 12.818C64.9672 12.818 64.5712 12.908 64.2832 13.088C63.9952 13.256 63.8512 13.496 63.8512 13.808C63.8512 14.048 63.9292 14.246 64.0852 14.402C64.2532 14.558 64.5352 14.684 64.9312 14.78L65.9752 15.05C66.8872 15.29 67.5592 15.614 67.9912 16.022C68.4232 16.43 68.6392 16.982 68.6392 17.678ZM76.127 19.208C75.899 19.352 75.617 19.472 75.281 19.568C74.957 19.664 74.567 19.712 74.111 19.712C73.583 19.712 73.079 19.64 72.599 19.496C72.131 19.34 71.717 19.1 71.357 18.776C70.997 18.44 70.709 18.008 70.493 17.48C70.289 16.952 70.187 16.304 70.187 15.536C70.187 14.84 70.289 14.234 70.493 13.718C70.709 13.19 71.003 12.752 71.375 12.404C71.759 12.044 72.209 11.774 72.725 11.594C73.253 11.414 73.835 11.324 74.471 11.324C75.059 11.324 75.599 11.402 76.091 11.558C76.595 11.702 77.003 11.876 77.315 12.08C77.519 12.212 77.675 12.362 77.783 12.53C77.903 12.698 77.963 12.902 77.963 13.142V20.234C77.963 20.834 77.855 21.35 77.639 21.782C77.435 22.214 77.147 22.562 76.775 22.826C76.415 23.102 75.983 23.3 75.479 23.42C74.975 23.552 74.435 23.618 73.859 23.618C73.247 23.618 72.719 23.558 72.275 23.438C71.831 23.318 71.507 23.198 71.303 23.078C70.931 22.85 70.745 22.55 70.745 22.178C70.745 21.974 70.787 21.8 70.871 21.656C70.955 21.524 71.063 21.416 71.195 21.332C71.471 21.524 71.837 21.698 72.293 21.854C72.749 22.01 73.235 22.088 73.751 22.088C74.507 22.088 75.089 21.932 75.497 21.62C75.917 21.32 76.127 20.828 76.127 20.144V19.208ZM74.381 18.236C74.789 18.236 75.131 18.176 75.407 18.056C75.683 17.936 75.917 17.792 76.109 17.624V13.268C75.929 13.16 75.707 13.064 75.443 12.98C75.179 12.884 74.867 12.836 74.507 12.836C73.775 12.836 73.187 13.058 72.743 13.502C72.299 13.946 72.077 14.618 72.077 15.518C72.077 16.01 72.137 16.43 72.257 16.778C72.377 17.126 72.539 17.408 72.743 17.624C72.947 17.84 73.187 17.996 73.463 18.092C73.751 18.188 74.057 18.236 74.381 18.236ZM79.5095 19.046C79.5095 18.698 79.6115 18.41 79.8155 18.182C80.0315 17.954 80.3255 17.84 80.6975 17.84C81.0815 17.84 81.3755 17.954 81.5795 18.182C81.7835 18.41 81.8855 18.698 81.8855 19.046C81.8855 19.394 81.7835 19.682 81.5795 19.91C81.3755 20.138 81.0815 20.252 80.6975 20.252C80.3255 20.252 80.0315 20.138 79.8155 19.91C79.6115 19.682 79.5095 19.394 79.5095 19.046ZM93.927 14.366C93.927 13.838 93.777 13.454 93.477 13.214C93.189 12.962 92.793 12.836 92.289 12.836C91.953 12.836 91.629 12.902 91.317 13.034C91.017 13.154 90.741 13.322 90.489 13.538C90.513 13.634 90.531 13.736 90.543 13.844C90.555 13.952 90.561 14.06 90.561 14.168V19.964C90.477 20 90.357 20.03 90.201 20.054C90.045 20.09 89.883 20.108 89.715 20.108C89.367 20.108 89.109 20.042 88.941 19.91C88.773 19.778 88.689 19.556 88.689 19.244V14.366C88.689 13.838 88.539 13.454 88.239 13.214C87.939 12.962 87.537 12.836 87.033 12.836C86.697 12.836 86.379 12.89 86.079 12.998C85.779 13.106 85.527 13.226 85.323 13.358V19.964C85.239 20 85.119 20.03 84.963 20.054C84.819 20.09 84.657 20.108 84.477 20.108C84.129 20.108 83.871 20.042 83.703 19.91C83.535 19.778 83.451 19.556 83.451 19.244V13.304C83.451 13.028 83.505 12.806 83.613 12.638C83.721 12.47 83.901 12.302 84.153 12.134C84.501 11.906 84.939 11.714 85.467 11.558C85.995 11.402 86.529 11.324 87.069 11.324C87.633 11.324 88.137 11.402 88.581 11.558C89.037 11.714 89.409 11.942 89.697 12.242C90.033 11.978 90.429 11.762 90.885 11.594C91.353 11.414 91.893 11.324 92.505 11.324C92.973 11.324 93.411 11.384 93.819 11.504C94.227 11.612 94.575 11.792 94.863 12.044C95.163 12.284 95.397 12.59 95.565 12.962C95.733 13.334 95.817 13.778 95.817 14.294V19.964C95.721 20 95.595 20.03 95.439 20.054C95.295 20.09 95.133 20.108 94.953 20.108C94.605 20.108 94.347 20.042 94.179 19.91C94.011 19.778 93.927 19.556 93.927 19.244V14.366ZM99.7625 16.742C99.9305 17.426 100.255 17.936 100.735 18.272C101.227 18.596 101.851 18.758 102.607 18.758C103.111 18.758 103.573 18.68 103.993 18.524C104.413 18.368 104.749 18.2 105.001 18.02C105.337 18.212 105.505 18.482 105.505 18.83C105.505 19.034 105.427 19.226 105.271 19.406C105.115 19.574 104.899 19.724 104.623 19.856C104.359 19.976 104.041 20.072 103.669 20.144C103.309 20.216 102.919 20.252 102.499 20.252C101.803 20.252 101.167 20.156 100.591 19.964C100.027 19.772 99.5405 19.484 99.1325 19.1C98.7245 18.716 98.4065 18.242 98.1785 17.678C97.9625 17.114 97.8545 16.46 97.8545 15.716C97.8545 14.996 97.9625 14.366 98.1785 13.826C98.3945 13.274 98.6885 12.818 99.0605 12.458C99.4325 12.086 99.8705 11.804 100.375 11.612C100.879 11.42 101.419 11.324 101.995 11.324C102.571 11.324 103.093 11.42 103.561 11.612C104.041 11.792 104.449 12.05 104.785 12.386C105.133 12.71 105.397 13.1 105.577 13.556C105.769 14.012 105.865 14.51 105.865 15.05C105.865 15.35 105.793 15.572 105.649 15.716C105.505 15.848 105.295 15.938 105.019 15.986L99.7625 16.742ZM101.995 12.782C101.335 12.782 100.783 13.004 100.339 13.448C99.9065 13.892 99.6785 14.528 99.6545 15.356L104.083 14.726C104.035 14.186 103.837 13.73 103.489 13.358C103.141 12.974 102.643 12.782 101.995 12.782Z",fill:"currentColor"}),i.a.createElement("rect",{width:"30",height:"30",rx:"6",fill:"currentColor"}),i.a.createElement("path",{d:"M10.6 8.02644C10.6 7.54679 11.0029 7.15796 11.4999 7.15796C11.997 7.15796 12.3999 7.54679 12.3999 8.02644V16.1322C12.3999 16.6118 11.997 17.0007 11.4999 17.0007C11.0029 17.0007 10.6 16.6118 10.6 16.1322V8.02644ZM17.7999 9.1844C17.7999 8.70475 18.2028 8.31593 18.6999 8.31593C19.1969 8.31593 19.5999 8.70475 19.5999 9.1844V17.2901C19.5999 17.7698 19.1969 18.1586 18.6999 18.1586C18.2028 18.1586 17.7999 17.7698 17.7999 17.2901V9.1844ZM14.1999 6.86847C14.1999 6.38883 14.6029 6 15.0999 6C15.597 6 15.9999 6.38883 15.9999 6.86847V14.9742C15.9999 15.4539 15.597 15.8427 15.0999 15.8427C14.6029 15.8427 14.1999 15.4539 14.1999 14.9742V6.86847ZM23.7094 18.2446C24.1572 18.0365 24.6951 18.2182 24.9107 18.6503C25.1263 19.0825 24.9381 19.6015 24.4902 19.8096L16.8932 23.3393C13.4597 24.9346 9.33623 23.5419 7.68308 20.2286C7.23347 19.3275 7 18.3403 7 17.3402V10.9213C7 10.4417 7.40294 10.0529 7.89999 10.0529C8.39704 10.0529 8.79998 10.4417 8.79998 10.9213V17.3402C8.79998 18.0794 8.97255 18.8091 9.30486 19.4751C10.5268 21.924 13.5746 22.9534 16.1124 21.7743L23.7094 18.2446Z",fill:"white"}))}},5:function(t,e,n){n("w0yH"),n("dnJR"),t.exports=n("Ls8A")},AFDi:function(t,e,n){t.exports={helper:"_3keeEJVN",sentText:"_2j15H_vK"}},"Eo+U":function(t,e,n){var s,i,r;!function(o,a){"use strict";i=[n("+c2v")],void 0===(r="function"==typeof(s=function(t){var e=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,s=/^(eval@)?(\[native code])?$/;return{parse:function(t){if(void 0!==t.stacktrace||void 0!==t["opera#sourceloc"])return this.parseOpera(t);if(t.stack&&t.stack.match(n))return this.parseV8OrIE(t);if(t.stack)return this.parseFFOrSafari(t);throw new Error("Cannot parse given Error object")},extractLocation:function(t){if(-1===t.indexOf(":"))return[t];var e=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(t.replace(/[()]/g,""));return[e[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter((function(t){return!!t.match(n)}),this).map((function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var n=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),s=n.match(/ (\((.+):(\d+):(\d+)\)$)/),i=(n=s?n.replace(s[0],""):n).split(/\s+/).slice(1),r=this.extractLocation(s?s[1]:i.pop()),o=i.join(" ")||void 0,a=["eval","<anonymous>"].indexOf(r[0])>-1?void 0:r[0];return new t({functionName:o,fileName:a,lineNumber:r[1],columnNumber:r[2],source:e})}),this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter((function(t){return!t.match(s)}),this).map((function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new t({functionName:e});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,s=e.match(n),i=s&&s[1]?s[1]:void 0,r=this.extractLocation(e.replace(n,""));return new t({functionName:i,fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:e})}),this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,s=e.message.split("\n"),i=[],r=2,o=s.length;r<o;r+=2){var a=n.exec(s[r]);a&&i.push(new t({fileName:a[2],lineNumber:a[1],source:s[r]}))}return i},parseOpera10:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,s=e.stacktrace.split("\n"),i=[],r=0,o=s.length;r<o;r+=2){var a=n.exec(s[r]);a&&i.push(new t({functionName:a[3]||void 0,fileName:a[2],lineNumber:a[1],source:s[r]}))}return i},parseOpera11:function(n){return n.stack.split("\n").filter((function(t){return!!t.match(e)&&!t.match(/^Error created at/)}),this).map((function(e){var n,s=e.split("@"),i=this.extractLocation(s.pop()),r=s.shift()||"",o=r.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;r.match(/\(([^)]*)\)/)&&(n=r.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var a=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new t({functionName:o,args:a,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:e})}),this)}}})?s.apply(e,i):s)||(t.exports=r)}()},FvhL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("hbw+"),i=n("KH3G");e.default=function(t,e,n,r,o,a){void 0===n&&(n={}),void 0===r&&(r={}),void 0===o&&(o={}),void 0===a&&(a={});var c=n.logger,u=n.offlineStorage,l=function(t,e,n){for(var s=[],i=3;i<arguments.length;i++)s[i-3]=arguments[i];"function"==typeof c&&c.apply(void 0,[t,e,n].concat(s))},d=function(t){return Array.isArray(t)&&0===t.length},h=function(t){d(t)||e(t)},p=function(t){void 0===u?(h(t),l(t,o,r)):u.isConnected(a)?(h(t),l(t,o,r),u.purgeEvents((function(t){d(t)||(e(t),l(t,null,null,!1,!0))}))):(u.saveEvents(t),l(t,o,r,!0,!1))},f=t.filter(i.default);return p(t.filter((function(t){return!i.default(t)}))),Promise.all(f).then(s).then(p)}},G2U0:function(t,e,n){t.exports={header:"_1gbPH6ef"}},"H+IS":function(t,e,n){t.exports={header:"sgg0RBAs",footer:"_2dIcIBtc"}},HmkP:function(t,e,n){t.exports={root:"QMZ4ks7h",hasIcon:"_2izfU58H",icon:"_3RHuPElX",content:"_1doMfaa-",subTitle:"_1De7amzf"}},JPUg:function(t,e,n){"use strict";n.r(e);var s=n("9OUN");e.default=(t,e,n)=>Object(s.createStore)(t,e,Object(s.applyMiddleware)(...n))},JrDk:function(t,e,n){"use strict";n.d(e,"e",(function(){return a})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return m}));var s=n("2srY"),i=n.n(s),r=n("pO+y"),o=n("QwRn");const a=(t,e,n)=>{const s=[];let i=0;switch(e.kind){case o.d:for(const{blockId:r}of e.areas){const e=t.blocks.find(t=>{let{_id:e}=t;return String(e)===String(r)});if(e){const{processed:r,results:o}=a(t,e,n);i+=r,s.push(...o)}}}const r=n(e);return!1!==r&&(i++,r&&s.push(r)),{processed:i,results:s}},c={Image:"Image",Background:"Background",Logo:"Logo",Icon:"Icon"},u=t=>{let{path:e}=t;const n=r.a.getRelativeUrl(e);return t=>t&&(e===t||n===r.a.getRelativeUrl(t))},l=(t,e)=>{switch(t.kind){case o.k:return e(t.url)&&[{entity:o.k,as:c.Image}];case o.l:return t.images.map(t=>{let{url:n}=t;return e(n)&&{entity:o.l,as:c.Image}}).filter(Boolean);case o.i:return[e(t.bgUrl)&&{entity:o.i,as:c.Background},e(t.logoUrl)&&{entity:o.i,as:c.Logo}].filter(Boolean);case o.g:return t.items.map(t=>"image"===t.glyph.type&&e(t.glyph.url)&&{entity:o.g,as:c.Icon}).filter(Boolean);case o.r:return[].concat(...t.items.map(t=>t.photos.map(t=>e(t)&&{entity:o.r,as:c.Image}))).filter(Boolean)}},d=(t,e)=>{const n=[];e(i()(t,"seo.ogImageUrl"))&&n.push({entity:"page.og-image",as:c.Image}),e(i()(t,"theme.page.backgroundImage"))&&n.push({entity:"page",as:c.Background});for(const s of t.blocks){const t=l(s,e);t&&t.length&&n.push(...t)}return n},h=(t,e)=>{let{pages:n,seo:s}=e;const i=u(t),r=[];i(s.ogImageUrl)&&r.push({entity:"website.og-image",as:c.Image});for(const t of n){const e=d(t,i);e.length&&r.push(...e)}return r},p=(t,e)=>!!e(i()(t,"seo.ogImageUrl"))||(!!e(i()(t,"theme.page.backgroundImage"))||!!t.blocks.find(t=>{switch(t.kind){case o.k:return e(t.url);case o.l:return!!t.images.find(t=>{let{url:n}=t;return e(n)});case o.i:return e(t.bgUrl)||e(t.logoUrl);case o.g:return!!t.items.find(t=>"image"===t.glyph.type&&e(t.glyph.url));case o.r:return!!t.items.find(t=>t.photos.find(e))}})),f=(t,e)=>p(e,u(t)),m=(t,e)=>{let{pages:n,seo:s}=e;const i=u(t);if(i(s.ogImageUrl))return!0;for(const t of n)if(p(t,i))return!0}},KH3G:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return"object"==typeof t&&"function"==typeof t.then}},L2GT:function(t,e,n){var s={"./en-au":"HgyJ","./en-au.js":"HgyJ","./en-ca":"ZyTy","./en-ca.js":"ZyTy","./en-gb":"exaB","./en-gb.js":"exaB","./en-ie":"yKzn","./en-ie.js":"yKzn","./en-il":"TB59","./en-il.js":"TB59","./en-nz":"iDxo","./en-nz.js":"iDxo","./ru":"ecsu","./ru.js":"ecsu"};function i(t){var e=r(t);return n(e)}function r(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=r,t.exports=i,i.id="L2GT"},Ls8A:function(t,e,n){"use strict";n.r(e);var s=n("ERkP"),i=n.n(s),r=n("7nmT"),o=n.n(r),a=n("Ua0p"),c=n("aWzz"),u=n.n(c),l=n("zCf4"),d=n("daAW"),h=n("uDfI"),p=n("fvrP"),f=n("2OCk"),m=n("WVsI"),g=n("O4Uv"),v=n("liE7"),b=n("4djT"),y=n("cGUp"),w=n.n(y),C=n("UlFm"),k=n.n(C);function E(t){let{children:e}=t;return i.a.createElement("div",{className:k.a.root},i.a.createElement("div",{className:k.a.contentContainer},i.a.createElement("div",{className:k.a.content},i.a.createElement("div",{className:k.a.header},i.a.createElement("a",{href:y.main_url,className:k.a.logo},i.a.createElement(b.a,null))),i.a.createElement("div",{className:k.a.pane},e))))}E.propTypes={children:u.a.any};var S=n("3pNR"),_=n("UYoG"),O=n("BqG0"),I=n("3F7H"),T=n("bto2"),j=n("hkFG"),N=n("O94r"),x=n.n(N),R=n("QbNu"),L=n.n(R),A=n("IYO+"),M=n("HmkP"),P=n.n(M);function D(){return(D=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t}).apply(this,arguments)}function U(t){let{as:e,icon:n,backgroundColor:s,iconBorderColor:r,style:o,children:a,...c}=t;const u=Object(A.a)(s)?"#333":"#eee";return i.a.createElement(e,D({className:x()(P.a.root,n&&P.a.hasIcon),style:{backgroundColor:s,color:u,...o}},c),n&&i.a.createElement("div",{className:P.a.icon,style:{borderRight:"1px solid "+(r||L()(s).darken(4).toString())}},i.a.createElement(n,{size:20})),i.a.createElement("div",{className:P.a.content},i.a.createElement("div",null,a)))}U.propTypes={as:u.a.any,icon:u.a.any,backgroundColor:u.a.string,iconBorderColor:u.a.string,style:u.a.object,children:u.a.any.isRequired},U.defaultProps={as:"div",icon:null,backgroundColor:"#fff",style:{},iconBorderColor:""};var F=n("d5aQ");function q(){return(q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t}).apply(this,arguments)}const z=t=>{let{beforeProvider:e,...n}=t;const{t:s}=Object(v.useTranslation)("auth");return i.a.createElement(U,q({icon:F.f,as:"a",href:"/api/auth/login/google"},n),s(e||"auth.loginWith",{provider:"Google"}))};z.propTypes={beforeProvider:u.a.string},z.defaultProps={beforeProvider:""};var B=n("T8kG");function H(){return(H=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t}).apply(this,arguments)}const W=t=>{let{beforeProvider:e,...n}=t;const{t:s}=Object(v.useTranslation)("auth");return i.a.createElement(U,H({icon:B.b,as:"a",href:"/api/auth/login/apple",backgroundColor:"#000"},n),s(e||"auth.loginWith",{provider:"Apple"}))};W.propTypes={beforeProvider:u.a.string},W.defaultProps={beforeProvider:""};var V=n("FErb"),K=n("uWKj"),G=n.n(K);const J=()=>{const{t:t}=Object(v.useTranslation)();return i.a.createElement("span",{className:G.a.terms},t("auth.signup.termsText")," ",i.a.createElement(V.a,{href:"https://mssg.me/privacy-policy"},t("auth.signup.policy"))," ",t("auth.signup.and")," ",i.a.createElement(V.a,{href:"https://mssg.me/terms-of-use"},t("auth.signup.terms")))};var $=n("RuNj"),X=n.n($);function Z(){const{t:t}=Object(v.useTranslation)("auth"),e=Object(_.a)(),[n,r]=Object(s.useState)(!1),o=Object(I.a)({initialValues:{username:"",password:""},onSubmit:t=>e.api.auth.login({payload:t})}),a=O.c.is(o.submit.error)?o.submit.error.message:null;return"success"===o.status&&(window.location.href="/pages"),i.a.createElement("form",{onSubmit:o.handleSubmit},i.a.createElement(z,{backgroundColor:"#db4a39",id:"button-login-google"}),i.a.createElement(W,{iconBorderColor:"#222",id:"button-login-apple"}),!n&&i.a.createElement(U,{icon:S.P,as:"div",onClick:()=>r(!0),id:"button-login-show-email-form"},t("auth.loginWith",{provider:"Email"})),n&&i.a.createElement(i.a.Fragment,null,i.a.createElement(T.a,{builderInput:!0,placeholder:t("label.email"),name:"username",type:"email",value:o.values.username,onChange:o.handleChange,autoComplete:"email",style:{height:44,fontSize:18,marginTop:16}}),i.a.createElement(T.a,{builderInput:!0,placeholder:t("label.password"),name:"password",type:"password",value:o.values.password,onChange:o.handleChange,autoComplete:"current-password",errors:o.errors.username||a,style:{height:44,fontSize:18},errorStyle:{fontSize:16,textAlign:"center"}}),i.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.a.createElement(j.a,{fullWidth:!0,type:"submit",isFetching:o.isSubmitting||"success"===o.status,style:{fontSize:18,fontWeight:"bold",backgroundColor:o.isSubmitting||"success"===o.status?"transparent":"#007aff"},id:"button-login-email"},t("auth.signin.signin")))),i.a.createElement("div",{className:X.a.footer},i.a.createElement("span",null,t("auth.signin.noAccount")," ",i.a.createElement(d.b,{style:{color:"#007aff"},to:"/signup"},t("auth.signin.signup"))),n&&i.a.createElement("span",null,t("auth.signin.forget")," ",i.a.createElement(d.b,{style:{color:"#007aff"},to:"/restore"},t("auth.signin.restore")))))}var Y=n("G2U0"),Q=n.n(Y);function tt(){const{t:t}=Object(v.useTranslation)("auth");return i.a.createElement(E,null,i.a.createElement("div",{className:Q.a.root},i.a.createElement("div",{className:Q.a.header},i.a.createElement("h1",null,t("auth.signin.heading"))),i.a.createElement(Z,null)))}function et(){const t=Object(_.a)();return Object(s.useEffect)(()=>{t.api.auth.logout()},[]),i.a.createElement(l.a,{to:"login"})}function nt(){return(nt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t}).apply(this,arguments)}function st(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var it=function(t){var e,n;function s(){var e;return(e=t.call(this)||this).handleExpired=e.handleExpired.bind(st(e)),e.handleErrored=e.handleErrored.bind(st(e)),e.handleChange=e.handleChange.bind(st(e)),e.handleRecaptchaRef=e.handleRecaptchaRef.bind(st(e)),e}n=t,(e=s).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=s.prototype;return r.getValue=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this.props.grecaptcha.getResponse(this._widgetId):null},r.getWidgetId=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this._widgetId:null},r.execute=function(){var t=this.props.grecaptcha;if(t&&void 0!==this._widgetId)return t.execute(this._widgetId);this._executeRequested=!0},r.executeAsync=function(){var t=this;return new Promise((function(e,n){t.executionResolve=e,t.executionReject=n,t.execute()}))},r.reset=function(){this.props.grecaptcha&&void 0!==this._widgetId&&this.props.grecaptcha.reset(this._widgetId)},r.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},r.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},r.handleChange=function(t){this.props.onChange&&this.props.onChange(t),this.executionResolve&&(this.executionResolve(t),delete this.executionReject,delete this.executionResolve)},r.explicitRender=function(){if(this.props.grecaptcha&&this.props.grecaptcha.render&&void 0===this._widgetId){var t=document.createElement("div");this._widgetId=this.props.grecaptcha.render(t,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge}),this.captcha.appendChild(t)}this._executeRequested&&this.props.grecaptcha&&void 0!==this._widgetId&&(this._executeRequested=!1,this.execute())},r.componentDidMount=function(){this.explicitRender()},r.componentDidUpdate=function(){this.explicitRender()},r.componentWillUnmount=function(){void 0!==this._widgetId&&(this.delayOfCaptchaIframeRemoving(),this.reset())},r.delayOfCaptchaIframeRemoving=function(){var t=document.createElement("div");for(document.body.appendChild(t),t.style.display="none";this.captcha.firstChild;)t.appendChild(this.captcha.firstChild);setTimeout((function(){document.body.removeChild(t)}),5e3)},r.handleRecaptchaRef=function(t){this.captcha=t},r.render=function(){var t=this.props,e=(t.sitekey,t.onChange,t.theme,t.type,t.tabindex,t.onExpired,t.onErrored,t.size,t.stoken,t.grecaptcha,t.badge,t.hl,function(t,e){if(null==t)return{};var n,s,i={},r=Object.keys(t);for(s=0;s<r.length;s++)n=r[s],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl"]));return i.a.createElement("div",nt({},e,{ref:this.handleRecaptchaRef}))},s}(i.a.Component);it.displayName="ReCAPTCHA",it.propTypes={sitekey:u.a.string.isRequired,onChange:u.a.func,grecaptcha:u.a.object,theme:u.a.oneOf(["dark","light"]),type:u.a.oneOf(["image","audio"]),tabindex:u.a.number,onExpired:u.a.func,onErrored:u.a.func,size:u.a.oneOf(["compact","normal","invisible"]),stoken:u.a.string,hl:u.a.string,badge:u.a.oneOf(["bottomright","bottomleft","inline"])},it.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var rt=n("oXkQ"),ot=n.n(rt);function at(){return(at=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t}).apply(this,arguments)}var ct={},ut=0;var lt,dt,ht=(lt=function(){return"https://"+(("undefined"!=typeof window&&window.recaptchaOptions||{}).useRecaptchaNet?"recaptcha.net":"www.google.com")+"/recaptcha/api.js?onload=onloadcallback&render=explicit"},dt=(dt={callbackName:"onloadcallback",globalName:"grecaptcha"})||{},function(t){var e=t.displayName||t.name||"Component",n=function(e){var n,i;function r(t,n){var s;return(s=e.call(this,t,n)||this).state={},s.__scriptURL="",s}i=e,(n=r).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i;var o=r.prototype;return o.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+ut++),this.__scriptLoaderID},o.setupScriptURL=function(){return this.__scriptURL="function"==typeof lt?lt():lt,this.__scriptURL},o.asyncScriptLoaderHandleLoad=function(t){var e=this;this.setState(t,(function(){return e.props.asyncScriptOnLoad&&e.props.asyncScriptOnLoad(e.state)}))},o.asyncScriptLoaderTriggerOnScriptLoaded=function(){var t=ct[this.__scriptURL];if(!t||!t.loaded)throw new Error("Script is not loaded.");for(var e in t.observers)t.observers[e](t);delete window[dt.callbackName]},o.componentDidMount=function(){var t=this,e=this.setupScriptURL(),n=this.asyncScriptLoaderGetScriptLoaderID(),s=dt,i=s.globalName,r=s.callbackName,o=s.scriptId;if(i&&void 0!==window[i]&&(ct[e]={loaded:!0,observers:{}}),ct[e]){var a=ct[e];return a&&(a.loaded||a.errored)?void this.asyncScriptLoaderHandleLoad(a):void(a.observers[n]=function(e){return t.asyncScriptLoaderHandleLoad(e)})}var c={};c[n]=function(e){return t.asyncScriptLoaderHandleLoad(e)},ct[e]={loaded:!1,observers:c};var u=document.createElement("script");for(var l in u.src=e,u.async=!0,dt.attributes)u.setAttribute(l,dt.attributes[l]);o&&(u.id=o);var d=function(t){if(ct[e]){var n=ct[e].observers;for(var s in n)t(n[s])&&delete n[s]}};r&&"undefined"!=typeof window&&(window[r]=function(){return t.asyncScriptLoaderTriggerOnScriptLoaded()}),u.onload=function(){var t=ct[e];t&&(t.loaded=!0,d((function(e){return!r&&(e(t),!0)})))},u.onerror=function(){var t=ct[e];t&&(t.errored=!0,d((function(e){return e(t),!0})))},document.body.appendChild(u)},o.componentWillUnmount=function(){var t=this.__scriptURL;if(!0===dt.removeOnUnmount)for(var e=document.getElementsByTagName("script"),n=0;n<e.length;n+=1)e[n].src.indexOf(t)>-1&&e[n].parentNode&&e[n].parentNode.removeChild(e[n]);var s=ct[t];s&&(delete s.observers[this.asyncScriptLoaderGetScriptLoaderID()],!0===dt.removeOnUnmount&&delete ct[t])},o.render=function(){var e=dt.globalName,n=this.props,i=(n.asyncScriptOnLoad,n.forwardedRef),r=function(t,e){if(null==t)return{};var n,s,i={},r=Object.keys(t);for(s=0;s<r.length;s++)n=r[s],e.indexOf(n)>=0||(i[n]=t[n]);return i}(n,["asyncScriptOnLoad","forwardedRef"]);return e&&"undefined"!=typeof window&&(r[e]=void 0!==window[e]?window[e]:void 0),r.ref=i,Object(s.createElement)(t,r)},r}(s.Component),i=Object(s.forwardRef)((function(t,e){return Object(s.createElement)(n,at({},t,{forwardedRef:e}))}));return i.displayName="AsyncScriptLoader("+e+")",i.propTypes={asyncScriptOnLoad:u.a.func},ot()(i,t)})(it),pt=n("IlQi"),ft=n("EwNN");let mt=!1;"matchMedia"in window&&(matchMedia("(display-mode: standalone)").matches?mt=!0:"standalone"in navigator&&(mt=navigator.standalone));var gt=mt,vt=n("eHJA"),bt=n.n(vt);function yt(){return(yt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t}).apply(this,arguments)}function wt(){var t;Object(l.g)();const e=ft.a.iOS&&!gt&&!ft.a.Safari||ft.a.WebView,n=Object(s.useRef)(null),{t:r,i18n:o}=Object(v.useTranslation)("auth"),{api:a}=Object(_.a)(),c=Object(pt.a)("email"),[u,d]=Object(s.useState)(!0),h=Object(I.a)({initialValues:{email:c||"",password:"",lang:o.language,recaptchaToken:""},onSubmit:async t=>{w.a.recaptcha_public_key&&(await n.current.reset(),t={...t,recaptchaToken:await n.current.executeAsync()}),await a.users.create({payload:t}),window.location.href="/pages/create"}}),p=h.values.email&&h.values.password,f=[r(h.errors.email),"GEOLOCKED"===(null===(t=h.submit.error)||void 0===t?void 0:t.code)&&r("auth.signup.geoLockedError")].filter(Boolean);return i.a.createElement("form",{onSubmit:h.handleSubmit},i.a.createElement("div",null,!e&&i.a.createElement(i.a.Fragment,null,i.a.createElement(z,{beforeProvider:"auth.signUpWith",backgroundColor:"#db4a39",style:{fontSize:14},id:"button-signup-google"}),i.a.createElement(W,{beforeProvider:"auth.signUpWith",iconBorderColor:"#222",style:{fontSize:14},id:"button-signup-apple"})),!u&&i.a.createElement(U,{icon:S.P,as:"div",onClick:()=>d(!0),style:{fontSize:14},id:"button-signup-show-email-form"},r("auth.signUpWith",{provider:"Email"})),u&&i.a.createElement(i.a.Fragment,null,i.a.createElement(T.a,yt({builderInput:!0,placeholder:r("label.email"),autoComplete:"email",autoFocus:!0,errors:f},h.getFieldProps("email"),{style:{height:44,fontSize:18,marginTop:e?0:16},errorStyle:{fontSize:16,textAlign:"center"}})),i.a.createElement(T.a,yt({builderInput:!0,placeholder:r("label.password"),type:"password",autoComplete:"new-password",errors:r(h.errors.password)},h.getFieldProps("password"),{style:{height:44,fontSize:18},errorStyle:{fontSize:16,textAlign:"center"}})),i.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.a.createElement(j.a,{fullWidth:!0,type:"submit",isFetching:h.isSubmitting,disabled:!p,style:{fontSize:18,fontWeight:"bold"},id:"button-signup-email"},r("auth.signup.signup"))),i.a.createElement(J,null),!!w.a.recaptcha_public_key&&i.a.createElement("span",{className:bt.a.recaptcha},"This site is protected by reCAPTCHA and the Google"," ",i.a.createElement("a",{href:"https://policies.google.com/privacy",target:"_blank",rel:"noopener noreferrer"},"Privacy Policy")," ","and"," ",i.a.createElement("a",{href:"https://policies.google.com/terms",target:"_blank",rel:"noopener noreferrer"},"Terms of Service")," ","apply."))),w.a.recaptcha_public_key&&i.a.createElement(ht,{ref:n,size:"invisible",sitekey:w.a.recaptcha_public_key}))}var Ct=n("WiWM"),kt=n.n(Ct);function Et(){const{t:t}=Object(v.useTranslation)("auth");return i.a.createElement(E,null,i.a.createElement("div",{className:kt.a.root},i.a.createElement("div",{className:kt.a.header},i.a.createElement("h1",null,t("auth.signup.heading"))),i.a.createElement(wt,null),i.a.createElement("div",{className:kt.a.footer},i.a.createElement("span",null,t("auth.signin.haveAccount")," ",i.a.createElement(d.b,{style:{color:"#007aff"},to:"/login"},t("auth.signin.signin"))))))}var St=n("AFDi"),_t=n.n(St);function Ot(){const{t:t}=Object(v.useTranslation)("auth"),e=Object(_.a)(),n=Object(I.a)({initialValues:{email:""},onSubmit:t=>e.api.users.recoveryPassword({payload:t})});return i.a.createElement("form",{onSubmit:n.handleSubmit},i.a.createElement(T.a,{builderInput:!0,name:"email",value:n.values.email,onChange:n.handleChange,errors:t(n.errors.email),placeholder:t("auth.restore.placeholder"),type:"email",style:{height:44,fontSize:18},errorStyle:{fontSize:16,textAlign:"center"}}),"success"===n.status?i.a.createElement("span",{className:_t.a.sentText},t("auth.restore.success")):i.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.a.createElement(j.a,{fullWidth:!0,isFetching:n.isSubmitting,type:"submit",style:{fontSize:18,fontWeight:"bold",backgroundColor:n.isSubmitting?"transparent":"#007aff"}},t("auth.restore.button"))))}var It=n("H+IS"),Tt=n.n(It);function jt(){const{t:t}=Object(v.useTranslation)("auth");return i.a.createElement(E,null,i.a.createElement("div",{className:Tt.a.root},i.a.createElement("div",{className:Tt.a.header},i.a.createElement("h1",null,t("auth.restore.heading"))),i.a.createElement(Ot,null),i.a.createElement("div",{className:Tt.a.footer},i.a.createElement("span",null,t("auth.signin.haveAccount")," ",i.a.createElement(d.b,{style:{color:"#007aff"},to:"/login"},t("auth.signin.signin"))),i.a.createElement("span",null,t("auth.signin.noAccount")," ",i.a.createElement(d.b,{style:{color:"#007aff"},to:"/signup"},t("auth.signin.signup"))))))}var Nt=n("vxJK"),xt=n("dTSm"),Rt=n("RiRQ"),Lt=n("ztTm"),At=n.n(Lt);function Mt(t){let{code:e,redirectTo:n,backTrack:r}=t;const{t:o}=Object(v.useTranslation)("auth"),{isAuthenticated:a}=Object(g.a)(),{api:c,ui:u}=Object(_.a)(),{pending:l,error:d,getValidationError:h}=Object(Nt.a)(async()=>c.auth.getToken({code:e}),[e]),[p,f]=Object(s.useState)(),m=h("code");return Object(s.useLayoutEffect)(()=>{a&&f(n)},[a]),Object(s.useLayoutEffect)(()=>{r&&u.setBackTrack(r)},[r]),p&&(window.location.href=p),i.a.createElement(E,null,i.a.createElement("div",{className:At.a.root},i.a.createElement("div",{className:At.a.header},i.a.createElement("h1",null,o("auth.restore.authenticating"))),l?i.a.createElement(xt.a,null):d?m?i.a.createElement(Rt.a,null,m):i.a.createElement("div",null,o("errorsList.expired_code")):""))}function Pt(){const{code:t}=Object(l.i)();return i.a.createElement(Mt,{code:t,redirectTo:"/s/account/change-password"})}Mt.propTypes={code:u.a.string.isRequired,redirectTo:u.a.string,backTrack:u.a.string},Mt.defaultProps={redirectTo:"/",backTrack:""};var Dt=n("qDrI");function Ut(){const{code:t}=Object(l.i)(),{search:e}=Object(l.h)(),{redirect_to:n,back_track:s}=Dt.a.parse(e);return i.a.createElement(Mt,{code:t,redirectTo:n,backTrack:s})}function Ft(t){const{isAuthenticated:e}=Object(g.a)();return e?i.a.createElement(l.b,t):i.a.createElement(l.a,{to:"/login"})}function qt(){return(qt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t}).apply(this,arguments)}function zt(t){let{code:e,invite:n}=t;const{t:r}=Object(v.useTranslation)(),{api:o}=Object(_.a)(),a=Object(I.a)({initialValues:{email:n.email,name:"",password:""},onSubmit:Object(s.useCallback)(t=>o.users.join({payload:{...t,code:e}}),[e])});return"success"===a.status?i.a.createElement(l.a,{to:"/"}):i.a.createElement("form",{onSubmit:a.handleSubmit},a.errors.code&&i.a.createElement(Rt.a,null,a.errors.code),i.a.createElement(T.a,qt({placeholder:r("label.email"),type:"email",autoComplete:"email",error:r(a.errors.email)},a.getFieldProps("email"))),i.a.createElement(T.a,qt({placeholder:r("label.password"),type:"password",autoComplete:"new-password",error:r(a.errors.password)},a.getFieldProps("password"))),i.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:30}},i.a.createElement(j.a,{type:"submit",fullWidth:!0,isFetching:a.isSubmitting},r("RegistrationFormMember.button"))),i.a.createElement(J,null))}zt.propTypes={code:u.a.string.isRequired,invite:u.a.shape({email:u.a.string.isRequired}).isRequired};var Bt=n("wcvo"),Ht=n.n(Bt);function Wt(t){let{code:e}=t;const{t:n}=Object(v.useTranslation)(),{api:s}=Object(_.a)(),{pending:r,result:o,error:a,getValidationError:c}=Object(Nt.a)(()=>s.users.checkInvite({payload:{code:e}}),[e]),u=c("code");return r?null:i.a.createElement(E,null,i.a.createElement("div",{className:Ht.a.root},i.a.createElement("div",{className:Ht.a.header},i.a.createElement("h1",null,n("RegistrationPageMember.heading"))),r?i.a.createElement(xt.a,null):a?u?i.a.createElement(Rt.a,null,u):i.a.createElement("div",null,n("errorsList.expired_code")):o&&i.a.createElement(zt,{code:e,invite:o})))}function Vt(){const{code:t}=Object(l.i)();return i.a.createElement(Wt,{code:t})}function Kt(t){let{children:e}=t;const{i18n:s}=Object(p.c)("auth",t=>n("/hqN")(`./${t}/auth.json`));return Object(f.a)(),e||null}function Gt(t){const{isAuthenticated:e}=Object(g.a)();return e&&(window.location.href="/"),i.a.createElement(l.b,t)}function Jt(t){let{store:e}=t;return i.a.createElement(s.Suspense,{fallback:i.a.createElement(m.a,null)},i.a.createElement(Kt,null),i.a.createElement(h.a,{store:e},i.a.createElement(d.a,{basename:"/auth"},i.a.createElement(l.d,null,i.a.createElement(l.b,{exact:!0,path:"/reset-password/:code",component:Pt}),i.a.createElement(l.b,{exact:!0,path:"/join/:code",component:Vt}),i.a.createElement(l.b,{exact:!0,path:"/login/code/:code",component:Ut}),i.a.createElement(Gt,{exact:!0,path:"/login",component:tt}),i.a.createElement(Gt,{path:"/signup",component:Et}),i.a.createElement(Gt,{exact:!0,path:"/restore",component:jt}),i.a.createElement(Ft,{exact:!0,path:"/logout",component:et}),i.a.createElement(l.a,{to:"/login"})))))}Wt.propTypes={code:u.a.string.isRequired},Jt.propTypes={store:u.a.object.isRequired};const $t=Object(a.a)();o.a.render(i.a.createElement(Jt,{store:$t}),document.getElementById("root"))},O4Uv:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var s=n("ERkP"),i=n("Xpt6"),r=n("hB6H");function o(){const t=Object(r.a)();return Object(s.useEffect)(()=>{function e(){t()}return i.a.on("changeAccessToken",e),()=>{i.a.removeListener("changeAccessToken",e)}},[]),{accessToken:i.a.accessToken,isAuthenticated:i.a.isAuthenticated,user:i.a.user}}},OUTc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("hbw+"),i=n("vf6c"),r=n("WkAZ"),o=n("FvhL");e.default=function(t,e,n){void 0===n&&(n={});var a="function"==typeof t?function(e){return s([t(e)])}:function(e){return r.default(t,e.type)};return function(t){return function(s){return function(r){var c=t.getState(),u=s(r),l=t.getState(),d=i.default(a(r),c,r,l);return o.default(d,e,n,c,r,l),u}}}}},Oz2X:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("UKxU");e.default=s.default},PxNW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("vf6c");e.createEvents=s.default;var i=n("cUX5");e.createMetaReducer=i.default;var r=n("OUTc");e.createMiddleware=r.default},RuNj:function(t,e,n){t.exports={footer:"_3rxso4S-"}},UKxU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("ozUd");e.default=function(t){var e=(void 0===t?{}:t).dataLayerName,n=void 0===e?"dataLayer":e;return function(t){if("undefined"!=typeof window){if(!window[n]||"function"!=typeof window[n].push)throw new Error("redux-beacon error: window."+n+" is not defined. Have you forgotten to include Google Tag Manager and dataLayer?");t.forEach((function(t){"object"==typeof t&&window[n].push(s.convertFromGoogleAnalyticsEventIfNeeded(t))}))}}}},Ua0p:function(t,e,n){"use strict";var s=n("V8Kl"),i=function(t){return"@@redux-saga/"+t},r=i("CANCEL_PROMISE"),o=i("CHANNEL_END"),a=i("IO"),c=i("MATCH"),u=i("MULTICAST"),l=i("SAGA_ACTION"),d=i("SELF_CANCELLATION"),h=i("TASK"),p=i("TASK_CANCEL"),f=i("TERMINATE"),m=i("LOCATION"),g=n("cxan"),v=n("+wNj"),b=function(t){return null==t},y=function(t){return null!=t},w=function(t){return"function"==typeof t},C=function(t){return"string"==typeof t},k=Array.isArray,E=function(t){return t&&w(t.then)},S=function(t){return t&&w(t.next)&&w(t.throw)},_=function t(e){return e&&(C(e)||T(e)||w(e)||k(e)&&e.every(t))},O=function(t){return t&&w(t.take)&&w(t.close)},I=function(t){return w(t)&&t.hasOwnProperty("toString")},T=function(t){return Boolean(t)&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype};var j=function(t,e){var n;void 0===e&&(e=!0);var s=new Promise((function(s){n=setTimeout(s,t,e)}));return s[r]=function(){clearTimeout(n)},s},N=function(t){return function(){return t}}(!0),x=function(){};var R=function(t){return t};"function"==typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var L=function(t,e){Object(g.a)(t,e),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach((function(n){t[n]=e[n]}))};function A(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function M(t){var e=!1;return function(){e||(e=!0,t())}}var P=function(t){throw t},D=function(t){return{value:t,done:!0}};function U(t,e,n){void 0===e&&(e=P),void 0===n&&(n="iterator");var s={meta:{name:n},next:t,throw:e,return:D,isSagaIterator:!0};return"undefined"!=typeof Symbol&&(s[Symbol.iterator]=function(){return s}),s}function F(t,e){var n=e.sagaStack;console.error(t),console.error(n)}var q=function(t){return Array.apply(null,new Array(t))},z=function(t){return function(e){return t(Object.defineProperty(e,l,{value:!0}))}},B=function(t){return t===f},H=function(t){return t===p},W=function(t){return B(t)||H(t)};function V(t,e){var n=Object.keys(t),s=n.length;var i,r=0,o=k(t)?q(s):{},a={};return n.forEach((function(t){var n=function(n,a){i||(a||W(n)?(e.cancel(),e(n,a)):(o[t]=n,++r===s&&(i=!0,e(o))))};n.cancel=x,a[t]=n})),e.cancel=function(){i||(i=!0,n.forEach((function(t){return a[t].cancel()})))},a}function K(t){return{name:t.name||"anonymous",location:G(t)}}function G(t){return t[m]}function J(t,e){void 0===t&&(t=10);var n=new Array(t),s=0,i=0,r=0,o=function(e){n[i]=e,i=(i+1)%t,s++},a=function(){if(0!=s){var e=n[r];return n[r]=null,s--,r=(r+1)%t,e}},c=function(){for(var t=[];s;)t.push(a());return t};return{isEmpty:function(){return 0==s},put:function(a){var u;if(s<t)o(a);else switch(e){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[i]=a,r=i=(i+1)%t;break;case 4:u=2*t,n=c(),s=n.length,i=n.length,r=0,n.length=u,t=u,o(a)}},take:a,flush:c}}var $=function(t){return J(t,4)},X=function(t,e){var n;return(n={})[a]=!0,n.combinator=!1,n.type=t,n.payload=e,n};function Z(t,e){return void 0===t&&(t="*"),_(t)?X("TAKE",{pattern:t}):O(n=t)&&n[u]&&y(e)&&_(e)?X("TAKE",{channel:t,pattern:e}):O(t)?X("TAKE",{channel:t}):void 0;var n}function Y(t,e){return b(e)&&(e=t,t=void 0),X("PUT",{channel:t,action:e})}function Q(t){var e=X("RACE",t);return e.combinator=!0,e}function tt(t,e){var n,s=null;return w(t)?n=t:(k(t)?(s=t[0],n=t[1]):(s=t.context,n=t.fn),s&&C(n)&&w(s[n])&&(n=s[n])),{context:s,fn:n,args:e}}function et(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];return X("CALL",tt(t,n))}function nt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];return X("FORK",tt(t,n))}function st(t){return void 0===t&&(t=d),X("CANCEL",t)}function it(t){void 0===t&&(t=R);for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];return X("SELECT",{selector:t,args:n})}var rt=et.bind(null,j),ot=n("9OUN");function at(){var t={};return t.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),t}var ct=at,ut=[],lt=0;function dt(t){try{ft(),t()}finally{mt()}}function ht(t){ut.push(t),lt||(ft(),gt())}function pt(t){try{return ft(),t()}finally{gt()}}function ft(){lt++}function mt(){lt--}function gt(){var t;for(mt();!lt&&void 0!==(t=ut.shift());)dt(t)}var vt=function(t){return function(e){return t.some((function(t){return kt(t)(e)}))}},bt=function(t){return function(e){return t(e)}},yt=function(t){return function(e){return e.type===String(t)}},wt=function(t){return function(e){return e.type===t}},Ct=function(){return N};function kt(t){var e="*"===t?Ct:C(t)?yt:k(t)?vt:I(t)?yt:w(t)?bt:T(t)?wt:null;if(null===e)throw new Error("invalid pattern: "+t);return e(t)}var Et={type:o},St=function(t){return t&&t.type===o};function _t(t){void 0===t&&(t=$());var e=!1,n=[];return{take:function(s){e&&t.isEmpty()?s(Et):t.isEmpty()?(n.push(s),s.cancel=function(){A(n,s)}):s(t.take())},put:function(s){if(!e){if(0===n.length)return t.put(s);n.shift()(s)}},flush:function(n){e&&t.isEmpty()?n(Et):n(t.flush())},close:function(){if(!e){e=!0;var t=n;n=[];for(var s=0,i=t.length;s<i;s++){(0,t[s])(Et)}}}}}function Ot(){var t,e,n,s,i,r,o=(e=!1,s=n=[],i=function(){s===n&&(s=n.slice())},r=function(){e=!0;var t=n=s;s=[],t.forEach((function(t){t(Et)}))},(t={})[u]=!0,t.put=function(t){if(!e)if(St(t))r();else for(var i=n=s,o=0,a=i.length;o<a;o++){var u=i[o];u[c](t)&&(u.cancel(),u(t))}},t.take=function(t,n){void 0===n&&(n=Ct),e?t(Et):(t[c]=n,i(),s.push(t),t.cancel=M((function(){i(),A(s,t)})))},t.close=r,t),a=o.put;return o.put=function(t){t[l]?a(t):ht((function(){a(t)}))},o}function It(t,e){var n=t[r];w(n)&&(e.cancel=n),t.then(e,(function(t){e(t,!0)}))}var Tt,jt=0,Nt=function(){return++jt};function xt(t){t.isRunning()&&t.cancel()}var Rt=((Tt={}).TAKE=function(t,e,n){var s=e.channel,i=void 0===s?t.channel:s,r=e.pattern,o=e.maybe,a=function(t){t instanceof Error?n(t,!0):!St(t)||o?n(t):n(f)};try{i.take(a,y(r)?kt(r):null)}catch(t){return void n(t,!0)}n.cancel=a.cancel},Tt.PUT=function(t,e,n){var s=e.channel,i=e.action,r=e.resolve;ht((function(){var e;try{e=(s?s.put:t.dispatch)(i)}catch(t){return void n(t,!0)}r&&E(e)?It(e,n):n(e)}))},Tt.ALL=function(t,e,n,s){var i=s.digestEffect,r=jt,o=Object.keys(e);if(0!==o.length){var a=V(e,n);o.forEach((function(t){i(e[t],r,a[t],t)}))}else n(k(e)?[]:{})},Tt.RACE=function(t,e,n,s){var i=s.digestEffect,r=jt,o=Object.keys(e),a=k(e)?q(o.length):{},c={},u=!1;o.forEach((function(t){var e=function(e,s){u||(s||W(e)?(n.cancel(),n(e,s)):(n.cancel(),u=!0,a[t]=e,n(a)))};e.cancel=x,c[t]=e})),n.cancel=function(){u||(u=!0,o.forEach((function(t){return c[t].cancel()})))},o.forEach((function(t){u||i(e[t],r,c[t],t)}))},Tt.CALL=function(t,e,n,s){var i=e.context,r=e.fn,o=e.args,a=s.task;try{var c=r.apply(i,o);if(E(c))return void It(c,n);if(S(c))return void qt(t,c,a.context,jt,K(r),!1,n);n(c)}catch(t){n(t,!0)}},Tt.CPS=function(t,e,n){var s=e.context,i=e.fn,r=e.args;try{var o=function(t,e){b(t)?n(e):n(t,!0)};i.apply(s,r.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(t){n(t,!0)}},Tt.FORK=function(t,e,n,s){var i=e.context,r=e.fn,o=e.args,a=e.detached,c=s.task,u=function(t){var e=t.context,n=t.fn,s=t.args;try{var i=n.apply(e,s);if(S(i))return i;var r=!1;return U((function(t){return r?{value:t,done:!0}:(r=!0,{value:i,done:!E(i)})}))}catch(t){return U((function(){throw t}))}}({context:i,fn:r,args:o}),l=function(t,e){return t.isSagaIterator?{name:t.meta.name}:K(e)}(u,r);pt((function(){var e=qt(t,u,c.context,jt,l,a,void 0);a?n(e):e.isRunning()?(c.queue.addTask(e),n(e)):e.isAborted()?c.queue.abort(e.error()):n(e)}))},Tt.JOIN=function(t,e,n,s){var i=s.task,r=function(t,e){if(t.isRunning()){var n={task:i,cb:e};e.cancel=function(){t.isRunning()&&A(t.joiners,n)},t.joiners.push(n)}else t.isAborted()?e(t.error(),!0):e(t.result())};if(k(e)){if(0===e.length)return void n([]);var o=V(e,n);e.forEach((function(t,e){r(t,o[e])}))}else r(e,n)},Tt.CANCEL=function(t,e,n,s){var i=s.task;e===d?xt(i):k(e)?e.forEach(xt):xt(e),n()},Tt.SELECT=function(t,e,n){var s=e.selector,i=e.args;try{n(s.apply(void 0,[t.getState()].concat(i)))}catch(t){n(t,!0)}},Tt.ACTION_CHANNEL=function(t,e,n){var s=e.pattern,i=_t(e.buffer),r=kt(s),o=function e(n){St(n)||t.channel.take(e,r),i.put(n)},a=i.close;i.close=function(){o.cancel(),a()},t.channel.take(o,r),n(i)},Tt.CANCELLED=function(t,e,n,s){n(s.task.isCancelled())},Tt.FLUSH=function(t,e,n){e.flush(n)},Tt.GET_CONTEXT=function(t,e,n,s){n(s.task.context[e])},Tt.SET_CONTEXT=function(t,e,n,s){var i=s.task;L(i.context,e),n()},Tt);function Lt(t,e){return t+"?"+e}function At(t){var e=t.name,n=t.location;return n?e+"  "+Lt(n.fileName,n.lineNumber):e}var Mt=null,Pt=[],Dt=function(){Mt=null,Pt.length=0},Ut=function(){var t,e,n,s,i,r=Pt[0],o=Pt.slice(1),a=r.crashedEffect?function(t){var e=G(t);return e?e.code+"  "+Lt(e.fileName,e.lineNumber):""}(r.crashedEffect):null;return["The above error occurred in task "+At(r.meta)+(a?" \n when executing effect "+a:"")].concat(o.map((function(t){return"    created by "+At(t.meta)})),[(t=Pt,e=function(t){return t.cancelledTasks},n=t,i=(s=[]).concat.apply(s,n.map(e)),i.length?["Tasks cancelled due to error:"].concat(i).join("\n"):"")]).join("\n")};function Ft(t,e,n,s,i,r,o){var a;void 0===o&&(o=x);var c,u,l=0,d=null,f=[],m=Object.create(n),g=function(t,e,n){var s,i=[],r=!1;function o(t){e(),c(),n(t,!0)}function a(e){i.push(e),e.cont=function(a,c){r||(A(i,e),e.cont=x,c?o(a):(e===t&&(s=a),i.length||(r=!0,n(s))))}}function c(){r||(r=!0,i.forEach((function(t){t.cont=x,t.cancel()})),i=[])}return a(t),{addTask:a,cancelAll:c,abort:o,getTasks:function(){return i}}}(e,(function(){f.push.apply(f,g.getTasks().map((function(t){return t.meta.name})))}),v);function v(e,n){if(n){if(l=2,(r={meta:i,cancelledTasks:f}).crashedEffect=Mt,Pt.push(r),b.isRoot){var s=Ut();Dt(),t.onError(e,{sagaStack:s})}u=e,d&&d.reject(e)}else e===p?l=1:1!==l&&(l=3),c=e,d&&d.resolve(e);var r;b.cont(e,n),b.joiners.forEach((function(t){t.cb(e,n)})),b.joiners=null}var b=((a={})[h]=!0,a.id=s,a.meta=i,a.isRoot=r,a.context=m,a.joiners=[],a.queue=g,a.cancel=function(){0===l&&(l=1,g.cancelAll(),v(p,!1))},a.cont=o,a.end=v,a.setContext=function(t){L(m,t)},a.toPromise=function(){return d||(d=ct(),2===l?d.reject(u):0!==l&&d.resolve(c)),d.promise},a.isRunning=function(){return 0===l},a.isCancelled=function(){return 1===l||0===l&&1===e.status},a.isAborted=function(){return 2===l},a.result=function(){return c},a.error=function(){return u},a);return b}function qt(t,e,n,s,i,r,o){var c=t.finalizeRunEffect((function(e,n,s){if(E(e))It(e,s);else if(S(e))qt(t,e,l.context,n,i,!1,s);else if(e&&e[a]){(0,Rt[e.type])(t,e.payload,s,d)}else s(e)}));h.cancel=x;var u={meta:i,cancel:function(){0===u.status&&(u.status=1,h(p))},status:0},l=Ft(t,u,n,s,i,r,o),d={task:l,digestEffect:f};return o&&(o.cancel=l.cancel),h(),l;function h(t,n){try{var i;n?(i=e.throw(t),Dt()):H(t)?(u.status=1,h.cancel(),i=w(e.return)?e.return(p):{done:!0,value:p}):i=B(t)?w(e.return)?e.return():{done:!0}:e.next(t),i.done?(1!==u.status&&(u.status=3),u.cont(i.value)):f(i.value,s,h)}catch(t){if(1===u.status)throw t;u.status=2,u.cont(t,!0)}}function f(e,n,s,i){void 0===i&&(i="");var r,o=Nt();function a(n,i){r||(r=!0,s.cancel=x,t.sagaMonitor&&(i?t.sagaMonitor.effectRejected(o,n):t.sagaMonitor.effectResolved(o,n)),i&&function(t){Mt=t}(e),s(n,i))}t.sagaMonitor&&t.sagaMonitor.effectTriggered({effectId:o,parentEffectId:n,label:i,effect:e}),a.cancel=x,s.cancel=function(){r||(r=!0,a.cancel(),a.cancel=x,t.sagaMonitor&&t.sagaMonitor.effectCancelled(o))},c(e,o,a)}}function zt(t,e){var n=t.channel,s=void 0===n?Ot():n,i=t.dispatch,r=t.getState,o=t.context,a=void 0===o?{}:o,c=t.sagaMonitor,u=t.effectMiddlewares,l=t.onError,d=void 0===l?F:l;for(var h=arguments.length,p=new Array(h>2?h-2:0),f=2;f<h;f++)p[f-2]=arguments[f];var m=e.apply(void 0,p);var g,v=Nt();if(c&&(c.rootSagaStarted=c.rootSagaStarted||x,c.effectTriggered=c.effectTriggered||x,c.effectResolved=c.effectResolved||x,c.effectRejected=c.effectRejected||x,c.effectCancelled=c.effectCancelled||x,c.actionDispatched=c.actionDispatched||x,c.rootSagaStarted({effectId:v,saga:e,args:p})),u){var b=ot.compose.apply(void 0,u);g=function(t){return function(e,n,s){return b((function(e){return t(e,n,s)}))(e)}}}else g=R;var y={channel:s,dispatch:z(i),getState:r,sagaMonitor:c,onError:d,finalizeRunEffect:g};return pt((function(){var t=qt(y,m,a,v,K(e),!0,void 0);return c&&c.effectResolved(v,t),t}))}var Bt=function(t){void 0===t&&(t={});var e,n=t,s=n.context,i=void 0===s?{}:s,r=n.channel,o=void 0===r?Ot():r,a=n.sagaMonitor,c=Object(v.a)(n,["context","channel","sagaMonitor"]);function u(t){var n=t.getState,s=t.dispatch;return e=zt.bind(null,Object(g.a)({},c,{context:i,channel:o,dispatch:s,getState:n,sagaMonitor:a})),function(t){return function(e){a&&a.actionDispatched&&a.actionDispatched(e);var n=t(e);return o.put(e),n}}}return u.run=function(){return e.apply(void 0,arguments)},u.setContext=function(t){L(i,t)},u},Ht=t=>e=>n=>{try{return e(n)}catch(e){console.error("Exception in a reducer!",e),"Sentry"in window&&Sentry.withScope(s=>{s.setExtras({action:n,state:t.getState()}),Sentry.captureException(e)})}},Wt=n("69Mk"),Vt=n("Rr0/");function Kt(t,e){switch(e.type){case Vt.a.conversations.assign.successType:case Vt.a.conversations.assignMe.successType:case Vt.a.messages.create.successType:t.byContactId[e.contactId]=e.result.conversation;break;case Vt.a.conversations.changeStatus.successType:case Vt.a.conversations.read.successType:case Vt.a.conversations.retrieve.successType:t.byContactId[e.contactId]=e.result;break;case Vt.a.contacts.update.successType:t.byContactId[e.contactId].contact=e.result}}function Gt(t,e){t.byContactId[e.contactId]=e.payload,-1===t.ids.indexOf(e.contactId)&&t.ids.unshift(e.contactId)}var Jt=Object(Wt.b)({byContactId:{},ids:[],hasNext:!0,next:null},{[Vt.a.conversations.list.success]:(t,e)=>{e.query&&e.query.next||(t.ids=[]),t.hasNext=e.result.hasNext,t.next=e.result.next,e.result.results.forEach(e=>{t.byContactId[e.contact._id]=e,-1===t.ids.indexOf(e.contact._id)&&t.ids.push(e.contact._id)})},[Vt.a.conversations.assign.successType]:Kt,[Vt.a.conversations.assignMe.successType]:Kt,[Vt.a.conversations.changeStatus.successType]:Kt,[Vt.a.conversations.read.successType]:Kt,[Vt.a.conversations.retrieve.successType]:Kt,[Vt.a.contacts.update.successType]:Kt,[Vt.a.listenUpdateConversation]:Gt,[Vt.a.listenCreateConversation]:Gt});const $t=(t,e)=>{const n={};for(const[e,s]of Object.entries(t))n[s._id]=e;const s=Array.from(t);for(const t of e){const e=n[t._id];void 0!==e?s[e]=t:s.push(t)}return s.sort((t,e)=>e.received-t.received)};function Xt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{hasNext:!0,next:null,items:[]},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Vt.a.conversations.messages.successType:return{...t,hasNext:e.result.messages.hasNext,next:e.result.messages.next,items:e.query&&e.query.next?$t(t.items,e.result.messages.results):[...e.result.messages.results]};case Vt.a.conversations.sendMessage.successType:case Vt.a.conversations.sendAttachment.successType:case Vt.a.conversations.assign.successType:case Vt.a.conversations.assignMe.successType:return{...t,items:e.result.messages.concat(t.items)};case Vt.a.listenNewMessages.type:return{...t,items:$t(e.payload,t.items)};default:return t}}var Zt=Object(Wt.b)({},{[Vt.a.conversations.unread.success]:(t,e)=>e.result,[Vt.a.conversations.read.success]:(t,e)=>{t[e.contactId]=0}});var Yt=Object(Wt.b)({all:0,unassigned:0,my:0},{[Vt.a.conversations.statistics.success]:(t,e)=>e.result.conversations}),Qt=Object(ot.combineReducers)({list:Jt,messages:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Vt.a.conversations.messages.successType:case Vt.a.conversations.sendMessage.successType:case Vt.a.conversations.sendAttachment.successType:case Vt.a.conversations.assign.successType:case Vt.a.conversations.assignMe.successType:case Vt.a.listenNewMessages.type:return{...t,[e.contactId]:Xt(t[e.contactId],e)};default:return t}},unread:Zt,statistics:Yt}),te=n("wFLD"),ee=n.n(te);const ne={user:null,markers:[],token:ee.a.get("accessToken")};var se=n("9EWH"),ie=n("0/0W");function re(t,e){t.card.domain=e.result.domain}function oe(t,e){t.card=e.result}var ae=Object(Wt.b)({card:{}},{[Vt.a.card.update.success]:oe,[Vt.a.card.patch.success]:oe,[Vt.a.card.messengers.create.success]:(t,e)=>{t.card.messengers.push(e.result)},[Vt.a.card.messengers.update.success]:(t,e)=>{Object(Wt.d)(t.card.messengers,Object(ie.b)(e.messengerId),e.result)},[Vt.a.card.messengers.delete.success]:(t,e)=>{Object(Wt.c)(t.card.messengers,Object(ie.b)(e.messengerId))},[Vt.a.card.messengers.sort.success]:(t,e)=>{t.card.messengers=e.result},[Vt.a.card.links.create.success]:(t,e)=>{t.card.links.push(e.result)},[Vt.a.card.links.update.success]:(t,e)=>{Object(Wt.d)(t.card.links,Object(ie.b)(e.linkId),e.result)},[Vt.a.card.links.delete.success]:(t,e)=>{Object(Wt.c)(t.card.links,Object(ie.b)(e.linkId))},[Vt.a.card.domain.connect.success]:re,[Vt.a.card.domain.disconnect.success]:re,[Vt.a.products.create.success]:t=>{t.card.products.count++},[Vt.a.products.delete.success]:t=>{t.card.products.count=Math.max(0,t.card.products.count-1)}});var ce=Object(Wt.b)({integrations:[]},{[Vt.a.integrations.create.success]:(t,e)=>{t.integrations.push(e.result.integration)},[Vt.a.integrations.delete.success]:(t,e)=>{Object(Wt.c)(t.integrations,Object(ie.b)(e.integrationId))}});var ue=Object(Wt.b)({team:[]},{[Vt.a.team.create.success]:(t,e)=>{t.team.push(e.result)},[Vt.a.team.update.success]:(t,e)=>{Object(Wt.d)(t.team,Object(ie.b)(e.memberId),e.result)},[Vt.a.team.delete.success]:(t,e)=>{Object(Wt.c)(t.team,Object(ie.b)(e.memberId))}}),le=Object(Wt.b)([],{[Vt.a.bots.create.success]:(t,e)=>{t.push(e.result)},[Vt.a.bots.update.success]:(t,e)=>{Object(Wt.d)(t,Object(ie.b)(e.botId),e.result)},[Vt.a.bots.delete.success]:(t,e)=>{Object(Wt.c)(t,Object(ie.b)(e.botId))}});var de=Object(Wt.b)({replies:[]},{[Vt.a.replies.list.success]:(t,e)=>{t.replies=e.result},[Vt.a.replies.create.success]:(t,e)=>{t.replies.unshift(e.result)},[Vt.a.replies.update.success]:(t,e)=>{Object(Wt.d)(t.replies,Object(ie.b)(e.replyId),e.result)},[Vt.a.replies.delete.success]:(t,e)=>{Object(Wt.c)(t.replies,Object(ie.b)(e.replyId))}});var he=Object(Wt.b)({quantities:{websites:0,templates:0}},{[Vt.a.websites.list.success]:(t,e)=>{t&&(t.quantities.websites=e.result.length)},[Vt.a.websites.create.success]:t=>{t.quantities.websites++},[Vt.a.websites.scaffold.success]:t=>{t.quantities.websites++},[Vt.a.websites.delete.success]:t=>{t.quantities.websites=Math.max(0,t.quantities.websites-1)},[Vt.a.pageTemplates.create.success]:t=>{t.quantities.templates++},[Vt.a.pageTemplates.delete.success]:t=>{t.quantities.templates=Math.max(0,t.quantities.templates-1)}});var pe=Object(Wt.b)({crm:{defaultCurrency:"USD",onBoarding:!1}},{[Vt.a.crm.settings.update.success]:(t,e)=>{t.crm=e.result}});const fe=[];var me=Object(Wt.b)({isFetching:!0,result:null,plans:null},{[Vt.a.billing.details.request]:(t,e)=>{t.isFetching=!0},[Vt.a.billing.details.success]:(t,e)=>{t.isFetching=!1,t.result=e.result},[Vt.a.billing.details.failure]:(t,e)=>{t.isFetching=!1,t.error=e.error},[Vt.a.billing.update.success]:(t,e)=>{t.result=e.result},[Vt.a.billing.applyCoupon.success]:(t,e)=>{t.result=e.result},[Vt.a.billing.products.prices.success]:(t,e)=>{t.plans=e.result}});const ge=t=>{t.isFetching=!0},ve=t=>{t.isFetching=!1},be={collectionId:null,items:[],next:null,filter:{name:"",collectionId:""},guid:0,isFetching:!1};var ye=Object(Wt.b)(be,{[Vt.a.products.create.request]:ge,[Vt.a.products.update.request]:ge,[Vt.a.products.delete.request]:ge,[Vt.a.products.sort.request]:ge,[Vt.a.products.list.failure]:ve,[Vt.a.products.retrieve.failure]:ve,[Vt.a.products.create.failure]:ve,[Vt.a.products.update.failure]:ve,[Vt.a.products.delete.failure]:ve,[Vt.a.products.sort.failure]:ve,[Vt.a.products.create.success]:(t,e)=>{ve(t),t.items.unshift(e.result)},[Vt.a.products.retrieve.success]:(t,e)=>{ve(t),Object(Wt.d)(t.items,Object(ie.b)(e.productId),e.result)},[Vt.a.products.update.success]:(t,e)=>{ve(t),Object(Wt.d)(t.items,Object(ie.b)(e.productId),e.result)},[Vt.a.products.delete.success]:(t,e)=>{ve(t),Object(Wt.c)(t.items,Object(ie.b)(e.productId))},[Vt.a.products.list.request]:(t,e)=>{var n;t.isFetching=!0,(t.guid<(e.guid||0)||null===(n=e.query)||void 0===n||!n.next)&&(t.items=[])},[Vt.a.products.list.success]:(t,e)=>{var n;if(e.guid&&e.guid<t.guid)return t;t.collectionId=e.collection||null,t.items=null!==(n=e.query)&&void 0!==n&&n.next?t.items.concat(e.result.results):e.result.results,t.next=e.result.next,t.isFetching=!1},[Vt.a.products.sort.success]:(t,e)=>{t.items=e.result,t.isFetching=!1},SET_PRODUCTS_FILTER:(t,e)=>{t.filter.name=e.payload.name,t.filter.collectionId=e.payload.collectionId,t.next=null,t.guid=t.guid+1},CLEAR_PRODUCTS_STORE:()=>be});const we=t=>{t.isFetching=!0},Ce=t=>{t.isFetching=!1},ke={collectionId:null,items:[],next:null,filter:{name:"",collectionId:""},guid:0,isFetching:!1};var Ee=Object(Wt.b)(ke,{[Vt.a.products.create.request]:we,[Vt.a.products.update.request]:we,[Vt.a.products.delete.request]:we,[Vt.a.products.sort.request]:we,[Vt.a.products.sublist.failure]:Ce,[Vt.a.products.retrieve.failure]:Ce,[Vt.a.products.create.failure]:Ce,[Vt.a.products.update.failure]:Ce,[Vt.a.products.delete.failure]:Ce,[Vt.a.products.sort.failure]:Ce,[Vt.a.products.create.success]:(t,e)=>{Ce(t),t.items.unshift(e.result)},[Vt.a.products.retrieve.success]:(t,e)=>{Ce(t),Object(Wt.d)(t.items,Object(ie.b)(e.productId),e.result)},[Vt.a.products.update.success]:(t,e)=>{Ce(t),Object(Wt.d)(t.items,Object(ie.b)(e.productId),e.result)},[Vt.a.products.delete.success]:(t,e)=>{Ce(t),Object(Wt.c)(t.items,Object(ie.b)(e.productId))},[Vt.a.products.sublist.request]:(t,e)=>{var n;t.isFetching=!0,(t.guid<(e.guid||0)||null===(n=e.query)||void 0===n||!n.next)&&(t.items=[])},[Vt.a.products.sublist.success]:(t,e)=>{var n;if(e.guid&&e.guid<t.guid)return t;t.collectionId=e.collection||null,t.items=null!==(n=e.query)&&void 0!==n&&n.next?t.items.concat(e.result.results):e.result.results,t.next=e.result.next,t.isFetching=!1},[Vt.a.products.sort.success]:(t,e)=>{t.items=e.result,t.isFetching=!1},[Vt.a.collections.products.update]:t=>{t.guid++},SET_PRODUCTS_SUB_FILTER:(t,e)=>{t.filter.name=e.payload.name,t.filter.collectionId=e.payload.collectionId,t.next=null,t.guid=t.guid+1},CLEAR_PRODUCTS_SUB_STORE:()=>ke});const Se=(t,e)=>({botId:t||null,currentPath:[{id:e?e.botData.startResponseId:1}]}),_e=Se();var Oe=Object(Wt.b)(_e,{SELECT_BOT:(t,e)=>{let{botId:n,bot:s}=e;t.botId!==n&&Object.assign(t,Se(n,s))},SET_DIALOG_PATH:(t,e)=>{let{path:n}=e;t.currentPath=n},OPEN_DIALOG_BRANCH:(t,e)=>{let{parentResponseID:n,nextResponseID:s,content:i}=e;const r=[];for(const e of t.currentPath)if(r.push(e),e.id===n){s&&r.push({parentResponseID:n,id:s,reaction:{content:i}});break}t.currentPath=r}});const Ie=t=>e=>{e.isFetching=t},Te=(t,e)=>({...t,...e.result,isFetching:!1,lastRequest:Date.now()});var je=Object(Wt.b)({items:[],isFetching:!1,allPublishedProductsCount:0,allCollectionsCount:0,publishedCollectionsCount:0,allProductsCount:0,lastRequest:null},{[Vt.a.collections.list.request]:Ie(!0),[Vt.a.collections.retrieve.request]:Ie(!0),[Vt.a.collections.create.request]:Ie(!0),[Vt.a.collections.update.request]:Ie(!0),[Vt.a.collections.delete.request]:Ie(!0),[Vt.a.collections.products.update.request]:Ie(!0),[Vt.a.collections.sort.request]:Ie(!0),[Vt.a.products.migrate.request]:Ie(!0),[Vt.a.collections.list.failure]:Ie(!1),[Vt.a.collections.retrieve.failure]:Ie(!1),[Vt.a.collections.create.failure]:Ie(!1),[Vt.a.collections.update.failure]:Ie(!1),[Vt.a.collections.delete.failure]:Ie(!1),[Vt.a.collections.products.update.failure]:Ie(!1),[Vt.a.collections.sort.failure]:Ie(!1),[Vt.a.products.migrate.failure]:Ie(!1),[Vt.a.collections.retrieve.success]:Ie(!1),[Vt.a.collections.list.success]:Te,[Vt.a.collections.sort.success]:Te,[Vt.a.collections.update.success]:Te,[Vt.a.collections.create.success]:Te,[Vt.a.collections.delete.success]:Te,[Vt.a.collections.products.update.success]:Te,[Vt.a.products.migrate.success]:Te,[Vt.a.products.sort.success]:t=>t}),Ne=n("cGUp"),xe=n.n(Ne),Re=n("lWQz");const Le={mobileMenuVisible:!1,pagePreview:null,isClientExpired:!1,conversationsFilter:{status:"open",assign:"all",searchValue:"",showNewFirst:!0,...ee.a.get("conversationsFilter")||{}},unsubscribe:{status:"initial"},isAdvancedStylingMode:ee.a.get("advancedStylingMode")||!1,isMobileContainer:!1,backTrack:""};var Ae=Object(Wt.b)(Le,{[Re.ui.toggleMobileMenu]:(t,e)=>{t.mobileMenuVisible=e.payload},[Re.ui.toggleStylingMode]:t=>{t.isAdvancedStylingMode=!t.isAdvancedStylingMode},[Re.ui.toggleMobileContainer]:(t,e)=>{t.isMobileContainer="boolean"==typeof e.payload?e.payload:!t.isMobileContainer},[Re.ui.setMessage]:(t,e)=>{t.message=e.payload},[Re.ui.setConversationsFilter]:(t,e)=>{t.conversationsFilter={...t.conversationsFilter,...e.payload}},[Re.ui.setPagePreview]:(t,e)=>{t.pagePreview=e.payload},[Re.ui.setPageBlockPreview]:(t,e)=>{if(e.payload._id)t.pagePreview.blocks=t.pagePreview.blocks.map(t=>t._id===e.payload._id?e.payload:t);else{t.pagePreview.blocks.length>0&&!t.pagePreview.blocks.slice(-1).pop()._id?t.pagePreview.blocks=t.pagePreview.blocks.map(t=>t._id?t:e.payload):t.pagePreview.blocks.push(e.payload)}},[Vt.a.listenVerifyVersion]:(t,e)=>{t.isClientExpired=e.payload!==xe.a.version},[Vt.a.unsubscribe]:(t,e)=>{t.unsubscribe.status="pending"},[Vt.a.listenSubscriptionCancelled]:(t,e)=>{t.unsubscribe.state="finish"},[Re.ui.setBackTrack]:(t,e)=>{t.backTrack=e.payload}});var Me=Object(Wt.b)({socketId:null,isConnected:!1,reconnected:0},{[Vt.a.listenConnect]:(t,e)=>{t.socketId=e.socketId,t.isConnected=!0},[Vt.a.listenDisconnect]:t=>{t.socketId=null,t.isConnected=!1},[Vt.a.listenReconnect]:t=>{t.reconnected++}}),Pe=n("JrDk"),De=n("QwRn");const Ue=(t,e)=>((t,e)=>t.find(Object(ie.b)(e.websiteId)))(t,e).pages,Fe=(t,e)=>Ue(t,e).find(Object(ie.b)(e.pageId));var qe=Object(Wt.b)([],{[Vt.a.websites.create.success]:(t,e)=>{t.unshift(e.result)},[Vt.a.websites.scaffold.success]:(t,e)=>{t.unshift(e.result)},[Vt.a.websites.list.success]:(t,e)=>e.result,[Vt.a.websites.update.success]:(t,e)=>{Object(Wt.d)(t,Object(ie.b)(e.websiteId),e.result)},[Vt.a.websites.delete.success]:(t,e)=>{Object(Wt.c)(t,Object(ie.b)(e.websiteId))},[Vt.a.websites.domain.update.success]:(t,e)=>{t.find(Object(ie.b)(e.websiteId)).domain=e.result},[Vt.a.websites.domain.delete.success]:(t,e)=>{t.find(Object(ie.b)(e.websiteId)).domain={name:""}},[Vt.a.pages.create.success]:(t,e)=>{Ue(t,e).unshift(e.result)},[Vt.a.pages.applyTemplate.success]:(t,e)=>{Object(Wt.d)(t,Object(ie.b)(e.websiteId),e.result)},[Vt.a.pages.update.success]:(t,e)=>{Object(Wt.d)(Ue(t,e),Object(ie.b)(e.pageId),e.result)},[Vt.a.pages.delete.success]:(t,e)=>{Object(Wt.c)(Ue(t,e),Object(ie.b)(e.pageId))},[Vt.a.blocks.create.success]:(t,e)=>{Fe(t,e).blocks.push(e.result)},[Vt.a.blocks.clone.success]:(t,e)=>{Fe(t,e).blocks=e.result},[Vt.a.blocks.update.success]:(t,e)=>{Object(Wt.d)(Fe(t,e).blocks,Object(ie.b)(e.blockId),e.result)},[Vt.a.blocks.convert.success]:(t,e)=>{Object(Wt.d)(t,Object(ie.b)(e.websiteId),e.result.website)},[Vt.a.blocks.delete.success]:(t,e)=>{const n=Fe(t,e),{results:s}=Object(Pe.e)(n,((t,e)=>t.blocks.find(Object(ie.b)(e)))(n,e.blockId),t=>{let{_id:e}=t;return e});if(n.blocks=n.blocks.filter(t=>{let{_id:e}=t;return!s.includes(e)}),!n.blocks.length){const s=t.find(Object(ie.b)(e.websiteId));n.enabled=!1,s.enabled=!1}},[Vt.a.blocks.sort.success]:(t,e)=>{Fe(t,e).blocks=e.result},[Vt.a.websites.crm.settings.update.success]:(t,e)=>{Object(Wt.d)(t,Object(ie.b)(e.websiteId),e.result)},[Vt.a.collections.delete.success]:(t,e)=>{const n=e.collectionId;for(const{pages:e}of t)for(const t of e)for(const{kind:e,collections:i}of t.blocks){var s;e===De.p&&(null!=i&&null!==(s=i.include)&&void 0!==s&&s.includes(n)&&(i.include=i.include.filter(t=>t!==n)))}}});const ze=t=>e=>{e.isFetching=t};var Be=Object(Wt.b)({items:[],guid:0,isFetching:!1},{[Vt.a.pageTemplates.create.request]:ze(!0),[Vt.a.pageTemplates.retrieve.request]:ze(!0),[Vt.a.pageTemplates.update.request]:ze(!0),[Vt.a.pageTemplates.delete.request]:ze(!0),[Vt.a.pageTemplates.create.failure]:ze(!1),[Vt.a.pageTemplates.update.failure]:ze(!1),[Vt.a.pageTemplates.delete.failure]:ze(!1),[Vt.a.pageTemplates.list.failure]:ze(!1),[Vt.a.pageTemplates.create.success]:(t,e)=>{t.items.unshift(e.result),t.isFetching=!1},[Vt.a.pageTemplates.retrieve.success]:(t,e)=>{Object(Wt.d)(t.items,Object(ie.b)(e.templateId),e.result)||t.items.unshift(e.result),t.isFetching=!1},[Vt.a.pageTemplates.update.success]:(t,e)=>{Object(Wt.d)(t.items,Object(ie.b)(e.templateId),e.result),t.isFetching=!1},[Vt.a.pageTemplates.delete.success]:(t,e)=>{Object(Wt.c)(t.items,Object(ie.b)(e.templateId)),t.isFetching=!1},[Vt.a.pageTemplates.list.request]:t=>{t.isFetching=!0},[Vt.a.pageTemplates.list.success]:(t,e)=>{if(e.guid&&e.guid<t.guid)return t;t.items=e.result,t.isFetching=!1}});const He=t=>e=>{e.isFetching=t},We=(t,e,n)=>{e&&(t.counts[e]=(t.counts[e]||0)+1),n&&(t.counts[n]=Math.max(0,(t.counts[n]||0)-1)),t.recent=t.counts},Ve=(t,e)=>{t.isFetching=!1,t.items.find(Object(ie.b)(e.feedbackId))||(t.items.unshift(e.result),t.counts.all++,We(t,e.result.status))},Ke=(t,e)=>{const n=t.items.find(Object(ie.b)(e.feedbackId));Object(Wt.d)(t.items,Object(ie.b)(e.feedbackId),e.result),(null==n?void 0:n.status)!==e.result.status&&We(t,e.result.status,null==n?void 0:n.status),t.isFetching=!1},Ge={all:[],new:[],processing:[],accepted:[],rejected:[]},Je={items:[],next:null,filter:{status:"new"},recent:{},counts:{all:0,new:0,processing:0,accepted:0,rejected:0},totals:Ge,guid:0,isFetching:!1};var $e=Object(Wt.b)(Je,{[Vt.a.feedbacks.create.request]:He(!0),[Vt.a.feedbacks.retrieve.request]:He(!0),[Vt.a.feedbacks.list.request]:He(!0),[Vt.a.feedbacks.update.request]:He(!0),[Vt.a.feedbacks.delete.request]:He(!0),[Vt.a.feedbacks.create.failure]:He(!1),[Vt.a.feedbacks.update.failure]:He(!1),[Vt.a.feedbacks.delete.failure]:He(!1),[Vt.a.feedbacks.list.failure]:He(!1),[Vt.a.feedbacks.recent.success]:(t,e)=>{t.recent=e.result.counts,t.totals={...Ge,...e.result.totals}},[Vt.a.feedbacks.create.success]:Ve,[Vt.a.feedbacks.retrieve.success]:(t,e)=>{Object(Wt.d)(t.items,Object(ie.b)(e.feedbackId),e.result)||t.items.unshift(e.result),t.isFetching=!1},[Vt.a.feedbacks.update.success]:Ke,[Vt.a.feedbacks.delete.success]:(t,e)=>{t.isFetching=!1,t.counts.all=Math.max(0,t.counts.all-1);const n=Object(Wt.c)(t.items,Object(ie.b)(e.feedbackId));We(t,null,null==n?void 0:n.status)},[Vt.a.feedbacks.list.success]:(t,e)=>{let{guid:n,result:s,query:i}=e;if(n&&n<t.guid)return t;t.items=null!=i&&i.next?t.items.concat(s.results):s.results,t.counts=s.counts,t.recent=s.counts,t.totals={...Ge,...s.totals},t.next=s.next,t.isFetching=!1},[Vt.a.orders.update.success]:(t,e)=>{const n=t.items.find(t=>{let{purchase:n}=t;return(null==n?void 0:n._id)===e.orderId});n&&Ke(t,{feedbackId:n._id,result:{...n,purchase:e.result}})},[Vt.a.listenCreateFeedback]:Ve,[Vt.a.listenUpdateFeedback]:Ke,SET_FEEDBACK_ITEMS_FILTER:(t,e)=>{t.filter=e.payload||{},t.next=null,t.guid=t.guid+1}});const Xe=t=>e=>{e.isFetching=t};var Ze=Object(Wt.b)({items:[],next:null,guid:0,isFetching:!1},{[Vt.a.users.invites.create.request]:Xe(!0),[Vt.a.users.invites.delete.request]:Xe(!0),[Vt.a.users.invites.create.failure]:Xe(!1),[Vt.a.users.invites.delete.failure]:Xe(!1),[Vt.a.users.invites.list.failure]:Xe(!1),[Vt.a.users.invites.delete.success]:Xe(!1),[Vt.a.users.invites.create.success]:(t,e)=>{t.items.unshift(e.result),t.isFetching=!1},[Vt.a.users.invites.delete.success]:(t,e)=>{Object(Wt.c)(t.items,Object(ie.b)(e.inviteId)),t.isFetching=!1},[Vt.a.users.invites.list.request]:t=>{t.isFetching=!0},[Vt.a.users.invites.list.success]:(t,e)=>{if(e.guid&&e.guid<t.guid)return t;t.items=e.query&&e.query.next?t.items.concat(e.result.results):e.result.results,t.next=e.result.next,t.isFetching=!1}});var Ye=Object(ot.combineReducers)({conversations:Qt,currentUser:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Vt.a.users.me.success.type:case Vt.a.users.updateMyAccount.success.type:return{...t,user:e.result};case Vt.a.auth.login.success.type:case Vt.a.auth.getToken.success.type:case Vt.a.users.create.success.type:case Vt.a.users.join.success.type:return{...t,...e.result};case Vt.a.listenUserUpdated.type:return e.user._id!==t.user._id?t:{...t,markers:e.marker?[...t.markers,e.marker]:t.markers,user:{...t.user,...e.user}};default:return t}},workspace:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;return Object(se.a)(t,t=>{switch(e.type){case Vt.a.workspaces.retrieve.successType:case Vt.a.workspaces.create.successType:case Vt.a.workspaces.update.successType:return e.result;case Vt.a.onboarding.update.successType:t.onboarding=e.result;break;default:ae(t,e),ce(t,e),ue(t,e),le(t,e),de(t,e),he(t,e),pe(t,e)}})},cardStatistics:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Vt.a.card.statistics.success.type:return e.result;default:return t}},billingDetails:me,products:ye,subproducts:Ee,collections:je,invites:Ze,websites:qe,templates:Be,feedback:$e,botEditor:Oe,ui:Ae,socket:Me}),Qe=function(t){return{done:!0,value:t}},tn={};function en(t){return O(t)?"channel":I(t)?String(t):w(t)?t.name:String(t)}function nn(t,e,n){var s,i,r,o=e;function a(e,n){if(o===tn)return Qe(e);if(n&&!i)throw o=tn,n;s&&s(e);var a=n?t[i](n):t[o]();return o=a.nextState,r=a.effect,s=a.stateUpdater,i=a.errorState,o===tn?Qe(e):r}return U(a,(function(t){return a(null,t)}),n)}function sn(t,e){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];var r,o,a={done:!1,value:Z(t)},c=function(t){return{done:!1,value:nt.apply(void 0,[e].concat(s,[t]))}},u=function(t){return{done:!1,value:st(t)}},l=function(t){return r=t},d=function(t){return o=t};return nn({q1:function(){return{nextState:"q2",effect:a,stateUpdater:d}},q2:function(){return r?{nextState:"q3",effect:u(r)}:{nextState:"q1",effect:c(o),stateUpdater:l}},q3:function(){return{nextState:"q1",effect:c(o),stateUpdater:l}}},"q1","takeLatest("+en(t)+", "+e.name+")")}function rn(t,e,n){for(var s=arguments.length,i=new Array(s>3?s-3:0),r=3;r<s;r++)i[r-3]=arguments[r];var o,a,c={done:!1,value:Z(e)},u={done:!1,value:Q({action:Z(e),debounce:rt(t)})},l=function(t){return{done:!1,value:nt.apply(void 0,[n].concat(i,[t]))}},d=function(t){return{done:!1,value:t}},h=function(t){return o=t},p=function(t){return a=t};return nn({q1:function(){return{nextState:"q2",effect:c,stateUpdater:h}},q2:function(){return{nextState:"q3",effect:u,stateUpdater:p}},q3:function(){return a.debounce?{nextState:"q1",effect:l(o)}:{nextState:"q2",effect:d(a.action),stateUpdater:h}}},"q1","debounce("+en(e)+", "+n.name+")")}function on(t,e){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];return nt.apply(void 0,[sn,t,e].concat(s))}function an(t,e,n){for(var s=arguments.length,i=new Array(s>3?s-3:0),r=3;r<s;r++)i[r-3]=arguments[r];return nt.apply(void 0,[rn,t,e,n].concat(i))}var cn=n("YAaD");function*un(){const t=yield it(),{status:e}=t.ui.conversationsFilter;yield Y(Vt.a.conversations.statistics({query:{status:e}}))}function*ln(){const t=yield it();yield et([ee.a,"set"],"conversationsFilter",t.ui.conversationsFilter),yield Y(Vt.a.conversations.filterList())}function*dn(){yield Y(Vt.a.conversations.unread())}function*hn(t){let{result:e}=t;yield Y(Vt.a.feedbacks.recent({websiteId:e.website}))}function*pn(){yield Y(Re.ui.setConversationsFilter({assign:"all",status:"open",searchValue:"",showNewFirst:!0}))}function*fn(){yield Y(Vt.a.collections.list())}function*mn(){const t=yield it(),{user:e}=t.currentUser;e&&window.Sentry.setUser({email:e.email,oid:e._id})}function*gn(t){if(window.matchMedia("(max-width: 767px)").matches)yield et(cn.a.push,"/i");else{const{conversations:e}=yield it(),n=e.list.ids.map(t=>e.list.byContactId[t]).filter(e=>e.status!==t.status&&e.contact._id!==t.contactId);yield et(cn.a.push,n.length>0?"/i/"+n[0].contact._id:"/i")}}function*vn(t){yield Y(Vt.a.workspaces.retrieve())}function*bn(t){yield Y(Re.ui.setConversationsFilter({status:"open"})),yield Y(Vt.a.conversations.retrieve({contactId:t.contactId}))}function*yn(){yield Y(Vt.a.workspaces.retrieve()),yield Y(Vt.a.billing.details()),cn.a.location.pathname.startsWith("/billing/")?yield et(cn.a.push,"/billing"):cn.a.location.pathname.startsWith("/s/billing/")&&(yield et(cn.a.push,"/s/billing"))}function*wn(){const t=yield it();yield et([ee.a,"set"],"advancedStylingMode",t.ui.isAdvancedStylingMode)}function*Cn(){window.Sentry&&(yield an(1e3,"*",mn)),yield an(100,[Vt.a.conversations.assign.success,Vt.a.conversations.assignMe.success,Vt.a.conversations.changeStatus.success,Vt.a.listenCreateConversation.type,Vt.a.listenUpdateConversation.type,Re.ui.setConversationsFilter],un),yield on(Vt.a.conversations.assignMe.success,pn),yield on(Re.ui.setConversationsFilter,ln),yield on(Re.ui.toggleStylingMode,wn),yield on([Vt.a.listenCreateConversation.type,Vt.a.listenUpdateConversation.type,Vt.a.workspaces.my],dn),yield on([Vt.a.feedbacks.update.success,Vt.a.feedbacks.delete.success,Vt.a.feedbacks.create.success,Vt.a.listenCreateFeedback.type,Vt.a.listenUpdateFeedback.type],hn),yield on([Vt.a.products.create.success,Vt.a.products.update.success,Vt.a.products.delete.success,Vt.a.websites.create.success,Vt.a.websites.scaffold.success,Vt.a.websites.delete.success,Vt.a.collections.products.update.success,Vt.a.blocks.convert.success],fn),yield on([Vt.a.billing.update.success,Vt.a.billing.subscription.cancel.success,Vt.a.billing.changeCreditCard.success,Vt.a.listenSubscriptionCreated.type,Vt.a.listenSubscriptionUpdated.type,Vt.a.listenSubscriptionCancelled.type,Vt.a.listenPaymentSucceeded.type,Vt.a.listenPaymentRetryFailed.type,Vt.a.listenHighRiskTransactionUpdated.type],yn),yield on(Vt.a.conversations.changeStatus.success,gn),yield on([Vt.a.integrations.create.success,Vt.a.integrations.delete.success],vn),yield on([Vt.a.conversations.sendMessage.success,Vt.a.conversations.sendAttachment.success],bn)}var kn=n("uZih"),En=n.n(kn),Sn=n("PxNW"),_n=n("Oz2X"),On=n.n(_n);const In={[Vt.a.auth.login.successType]:()=>({event:"login",method:"email"}),[Vt.a.users.create.successType]:()=>({event:"sign_up",method:"email"}),[Vt.a.users.create.failureType]:t=>({event:"Sign up error",error:En()(t.error,["stack","json"])}),[Vt.a.websites.update.successType]:(t,e,n)=>{var s;if((null===(s=e.websites.find(e=>e.slug===t.payload.slug))||void 0===s||!s.enabled)&&t.payload.enabled)return{event:"website_published"}},[Vt.a.listenSubscriptionCreated.type]:t=>({event:"subscription_created",...t.payload}),[Vt.a.listenSubscriptionCancelled.type]:()=>({event:"subscription_cancelled"}),[Vt.a.users.me.successType]:t=>({event:"account_load",userId:t.result._id,email:t.result.email}),[Vt.a.workspaces.retrieve.successType]:t=>({event:"workspace_load",workspaceId:t.result._id,plan:t.result.billing.plan}),[Re.checkout.applyCoupon.type]:t=>({event:"checkout.applyCoupon",coupon:t.payload.coupon}),[Re.checkout.changeCountry.type]:t=>({event:"checkout.changeCountry",country:t.payload.country}),[Re.checkout.close.type]:()=>({event:"checkout.close"}),[Re.checkout.complete.type]:()=>({event:"checkout.complete"}),[Re.checkout.completePayment.type]:()=>({event:"checkout.completePayment"}),[Re.checkout.load.type]:()=>({event:"checkout.load"}),[Re.checkout.error.type]:t=>({event:"checkout.error",error:t.payload.error}),[Re.checkout.selectPaymentMethod.type]:t=>({event:"checkout.selectPaymentMethod",paymentMethod:t.payload.payment_method}),"*":t=>({event:"reduxAction",type:t.type})},Tn=On()(),jn=Object(Sn.createMiddleware)(In,Tn,{logger:null}),Nn=!!window.dataLayer;let xn;xn=n("JPUg").default;const Rn=Bt(),Ln=[];Nn&&Ln.push(jn);{const{OpenReplay:t}=n("bHoB");if(xe.a.open_replay_project_key){const{openReplayMiddleware:e,openReplayEventsTrackerMiddleware:n}=t({projectKey:xe.a.open_replay_project_key});Ln.push(e,n)}}e.a=t=>{const e=xn(Ye,t,[s.a,Rn,...Ln,Ht]);return Rn.run(Cn),e}},UlFm:function(t,e,n){t.exports={root:"_3d4yF9Ki",contentContainer:"_2Xg7Rygs",content:"R6TtxvQL",header:"Y1yyw3at",logo:"_1fVGoKPJ",pane:"_22xKANAl"}},WiWM:function(t,e,n){t.exports={header:"_1fMhHyeB",footer:"_1vB-oemn"}},WkAZ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=Object.keys(t),s=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[];return n.concat(s).filter((function(t){return"*"===t||t===e})).map((function(e){return t[e]}))}},YAaD:function(t,e,n){"use strict";var s=n("11Hm"),i=n("sfid");const r=Object(s.a)({getUserConfirmation:(t,e)=>{i.a.notify(t,e)||e(!0)}});e.a=r},bHoB:function(t,e,n){"use strict";n.r(e),n.d(e,"patchFetch",(function(){return Oe})),n.d(e,"openReplayMiddleware",(function(){return Ie})),n.d(e,"OpenReplayTarget",(function(){return Te})),n.d(e,"eventsMap",(function(){return je})),n.d(e,"OpenReplay",(function(){return Ne}));var s={};function i(t){function e(...e){return new t(...e)}return e.prototype=t.prototype,e}n.r(s),n.d(s,"classes",(function(){return r})),n.d(s,"BatchMeta",(function(){return o})),n.d(s,"Timestamp",(function(){return a})),n.d(s,"SetPageLocation",(function(){return c})),n.d(s,"SetViewportSize",(function(){return u})),n.d(s,"SetViewportScroll",(function(){return l})),n.d(s,"CreateDocument",(function(){return d})),n.d(s,"CreateElementNode",(function(){return h})),n.d(s,"CreateTextNode",(function(){return p})),n.d(s,"MoveNode",(function(){return f})),n.d(s,"RemoveNode",(function(){return m})),n.d(s,"SetNodeAttribute",(function(){return g})),n.d(s,"RemoveNodeAttribute",(function(){return v})),n.d(s,"SetNodeData",(function(){return b})),n.d(s,"SetNodeScroll",(function(){return y})),n.d(s,"SetInputTarget",(function(){return w})),n.d(s,"SetInputValue",(function(){return C})),n.d(s,"SetInputChecked",(function(){return k})),n.d(s,"MouseMove",(function(){return E})),n.d(s,"ConsoleLog",(function(){return S})),n.d(s,"PageLoadTiming",(function(){return _})),n.d(s,"PageRenderTiming",(function(){return O})),n.d(s,"JSException",(function(){return I})),n.d(s,"RawCustomEvent",(function(){return T})),n.d(s,"UserID",(function(){return j})),n.d(s,"UserAnonymousID",(function(){return N})),n.d(s,"Metadata",(function(){return x})),n.d(s,"CSSInsertRule",(function(){return R})),n.d(s,"CSSDeleteRule",(function(){return L})),n.d(s,"Fetch",(function(){return A})),n.d(s,"Profiler",(function(){return M})),n.d(s,"OTable",(function(){return P})),n.d(s,"StateAction",(function(){return D})),n.d(s,"Redux",(function(){return U})),n.d(s,"Vuex",(function(){return F})),n.d(s,"MobX",(function(){return q})),n.d(s,"NgRx",(function(){return z})),n.d(s,"GraphQL",(function(){return B})),n.d(s,"PerformanceTrack",(function(){return H})),n.d(s,"ResourceTiming",(function(){return W})),n.d(s,"ConnectionInformation",(function(){return V})),n.d(s,"SetPageVisibility",(function(){return K})),n.d(s,"LongTask",(function(){return G})),n.d(s,"SetNodeAttributeURLBased",(function(){return J})),n.d(s,"SetCSSDataURLBased",(function(){return $})),n.d(s,"TechnicalInfo",(function(){return X})),n.d(s,"CustomIssue",(function(){return Z})),n.d(s,"PageClose",(function(){return Y})),n.d(s,"CSSInsertRuleURLBased",(function(){return Q})),n.d(s,"MouseClick",(function(){return tt})),n.d(s,"CreateIFrameDocument",(function(){return et}));const r=new Map;const o=i(class{constructor(t,e,n){this.pageNo=t,this.firstIndex=e,this.timestamp=n,this._id=80}encode(t){return t.uint(80)&&t.uint(this.pageNo)&&t.uint(this.firstIndex)&&t.int(this.timestamp)}});r.set(80,o);const a=i(class{constructor(t){this.timestamp=t,this._id=0}encode(t){return t.uint(0)&&t.uint(this.timestamp)}});r.set(0,a);const c=i(class{constructor(t,e,n){this.url=t,this.referrer=e,this.navigationStart=n,this._id=4}encode(t){return t.uint(4)&&t.string(this.url)&&t.string(this.referrer)&&t.uint(this.navigationStart)}});r.set(4,c);const u=i(class{constructor(t,e){this.width=t,this.height=e,this._id=5}encode(t){return t.uint(5)&&t.uint(this.width)&&t.uint(this.height)}});r.set(5,u);const l=i(class{constructor(t,e){this.x=t,this.y=e,this._id=6}encode(t){return t.uint(6)&&t.int(this.x)&&t.int(this.y)}});r.set(6,l);const d=i(class{constructor(){this._id=7}encode(t){return t.uint(7)}});r.set(7,d);const h=i(class{constructor(t,e,n,s,i){this.id=t,this.parentID=e,this.index=n,this.tag=s,this.svg=i,this._id=8}encode(t){return t.uint(8)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)&&t.string(this.tag)&&t.boolean(this.svg)}});r.set(8,h);const p=i(class{constructor(t,e,n){this.id=t,this.parentID=e,this.index=n,this._id=9}encode(t){return t.uint(9)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)}});r.set(9,p);const f=i(class{constructor(t,e,n){this.id=t,this.parentID=e,this.index=n,this._id=10}encode(t){return t.uint(10)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)}});r.set(10,f);const m=i(class{constructor(t){this.id=t,this._id=11}encode(t){return t.uint(11)&&t.uint(this.id)}});r.set(11,m);const g=i(class{constructor(t,e,n){this.id=t,this.name=e,this.value=n,this._id=12}encode(t){return t.uint(12)&&t.uint(this.id)&&t.string(this.name)&&t.string(this.value)}});r.set(12,g);const v=i(class{constructor(t,e){this.id=t,this.name=e,this._id=13}encode(t){return t.uint(13)&&t.uint(this.id)&&t.string(this.name)}});r.set(13,v);const b=i(class{constructor(t,e){this.id=t,this.data=e,this._id=14}encode(t){return t.uint(14)&&t.uint(this.id)&&t.string(this.data)}});r.set(14,b);const y=i(class{constructor(t,e,n){this.id=t,this.x=e,this.y=n,this._id=16}encode(t){return t.uint(16)&&t.uint(this.id)&&t.int(this.x)&&t.int(this.y)}});r.set(16,y);const w=i(class{constructor(t,e){this.id=t,this.label=e,this._id=17}encode(t){return t.uint(17)&&t.uint(this.id)&&t.string(this.label)}});r.set(17,w);const C=i(class{constructor(t,e,n){this.id=t,this.value=e,this.mask=n,this._id=18}encode(t){return t.uint(18)&&t.uint(this.id)&&t.string(this.value)&&t.int(this.mask)}});r.set(18,C);const k=i(class{constructor(t,e){this.id=t,this.checked=e,this._id=19}encode(t){return t.uint(19)&&t.uint(this.id)&&t.boolean(this.checked)}});r.set(19,k);const E=i(class{constructor(t,e){this.x=t,this.y=e,this._id=20}encode(t){return t.uint(20)&&t.uint(this.x)&&t.uint(this.y)}});r.set(20,E);const S=i(class{constructor(t,e){this.level=t,this.value=e,this._id=22}encode(t){return t.uint(22)&&t.string(this.level)&&t.string(this.value)}});r.set(22,S);const _=i(class{constructor(t,e,n,s,i,r,o,a,c){this.requestStart=t,this.responseStart=e,this.responseEnd=n,this.domContentLoadedEventStart=s,this.domContentLoadedEventEnd=i,this.loadEventStart=r,this.loadEventEnd=o,this.firstPaint=a,this.firstContentfulPaint=c,this._id=23}encode(t){return t.uint(23)&&t.uint(this.requestStart)&&t.uint(this.responseStart)&&t.uint(this.responseEnd)&&t.uint(this.domContentLoadedEventStart)&&t.uint(this.domContentLoadedEventEnd)&&t.uint(this.loadEventStart)&&t.uint(this.loadEventEnd)&&t.uint(this.firstPaint)&&t.uint(this.firstContentfulPaint)}});r.set(23,_);const O=i(class{constructor(t,e,n){this.speedIndex=t,this.visuallyComplete=e,this.timeToInteractive=n,this._id=24}encode(t){return t.uint(24)&&t.uint(this.speedIndex)&&t.uint(this.visuallyComplete)&&t.uint(this.timeToInteractive)}});r.set(24,O);const I=i(class{constructor(t,e,n){this.name=t,this.message=e,this.payload=n,this._id=25}encode(t){return t.uint(25)&&t.string(this.name)&&t.string(this.message)&&t.string(this.payload)}});r.set(25,I);const T=i(class{constructor(t,e){this.name=t,this.payload=e,this._id=27}encode(t){return t.uint(27)&&t.string(this.name)&&t.string(this.payload)}});r.set(27,T);const j=i(class{constructor(t){this.id=t,this._id=28}encode(t){return t.uint(28)&&t.string(this.id)}});r.set(28,j);const N=i(class{constructor(t){this.id=t,this._id=29}encode(t){return t.uint(29)&&t.string(this.id)}});r.set(29,N);const x=i(class{constructor(t,e){this.key=t,this.value=e,this._id=30}encode(t){return t.uint(30)&&t.string(this.key)&&t.string(this.value)}});r.set(30,x);const R=i(class{constructor(t,e,n){this.id=t,this.rule=e,this.index=n,this._id=37}encode(t){return t.uint(37)&&t.uint(this.id)&&t.string(this.rule)&&t.uint(this.index)}});r.set(37,R);const L=i(class{constructor(t,e){this.id=t,this.index=e,this._id=38}encode(t){return t.uint(38)&&t.uint(this.id)&&t.uint(this.index)}});r.set(38,L);const A=i(class{constructor(t,e,n,s,i,r,o){this.method=t,this.url=e,this.request=n,this.response=s,this.status=i,this.timestamp=r,this.duration=o,this._id=39}encode(t){return t.uint(39)&&t.string(this.method)&&t.string(this.url)&&t.string(this.request)&&t.string(this.response)&&t.uint(this.status)&&t.uint(this.timestamp)&&t.uint(this.duration)}});r.set(39,A);const M=i(class{constructor(t,e,n,s){this.name=t,this.duration=e,this.args=n,this.result=s,this._id=40}encode(t){return t.uint(40)&&t.string(this.name)&&t.uint(this.duration)&&t.string(this.args)&&t.string(this.result)}});r.set(40,M);const P=i(class{constructor(t,e){this.key=t,this.value=e,this._id=41}encode(t){return t.uint(41)&&t.string(this.key)&&t.string(this.value)}});r.set(41,P);const D=i(class{constructor(t){this.type=t,this._id=42}encode(t){return t.uint(42)&&t.string(this.type)}});r.set(42,D);const U=i(class{constructor(t,e,n){this.action=t,this.state=e,this.duration=n,this._id=44}encode(t){return t.uint(44)&&t.string(this.action)&&t.string(this.state)&&t.uint(this.duration)}});r.set(44,U);const F=i(class{constructor(t,e){this.mutation=t,this.state=e,this._id=45}encode(t){return t.uint(45)&&t.string(this.mutation)&&t.string(this.state)}});r.set(45,F);const q=i(class{constructor(t,e){this.type=t,this.payload=e,this._id=46}encode(t){return t.uint(46)&&t.string(this.type)&&t.string(this.payload)}});r.set(46,q);const z=i(class{constructor(t,e,n){this.action=t,this.state=e,this.duration=n,this._id=47}encode(t){return t.uint(47)&&t.string(this.action)&&t.string(this.state)&&t.uint(this.duration)}});r.set(47,z);const B=i(class{constructor(t,e,n,s){this.operationKind=t,this.operationName=e,this.variables=n,this.response=s,this._id=48}encode(t){return t.uint(48)&&t.string(this.operationKind)&&t.string(this.operationName)&&t.string(this.variables)&&t.string(this.response)}});r.set(48,B);const H=i(class{constructor(t,e,n,s){this.frames=t,this.ticks=e,this.totalJSHeapSize=n,this.usedJSHeapSize=s,this._id=49}encode(t){return t.uint(49)&&t.int(this.frames)&&t.int(this.ticks)&&t.uint(this.totalJSHeapSize)&&t.uint(this.usedJSHeapSize)}});r.set(49,H);const W=i(class{constructor(t,e,n,s,i,r,o,a){this.timestamp=t,this.duration=e,this.ttfb=n,this.headerSize=s,this.encodedBodySize=i,this.decodedBodySize=r,this.url=o,this.initiator=a,this._id=53}encode(t){return t.uint(53)&&t.uint(this.timestamp)&&t.uint(this.duration)&&t.uint(this.ttfb)&&t.uint(this.headerSize)&&t.uint(this.encodedBodySize)&&t.uint(this.decodedBodySize)&&t.string(this.url)&&t.string(this.initiator)}});r.set(53,W);const V=i(class{constructor(t,e){this.downlink=t,this.type=e,this._id=54}encode(t){return t.uint(54)&&t.uint(this.downlink)&&t.string(this.type)}});r.set(54,V);const K=i(class{constructor(t){this.hidden=t,this._id=55}encode(t){return t.uint(55)&&t.boolean(this.hidden)}});r.set(55,K);const G=i(class{constructor(t,e,n,s,i,r,o){this.timestamp=t,this.duration=e,this.context=n,this.containerType=s,this.containerSrc=i,this.containerId=r,this.containerName=o,this._id=59}encode(t){return t.uint(59)&&t.uint(this.timestamp)&&t.uint(this.duration)&&t.uint(this.context)&&t.uint(this.containerType)&&t.string(this.containerSrc)&&t.string(this.containerId)&&t.string(this.containerName)}});r.set(59,G);const J=i(class{constructor(t,e,n,s){this.id=t,this.name=e,this.value=n,this.baseURL=s,this._id=60}encode(t){return t.uint(60)&&t.uint(this.id)&&t.string(this.name)&&t.string(this.value)&&t.string(this.baseURL)}});r.set(60,J);const $=i(class{constructor(t,e,n){this.id=t,this.data=e,this.baseURL=n,this._id=61}encode(t){return t.uint(61)&&t.uint(this.id)&&t.string(this.data)&&t.string(this.baseURL)}});r.set(61,$);const X=i(class{constructor(t,e){this.type=t,this.value=e,this._id=63}encode(t){return t.uint(63)&&t.string(this.type)&&t.string(this.value)}});r.set(63,X);const Z=i(class{constructor(t,e){this.name=t,this.payload=e,this._id=64}encode(t){return t.uint(64)&&t.string(this.name)&&t.string(this.payload)}});r.set(64,Z);const Y=i(class{constructor(){this._id=65}encode(t){return t.uint(65)}});r.set(65,Y);const Q=i(class{constructor(t,e,n,s){this.id=t,this.rule=e,this.index=n,this.baseURL=s,this._id=67}encode(t){return t.uint(67)&&t.uint(this.id)&&t.string(this.rule)&&t.uint(this.index)&&t.string(this.baseURL)}});r.set(67,Q);const tt=i(class{constructor(t,e,n,s){this.id=t,this.hesitationTime=e,this.label=n,this.selector=s,this._id=69}encode(t){return t.uint(69)&&t.uint(this.id)&&t.uint(this.hesitationTime)&&t.string(this.label)&&t.string(this.selector)}});r.set(69,tt);const et=i(class{constructor(t,e){this.frameID=t,this.id=e,this._id=70}encode(t){return t.uint(70)&&t.uint(this.frameID)&&t.uint(this.id)}});function nt(){return Math.round(performance.now())+performance.timing.navigationStart}r.set(70,et);const st="repeat"in String.prototype?t=>"*".repeat(t.length):t=>t.replace(/./g,"*");function it(t){return t.trim().replace(/\s+/g," ")}function rt(t){return t.startsWith("https://")||t.startsWith("http://")}const ot=!("undefined"==typeof window),at="https://docs.openreplay.com",ct={};function ut(t,e,n="/"){ct[t]||(console.warn(`OpenReplay: ${t} is deprecated. ${e?`Please, use ${e} instead.`:""} Visit ${at}${n} for more information.`),ct[t]=!0)}function lt(t){let e=t.getAttribute("data-openreplay-label");return null!==e||(e=t.getAttribute("data-asayer-label"),null!==e&&ut('"data-asayer-label" attribute','"data-openreplay-label" attribute',"/")),e}function dt(t,e){const n="data-openreplay-"+e;if(t.hasAttribute(n))return!0;const s="data-asayer-"+e;return!!t.hasAttribute(s)&&(ut(`"${s}" attribute`,`"${n}" attribute`,"/installation/sanitize-data"),!0)}class ht{constructor(t){this.node_id=t,this.nodes=[],this.nodeCallbacks=[],this.elementListeners=new Map}attachNodeCallback(t){this.nodeCallbacks.push(t)}attachElementListener(t,e,n){const s=this.getID(e);if(void 0===s)return;e.addEventListener(t,n);let i=this.elementListeners.get(s);if(void 0===i)return i=[],void this.elementListeners.set(s,i);i.push([t,n])}registerNode(t){let e=t[this.node_id];const n=void 0===e;return n&&(e=this.nodes.length,this.nodes[e]=t,t[this.node_id]=e),[e,n]}unregisterNode(t){const e=t[this.node_id];if(void 0!==e){delete t[this.node_id],this.nodes[e]=void 0;const n=this.elementListeners.get(e);void 0!==n&&(this.elementListeners.delete(e),n.forEach(e=>t.removeEventListener(e[0],e[1])))}return e}callNodeCallbacks(t,e){this.nodeCallbacks.forEach(n=>n(t,e))}getID(t){return t[this.node_id]}getNode(t){return this.nodes[t]}clear(){for(let t=0;t<this.nodes.length;t++){const e=this.nodes[t];void 0!==e&&this.unregisterNode(e)}this.nodes.length=0}}function pt(t){return"http://www.w3.org/2000/svg"===t.namespaceURI}function ft(t){return t.nodeType===Node.ELEMENT_NODE}function mt(t){return t.nodeType===Node.TEXT_NODE}function gt(t){return t.nodeType===Node.DOCUMENT_NODE||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}function vt(t,e){return t.nodeName===e}function bt(t){if(mt(t))return!1;if(!ft(t))return!0;const e=t.tagName.toUpperCase();if("LINK"===e){const e=t.getAttribute("rel"),n=t.getAttribute("as");return!((null==e?void 0:e.includes("stylesheet"))||"style"===n||"font"===n)}return"SCRIPT"===e||"NOSCRIPT"===e||"META"===e||"TITLE"===e||"BASE"===e}function yt(t){return!!gt(t)||!bt(t)}var wt;!function(t){t[t.New=0]="New",t[t.Removed=1]="Removed",t[t.Changed=2]="Changed"}(wt||(wt={}));class Ct{constructor(t,e=!1){this.app=t,this.isTopContext=e,this.commited=[],this.recents=new Map,this.indexes=[],this.attributesMap=new Map,this.textSet=new Set,this.observer=new MutationObserver(this.app.safe(t=>{for(const e of t){const t=e.target,n=e.type;if(!yt(t))continue;if("childList"===n){for(let t=0;t<e.removedNodes.length;t++)this.bindTree(e.removedNodes[t]);for(let t=0;t<e.addedNodes.length;t++)this.bindTree(e.addedNodes[t]);continue}const s=this.app.nodes.getID(t);if(void 0!==s)if(this.recents.has(s)||this.recents.set(s,wt.Changed),"attributes"!==n)"characterData"!==n||this.textSet.add(s);else{const t=e.attributeName;if(null===t)continue;let n=this.attributesMap.get(s);void 0===n&&this.attributesMap.set(s,n=new Set),n.add(t)}}this.commitNodes()}))}clear(){this.commited.length=0,this.recents.clear(),this.indexes.length=1,this.attributesMap.clear(),this.textSet.clear()}sendNodeAttribute(t,e,n,s){if(pt(e))return"xlink:"===n.substr(0,6)&&(n=n.substr(6)),void(null===s?this.app.send(new v(t,n)):"href"===n?(s.length>1e5&&(s=""),this.app.send(new J(t,n,s,this.app.getBaseHref()))):this.app.send(new g(t,n,s)));"src"!==n&&"srcset"!==n&&"integrity"!==n&&"crossorigin"!==n&&"autocomplete"!==n&&"on"!==n.substr(0,2)&&("value"===n&&vt(e,"INPUT")&&"button"!==e.type&&"reset"!==e.type&&"submit"!==e.type||(null!==s?"style"===n||"href"===n&&vt(e,"LINK")?this.app.send(new J(t,n,s,this.app.getBaseHref())):(("href"===n||s.length>1e5)&&(s=""),this.app.send(new g(t,n,s))):this.app.send(new v(t,n))))}sendNodeData(t,e,n){vt(e,"STYLE")||vt(e,"style")?this.app.send(new $(t,n,this.app.getBaseHref())):(n=this.app.sanitizer.sanitize(t,n),this.app.send(new b(t,n)))}bindNode(t){const[e,n]=this.app.nodes.registerNode(t);n?this.recents.set(e,wt.New):this.recents.get(e)!==wt.New&&this.recents.set(e,wt.Removed)}bindTree(t){if(!yt(t))return;this.bindNode(t);const e=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT+NodeFilter.SHOW_TEXT,{acceptNode:t=>bt(t)||void 0!==this.app.nodes.getID(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},!1);for(;e.nextNode();)this.bindNode(e.currentNode)}unbindNode(t){const e=this.app.nodes.unregisterNode(t);void 0!==e&&this.recents.get(e)===wt.Removed&&this.app.send(new m(e))}_commitNode(t,e){if(gt(e))return!0;const n=e.parentNode;let s;if(!vt(e,"HTML")||!this.isTopContext){if(null===n)return this.unbindNode(e),!1;if(s=this.app.nodes.getID(n),void 0===s)return this.unbindNode(e),!1;if(!this.commitNode(s))return this.unbindNode(e),!1;if(this.app.sanitizer.handleNode(t,s,e),this.app.sanitizer.isMaskedContainer(s))return!1}let i=e.previousSibling;for(;null!==i;){const e=this.app.nodes.getID(i);if(void 0!==e){this.commitNode(e),this.indexes[t]=this.indexes[e]+1;break}i=i.previousSibling}null===i&&(this.indexes[t]=0);const r=this.recents.get(t),o=r===wt.New,a=this.indexes[t];if(void 0===a)throw"commitNode: missing node index";if(o){if(ft(e)){let n=e;if(void 0!==s){if(this.app.sanitizer.isMaskedContainer(t)){const t=n.clientWidth,s=n.clientHeight;n=e.cloneNode(),n.style.width=t+"px",n.style.height=s+"px"}this.app.send(new h(t,s,a,n.tagName,pt(e)))}for(let e=0;e<n.attributes.length;e++){const s=n.attributes[e];this.sendNodeAttribute(t,n,s.nodeName,s.value)}}else mt(e)&&(this.app.send(new p(t,s,a)),this.sendNodeData(t,n,e.data));return!0}r===wt.Removed&&void 0!==s&&this.app.send(new f(t,s,a));const c=this.attributesMap.get(t);if(void 0!==c){if(!ft(e))throw"commitNode: node is not an element";for(const n of c)this.sendNodeAttribute(t,e,n,e.getAttribute(n))}if(this.textSet.has(t)){if(!mt(e))throw"commitNode: node is not a text";this.sendNodeData(t,n,e.data)}return!0}commitNode(t){const e=this.app.nodes.getNode(t);if(void 0===e)return!1;const n=this.commited[t];return void 0!==n?n:this.commited[t]=this._commitNode(t,e)}commitNodes(t=!1){let e;this.recents.forEach((n,s)=>{this.commitNode(s),n===wt.New&&(e=this.app.nodes.getNode(s))&&this.app.nodes.callNodeCallbacks(e,t)}),this.clear()}observeRoot(t,e,n=t){this.observer.observe(t,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!1,characterDataOldValue:!1}),this.bindTree(n),e(this.app.nodes.getID(t)),this.commitNodes(!0)}disconnect(){this.observer.disconnect(),this.clear()}}class kt extends Ct{observe(t){const e=t.contentDocument,n=this.app.nodes.getID(t);e&&void 0!==n&&this.observeRoot(e,t=>{void 0!==t?this.app.send(et(n,t)):console.log("OpenReplay: Iframe document not bound")})}}class Et extends Ct{observe(t){const e=t.shadowRoot,n=this.app.nodes.getID(t);e&&void 0!==n&&this.observeRoot(e,t=>{void 0!==t?this.app.send(et(n,t)):console.log("OpenReplay: Shadow Root was not bound")})}}const St=ot?Element.prototype.attachShadow:()=>new ShadowRoot;class _t extends Ct{constructor(t,e){super(t,!0),this.iframeObservers=[],this.shadowRootObservers=[],this.options=Object.assign({captureIFrames:!0},e),this.app.nodes.attachNodeCallback(t=>{vt(t,"IFRAME")&&(this.options.captureIFrames&&!dt(t,"obscured")||dt(t,"capture"))&&this.handleIframe(t)}),this.app.nodes.attachNodeCallback(t=>{ft(t)&&null!==t.shadowRoot&&this.handleShadowRoot(t.shadowRoot)})}handleIframe(t){let e=null;const n=this.app.safe(()=>{if(void 0===this.app.nodes.getID(t))return;if(t.contentDocument===e)return;if(e=t.contentDocument,!e||!t.contentWindow)return;const n=new kt(this.app);this.iframeObservers.push(n),n.observe(t)});t.addEventListener("load",n),n()}handleShadowRoot(t){const e=new Et(this.app);this.shadowRootObservers.push(e),e.observe(t.host)}observe(){const t=this;Element.prototype.attachShadow=function(){const e=St.apply(this,arguments);return t.handleShadowRoot(e),e},this.observeRoot(window.document,()=>{this.app.send(new d)},window.document.documentElement)}disconnect(){Element.prototype.attachShadow=St,this.iframeObservers.forEach(t=>t.disconnect()),this.iframeObservers=[],this.shadowRootObservers.forEach(t=>t.disconnect()),this.shadowRootObservers=[],super.disconnect()}}class Ot{constructor(t,e){this.app=t,this.masked=new Set,this.maskedContainers=new Set,this.options=Object.assign({obscureTextEmails:!0,obscureTextNumbers:!1},e)}handleNode(t,e,n){(this.masked.has(e)||ft(n)&&dt(n,"masked"))&&this.masked.add(t),(this.maskedContainers.has(e)||ft(n)&&dt(n,"htmlmasked"))&&this.maskedContainers.add(t)}sanitize(t,e){return this.masked.has(t)?e.trim().replace(/[^\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]/g,"█"):(this.options.obscureTextNumbers&&(e=e.replace(/\d/g,"0")),this.options.obscureTextEmails&&(e=e.replace(/([^\s]+)@([^\s]+)\.([^\s]+)/g,(...t)=>st(t[1])+"@"+st(t[2])+"."+st(t[3]))),e)}isMasked(t){return this.masked.has(t)}isMaskedContainer(t){return this.maskedContainers.has(t)}getInnerTextSecure(t){const e=this.app.nodes.getID(t);return e?this.sanitize(e,t.innerText):""}clear(){this.masked.clear(),this.maskedContainers.clear()}}class It{constructor(t){this.app=t,this.timer=null,this.callbacks=[]}attach(t,e=0,n=!0,s){s&&(t=t.bind(s)),n&&(t=this.app.safe(t)),this.callbacks.unshift(e?function(t,e){let n=0;return()=>{n++>=e&&(n=0,t())}}(t,e):t)}start(){null===this.timer&&(this.timer=setInterval(()=>this.callbacks.forEach(t=>{t&&t()}),30))}stop(){null!==this.timer&&(clearInterval(this.timer),this.timer=null)}}const Tt=5,jt=4,Nt=3,xt=2,Rt=0;function Lt(t){return"object"==typeof t}class At{constructor(t=Rt){this.options=!0===t?{level:Tt}:"number"==typeof t?{level:t}:t}log(...t){(Lt(this.options.level)?this.options.level.log:this.options.level>=jt)&&console.log(...t)}warn(...t){(Lt(this.options.level)?this.options.level.warn:this.options.level>=Nt)&&console.warn(...t)}error(...t){(Lt(this.options.level)?this.options.level.error:this.options.level>=xt)&&console.error(...t)}}class Mt{constructor(){this.metadata={},this.userID=null,this.sessionID=null,this.callbacks=[]}attachUpdateCallback(t){this.callbacks.push(t)}handleUpdate(t){null==t.userID&&delete t.userID,null==t.sessionID&&delete t.sessionID,this.callbacks.forEach(e=>e(t))}update(t){void 0!==t.userID&&(this.userID=t.userID),void 0!==t.metadata&&Object.entries(t.metadata).forEach(([t,e])=>this.metadata[t]=e),void 0!==t.sessionID&&(this.sessionID=t.sessionID),this.handleUpdate(t)}setMetadata(t,e){this.metadata[t]=e,this.handleUpdate({metadata:{[t]:e}})}setUserID(t){this.userID=t,this.handleUpdate({userID:t})}getInfo(){return{sessionID:this.sessionID,metadata:this.metadata,userID:this.userID}}reset(){this.metadata={},this.userID=null,this.sessionID=null}}const Pt=ot&&"performance"in window&&"memory"in performance?performance:{memory:{}},Dt=ot?1024*(navigator.deviceMemory||0):0,Ut=Pt.memory.jsHeapSizeLimit||0;const Ft=t=>({reason:t,success:!1});var qt;!function(t){t[t.NotActive=0]="NotActive",t[t.Starting=1]="Starting",t[t.Active=2]="Active"}(qt||(qt={}));class zt{constructor(t,e,n){this.messages=[],this.startCallbacks=[],this.stopCallbacks=[],this.commitCallbacks=[],this.activityState=qt.NotActive,this.version="3.5.15",this.projectKey=t,this.options=Object.assign({revID:"",node_id:"__openreplay_id",session_token_key:"__openreplay_token",session_pageno_key:"__openreplay_pageno",session_reset_key:"__openreplay_reset",local_uuid_key:"__openreplay_uuid",ingestPoint:"https://api.openreplay.com/ingest",resourceBaseHref:null,verbose:!1,__is_snippet:!1,__debug_report_edp:null,localStorage:window.localStorage,sessionStorage:window.sessionStorage},n),this.revID=this.options.revID,this.sanitizer=new Ot(this,n),this.nodes=new ht(this.options.node_id),this.observer=new _t(this,n),this.ticker=new It(this),this.ticker.attach(()=>this.commit()),this.debug=new At(this.options.__debug__),this.notify=new At(this.options.verbose?Nt:Rt),this.session=new Mt,this.session.attachUpdateCallback(({userID:t,metadata:e})=>{null!=t&&this.send(new j(t)),null!=e&&Object.entries(e).forEach(([t,e])=>this.send(new x(t,e)))}),this.localStorage=this.options.localStorage,this.sessionStorage=this.options.sessionStorage,null!=e&&this.sessionStorage.setItem(this.options.session_token_key,e);try{this.worker=new Worker(URL.createObjectURL(new Blob(['"use strict";function t(t){function i(...i){return new t(...i)}return i.prototype=t.prototype,i}const i=new Map;const s=t(class{constructor(t,i,s){this.pageNo=t,this.firstIndex=i,this.timestamp=s,this._id=80}encode(t){return t.uint(80)&&t.uint(this.pageNo)&&t.uint(this.firstIndex)&&t.int(this.timestamp)}});i.set(80,s);const e=t(class{constructor(t){this.timestamp=t,this._id=0}encode(t){return t.uint(0)&&t.uint(this.timestamp)}});i.set(0,e);const n=t(class{constructor(t,i,s){this.url=t,this.referrer=i,this.navigationStart=s,this._id=4}encode(t){return t.uint(4)&&t.string(this.url)&&t.string(this.referrer)&&t.uint(this.navigationStart)}});i.set(4,n);const r=t(class{constructor(t,i){this.width=t,this.height=i,this._id=5}encode(t){return t.uint(5)&&t.uint(this.width)&&t.uint(this.height)}});i.set(5,r);const h=t(class{constructor(t,i){this.x=t,this.y=i,this._id=6}encode(t){return t.uint(6)&&t.int(this.x)&&t.int(this.y)}});i.set(6,h);const o=t(class{constructor(){this._id=7}encode(t){return t.uint(7)}});i.set(7,o);const c=t(class{constructor(t,i,s,e,n){this.id=t,this.parentID=i,this.index=s,this.tag=e,this.svg=n,this._id=8}encode(t){return t.uint(8)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)&&t.string(this.tag)&&t.boolean(this.svg)}});i.set(8,c);const a=t(class{constructor(t,i,s){this.id=t,this.parentID=i,this.index=s,this._id=9}encode(t){return t.uint(9)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)}});i.set(9,a);const u=t(class{constructor(t,i,s){this.id=t,this.parentID=i,this.index=s,this._id=10}encode(t){return t.uint(10)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)}});i.set(10,u);const d=t(class{constructor(t){this.id=t,this._id=11}encode(t){return t.uint(11)&&t.uint(this.id)}});i.set(11,d);const l=t(class{constructor(t,i,s){this.id=t,this.name=i,this.value=s,this._id=12}encode(t){return t.uint(12)&&t.uint(this.id)&&t.string(this.name)&&t.string(this.value)}});i.set(12,l);const p=t(class{constructor(t,i){this.id=t,this.name=i,this._id=13}encode(t){return t.uint(13)&&t.uint(this.id)&&t.string(this.name)}});i.set(13,p);const g=t(class{constructor(t,i){this.id=t,this.data=i,this._id=14}encode(t){return t.uint(14)&&t.uint(this.id)&&t.string(this.data)}});i.set(14,g);const m=t(class{constructor(t,i,s){this.id=t,this.x=i,this.y=s,this._id=16}encode(t){return t.uint(16)&&t.uint(this.id)&&t.int(this.x)&&t.int(this.y)}});i.set(16,m);const f=t(class{constructor(t,i){this.id=t,this.label=i,this._id=17}encode(t){return t.uint(17)&&t.uint(this.id)&&t.string(this.label)}});i.set(17,f);const y=t(class{constructor(t,i,s){this.id=t,this.value=i,this.mask=s,this._id=18}encode(t){return t.uint(18)&&t.uint(this.id)&&t.string(this.value)&&t.int(this.mask)}});i.set(18,y);const _=t(class{constructor(t,i){this.id=t,this.checked=i,this._id=19}encode(t){return t.uint(19)&&t.uint(this.id)&&t.boolean(this.checked)}});i.set(19,_);const v=t(class{constructor(t,i){this.x=t,this.y=i,this._id=20}encode(t){return t.uint(20)&&t.uint(this.x)&&t.uint(this.y)}});i.set(20,v);const S=t(class{constructor(t,i){this.level=t,this.value=i,this._id=22}encode(t){return t.uint(22)&&t.string(this.level)&&t.string(this.value)}});i.set(22,S);const b=t(class{constructor(t,i,s,e,n,r,h,o,c){this.requestStart=t,this.responseStart=i,this.responseEnd=s,this.domContentLoadedEventStart=e,this.domContentLoadedEventEnd=n,this.loadEventStart=r,this.loadEventEnd=h,this.firstPaint=o,this.firstContentfulPaint=c,this._id=23}encode(t){return t.uint(23)&&t.uint(this.requestStart)&&t.uint(this.responseStart)&&t.uint(this.responseEnd)&&t.uint(this.domContentLoadedEventStart)&&t.uint(this.domContentLoadedEventEnd)&&t.uint(this.loadEventStart)&&t.uint(this.loadEventEnd)&&t.uint(this.firstPaint)&&t.uint(this.firstContentfulPaint)}});i.set(23,b);const w=t(class{constructor(t,i,s){this.speedIndex=t,this.visuallyComplete=i,this.timeToInteractive=s,this._id=24}encode(t){return t.uint(24)&&t.uint(this.speedIndex)&&t.uint(this.visuallyComplete)&&t.uint(this.timeToInteractive)}});i.set(24,w);const E=t(class{constructor(t,i,s){this.name=t,this.message=i,this.payload=s,this._id=25}encode(t){return t.uint(25)&&t.string(this.name)&&t.string(this.message)&&t.string(this.payload)}});i.set(25,E);const x=t(class{constructor(t,i){this.name=t,this.payload=i,this._id=27}encode(t){return t.uint(27)&&t.string(this.name)&&t.string(this.payload)}});i.set(27,x);const T=t(class{constructor(t){this.id=t,this._id=28}encode(t){return t.uint(28)&&t.string(this.id)}});i.set(28,T);const z=t(class{constructor(t){this.id=t,this._id=29}encode(t){return t.uint(29)&&t.string(this.id)}});i.set(29,z);const k=t(class{constructor(t,i){this.key=t,this.value=i,this._id=30}encode(t){return t.uint(30)&&t.string(this.key)&&t.string(this.value)}});i.set(30,k);const A=t(class{constructor(t,i,s){this.id=t,this.rule=i,this.index=s,this._id=37}encode(t){return t.uint(37)&&t.uint(this.id)&&t.string(this.rule)&&t.uint(this.index)}});i.set(37,A);const I=t(class{constructor(t,i){this.id=t,this.index=i,this._id=38}encode(t){return t.uint(38)&&t.uint(this.id)&&t.uint(this.index)}});i.set(38,I);const L=t(class{constructor(t,i,s,e,n,r,h){this.method=t,this.url=i,this.request=s,this.response=e,this.status=n,this.timestamp=r,this.duration=h,this._id=39}encode(t){return t.uint(39)&&t.string(this.method)&&t.string(this.url)&&t.string(this.request)&&t.string(this.response)&&t.uint(this.status)&&t.uint(this.timestamp)&&t.uint(this.duration)}});i.set(39,L);const C=t(class{constructor(t,i,s,e){this.name=t,this.duration=i,this.args=s,this.result=e,this._id=40}encode(t){return t.uint(40)&&t.string(this.name)&&t.uint(this.duration)&&t.string(this.args)&&t.string(this.result)}});i.set(40,C);const M=t(class{constructor(t,i){this.key=t,this.value=i,this._id=41}encode(t){return t.uint(41)&&t.string(this.key)&&t.string(this.value)}});i.set(41,M);const N=t(class{constructor(t){this.type=t,this._id=42}encode(t){return t.uint(42)&&t.string(this.type)}});i.set(42,N);const B=t(class{constructor(t,i,s){this.action=t,this.state=i,this.duration=s,this._id=44}encode(t){return t.uint(44)&&t.string(this.action)&&t.string(this.state)&&t.uint(this.duration)}});i.set(44,B);const U=t(class{constructor(t,i){this.mutation=t,this.state=i,this._id=45}encode(t){return t.uint(45)&&t.string(this.mutation)&&t.string(this.state)}});i.set(45,U);const R=t(class{constructor(t,i){this.type=t,this.payload=i,this._id=46}encode(t){return t.uint(46)&&t.string(this.type)&&t.string(this.payload)}});i.set(46,R);const O=t(class{constructor(t,i,s){this.action=t,this.state=i,this.duration=s,this._id=47}encode(t){return t.uint(47)&&t.string(this.action)&&t.string(this.state)&&t.uint(this.duration)}});i.set(47,O);const P=t(class{constructor(t,i,s,e){this.operationKind=t,this.operationName=i,this.variables=s,this.response=e,this._id=48}encode(t){return t.uint(48)&&t.string(this.operationKind)&&t.string(this.operationName)&&t.string(this.variables)&&t.string(this.response)}});i.set(48,P);const q=t(class{constructor(t,i,s,e){this.frames=t,this.ticks=i,this.totalJSHeapSize=s,this.usedJSHeapSize=e,this._id=49}encode(t){return t.uint(49)&&t.int(this.frames)&&t.int(this.ticks)&&t.uint(this.totalJSHeapSize)&&t.uint(this.usedJSHeapSize)}});i.set(49,q);const D=t(class{constructor(t,i,s,e,n,r,h,o){this.timestamp=t,this.duration=i,this.ttfb=s,this.headerSize=e,this.encodedBodySize=n,this.decodedBodySize=r,this.url=h,this.initiator=o,this._id=53}encode(t){return t.uint(53)&&t.uint(this.timestamp)&&t.uint(this.duration)&&t.uint(this.ttfb)&&t.uint(this.headerSize)&&t.uint(this.encodedBodySize)&&t.uint(this.decodedBodySize)&&t.string(this.url)&&t.string(this.initiator)}});i.set(53,D);const W=t(class{constructor(t,i){this.downlink=t,this.type=i,this._id=54}encode(t){return t.uint(54)&&t.uint(this.downlink)&&t.string(this.type)}});i.set(54,W);const H=t(class{constructor(t){this.hidden=t,this._id=55}encode(t){return t.uint(55)&&t.boolean(this.hidden)}});i.set(55,H);const J=t(class{constructor(t,i,s,e,n,r,h){this.timestamp=t,this.duration=i,this.context=s,this.containerType=e,this.containerSrc=n,this.containerId=r,this.containerName=h,this._id=59}encode(t){return t.uint(59)&&t.uint(this.timestamp)&&t.uint(this.duration)&&t.uint(this.context)&&t.uint(this.containerType)&&t.string(this.containerSrc)&&t.string(this.containerId)&&t.string(this.containerName)}});i.set(59,J);const F=t(class{constructor(t,i,s,e){this.id=t,this.name=i,this.value=s,this.baseURL=e,this._id=60}encode(t){return t.uint(60)&&t.uint(this.id)&&t.string(this.name)&&t.string(this.value)&&t.string(this.baseURL)}});i.set(60,F);const X=t(class{constructor(t,i,s){this.id=t,this.data=i,this.baseURL=s,this._id=61}encode(t){return t.uint(61)&&t.uint(this.id)&&t.string(this.data)&&t.string(this.baseURL)}});i.set(61,X);const G=t(class{constructor(t,i){this.type=t,this.value=i,this._id=63}encode(t){return t.uint(63)&&t.string(this.type)&&t.string(this.value)}});i.set(63,G);const K=t(class{constructor(t,i){this.name=t,this.payload=i,this._id=64}encode(t){return t.uint(64)&&t.string(this.name)&&t.string(this.payload)}});i.set(64,K);const j=t(class{constructor(){this._id=65}encode(t){return t.uint(65)}});i.set(65,j);const Q=t(class{constructor(t,i,s,e){this.id=t,this.rule=i,this.index=s,this.baseURL=e,this._id=67}encode(t){return t.uint(67)&&t.uint(this.id)&&t.string(this.rule)&&t.uint(this.index)&&t.string(this.baseURL)}});i.set(67,Q);const V=t(class{constructor(t,i,s,e){this.id=t,this.hesitationTime=i,this.label=s,this.selector=e,this._id=69}encode(t){return t.uint(69)&&t.uint(this.id)&&t.uint(this.hesitationTime)&&t.string(this.label)&&t.string(this.selector)}});i.set(69,V);const Y=t(class{constructor(t,i){this.frameID=t,this.id=i,this._id=70}encode(t){return t.uint(70)&&t.uint(this.frameID)&&t.uint(this.id)}});i.set(70,Y);class Z{constructor(t,i,s,e=10,n=1e3){this.onUnauthorised=i,this.onFailure=s,this.MAX_ATTEMPTS_COUNT=e,this.ATTEMPT_TIMEOUT=n,this.attemptsCount=0,this.busy=!1,this.queue=[],this.token=null,this.ingestURL=t+"/v1/web/i"}authorise(t){this.token=t}push(t){this.busy||!this.token?this.queue.push(t):this.sendBatch(t)}retry(t){this.attemptsCount>=this.MAX_ATTEMPTS_COUNT?this.onFailure():(this.attemptsCount++,setTimeout(()=>this.sendBatch(t),this.ATTEMPT_TIMEOUT*this.attemptsCount))}sendBatch(t){this.busy=!0,fetch(this.ingestURL,{body:t,method:"POST",headers:{Authorization:"Bearer "+this.token},keepalive:t.length<65536}).then(i=>{if(401===i.status)return this.busy=!1,void this.onUnauthorised();if(i.status>=400)return void this.retry(t);this.attemptsCount=0;const s=this.queue.shift();s?this.sendBatch(s):this.busy=!1}).catch(i=>{console.warn("OpenReplay:",i),this.retry(t)})}clean(){this.queue.length=0}}const tt="function"==typeof TextEncoder?new TextEncoder:{encode(t){const i=t.length,s=new Uint8Array(3*i);let e=-1;for(var n=0,r=0,h=0;h!==i;){if(n=t.charCodeAt(h),h+=1,n>=55296&&n<=56319){if(h===i){s[e+=1]=239,s[e+=1]=191,s[e+=1]=189;break}if(!((r=t.charCodeAt(h))>=56320&&r<=57343)){s[e+=1]=239,s[e+=1]=191,s[e+=1]=189;continue}if(h+=1,(n=1024*(n-55296)+r-56320+65536)>65535){s[e+=1]=240|n>>>18,s[e+=1]=128|n>>>12&63,s[e+=1]=128|n>>>6&63,s[e+=1]=128|63&n;continue}}n<=127?s[e+=1]=0|n:n<=2047?(s[e+=1]=192|n>>>6,s[e+=1]=128|63&n):(s[e+=1]=224|n>>>12,s[e+=1]=128|n>>>6&63,s[e+=1]=128|63&n)}return s.subarray(0,e+1)}};class it{constructor(t){this.size=t,this.offset=0,this.checkpointOffset=0,this.data=new Uint8Array(t)}checkpoint(){this.checkpointOffset=this.offset}isEmpty(){return 0===this.offset}boolean(t){return this.data[this.offset++]=+t,this.offset<=this.size}uint(t){for((t<0||t>Number.MAX_SAFE_INTEGER)&&(t=0);t>=128;)this.data[this.offset++]=t%256|128,t=Math.floor(t/128);return this.data[this.offset++]=t,this.offset<=this.size}int(t){return t=Math.round(t),this.uint(t>=0?2*t:-2*t-1)}string(t){const i=tt.encode(t),s=i.byteLength;return!(!this.uint(s)||this.offset+s>this.size)&&(this.data.set(i,this.offset),this.offset+=s,!0)}reset(){this.offset=0,this.checkpointOffset=0}flush(){const t=this.data.slice(0,this.checkpointOffset);return this.reset(),t}}class st{constructor(t,i,s){this.pageNo=t,this.timestamp=i,this.onBatch=s,this.nextIndex=0,this.beaconSize=2e5,this.writer=new it(this.beaconSize),this.isEmpty=!0,this.beaconSizeLimit=1e6,this.prepare()}prepare(){this.writer.isEmpty()&&new s(this.pageNo,this.nextIndex,this.timestamp).encode(this.writer)}write(t){const i=t.encode(this.writer);return i&&(this.isEmpty=!1,this.writer.checkpoint(),this.nextIndex++),i}setBeaconSizeLimit(t){this.beaconSizeLimit=t}writeMessage(t){for(t instanceof e&&(this.timestamp=t.timestamp);!this.write(t);){if(this.finaliseBatch(),this.beaconSize===this.beaconSizeLimit)return console.warn("OpenReplay: beacon size overflow. Skipping large message."),this.writer.reset(),this.prepare(),void(this.isEmpty=!0);this.beaconSize=Math.min(2*this.beaconSize,this.beaconSizeLimit),this.writer=new it(this.beaconSize),this.prepare(),this.isEmpty=!0}}finaliseBatch(){this.isEmpty||(this.onBatch(this.writer.flush()),this.prepare(),this.isEmpty=!0)}clean(){this.writer.reset()}}var et;!function(t){t[t.NotActive=0]="NotActive",t[t.Starting=1]="Starting",t[t.Stopping=2]="Stopping",t[t.Active=3]="Active"}(et||(et={}));let nt=null,rt=null,ht=et.NotActive;function ot(){rt&&rt.finaliseBatch()}function ct(){ht=et.Stopping,null!==ut&&(clearInterval(ut),ut=null),rt&&(rt.clean(),rt=null),ht=et.NotActive}let at,ut=null;self.onmessage=({data:t})=>{if(null!=t){if("stop"===t)return ot(),void ct();if(Array.isArray(t)){if(!rt)throw new Error("WebWorker: writer not initialised. Service Should be Started.");const s=rt;t.forEach(t=>{const e=new(i.get(t._id));Object.assign(e,t),e instanceof H&&(e.hidden?at=setTimeout(()=>self.postMessage("restart"),18e5):clearTimeout(at)),s.writeMessage(e)})}else{if("start"===t.type)return ht=et.Starting,nt=new Z(t.ingestPoint,()=>{self.postMessage("restart")},()=>{nt&&(nt.clean(),nt=null),ct(),self.postMessage("failed")},t.connAttemptCount,t.connAttemptGap),rt=new st(t.pageNo,t.timestamp,t=>nt&&nt.push(t)),null===ut&&(ut=setInterval(ot,1e4)),ht=et.Active;if("auth"===t.type){if(!nt)throw new Error("WebWorker: sender not initialised. Received auth.");if(!rt)throw new Error("WebWorker: writer not initialised. Received auth.");return nt.authorise(t.token),void(t.beaconSizeLimit&&rt.setBeaconSizeLimit(t.beaconSizeLimit))}}}else ot()};\n'],{type:"text/javascript"}))),this.worker.onerror=t=>{this._debug("webworker_error",t)},this.worker.onmessage=({data:t})=>{"failed"===t?(this.stop(),this._debug("worker_failed",{})):"restart"===t&&(this.stop(),this.start({forceNew:!0}))};const t=()=>{this.worker&&this.worker.postMessage(null)};this.attachEventListener(window,"beforeunload",t,!1),this.attachEventListener(document.body,"mouseleave",t,!1,!1),this.attachEventListener(document,"visibilitychange",t,!1)}catch(t){this._debug("worker_start",t)}}_debug(t,e){null!==this.options.__debug_report_edp&&fetch(this.options.__debug_report_edp,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({context:t,error:""+e})}),this.debug.error("OpenReplay error: ",t,e)}send(t,e=!1){this.activityState!==qt.NotActive&&(this.messages.push(t),this.activityState===qt.Active&&e&&this.commit())}commit(){this.worker&&this.messages.length&&(this.messages.unshift(new a(nt())),this.worker.postMessage(this.messages),this.commitCallbacks.forEach(t=>t(this.messages)),this.messages.length=0)}safe(t){const e=this;return function(...n){try{t.apply(this,n)}catch(t){e._debug("safe_fn_call",t)}}}attachCommitCallback(t){this.commitCallbacks.push(t)}attachStartCallback(t){this.startCallbacks.push(t)}attachStopCallback(t){this.stopCallbacks.push(t)}attachEventListener(t,e,n,s=!0,i=!0){s&&(n=this.safe(n)),this.attachStartCallback(()=>t.addEventListener(e,n,i)),this.attachStopCallback(()=>t.removeEventListener(e,n,i))}checkRequiredVersion(t){const e=t.split(/[.-]/),n=this.version.split(/[.-]/);for(let t=0;t<3;t++)if(Number(n[t])<Number(e[t])||isNaN(Number(n[t]))||isNaN(Number(e[t])))return!1;return!0}getStartInfo(){return{userUUID:this.localStorage.getItem(this.options.local_uuid_key),projectKey:this.projectKey,revID:this.revID,timestamp:nt(),trackerVersion:this.version,isSnippet:this.options.__is_snippet}}getSessionInfo(){return Object.assign(Object.assign({},this.session.getInfo()),this.getStartInfo())}getSessionToken(){const t=this.sessionStorage.getItem(this.options.session_token_key);if(null!==t)return t}getSessionID(){return this.session.getInfo().sessionID||void 0}getHost(){return new URL(this.options.ingestPoint).hostname}getProjectKey(){return this.projectKey}getBaseHref(){var t,e;return"string"==typeof this.options.resourceBaseHref?this.options.resourceBaseHref:(this.options.resourceBaseHref,document.baseURI?document.baseURI:(null===(e=null===(t=document.head)||void 0===t?void 0:t.getElementsByTagName("base")[0])||void 0===e?void 0:e.getAttribute("href"))||location.origin+location.pathname)}resolveResourceURL(t){const e=new URL(this.getBaseHref());return e.pathname+="/"+new URL(t).pathname,e.pathname.replace(/\/+/g,"/"),e.toString()}isServiceURL(t){return t.startsWith(this.options.ingestPoint)}active(){return this.activityState===qt.Active}resetNextPageSession(t){t?this.sessionStorage.setItem(this.options.session_reset_key,"t"):this.sessionStorage.removeItem(this.options.session_reset_key)}_start(t){if(!this.worker)return Promise.resolve(Ft("No worker found: perhaps, CSP is not set."));if(this.activityState!==qt.NotActive)return Promise.resolve(Ft("OpenReplay: trying to call `start()` on the instance that has been started already."));this.activityState=qt.Starting;let e=0;const n=this.sessionStorage.getItem(this.options.session_pageno_key);null!=n&&(e=parseInt(n),e++),this.sessionStorage.setItem(this.options.session_pageno_key,e.toString());const s=this.getStartInfo(),i={type:"start",pageNo:e,ingestPoint:this.options.ingestPoint,timestamp:s.timestamp,connAttemptCount:this.options.connAttemptCount,connAttemptGap:this.options.connAttemptGap};this.worker.postMessage(i),this.session.update({metadata:t.metadata||this.session.getInfo().metadata,userID:t.userID});const r=this.sessionStorage.getItem(this.options.session_reset_key);return this.sessionStorage.removeItem(this.options.session_reset_key),window.fetch(this.options.ingestPoint+"/v1/web/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.assign(Object.assign({},s),{userID:this.session.getInfo().userID,token:this.sessionStorage.getItem(this.options.session_token_key),deviceMemory:Dt,jsHeapSizeLimit:Ut,reset:t.forceNew||null!==r}))}).then(t=>200===t.status?t.json():t.text().then(e=>"canceled"===e?Promise.reject("canceled"):Promise.reject(`Server error: ${t.status}. ${e}`))).then(t=>{if(!this.worker)return Promise.reject("no worker found after start request (this might not happen)");const{token:e,userUUID:n,sessionID:s,beaconSizeLimit:i}=t;if("string"!=typeof e||"string"!=typeof n||"number"!=typeof i&&void 0!==i)return Promise.reject("Incorrect server response: "+JSON.stringify(t));this.sessionStorage.setItem(this.options.session_token_key,e),this.localStorage.setItem(this.options.local_uuid_key,n),this.session.update({sessionID:s});const r={type:"auth",token:e,beaconSizeLimit:i};this.worker.postMessage(r),this.activityState=qt.Active;const o={sessionToken:e,userUUID:n,sessionID:s};return this.startCallbacks.forEach(t=>t(o)),this.observer.observe(),this.ticker.start(),this.notify.log("OpenReplay tracking started."),"function"==typeof this.options.onStart&&this.options.onStart(o),a=o,Object.assign(Object.assign({},a),{success:!0});var a}).catch(t=>(this.sessionStorage.removeItem(this.options.session_token_key),this.stop(),"canceled"===t?Ft("canceled"):(this.notify.log("OpenReplay was unable to start. ",t),this._debug("session_start",t),Ft(":("))))}start(t={}){return document.hidden?new Promise(e=>{const n=()=>{document.hidden||(document.removeEventListener("visibilitychange",n),e(this._start(t)))};document.addEventListener("visibilitychange",n)}):this._start(t)}stop(t=!1){if(this.activityState!==qt.NotActive)try{this.sanitizer.clear(),this.observer.disconnect(),this.nodes.clear(),this.ticker.stop(),this.stopCallbacks.forEach(t=>t()),t&&this.session.reset(),this.notify.log("OpenReplay tracking stopped."),this.worker&&this.worker.postMessage("stop")}finally{this.activityState=qt.NotActive}}}const Bt=ot&&"InstallTrigger"in window?t=>t.message+"\n"+t.stack:t=>t.stack||t.message;function Ht(t){return void 0===t?"undefined":null===t?"null":t instanceof Error?Bt(t):Array.isArray(t)?`Array(${t.length})`:String(t)}function Wt(t){if(void 0===t)return"undefined";if(null===t)return"null";if(t instanceof Error)return Bt(t);if(Array.isArray(t)){return`Array(${t.length})[${t.slice(0,10).map(Ht).join(", ")}]`}if("object"==typeof t){const e=[];let n=0;for(const s in t){if(10==++n)break;const i=t[s];e.push(s+": "+Ht(i))}return"{"+e.join(", ")+"}"}return t.toString()}function Vt(t){return"string"==typeof t[0]&&t.unshift(t.shift().replace(/%(o|s|f|d|i)/g,(e,n)=>{const s=t.shift();if(void 0===s)return e;switch(n){case"o":return Wt(s);case"s":return Ht(s);case"f":return function(t){return"number"!=typeof t?"NaN":t.toString()}(s);case"d":case"i":return function(t){return"number"!=typeof t?"NaN":Math.floor(t).toString()}(s);default:return e}})),t.map(Wt).join(" ")}const Kt=["log","info","warn","error","debug","assert"];var Gt=n("Eo+U"),Jt=n.n(Gt);function $t(t){return[{columnNumber:t.colno,lineNumber:t.lineno,fileName:t.filename,functionName:"",source:""}]}function Xt(t,e){let n=e;try{n=Jt.a.parse(t)}catch(t){}return new I(t.name,t.message,JSON.stringify(n))}function Zt(t){if(t instanceof ErrorEvent){if(t.error instanceof Error)return Xt(t.error,$t(t));{let[e,n]=t.message.split(":");return n||(e="Error",n=t.message),new I(e,n,JSON.stringify($t(t)))}}if("PromiseRejectionEvent"in window&&t instanceof PromiseRejectionEvent){if(t.reason instanceof Error)return Xt(t.reason,[]);{let e;try{e=JSON.stringify(t.reason)}catch(n){e=String(t.reason)}return new I("Unhandled Promise Rejection",e,"[]")}}return null}function Yt(t,e=document.location){return(t=t.trim()).startsWith("/")?e.origin+t:t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:")?t:e.origin+e.pathname+t}var Qt=function(t){const e=t.safe((function(){const e=t.nodes.getID(this);if(void 0===e)return;const{src:n,complete:s,naturalWidth:i,naturalHeight:r,srcset:o}=this;if(!s)return;const a=Yt(n||"");if(0===i&&0===r)rt(a)&&t.send(new W(nt(),0,0,0,0,0,a,"img"));else if(a.length>=1e5||t.sanitizer.isMasked(e))!function(e,n){t.send(new g(e,"src","https://static.openreplay.com/tracker/placeholder.jpeg"));const{width:s,height:i}=n.getBoundingClientRect();n.hasAttribute("width")||t.send(new g(e,"width",String(s))),n.hasAttribute("height")||t.send(new g(e,"height",String(i)))}(e,this);else if(t.send(new g(e,"src",a)),o){const n=o.split(",").map(t=>Yt(t)).join(",");t.send(new g(e,"srcset",n))}})),n=new MutationObserver(e=>{for(const n of e)if("attributes"===n.type){const e=n.target,s=t.nodes.getID(e);if(void 0===s)return;if("src"===n.attributeName){const n=e.src;t.send(new J(s,"src",n,t.getBaseHref()))}if("srcset"===n.attributeName){const n=e.srcset;t.send(new g(s,"srcset",n))}}});t.nodes.attachNodeCallback(s=>{vt(s,"IMG")&&(t.nodes.attachElementListener("error",s,e),t.nodes.attachElementListener("load",s,e),e.call(s),n.observe(s,{attributes:!0,attributeFilter:["src","srcset"]}))})};const te=["text","password","email","search","number","range","date"];function ee(t){return!!vt(t,"TEXTAREA")||!!vt(t,"INPUT")&&te.includes(t.type)}function ne(t){if(!vt(t,"INPUT"))return!1;const e=t.type;return"checkbox"===e||"radio"===e}const se=ot&&"labels"in HTMLInputElement.prototype?t=>{let e=t;for(;null!==(e=e.parentNode);)if(vt(e,"LABEL"))return e;const n=t.labels;if(null!==n&&1===n.length)return n[0]}:t=>{let e=t;for(;null!==(e=e.parentNode);)if(vt(e,"LABEL"))return e;const n=t.id;if(n){const t=document.querySelectorAll('label[for="'+n+'"]');if(null!==t&&1===t.length)return t[0]}};function ie(t){let e=lt(t);if(null===e){const n=se(t);e=n&&n.innerText||t.placeholder||t.name||t.id||t.className||t.type}return it(e).slice(0,100)}var re=function(t,e){const n=Object.assign({obscureInputNumbers:!0,obscureInputEmails:!0,defaultInputMode:0,obscureInputDates:!1},e);function s(e,s){let i=s.value,r=n.defaultInputMode;"password"===s.type||dt(s,"hidden")?r=2:(dt(s,"obscured")||0===r&&(n.obscureInputNumbers&&"date"!==s.type&&/\d\d\d\d/.test(i)||n.obscureInputDates&&"date"===s.type||n.obscureInputEmails&&("email"===s.type||~i.indexOf("@"))))&&(r=1);let o=0;switch(r){case 2:o=-1,i="";break;case 1:o=i.length,i=""}t.send(new C(e,i,o))}const i=new Map,r=new Map,o=new Set;t.attachStopCallback(()=>{i.clear(),r.clear(),o.clear()}),t.ticker.attach(()=>{i.forEach((e,n)=>{const r=t.nodes.getNode(n);ee(r)?e!==r.value&&(i.set(n,r.value),o.has(n)||(o.add(n),function(e,n){const s=ie(n);""!==s&&t.send(new w(e,s))}(n,r)),s(n,r)):i.delete(n)}),r.forEach((e,n)=>{const s=t.nodes.getNode(n);ne(s)?e!==s.checked&&(r.set(n,s.checked),t.send(new k(n,s.checked))):r.delete(n)})}),t.ticker.attach(Set.prototype.clear,100,!1,o),t.nodes.attachNodeCallback(t.safe(e=>{const n=t.nodes.getID(e);if(void 0!==n)return vt(e,"SELECT")&&(s(n,e),t.attachEventListener(e,"change",()=>{s(n,e)})),ee(e)?(i.set(n,e.value),void s(n,e)):ne(e)?(r.set(n,e.checked),void t.send(new k(n,e.checked))):void 0}))};function oe(t){const e=t.tagName.toUpperCase();return"BUTTON"===e||"A"===e||"LI"===e||"SELECT"===e||null!=t.onclick||"button"===t.getAttribute("role")}function ae(t){return t instanceof Element?function(t){let e=t;for(;null!==e&&e!==document.documentElement;){if(dt(e,"masked"))return null;e=e.parentElement}if(pt(t)){let e=t.ownerSVGElement;for(;null!==e;)t=e,e=e.ownerSVGElement}e=t;for(;null!==e&&e!==document.documentElement;){const t=e.tagName.toUpperCase();if("LABEL"===t)return null;if("INPUT"===t)return e;if(oe(e)||null!==lt(e))return e;e=e.parentElement}return t===document.documentElement?null:t}(t):null}var ce=function(t){let e=-1,n=-1,s=!1,i=null,r=0;t.attachStopCallback(()=>{e=-1,n=-1,s=!1,i=null});const o=()=>{s&&(t.send(new E(e,n)),s=!1)},a={};function c(t,e){return a[t]=a[t]||function(t){let e=t,n=null;do{if(e.id)return"#"+e.id+(n?" > "+n:"");if(n=e.className.split(" ").map(t=>t.trim()).filter(t=>""!==t).reduce((t,e)=>`${t}.${e}`,e.tagName.toLowerCase())+(n?" > "+n:""),e===document.body)return n;e=e.parentElement}while(e!==document.body&&null!==e);return n}(e)}t.attachEventListener(document.documentElement,"mouseover",t=>{const e=ae(t.target);e!==i&&(i=e,r=performance.now())}),t.attachEventListener(document,"mousemove",t=>{e=t.clientX,n=t.clientY,s=!0},!1),t.attachEventListener(document,"click",e=>{const n=ae(e.target);if(!e.clientX&&!e.clientY||null===n)return;const s=t.nodes.getID(n);void 0!==s&&(o(),t.send(new tt(s,i===n?Math.round(performance.now()-r):0,function(e){const n=lt(e);if(null!==n)return n;if(vt(e,"INPUT"))return ie(e);if(oe(e)){let n="";return e instanceof HTMLElement&&(n=t.sanitizer.getInnerTextSecure(e)),n=n||e.id||e.className,it(n).slice(0,100)}return""}(n),c(s,n)),!0)),i=null}),t.ticker.attach(o,10)};var ue=function(t,e){const n=Object.assign({captureResourceTimings:!0,capturePageLoadTimings:!0,capturePageRenderTimings:!0},e);if("PerformanceObserver"in window||(n.captureResourceTimings=!1),!n.captureResourceTimings)return;let s={};function i(e){e.duration<0||!rt(e.name)||t.isServiceURL(e.name)||(null!==s&&(s[e.name]=e.startTime+e.duration),t.send(new W(e.startTime+performance.timing.navigationStart,e.duration,e.responseStart&&e.startTime?e.responseStart-e.startTime:0,e.transferSize>e.encodedBodySize?e.transferSize-e.encodedBodySize:0,e.encodedBodySize||0,e.decodedBodySize||0,e.name,e.initiatorType)))}const r=new PerformanceObserver(t=>t.getEntries().forEach(i));let o;t.attachStartCallback((function({sessionID:t}){t!==o&&(performance.getEntriesByType("resource").forEach(i),o=t),r.observe({entryTypes:["resource"]})})),t.attachStopCallback((function(){r.disconnect()}));let a=0,c=0;if(n.capturePageLoadTimings){let e=!1;t.ticker.attach(()=>{if(!e&&(0!==a&&0!==c||performance.getEntriesByType("paint").forEach(t=>{const{name:e,startTime:n}=t;switch(e){case"first-paint":a=n;break;case"first-contentful-paint":c=n}}),performance.timing.loadEventEnd||performance.now()>3e4)){e=!0;const{navigationStart:n,requestStart:s,responseStart:i,responseEnd:r,domContentLoadedEventStart:o,domContentLoadedEventEnd:u,loadEventStart:l,loadEventEnd:d}=performance.timing;t.send(new _(s-n||0,i-n||0,r-n||0,o-n||0,u-n||0,l-n||0,d-n||0,a,c))}},30)}if(n.capturePageRenderTimings){let e=0,n=0,i=0,r=null,o=!1;t.ticker.attach(()=>{if(o)return;const u=performance.now();if(null!==s&&(e=Math.max.apply(null,Object.keys(s).map(t=>s[t])),u-e>1e3&&(r=function(t){const e=[],n=document.getElementsByTagName("*"),s=/url\(("[^"]*"|'[^']*'|[^)]*)\)/i;for(let i=0;i<n.length;i++){const r=n[i];let o="";if(vt(r,"IMG")&&(o=r.currentSrc||r.src),!o){const t=getComputedStyle(r).getPropertyValue("background-image");if(t){const e=s.exec(t);null!==e&&(o=e[1],(o.startsWith('"')||o.startsWith("'"))&&(o=o.substr(1,o.length-2)))}}if(!o)continue;const a="data:image"===o.substr(0,10)?0:t[o];if(void 0===a)continue;const c=r.getBoundingClientRect(),u=Math.max(c.top,0),l=Math.max(c.left,0),d=Math.min(c.bottom,window.innerHeight||document.documentElement&&document.documentElement.clientHeight||0),h=Math.min(c.right,window.innerWidth||document.documentElement&&document.documentElement.clientWidth||0);if(d<=u||h<=l)continue;const p=(d-u)*(h-l);e.push({time:a,area:p})}return e}(s),s=null)),null!==i&&(u-i>50&&(n=u),i=u-n>5e3?null:u),null!==r&&null===i||u>3e4){o=!0,s=null;const u=null===r?0:function(t,e){let n=Math.max(document.documentElement&&document.documentElement.clientWidth||0,window.innerWidth||0)*Math.max(document.documentElement&&document.documentElement.clientHeight||0,window.innerHeight||0)/10,s=n*t;for(let i=0;i<e.length;i++){const{time:r,area:o}=e[i];n+=o,s+=o*(r>t?r:t)}return 0===n?0:s/n}(c||a,r),l=null===i?Math.max(n,c,performance.timing.domContentLoadedEventEnd-performance.timing.navigationStart||0):0;t.send(new O(u,c>e?c:e,l))}})}};const le=s,de="/installation/setup-or";class he{constructor(t){if(this.options=t,this.app=null,this.handleError=t=>{if(null!==this.app)if(t instanceof Error)this.app.send(Xt(t,[]));else if(t instanceof ErrorEvent||"PromiseRejectionEvent"in window&&t instanceof PromiseRejectionEvent){const e=Zt(t);null!=e&&this.app.send(e)}},!ot||!function(t){if(null==t)return console.error(`OpenReplay: invalid options argument type. Please, check documentation on ${at}${de}`),!1;if("string"!=typeof t.projectKey)if("number"!=typeof t.projectKey){if("number"!=typeof t.projectID)return console.error(`OpenReplay: projectKey is missing or wrong type (string is expected). Please, check ${at}${de} for more information.`),!1;t.projectKey=t.projectID.toString(),ut("`projectID` option","`projectKey` option",de)}else console.warn("OpenReplay: projectKey is expected to have a string type."),t.projectKey=t.projectKey.toString();return"string"!=typeof t.sessionToken&&null!=t.sessionToken&&console.warn(`OpenReplay: invalid options argument type. Please, check documentation on ${at}${de}`),!0}(t))return;if(window.__OPENREPLAY__)return void console.error("OpenReplay: one tracker instance has been initialised already");if(!t.__DISABLE_SECURE_MODE&&"https:"!==location.protocol)return void console.error("OpenReplay: Your website must be publicly accessible and running on SSL in order for OpenReplay to properly capture and replay the user session. You can disable this check by setting `__DISABLE_SECURE_MODE` option to `true` if you are testing in localhost. Keep in mind, that asset files on a local machine are not available to the outside world. This might affect tracking if you use css files.");const e=t.respectDoNotTrack&&("1"==navigator.doNotTrack||"1"==window.doNotTrack),n=this.app=!e&&"Map"in window&&"Set"in window&&"MutationObserver"in window&&"performance"in window&&"timing"in performance&&"startsWith"in String.prototype&&"Blob"in window&&"Worker"in window?new zt(t.projectKey,t.sessionToken,t):null;if(null!==n){if(function(t){let e,n,s,i=performance.timing.navigationStart;const r=t.safe(()=>{const{URL:n}=document;n!==e&&(e=n,t.send(new c(e,document.referrer,i)),i=0)}),o=t.safe(()=>{const{innerWidth:e,innerHeight:i}=window;e===n&&i===s||(n=e,s=i,t.send(new u(n,s)))}),a=void 0===document.hidden?Function.prototype:t.safe(()=>t.send(new K(document.hidden)));t.attachStartCallback(()=>{e="",n=s=-1,r(),o(),a()}),void 0!==document.hidden&&t.attachEventListener(document,"visibilitychange",a,!1,!1),t.ticker.attach(r,1,!1),t.ticker.attach(o,5,!1)}(n),function(t){if(null===t)return;if(!window.CSSStyleSheet)return void t.send(new X("no_stylesheet_prototype_in_window",""));const e=t.safe((e,n,s)=>{const i="string"==typeof s?e=>t.send(new Q(e,s,n,t.getBaseHref())):e=>t.send(new L(e,n));if(null==e.ownerNode)throw new Error("Owner Node not found");const r=t.nodes.getID(e.ownerNode);void 0!==r&&i(r)}),{insertRule:n,deleteRule:s}=CSSStyleSheet.prototype;CSSStyleSheet.prototype.insertRule=function(t,s=0){return e(this,s,t),n.call(this,t,s)},CSSStyleSheet.prototype.deleteRule=function(t){return e(this,t),s.call(this,t)},t.nodes.attachNodeCallback(t=>{if(!vt(t,"STYLE")||!t.sheet)return;if(null!==t.textContent&&t.textContent.trim().length>0)return;const n=t.sheet.cssRules;for(let s=0;s<n.length;s++)e(t.sheet,s,n[s].cssText)})}(n),function(t){const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(void 0===e)return;const n=()=>t.send(new V(Math.round(1e3*e.downlink),e.type||"unknown"));n(),e.addEventListener("change",n)}(n),function(t,e){const n=Object.assign({consoleMethods:Kt,consoleThrottling:30},e);if(!Array.isArray(n.consoleMethods)||0===n.consoleMethods.length)return;const s=t.safe((e,n)=>t.send(new S(e,Vt(n))));let i;const r=()=>{i=0};t.attachStartCallback(r),t.ticker.attach(r,33,!1);const o=t=>n.consoleMethods.forEach(e=>{if(-1===Kt.indexOf(e))return void t.error(`OpenReplay: unsupported console method "${e}"`);const r=t[e];t[e]=function(...t){r.apply(this,t),i++>n.consoleThrottling||s(e,t)}});o(window.console),t.nodes.attachNodeCallback(t.safe(e=>{if(vt(e,"IFRAME")){let n=e.contentWindow;n&&o(n.console),t.attachEventListener(e,"load",()=>{e.contentWindow!==n&&(n=e.contentWindow,o(n.console))})}}))}(n,t),function(t,e){if(Object.assign({captureExceptions:!0},e).captureExceptions){const e=e=>{const n=Zt(e);null!=n&&t.send(n)};t.attachEventListener(window,"unhandledrejection",t=>e(t)),t.attachEventListener(window,"error",t=>e(t))}}(n,t),Qt(n),re(n,t),ce(n),ue(n,t),function(t,e){if(!Object.assign({capturePerformance:!0},e).capturePerformance)return;let n,s;const i=()=>{void 0!==n&&-1!==n&&(n++,requestAnimationFrame(i))};t.ticker.attach(()=>{void 0!==s&&-1!==s&&s++},0,!1);const r=()=>{void 0!==n&&void 0!==s&&(t.send(new H(n,s,Pt.memory.totalJSHeapSize||0,Pt.memory.usedJSHeapSize||0)),s=n=document.hidden?-1:0)};t.attachStartCallback(()=>{s=n=-1,r(),i()}),t.attachStopCallback(()=>{s=n=void 0}),t.ticker.attach(r,40,!1),void 0!==document.hidden&&t.attachEventListener(document,"visibilitychange",r,!1,!1)}(n,t),function(t){let e=!1;const n=new Map,s=t.safe(()=>t.send(new l(window.pageXOffset||document.documentElement&&document.documentElement.scrollLeft||document.body&&document.body.scrollLeft||0,window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop||0))),i=t.safe((e,n)=>{const s=t.nodes.getID(n);void 0!==s&&t.send(new y(s,e[0],e[1]))});t.attachStartCallback(s),t.attachStopCallback(()=>{e=!1,n.clear()}),t.nodes.attachNodeCallback((t,e)=>{e&&ft(t)&&t.scrollLeft+t.scrollTop>0&&n.set(t,[t.scrollLeft,t.scrollTop])}),t.attachEventListener(window,"scroll",t=>{const s=t.target;s!==document?s instanceof Element&&n.set(s,[s.scrollLeft,s.scrollTop]):e=!0}),t.ticker.attach(()=>{e&&(s(),e=!1),n.forEach(i),n.clear()},5,!1)}(n),window.__OPENREPLAY__=this,t.autoResetOnWindowOpen){const t=window.open;n.attachStartCallback(()=>{window.open=function(...e){n.resetNextPageSession(!0),t.call(window,...e),n.resetNextPageSession(!1)}}),n.attachStopCallback(()=>{window.open=t})}}else{console.log("OpenReplay: browser doesn't support API required for tracking or doNotTrack is set to 1.");const n=new XMLHttpRequest,s=t.ingestPoint||"https://api.openreplay.com/ingest";n.open("POST",s+"/v1/web/not-started"),n.send(JSON.stringify({trackerVersion:"3.5.15",projectKey:t.projectKey,doNotTrack:e}))}}use(t){return t(this.app,this.options)}isActive(){return null!==this.app&&this.app.active()}start(t){return ot?null===this.app?Promise.reject("Browser doesn't support required api, or doNotTrack is active."):this.app.start(t):(console.error(`OpenReplay: you are trying to start Tracker on a node.js environment. If you want to use OpenReplay with SSR, please, use componentDidMount or useEffect API for placing the \`tracker.start()\` line. Check documentation on ${at}${de}`),Promise.reject("Trying to start not in browser."))}stop(){null!==this.app&&this.app.stop(!0)}getSessionToken(){return null===this.app?null:this.app.getSessionToken()}getSessionID(){return null===this.app?null:this.app.getSessionID()}sessionID(){return ut("'sessionID' method","'getSessionID' method","/"),this.getSessionID()}setUserID(t){"string"==typeof t&&null!==this.app&&this.app.session.setUserID(t)}userID(t){ut("'userID' method","'setUserID' method","/"),this.setUserID(t)}setUserAnonymousID(t){"string"==typeof t&&null!==this.app&&this.app.send(new N(t))}userAnonymousID(t){ut("'userAnonymousID' method","'setUserAnonymousID' method","/"),this.setUserAnonymousID(t)}setMetadata(t,e){"string"==typeof t&&"string"==typeof e&&null!==this.app&&this.app.session.setMetadata(t,e)}metadata(t,e){ut("'metadata' method","'setMetadata' method","/"),this.setMetadata(t,e)}event(t,e,n=!1){if("string"==typeof t&&null!==this.app){if(n)return this.issue(t,e);try{e=JSON.stringify(e)}catch(t){return}this.app.send(new T(t,e))}}issue(t,e){if("string"==typeof t&&null!==this.app){try{e=JSON.stringify(e)}catch(t){return}this.app.send(new Z(t,e))}}}var pe=function(t,e,n,s){return new(n||(n=Promise))((function(i,r){function o(t){try{c(s.next(t))}catch(t){r(t)}}function a(t){try{c(s.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((s=s.apply(t,e||[])).next())}))};const fe={};["DEL","UNDEF","TRUE","FALSE","NUMBER","BIGINT","FUNCTION","STRING","SYMBOL","NULL","OBJECT","ARRAY"].forEach((t,e)=>fe[t]=String.fromCharCode(e+57344));var me=fe;class ge{constructor(t,e=1/0){this._hash=t,this._slen=e,this._refmap=new Map,this._refset=new Set}_ref_str(t){if(t.length<this._slen&&-1===t.indexOf(me.DEL))return t;let e=this._refmap.get(t);return void 0===e&&(e=this._hash(t),this._refmap.set(t,e)),e}_encode_prim(t){switch(typeof t){case"undefined":return me.UNDEF;case"boolean":return t?me.TRUE:me.FALSE;case"number":return me.NUMBER+t.toString();case"bigint":return me.BIGINT+t.toString();case"function":return me.FUNCTION;case"string":return me.STRING+this._ref_str(t);case"symbol":return me.SYMBOL+this._ref_str(t.toString().slice(7,-1))}if(null===t)return me.NULL}_encode_obj(t,e=this._refmap.get(t)){return(Array.isArray(t)?me.ARRAY:me.OBJECT)+e}_encode_term(t){return this._encode_prim(t)||this._encode_obj(t)}_encode_deep(t,e){const n=this._encode_prim(t);if(void 0!==n)return n;const s=this._refmap.get(t);switch(typeof s){case"number":return(e-s).toString();case"string":return this._encode_obj(t,s)}this._refmap.set(t,e);const i=this._hash((Array.isArray(t)?t.map(t=>this._encode_deep(t,e+1)):Object.keys(t).sort().map(n=>this._ref_str(n)+me.DEL+this._encode_deep(t[n],e+1))).join(me.DEL));return this._refmap.set(t,i),this._encode_obj(t,i)}encode(t){return this._encode_deep(t,0)}commit(){const t={};return this._refmap.forEach((e,n)=>{this._refset.has(e)||(this._refset.add(e),"string"!=typeof n&&(n=(Array.isArray(n)?n.map(t=>this._encode_term(t)):Object.keys(n).map(t=>this._ref_str(t)+me.DEL+this._encode_term(n[t]))).join(me.DEL)),t[e]=n)}),this._refmap.clear(),t}clear(){this._refmap.clear(),this._refset.clear()}}function ve(t,e,n,s){return t<20?e&n|~e&s:t<40?e^n^s:t<60?e&n|e&s|n&s:e^n^s}function be(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function ye(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function we(t,e){return t<<e|t>>>32-e}var Ce=function(t){return function(t){for(var e="",n=0;n<4*t.length;n+=3)for(var s=(t[n>>2]>>8*(3-n%4)&255)<<16|(t[n+1>>2]>>8*(3-(n+1)%4)&255)<<8|t[n+2>>2]>>8*(3-(n+2)%4)&255,i=0;i<4;i++)8*n+6*i<=32*t.length&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s>>6*(3-i)&63));return e}(function(t,e){t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e;for(var n=Array(80),s=1732584193,i=-271733879,r=-1732584194,o=271733878,a=-1009589776,c=0;c<t.length;c+=16){for(var u=s,l=i,d=r,h=o,p=a,f=0;f<80;f++){n[f]=f<16?t[c+f]:we(n[f-3]^n[f-8]^n[f-14]^n[f-16],1);var m=ye(ye(we(s,5),ve(f,i,r,o)),ye(ye(a,n[f]),be(f)));a=o,o=r,r=we(i,30),i=s,s=m}s=ye(s,u),i=ye(i,l),r=ye(r,d),o=ye(o,h),a=ye(a,p)}return Array(s,i,r,o,a)}(function(t){for(var e=Array(),n=0;n<16*t.length;n+=16)e[n>>5]|=(65535&t.charCodeAt(n/16))<<16-n%32;return e}(t),16*t.length))},ke=function(t={}){const e=Object.assign({actionFilter:()=>!0,actionTransformer:t=>t,actionType:t=>t.type,stateTransformer:t=>t},t);return t=>{if(null===t)return()=>t=>e=>t(e);const n=new ge(Ce,50);return t.attachStopCallback(()=>{n.clear()}),({getState:s})=>i=>r=>{if(!t.active()||!e.actionFilter(r))return i(r);const o=performance.now(),a=i(r),c=performance.now()-o;try{const i=e.actionType(r);"string"==typeof i&&i&&t.send(le.StateAction(i));const o=n.encode(e.actionTransformer(r)),a=n.encode(e.stateTransformer(s())),u=n.commit();for(let e in u)t.send(le.OTable(e,u[e]));t.send(le.Redux(o,a,c))}catch(t){n.clear()}return a}}},Ee=n("PxNW"),Se=n("Rr0/"),_e=n("lWQz");function Oe(t){window.fetch=t.use(function(t={}){const e=Object.assign({overrideGlobal:!1,failuresOnly:!1,ignoreHeaders:["Cookie","Set-Cookie","Authorization"]},t);e.requestSanitizer&&e.responseSanitizer&&console.warn("OpenReplay fetch plugin: `requestSanitizer` and `responseSanitizer` options are depricated. Please, use `sanitiser` instead (check out documentation at https://docs.openreplay.com/plugins/fetch).");const n=window.fetch;return t=>{if(null===t)return n;const s=e.ignoreHeaders,i=Array.isArray(s)?t=>s.includes(t):()=>s,r=(r,o={})=>pe(this,void 0,void 0,(function*(){if("string"!=typeof r)return n(r,o);if(e.sessionTokenHeader){const n=t.getSessionToken();n&&(void 0===o.headers&&(o.headers={}),o.headers instanceof Headers?o.headers.append(e.sessionTokenHeader,n):Array.isArray(o.headers)?o.headers.push([e.sessionTokenHeader,n]):o.headers[e.sessionTokenHeader]=n)}const a=performance.now(),c=yield n(r,o),u=performance.now()-a;if(e.failuresOnly&&c.status<400)return c;const l=c.clone();return l.text().then(n=>{const c={},d={};if(!0!==s){function h([t,e]){i(t)||(c[t]=e)}o.headers instanceof Headers?o.headers.forEach((t,e)=>h([e,t])):Array.isArray(o.headers)?o.headers.forEach(h):"object"==typeof o.headers&&Object.entries(o.headers).forEach(h),l.headers.forEach((t,e)=>{i(e)||(d[e]=t)})}const p={headers:c,body:o.body},f={headers:d,body:n},m="string"==typeof o.method?o.method.toUpperCase():"GET";let g={url:r,method:m,status:l.status,request:p,response:f};if(e.sanitiser){try{g.response.body=JSON.parse(n)}catch(t){}if(g=e.sanitiser(g),!g)return}const v=t=>{if(t&&"string"!=typeof t.body)try{t.body=JSON.stringify(t.body)}catch(e){t.body="<unable to stringify>"}return JSON.stringify(t)};t.send(le.Fetch(m,String(g.url),v(g.request),v(g.response),l.status,a+performance.timing.navigationStart,u))}),c}));return e.overrideGlobal&&(window.fetch=r),r}}())}function Ie(t){return t.use(ke())}const Te=t=>{let{tracker:e}=t;return t=>{t.forEach(t=>{let{event:n,identify:s,issue:i,metadata:r,...o}=t;s&&e.setUserID(s),r&&Object.entries(r).forEach(t=>{let[n,s]=t;e.setMetadata(n,s)}),n&&e.event(n,o,!!i)})}},je={[Se.a.auth.login.successType]:()=>({event:"login",method:"email"}),[Se.a.users.create.successType]:()=>({event:"sign_up",method:"email"}),[Se.a.websites.update.successType]:(t,e,n)=>{var s;if((null===(s=n.websites.find(e=>e.slug===t.payload.slug))||void 0===s||!s.enabled)&&t.payload.enabled)return{event:"website_published"}},[Se.a.listenSubscriptionCreated.type]:t=>({event:"subscription_created",...t.payload}),[Se.a.listenSubscriptionCancelled.type]:()=>({event:"subscription_cancelled"}),[Se.a.users.me.successType]:t=>{var e;return{identify:null!==(e=t.result.email)&&void 0!==e?e:t.result._id,metadata:{email:t.result.email,userId:t.result._id}}},[Se.a.workspaces.retrieve.successType]:t=>({metadata:{workspaceId:t.result._id,plan:t.result.billing.plan}}),[_e.checkout.applyCoupon.type]:t=>({event:"checkout.applyCoupon",coupon:t.payload.coupon}),[_e.checkout.changeCountry.type]:t=>({event:"checkout.changeCountry",country:t.payload.country}),[_e.checkout.close.type]:()=>({event:"checkout.close"}),[_e.checkout.complete.type]:()=>({event:"checkout.complete"}),[_e.checkout.completePayment.type]:()=>({event:"checkout.completePayment"}),[_e.checkout.load.type]:()=>({event:"checkout.load"}),[_e.checkout.error.type]:t=>({event:"checkout.error",error:t.payload.error,issue:!0}),[_e.checkout.selectPaymentMethod.type]:t=>({event:"checkout.selectPaymentMethod",paymentMethod:t.payload.payment_method})};function Ne(t){let{projectKey:e}=t;const n=new he({projectKey:e});Oe(n);const s=n.use(ke()),i=Object(Ee.createMiddleware)(je,Te({tracker:n}),{logger:null});return n.start(),n.setMetadata("hostname",window.location.hostname),{openReplayMiddleware:s,openReplayEventsTrackerMiddleware:i}}},cGUp:function(t,e){t.exports=CONFIG},cUX5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("hbw+"),i=n("vf6c"),r=n("WkAZ"),o=n("FvhL");e.default=function(t,e,n){void 0===n&&(n={});var a="function"==typeof t?function(e){return s([t(e)])}:function(e){return r.default(t,e.type)};return function(t){return function(s,r){var c=t(s,r),u=i.default(a(r),s,r,c);return o.default(u,e,n,s,r,c),c}}}},dnJR:function(t,e,n){},eHJA:function(t,e,n){t.exports={tip:"_2GKm7jcP",recaptcha:"_2pjtPL9f"}},"hbw+":function(t,e,n){"use strict";function s(t){return function t(e,n){for(var s=0;s<e.length;s++){var i=e[s];Array.isArray(i)?t(i,n):n.push(i)}return n}(t,[])}function i(t,e){if("number"!=typeof e)throw new TypeError("Expected the depth to be a number");return function t(e,n,s){s--;for(var i=0;i<e.length;i++){var r=e[i];s>-1&&Array.isArray(r)?t(r,n,s):n.push(r)}return n}(t,[],e)}t.exports=function(t){if(!Array.isArray(t))throw new TypeError("Expected value to be an array");return s(t)},t.exports.from=s,t.exports.depth=function(t,e){if(!Array.isArray(t))throw new TypeError("Expected value to be an array");return i(t,e)},t.exports.fromDepth=i},ozUd:function(t,e,n){"use strict";var s=this&&this.__assign||Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i=this&&this.__rest||function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&(n[s[i]]=t[s[i]])}return n};Object.defineProperty(e,"__esModule",{value:!0}),e.convertFromGoogleAnalyticsEventIfNeeded=function(t){if(!t.event&&t.hitType){var e=t.hitType,n=i(t,["hitType"]);return s({},n,{event:e})}return t}},uWKj:function(t,e,n){t.exports={terms:"_13-uRGAr"}},vf6c:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("hbw+"),i=function(t){return t.filter((function(t){return t}))};e.default=function(t,e,n,r){return i(s(i(t).map((function(t){return t(n,e,r)}))))}},vxJK:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var s=n("ERkP"),i=n("w8s/");function r(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Object(i.a)(t,e);return Object(s.useEffect)(()=>{n.run()},e),n}},wcvo:function(t,e,n){t.exports={header:"_5TU7FrUA",footer:"_2iwDxaZy"}},ztTm:function(t,e,n){t.exports={header:"_1K_v4ltQ",footer:"_2WvOgAGM"}}},[[5,0,1,2]]]);
//# sourceMappingURL=auth.2d875dda1b8f53729c4b.js.map