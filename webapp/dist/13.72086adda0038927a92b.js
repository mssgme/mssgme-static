(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"4Inx":function(e,t,a){"use strict";a.r(t),a.d(t,"PageThumbnailRenderer",(function(){return b}));var n=a("RNvQ"),r=a.n(n),i=a("yXOe"),c=a.n(i),l=a("ERkP"),o=a.n(l),s=a("3pNR"),d=a("ENGl"),h=a("zcZP"),u=a("LyfG"),m=a("iqBI"),w=a.n(m);const g=e=>{let{website:t,page:a,width:n,height:i,delay:s,onRendered:d,onError:h}=e;const m=Object(l.useMemo)(()=>({width:n,minWidth:n,height:i,minHeight:i,boxShadow:"none",borderRadius:0}),[n,i]),[g,b]=Object(l.useState)(),p=Object(l.useCallback)(async e=>{try{const t=await c()(e,{width:n,height:i,useCORS:!0}),a=await new Promise((e,a)=>{try{t.toBlob(e,"image/jpeg",80)}catch(e){a(e)}});return a||!1}catch(e){return console.log(e),!1}}),f=Object(l.useCallback)(e=>{e&&(d(null),b(e))},[a,t,d]);return Object(l.useEffect)(()=>{if(!g)return;const e=r()((async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const n=await p(t);e.cancel(),n?d(n):--a>0?e(t,a):h&&h(new Error("Can't generate preview"))}),s);return h&&h(null),e(g),e.cancel},[g,d]),o.a.createElement("div",{className:w.a.sample,style:m},o.a.createElement(u.a,{ref:f,style:m,interactive:!1,website:t,page:a}))},b=e=>{let{website:t,page:a,width:n,height:r,delay:i,src:c,error:l,onChange:u,onError:m,...b}=e;return o.a.createElement("div",Object(d.a)(w.a.root,b),o.a.createElement("div",{className:w.a.insert},c?o.a.createElement("img",{src:c,alt:"Thumbnail"}):l?o.a.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",display:"flex"}},o.a.createElement(s.I,{size:20,color:"#999"})):o.a.createElement(h.a,null)),o.a.createElement("div",{className:w.a.offscreen},o.a.createElement(g,{website:t,page:a,width:n,height:r,delay:i,onRendered:u,onError:m})))};b.defaultProps={width:375,height:506,delay:1500},t.default=b},iqBI:function(e,t,a){e.exports={root:"_1ENgD29S",offscreen:"QC_3VdgI",sample:"_1f4pH-ck",insert:"rz9QSWUc"}}}]);
//# sourceMappingURL=13.72086adda0038927a92b.js.map