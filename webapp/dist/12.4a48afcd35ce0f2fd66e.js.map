{"version":3,"sources":["webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Giphy/Giphy.scss","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Giphy/Giphy.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Giphy/index.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Audio/Audio.scss","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Audio/Audio.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Audio/index.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Video/Video.scss","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/Video/Video.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/VideoGallery/VideoGallery.scss","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/VideoGallery/VideoSlide.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/VideoGallery/VideoGallery.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/VideoGallery/index.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/ImageGallery/ImageGallery.scss","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/ImageGallery/ImageSlide.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/ImageGallery/ImageGallery.js","webpack:////drone/src/packages/userpage-core/src/landings/Page/PageBlocks/ImageGallery/index.js"],"names":["_regeneratorRuntime","e","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","_typeof","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","asyncGeneratorStep","gen","reject","_next","_throw","key","info","error","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","ownKeys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","obj","toPrimitive","String","Number","_toPrimitive","_slicedToArray","arr","Array","isArray","_arrayWithHoles","l","_iterableToArrayLimit","minLen","_arrayLikeToArray","toString","from","test","_unsupportedIterableToArray","_nonIterableRest","len","arr2","_objectWithoutProperties","source","excluded","target","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","Giphy","_ref","block","baseStyle","style","rest","_excluded","useBlockTheme","_useState2","useState","gif","setGif","_useMeasure2","useMeasure","ref","containerWidth","width","giphyFetch","useMemo","GiphyFetch","giphy_public_key","memoWidth","gifWidth","images","original","combined","useAsync","_callee","_yield$giphyFetch$gif","data","_context","giphyId","React","createElement","BlockBase","_extends","cls","styles","className","cn","Gif","backgroundColor","hideAttribution","borderRadius","noLink","defaultProps","kind","GiphyBlockKind","Audio","url","insets","_useBlockTheme","theme","hasAudio","ReactPlayer","canPlay","blockInsets","useBlockHorizontalInsetsPadding","padding","includes","height","config","mixcloud","options","hide_cover","hide_tracklist","hide_artwork","AudioBlockKind","Video","fixed","replace","fixShorts","hasVideo","wrapper","root","ratio","player","light","playing","controls","VideoBlockKind","YOUTUBE_TEST","YOUTUBE_ID_SPLITTER","VideoSlide","_ref$annotation","annotation","_ref$isActive","isActive","_useBooleanHandler2","useBooleanHandler","isLoaded","setIsLoaded","_useBooleanHandler4","isPlaying","play","_useMemo2","cover","_url$split$","youtubeVideoId","match","split","concat","extractCover","attributes","useEffect","videoContainer","onPause","onPlay","onReady","fade","crossFade","VideoGallery","swiper","setSwiper","_useBlockTheme$theme","autoplay","effect","_useContrastingPageCo","useContrastingPageColor","color","hasImage","_useDoubleNestedInset","useDoubleNestedInsets","resolvedInsets","margin","borderColor","isLightColor","hasPagination","videos","pagination","renderBullet","index","bullet","clickable","clickableClass","clickablePagination","bulletActiveClass","activeBullet","delay","autoplayOpts","stopAutoplay","useCallback","lazy","preview","placeholder","Swiper","flex","slideStyle","interactive","allowTouchMove","embedded","fadeEffect","onSliderMove","onSwiper","map","video","assign","_ref2","onClick","_id","VideoGalleryBlockKind","ImageSlide","image","isViewMode","_useAction","useAction","action","Tag","tagAttributes","absoluteUrl","getMediaSizeUrl","useUploads","MediaSizes","Large","shouldFit","handleLoad","updateAutoHeight","handleClick","_swiper$lazy","initialImageLoaded","loadInSlide","imageBlock","fitOutside","imageContainer","alt","data-src","onLoad","preloader","LoadingIndicator","loadPrevNext","preloaderClass","loadedClass","loaded","ImageGallery","sortable","rawWidth","_useState4","_useState6","currentLightBoxSlideIndex","setCurrentLightBoxSlideIndex","isLightbox","openLightBox","closeLightBox","perView","total","restartDelay","Math","max","delayRestart","throttleMs","_useState","callback","setCallback","setter","timer","setTimeout","clearTimeout","useThrottledCallback","handleChange","running","start","handleSlide","forceUpdate","useForceUpdate","hashItems","externalUrl","join","count","slidesPerView","watchOverflow","autoHeight","loop","onUpdate","LightBox","activeIndex","onClose","ImageGalleryBlockKind"],"mappings":"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","file":"12.4a48afcd35ce0f2fd66e.js","sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3ISPBjHC\",\"content\":\"_15yqqiRH\",\"placeholder\":\"_3VpReIeK\"};","import cn from 'classnames';\nimport React, { useMemo, useState } from 'react';\nimport { useAsync, useMeasure } from 'react-use';\nimport { Gif } from '@giphy/react-components';\nimport { GiphyFetch } from '@giphy/js-fetch-api';\n\nimport { giphy_public_key } from 'config';\nimport { GiphyBlockKind } from '@mssgme/shared';\nimport { cls } from '@mssgme/helpers';\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { useBlockTheme } from '../../../hooks';\nimport { BlockBase } from '../BlockBase';\n\nimport styles from './Giphy.scss';\n\nexport default function Giphy({ block, style: baseStyle, ...rest }) {\n    const { style } = useBlockTheme(block);\n    const [gif, setGif] = useState(null);\n    const [ref, { width: containerWidth }] = useMeasure();\n    const giphyFetch = useMemo(() => new GiphyFetch(giphy_public_key), []);\n    const memoWidth = useMemo(() => containerWidth, [!!containerWidth]);\n    const gifWidth = gif?.images.original.width > memoWidth ? memoWidth : gif?.images.original.width;\n    const combined = useMemo(() => (baseStyle ? { ...style, ...baseStyle } : style), [style, baseStyle]);\n\n    useAsync(async () => {\n        const { data } = await giphyFetch.gif(block.giphyId);\n\n        setGif(data);\n    }, [block.giphyId]);\n\n    return (\n        <BlockBase style={combined} {...cls(styles.root, rest)}>\n            <div className={cn({ [styles.content]: true, [styles.placeholder]: !gif })} ref={ref}>\n                {gif && (\n                    <Gif\n                        gif={gif}\n                        backgroundColor=\"transparent\"\n                        hideAttribution\n                        width={gifWidth || 200}\n                        borderRadius={16}\n                        noLink\n                    />\n                )}\n            </div>\n        </BlockBase>\n    );\n}\n\nGiphy.propTypes = {\n    ...BlockBase.propTypes,\n    block: LandingsPropTypes.block.isRequired,\n};\n\nGiphy.defaultProps = BlockBase.defaultProps;\n\nGiphy.kind = GiphyBlockKind;\n","import Giphy from './Giphy';\n\nexport default Giphy;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_34Sz_TzY\",\"hasAudio\":\"_2nVbQ7tq\",\"player\":\"_2WAlTW55\",\"mixcloud\":\"_3g4Vq4zq\"};","import cn from 'classnames';\nimport ReactPlayer from 'react-player';\nimport React, { useMemo } from 'react';\n\nimport { cls } from '@mssgme/helpers';\nimport { AudioBlockKind } from '@mssgme/shared';\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { useBlockTheme } from '../../../hooks';\nimport { BlockBase, useBlockHorizontalInsetsPadding } from '../BlockBase';\n\nimport styles from './Audio.scss';\n\nexport default function Audio({ block, block: { url }, insets, ...rest }) {\n    const { theme, style } = useBlockTheme(block);\n    const hasAudio = ReactPlayer.canPlay(url);\n    const blockInsets = useBlockHorizontalInsetsPadding(insets, theme.padding === 'yes');\n\n    return (\n        <BlockBase insets={blockInsets} {...cls(rest)}>\n            <div className={cn(styles.root, { [styles.hasAudio]: hasAudio })} style={style}>\n                {hasAudio && (\n                    <ReactPlayer\n                        className={cn({ [styles.player]: true, [styles.mixcloud]: url.includes('mixcloud.com') })}\n                        url={url}\n                        width=\"100%\"\n                        height=\"100%\"\n                        config={{\n                            mixcloud: {\n                                options: {\n                                    hide_cover: false,\n                                    hide_tracklist: false,\n                                    hide_artwork: false,\n                                },\n                            },\n                        }}\n                    />\n                )}\n            </div>\n        </BlockBase>\n    );\n}\n\nAudio.propTypes = {\n    ...BlockBase.propTypes,\n    block: LandingsPropTypes.block.isRequired,\n};\n\nAudio.defaultProps = BlockBase.defaultProps;\n\nAudio.kind = AudioBlockKind;\n","import Audio from './Audio';\n\nexport default Audio;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3FRtghnH\",\"hasVideo\":\"_3Aj67paT\",\"square\":\"_2YR5Euqa\",\"vertical\":\"_1xfKGWnN\",\"yes\":\"_1ugyYonT\",\"player\":\"IpnyRsKe\"};","import cn from 'classnames';\nimport ReactPlayer from 'react-player';\nimport React from 'react';\n\nimport { VideoBlockKind } from '@mssgme/shared';\nimport { cls } from '@mssgme/helpers';\nimport { LandingsPropTypes } from '@mssgme/ui';\nimport { useBlockTheme } from '../../../hooks';\nimport { BlockBase, useBlockHorizontalInsetsPadding } from '../BlockBase';\n\nimport styles from './Video.scss';\n\nconst fixShorts = (url) => {\n    return url && url.replace(/(youtu(?:.be|be.com))\\/shorts/i, '$1/embed');\n};\n\nexport default function Video({ block, block: { url }, insets, ...rest }) {\n    const { theme, style } = useBlockTheme(block);\n    const fixed = fixShorts(url);\n    const hasVideo = ReactPlayer.canPlay(fixed);\n\n    const blockInsets = useBlockHorizontalInsetsPadding(insets, theme.padding === 'yes');\n\n    return (\n        <BlockBase insets={blockInsets} {...cls(styles.wrapper, rest)}>\n            <div className={cn(styles.root, styles[theme.ratio], { [styles.hasVideo]: hasVideo })} style={style}>\n                {hasVideo && (\n                    <ReactPlayer\n                        className={styles.player}\n                        light\n                        playing\n                        controls\n                        url={fixed}\n                        width=\"100%\"\n                        height=\"100%\"\n                    />\n                )}\n            </div>\n        </BlockBase>\n    );\n}\n\nVideo.propTypes = {\n    ...BlockBase.propTypes,\n    block: LandingsPropTypes.block.isRequired,\n};\n\nVideo.defaultProps = BlockBase.defaultProps;\n\nVideo.kind = VideoBlockKind;\n","// extracted by mini-css-extract-plugin\nexport default {\"inList\":\"_3ir0lTB7\",\"clickablePagination\":\"_2dI5vLAe\",\"bullet\":\"O1Bh9zR7\",\"activeBullet\":\"i0wkGPHl\",\"videoContainer\":\"_1UDdl4GO\",\"hasVideo\":\"_7LTOnhgp\",\"square\":\"H0L-bW_T\",\"vertical\":\"_1ekZWqw3\",\"yes\":\"_2UtHsL93\",\"player\":\"GkWss4MK\",\"annotation\":\"xzfbHz2b\",\"preview\":\"_340yrqN2\",\"placeholder\":\"_3OIPciSq\",\"rectangle\":\"Y2zj_2-K\"};","import PropTypes from 'prop-types';\nimport ReactPlayer from 'react-player';\nimport React, { useEffect, useMemo } from 'react';\n\nimport { cls } from '@mssgme/helpers';\nimport { useBooleanHandler } from '@mssgme/hooks';\n\nimport styles from './VideoGallery.scss';\n\nconst YOUTUBE_TEST = /^https:\\/\\/(www.)?youtu\\.?be/;\nconst YOUTUBE_ID_SPLITTER = /v\\/|v=|youtu\\.be\\//;\nconst fixShorts = (url) => url && url.replace(/(youtu(?:\\.be|be\\.com))\\/shorts/i, '$1/embed');\nconst extractCover = (url) => {\n    const youtubeVideoId = url.match(YOUTUBE_TEST) ? url.split(YOUTUBE_ID_SPLITTER)[1]?.split(/[?&]/)[0] : null;\n\n    if (youtubeVideoId) {\n        return `https://i.ytimg.com/vi/${youtubeVideoId}/hqdefault.jpg`;\n    }\n};\n\nexport const VideoSlide = ({ url, annotation = '', isActive = true, ratio, ...rest }) => {\n    const [isLoaded, setIsLoaded] = useBooleanHandler(false);\n    const [isPlaying, play, stop] = useBooleanHandler(false);\n    const [hasVideo, attributes] = useMemo(() => {\n        const fixed = fixShorts(url) || '';\n        const cover = extractCover(fixed);\n\n        return [\n            ReactPlayer.canPlay(fixed),\n            {\n                light: cover || true,\n                url: fixed,\n            },\n        ];\n    }, [url]);\n\n    useEffect(() => {\n        if (isLoaded) {\n            play();\n        }\n    }, [isLoaded]);\n\n    return (\n        <div {...cls([styles.videoContainer, styles[ratio], { [styles.hasVideo]: hasVideo }], rest)}>\n            {hasVideo && (\n                <ReactPlayer\n                    className={styles.player}\n                    controls\n                    playing={isPlaying && isActive}\n                    width=\"100%\"\n                    height=\"100%\"\n                    onPause={stop}\n                    onPlay={play}\n                    onReady={setIsLoaded}\n                    {...attributes}\n                />\n            )}\n            {annotation && !isLoaded && !isPlaying && <div className={styles.annotation}>{annotation}</div>}\n        </div>\n    );\n};\n\nVideoSlide.propTypes = {\n    url: PropTypes.string.isRequired,\n    annotation: PropTypes.string,\n    isActive: PropTypes.bool,\n    ratio: PropTypes.string.isRequired,\n    style: PropTypes.object,\n    onClick: PropTypes.func.isRequired,\n};\n","import cn from 'classnames';\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { useMeasure } from 'react-use';\n\nimport { cls, isLightColor } from '@mssgme/helpers';\nimport { VideoGalleryBlockKind } from '@mssgme/shared';\nimport { LandingsPropTypes, Swiper } from '@mssgme/ui';\nimport { useBlockTheme, useContrastingPageColor } from '../../../hooks';\nimport { useDoubleNestedInsets } from '../../../UI';\nimport { BlockBase } from '../BlockBase';\nimport { VideoSlide } from './VideoSlide';\n\nimport styles from './VideoGallery.scss';\n\nconst fade = { crossFade: true };\n\nexport default function VideoGallery({ block, insets, style: baseStyle, ...rest }) {\n    const [ref, { width }] = useMeasure();\n    const [swiper, setSwiper] = useState(null);\n    const {\n        theme: { ratio, padding, autoplay, effect },\n        style,\n    } = useBlockTheme(block);\n    const { color, hasImage } = useContrastingPageColor();\n    const { resolvedInsets, margin } = useDoubleNestedInsets(insets, padding);\n    const borderColor = hasImage && (isLightColor(color) ? '#333' : '#eee');\n    const hasPagination = block.videos.length > 1;\n    const pagination = useMemo(() => {\n        return hasPagination\n            ? {\n                renderBullet: (index, className) =>\n                    `<span style=\"background-color: ${color};${\n                        borderColor ? `border: 1px solid ${borderColor}` : ''\n                    };\" class=\"${className + ' ' + styles.bullet}\"></span>`,\n                clickable: true,\n                clickableClass: styles.clickablePagination,\n                bulletActiveClass: styles.activeBullet,\n            }\n            : false;\n    }, [hasPagination, color]);\n    const delay = autoplay * 1000;\n    const autoplayOpts = useMemo(() => hasPagination && !!delay && { delay }, [hasPagination, delay]);\n\n    const stopAutoplay = useCallback(() => void swiper?.autoplay.stop(), []);\n\n    return (\n        <BlockBase lazy ref={ref} insets={resolvedInsets} {...cls(styles.root, rest)}>\n            {block.videos.length === 0 ? (\n                <div className={styles.preview}>\n                    <div className={cn(styles.placeholder, styles[ratio])} />\n                </div>\n            ) : (\n                <Swiper\n                    key={`${block.videos.length}-${autoplay}-${effect}-${width}-${color}`}\n                    flex\n                    slideStyle={padding ? { padding: `0 ${margin}px` } : undefined}\n                    interactive={rest.interactive}\n                    allowTouchMove={hasPagination && !rest.embedded}\n                    autoplay={autoplayOpts}\n                    effect={effect}\n                    pagination={pagination}\n                    fadeEffect={fade}\n                    onSliderMove={stopAutoplay}\n                    onSwiper={setSwiper}\n                >\n                    {block.videos.map((video, index) =>\n                        Object.assign(\n                            ({ isActive }) => (\n                                <VideoSlide\n                                    url={video.url}\n                                    annotation={video.annotation}\n                                    style={style}\n                                    ratio={ratio}\n                                    isActive={isActive}\n                                    onClick={stopAutoplay}\n                                />\n                            ),\n                            { key: video._id || `${video.url}-${index}` }\n                        )\n                    )}\n                </Swiper>\n            )}\n        </BlockBase>\n    );\n}\n\nVideoGallery.propTypes = {\n    ...BlockBase.propTypes,\n    block: LandingsPropTypes.block.isRequired,\n};\n\nVideoGallery.defaultProps = BlockBase.defaultProps;\n\nVideoGallery.kind = VideoGalleryBlockKind;\n","import VideoGallery from './VideoGallery';\n\nexport default VideoGallery;\n","// extracted by mini-css-extract-plugin\nexport default {\"blurred\":\"_251K1cse\",\"slide\":\"_2_gsfIu5\",\"clickablePagination\":\"_3XJQ6puG\",\"bullet\":\"_2VIBQrdW\",\"activeBullet\":\"_1aTahp4u\",\"imageBlock\":\"_3GUIjoJS\",\"annotation\":\"KTkjYbis\",\"imageContainer\":\"_1-tgI8sz\",\"preloader\":\"_2tOe0o8y\",\"placeholder\":\"_3cKn-sRE\",\"original\":\"_1ZSVkp4I\",\"loaded\":\"_3R0DaN2b\",\"square\":\"KFmfISnG\",\"image\":\"_3LN39vZd\",\"rectangle\":\"_2pksWdsk\",\"fit-inside\":\"Am3gE8ry\",\"fitInside\":\"Am3gE8ry\",\"fit-outside\":\"_36CDNn75\",\"fitOutside\":\"_36CDNn75\",\"stretch\":\"_1l7WBzhg\",\"fill\":\"_1gsgNUXV\",\"perView-2\":\"_3S9K9Wu5\",\"perView2\":\"_3S9K9Wu5\",\"perView-3\":\"_2ZF09eZO\",\"perView3\":\"_2ZF09eZO\",\"perView-4\":\"ZjBGwFK5\",\"perView4\":\"ZjBGwFK5\",\"perView-5\":\"_7k6yJXBF\",\"perView5\":\"_7k6yJXBF\",\"preview\":\"Kxv_08hZ\"};","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect } from 'react';\n\nimport { LoadingIndicator } from '@mssgme/ui';\nimport { useUploads, MediaSizes, useAction } from '../../../hooks';\n\nimport styles from './ImageGallery.scss';\n\nexport const ImageSlide = ({ index, image, style, theme: { ratio }, onClick, swiper, isViewMode, interactive }) => {\n    const { Tag, tagAttributes } = useAction({ action: image.action, isViewMode, interactive });\n    const { getMediaSizeUrl } = useUploads();\n    const absoluteUrl = getMediaSizeUrl(image.url, MediaSizes.Large);\n    const shouldFit = ratio !== 'original';\n\n    const handleLoad = useCallback(() => void (swiper && swiper.updateAutoHeight()), [swiper]);\n    const handleClick = interactive && image.action.type === 'fullImage' ? () => onClick(index) : null;\n\n    useEffect(() => {\n        if (swiper?.lazy?.initialImageLoaded) {\n            swiper.lazy.loadInSlide(index);\n        }\n    }, [index, image]);\n\n    return (\n        <div\n            className={cn(styles.imageBlock, {\n                [styles.placeholder]: !absoluteUrl,\n                [styles.fitOutside]: shouldFit,\n                [styles[ratio]]: styles[ratio],\n            })}\n            style={style}\n        >\n            <Tag className={styles.imageContainer} onClick={handleClick} {...tagAttributes}>\n                <div className={styles.image}>\n                    <img\n                        alt={image.annotation || 'Image'}\n                        className=\"swiper-lazy\"\n                        data-src={absoluteUrl}\n                        onLoad={handleLoad}\n                    />\n                </div>\n                <div className={styles.preloader}>\n                    <LoadingIndicator />\n                </div>\n            </Tag>\n\n            {image.annotation && <div className={styles.annotation}>{image.annotation}</div>}\n        </div>\n    );\n};\n\nImageSlide.propTypes = {\n    index: PropTypes.number.isRequired,\n    image: PropTypes.shape({\n        url: PropTypes.string.isRequired,\n        externalUrl: PropTypes.string,\n        modal: PropTypes.bool,\n        annotation: PropTypes.string,\n        action: PropTypes.object,\n    }).isRequired,\n    theme: PropTypes.object.isRequired,\n    style: PropTypes.object,\n    onClick: PropTypes.func,\n    swiper: PropTypes.object,\n    isViewMode: PropTypes.bool,\n    interactive: PropTypes.bool,\n};\n","import cn from 'classnames';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useMeasure } from 'react-use';\n\nimport { ImageGalleryBlockKind } from '@mssgme/shared';\nimport { cls, isLightColor } from '@mssgme/helpers';\nimport { useBooleanHandler, useForceUpdate } from '@mssgme/hooks';\nimport { LandingsPropTypes, Swiper } from '@mssgme/ui';\nimport { useBlockTheme, useContrastingPageColor } from '../../../hooks';\nimport { LightBox, useDoubleNestedInsets } from '../../../UI';\nimport { BlockBase } from '../BlockBase';\nimport { ImageSlide } from './ImageSlide';\n\nimport styles from './ImageGallery.scss';\n\nexport const useThrottledCallback = (throttleMs = 1000) => {\n    const [callback, setCallback] = useState(null);\n    const setter = useCallback((fn) => setCallback(() => fn), []);\n\n    useEffect(() => {\n        if (!callback) {\n            return;\n        }\n\n        const timer = setTimeout(callback, throttleMs);\n\n        return () => {\n            clearTimeout(timer);\n        };\n    }, [callback, throttleMs]);\n\n    return setter;\n};\n\nconst fade = { crossFade: true };\nconst lazy = { loadPrevNext: true, preloaderClass: styles.preloader, loadedClass: styles.loaded };\n\nexport default function ImageGallery({ block, insets, sortable, ...rest }) {\n    const [ref, { width: rawWidth }] = useMeasure();\n    const [swiper, setSwiper] = useState(null);\n    const [currentLightBoxSlideIndex, setCurrentLightBoxSlideIndex] = useState(0);\n    const [isLightbox, openLightBox, closeLightBox] = useBooleanHandler();\n    const { theme, style } = useBlockTheme(block);\n    const { color, hasImage } = useContrastingPageColor();\n    const { ratio, padding, perView, autoplay, effect } = theme;\n    const { resolvedInsets, margin } = useDoubleNestedInsets(insets, padding);\n    const width = useMemo(() => rawWidth, [!!rawWidth]);\n    const total = block.images.length;\n    const hasPagination = total > perView;\n    const delay = autoplay * 1000;\n    const restartDelay = Math.max(1000, 5000 - delay);\n    const pagination = useMemo(() => {\n        if (!hasPagination) {\n            return false;\n        }\n\n        const borderColor = hasImage ? `border: 1px solid ${isLightColor(color) ? '#333' : '#eee'}` : '';\n\n        return {\n            renderBullet: (index, className) =>\n                `<span style=\"background-color:${color};${borderColor};\" class=\"${className} ${styles.bullet}\"></span>`,\n            clickable: true,\n            clickableClass: styles.clickablePagination,\n            bulletActiveClass: styles.activeBullet,\n        };\n    }, [hasPagination, color]);\n    const autoplayOpts = useMemo(() => hasPagination && !!delay && { delay }, [hasPagination, delay]);\n\n    const delayRestart = useThrottledCallback(restartDelay);\n    const handleChange = useCallback(\n        (swiper) => {\n            if ((swiper.autoplay && swiper.autoplay.running) || !autoplayOpts) {\n                return;\n            }\n\n            delayRestart(() => {\n                swiper.autoplay && swiper.autoplay.start();\n            });\n        },\n        [autoplayOpts]\n    );\n\n    const handleSlide = useCallback((index) => {\n        setCurrentLightBoxSlideIndex(index);\n        openLightBox();\n    }, []);\n\n    const forceUpdate = useForceUpdate();\n    const hashItems = block.images.map(({ url, externalUrl }) => `${url}-${externalUrl}`).join(':');\n    const key = sortable\n        ? `${hashItems}-${perView}-${autoplay}-${effect}-${color}-${ratio}-${forceUpdate.count}-${width}`\n        : 'swiper';\n\n    return (\n        <BlockBase\n            lazy\n            ref={ref}\n            insets={resolvedInsets}\n            sortable={sortable}\n            {...cls([styles.root, styles[`perView-${perView}`]], rest)}\n        >\n            {total > 0 ? (\n                <Swiper\n                    key={key}\n                    interactive={rest.interactive}\n                    slideStyle={padding ? { padding: `0 ${margin}px` } : undefined}\n                    slidesPerView={perView}\n                    allowTouchMove={hasPagination && !rest.embedded}\n                    flex\n                    watchOverflow\n                    autoHeight\n                    loop\n                    autoplay={autoplayOpts}\n                    pagination={pagination}\n                    fadeEffect={fade}\n                    lazy={lazy}\n                    effect={effect}\n                    onSliderMove={handleChange}\n                    onSwiper={setSwiper}\n                    onUpdate={forceUpdate}\n                >\n                    {block.images.map((image, index) => (\n                        <ImageSlide\n                            key={image._id || `${image.url}-${index}`}\n                            index={index}\n                            image={image}\n                            swiper={swiper}\n                            style={style}\n                            theme={theme}\n                            onClick={handleSlide}\n                            isViewMode={rest.isViewMode}\n                            interactive={rest.interactive}\n                        />\n                    ))}\n                </Swiper>\n            ) : (\n                <div className={styles.preview}>\n                    <div className={cn(styles.placeholder, styles[ratio])} />\n                </div>\n            )}\n\n            {isLightbox && (\n                <LightBox activeIndex={currentLightBoxSlideIndex} images={block.images} onClose={closeLightBox} />\n            )}\n        </BlockBase>\n    );\n}\n\nImageGallery.propTypes = {\n    ...BlockBase.propTypes,\n    block: LandingsPropTypes.block.isRequired,\n};\n\nImageGallery.defaultProps = BlockBase.defaultProps;\n\nImageGallery.kind = ImageGalleryBlockKind;\n","import ImageGallery from './ImageGallery';\n\nexport default ImageGallery;\n"],"sourceRoot":""}