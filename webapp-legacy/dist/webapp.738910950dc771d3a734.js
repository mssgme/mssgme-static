(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"+9LL":function(e,t,n){"use strict";var a=n("r0ML"),r=n.n(a),s=n("+Q0i"),i=n.n(s),c=n("cNRa"),o=n.n(c),l=n("Pc05"),u=n.n(l),d=n("8KO3"),p="h9s4vVcI",m=n("WYuZ");var f=function(){const[,e]=Object(a.useState)(0),t=m.b.getInstance();return Object(a.useEffect)(()=>{const n=()=>e(e=>e+1);return t.on("notify",n),t.on("remove",n),t.on("clear",n),()=>{t.off("notify",n),t.off("remove",n),t.off("clear",n)}},[]),t};function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const g={notificationComponent:o.a.elementType,className:o.a.string},b={notificationComponent:d.a};function v(e){let{className:t,notificationComponent:n}=e;const a=f(),s=r.a.createElement("div",{className:u()(p,t)},a.getNotifications().map(e=>r.a.createElement(n,h({key:e.id,onClose:()=>a.remove(e.id)},e.options),e.message)));return i.a.createPortal(s,document.body)}v.propTypes=g,v.defaultProps=b;var y=v,E="_12nUQSGH";t.a=function(){return r.a.createElement(y,{className:E})}},"+eE7":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("ID3L"),r=n.n(a);var s=n("KhfH"),i=n("6CMS"),c=n("zbc8"),o=n("DC3q"),l=n("Zsls"),u=n.n(l),d=n("YpKG");const p=[(e,t,n)=>{if(e instanceof Date||r.a.isMoment(e))return"remaining"===t?((e,t)=>r()(e).locale(t).fromNow())(e,n):((e,t,n)=>r()(e).locale(n).format(t))(e,t,n)},(e,t,n,a)=>{if("currency"===t)return"number"==typeof e?Object(s.a)(e,a.currency,n):Object(s.a)(e.amount,e.currency,n)},(e,t,n,a)=>{if("phone"===t)return Object(i.a)(e,n)},(e,t,n)=>{if("platform"===t)return Object(o.a)(c.a,e+".label",e.toUpperCase())},(e,t,n)=>{if("plan"===t)return u.a[e]?u.a[e].name:(e||"").toUpperCase()},(e,t,n)=>{if("filesize"===t)return Object(d.a)(+e)}],m=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:navigator.language,a=arguments.length>3?arguments[3]:void 0;for(const r of p){const s=r(e,t,n,a);if(void 0!==s)return s}return e}},"+rr2":function(e,t,n){"use strict";n.r(t),n.d(t,"setAudienceFilter",(function(){return N.b})),n.d(t,"clearAudienceStore",(function(){return N.a})),n.d(t,"setFeedbackItemsFilter",(function(){return C.a})),n.d(t,"setProductsFilter",(function(){return P})),n.d(t,"clearProductsStore",(function(){return S})),n.d(t,"setProductsSubFilter",(function(){return x})),n.d(t,"clearProductsSubStore",(function(){return T})),n.d(t,"selectBot",(function(){return I})),n.d(t,"openDialogBranch",(function(){return M})),n.d(t,"setDialogPath",(function(){return L})),n.d(t,"api",(function(){return R.a})),n.d(t,"ui",(function(){return a})),n.d(t,"checkout",(function(){return r}));var a={};n.r(a),n.d(a,"toggleMobileMenu",(function(){return i})),n.d(a,"toggleStylingMode",(function(){return c})),n.d(a,"toggleMobileContainer",(function(){return o})),n.d(a,"setMessage",(function(){return l})),n.d(a,"setConversationsFilter",(function(){return u})),n.d(a,"setPagePreview",(function(){return d})),n.d(a,"setPageBlockPreview",(function(){return p})),n.d(a,"setBackTrack",(function(){return m})),n.d(a,"setAppTrackingStatus",(function(){return f}));var r={};n.r(r),n.d(r,"completePayment",(function(){return h})),n.d(r,"applyCoupon",(function(){return g})),n.d(r,"removeCoupon",(function(){return b})),n.d(r,"complete",(function(){return v})),n.d(r,"changeCountry",(function(){return y})),n.d(r,"applyPlan",(function(){return E})),n.d(r,"load",(function(){return O})),n.d(r,"selectPaymentMethod",(function(){return j})),n.d(r,"error",(function(){return w})),n.d(r,"reset",(function(){return _})),n.d(r,"close",(function(){return k}));var s=n("yPYI");const i=Object(s.a)("TOGGLE_MOBILE_MENU"),c=Object(s.a)("TOGGLE_STYLING_MODE"),o=Object(s.a)("TOGGLE_MOBILE_CONTAINER"),l=Object(s.a)("SET_MESSAGE"),u=Object(s.a)("SET_CONVERSATIONS_FILTER"),d=Object(s.a)("SET_PAGE_PREVIEW"),p=Object(s.a)("SET_PAGE_BLOCK_PREVIEW"),m=Object(s.a)("SET_BACK_TRACK"),f=Object(s.a)("SET_APP_TRACKING_STATUS"),h=Object(s.a)("CHECKOUT/COMPLETE_PAYMENT"),g=Object(s.a)("CHECKOUT/APPLY_COUPON"),b=Object(s.a)("CHECKOUT/REMOVE_COUPON"),v=Object(s.a)("CHECKOUT/COMPLETE_CHECKOUT"),y=Object(s.a)("CHECKOUT/CHANGE_COUNTRY"),E=Object(s.a)("CHECKOUT/APPLY_PLAN"),O=Object(s.a)("CHECKOUT/LOAD"),j=Object(s.a)("CHECKOUT/SELECT_PAYMENT_METHOD"),w=Object(s.a)("CHECKOUT/ERROR"),_=Object(s.a)("CHECKOUT/RESET"),k=Object(s.a)("CHECKOUT/CLOSE");var N=n("8hF1"),C=n("79Hl");const P=e=>({type:"SET_PRODUCTS_FILTER",payload:e}),S=()=>({type:"CLEAR_PRODUCTS_STORE"}),x=e=>({type:"SET_PRODUCTS_SUB_FILTER",payload:e}),T=()=>({type:"CLEAR_PRODUCTS_SUB_STORE"}),I=(e,t)=>({type:"SELECT_BOT",botId:e,bot:t}),M=e=>{let{parentResponseID:t,nextResponseID:n,content:a}=e;return{type:"OPEN_DIALOG_BRANCH",parentResponseID:t,nextResponseID:n,content:a}},L=e=>({type:"SET_DIALOG_PATH",path:e});var R=n("MP+E")},"/GFi":function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/vk.svg"},"/jrZ":function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/iconWhatsapp.svg"},0:function(e,t){},"07c+":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("r0ML"),r=n.n(a),s=n("ZAuZ"),i=n("Gkiy"),c=n("6NVd"),o=n("MY/q"),l="_3JlfBHF5";function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const d={paddingLeft:10,color:"#333",marginBottom:4};function p(e){let{component:t=s.a,id:n,label:a,required:p,labelClassName:m,inputClassName:f,errorStyle:h,shakeError:g,errors:b,wrapAs:v,children:y,...E}=e;return r.a.createElement(i.a,{as:v},a&&r.a.createElement("div",{className:l},r.a.createElement(c.a,{style:E.builderInput?d:null,htmlFor:n,hasError:!!b,className:m},a," ",p&&r.a.createElement("span",null,"*"))),r.a.createElement(t,u({id:n,className:f,hasError:!!b},E)),y,b&&r.a.createElement(o.a,{error:b,errorStyle:h,shake:g}))}},"0MO7":function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/icon_share_one.png"},"0WR7":function(e,t,n){"use strict";t.a=e=>{const t=String(e);return e=>{let{_id:n}=e;return String(n)===t}}},"0WXt":function(e,t,n){"use strict";var a=n("r0ML"),r=n.n(a),s=n("Pc05"),i=n.n(s),c={wrapper:"_11fX_eXS",root:"_1DOGLKoC",builderInput:"_16xArOy0",error:"_2bRd8mVk",normal:"_24IoT-_t",small:"RqyvhRYB",placeholder:"_3e-pxhXl",disabled:"_1fGrxhiW",arrowIcon:"_1rcUa1JO"};function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var l=a.createElement("defs",null,a.createElement("path",{d:"M396.991 2042.5l-3.308 3.025a.537.537 0 000 .808c.244.223.64.223.884 0l3.75-3.429a.537.537 0 000-.808l-3.75-3.429a.667.667 0 00-.884 0 .537.537 0 000 .808l3.308 3.025z",id:"select_arrow_svg__a"})),u=a.createElement("use",{fill:"currentColor",fillRule:"nonzero",transform:"matrix(0 1 1 0 -2038.5 -393.5)",xlinkHref:"#select_arrow_svg__a"});var d=function(e){return a.createElement("svg",o({width:8,height:5},e),l,u)};function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const m=e=>{var t;let{className:n,multiple:a,placeholder:s,options:o,hasError:l,size:u,value:m,builderInput:f,disabled:h,...g}=e;return r.a.createElement("div",{className:c.wrapper},r.a.createElement("select",p({className:i()(n,c.root,{[c.error]:l,[c[u]]:!!c[u],[c.placeholder]:s&&!m,[c.disabled]:h,[c.builderInput]:f}),multiple:a,value:m,disabled:h,"data-value":m},g),s&&r.a.createElement("option",{value:""},s),o.map(e=>r.a.createElement("option",{key:e.value,value:e.value,disabled:e.disabled},e.label))),r.a.createElement(d,{color:null===(t=g.style)||void 0===t?void 0:t.color,className:c.arrowIcon}))};m.defaultProps={builderInput:!1,hasError:!1,multiple:!1};t.a=m},1:function(e,t,n){n("NFaR"),n("MMkd"),n("FMw2"),n("N0ZT"),n("5j0x"),n("AoD7"),n("qZdN"),n("nf70"),e.exports=n("SZPi")},"17jI":function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/logo_bot.svg"},"1isK":function(e,t,n){"use strict";var a=n("Pc05"),r=n.n(a),s=n("r0ML"),i=n.n(s),c={root:"_3Pb-B5RH",spinner:"_2S9bt9mk",rotate:"_11rFdkOa",black:"_2du6YMP-",gray:"_20M_pSzf",white:"_3-o3pxPo"};function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const l=["%","px","pt","em"];function u(e){let{className:t,borderWidth:n,size:a,duration:l,color:u,style:p,...m}=e;const f=Object(s.useMemo)(()=>{const e=d(a);return{width:e,height:e,borderWidth:d(n||Math.round(.05*+e)),animationDuration:l+"s",WebkitAnimationDuration:l+"s",MozAnimationDuration:l+"s"}},[a,l,n]);return i.a.createElement("div",{className:r()(c.root,t),style:p},i.a.createElement("div",o({className:r()(c.spinner,c[u]),style:f},m)))}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px";if(!e)return;const n=String(e),a=l.find(e=>n.indexOf(e)>0);return a?e:`${e}${t}`}u.defaultProps={size:40,duration:.8,color:"black"};t.a=u},"1jyU":function(e,t,n){"use strict";t.a=function(e){const t=(e||"").toLowerCase(),n=t.includes("android"),a=t.includes("blackberry"),r=/iphone|ipad|ipod/i.test(t),s=t.includes("opera mini"),i=t.includes("iemobile");return{Android:n,BlackBerry:a,iOS:r,OperaMini:s,IEMobile:i,Safari:t.includes("safari"),WebView:t.includes("wv"),isMobile:n||a||r||s||i}}},"2xW5":function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/aboutProPhone.png"},"3HFw":function(e,t,n){var a={"./en/ui.json":["gkvY",0],"./ru/ui.json":["AX92",1],"./uk/ui.json":["V98j",2]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,3)}))}r.keys=function(){return Object.keys(a)},r.id="3HFw",e.exports=r},"3ai1":function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/powered_by_stripe_ol.svg"},"3gnH":function(e,t,n){"use strict";n.d(t,"b",(function(){return a.a})),n.d(t,"a",(function(){return a.b})),n.d(t,"d",(function(){return r.useTranslation})),n.d(t,"c",(function(){return i}));var a=n("Po5v"),r=n("kkZN"),s=n("r0ML");function i(e,t){return Object(s.useState)(()=>a.a.registerResolver(e,t)),Object(r.useTranslation)(e)}n("+eE7")},"4iID":function(e,t,n){"use strict";var a=n("r0ML");function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var s=a.createElement("circle",{cx:1,cy:1,r:1,fill:"currentColor"}),i=a.createElement("circle",{cx:5,cy:1,r:1,fill:"currentColor"}),c=a.createElement("circle",{cx:1,cy:6,r:1,fill:"currentColor"}),o=a.createElement("circle",{cx:5,cy:6,r:1,fill:"currentColor"}),l=a.createElement("circle",{cx:1,cy:11,r:1,fill:"currentColor"}),u=a.createElement("circle",{cx:5,cy:11,r:1,fill:"currentColor"});t.a=function(e){return a.createElement("svg",r({viewBox:"0 0 6 12",fill:"none"},e),s,i,c,o,l,u)}},"5Ay2":function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/facebook.png"},"5WF1":function(e,t,n){var a={"./Avatar.svg":"8Fnn","./aboutProBg.jpg":"Mh6W","./aboutProLogo.svg":"Fgr5","./aboutProPhone.png":"2xW5","./ae_logo.png":"W5Fm","./ae_logo.svg":"yfn/","./blank.png":"Ng9b","./card/logo.svg":"DSsC","./choose.svg":"KDbz","./do.png":"y/NB","./facebook.png":"5Ay2","./facebook2.svg":"TM/7","./hand.png":"o9yr","./ic_check_circle_black_24px.svg":"fc//","./icon-go-back.svg":"eI6h","./iconWhatsapp.svg":"/jrZ","./icon_arrow_grey.svg":"9hqQ","./icon_share_one.png":"0MO7","./icon_share_three.png":"t27/","./icon_share_two.png":"IfAq","./icon_we_use_mssgme_en.svg":"DkyN","./icon_we_use_mssgme_ru.svg":"uzfa","./insta.svg":"o5DE","./insta_share.png":"kpO9","./logo.svg":"zA3n","./logo_bot.svg":"17jI","./man.png":"WMO/","./mc_logo.png":"qEs3","./messengers/icon-facebook-login.svg":"7Sa5","./messengers/icon-facebook.svg":"rIrL","./messengers/icon-line.svg":"FzdF","./messengers/icon-skype.svg":"xk1Y","./messengers/icon-telegram.svg":"sJC1","./messengers/icon-viber.svg":"zY6s","./messengers/icon-vk.svg":"y0Q8","./messengers/icon-whatsapp.svg":"rdQp","./onboarding/analytics.svg":"KZ4r","./onboarding/analytics_integrations.svg":"pmn+","./onboarding/categories.svg":"lhwe","./onboarding/cover.svg":"tbzE","./onboarding/domain.svg":"RspG","./onboarding/googlepay.png":"td/u","./onboarding/link.svg":"X7QK","./onboarding/messengers.svg":"qFRm","./onboarding/no_branding.svg":"C4Pa","./onboarding/pixel.svg":"hJsr","./onboarding/support.svg":"trqa","./power.png":"gHcT","./powered_by_stripe_ol.svg":"3ai1","./robot.png":"v4jp","./stripe.png":"Qlef","./telegram.png":"sav8","./telegram2.svg":"BHCP","./viber.svg":"QJGC","./viber2.svg":"lsIJ","./visa_light.svg":"RbiZ","./visa_logo.png":"H8+p","./vk.svg":"/GFi","./whatsapp.svg":"e66u","./woman.png":"tSrR"};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id="5WF1"},"5hFp":function(e,t,n){"use strict";var a=n("8qbc");class r extends a.a{list(e,t){return this.get([`/workspaces/${e}/products`,t])}load(e,t){return this.get([`/workspaces/${e}/products/${t}`])}loadBySlug(e,t,n){return this.get([`/workspaces/${e}/products/${n}/${t}`])}}t.a=new r},"6BW+":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c}));var a=n("t1lN"),r=n("QSHt");const s=e=>e.currentUser.user,i=e=>e.currentUser.markers,c=Object(a.a)(s,r.b,(e,t)=>{var n;return null===(n=e.workspaces.find(e=>e.workspace===t._id))||void 0===n?void 0:n.role})},"6CMS":function(e,t,n){"use strict";t.a=(e,t)=>{const n=(e||"").replace(/\D/g,"").match(/^(?:(\d*?)(\d{1,3}))?(\d{3})(\d{2})(\d{2})$/);if(n){const[,e,t,...a]=n;let r=a.join(e?" ":"-");return t&&(r=(e?t:`(${t})`)+" "+r),e&&(r=`+${e} `+r),r}return e||""}},"6NVd":function(e,t,n){"use strict";var a=n("r0ML"),r=n.n(a),s=n("Pc05"),i=n.n(s),c="_3bntFHH4";function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const l=e=>{let{className:t,hasError:n,children:a,...s}=e;return r.a.createElement("label",o({className:i()(c,t)},s),a)};l.defaultProps={hasError:!1};t.a=l},"6TEX":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("r0ML");function r(e){const t=Object(a.useRef)(e);return t.current=e,Object(a.useCallback)((function(){return t.current(...arguments)}),[])}},"6WZD":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={};n.r(a),n.d(a,"MediaSizes",(function(){return i})),n.d(a,"resolveUploadSize",(function(){return c})),n.d(a,"resolveUpload",(function(){return o})),n.d(a,"normalizeUrls",(function(){return l})),n.d(a,"isLocal",(function(){return u})),n.d(a,"isAbsolute",(function(){return d})),n.d(a,"getAbsoluteUrl",(function(){return p})),n.d(a,"getRelativeUrl",(function(){return m})),n.d(a,"computeChanges",(function(){return f})),n.d(a,"addFilenameSuffix",(function(){return h})),n.d(a,"generateAbsoluteUrl",(function(){return g})),n.d(a,"generateThumbnailUrl",(function(){return b})),n.d(a,"generateProductThumbnailUrl",(function(){return v}));n("PZsd");var r=n("cGUp"),s=n.n(r);const i={Original:"original",Large:"medium",Half:"small",Icon:"icon"};function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Original,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t)return t;const r=d(t),s=!(r&&!u(t));if(s&&n!==i.Original){const s=r?m(t):t,i=e.find(e=>{let{path:t}=e;return t===s});if(i){const e=i.metadata.sizes.find(e=>{let{type:t}=e;return t===n});if(e)return e.url}else a&&(t=h(t,"-"+n))}return r?t:p(t)}function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Original;if(!t)return{size:null,upload:null};const a=d(t),r=!(a&&!u(t));if(r){const r=a?m(t):t,s=e.find(e=>{let{path:t}=e;return t===r});if(s){const e=s.metadata.sizes.find(e=>{let{type:t}=e;return t===n});return e?{size:e,upload:s}:{size:s,upload:s}}}return{size:null,upload:null}}function l(e){if(!e)return[];return(Array.isArray(e)?e:[e]).filter(e=>e)}function u(e){return e.startsWith(s.a.media_url)}function d(e){return/^[a-z][a-z\d+.-]*:/.test(e)}function p(e){return e?d(e)?e:function(e,t){const n=new URL(t,new URL(e,"resolve://"));if("resolve:"===n.protocol){const{pathname:e,search:t,hash:a}=n;return e+t+a}return n.toString()}(s.a.media_url,e):null}function m(e){return e?e.startsWith(s.a.media_url)?e.slice(s.a.media_url.length+1):e:null}function f(e,t){e=l(e),t=l(t);return{remove:e.filter(e=>!t.includes(e)),keep:t.filter(t=>!e.includes(t))}}function h(e,t){const n=e.match(/^(.*)\.([^.]+)$/);return n?`${n[1]}${t}.${n[2]}`:e}function g(e){if(!e)return e;return new URL(e,s.a.media_url).href}function b(e,t){if(!e)return e;const n=new URL(e,s.a.media_url);return n.pathname="/thumbnails/"+(t+n.pathname),n.href}function v(e){return b(e,"product_cover")}},"6dgs":function(e,t,n){"use strict";n.d(t,"i",(function(){return E})),n.d(t,"h",(function(){return N})),n.d(t,"n",(function(){return H})),n.d(t,"l",(function(){return te})),n.d(t,"k",(function(){return ae})),n.d(t,"j",(function(){return ce})),n.d(t,"c",(function(){return pe})),n.d(t,"f",(function(){return we})),n.d(t,"o",(function(){return ot})),n.d(t,"p",(function(){return lt})),n.d(t,"a",(function(){return dt})),n.d(t,"g",(function(){return gt})),n.d(t,"e",(function(){return Ot})),n.d(t,"d",(function(){return Nt})),n.d(t,"b",(function(){return Dt})),n.d(t,"m",(function(){return Wt}));var a={};n.r(a),n.d(a,"shortenThan",(function(){return S})),n.d(a,"longerThan",(function(){return x})),n.d(a,"repetitive",(function(){return T})),n.d(a,"noLowercase",(function(){return I})),n.d(a,"noUppercase",(function(){return M})),n.d(a,"noNumbers",(function(){return L})),n.d(a,"noSymbols",(function(){return R})),n.d(a,"lazyPassword",(function(){return A})),n.d(a,"PasswordValidator",(function(){return F})),n.d(a,"passwordValidator",(function(){return D}));var r=n("r0ML"),s=n.n(r),i=n("Pc05"),c=n.n(i),o=(n("wxgb"),n("63aL")),l=n("kkZN"),u=n("1isK"),d={root:"_1IRW7PNg",spinner:"wFhA8qbn",rounded:"_2ZAkVmfU",emptyTip:"_26Je8_j2",noUrl:"_29HnrfZt"};function p(e){let{className:t,url:n,width:a,height:r,roundness:i,hasTip:p,isUploading:m}=e;const{t:f}=Object(l.useTranslation)(),h={width:a+"px",height:r+"px"};return n&&(h.backgroundImage=`url("${n}")`),s.a.createElement("div",{className:c()(t,[d.root],d[i],m&&d.uploading),style:h},!n&&p&&s.a.createElement("div",{className:d.emptyTip},s.a.createElement(o.d,{size:"24"}),s.a.createElement("span",null,f("imagePreview.placeholder"))),m&&s.a.createElement("div",{className:d.spinner},s.a.createElement(u.a,null)))}p.defaultProps={width:40,height:40,roundness:"circle"};var m="_1yCqpQbN",f="_3Mc4O1Cf",h="_30a8qjRo",g="_32IB7zUI",b="_15HvNXWX",v="_1TIUub5Y";function y(e){let{className:t,accept:n,name:a,onChange:r,buttonLabel:i,previewUrl:c,isUploading:o,onApplyClick:d,active:p}=e;const{t:y}=Object(l.useTranslation)("ui");return s.a.createElement("div",{className:t},s.a.createElement("div",{className:m},s.a.createElement("div",{className:f},c&&s.a.createElement("img",{src:c,alt:"Cover"}),!c&&s.a.createElement("span",{className:v},y("ImageUploadCover.empty")),s.a.createElement("div",{className:h},s.a.createElement("div",{className:g,style:{marginRight:"auto"}},o&&s.a.createElement(u.a,{size:16,color:"black"}),!o&&s.a.createElement(s.a.Fragment,null,i,s.a.createElement("input",{type:"file",className:b,accept:n,name:a,onChange:r}))),!p&&!!c&&s.a.createElement("div",{className:g,onClick:d},y("ImageUploadCover.enable"))))))}y.defaultProps={className:"",buttonLabel:"Upload",previewUrl:null};var E=y,O="_1XH8c6Lf",j="_3J0pfKab",w="uUp29eyC",_="_36Zl3dVC";function k(e){let{className:t,accept:n,name:a,onChange:r,buttonLabel:i,previewUrl:c,isUploading:o}=e;return s.a.createElement("div",{className:t},s.a.createElement("div",{className:O},s.a.createElement("div",{className:j},s.a.createElement("img",{src:c,alt:"Avatar"})),s.a.createElement("div",{className:w},o&&s.a.createElement(u.a,{size:16,color:"black"}),!o&&s.a.createElement(s.a.Fragment,null,i,s.a.createElement("input",{type:"file",className:_,accept:n,name:a,onChange:r})))))}k.defaultProps={className:"",buttonLabel:"Upload"};var N=k;const C=e=>e.reduce((e,t)=>e+(t.weight||0),0),P=/^([A-Z]+)?([a-z]*)(\d*)([^\w\d]*)$/,S=(e,t)=>e.length<t.minLength&&{error:"too-short",message:"The password should not be shorter than {{length}} characters.",length:t.minLength},x=(e,t)=>e.length>t.maxLength&&{error:"too-long",message:"The password should not be longer than {{length}} characters.",length:t.maxLength},T=(e,t)=>e.match(/(.)\1{2,}/)&&{error:"too-repetitive",message:"The password should not contain sequences of same characters."},I=(e,t)=>!e.match(/[a-z]/)&&{error:"no-lowercase",message:"The password should contain at least one lowercase character."},M=(e,t)=>!e.match(/[A-Z]/)&&{error:"no-uppercase",message:"The password should contain at least one uppercase character."},L=(e,t)=>!e.match(/\d/)&&{error:"no-numbers",message:"The password should contain any number."},R=(e,t)=>!e.match(/[A-Za-z\d]/)&&{error:"no-symbols",message:"The password should contain at least one special character."},A=(e,t)=>{if(!(e.length&&e.length<t.arguablySafeLength))return;const n=["","uppercase","lowercase","numbers","symbols"],a=e.match(P);if(!a)return;return{error:"too-easy",message:'The password should not conform to easily guessable pattern "{{pattern}}", or it should be long enough ({{length}}+ symbols).',pattern:n.map((e,t)=>e&&a[t]).map((e,t)=>e&&n[t]).filter(Boolean).join("+"),length:t.arguablySafeLength}};class F{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.required=[],this.optional=[],Object.assign(this,e)}validate(e){const t=[];for(const[n,a]of[this.required,this.optional].entries())for(const{fn:r,...s}of a){const a=r(e,this);a&&t.push(Object.assign(a,{required:!n,...s}))}return t}estimate(e){const t=C([...this.required,...this.optional]);return{total:t,weight:e.find(e=>e.required)?0:t-C(e)}}}const D=e=>new F({minLength:10,maxLength:100,arguablySafeLength:20,required:[{weight:50,fn:S},{weight:0,fn:x}],optional:[{weight:25,fn:A},{weight:5,fn:T},{weight:5,fn:I},{weight:5,fn:M},{weight:5,fn:L},{weight:5,fn:R}],...e}),U={...a};var B=n("07c+"),q=n("MY/q"),z={strengthMeter:"_2bKzr0pF",withLabel:"CUFETq6D","strength-0":"_1cEpIdUZ",strength0:"_1cEpIdUZ","strength-1":"_3bcRcfx3",strength1:"_3bcRcfx3","strength-2":"R0pQddQX",strength2:"R0pQddQX"};function V(){return(V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const W=U.passwordValidator({minLength:6,maxLength:40,arguablySafeLength:20,required:[{weight:50,fn:U.shortenThan,message:"password_length"},{weight:0,fn:U.longerThan,message:"password_length"}],optional:[{weight:50,fn:U.lazyPassword,message:"password_complexity"}]});class H extends s.a.Component{static getDerivedStateFromProps(e,t){return e.value!==t.initialPassword?{initialPassword:e.value,password:e.value||""}:null}constructor(e){super(e),this.state={initialPassword:e.value,password:e.value||"",strength:0,errors:null,warnings:[]},this.handleChange=this.handleChange.bind(this)}componentDidUpdate(e,t){const n=this.state.password;if(n!==t.password){const{error:e,lazy:t}=this.props,a=t&&!n,r=a?[]:W.validate(n),{total:s,weight:i}=W.estimate(r),c=i<=0||a?0:i>=s?2:1,o=r.filter(e=>e.required),l=r.filter(e=>!e.required);this.setState(()=>({errors:(o.length||e)&&[e,...o].filter(Boolean),warnings:l,strength:c}))}}handleChange(e){this.setState({password:e.target.value}),this.props.onChange&&this.props.onChange(e)}render(){const{className:e,withLabel:t,error:n,lazy:a,...r}=this.props,{password:i,strength:o,errors:u,warnings:d}=this.state;return s.a.createElement(l.Translation,null,n=>s.a.createElement(B.a,V({},r,{value:i,errors:u&&u.map(e=>"string"==typeof e?e:n("errorsList."+e.message,e)),type:"password",className:c()(z.root,e,z["strength-"+o]),onChange:this.handleChange}),s.a.createElement("div",{className:c()(z.strengthMeter,z["strength-"+o],{[z.withLabel]:t})},t&&n("passwordStrength."+o)),d.length?s.a.createElement(q.a,{error:d.map(e=>n("errorsList."+e.message,e)),critical:!1}):null))}}const K=s.a.createContext(null);function G(){return Object(r.useContext)(K)}function Z(){return(Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Q(e){let{tag:t="button",onAccept:n,onDismiss:a,children:r,...i}=e;const c=G();if(!c)return null;return s.a.createElement(t,Z({onClick:async function(e){e.preventDefault(),c.prompt(),"accepted"!==(await c.userChoice).outcome?n&&n():a&&a()}},i),r)}var J=n("F80f"),$=n("yW3b");function Y(){return(Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function X(e){let{onInstall:t,...n}=e;const{t:a}=Object(l.useTranslation)();return s.a.createElement(J.a,Y({title:a("InstallDialog.heading",{name:"mssg.me"}),modal:{size:"small"}},n),s.a.createElement("p",null,a("InstallDialog.content",{name:"mssg.me"})),s.a.createElement("p",null,s.a.createElement($.a,{fullWidth:!0,onClick:t},a("InstallDialog.install"))))}function ee(){return(ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function te(e){const[t,n]=Object(r.useState)(null);return Object(r.useEffect)(()=>{function e(e){e.preventDefault&&e.preventDefault(),n(e)}return window.addEventListener("beforeinstallprompt",e),()=>window.removeEventListener("beforeinstallprompt",e)}),s.a.createElement(K.Provider,ee({value:t},e))}function ne(){return(ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ae(e){return s.a.createElement(Q,ne({tag:"a",href:"#"},e))}var re=n("YFEe"),se=n("4wcP");function ie(){const e=G(),t=Object(re.a)("(display-mode: standalone)"),[n,a]=Object(se.a)("install_dismiss_at",0),[s,i]=Object(r.useState)(n+12096e5<Date.now());function c(){i(!1),a(Date.now())}return{isOpen:!t&&e&&s,dismiss:c,install:async function(t){t.preventDefault(),e.prompt(),"accepted"===(await e.userChoice).outcome?i(!1):c()}}}function ce(){const{isOpen:e,install:t,dismiss:n}=ie();return s.a.createElement(X,{isOpen:e,onClose:n,onInstall:t})}var oe=n("g0xT"),le=n("p4j6");function ue(){return(ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function de(e){const{t:t}=Object(l.useTranslation)();return s.a.createElement(J.a,ue({},e,{title:t("UpdateDialog.heading"),modal:{size:"small"}}),s.a.createElement("p",null,t("UpdateDialog.content")),s.a.createElement("p",null,s.a.createElement($.a,{fullWidth:!0,onClick:async function(e){e.preventDefault(),window.location.reload()}},t("UpdateDialog.update"))))}function pe(){const e=Object(le.a)(),t=Object(oe.d)(e=>e.ui.isClientExpired);return Object(r.useEffect)(()=>{t&&async function(){if("caches"in window){const e=await caches.keys();await Promise.all(e.map(e=>caches.delete(e)))}if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistration();if(!e)return;await e.update()}}().then(()=>{e.show()})},[t]),s.a.createElement(de,e.props)}n("v4jp");n("Usj1"),n("TN6c");var me=n("QD+E"),fe="_1xGBoevf",he="_39oq4P6F",ge="_1k34zDiH";function be(){return(be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var ve=r.createElement("g",{clipPath:"url(#logo_text_white_svg__clip0)",fill:"#F2F5FA"},r.createElement("path",{d:"M5.112 4.55c0-.72.573-1.305 1.278-1.305.706 0 1.279.584 1.279 1.306v12.186c0 .721-.573 1.306-1.279 1.306-.705 0-1.278-.585-1.278-1.306V4.551zm10.225 1.741c0-.72.572-1.305 1.278-1.305.706 0 1.278.584 1.278 1.305v12.187c0 .721-.572 1.306-1.278 1.306-.706 0-1.278-.585-1.278-1.306V6.291zM10.225 2.81c0-.722.572-1.306 1.278-1.306.706 0 1.278.584 1.278 1.306v12.186c0 .721-.572 1.306-1.278 1.306-.706 0-1.278-.585-1.278-1.306V2.81zM23.73 19.913c.635-.313 1.4-.04 1.705.61.307.65.04 1.43-.597 1.743L14.05 27.573C9.174 29.97 3.318 27.877.97 22.896A10.19 10.19 0 010 18.553v-9.65c0-.721.572-1.306 1.278-1.306.706 0 1.278.585 1.278 1.306v9.65c0 1.112.245 2.209.717 3.21 1.735 3.682 6.064 5.23 9.668 3.457l10.789-5.307z"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47.922 9.772c1.106 0 1.87.344 2.295 1.03.425.686.637 1.636.637 2.849v4.355c0 .295-.095.541-.285.74a.954.954 0 01-.72.297c-.29 0-.53-.099-.72-.297a1.028 1.028 0 01-.286-.74V13.65c0-.624-.12-1.114-.36-1.471-.24-.358-.661-.536-1.264-.536-.626 0-1.114.19-1.466.57-.352.38-.528.858-.528 1.437v4.355c0 .295-.095.541-.285.74a.954.954 0 01-.72.297c-.29 0-.53-.099-.72-.297a1.028 1.028 0 01-.285-.74V13.65c0-.624-.12-1.114-.36-1.471-.24-.358-.662-.536-1.265-.536-.626 0-1.114.19-1.466.57-.352.38-.528.858-.528 1.437v4.355c0 .295-.095.541-.285.74a.954.954 0 01-.72.297c-.29 0-.53-.099-.72-.297a1.029 1.029 0 01-.285-.74V10.98c0-.295.095-.541.285-.74a.954.954 0 01.72-.297c.29 0 .53.099.72.297.19.199.285.445.285.74v.272a4.114 4.114 0 011.148-1.046c.463-.289.98-.434 1.55-.434 1.407 0 2.306.624 2.696 1.872.257-.477.645-.908 1.165-1.293a2.889 2.889 0 011.767-.579zm4.8 7.86a.836.836 0 01-.151-.51c0-.296.145-.545.435-.75a.877.877 0 01.486-.152c.235 0 .458.107.67.323.335.351.684.612 1.047.782.363.17.801.256 1.315.256.871-.035 1.307-.37 1.307-1.004 0-.33-.148-.579-.444-.749-.296-.17-.757-.34-1.382-.51a11.867 11.867 0 01-1.583-.544 2.808 2.808 0 01-1.055-.825c-.296-.369-.444-.865-.444-1.489 0-.544.153-1.018.46-1.42.307-.403.71-.715 1.206-.936a3.852 3.852 0 011.584-.332 4.8 4.8 0 011.708.324c.57.215 1.017.533 1.34.952a.955.955 0 01.218.613c0 .26-.106.476-.318.646a.836.836 0 01-.536.187.81.81 0 01-.603-.238 2.131 2.131 0 00-.78-.595 2.543 2.543 0 00-1.08-.221c-.849 0-1.273.311-1.273.935 0 .25.078.45.235.604.156.153.354.272.594.357.24.085.578.19 1.014.315.603.17 1.105.346 1.508.527.402.182.742.46 1.021.834.28.374.42.867.42 1.48 0 .555-.163 1.04-.487 1.454a3.08 3.08 0 01-1.248.944 3.975 3.975 0 01-1.566.323 5.597 5.597 0 01-2.06-.374 3.43 3.43 0 01-1.559-1.207zm8.283 0a.836.836 0 01-.15-.51c0-.296.145-.545.435-.75a.877.877 0 01.486-.152c.235 0 .458.107.67.323.335.351.684.612 1.047.782.363.17.801.256 1.315.256.871-.035 1.307-.37 1.307-1.004 0-.33-.148-.579-.444-.749-.296-.17-.757-.34-1.382-.51a11.874 11.874 0 01-1.583-.544 2.808 2.808 0 01-1.056-.825c-.295-.369-.444-.865-.444-1.489 0-.544.154-1.018.461-1.42.307-.403.71-.715 1.206-.936a3.852 3.852 0 011.584-.332c.569 0 1.139.108 1.708.324.57.215 1.016.533 1.34.952a.955.955 0 01.218.613c0 .26-.106.476-.318.646a.836.836 0 01-.536.187.81.81 0 01-.603-.238 2.132 2.132 0 00-.78-.595 2.542 2.542 0 00-1.08-.221c-.849 0-1.273.311-1.273.935 0 .25.078.45.235.604.156.153.354.272.594.357.24.085.578.19 1.014.315.603.17 1.106.346 1.508.527.401.182.742.46 1.021.834.28.374.42.867.42 1.48 0 .555-.163 1.04-.487 1.454a3.08 3.08 0 01-1.248.944 3.975 3.975 0 01-1.566.323 5.596 5.596 0 01-2.06-.374 3.43 3.43 0 01-1.559-1.207zm16.225-7.86c.29 0 .53.097.72.29.19.192.285.442.285.748v7.57c0 1.384-.421 2.407-1.265 3.07-.843.664-1.912.996-3.208.996-.335 0-.795-.057-1.382-.17-.586-.114-1.002-.227-1.248-.34-.547-.239-.82-.568-.82-.987 0-.08.016-.17.05-.273.067-.25.181-.439.343-.57a.824.824 0 01.528-.195c.111 0 .218.017.318.051.045.011.321.116.83.315.507.198.968.297 1.381.297.827 0 1.444-.167 1.852-.502.407-.334.61-.807.61-1.42v-.816c-.245.351-.616.669-1.113.952a3.177 3.177 0 01-1.6.425 3.94 3.94 0 01-2.136-.603 4.207 4.207 0 01-1.516-1.676c-.368-.714-.553-1.525-.553-2.433 0-.907.182-1.72.545-2.44.363-.72.86-1.282 1.49-1.685a3.828 3.828 0 012.103-.604c.57 0 1.1.12 1.591.358.492.238.888.527 1.19.867v-.187c0-.295.095-.541.285-.74a.955.955 0 01.72-.298zm-3.468 7.57c.749 0 1.36-.269 1.835-.808.474-.538.712-1.216.712-2.032 0-.817-.238-1.498-.712-2.042-.475-.544-1.086-.816-1.835-.816-.748 0-1.357.272-1.826.816-.469.544-.703 1.225-.703 2.041 0 .817.234 1.495.703 2.033.47.539 1.078.808 1.826.808zm7.748 1.684c-.324 0-.572-.087-.745-.263-.173-.176-.26-.428-.26-.757v-.29c0-.328.087-.58.26-.757.173-.175.421-.263.745-.263h.218c.324 0 .572.088.746.263.173.176.26.429.26.758v.289c0 .329-.087.581-.26.757-.174.175-.422.263-.746.263h-.218zm13.83-9.254c1.105 0 1.87.344 2.294 1.03.425.686.637 1.636.637 2.849v4.355c0 .295-.095.541-.285.74a.954.954 0 01-.72.297c-.29 0-.53-.099-.72-.297a1.028 1.028 0 01-.286-.74V13.65c0-.624-.12-1.114-.36-1.471-.24-.358-.661-.536-1.265-.536-.625 0-1.113.19-1.465.57-.352.38-.528.858-.528 1.437v4.355c0 .295-.095.541-.285.74a.954.954 0 01-.72.297c-.29 0-.53-.099-.72-.297a1.029 1.029 0 01-.285-.74V13.65c0-.624-.12-1.114-.36-1.471-.24-.358-.662-.536-1.265-.536-.626 0-1.114.19-1.466.57-.352.38-.528.858-.528 1.437v4.355c0 .295-.095.541-.285.74a.954.954 0 01-.72.297c-.29 0-.53-.099-.72-.297a1.029 1.029 0 01-.285-.74V10.98c0-.295.095-.541.285-.74a.954.954 0 01.72-.297c.29 0 .53.099.72.297.19.199.285.445.285.74v.272a4.115 4.115 0 011.148-1.046c.463-.289.98-.434 1.55-.434 1.407 0 2.306.624 2.697 1.872.256-.477.644-.908 1.164-1.293a2.889 2.889 0 011.767-.579zm13.359 4.508a.877.877 0 01-.318.664c-.201.17-.436.255-.704.255h-5.528c.134.669.441 1.193.921 1.573.481.38 1.022.57 1.625.57.458 0 .816-.042 1.072-.127.257-.085.461-.176.612-.272.151-.097.254-.162.31-.196.201-.102.391-.153.569-.153.235 0 .436.085.603.255a.82.82 0 01.252.595c0 .307-.157.584-.469.834-.313.26-.732.482-1.257.663a4.838 4.838 0 01-1.591.273c-.938 0-1.756-.199-2.454-.596a4.128 4.128 0 01-1.617-1.641c-.38-.698-.57-1.483-.57-2.356 0-.976.201-1.832.603-2.57.403-.736.933-1.3 1.592-1.692a4.065 4.065 0 012.111-.587c.737 0 1.432.205 2.085.613a4.545 4.545 0 011.567 1.65c.391.692.586 1.44.586 2.245zm-4.238-2.636c-1.296 0-2.061.618-2.295 1.854h4.389v-.12c-.045-.476-.274-.884-.687-1.224a2.153 2.153 0 00-1.407-.51z"})),ye=r.createElement("defs",null,r.createElement("clipPath",{id:"logo_text_white_svg__clip0"},r.createElement("path",{fill:"#fff",d:"M0 0h108.75v30H0z"})));var Ee=function(e){return r.createElement("svg",be({width:109,height:30,fill:"none"},e),ve,ye)},Oe=n("cGUp"),je=n.n(Oe);var we=e=>{let{button:t}=e;return s.a.createElement("div",{className:fe},s.a.createElement("a",{href:je.a.main_url,className:he},s.a.createElement(Ee,null)),t&&s.a.createElement(me.c,{to:t.to,className:ge},t.text))};n("4ZHd");var _e=n("lkLo"),ke=n("9Mw8"),Ne=n("goqe"),Ce=n("tdNs"),Pe=n("Rkv1"),Se=n("BFji"),xe=n("7+Q5");function Te(){return(Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ie(e,t){return r.createElement(xe.b,Te({viewBox:"0 0 20 20",fill:"currentColor",ref:t},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.561 0H5.44A5.439 5.439 0 000 5.439V18.42C0 19.293.707 20 1.579 20H14.56A5.439 5.439 0 0020 14.561V5.44A5.439 5.439 0 0014.561 0zm0 17.544H2.456V5.439A2.982 2.982 0 015.44 2.456h9.122a2.982 2.982 0 012.983 2.983v9.122a2.982 2.982 0 01-2.983 2.983z"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.86 11.228a1.228 1.228 0 100-2.456 1.228 1.228 0 000 2.456zM10 11.228a1.228 1.228 0 100-2.456 1.228 1.228 0 000 2.456zM6.14 11.228a1.228 1.228 0 100-2.456 1.228 1.228 0 000 2.456z"}))}var Me=r.forwardRef(Ie),Le=n("N6lx");function Re(){return(Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Ae=r.createElement("g",{fillRule:"nonzero",fill:"currentColor"},r.createElement("path",{d:"M6.08 3.625v12.688c0 .75.629 1.359 1.404 1.359.775 0 1.403-.609 1.403-1.36V3.626c0-.75-.628-1.36-1.403-1.36s-1.403.61-1.403 1.36zM17.306 5.438v12.687c0 .75.629 1.36 1.404 1.36.775 0 1.403-.61 1.403-1.36V5.437c0-.75-.628-1.359-1.403-1.359s-1.404.609-1.404 1.36zM11.694 1.813V14.5c0 .75.628 1.36 1.403 1.36s1.403-.61 1.403-1.36V1.812c0-.75-.628-1.359-1.403-1.359s-1.403.609-1.403 1.36z"}),r.createElement("path",{d:"M26.52 19.619l-11.845 5.525c-3.956 1.845-8.708.234-10.614-3.599a7.504 7.504 0 01-.787-3.342V8.156c0-.75-.628-1.36-1.403-1.36s-1.403.61-1.403 1.36v10.047c0 1.566.364 3.111 1.065 4.521 2.577 5.187 9.007 7.366 14.36 4.87l11.845-5.525c.698-.326.992-1.139.655-1.815-.336-.676-1.174-.96-1.873-.635z"}));var Fe=function(e){return r.createElement("svg",Re({viewBox:"0 0 29 29"},e),Ae)};function De(){return(De=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Ue=r.createElement("path",{d:"M20.3 8.7c.1.2.3.3.5.3h.2c1.7 0 3 1.3 3 3s-1.3 3-3 3h-.1c-.3 0-.5.2-.6.4-.1.3-.1.5.1.7l.1.1c.6.6.9 1.3.9 2.1s-.3 1.6-.9 2.1c-.6.6-1.3.9-2.1.9s-1.6-.3-2.1-.9l-.1-.1c-.2-.2-.5-.2-.7-.1s-.4.3-.4.6v.2c0 1.7-1.3 3-3 3s-3-1.3-3-3c0-.3-.2-.6-.5-.7-.2-.1-.5-.1-.7.1l-.1.1c-.6.6-1.3.9-2.1.9s-1.6-.3-2.1-.9c-.6-.6-.9-1.3-.9-2.1s.3-1.6.9-2.1l.1-.1c.2-.2.2-.5.1-.7-.1-.2-.3-.4-.6-.4H3c-1.7 0-3-1.3-3-3s1.3-3 3-3c.3 0 .6-.2.7-.5.1-.2.1-.5-.1-.7l-.1-.1c-.6-.5-.9-1.3-.9-2.1s.3-1.6.9-2.1c.6-.6 1.3-.9 2.1-.9s1.6.3 2.1.9l.1.1c.2.1.5.2.7.1.1 0 .1 0 .2-.1.2-.1.3-.3.3-.5V3c0-1.7 1.3-3 3-3s3 1.3 3 3v.1c0 .3.2.5.4.6s.5.1.7-.1l.1-.1c.6-.6 1.3-.9 2.1-.9s1.6.3 2.1.9c.6.6.9 1.3.9 2.1s-.3 1.6-.9 2.1l-.1.1c-.2.2-.2.5-.1.7.1.1.1.1.1.2zm-11.2-3c-.9.3-2 .1-2.7-.6L6.3 5c-.2-.2-.4-.3-.7-.3s-.5.1-.7.3c-.2.2-.3.4-.3.7 0 .3.1.5.3.7l.1.1c.8.8 1 1.9.6 2.9s-1.3 1.7-2.4 1.7H3c-.6 0-1 .4-1 1s.4 1 1 1h.2c1.1 0 2 .6 2.4 1.6.4 1 .2 2.1-.5 2.9l-.1.1c-.2.2-.3.4-.3.7s.1.5.3.7c.2.2.4.3.7.3.3 0 .5-.1.7-.3l.1-.1c.8-.8 1.9-1 2.9-.6s1.7 1.3 1.7 2.4v.2c0 .6.4 1 1 1s1-.4 1-1v-.2c0-1.1.6-2 1.6-2.4s2.1-.2 2.9.5l.1.1c.2.2.4.3.7.3s.5-.1.7-.3c.2-.2.3-.4.3-.7s-.1-.5-.3-.7l-.1-.1c-.8-.8-1-1.9-.5-2.9.4-1 1.4-1.6 2.4-1.6h.1c.6 0 1-.4 1-1s-.4-1-1-1h-.2c-1.1 0-2-.6-2.4-1.6 0-.1-.1-.2-.1-.3-.3-.9-.1-2 .6-2.7l.1-.1c.2-.2.3-.4.3-.7s-.1-.5-.3-.7-.4-.3-.7-.3-.5.1-.7.3l-.1.1c-.8.8-1.9 1-2.9.5-1-.4-1.6-1.4-1.6-2.4V3c0-.6-.4-1-1-1s-1 .4-1 1v.2c0 1.1-.6 2-1.6 2.4-.1 0-.2.1-.3.1zM12 16c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4zm0-2c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z",fill:"currentColor"});var Be=function(e){return r.createElement("svg",De({viewBox:"0 0 24 24"},e),Ue)};function qe(){return(qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var ze=r.createElement("path",{d:"M3 12h18M3 6h18M3 18h18"});var Ve=function(e){return r.createElement("svg",qe({viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"iconBurger_svg__feather iconBurger_svg__feather-menu"},e),ze)},We="_4f2mvJRZ",He="_94hMt30F",Ke="_3sJcAJ-2",Ge="_2uQ6ngW3",Ze="_1PI1JOmK";function Qe(e){let{as:t,soon:n,isMarked:a,title:r,label:i,children:o,...l}=e;const u={className:c()(We,{[Ke]:n,[He]:a}),"data-nav":r||i,title:r||i,...l};return t===me.d&&(u.activeClassName=Ge),s.a.createElement(t,u,s.a.createElement("div",{className:Ze},o),i&&s.a.createElement("span",null,i,n&&s.a.createElement("i",null," (soon)")))}Qe.defaultProps={soon:!1,as:me.d};var Je="_1kvk2wcu",$e="_3dTVRjD7",Ye="a0hG0Bv9",Xe="_2WvuLeKR",et="_1rpcSVL1",tt="_1euF0FA0",nt="_3ZrH0oyT",at="_2aWHXjiB",rt=n("vkNX"),st="i2TwS6Hh";const it={enter:"_1oCZOe0f",enterActive:"JPzq_6k_",exit:"_2cSp_Rch",exitActive:"_3TQT7TmW"};function ct(e){let{isOpen:t,onClose:n}=e;return s.a.createElement(rt.a,{classNames:it,in:t,unmountOnExit:!0,timeout:600},s.a.createElement("div",{className:st,onClick:n}))}function ot(){const{t:e}=Object(l.useTranslation)(),t=Object(_e.h)(),{hasUnreads:n}=Object(Se.d)(),{isInboxDisplayed:a}=Object(Le.a)(),{isMobile:i}=Object(Ne.b)(),[u,d]=Object(ke.a)(!1);return Object(r.useEffect)(()=>{d(!1)},[i,t]),s.a.createElement("aside",{className:c()(Je)},s.a.createElement("header",{className:$e},s.a.createElement(Ce.a,{className:c()(tt,{[nt]:n}),onClick:d},s.a.createElement(Ve,{className:at}))),s.a.createElement("nav",{className:c()(Ye,{[Xe]:u})},s.a.createElement("div",null,s.a.createElement(me.d,{className:et,to:"/"},s.a.createElement(Fe,null)),s.a.createElement(Qe,{to:"/p",label:i?e("MobileMenu.page"):"Page"},s.a.createElement(Pe.f,null)),a&&s.a.createElement(Qe,{to:"/i",label:i?e("MobileMenu.chats"):"Chats",isMarked:n},s.a.createElement(Me,null))),s.a.createElement("div",null,s.a.createElement(Qe,{to:"/help",title:"Help",label:i?e("MobileMenu.help"):null},s.a.createElement(o.n,null)),s.a.createElement(Qe,{to:"/s",title:"Settings",label:i?e("MobileMenu.settings"):null},s.a.createElement(Be,null)))),i&&s.a.createElement(ct,{isOpen:u,onClose:()=>d(!1)}))}function lt(){return s.a.createElement("svg",{viewBox:"0 0 305 305",style:{width:"100px",height:"100px",position:"absolute",left:"50%",top:"50%",marginLeft:"-50px",marginTop:"-50px"}},s.a.createElement("g",{fill:"#D8D8D8"},s.a.createElement("path",{d:"m60.983 34.249v137c0 8.1066 6.8257 14.678 15.246 14.678 8.4199 0 15.246-6.5717 15.246-14.678v-137c0-8.1066-6.8257-14.678-15.246-14.678-8.4199 0-15.246 6.5717-15.246 14.678z"}),s.a.createElement("path",{d:"m182.95 53.821v137c0 8.1066 6.8257 14.678 15.246 14.678 8.4199 0 15.246-6.5717 15.246-14.678v-137c0-8.1066-6.8257-14.678-15.246-14.678-8.4199 0-15.246 6.5717-15.246 14.678z"}),s.a.createElement("path",{d:"m121.97 14.678v137c0 8.1066 6.8257 14.678 15.246 14.678s15.246-6.5717 15.246-14.678v-137c0-8.1066-6.8257-14.678-15.246-14.678s-15.246 6.5717-15.246 14.678z"}),s.a.createElement("path",{d:"m283.05 206.95l-128.69 59.657c-42.99 19.928-94.619 2.5305-115.32-38.859-5.6294-11.257-8.5527-23.59-8.5527-36.084v-108.49c0-8.1066-6.8257-14.678-15.246-14.678-8.4199 0-15.246 6.5717-15.246 14.678l-3.6109e-14 108.49c2.2568e-15 16.903 3.955 33.589 11.571 48.819 28.004 55.998 97.856 79.536 156.02 52.574l128.69-59.657c7.5864-3.5168 10.775-12.289 7.1226-19.593-3.6527-7.3041-12.764-10.374-20.35-6.8575z"})))}ct.defaultProps={isOpen:!1};var ut="_1Tbq22DP";function dt(e){let{isBlockedByIp:t}=e;const{t:n,i18n:a}=Object(l.useTranslation)(),r="ru"===a.language?"https://mssg.me/help":"https://mssg.me/mssgmeen";return s.a.createElement("div",{className:ut},t?s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",null,n("AccountBlocked.ip"))):s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",null,n("AccountBlocked.heading"))),s.a.createElement("p",null,n("AccountBlocked.description")),s.a.createElement("p",null,s.a.createElement($.a,{tag:"a",href:r},n("AccountBlocked.button"))))}dt.defaultProps={isBlockedByIp:!1};n("anM4"),n("8KO3");var pt=n("xUbJ"),mt=n("Xoms");function ft(){return(ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const ht=[{messenger:"telegram",name:"mssgmebot",redirectUrl:"https://mssg.me/r/m/5e5fb1e519a0b30013ae1d81"},{messenger:"viber",name:"mssgmesupport",redirectUrl:"https://mssg.me/r/m/5c157205409b90000aa4f611",type:"public"},{messenger:"messenger",name:"mssg.me",redirectUrl:"https://mssg.me/r/m/618271a1a43f580040c07e3e"},{messenger:"vk",name:"mssgmeapp",redirectUrl:"https://mssg.me/r/m/61530428b28e45001fcab76e"},{messenger:"whatsapp",name:"380508450362",redirectUrl:"https://mssg.me/r/m/5f338f6b7a03670028138cca"}];function gt(){const e=ht.map(e=>({platform:e.messenger,href:pt.a.isMobile?Object(mt.a)(e).getUrl():e.redirectUrl}));return s.a.createElement(s.a.Fragment,null,s.a.createElement(Pe.b,null,e.map(e=>{let{platform:t,...n}=e;return s.a.createElement(Pe.g,ft({key:t,platform:t,"data-messenger":t},n))})))}var bt=n("7WCL"),vt="_2zrnP2tM",yt="_1h_yj6D-",Et="o01IXCsz";function Ot(){const{t:e,i18n:t}=Object(l.useTranslation)(),n=Object(_e.h)(),{plan:a,trialEndedAt:r,isUnpaid:i,isTrial:c}=Object(bt.a)(),o=i?"/s/billing/pay":"/s/billing/plans",u=new Date("2020-03-09");return s.a.createElement(s.a.Fragment,null,(e=>{const t=new Date;return e.getDate()>=t.getDate()&&e.getMonth()>=t.getMonth()&&e.getFullYear()>=t.getFullYear()})(u)&&"ru"===t.language&&s.a.createElement("div",{style:{color:"black"}},s.a.createElement("div",{className:vt},s.a.createElement("h3",null,"Скидка ",s.a.createElement("span",{style:{backgroundColor:"#dc5960",borderColor:"#dc5960"}},"30%")," в честь 8 марта 💐"),s.a.createElement("p",null,"Используйте промокод"," ",s.a.createElement("span",{style:{backgroundColor:"#dc5960",borderColor:"#dc5960",padding:"1px 3px",borderRadius:"4px",marginLeft:"2px",color:"white"}},"8march")," ","во время оформления подписки."))),s.a.createElement(me.c,{to:{pathname:o,state:{from:n.pathname}},style:{color:"black"}},s.a.createElement("div",{className:vt},i?s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",null,e("NoAccess.unpaid.heading",{plan:a})),s.a.createElement("p",null,e("NoAccess.unpaid.description",{plan:a})),s.a.createElement("span",null,e("NoAccess.unpaid.button",{plan:a}))):c?s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",{className:yt},e("CardMain.banner.trial")," ",s.a.createElement("span",null,"PRO")),s.a.createElement("p",null,e("CardMain.banner.till",{date:r})),s.a.createElement("span",{className:Et},e("CardMain.banner.upgrade"))):s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",null,e("CardMain.banner.title")," ",s.a.createElement("span",null,"PRO")),s.a.createElement("p",null,e("CardMain.banner.description")),s.a.createElement("span",null,e("CardMain.banner.link"))))))}var jt="_1NBHJtEo",wt="_2-o2ZTD5";function _t(){return(_t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function kt(e){let{className:t,title:n,children:a,...r}=e;const{t:i}=Object(l.useTranslation)(),o=n||i("FieldTip.defaultLabel");return s.a.createElement("div",_t({className:c()(jt,t)},r),s.a.createElement("div",{className:wt},s.a.createElement("span",null,o)),s.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}}))}kt.defaultProps={className:""};var Nt=kt,Ct=n("pnxo"),Pt=n("g+ST"),St=n("jMR3"),xt="_2cFNCExK",Tt="A62YyrAE",It="Sgn32Btt",Mt="_37FZOYqE",Lt="_2FYCoT4I",Rt="_2RflT2bP",At="_3dfdU7nM";class Ft extends r.Component{render(){const{title:e,links:t,cancel:n}=this.props;return s.a.createElement("div",{className:xt},s.a.createElement("div",{className:Tt,onClick:n}),s.a.createElement("div",{className:It},s.a.createElement("div",{className:Lt},s.a.createElement("span",{className:Rt},e),s.a.createElement("ul",{className:At,id:"card_list"},t.map((e,t)=>s.a.createElement("li",{key:t},s.a.createElement(St.a,{href:e.redirectUrl,target:"_blank","data-id":e._id,"data-title":e.title,"data-element":"custom-link","data-event-name":Object(Pt.a)(e.url)},e.title))))),s.a.createElement("span",{className:Mt,onClick:n},Object(Ct.a)("cancel"))))}}Ft.defaultProps={visible:!1};var Dt=Ft;n("yHpL"),n("kGuf");var Ut=n("bESJ"),Bt=n("njpi"),qt="_34KjsxEs",zt="agaDhVdK",Vt="_32RBVo5D";function Wt(e){let{children:t}=e;return Object(Ut.a)(()=>{document.documentElement.classList.add(Vt)}),Object(Bt.a)(()=>{document.documentElement.classList.remove(Vt)}),s.a.createElement("div",{className:qt},s.a.createElement("div",{className:zt},t))}},"79Hl":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("yPYI");const r=Object(a.a)("SET_FEEDBACK_ITEMS_FILTER")},"7Sa5":function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/messengers/icon-facebook-login.svg"},"7WCL":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("r0ML"),r=n("ID3L"),s=n.n(r),i=n("Qg6Y");function c(){const{billing:e={}}=Object(i.a)();return Object(a.useMemo)(()=>{const{plan:t,status:n,cancelAtPeriodEnd:a,trialEnd:r,pause:i,highRiskTransaction:c}=e,o=!!e,l="basic"===t,u="trialing"===n,d="unpaid"===n,p="past_due"===n,m="unlimited"===t,f=!!a,h=u&&r?new Date(e.trialEnd):null,g=!!r,b=i&&"active"===n,v="paused"===n,y=(null==i?void 0:i.pausedFrom)&&s.a.utc(i.pausedFrom).format("LL"),E=l&&["pending","rejected"].includes(null==c?void 0:c.status)&&c;return{hasBilling:o,isFree:l,isTrial:u,trialEndedAt:h,plan:t,hasTrialEnd:g,isUnpaid:d,isUnlimited:m,isUnsubscribed:f,billing:e,isPastDue:p,isPrePaused:b,isPaused:v,pausedFrom:y,highRiskTransaction:E}},[e])}},"8Fnn":function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/Avatar.svg"},"8KO3":function(e,t,n){"use strict";var a=n("Pc05"),r=n.n(a),s=n("r0ML"),i=n.n(s),c=n("63aL"),o=n("WYuZ"),l={root:"_2JS7fyOu",reveal:"_2EUwceGt",closing:"vQIQPdOi",hide:"_2ZlzBuLO",success:"_1u0n0f_6",danger:"_147Ab1oC",close:"_2Valn5vr"};const u={closeDelay:0,isRaw:!1,notifyStyle:o.a.success,showClose:!1};function d(e){let{className:t,notifyStyle:n,showClose:a,isRaw:o,onClose:u,children:d}=e;const p=Object(s.useCallback)(e=>{e.preventDefault(),u&&u()},[u]);return i.a.createElement("div",{className:r()(l.root,t,l[n])},o?i.a.createElement("div",{className:l.content,dangerouslySetInnerHTML:{__html:d}}):i.a.createElement("div",{className:l.content},d),a&&i.a.createElement("a",{className:l.close,href:"#",onClick:p},i.a.createElement(c.B,{size:20,color:"#fff"})))}function p(e){return function(){const t=o.b.getInstance();for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t[e].apply(t,a)}}d.defaultProps=u,d.notify=p("notify"),d.success=p("success"),d.danger=p("danger");t.a=d},"8Tvr":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("r0ML"),r=n.n(a),s=n("+Q0i"),i=n.n(s),c=n("cNRa"),o=n.n(c),l=n("Pc05"),u=n.n(l),d={portal:"_2_WUly6l",reveal:"_2x4UxCWs",root:"_2Hd3gxLT",revealUp:"_1DtVJcmY",small:"i4jqTAtK",medium:"V4Cm4PZH",large:"_9QDMzEGE"};const p=document.getElementById("root");function m(e){let{className:t,children:n,size:s,onClose:c}=e;const o=Object(a.useRef)(function(){const e=document.createElement("div");return e.className=d.portal,e}());Object(a.useLayoutEffect)(()=>{function e(e){e.target===o.current&&c&&c()}return p.appendChild(o.current),o.current.addEventListener("click",e),()=>{o.current.removeEventListener("click",e),p.removeChild(o.current)}},[]);const l=r.a.createElement("div",{className:u()(d.root,t,d[s])},r.a.createElement("div",{className:d.content},n));return i.a.createPortal(l,o.current)}m.propTypes={className:o.a.string,onClose:o.a.func.isRequired,children:o.a.any,size:o.a.oneOf(["small","medium","large"])},m.defaultProps={size:"medium"}},"8hF1":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var a=n("yPYI");const r=Object(a.a)("SET_AUDIENCE_FILTER"),s=Object(a.a)("CLEAR_AUDIENCE_STORE")},"8qbc":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));const a={baseUrl:e.env.REACT_APP_USERPAGE_API_URL||"/api"};class r{constructor(e){this.options={...a,...e}}get(e){return this.request(e)}post(e,t){return this.request(e,{method:"POST",body:t})}put(e,t){return this.request(e,{method:"PUT",body:t})}delete(e){return this.request(e,{method:"DELETE"})}async request(e,t){if(Array.isArray(e)){let t;[e,t]=e,e+=function(e){if("object"!=typeof e)return"";const t=[];for(let n in e){const a=e[n];null!=a&&t.push(`${n}=${a}`)}return t.length>0?"?"+t.join("&"):""}(t)}(function(e){return e.startsWith("http://")||e.startsWith("https://")})(e)||(e=this.options.baseUrl+e);const{method:n,headers:a,body:r,...s}={method:"GET",...t},i=await fetch(e,{method:["PUT","DELETE"].includes(n.toUpperCase())?"POST":n,headers:{Accept:"application/json","Content-Type":"application/json","X-HTTP-Method-Override":n.toUpperCase(),...a},body:r?JSON.stringify(r):void 0,...s});if(!i.ok)switch(i.status){case 400:{const{errors:e}=await i.json();throw(e=>{const t=new Error("Validation error");return t.type="validation",t.errors=e,t})(e)}case 401:case 403:throw(e=>{const t=new Error(e);return t.type="authorization",t})(i.statusText);default:throw((e,t)=>{const n=Error(t);return n.status=e,n.type="api",n})(i.status,i.statusText)}if(204!==i.status)return i.json()}}}).call(this,n("TzVV"))},"8sKS":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("r0ML"),r=n.n(a),s=n("Pc05"),i=n.n(s),c="_3YljcX9V";function o(e){let{children:t}=e;const{className:n,...a}=t.props;return r.a.cloneElement(t,{className:i()(c,n),...a},a.children)}},"9TnD":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("r0ML"),r=n.n(a),s=n("Pc05"),i=n.n(s),c="_34hpiuv7",o="NtDe4YsW",l="B-AQXapM";function u(e){let{heading:t,className:n,children:a}=e;const s=r.a.Children.toArray(a);return r.a.createElement("div",{className:i()(c,n)},t&&r.a.createElement("h2",{className:o},t),r.a.createElement("ul",{className:l},s.map((e,t)=>r.a.createElement("li",{key:t},e))))}},"9hqQ":function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/icon_arrow_grey.svg"},A7QF:function(e,t,n){"use strict";var a=n("Pc05"),r=n.n(a),s=n("r0ML"),i=n.n(s),c="_3sEDzXOF";function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var l=e=>{let{leftButton:t,heading:n,rightButton:a,className:s,...l}=e;return i.a.createElement("div",o({className:r()(c,s)},l),t,i.a.createElement("h2",null,n),a)};t.a=l},ATgU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("r0ML"),r=n.n(a),s=n("cpKZ"),i="_2ut3VK2F",c="_33M482TC";function o(e){let{align:t,...n}=e;return r.a.createElement("div",Object(s.a)([i,{[c]:"right"===t}],n))}},AXAf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("r0ML"),r=n.n(a),s=n("I1kg"),i=n("vFhw");function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function o(e){let{onChange:t,inputStyles:n,...a}=e;return r.a.createElement(s.a,a,e=>{let{field:{name:a,value:s,...o},form:{errors:l,touched:u,setFieldValue:d}}=e;return r.a.createElement(i.a,c({name:a,value:s},o,{style:n,hasError:l[a]&&u[a],onChange:t||(e=>{d(a,e.target.value,!1)})}))})}},BFji:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return Vs})),n.d(t,"c",(function(){return ze})),n.d(t,"a",(function(){return et}));var a=n("3gnH");a.b.registerResolver("inbox",(function(e){return n("aFVI")(`./${e}/inbox.json`)}));var r=n("HPRP"),s=n("vdeW"),i=n("dLPT"),c=n("r0ML"),o=n.n(c),l=n("g0xT"),u=n("ehRZ");const d=()=>{const e=Object(l.d)(e=>e.conversations.unread),t=Object(r.a)(e).map(e=>({contact:e[0],unreadMessages:e[1]})).filter(e=>e.unreadMessages>0),n=t.length,a=Object(s.a)(t.map(e=>e.unreadMessages)),o=n>0,[d,p]=Object(c.useState)(()=>e),[m,f]=Object(c.useState)(0);return Object(u.a)(()=>{if(!Object(i.a)(e,d)){p(e);for(const[t,n]of Object.entries(e)){if(n-(d[t]||0)>0){f(Date.now());break}}}},[d,e]),{unreadConversations:t,unreadConversationsCount:n,unreadMessagesCount:a,updateTimestamp:m,hasUnreads:o}};var p=n("lkLo"),m=n("Qg6Y"),f=n("TiNz"),h=n("kkZN"),g=n("8sKS"),b=n("w2nZ"),v=n("+Q0i"),y=n.n(v),E=n("QD+E"),O=n("7+Q5");function j(){return(j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function w(e,t){return c.createElement(O.b,j({fill:"none",viewBox:"0 0 24 24",ref:t},e),c.createElement("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var _=c.forwardRef(w);function k(){return(k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function N(e,t){return c.createElement(O.b,k({fill:"none",viewBox:"0 0 24 24",ref:t},e),c.createElement("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),c.createElement("path",{d:"M10 8l6 4-6 4V8z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var C=c.forwardRef(N),P=n("Pc05"),S=n.n(P),x=n("/jrZ"),T=(n("o5DE"),n("1isK")),I=n("yHpL"),M="_1f8GzvWD",L="_3CymbAWY",R="_w7TQU9O",A="JnSSWrV1",F="_3p60J21x",D="xMKJnu4Z",U="_2u7IKBV3",B="Zqis1YhQ",q="VjG6jWpt",z="_854_kX7i",V="_3EUOpMBQ";function W(e){let{className:t,integrations:n}=e;const{api:a}=Object(I.a)(),{t:r}=Object(h.useTranslation)(),[s,i]=Object(c.useState)(!1);return o.a.createElement("div",{className:S()(M,t)},n.map(e=>o.a.createElement("div",{className:L,key:e.type},o.a.createElement("img",{className:D,src:e.logo,alt:e.label}),o.a.createElement("div",{className:A},o.a.createElement("span",{className:R},e.label),e.integrated&&o.a.createElement("span",{className:F},r("IntegrationList.connected"))),e.integrated?o.a.createElement("span",{className:S()(U,B,{[q]:s}),onClick:()=>(async(e,t)=>{i(t);try{await a.integrations.delete({integrationId:e})}catch(e){alert(e)}i(!1)})(e.id,e.type)},s&&s===e.type?o.a.createElement(T.a,{size:"14",color:"white",className:V}):r("IntegrationList.remove")):o.a.createElement(E.d,{exact:!0,to:e.path,className:U},r("IntegrationList.add")))),o.a.createElement("div",{className:L,key:"whatsapp"},o.a.createElement("img",{className:D,src:x.default,alt:"whatsapp"}),o.a.createElement("span",{className:R},"WhatsApp"),o.a.createElement("span",{className:S()(U,z)},r("IntegrationList.soon"))))}W.defaultProp={integrations:[]};var H=n("QSHt"),K=n("TM/7"),G=n("BHCP"),Z=n("lsIJ"),Q=n("/GFi"),J=n("MY/q"),$=n("07c+"),Y=n("0WXt"),X=n("cNRa"),ee=n.n(X),te=n("DC3q"),ne=n("8KO3"),ae=n("wYyU");function re(){return(re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const se=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["json.message","json.error.message","json.errors.message","json.type","message"];return Object(h.withTranslation)()(((n=class extends o.a.Component{constructor(){super(...arguments),this.state={isFetching:!1,errors:{}},this.request=async e=>(this.setState({isFetching:!0}),new Promise(async(t,n)=>{try{const n=await e;this.setState({errors:{}},()=>{t(n)})}catch(e){this.setState({errors:this.handleError(e)},()=>{n(this.state.errors)})}finally{this.setState({isFetching:!1})}}))}handleError(e){switch(e.type){case"validation":return this.remapErrors(e.errors);default:{const t=this.parseError(e);return ne.a.danger(this.props.t(t)||t,{showClose:!0}),{message:t}}}}parseError(e){let n;for(const t of r)if(n=Object(te.a)(e,t))break;return n&&a(n)||t}remapErrors(e){const n={};for(const[r,s]of Object.entries(e)){const e=a(s);e?n[r]=e:(t||s)&&(n[r]=t||s)}return n}render(){return o.a.createElement(e,re({},this.state,this.props,{request:this.request}))}}).propTypes={t:ee.a.func.isRequired,closeDelay:ee.a.number},n.defaultProps={closeDelay:ae.a},n))};var ie=n("FRBS");const ce=()=>{const{t:e}=Object(h.useTranslation)();return{t:e,rootIntegrationsPath:Object(p.h)().pathname.startsWith("/i/onboard")?"/i/onboard":"/s/integrations"}};const oe=e=>{let{request:t}=e;const{api:n}=Object(I.a)(),{t:a,rootIntegrationsPath:r}=ce(),s=Object(p.g)(),[i,o]=Object(c.useState)(null),{fbApi:l,plugError:u}=function(){const[e,t]=Object(c.useState)(null),[n,a]=Object(c.useState)(null);return Object(c.useEffect)(()=>{Object(ie.a)().then(e=>t(e)).catch(()=>{a("messengerIntegration.errors.plug_failed")})},[]),{fbApi:e,plugError:n}}(),{isLoggedIn:d,login:m}=function(e){const[t,n]=Object(c.useState)(!1);return{isLoggedIn:t,login:Object(c.useCallback)(async()=>{const{status:t}=await e.login({scope:"email,public_profile,pages_manage_metadata,pages_messaging"});if("connected"!==t)throw new Error("Not connected");n(!0)},[e])}}(l),{isLoaded:f,pages:h,options:g,username:b,loadPages:v}=function(e){const[t,n]=Object(c.useState)(!1),[a,r]=Object(c.useState)([]),[s,i]=Object(c.useState)(""),o=Object(c.useCallback)(()=>{e.api("/me",{fields:"accounts.limit(1000){access_token,id,name},name,id"}).then(e=>{n(!0),r(e.accounts&&e.accounts.data||[]),i(e.name)})},[e]),l=Object(c.useMemo)(()=>a.map(e=>{let{id:t,name:n}=e;return{value:t,label:n}}),[a]);return{loadPages:o,pages:a,options:l,username:s,isLoaded:t}}(l),[y,E]=Object(c.useState)({});return{t:a,fbApi:l,plugError:u,handleSubmit:async e=>{e.preventDefault();try{await t(n.integrations.create({payload:{type:"messenger",token:i.access_token,username:b}})),s.push(r)}catch(e){}},isLoggedIn:d,handleLoginClick:async e=>{e.preventDefault();try{await m(),v()}catch(e){}},isLoaded:f,username:b,selectedPage:i,options:g,handleChange:e=>{const t=e.target.value,n=h.find(e=>e.id===t);o(n)},errors:y}};var le={rootContainer:"_36zFkfPf",list:"l8AdHd2s",input:"_191EoLAd",buttonContainer:"GKCzf2Js",submitButton:"_3EhC8bP7",active:"_1TGTA5g2",isFetching:"ZvtNpCFc",error:"_1Cooo30A",spinner:"_1D2Rb87e",select:"_12dF5pwU"};var ue=se((function(e){let{errors:t,isFetching:n,request:a}=e;const{t:r,fbApi:s,plugError:i,handleSubmit:c,isLoggedIn:l,handleLoginClick:u,isLoaded:d,username:p,selectedPage:m,options:f,handleChange:h,errors:g}=oe({request:a});return s?o.a.createElement("form",{onSubmit:c,className:le.rootContainer},!l&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,r("messengerIntegration.connect_facebook")),o.a.createElement("div",{className:le.buttonContainer},o.a.createElement("button",{className:S()(le.submitButton,le.active),onClick:u},r("messengerIntegration.sign_in_fb")))),d&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{style:{marginBottom:10}},r("messengerIntegration.signed_in_as")," ",o.a.createElement("strong",null,p)),o.a.createElement("p",{style:{marginBottom:20}},r("messengerIntegration.choose_page")),o.a.createElement($.a,{component:Y.a,inputClassName:le.select,placeholder:r("messengerIntegration.select_page"),value:m&&m.id||"",options:f,onChange:h,errors:g.selectedPage}),o.a.createElement("div",{className:le.buttonContainer},o.a.createElement("button",{type:"submit",className:S()(le.submitButton,{[le.active]:!!m,[le.isFetching]:n})},n?o.a.createElement(T.a,{size:"16",color:"white",className:le.spinner}):r("messengerIntegration.connect"))))):i&&o.a.createElement(J.a,{error:r(i)})}),"errorsList.create_integration");const de={"Not Found":"telegramIntegration.errors.not_found",Unauthorized:"telegramIntegration.errors.unauthorized","errors.create_integration.telegram.not_a_token":"telegramIntegration.errors.wrong_token"};var pe=se((function(e){let{isFetching:t,errors:n,request:a}=e;const{handleSubmit:r,t:s,token:i,setToken:l}=(e=>{let{request:t}=e;const{api:n}=Object(I.a)(),{t:a,rootIntegrationsPath:r}=ce(),s=Object(p.g)(),[i,o]=Object(c.useState)("");return{handleSubmit:async e=>{e.preventDefault();try{await t(n.integrations.create({payload:{type:"telegram",token:i}})),o(""),s.push(r)}catch(e){}},t:a,token:i,setToken:o}})({request:a});return o.a.createElement("form",{onSubmit:r,className:le.rootContainer},o.a.createElement("ol",{className:le.list},o.a.createElement("li",{dangerouslySetInnerHTML:{__html:s("telegramIntegration.how_to.step1")}}),o.a.createElement("li",{dangerouslySetInnerHTML:{__html:s("telegramIntegration.how_to.step2")}}),o.a.createElement("li",{dangerouslySetInnerHTML:{__html:s("telegramIntegration.how_to.step3")}}),o.a.createElement("li",{dangerouslySetInnerHTML:{__html:s("telegramIntegration.how_to.step4")}}),o.a.createElement("li",null,s("telegramIntegration.how_to.step5")),o.a.createElement("li",{dangerouslySetInnerHTML:{__html:s("telegramIntegration.how_to.step6")}})),o.a.createElement("input",{type:"text",placeholder:s("telegramIntegration.placeholder"),value:i,onChange:e=>l(e.target.value),disabled:t,className:le.input}),n.token&&o.a.createElement("span",{className:le.error},s(n.token)),o.a.createElement("div",{className:le.buttonContainer},o.a.createElement("button",{type:"submit",className:S()(le.submitButton,{[le.active]:!!i,[le.isFetching]:t})},t?o.a.createElement(T.a,{size:"16",color:"white",className:le.spinner}):s("telegramIntegration.connect"))))}),"errorsList.create_integration",e=>de[e]);const me={"errors.create_integration.viber.not_a_token":"viberIntegration.errors.wrong_token"};var fe=se((function(e){let{isFetching:t,errors:n,request:a}=e;const{t:r,handleSubmit:s,token:i,setToken:l}=(e=>{let{request:t}=e;const{api:n}=Object(I.a)(),{t:a,rootIntegrationsPath:r}=ce(),s=Object(p.g)(),[i,o]=Object(c.useState)("");return{t:a,handleSubmit:async e=>{e.preventDefault();try{await t(n.integrations.create({payload:{type:"viber",token:i}})),o(""),s.push(r)}catch(e){}},token:i,setToken:o}})({request:a});return o.a.createElement("form",{onSubmit:s,className:le.rootContainer},o.a.createElement("ol",{className:le.list},o.a.createElement("li",{dangerouslySetInnerHTML:{__html:r("viberIntegration.how_to_2.step1")}}),o.a.createElement("li",{dangerouslySetInnerHTML:{__html:r("viberIntegration.how_to_2.step2")}}),o.a.createElement("li",{dangerouslySetInnerHTML:{__html:r("viberIntegration.how_to_2.step3")}})),o.a.createElement("input",{type:"text",placeholder:r("viberIntegration.input.placeholder"),value:i,onChange:e=>l(e.target.value),disabled:t,className:le.input}),n.token&&o.a.createElement("span",{className:le.error},r(n.token)),o.a.createElement("div",{className:le.buttonContainer},o.a.createElement("button",{type:"submit",className:S()(le.submitButton,{[le.active]:!!i,[le.isFetching]:t})},t?o.a.createElement(T.a,{size:"16",color:"white",className:le.spinner}):r("viberIntegration.connect"))))}),"errorsList.create_integration",e=>me[e]),he=n("4ZHd"),ge=n.n(he),be=n("cGUp"),ve=n.n(be),ye=n("bPZW");const Ee=()=>{const{api:e}=Object(I.a)(),{t:t,rootIntegrationsPath:n}=ce(),a=Object(p.g)(),[r,s]=Object(c.useState)(!1),[i,o]=Object(c.useState)(!1),[l,u]=Object(c.useState)(null),[d,m]=Object(c.useState)([]),[f,h]=Object(c.useState)(null),[g,b]=Object(c.useState)(""),[v,y]=Object(c.useState)(1),[E,O]=Object(c.useState)({}),[j,w]=Object(c.useState)(null),[_,k]=Object(c.useState)(null),N=()=>{l.Api.call("groups.get",{filter:"admin",extended:1,v:"5.81"},e=>{m(e.response.items.map(e=>({...e,id:e.id.toString()})))})},C=async t=>{const r=t["access_token_"+f.id];try{await e.integrations.create({payload:{type:"vk",token:r,groupId:f.id}}),_.close(),a.push(n)}catch(e){Object(ye.a)(e)}};return Object(c.useEffect)(()=>{ge()("https://vk.com/js/api/openapi.js?158",()=>{const e=window.VK;e?(e.init({apiId:ve.a.vk_app_id}),u(e)):w("vkIntegration.errors.plug_failed")}),window.onAuthorizeVK=C},[]),Object(c.useEffect)(()=>{window.onAuthorizeVK=C},[f,_]),{t:t,vk:l,plugError:j,step:v,handleLoginClick:e=>{e.preventDefault(),l.Auth.login(e=>{const t="connected"===e.status;if(t){const n=e.session.user,a=`${n.first_name} ${n.last_name}`.trim();o(t),y(2),b(a),N()}},262144)},handleSubmit:e=>{e.preventDefault();const t=`https://oauth.vk.com/authorize?client_id=${ve.a.vk_app_id}&display=popup&redirect_uri=${ve.a.vk_callback_url}&group_ids=${f.id}&scope=manage,messages,photos,docs&response_type=code&v=5.81`;k(window.open(t,"_blank","height=400,width=300"))},username:g,selectedGroup:f,getGroupsOptions:()=>d.map(e=>{let{id:t,name:n}=e;return{value:t,label:n}}),handleChange:e=>{const t=e.target.value,n=d.find(e=>e.id===t);h(n)},errors:E,isFetching:r}};var Oe=function(){const{t:e,vk:t,plugError:n,step:a,handleLoginClick:r,handleSubmit:s,username:i,selectedGroup:c,getGroupsOptions:l,handleChange:u,errors:d,isFetching:p}=Ee();if(!t)return n&&o.a.createElement(J.a,{error:e(n)});switch(a){case 1:return o.a.createElement("div",{className:le.rootContainer},o.a.createElement("p",null,e("vkIntegration.step1.heading")),o.a.createElement("div",{className:le.buttonContainer},o.a.createElement("button",{className:S()(le.submitButton,le.active),onClick:r},e("vkIntegration.step1.sign_in_vk"))));case 2:return o.a.createElement("form",{onSubmit:s,className:le.root},o.a.createElement("p",{style:{marginBottom:10}},e("vkIntegration.step2.status")," ",o.a.createElement("strong",null,i)),o.a.createElement("p",{style:{marginBottom:20}},e("vkIntegration.step2.heading")),o.a.createElement($.a,{component:Y.a,inputClassName:le.groups,placeholder:e("vkIntegration.step2.select_group"),value:c&&c.id||"",options:l(),onChange:u,errors:d.selectedPage}),o.a.createElement("div",{className:le.buttonContainer},o.a.createElement("button",{type:"submit",className:S()(le.submitButton,{[le.active]:!!c,[le.isFetching]:p})},p?o.a.createElement(T.a,{size:"16",color:"white",className:le.spinner}):e("vkIntegration.step2.connect"))))}};const je=[{type:"messenger",label:"Messenger",logo:K.default,component:ue,tutorialSrc:{ru:"https://www.youtube.com/embed/G0dcj6XLgAI?rel=0&modestbranding=1",en:"https://www.youtube.com/embed/nQuFiYfktCw?rel=0&modestbranding=1"}},{type:"telegram",label:"Telegram",logo:G.default,component:pe,tutorialSrc:{ru:"https://www.youtube.com/embed/oT7wfIUiaqg?rel=0&modestbranding=1",en:"https://www.youtube.com/embed/qmDWl4Fz6Ps?rel=0&modestbranding=1"}},{type:"viber",label:"Viber",logo:Z.default,component:fe,tutorialSrc:{ru:"https://www.youtube.com/embed/kW28FFcrvVI?rel=0&modestbranding=1",en:"https://www.youtube.com/embed/JOmI_Adg0h0?rel=0&modestbranding=1"}},{type:"vk",label:"VK",logo:Q.default,component:Oe,tutorialSrc:{ru:"https://www.youtube.com/embed/-SaCgQvvlxs?rel=0&modestbranding=1",en:"https://www.youtube.com/embed/A-GYreJ6nR4?rel=0&modestbranding=1"}}];var we="_4GhAcIFk",_e="Rpnvokoz",ke="wiyF_5g7",Ne="_305XtJXx",Ce="_3rRCf1Sq",Pe="_2Yc7ZYMT",Se="_2X41D6zm",xe="_2vzRiypK",Te="_9dRRhS1C",Ie="_1H4cYpOo",Me="_1UcrcRgO",Le="_1ghkh9Vv",Re="_1FT-VaEx",Ae="Wt_7-wJa",Fe="_1qtGkWqR",De="_3yHiW_D8",Ue="LFAU4tTA",Be="_3gfOb3H0",qe="_1PCUUay5";function ze(e){let{children:t}=e;const{t:n,routes:a,rootPath:r,match:s,i18n:i}=(()=>{const e=Object(l.d)(e=>Object(H.b)(e).integrations),t=e.map(e=>e.type),{t:n,i18n:a}=Object(h.useTranslation)(),r=Object(p.j)(),s=Object(p.h)();return{t:n,routes:je.map(n=>({...n,path:`${r.path}/${n.type}`,integrated:t.includes(n.type),id:e.find(e=>e.type===n.type)?e.find(e=>e.type===n.type)._id:null})),rootPath:s.pathname.startsWith("/i/onboard")?"/i/onboard":"/s/integrations",match:r,i18n:a}})();return o.a.createElement("div",{className:we},o.a.createElement("div",{className:_e},o.a.createElement("h1",{className:ke},n("IntegrationsPage.heading")),o.a.createElement("p",{className:Ne},n("IntegrationsPage.subHeading")),o.a.createElement(W,{className:Ce,integrations:a}),t),o.a.createElement(p.d,null,a.map(e=>o.a.createElement(p.b,{key:e.type,path:e.path,render:t=>y.a.createPortal(o.a.createElement("div",{className:Pe},o.a.createElement("div",{className:Se},o.a.createElement(E.d,{to:r,className:xe},o.a.createElement(_,{size:24})),o.a.createElement("div",{className:Te},o.a.createElement("img",{src:e.logo,alt:"route.type",className:Ie}),o.a.createElement("h2",{className:Me},n("IntegrationsPage.modal.connect")," ",e.label),o.a.createElement("p",{className:Le},n("IntegrationsPage.modal.subHeading")),o.a.createElement(E.d,{to:`${r}/${e.type}/video`,className:Re},o.a.createElement(C,{className:Ae}),n("IntegrationsPage.modal.videoTutorial"))),o.a.createElement(e.component,t))),document.body)})),o.a.createElement(p.a,{to:s.path})),o.a.createElement(p.d,null,a.map(e=>o.a.createElement(p.b,{key:e.type+"_video",exact:!0,path:e.path+"/video",render:()=>y.a.createPortal(o.a.createElement("div",{className:Fe},o.a.createElement("div",{className:De},o.a.createElement(E.c,{to:e.path,className:Ue},o.a.createElement(_,{size:24})),o.a.createElement("div",{className:Be},o.a.createElement("iframe",{src:"ru"===i.language?e.tutorialSrc.ru:e.tutorialSrc.en,frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})),o.a.createElement("h3",{className:qe},n("IntegrationsPage.modal.connecting")," ",e.label))),document.body)}))))}var Ve="_2a8hJZd5",We="_79buttuJ";function He(){const{t:e}=Object(h.useTranslation)("inbox"),t=Object(m.a)().integrations.length>0;return o.a.createElement(g.a,null,o.a.createElement("div",{className:Ve},o.a.createElement(ze,null,o.a.createElement("div",{className:We},o.a.createElement(b.a,{disabled:!t,to:"/i"},e("OnboardPage.complete"))))))}var Ke=n("MSOi");function Ge(e){let{count:t}=e;const n=Object(c.useCallback)((async function(){"setAppBadge"in navigator&&await navigator.setAppBadge(...arguments)}),[]),a=Object(c.useCallback)(async()=>{"clearAppBadge"in navigator&&await navigator.clearAppBadge()},[]);return Object(c.useEffect)(()=>(n(t),()=>{a()}),[t]),null}Ge.propTypes={count:ee.a.number};var Ze=n("QJEF"),Qe=n("CMqj");class Je{mark(){}dismiss(){}}class $e extends Je{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'link[rel="icon"]';super(),this.icon=e,this.selector=t,this.default=this.element.href}get element(){return document.querySelector(this.selector)}mark(){this.element.href=this.icon}dismiss(){this.element.href=this.default}}class Ye extends Je{constructor(e,t){super(),this.sources=e,this.options=t||{}}get sound(){return this._sound||(this._sound=new Qe.Howl({src:this.sources,preload:!0,autoplay:!1,loop:!1,volume:1,...this.options}),this._sound.on("fade",()=>{this.sound.stop()})),this._sound}get volume(){return this.options.volume||1}get duration(){return this.options.duration||0}mark(){this.sound.playing()||(this.sound.stop().volume(this.volume).play(),this.duration&&this.sound.fade(this.volume,0,this.duration))}}class Xe extends class{constructor(e){this.notify=Object(Ze.default)(()=>{for(const e of this.markers)e.mark()},100),this.markers=e}dismiss(){for(const e of this.markers)e.dismiss()}}{constructor(){super([new $e("/favicon_dot32.png",'link[data-icon="fav32"]'),new Ye([ve.a.statics_url+"/webapp-legacy/sound/inbox.ogg",ve.a.statics_url+"/webapp-legacy/sound/inbox.mp3",ve.a.statics_url+"/webapp-legacy/sound/inbox.wav"],{duration:4e3})])}}const et=e=>{let{children:t}=e;const{api:n}=Object(I.a)(),{updateTimestamp:a,unreadConversationsCount:r}=d(),[s]=Object(c.useState)(()=>new Xe),i=Object(l.d)(e=>e.socket.reconnected);return Object(c.useEffect)(()=>{n.listenConnect(),n.listenDisconnect(),n.listenReconnect(),n.listenVerifyVersion(),n.listenNewMessages(),n.listenCreateConversation(),n.listenUpdateConversation(),n.listenPaymentSucceeded(),n.listenSubscriptionCancelled()},[]),Object(c.useEffect)(()=>{a&&(s.notify(),document.addEventListener("mousemove",(function e(){s.dismiss(),document.removeEventListener("mousemove",e)})))},[a,s]),o.a.createElement(c.Fragment,{key:"c-"+i},r>0&&o.a.createElement(Ge,{count:r}),t)};var tt=n("ID3L"),nt=n.n(tt),at=n("63aL"),rt=n("vkNX");function st(){return(st=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const it={"extra-fast":100,fast:200,normal:300,slow:500,"extra-slow":800};function ct(e,t){function n(e){let{in:n,appear:a,duration:r,children:s,...i}=e;const c=r in it?it[r]:r,l=o.a.cloneElement(s,{...s.props,style:{...s.props.style,transitionDuration:c+"ms"}},s.props.children);return o.a.createElement(rt.a,st({unmountOnExit:!0,in:n,appear:a,timeout:c,classNames:t},i),l)}return n.defaultProps={in:!1,appear:!1,duration:"slow"},n.displayName=e,n}var ot=ct("Fade",{appear:"_32enWlY6",enter:"_3PKh3JN6",appearActive:"DQAGI999",enterActive:"_2ZrdWXif",exit:"_3x6BX_AB",exitActive:"_2zI1LOuA"}),lt=n("tdNs");const ut=e=>~~(e/864e5),dt={UserMessage:"group",SystemMessage:"system"},pt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dt[e.kind];if(!t)throw new Error(`Don't know how to handle "${e.kind}" messages`);return{type:t,base:e,messages:[e],days:ut(e.received)}},mt=(e,t)=>ut(t.received)!==e.days?"date":t.kind!==e.base.kind||t.author!==e.base.author||t.destination!==e.base.destination||~~(Math.abs(t.received-e.base.received)/6e4)>0||void 0;var ft=n("vMq5"),ht=n("5WIS"),gt=n("t1lN"),bt=n("QuEQ"),vt=n("6BW+");const yt=(e,t)=>e.conversations.list.byContactId[t],Et=Object(gt.a)(e=>e.conversations.list.ids,e=>e.conversations.list.byContactId,(e,t)=>e.map(e=>t[e])),Ot=e=>e.ui.conversationsFilter,jt=Object(gt.a)(Et,Ot,vt.b,(e,t,n)=>e.filter(e=>((e,t)=>e.status===t)(e,t.status)&&((e,t,n)=>{switch(t){case"all":return!0;case"unassigned":return Object(ht.a)(e.assignTo);case"my":return e.assignTo===n;default:return t===e.assignTo}})(e,t.assign,n._id)&&((e,t)=>{const n=t.trim();if(0===n.length)return!0;return Object(bt.a)(n).test(e.contact.name)})(e,t.searchValue))),wt=Object(gt.a)(jt,Ot,(e,t)=>e.sort((e,n)=>{const a=t.showNewFirst?1:-1;return e.lastMessageReceived>n.lastMessageReceived?-1*a:e.lastMessageReceived<n.lastMessageReceived?1*a:0}));Object(gt.a)(e=>e.conversations.unread,e=>{let t=0;for(const n of Object.values(e))n>0&&t++;return t});var _t=n("zbc8"),kt="_3rz-yaI0",Nt="_1x9khfTq";function Ct(e){let{time:t}=e;return o.a.createElement("div",{className:kt},o.a.createElement("div",{className:Nt},t.format("dddd, MMMM Do YYYY")))}var Pt="_3TelIj6I",St="_3Fqe4F5A",xt="UUiP9AfC";function Tt(e){let{className:t,platform:n,title:a,time:r}=e;const s=_t.b[n];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:S()(Pt,t)},o.a.createElement("div",{className:St},o.a.createElement(s,{key:n,className:xt,size:24,color:"#8E8E8E"})," ",a)),o.a.createElement(Ct,{time:r}))}Tt.defaultProps={title:"",className:""};var It=n("9sT1");const Mt=n.n(It).a.bind({root:"_1NnaIV5K",reverse:"_2gedrkVo",message:"GLSDldgr",default:"TjTwRPGM",secondary:"tXeAKBgl",warning:"_1ieqTdx3",timestamp:"_3YpTfike"});function Lt(e){let{children:t,timestamp:n,reverse:a,color:r="default",styles:s={}}=e;return o.a.createElement("div",{className:Mt("root",r,{reverse:a},s.root)},o.a.createElement("div",{className:Mt("message",s.message)},t,o.a.createElement("span",{className:Mt("timestamp",s.timestamp)},n.format("HH:mm"))))}var Rt=Object(c.memo)(Lt),At="_2_u5KBdW",Ft="_1o4lbwT8",Dt="_1EQM8WWF",Ut="_2069BIDg",Bt="_1QYd6zri";function qt(){return(qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function zt(e){let{text:t,mediaUrl:n,thumbnailUrl:a,...r}=e;return o.a.createElement(Rt,qt({styles:{message:Dt,timestamp:Ut}},r),o.a.createElement("a",{className:Ft,href:n,target:"__blank"},o.a.createElement("img",{className:At,src:a||n,alt:t})),t&&o.a.createElement("p",{className:Bt},t))}var Vt=n("cIDf"),Wt=n.n(Vt),Ht="_8s61yRv6";function Kt(e){let{text:t,...n}=e;return o.a.createElement(Rt,n,o.a.createElement("div",{className:Ht},o.a.createElement(Wt.a,{properties:{target:"_blank"}},t)))}var Gt=n("Yr7G"),Zt="_1ae-QdBX",Qt="_26lbvf_L";function Jt(e){let{mediaUrl:t,...n}=e;const a=function(e){if(!e)return"Broken file url";const t=e.match(/\/([^/?#]+)([?#].*)?$/);try{if(t)return decodeURIComponent(t[1])}catch(e){if(e instanceof URIError)return t[1];throw e}return e}(t);return o.a.createElement(Rt,n,o.a.createElement("a",{className:Zt,href:t,target:"__blank"},o.a.createElement(Gt.d,{className:Qt})," "+a))}var $t="VuZtj0fO",Yt="_1ojZ5W2g",Xt="_2NVP2Moj",en="_34dEwJaP",tn=n("lblK");an.defaultProps={destination:"client"};const nn={client:"default",organization:"secondary",team:"warning"};function an(e){let{messages:t,author:n,destination:a}=e;const r="organization"!==a,s=nn[a];return o.a.createElement("div",{className:S()($t,{[Yt]:r})},n&&o.a.createElement(tn.a,{className:Xt,size:36,name:n.name,src:n.avatarUrl}),o.a.createElement("div",{className:en},t.map(e=>{switch(e.type){case"image":return o.a.createElement(zt,{key:e._id,text:e.text,thumbnailUrl:e.thumbnailUrl,mediaUrl:e.mediaUrl,timestamp:nt()(e.received),color:s,reverse:r});case"text":return o.a.createElement(Kt,{key:e._id,text:e.text,timestamp:nt()(e.received),color:s,reverse:r});case"audio":case"video":case"file":return o.a.createElement(Jt,{key:e._id,mediaUrl:e.mediaUrl,mediType:e.mediType,timestamp:nt()(e.received),color:s,reverse:r});default:throw new Error("Invalid message type")}})))}var rn=Object(c.memo)(an),sn="nqHx5-2J",cn="_3R0KQWFO",on="_3emDXLxf";function ln(e){let{type:t,time:n,payload:a}=e;const{t:r}=Object(h.useTranslation)("inbox"),s="assign"===t?o.a.createElement(o.a.Fragment,null,r("systemMessage.assign_to")," ",o.a.createElement("strong",null,a.username)," ",n.format("HH:mm")):t;return o.a.createElement("div",{className:sn},o.a.createElement("div",{className:cn},o.a.createElement("div",{className:on},s)))}var un="_3KyKr0QZ",dn="_1iAhHvq7",pn="_27-NHPHC",mn="_3NjNjAQN";function fn(){return(fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function hn(e){let{items:t,hasMore:n,onScroll:a,conversation:r}=e;const s=Object(c.useRef)(),i=Object(c.useRef)(0),[l,u]=Object(c.useState)(!0),d=Object(c.useMemo)(()=>Array.from(function*(e,t){let n,a,r=e.length-1;for(t&&e[r]&&(yield pt(e[r],"date"));a=e[r];){if(n){const e=mt(n,a);e&&(yield n,"date"===e&&(yield pt(a,"date")),n=void 0)}n?n.messages.push(a):n=pt(a),r--}n&&(yield n)}(t,n)),[t,n]),p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;s.current.scrollTop=s.current.scrollHeight+e},m=Object(c.useCallback)(()=>p(0),[]);Object(c.useEffect)(()=>{l?m():p(-i.current)},[t.length]),Object(c.useEffect)(()=>{i.current=s.current.scrollHeight});const f=Object(c.useCallback)(e=>{u(s.current.scrollHeight-s.current.scrollTop===s.current.clientHeight),a(e)},[a]);return o.a.createElement("div",{className:un},o.a.createElement(g.a,null,o.a.createElement("div",{className:dn,ref:s,onScroll:f},n?o.a.createElement(T.a,{size:26}):o.a.createElement(Tt,{platform:r.contact.client.platform,time:nt()(r.started)}),d.map(e=>{let{type:t,messages:n,base:a}=e;switch(t){case"group":{const e="organization"===a.destination?{name:r.contact.name,avatarUrl:r.contact.avatarUrl}:{name:n[0].name};return o.a.createElement(rn,{key:"group-"+n[0]._id,destination:a.destination,messages:n,author:e})}case"date":return o.a.createElement(Ct,{key:`${a._id}-date-break-${a.received}`,time:nt()(a.received)});case"system":return n.map(e=>o.a.createElement(ln,{key:e._id,type:e.type,time:nt()(e.received),payload:e.payload}));default:throw new Error("Invalid item type")}}))),o.a.createElement(ot,{in:!l},o.a.createElement("div",{className:mn},o.a.createElement(lt.a,{className:pn,onClick:m},o.a.createElement(at.f,null)))))}function gn(e){const{contactId:t}=Object(p.i)(),n=function(e){const t=Object(c.useRef)(),n=Object(I.a)(),{conversation:a,items:r,next:s,hasNext:i}=Object(l.d)(t=>({conversation:yt(t,e),...((e,t)=>e.conversations.messages[t])(t,e)||{items:[],hasNext:!0,next:null}})),{pending:o,run:u}=Object(ft.a)(t=>n.api.conversations.messages({contactId:e,query:t}));Object(c.useEffect)(()=>{u()},[e]);const d=Object(c.useCallback)(async e=>{let{target:n}=e;if(!t.current&&n.scrollTop<=200){t.current=!0;try{await u({next:s})}finally{t.current=!1}}},[e,s]);return{items:r,conversation:a,hasMore:i,onScroll:i&&!o?d:void 0}}(t);return o.a.createElement(hn,fn({},n,e))}hn.defaultProps={hasMore:!1,onScroll:()=>{}};var bn=n("T8LO"),vn=n("rd+O"),yn=n("goqe"),En=n("nq71"),On=n("6TEX");function jn(){return(jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var wn=e=>{const{t:t}=Object(h.useTranslation)("ui");return o.a.createElement(Y.a,jn({options:[{label:t("GenderSelect.man"),value:"male"},{label:t("GenderSelect.woman"),value:"female"}]},e))},_n=n("ZAuZ"),kn={root:"GglBXp-4",label:"_2KgRhha6",inputContainer:"_3njEQV81",input:"HVZjkBLt",icon:"KNaaxG9L",start:"D_1ky7fO",end:"_3g1Q6svO",danger:"_2O94Pfmp",success:"_2JkjBsEb",readOnly:"_32qqcN_y"};function Nn(){return(Nn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Cn(e){let{tag:t=_n.a,id:n,label:a,error:r,indicatorPosition:s="start",successfully:i,autoComplete:c,className:l,readOnly:u,...d}=e;const p=(r||i)&&o.a.createElement("div",{className:S()(kn.icon,kn.success,kn[s])},r&&o.a.createElement(bn.g,null),i&&o.a.createElement(bn.d,null));return o.a.createElement("div",{className:S()(kn.root,u&&kn.readOnly,l)},a&&o.a.createElement("label",{htmlFor:n,className:kn.label},a),o.a.createElement("div",{className:kn.inputContainer},o.a.createElement(t,Nn({id:n,className:kn.input,size:"normal",type:"text",autoComplete:"off"===c?10*Math.random()+"_autocomplete":c,readOnly:u},d)),p))}var Pn=n("qal9"),Sn=n.n(Pn),xn="_1rzSnE82",Tn="_1RnXjvWm",In="_31cmTFsF";const Mn=e=>o.a.createElement("span",null,e);function Ln(e){let{id:t,placeholder:n,value:a,disabled:r,onChange:s,onBlur:i}=e;const{t:c}=Object(h.useTranslation)("ui");return o.a.createElement(Sn.a,{tagProps:{className:xn,classNameRemove:Tn},inputProps:{className:In,id:t,placeholder:n||c("ui:labels.addTag"),onBlur:i},value:a,addOnBlur:!0,addOnPaste:!0,onlyUnique:!0,disabled:r,renderLayout:r?Mn:void 0,onChange:s})}var Rn=n("9Mw8"),An=n("f80g");function Fn(){return(Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Dn(e,t){return c.createElement(O.b,Fn({fill:"none",viewBox:"0 0 24 24",ref:t},e),c.createElement("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var Un=c.forwardRef(Dn),Bn=n("ztfp"),qn={button:"_1cheHu2s",startIcon:"_3QTRIM5a",endIcon:"bgPcNmEE"};function zn(){return(zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Vn(e){return o.a.createElement(Bn.a,zn({styles:qn},e))}var Wn="WK6cJRTJ",Hn="_3MzTnH7r",Kn="_2jCv7cQc";function Gn(e){let{isPressed:t,children:n,onToggle:a}=e;return o.a.createElement(Vn,{"aria-pressed":t,className:Wn,onClick:a},o.a.createElement("span",{className:Hn},"function"==typeof n?n({isPressed:t,onToggle:a}):n),o.a.createElement(Un,{size:14,className:Kn}))}Gn.defaultProps={isPressed:!1};var Zn="_3eXTZrMO",Qn="_1v5TCzoz",Jn="_33dvJPRt";function $n(e){let{className:t,value:n,placeholder:a,onChange:r}=e;return o.a.createElement("div",{className:S()(Zn,t)},o.a.createElement(bn.f,{size:20,color:"#8E8E93",className:Jn}),o.a.createElement("input",{type:"text",value:n,onChange:e=>r(e.target.value),placeholder:a,className:Qn}))}$n.defaultProps={value:""};var Yn="_2FH8m9p4",Xn="_2pLlzFtA",ea="_2zmUKgp9",ta="_2cDjm3WU",na="DgJmS7lN",aa="_1VA8NUcF",ra="_2I-QyIMJ",sa="_4TJiQ-Gr",ia="_1ZrAzzoG",ca="_2WD_oHCG",oa="_2FInbQPZ",la="G2Q9yBqI",ua="_3WOSR9pT";function da(){return(da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const pa={whatsapp:bn.i,telegram:Gt.m,viber:Gt.n,messenger:Gt.o,vk:Gt.e};function ma(e){let{id:t,avatar:n,username:a,lastMessage:r,lastActivity:s,isMessageUpcoming:i,isNew:c,isBlocked:l,platform:u,...d}=e;const{t:m}=Object(h.useTranslation)("inbox"),f=pa[u],{url:g}=Object(p.j)();return o.a.createElement(E.d,da({to:`${g}/${t}`,className:Yn,activeClassName:Xn},d),o.a.createElement("div",{className:ea},o.a.createElement(tn.a,{className:ra,src:n,name:a,size:40}),o.a.createElement("div",{className:ta},o.a.createElement("div",{className:aa},o.a.createElement("div",{className:sa},a),o.a.createElement("div",{className:ia},nt()(s).fromNow())),o.a.createElement("div",{className:na},o.a.createElement("p",{className:S()(ca,{[oa]:l})},l?m("uiConversation.blocked"):o.a.createElement(o.a.Fragment,null,i&&m("uiConversation.you"),r)),c&&o.a.createElement("span",{className:la}),!c&&o.a.createElement(f,{size:14,color:"#8E8E8E",className:ua})))))}ma.defaultProps={isNew:!1,isBlocked:!1,isMessageUpcoming:!1};var fa="uwIvntTo";function ha(){return(ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ga(e){let{items:t,hasMore:n,onScroll:a,children:r}=e;return o.a.createElement(g.a,null,o.a.createElement("div",{className:fa,onScroll:a},t.map(e=>o.a.createElement(ma,ha({key:"conversation-"+e.id},e))),n&&o.a.createElement(T.a,{color:"white"}),r))}ga.defaultProps={hasMore:!1};var ba=n("p4j6"),va=ct("DropDown",{appear:"_1iRL7IJP",enter:"_1ZdbNOAI",appearActive:"_1ysPK14i",enterActive:"_6at7aC07",exit:"_38-BBB0T",exitActive:"utVVrrLg"}),ya={root:"_1Ewm6noJ",prefix:"_3fyd_hRF",active:"_1SvNJAbQ",avatar:"lMlUbShp",label:"_13ocjs2K",count:"_2c0ebXSh"};function Ea(){return(Ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Oa(e){let{className:t,as:n,value:a,label:r,onSelect:s,isSelected:i,meta:c}=e;const{avatar:l,icon:u,count:d}=c;let p;return l?p=o.a.createElement(tn.a,Ea({className:ya.avatar,fontSize:12,size:24},l)):u&&(p=o.a.createElement(ja,{className:ya.icon,icon:u,size:22})),o.a.createElement(n,{className:S()(ya.root,t,{[ya.active]:i}),onClick:e=>{e.preventDefault(),s(a)},role:"button"},p&&o.a.createElement("div",{className:ya.prefix},p),o.a.createElement("div",{className:ya.label},r),null!=d&&o.a.createElement("div",{className:ya.count},d))}function ja(e){let{icon:t,...n}=e;return o.a.createElement(t,n)}function wa(){return(wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function _a(e,t){return c.createElement(O.b,wa({fill:"currentColor",viewBox:"0 0 14 14",ref:t},e),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5.586L12.293.293a1 1 0 111.414 1.414L8.414 7l5.293 5.293a1 1 0 01-1.414 1.414L7 8.414l-5.293 5.293a1 1 0 01-1.414-1.414L5.586 7 .293 1.707A1 1 0 011.707.293L7 5.586z"}))}Oa.defaultProps={isSelected:!1,as:"li",meta:{}};var ka=c.forwardRef(_a);function Na(){return(Na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ca(e,t){return c.createElement(O.b,Na({fill:"currentColor",viewBox:"0 0 14 13",ref:t},e),c.createElement("path",{d:"M1 10h12",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),c.createElement("path",{d:"M9 12a2 2 0 100-4 2 2 0 000 4z",fill:"#F2F2F2",stroke:"currentColor",strokeWidth:2}),c.createElement("path",{d:"M1 3h12",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),c.createElement("path",{d:"M5 5a2 2 0 100-4 2 2 0 000 4z",fill:"#F2F2F2",stroke:"currentColor",strokeWidth:2}))}var Pa=c.forwardRef(Ca),Sa="_1_uYBnFr",xa="_2qcnL_BL",Ta="lXy_Qdac";function Ia(e){let{isPressed:t=!1,onToggle:n}=e;return o.a.createElement(lt.a,{"aria-pressed":t,className:S()(Sa,{[Ta]:t,[xa]:!t}),onClick:n},t?o.a.createElement(ka,{size:14}):o.a.createElement(Pa,{size:14}))}var Ma="_3_PybuVi",La="_2JmwZPMj",Ra="_1kE2WuSs",Aa="_3n-DnLHq";function Fa(){return(Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Da(e){let{onChange:t,onToggle:n,options:a,value:r}=e;const{isOpen:s,toggle:i,hide:l}=Object(ba.a)(),u=a.find(e=>e.value===r);Object(c.useEffect)(()=>{n&&n(s)},[s]);const d=e=>{t(e),l()};return o.a.createElement("div",{className:Ma},o.a.createElement("div",{className:La},o.a.createElement("h1",{className:Ra},u.label+" ",null!=u.meta.count&&o.a.createElement("span",null,"(",u.meta.count,")")),o.a.createElement(Ia,{isPressed:s,onToggle:i})),o.a.createElement(va,{in:s},o.a.createElement("ul",{className:Aa},a.map((e,t)=>o.a.createElement(Oa,Fa({key:t,isSelected:e.value===r,onSelect:d},e))))))}var Ua=n("WDaW");function Ba(){const{ui:e}=Object(I.a)();return[Object(l.d)(e=>e.ui.conversationsFilter),t=>e.setConversationsFilter(t)]}function qa(){const e=function(){const{t:e}=Object(h.useTranslation)("inbox"),t=Object(Ua.a)(),{members:n,statistics:a}=Object(l.d)(e=>({members:Object(H.a)(e),statistics:e.conversations.statistics}));return Object(c.useMemo)(()=>[{label:e("assignFilter.label.my"),value:"my",meta:{avatar:{name:t.name,src:t.avatarUrl},count:a.my}},{label:e("assignFilter.label.unassigned"),value:"unassigned",meta:{icon:at.z,count:a.unassigned}},{label:e("assignFilter.label.all"),value:"all",meta:{icon:at.p,count:a.all}},...n.filter(e=>{let{id:n}=e;return n!==t.id}).map(e=>{let{id:t,name:n,avatarUrl:a}=e;return{label:n,value:t,meta:{avatar:{name:n,src:a}}}})],[n,a])}(),[t,n]=Ba(),{api:a}=Object(I.a)(),r=Object(ft.a)(a.conversations.statistics);Object(c.useEffect)(()=>{r.run({query:{status:t.status}})},[]);return{onChange:e=>n({assign:e}),options:e,value:t.assign}}var za="_2SoSoX9o",Va="_3CfGgkKz",Wa="_3ZSKUoR_",Ha="_2d_-Iuzs";function Ka(e){let{name:t,value:n,onChange:a,choices:r}=e;const s=Object(c.useCallback)(e=>{a(e.target.value)},[a]);return o.a.createElement("div",{className:za},r.map((e,a)=>o.a.createElement("label",{key:a,className:Va},o.a.createElement("input",{className:Ha,type:"radio",name:t,value:e.value,checked:n===e.value,onChange:s}),o.a.createElement("span",{className:Wa},e.label))))}var Ga={root:"_2dKIHuTy",faded:"_3GAVHRdg",header:"_2Ed4p3o1"};function Za(){return(Za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Qa(){const[e,t]=Object(c.useState)(!1),n=function(){const{api:e}=Object(I.a)(),t=Object(Ua.a)(),{conversations:n,hasMore:a,next:r}=Object(l.d)(e=>{const{hasNext:t,next:n}=e.conversations.list;return{conversations:wt(e),hasMore:t,next:n}}),s=Object(ft.a)(e.conversations.filterList);return Object(c.useEffect)(()=>{s.run()},[]),{items:Object(c.useMemo)(()=>n.map(e=>{let{contact:n,blocked:a,read:r,lastMessage:s}=e;const i=s&&"User"===s.authorKind&&s.author===t._id,c=Object(te.a)(s,"type"),o=Object(te.a)(s,"text","");let l;switch(c){case"image":l="Image";break;case"file":l="File";break;case"text":l=o;break;default:l="Unsupported"}return{id:n.id,avatar:n.avatarUrl,username:n.name,lastMessage:l,lastActivity:s.received,isMessageUpcoming:i,isNew:!r,isBlocked:!!a,platform:n.client.platform}}),[n]),hasMore:a,onScroll:e=>{let{target:t}=e;const n=t.scrollHeight-t.clientHeight-200;a&&t.scrollTop>=n&&s.run({query:{next:r}})}}}(),a=qa(),r=function(){const{t:e}=Object(h.useTranslation)("inbox"),[{assign:t,searchValue:n},a]=Ba();return{placeholder:Object(c.useMemo)(()=>{switch(t){case"unassigned":return e("conversationBar.searchPlaceholder.unassigned");case"my":return e("conversationBar.searchPlaceholder.my");case"all":return e("conversationBar.searchPlaceholder.all");default:return e("searchConversation.search")}},[t]),value:n,onChange:e=>a({searchValue:e})}}(),s=function(){const{t:e}=Object(h.useTranslation)("inbox"),[t,n]=Ba(),a=[{value:"open",label:e("ConversationsStatusSwitch.open")},{value:"close",label:e("ConversationsStatusSwitch.close")}];return{name:"conversationsStatusName",value:t.status,choices:a,onChange:e=>{n({status:e})}}}();return o.a.createElement("div",{className:S()(Ga.root,{[Ga.faded]:e})},o.a.createElement("header",{className:Ga.header},o.a.createElement(Da,Za({onToggle:t},a)),o.a.createElement($n,Za({className:Ga.searchBlock},r)),o.a.createElement(Ka,s)),o.a.createElement(ga,n))}var Ja="_34qtuScN",$a="_20XKsAfR";function Ya(){return(Ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Xa(e){let{options:t,placeholder:n,value:a,onChange:r}=e;const s=Object(c.useRef)(),[i,l]=Object(Rn.a)(),u=t.find(e=>e.value===a);Object(An.a)(s,()=>{l(!1)});const d=e=>{r(e),l(!1)};return o.a.createElement("div",{className:Ja,ref:s},o.a.createElement(Gn,{isPressed:i,onToggle:l},u?u.label:n),o.a.createElement(ot,{in:i},o.a.createElement("div",{className:$a},t.map((e,t)=>o.a.createElement(Oa,Ya({as:"a",href:"#",key:t,isSelected:e.value===a,onSelect:d},e))))))}var er={root:"_1AD-jjIe",content:"knOPd4QE",header:"_3XSfXdo6",sectionHeading:"DfxFfXSx",userName:"_36ZlDNjM",infoList:"_3fd5mQ_8",nav:"ZtJtqFe6"};function tr(){return(tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const nr=["name","email","phone","gender","address","notes","tags"];function ar(e){let{className:t,assignTo:n,contact:a,onSubmit:r,onClose:s}=e;const{t:i}=Object(h.useTranslation)("inbox"),{isMobile:l}=Object(yn.b)(),u=Object(c.useMemo)(()=>function(e){return nr.reduce((t,n)=>(t[n]=e[n]||(e=>"tags"===e?[]:"")(n),t),{})}(a),[a]),d=Object(En.a)({initialValues:u,onSubmit:r}),{success:p,getFieldProps:m}=function(e){const[t,n]=Object(c.useState)(null),[a,r]=Object(c.useState)({}),s=Object(On.a)(t=>{n(e=>({...e,[t.target.name]:!0})),e.handleBlur(t)}),i=Object(On.a)(e=>{var t,n;"Escape"!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),null===(t=(n=e.target).blur)||void 0===t||t.call(n))});return Object(c.useEffect)(()=>{e.dirty&&t&&Object.keys(t).length&&e.submitForm()},[t]),Object(c.useEffect)(()=>{if("success"!==e.status)return;n(null);const a={...t};r(e=>({...e,...t})),e.resetForm({values:e.values});const s=setTimeout(()=>{r(e=>{const t={...e};for(let e in a)t[e]=!1;return t})},3e3);return()=>{clearTimeout(s)}},[e.status]),{getFieldProps:t=>{const{error:n}=e.getFieldMeta(t);return{...e.getFieldProps(t),onBlur:s,onKeyDown:i,error:n}},success:a}}(d);return o.a.createElement(g.a,null,o.a.createElement("div",{className:S()(er.root,t)},l&&o.a.createElement("header",{className:er.nav},o.a.createElement(lt.a,{onClick:s,className:er.backBtn},o.a.createElement(bn.b,{size:24}))),o.a.createElement("form",null,o.a.createElement("section",{className:er.header},o.a.createElement(tn.a,{className:er.avatar,size:100,name:a.name,src:a.avatarUrl}),o.a.createElement("h4",{className:er.userName},a.name)),o.a.createElement("section",{className:er.content},o.a.createElement("h6",{className:er.sectionHeading},i("ClientCard.headings.infoHeading")),o.a.createElement("ul",{className:er.infoList},nr.filter(e=>"notes"!==e&&"tags"!==e).map(e=>{const t={gender:wn};return o.a.createElement("li",{key:e},o.a.createElement(Cn,tr({},m(e),{id:"client_"+e,tag:t[e]||_n.a,successfully:p[e],label:i(`ClientCard.inputs.${e}.label`),placeholder:i(`ClientCard.inputs.${e}.placeholder`),autoComplete:"off"})))}))),o.a.createElement("section",{className:er.content},o.a.createElement("h6",{className:er.sectionHeading},i("ClientCard.headings.assignTo")),o.a.createElement(Xa,n)),o.a.createElement("section",{className:er.content},o.a.createElement("h6",{className:er.sectionHeading},i("ClientCard.headings.tags")),o.a.createElement(Ln,{value:d.values.tags,onChange:e=>{d.setFieldValue("tags",e),d.submitForm()},error:d.errors.tags})),o.a.createElement("section",{className:er.content},o.a.createElement("h6",{className:er.sectionHeading},i("ClientCard.headings.notesHeading")),o.a.createElement(Cn,tr({},m("notes"),{successfully:p.notes,tag:vn.a,placeholder:i("ClientCard.inputs.notes.placeholder"),autoComplete:"off",indicatorPosition:"end",maxRows:1/0}))))))}function rr(e){const{contactId:t}=Object(p.i)(),n=function(e){const t=Object(I.a)();return{contact:Object(l.d)(t=>yt(t,e).contact),onSubmit:n=>t.api.contacts.update({contactId:e,payload:n})}}(t),a=function(e){const{t:t}=Object(h.useTranslation)("inbox"),{api:n}=Object(I.a)(),{id:a}=Object(Ua.a)(),{members:r,assignTo:s}=Object(l.d)(t=>({members:Object(H.a)(t),assignTo:yt(t,e).assignTo})),[i,o]=Object(c.useState)(s);Object(c.useEffect)(()=>{o(s)},[s]);const u=t("assignTo.unassigned"),d=Object(c.useMemo)(()=>r.map(e=>{let{id:n,name:r,avatarUrl:s}=e;return{label:a===n?t("assignTo.me"):r,value:n,meta:{avatar:{name:r,src:s}}}}),[r,a,t]);return{value:i,onChange:t=>{i!==t&&(o(t),n.conversations.assign({contactId:e,userId:t}))},placeholder:u,options:d}}(t);return o.a.createElement(ar,tr({},n,{assignTo:a},e))}ar.defaultProps={visible:!1};var sr={root:"cuwYGulf",caption:"_2k7JWnv6",contactName:"_1d8f5r3e"};function ir(){return(ir=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function cr(e){let{name:t,avatarUrl:n,children:a,...r}=e;return o.a.createElement("figure",ir({className:sr.root},r),o.a.createElement(tn.a,{className:sr.avatar,name:t,src:n,size:36}),o.a.createElement("figcaption",{className:sr.caption},o.a.createElement("div",{className:sr.contactName},t),a))}var or="_2s5Dj-Nd",lr="VVidEssJ",ur="_1ydxEdLo",dr="_3gOwl-p0";function pr(){return(pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function mr(e,t){return c.createElement(O.b,pr({fill:"none",viewBox:"0 0 24 24",ref:t},e),c.createElement("path",{d:"M20 6L9 17l-5-5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var fr=c.forwardRef(mr),hr="hHNmYlv0";function gr(e){let{isActive:t,onToggle:n}=e;return o.a.createElement(lt.a,{onClick:n,className:S()({[hr]:t})},o.a.createElement(fr,{size:24}))}function br(){return(br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function vr(e){let{isArchivedConversation:t,contact:n,onArchiveToggle:a,openClientCard:r,children:s}=e;const{isMobile:i}=Object(yn.b)(),l=Object(c.useCallback)(e=>{e.preventDefault(),r&&r()},[r]);return o.a.createElement("header",{className:or},i&&o.a.createElement(lt.a,{as:E.c,to:"/i",className:dr},o.a.createElement(bn.b,{size:24})),o.a.createElement(cr,{onClick:i?l:null,name:n.name,avatarUrl:n.avatarUrl}),o.a.createElement("div",{className:lr},s),o.a.createElement("div",{className:S()(ur)},o.a.createElement(gr,{isActive:t,onToggle:a})))}function yr(e){const{contactId:t}=Object(p.i)(),n=function(e){const{api:t}=Object(I.a)(),{isArchivedConversation:n,contact:a}=Object(l.d)(t=>{const{status:n,contact:a}=yt(t,e);return{isArchivedConversation:"close"===n,contact:a}});return{isArchivedConversation:n,contact:a,onArchiveToggle:a=>{a.preventDefault(),t.conversations.changeStatus({contactId:e,status:n?"open":"close"})}}}(t);return o.a.createElement(vr,br({},n,e))}function Er(){return(Er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Or(e,t){return c.createElement(O.b,Er({fill:"none",viewBox:"0 0 20 20",ref:t},e),c.createElement("path",{d:"M6 6h4",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",className:"prefix__line-1"}),c.createElement("path",{d:"M6 10h8",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",className:"prefix__line-2"}),c.createElement("path",{d:"M6 14h2",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",className:"prefix__line-3"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 0H3a3 3 0 00-3 3v14a3 3 0 003 3h14a3 3 0 003-3V3a3 3 0 00-3-3zM2 3a1 1 0 011-1h14a1 1 0 011 1v14a1 1 0 01-1 1H3a1 1 0 01-1-1V3z",fill:"currentColor"}))}var jr=c.forwardRef(Or),wr=n("LkJY");var _r=n("DX7n"),kr={button:"BEA8r__9",startIcon:"nzwsV0xy",endIcon:"_3Kb3Br1Z"};function Nr(){return(Nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Cr(e){return o.a.createElement(Bn.a,Nr({styles:kr},e))}function Pr(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[t,n]=Object(c.useState)(e),a=Object(c.useCallback)(()=>n(!0),[]),r=Object(c.useCallback)(()=>n(!1),[]),s=Object(c.useCallback)(e=>n("boolean"==typeof e?e:e=>!e),[]);return[t,a,r,s]}function Sr(){return(Sr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function xr(e,t){return c.createElement(O.b,Sr({fill:"none",viewBox:"0 0 14 18",ref:t},e),c.createElement("path",{d:"M8 3.414l4.293 4.293a1 1 0 101.414-1.414l-6-6a1 1 0 00-1.414 0l-6 6a1 1 0 001.414 1.414L6 3.414v13.642c0 .521.448.944 1 .944s1-.423 1-.944V3.414z",fill:"currentColor"}))}var Tr=c.forwardRef(xr);function Ir(e){Object(c.useEffect)(()=>{e&&ne.a.danger(e,{showClose:!0})},[e])}var Mr={root:"Moo7hMjw",input:"_1X5SEB6i",inputContainer:"_3m9hdbjq",btn:"_1WbacLs2",btnWrap:"_1XzSfpir",filled:"ujQkPXw2",children:"_3gDhv8uj"};function Lr(){return(Lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Rr(e){let{className:t,value:n,isFetching:a,onChange:r,onEnterPress:s,onSubmitClick:i,children:l,error:u,...d}=e;const[p,m,f]=Pr(!1);Ir(u);const h=Object(c.useCallback)(e=>{e.shiftKey||13!==e.which||(e.preventDefault(),s&&s(e))},[s]),b=!!n.trim();return o.a.createElement("div",{className:S()(Mr.root,t,{[Mr.filled]:b,[Mr.focused]:p})},o.a.createElement("div",{className:Mr.inputContainer},o.a.createElement(g.a,null,o.a.createElement(vn.a,Lr({className:Mr.input,onChange:r,onKeyPress:h,tabIndex:"0",value:n,maxLength:2e3,onFocus:m,onBlur:f,name:"message"},d))),o.a.createElement("div",{className:Mr.children},l)),o.a.createElement("div",{className:S()(Mr.btnWrap)},o.a.createElement(lt.a,{className:Mr.btn,type:"submit",disabled:a,onClick:i},a?o.a.createElement(T.a,{color:"white",size:24,borderWidth:2}):o.a.createElement(Tr,{size:20}))))}function Ar(){return(Ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Fr(e,t){return c.createElement(O.b,Ar({fill:"none",viewBox:"0 0 17 16",ref:t},e),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.154 7V1c0-.552.454-1 1.014-1s1.014.448 1.014 1v6h6.085c.56 0 1.014.448 1.014 1s-.454 1-1.014 1H9.182v6c0 .552-.454 1-1.014 1s-1.014-.448-1.014-1V9H1.07C.51 9 .056 8.552.056 8S.51 7 1.07 7h6.084z",fill:"currentColor"}))}Rr.defaultProps={isFetching:!1};var Dr=c.forwardRef(Fr),Ur="_3mo-wRdf";function Br(){return(Br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function qr(e){let{isFetching:t,error:n,...a}=e;const{t:r}=Object(h.useTranslation)("inbox");return Ir(n),o.a.createElement(lt.a,{className:Ur,as:"label",disabled:t},o.a.createElement("input",Br({key:String(t),name:"attachment",type:"file"},a)),t?o.a.createElement(T.a,{size:22}):o.a.createElement(Dr,{size:16,title:r("AttachFileButton.tip")}))}qr.defaultProps={isFetching:!1};var zr={root:"_3jXAjtDm",input:"_1yUSEa9p",send:"_1EeBNq5H",assign:"u9-PuNNc"};function Vr(){return(Vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Wr(e){let{isAssigned:t,isFetching:n,onSendMessage:a,onSendAttachment:r,onAssign:s}=e;const{t:i}=Object(h.useTranslation)("inbox"),{url:l}=Object(p.j)(),u=Object(En.a)({initialValues:{attachment:null},onSubmit:r,resetOnSuccess:!0}),d=Object(En.a)({initialValues:{message:""},onSubmit:a,resetOnSuccess:!0});!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;const n=e.dirty,a=Object(On.a)(()=>e.submitForm()),r=Object(c.useMemo)(()=>Object(Ze.default)(a,t),[t]);Object(wr.a)(()=>{n&&r()},[r,n])}(u,200);const m=Object(_r.b)();return Object(c.useEffect)(()=>{const e=e=>d.setFieldValue("message",e);return m.on("inbox:replySelect",e),()=>m.removeListener("inbox:replySelect",e)},[d.setFieldValue]),Object(c.useEffect)(()=>{m.emit("inbox:messageChange",d.values.message)},[d.values.message]),o.a.createElement("footer",{className:zr.root},t?o.a.createElement("div",{className:zr.send},o.a.createElement("form",{onSubmit:u.handleSubmit},o.a.createElement(qr,{isFetching:n,onChange:e=>u.setFieldValue("attachment",e.target.files[0]),error:u.errors.attachment})),o.a.createElement("form",{className:zr.input,onSubmit:d.handleSubmit},o.a.createElement(Rr,{placeholder:i("messagesFooter.placeholder"),onChange:d.handleChange,value:d.values.message,onEnterPress:()=>d.submitForm(),error:d.errors.message},o.a.createElement(lt.a,{as:E.c,to:l+"/replies",className:zr.quickReplyBtn},o.a.createElement(jr,{title:i("SendMessage.quickRepliesTip")}))))):o.a.createElement("div",{className:zr.assign},o.a.createElement(Cr,{onClick:s,startIcon:o.a.createElement(at.A,{size:24})},i("messagesFooter.button.assign"))))}function Hr(e){const{contactId:t}=Object(p.i)(),n=function(e){const{api:t}=Object(I.a)(),n=Object(l.d)(t=>!!yt(t,e).assignTo),a=Object(c.useCallback)(n=>{let{message:a}=n;return a&&t.conversations.sendMessage({contactId:e,payload:{text:a}})},[e,t]),{run:r,pending:s}=Object(ft.a)(n=>{let{attachment:a}=n;return a&&t.conversations.sendAttachment({contactId:e,payload:{file:a}})},[e,t]);return{isAssigned:n,isFetching:s,onSendMessage:a,onSendAttachment:r,onAssign:Object(c.useCallback)(()=>t.conversations.assignMe({contactId:e}),[e,t])}}(t);return o.a.createElement(Wr,Vr({},n,e))}Wr.defaultProps={isAssigned:!1,message:""};var Kr=ct("DropUp",{appear:"xBSYrJ9T",enter:"_276QvmZP",appearActive:"_2t-ePl1g",enterActive:"_8mVQuzDX",exit:"csi60zsV",exitActive:"_2_XbwVAR"});function Gr(){return(Gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Zr(e,t){return c.createElement(O.b,Gr({viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",ref:t},e),c.createElement("path",{d:"M17 3a2.828 2.828 0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"}))}var Qr=c.forwardRef(Zr),Jr="_2t6dA-UU",$r="_2OB6to60",Yr="_1I5ouIZT",Xr="_3cRMQhlT",es="_3_DCekfu",ts="_3GdoSigS";function ns(){return(ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}ee.a.shape({_id:ee.a.string.isRequired,shortcut:ee.a.string.isRequired,message:ee.a.string.isRequired});function as(e){let{data:t,isEdit:n,onSelect:r,...s}=e;const{t:i}=Object(a.d)("inbox"),{url:c}=Object(p.j)();return o.a.createElement("li",ns({className:Jr,"data-replyid":t.shortcut},s),o.a.createElement("div",{className:$r,onClick:e=>{e.preventDefault(),r&&r(t)}},o.a.createElement("h4",{className:es},t.shortcut),o.a.createElement("p",{className:ts},t.message)),n&&o.a.createElement("div",{className:Yr},o.a.createElement(lt.a,{as:E.c,to:`${c}/${t._id}`,className:Xr},o.a.createElement(Qr,{size:24,title:i("QuickRepliesPopup.editTip")}))))}as.defaultProps={isEdit:!1};var rs=n("PZsd"),ss=n.n(rs);var is="_2mkChHOy",cs="_2Y3Nuf6C",os="_1qTlQw_X",ls="jq-TTVyt",us="O6Jy7geQ",ds="_38EmaREO";function ps(){return(ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ms(e){let{isOpen:t,items:n,onSelectItem:a}=e;const{t:r}=Object(h.useTranslation)("inbox");return o.a.createElement(o.a.Fragment,null,o.a.createElement(ot,{in:t,duration:"normal"},o.a.createElement("div",{className:is})),o.a.createElement(Kr,{in:t,duration:"normal"},o.a.createElement("div",{className:cs},o.a.createElement("header",{className:os},o.a.createElement("h3",{className:us},r("QuickRepliesMatchPopup.title"))),o.a.createElement(g.a,null,o.a.createElement("div",{className:ls},o.a.createElement("ul",{className:ds},n.map(e=>o.a.createElement(as,{data:e,key:e._id,onSelect:a}))))))))}function fs(e){const t=function(){const e=Object(m.a)(),[t,n]=Object(c.useState)(),[a,r]=Object(c.useState)(""),s=Object(_r.b)();Object(c.useEffect)(()=>(s.on("inbox:messageChange",r),()=>s.removeListener("inbox:messageChange",r)),[]);let i=[];if(a){const t=new RegExp("^"+ss()(a),"i");i=e.replies.filter(e=>{let{shortcut:n}=e;return t.test(n)})}Object(c.useEffect)(()=>{n(i.length>0)},[i.length]);const o=Object(c.useCallback)(e=>{let{message:t}=e;s.emit("inbox:replySelect",t)},[]);return{isOpen:t,items:i,onSelectItem:o}}();return o.a.createElement(ms,ps({},t,e))}ms.defaultProps={isOpen:!1};var hs=n("vFhw");function gs(){return(gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function bs(e,t){return c.createElement(O.b,gs({viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},e),c.createElement("path",{d:"M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"}),c.createElement("path",{d:"M17 21v-8H7v8M7 3v5h8"}))}var vs=c.forwardRef(bs);function ys(){return(ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Es(e,t){return c.createElement(O.b,ys({viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},e),c.createElement("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2M10 11v6M14 11v6"}))}var Os=c.forwardRef(Es),js={root:"M_dBmKw1",header:"ecVKX-Gc",title:"_3Iay4TaO",content:"_2dWVLgCM",body:"SVvQ5mqd",footer:"_1vvKkZTI",headerAfter:"_1jEt7c0x",headerBefore:"_1e0H5tEg"};function ws(e){let{onClose:t,title:n,buttons:a,children:r,footer:s}=e;return o.a.createElement("div",{className:S()(js.root)},o.a.createElement("header",{className:js.header},o.a.createElement("div",{className:js.headerBefore},o.a.createElement(lt.a,{className:S()(js.close),onClick:t},o.a.createElement(ka,{size:15}))),o.a.createElement("h4",{className:js.title},n),o.a.createElement("div",{className:js.headerAfter},a)),o.a.createElement(g.a,null,o.a.createElement("div",{className:js.content},r)),s&&o.a.createElement("footer",{className:js.footer},s))}var _s=n("JuTl");function ks(){return(ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ns(e){let{data:t,onSubmit:n,onRemove:a,onClose:r,...s}=e;const{t:i}=Object(h.useTranslation)("inbox"),c=Object(ft.a)(a),l=Object(En.a)({initialValues:{shortcut:Object(te.a)(t,"shortcut",""),message:Object(te.a)(t,"message","")},enableReinitialize:!0,onSubmit:n});("success"===l.status||c.fulfilled)&&r&&r();const u=!(t&&t._id),d=u?i("QuickReplyEditPopup.title"):t.shortcut,p=o.a.createElement(o.a.Fragment,null,l.dirty&&o.a.createElement(lt.a,{onClick:l.submitForm},o.a.createElement(vs,{size:22,title:i("ui:button.save")})),!u&&o.a.createElement(lt.a,{color:"#dc5960",onClick:()=>c.run()},o.a.createElement(Os,{size:22,title:i("ui:button.remove")})));return o.a.createElement(ws,ks({title:d,buttons:p,onClose:r},s),o.a.createElement("form",{onSubmit:l.handleSubmit},o.a.createElement($.a,ks({label:i("QuickReplyEditPopup.shortcut.label"),placeholder:i("QuickReplyEditPopup.shortcut.placeholder"),maxLength:20,errors:l.errors.shortcut},l.getFieldProps("shortcut"))),o.a.createElement($.a,ks({component:hs.a,label:i("QuickReplyEditPopup.message.label"),placeholder:i("QuickReplyEditPopup.message.placeholder"),maxLength:2e3,errors:l.errors.message},l.getFieldProps("message")))))}function Cs(e){const{replyId:t}=Object(p.i)(),n=function(e){const t=Object(p.g)(),{url:n}=Object(p.j)(),{api:a}=Object(I.a)(),r=Object(m.a)(),[s,i]=Object(c.useState)();let o,l,u;return Object(c.useEffect)(()=>{s&&t.push(s)},[s]),e?(o=r.replies.find(t=>t._id===e),l=t=>a.replies.update({replyId:e,payload:t}),u=()=>a.replies.delete({replyId:e})):l=e=>a.replies.create({payload:e}),{data:o,onSubmit:l,onRemove:u,onClose:()=>i(Object(_s.a)(n,".."))}}(t);return o.a.createElement(Ns,ks({},n,e))}var Ps="_9D7d20qF";function Ss(){return(Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function xs(e){let{items:t,onSelectItem:n,onClose:a,...r}=e;const{t:s}=Object(h.useTranslation)("inbox"),{url:i}=Object(p.j)(),c=function(){n&&n(...arguments),a&&a()};return o.a.createElement(ws,Ss({title:s("QuickRepliesPopup.title"),buttons:o.a.createElement(lt.a,{as:E.c,to:i+"/new"},o.a.createElement(Dr,{size:18,title:s("QuickRepliesPopup.addTip")})),footer:s("QuickRepliesPopup.footerText"),onClose:a},r),t.length>0&&o.a.createElement("ul",{className:Ps},t.map(e=>o.a.createElement(as,{data:e,key:e._id,isEdit:!0,onSelect:c}))))}function Ts(e){const t=function(){const e=Object(m.a)(),t=Object(p.g)(),{url:n}=Object(p.j)(),[a,r]=Object(c.useState)(),s=Object(_r.b)();return Object(c.useEffect)(()=>{a&&t.push(a)},[a]),{items:e.replies,onClose:()=>r(Object(_s.a)(n,"..")),onSelectItem:Object(c.useCallback)(e=>{let{message:t}=e;s.emit("inbox:replySelect",t)},[])}}();return o.a.createElement(xs,Ss({},t,e))}var Is=n.p+"inbox/img/aquaman.png",Ms="_11sw18TV",Ls="_1p_JrHZP",Rs="_9AwEj8Rn",As="_3OjsScVA";const Fs=()=>{const{t:e}=Object(h.useTranslation)("inbox");return o.a.createElement("div",{className:Ms},o.a.createElement("img",{className:Ls,src:Is,alt:"No Conversations Selected"}),o.a.createElement("h2",{className:Rs},e("noConversation.heading")),o.a.createElement("p",{className:As},e("noConversation.description")))};var Ds="_3DkkSk37",Us="_2JmjmC7i";function Bs(){const{path:e}=Object(p.j)(),{contactId:t}=Object(p.i)(),{api:n}=Object(I.a)(),{isBelowDesktop:a}=Object(yn.b)(),[r,s,i]=Pr(),u=Object(l.d)(e=>yt(e,t)),d=Object(ft.a)(n.conversations.read);if(Object(c.useEffect)(()=>{u||n.conversations.retrieve({contactId:t})},[u]),!u)return null;function m(){u.read||d.run({contactId:t})}return o.a.createElement("div",{className:Ds,key:"contact-"+t,onMouseMove:m,onClick:m,onKeyPress:m},o.a.createElement(p.d,null,o.a.createElement(p.b,{path:e},o.a.createElement("div",{className:Us,hidden:r},o.a.createElement(p.d,null,o.a.createElement(p.b,{path:e+"/replies/new",exact:!0},o.a.createElement(Cs,null)),o.a.createElement(p.b,{path:e+"/replies/:replyId",exact:!0},o.a.createElement(Cs,null)),o.a.createElement(p.b,{path:e+"/replies",exact:!0},o.a.createElement(Ts,null))),o.a.createElement(fs,null),o.a.createElement(yr,{openClientCard:s}),o.a.createElement(gn,null),o.a.createElement(Hr,null)),(!a||r)&&o.a.createElement(rr,{onClose:i}))))}function qs(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ke.a,null,o.a.createElement(Qa,null)),o.a.createElement(p.d,null,o.a.createElement(p.b,{path:"/i/:contactId",component:Bs}),o.a.createElement(p.b,{render:()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(Ke.a,null,o.a.createElement(Fs,null)),o.a.createElement(Ke.b,null,o.a.createElement(Qa,null)))})))}var zs=n("iVRF");function Vs(){const e=Object(m.a)(),t=Object(p.j)(),n=e.integrations.length>0;return function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{api:t}=Object(I.a)();Object(c.useEffect)(()=>{e&&async function(){try{const e=await zs.a.askPermission();let n=await zs.a.getSubscription();if(n&&!e)return void await zs.a.unsubscribe();if(!e)return;n||(n=await zs.a.subscribe()),n&&await t.users.saveMySubscription({payload:n})}catch(e){zs.a.handleError(e)}}()},[e])}(n),o.a.createElement(f.a,{rule:"inbox",reason:{code:"inbox",plan:"pro"},center:!0},o.a.createElement(p.d,null,o.a.createElement(p.b,{path:t.path+"/onboard",component:He}),n?o.a.createElement(p.b,{path:""+t.path,component:qs}):o.a.createElement(p.a,{to:t.path+"/onboard"})))}},BHCP:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/telegram2.svg"},C4Pa:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/onboarding/no_branding.svg"},CwwZ:function(e,t,n){var a={"./en/billing.json":["ukI4",0],"./ru/billing.json":["UDeQ",1],"./uk/billing.json":["lJ0Z",2]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,3)}))}r.keys=function(){return Object.keys(a)},r.id="CwwZ",e.exports=r},DSsC:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/card/logo.svg"},DX7n:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var a=n("r0ML"),r=n.n(a),s=n("jxal");const i=Object(a.createContext)(new s.EventEmitter);function c(e){let{children:t}=e;const[n]=Object(a.useState)(()=>new s.EventEmitter);return r.a.createElement(i.Provider,{value:n},t)}function o(){return Object(a.useContext)(i)}},DkZq:function(e,t,n){"use strict";n.d(t,"a",(function(){return Wn})),n.d(t,"b",(function(){return Gn})),n.d(t,"c",(function(){return k})),n.d(t,"g",(function(){return te})),n.d(t,"j",(function(){return zn})),n.d(t,"k",(function(){return un})),n.d(t,"i",(function(){return pa})),n.d(t,"m",(function(){return Oa})),n.d(t,"e",(function(){return wa})),n.d(t,"d",(function(){return hr})),n.d(t,"f",(function(){return mr})),n.d(t,"l",(function(){return vr})),n.d(t,"h",(function(){return Or}));var a=n("r0ML"),r=n.n(a),s=n("Pc05"),i=n.n(s),c=n("pnxo"),o=n("6dgs"),l=n("Jafw"),u=n("bCRH"),d=(n("8itW"),n("xsHC"),n("tYC8")),p=n("Fz8S");const m=r.a.createContext({uid:"",experiments:[]});function f(e){let{id:t,experiment:n}=e;const{uid:r,experiments:s}=Object(a.useContext)(m);return Object(a.useMemo)(()=>{const e=(e=>p.a.parse(window.location.search)["_ab_"+e])((null==n?void 0:n.id)||t),a=n||t&&s.find(e=>e.id===t);if(!a)return e;if(e&&a.variants.find(t=>{let{id:n}=t;return n===e}))return e;const i=((e,t)=>{if(e.length>1){const n=e.reduce((e,t)=>{let{weight:n}=t;return e+n},0);let a=Math.abs(Object(d.str)(t))%n;for(const t of e)if(a-=t.weight,a<0)return t}return e[0]})(a.variants,r);return null==i?void 0:i.id},[r,s])}var h=n("jMR3"),g=n.p+"cards/img/logo-white.svg",b={root:"_3RVSwz7L",logo:"_1N6CPspF",button:"TZdhPGGG"};function v(e){let{className:t,animated:n=!1}=e;const a=Object(l.a)(),s=Object(u.b)(),c=f({id:"branding"}),o="ru"===s?"Создать страницу":"Make your page";return r.a.createElement("div",{className:i()(b.root,t,b.slideDown,n?b.animated:null)},r.a.createElement(h.a,{id:"legacy-card-branding-logo","data-experiment":c,href:a,className:b.logo},r.a.createElement("img",{src:g,alt:"mssg.me logo"})),r.a.createElement(h.a,{id:"legacy-card-branding-link","data-experiment":c,href:a,className:b.button},o))}var y=n("ZmyB"),E="_17hyIrJX",O="_1nw4iph5";const j=e=>{let t,{background:n}=e;return t="color"===n.type?`linear-gradient(135deg, rgba(${Object(y.a)(n.color)}, 1) 0%, rgba(${Object(y.a)(n.color)}, .6) 100%)`:`url(${n.imageUrl})`,r.a.createElement("div",{className:i()(E,{[O]:"image"===n.type}),style:{backgroundImage:t}})};var w="_1i2LOWZW",_="_3K1476ou";const k=e=>{let{children:t,placement:n="card"}=e;const a=r.a.Children.toArray(t);return r.a.createElement("div",{className:w},r.a.createElement("ul",{className:_,count:t.length,id:n+"_messengers"},a.map((e,t)=>r.a.createElement("li",{key:t},e))))};var N=n("xUbJ"),C=n("Xoms");function P(){return(P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var S=a.createElement("path",{d:"M18.2 11.3c-.5-.5-2.7-2.1-7.5-2.1 0 0-5.7-.3-8.5 2.2C.6 13 .1 15.2 0 18c0 2.8-.1 8.1 5 9.5v2.2s0 .9.5 1.1c.7.2 1.1-.5 1.8-1.2.4-.4.9-1 1.3-1.4 3.5.3 6.1-.4 6.4-.5.7-.2 4.7-.7 5.3-6 .7-5.4-.3-8.9-2.1-10.4m.6 10c-.5 4.4-3.8 4.7-4.4 4.9-.3.1-2.6.7-5.5.5 0 0-2.2 2.6-2.9 3.3-.1.1-.2.2-.3.1-.1 0-.2-.2-.1-.4v-3.6c-4.3-1.2-4-5.7-4-8s.5-4.3 1.8-5.6c2.4-2.1 7.2-1.8 7.2-1.8 4.1 0 6 1.2 6.5 1.7 1.5 1.3 2.2 4.4 1.7 8.9"}),x=a.createElement("path",{d:"M12.6 18.2c-.1 0-.3-.1-.3-.3 0-.9-.5-1.4-1.4-1.4-.2 0-.3-.1-.3-.3 0-.2.1-.3.3-.3 1.2.1 1.8.7 1.9 1.9.1.2 0 .4-.2.4"}),T=a.createElement("path",{d:"M14 18.7c-.2 0-.3-.1-.3-.3 0-.9-.2-1.7-.8-2.3-.6-.6-1.3-1-2.4-1-.2 0-.3-.1-.3-.3 0-.2.1-.3.3-.3 1.2.1 2.1.5 2.7 1.2.7.7 1 1.6 1 2.7.1.1 0 .3-.2.3"}),I=a.createElement("path",{d:"M15.5 19.2c-.1 0-.3-.1-.3-.3 0-1.7-.5-2.9-1.5-3.9-1-.9-2.2-1.4-3.6-1.4-.2 0-.3-.1-.3-.3 0-.2.1-.3.3-.3 1.6 0 2.9.5 4 1.6 1.1 1 1.6 2.5 1.6 4.3 0 .2-.1.3-.2.3zM11.1 21.6s.4 0 .6-.2l.4-.5c.2-.3.7-.4 1.1-.2.3.1.7.4 1 .6.3.2.9.7.9.7.3.3.4.6.2 1s-.5.7-.8 1c-.3.2-.6.4-.9.4h-.1c-.1 0-.2 0-.4-.1-.4-.1-1.1-.4-2.3-1.1-.8-.4-1.4-.9-2-1.3-.3-.2-.6-.5-.9-.8-.3-.3-.6-.6-.8-.9-.4-.5-.9-1.2-1.3-2-.7-1.2-1-1.9-1.1-2.3 0-.1-.1-.2-.1-.4v-.1c0-.3.2-.6.4-.9.3-.4.7-.6 1-.8.4-.2.8-.1 1 .2 0 0 .5.6.7.9.2.3.5.7.6 1 .3.5.1.9-.2 1.1l-.5.4c-.1.3-.1.7-.1.7s.7 2.9 3.6 3.6"});var M=function(e){return a.createElement("svg",P({viewBox:"-0.7 9 22 22"},e),S,x,T,I)};function L(){return(L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var R=a.createElement("path",{d:"M18.3 10.9s2.9-4.1 3.2-5.4c.1-.5-.1-.7-.6-.7h-2.5c-.6 0-.8.2-1 .6 0 0-1.4 2.9-3 4.7-.5.6-.8.8-1.1.8-.2 0-.3-.2-.3-.7V5.5c0-.7-.1-.8-.6-.8h-4c-.3 0-.5.2-.5.4 0 .6.9.8.9 2.4v3.4c0 .7 0 1-.4 1-.9 0-2.9-3-4.1-6.4-.2-.7-.5-.9-1.1-.9H.6c-.4 0-.6.2-.6.6 0 .7.8 3.8 3.9 7.9 2.1 2.8 4.8 4.3 7.3 4.3 1.5 0 1.9-.2 1.9-.9v-2.2c0-.5.2-.8.5-.8s1 .1 2.4 1.5c1.7 1.6 1.8 2.3 2.7 2.3h2.8c.3 0 .6-.1.6-.6 0-.6-.8-1.8-2.1-3.1-.5-.7-1.4-1.4-1.6-1.8-.5 8.7-.4 8.5-.1 8.1"});var A=function(e){return a.createElement("svg",L({viewBox:"0 0 22 22"},e),R)};function F(){return(F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var D=a.createElement("path",{d:"M7.57 10.532l7.034 5.197c.802.443 1.382.214 1.582-.745l2.863-13.493C19.342.316 18.6-.217 17.833.131L1.02 6.616C-.128 7.075-.121 7.715.81 8l4.315 1.347 9.99-6.302c.47-.286.903-.132.548.183"});var U=function(e){return a.createElement("svg",F({viewBox:"-0.5 -2 20 20"},e),D)};function B(){return(B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var q=a.createElement("path",{d:"M21.2 21.8v.1-.2.1c.1-.6.2-1.3.2-1.9 0-1.4-.3-2.8-.8-4-.5-1.2-1.3-2.3-2.2-3.3-1-1-2.1-1.7-3.3-2.2-1.3-.5-2.6-.8-4-.8-.7 0-1.3.1-2 .2 0 0 .1 0 .1.1H9h.1C8.2 9.3 7.2 9 6.2 9c-1.7 0-3.2.7-4.4 1.8C.6 12 0 13.5 0 15.2c0 1 .3 2.1.8 3v-.1.2s0-.1-.1-.1c-.1.6-.2 1.2-.2 1.8 0 1.4.3 2.8.8 4 .5 1.2 1.3 2.3 2.2 3.3 1 1 2.1 1.7 3.3 2.2 1.3.5 2.6.8 4 .8.6 0 1.2-.1 1.8-.2 0 0-.1 0-.1-.1h.1c.9.5 2 .8 3 .8 1.6 0 3.2-.6 4.3-1.8 1.2-1.2 1.8-2.7 1.8-4.3.3-.9 0-2-.5-2.9zM11 26.3c-3.7 0-5.3-1.8-5.3-3.2 0-.7.5-1.2 1.2-1.2 1.6 0 1.2 2.3 4.1 2.3 1.5 0 2.3-.8 2.3-1.7 0-.5-.2-1.1-1.2-1.3l-3.3-.8c-2.6-.7-3.1-2.1-3.1-3.4 0-2.8 2.6-3.8 5.1-3.8 2.3 0 5 1.3 5 2.9 0 .7-.6 1.1-1.3 1.1-1.3 0-1.1-1.9-3.8-1.9-1.3 0-2.1.6-2.1 1.5s1.1 1.1 2 1.4l2.4.5c2.7.6 3.3 2.1 3.3 3.6 0 2.3-1.7 4-5.3 4zm1.7 3.8s.1 0 .1.1h.1l-.2-.1zm8.5-8.2v-.1s0-.1-.1-.1l.1.2zM.8 18v.1s0 .1.1.1L.8 18zm8.3-8.2s-.1 0-.1-.1h-.1l.2.1z"});var z=function(e){return a.createElement("svg",B({viewBox:"-0.1 8.9 22 22"},e),q)};function V(){return(V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var W=a.createElement("path",{d:"M11.2 28.8c-2.8 0-5-1.5-5-1.5l-3.4 1.1 1.1-3.3s-1.8-2.5-1.8-5.4c0-5 4.1-9.1 9.1-9.1s9.1 4.1 9.1 9.1-4.1 9.1-9.1 9.1zm0-19.9C5.2 8.9.4 13.8.4 19.7c0 3 1.6 5.6 1.6 5.6l-2 5.8 5.9-1.9s2.2 1.3 5.2 1.3c6 0 10.8-4.9 10.8-10.8S17.1 8.9 11.2 8.9z"}),H=a.createElement("path",{d:"M7 15s.3-.2.4-.2h.9s.2 0 .3.3c.1.2.8 1.9.9 2.1.1.1.2.5 0 .7-.2.3-.7.8-.7.8s-.2.2 0 .4c.2.3.7 1.1 1.5 1.8.7.7 1.6 1.2 2.1 1.3.5.1.6 0 .7-.3.2-.2.7-.9.7-.9s.2-.3.6-.1c.4.2 2.1 1 2.1 1s.2 0 .2.3c0 .2.2 1-.5 1.7-.6.7-2 1-2.7.8-.6-.2-2.8-.7-4.2-2-1.4-1.3-2.5-2.7-3-3.7-.4-1-.3-1.6-.3-1.8 0-.3.2-1.6 1-2.2"});var K=function(e){return a.createElement("svg",V({viewBox:"0 9 22 22"},e),W,H)};function G(){return(G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Z=a.createElement("path",{d:"M9.7 9.8c-1.7.1-3.3.5-4.6 1.2-.2.1-.3.2-.3.2l-1.2.8c-4.5 3.6-4.9 10.6-.8 14.7l.4.4c.3.3.3.4.3 1.4 0 1.3 0 1.4.3 1.6.3.3.6.3 1.2.1.4-.2 1.8-.8 1.9-.8.2-.1.3 0 .7 0 2.3.6 4.7.4 6.9-.4 4.4-1.8 6.8-6.2 6-11-1-5.1-5.5-8.5-10.8-8.2m6.6 6.9c.4.2.3.3-.4 1.6-.3.5-.7 1.2-1 1.5-.2.3-.5.8-.6.9-.4.6-.6 1-.8 1.2-.4.6-.8.9-1.4.9-.6 0-.5 0-2-1.1s-1.4-1.1-1.6-1.1c-.3-.1-.3-.1-1.3.7-2.4 1.9-2.5 1.9-2.6 1.9-.3 0-.6-.2-.6-.5 0-.2 0-.2.3-.6.2-.1.3-.3.7-.9.1-.1.2-.3.3-.4.1-.1.2-.3.3-.4.1-.1.3-.4.4-.7.2-.3.4-.7.6-.9.1-.3.3-.7.4-.8.4-.6.8-.8 1.4-.8.5 0 .5 0 2.1 1.2 1.4 1 1.4 1 1.6 1 .2 0 .1.1 2.5-1.8 1.3-1 1.4-1.1 1.7-.9"});var Q=function(e){return a.createElement("svg",G({viewBox:"-0.7 9 22 22"},e),Z)};function J(){return(J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var $=a.createElement("path",{d:"M10.345 11.865c2.762 0 3.09.01 4.181.06 2.804.128 4.113 1.458 4.24 4.24.05 1.091.06 1.419.06 4.18 0 2.764-.01 3.09-.06 4.181-.128 2.78-1.434 4.113-4.24 4.24-1.091.05-1.417.061-4.181.061-2.762 0-3.09-.01-4.18-.06-2.81-.129-4.113-1.465-4.24-4.242-.05-1.09-.061-1.417-.061-4.18 0-2.762.011-3.089.06-4.18.129-2.782 1.435-4.113 4.24-4.24 1.092-.05 1.419-.06 4.181-.06zm0-1.865c-2.81 0-3.161.012-4.265.062C2.323 10.235.235 12.32.063 16.08.013 17.184 0 17.535 0 20.345s.012 3.162.062 4.266c.172 3.756 2.257 5.845 6.017 6.017 1.105.05 1.456.062 4.266.062s3.162-.012 4.266-.062c3.753-.172 5.846-2.257 6.016-6.017.05-1.104.063-1.457.063-4.266 0-2.81-.012-3.161-.062-4.265-.169-3.753-2.256-5.845-6.017-6.017-1.104-.05-1.457-.063-4.266-.063zm0 5.033a5.312 5.312 0 100 10.625 5.312 5.312 0 000-10.625zm0 8.76a3.448 3.448 0 110-6.896 3.448 3.448 0 010 6.896zm5.522-10.211a1.242 1.242 0 100 2.484 1.242 1.242 0 000-2.484z"});var Y={viber:M,vk:A,telegram:U,line:z,skype:z,whatsapp:K,messenger:Q,instagram:function(e){return a.createElement("svg",J({viewBox:"-0.7 9.4 22 22"},e),$)}},X={root:"_1z9n_2jR",messenger:"_2jHQlwMo",whatsapp:"_3WurcoaT",telegram:"_305wydrI",vk:"_2Fi6oBbw",skype:"_20c5-Sc-",viber:"_2bUQepOh"};function ee(){return(ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}class te extends r.a.Component{constructor(){super(...arguments),this.handleClick=e=>{const{onClick:t}=this.props;if(t)return t(e);if(N.a.Android){e.preventDefault();const{currentTarget:t}=e,n=t.href;window.open(n)}}}render(){const{platform:e,className:t,...n}=this.props,a=Y[e];return r.a.createElement("a",ee({className:i()(X.root,X[e],t),target:"_blank",rel:"noopener noreferrer"},n,{onClick:this.handleClick}),r.a.createElement(a,null),r.a.createElement("span",null))}}var ne="_1sx8vp36",ae="_2lxLLtfL",re="_2up6UFXG",se="_6qClcIco",ie="_35Pu2Bti",ce="_1aduFP8G",oe="_3XIHxQX0";function le(){return(le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}class ue extends a.Component{constructor(e){super(e),this.toggleDescription=()=>{this.setState({excerpt:!this.state.excerpt})};const{description:t}=this.props;this.state={excerpt:t.length>90}}render(){const{photo:e,fullName:t,category:n,messengers:a,animated:s,description:c}=this.props,o=a.map(e=>({platform:e.messenger,href:N.a.isMobile?Object(C.a)(e).getUrl():e.redirectUrl}));return r.a.createElement("div",{className:i()(ne,ae,s?re:null)},r.a.createElement("div",{className:se},r.a.createElement("div",{className:ie},r.a.createElement("img",{src:e,alt:t})),r.a.createElement("div",{className:ce},r.a.createElement("div",null,r.a.createElement("h1",null,t)))),c&&r.a.createElement("div",{className:oe,onClick:this.toggleDescription},r.a.createElement("p",null,c)),a.length>0&&r.a.createElement(k,null,o.map(e=>r.a.createElement(te,le({key:e.platform,"data-messenger":e.platform},e)))))}}var de=n("qNnD"),pe=n("g+ST"),me=n("aoZX"),fe="sHSpJqEd",he="zf-7yuVy",ge="_3Ec8iWmI",be="_3zCqEmUk",ve="_2XV8vJVy",ye="_100juL6J",Ee="_2Y0mzX8d";class Oe extends a.Component{render(){const{links:e,animated:t,showActionSheet:n,website:a}=this.props,s=e.length>1,o=1===e.length,l=a&&a.enabled&&Object(de.a)(a.url);return r.a.createElement("div",{className:i()(fe,he,t?ge:null)},r.a.createElement("ul",{className:be,id:"card_list"},!!l&&r.a.createElement("li",null,r.a.createElement(h.a,{href:a.url,"data-id":"website_link","data-title":Object(c.a)("website_link_title"),"data-element":"custom-link","data-event-name":Object(pe.a)(a.url)},r.a.createElement("div",null,a.title||Object(c.a)("visit_website"),r.a.createElement("span",{className:Ee},Object(me.a)(a.url))))),s&&r.a.createElement("li",{onClick:n},r.a.createElement("span",null,r.a.createElement("span",{className:ye},Object(c.a)("menu_links")),r.a.createElement("div",{className:ve},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))),o&&e.map(e=>{let{_id:t,redirectUrl:n,title:a,url:s}=e;return r.a.createElement("li",{key:t},r.a.createElement(h.a,{href:n,"data-id":t,"data-title":a,"data-element":"custom-link","data-event-name":Object(pe.a)(s)},r.a.createElement("span",{className:ye},a)))})))}}var je=n("+Q0i"),we=n.n(je),_e=n("8KO3");r.a.Component;var ke=n("T8LO"),Ne=n("yW3b"),Ce="_3Zu8nPmY",Pe="_2_cGBWbV",Se="_3ruYpCoi",xe="_2CbEBJV_",Te="_2Lwdrshj",Ie="hwNEDYxk",Me="b9vYw7Sc",Le="A0vbuxVg",Re="F6VAyLRi";class Ae extends r.a.Component{constructor(){super(...arguments),this.el=document.createElement("div"),this.state={message:""},this.handleChange=e=>{const t=e.target.value;this.setState({message:t})},this.handleSubmit=e=>{e.preventDefault();const{onSubmit:t,recommend:n}=this.props,{message:a}=this.state;t({recommend:n,message:a})}}componentDidMount(){document.getElementById("cardRoot").appendChild(this.el)}componentWillUnmount(){document.getElementById("cardRoot").removeChild(this.el)}render(){const{recommend:e,fullName:t,closeModalFn:n,maxLength:a,minLength:s}=this.props,{message:o}=this.state,l=o.trim();return we.a.createPortal(r.a.createElement("div",{className:Ce},r.a.createElement("form",{className:Pe,onSubmit:this.handleSubmit},r.a.createElement("div",{className:i()(Se,e?xe:Te)},r.a.createElement("h1",null,t),r.a.createElement("span",{className:Re,onClick:n},r.a.createElement(ke.e,{size:32,color:"#fff"}))),r.a.createElement("textarea",{className:Ie,name:"message",onChange:this.handleChange,value:o,maxLength:a,placeholder:Object(c.a)("what_recommend",[t])}),r.a.createElement("div",{className:Me},r.a.createElement("span",{className:Le},Object(c.a)("minimum_characters",[l.length])),r.a.createElement(Ne.a,{"data-btn":"sendReviewButton",type:"submit",disabled:l.length<s,size:"small",btnStyle:"primary"},Object(c.a)("send"))))),this.el)}}Ae.defaultProps={minLength:25,maxLength:2e3};var Fe=n("bPZW"),De=n("1isK"),Ue="uPKAViLu",Be="_2pnMnhRy",qe="RIAW4QfJ",ze="_14oSbjuc",Ve="_2Q-iTf6H",We="_1POV42yd";const He=e=>{let{reviewsCountAll:t,reviewsCountPositive:n,reviewsCountNegative:a}=e;return r.a.createElement("div",{className:Ue},r.a.createElement("h6",{className:Be},Object(c.a)("reviews",[t])),r.a.createElement("div",{className:qe},r.a.createElement("span",{className:i()(ze,Ve)},n),r.a.createElement("span",{className:i()(ze,We)},a)))};var Ke="eE6Tc1jS",Ge="t2c1u8kn",Ze="F5GfKszI",Qe="_332hQ89W";class Je extends r.a.Component{constructor(e){super(e),this.state={fbLoggedIn:!1,fbUserHasComment:!1}}handleClick(e,t){t.preventDefault();const{onRecommend:n}=this.props;n&&n(e)}render(){const{fullName:e}=this.props;return r.a.createElement("div",{className:Ke},r.a.createElement("span",{className:Ge},Object(c.a)("reviews_recommend",[e])),r.a.createElement("div",{className:Ze},r.a.createElement("span",{onClick:this.handleClick.bind(this,!0),className:Qe,"data-recommend":!0},Object(c.a)("yes")),r.a.createElement("span",{onClick:this.handleClick.bind(this,!1),className:Qe,"data-recommend":!1},Object(c.a)("no"))))}}var $e="_1zPBayRs";const Ye=e=>{let{children:t}=e;return r.a.createElement("ul",{className:$e},t)};var Xe="_3eLc1XgJ",et="eY1JJ0SK";function tt(){return(tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const nt=e=>{let{disabled:t,className:n,...a}=e;return r.a.createElement("span",tt({className:i()(Xe,{[et]:t},n)},a),Object(c.a)("show_more"))};var at=n("a+C/"),rt=n.n(at),st=n("Yr7G"),it="_3Ubd572U",ct="_4N02b_ci",ot="_1bJNWsVF",lt="_16Ct-Vl5",ut="_38rCC854",dt="_1K_cbrmy",pt="_2W5YsS-K",mt="_3SB33aqP",ft="_27o2orrE";class ht extends r.a.Component{render(){const{review:e,onDelete:t}=this.props;return r.a.createElement("li",{className:it},r.a.createElement("div",{className:ct},r.a.createElement("img",{src:e.author.avatarUrl,alt:e.author.name})),r.a.createElement("div",{className:ot},r.a.createElement("span",{className:lt},e.author.name),r.a.createElement("span",{className:i()(ut,e.recommend?dt:pt)},rt()(e.createdAt,"dd.mm.yyyy HH:MM")),r.a.createElement("p",{className:mt},e.message),t&&r.a.createElement("span",{className:ft,onClick:t},r.a.createElement(st.i,{size:16,color:"#8E8E93"}))))}}var gt="_1vsLlLAa",bt="_1B9KO0nB",vt="_1-aK0I6F";class yt extends r.a.Component{constructor(){super(...arguments),this.el=document.createElement("div")}componentDidMount(){document.getElementById("cardRoot").appendChild(this.el)}componentWillUnmount(){document.getElementById("cardRoot").removeChild(this.el)}render(){const{closeModalFn:e,children:t}=this.props;return we.a.createPortal(r.a.createElement("div",{className:gt},r.a.createElement("div",{className:bt},t,r.a.createElement("span",{className:vt,onClick:e},r.a.createElement(ke.e,{size:32,color:"#000"})))),this.el)}}var Et="_2NV4CR3z",Ot="_3zuNj_GH",jt="_2dn2HwUt";class wt extends r.a.Component{constructor(){super(...arguments),this.state={confirmIsOpen:!1,confirmCallback:null},this.confirm=(e,t)=>n=>{n.preventDefault(),this.setState({confirmMessage:e,confirmIsOpen:!0,confirmCallback:t})},this.onCancel=e=>{e.preventDefault(),this.setState({confirmIsOpen:!1})},this.onConfirm=async e=>{e.preventDefault();try{await this.state.confirmCallback(),this.setState({confirmIsOpen:!1})}catch(e){Object(Fe.a)(e)}}}render(){const{animated:e,reviews:t,myReviews:n,fullName:a,isFetching:s,hasNext:o,recommends:l,actions:u,children:d,isLoaded:p}=this.props,{confirmIsOpen:m,confirmMessage:f}=this.state;let h;if(p){const e=n.map(e=>{let{_id:t}=e;return t}),i=t.reduce((t,n)=>(-1===e.indexOf(n._id)&&t.push(r.a.createElement(ht,{key:n._id,review:n})),t),[]);h=r.a.createElement(r.a.Fragment,null,l&&r.a.createElement(He,{reviewsCountAll:l[0]+l[1],reviewsCountPositive:l[0],reviewsCountNegative:l[1]}),0===n.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Je,{onRecommend:u.onRecommend,fullName:a})),r.a.createElement(Ye,null,r.a.createElement(r.a.Fragment,null,n.map(e=>r.a.createElement(ht,{key:e._id,review:e,onDelete:this.confirm(Object(c.a)("want_delete_review"),()=>u.onDelete(e))})),i)),t.length>0&&r.a.createElement(Ye,{items:t}),o&&r.a.createElement(nt,{onClick:u.loadMore,disabled:s}),m&&r.a.createElement(yt,{closeModalFn:this.onCancel},r.a.createElement("h1",null,f),r.a.createElement(Ne.a,{btnStyle:"secondary",outline:!0,size:"small",onClick:this.onCancel},Object(c.a)("cancel")),r.a.createElement(Ne.a,{btnStyle:"danger",size:"small",onClick:this.onConfirm},Object(c.a)("delete"))),d)}else h=r.a.createElement(De.a,null);return r.a.createElement("div",{className:i()(Et,Ot,e?jt:null)},h)}}wt.defaultProps={isLoaded:!0,actions:{}};var _t=n("JDWS"),kt=n("FRBS");function Nt(){return(Nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ct(e){return e.createdAt=new Date(e.createdAt),e.updatedAt=new Date(e.updatedAt),e}class Pt extends r.a.Component{constructor(){super(...arguments),this.state={reviews:[],next:null,isFetching:!0,isLoaded:!1,hasNext:!1,recommends:null,recommend:!0,isAuthenticated:!1,facebookId:null,myReviews:[],showModals:{review:!1,login:!1,notify:!1,confirm:!1,success:!1}},this.checkStatus=async()=>{const e=await this.handleAuthRequest(this.fbApi.getLoginStatus());this.setState(e)},this.handleLoginClick=async e=>{e.preventDefault();try{let e=await this.handleAuthRequest(this.fbApi.login({scope:"public_profile,email"}));this.setState({json:e}),e.isAuthenticated&&(e=await this.loadMyReviews(),this.showModal(e.length>0?"notify":"review"))}catch(e){Object(Fe.a)(e)}},this.handleAuthRequest=async e=>{let{status:t,authResponse:n}=await e;return"connected"===t?(_t.a.accessToken=n.accessToken,setTimeout(this.checkStatus,1e3*n.expiresIn),{isAuthenticated:!0,facebookId:n.userID}):(_t.a.accessToken=null,{isAuthenticated:!1,facebookId:null})},this.loadReviews=async()=>{const{next:e,hasNext:t,recommends:n}=this.state,{workspaceId:a}=this.props,r={};e&&t&&(r.next=e),n||(r.withRecommends=!0),this.setState({isFetching:!0});const s=await _t.a.list(a,r);this.setState(e=>{const t={isFetching:!1,hasNext:s.hasNext,next:s.next,reviews:e.reviews.concat(s.results.map(Ct))};return s.recommends&&(t.recommends=s.recommends),t})},this.loadMyReviews=async()=>{if(_t.a.accessToken){const{workspaceId:e}=this.props,t=await _t.a.my(e);return this.setState({myReviews:t}),t}return[]},this.onRecommend=e=>{this.setState({recommend:e}),this.showModal(this.state.isAuthenticated?"review":"login")},this.closeModal=e=>{this.setState(t=>({showModals:{...t.showModals,[e]:!1}}))},this.showModal=e=>{this.setState(t=>{const n={};for(let a in t.showModals)n[a]=a===e;return{showModals:n}})},this.onDelete=async e=>{try{const{workspaceId:t}=this.props;await _t.a.delete(t,e._id),this.setState(t=>{const n=[...t.recommends];return n[e.recommend?0:1]--,{recommends:n,reviews:t.reviews.filter(t=>{let{_id:n}=t;return n!==e._id}),myReviews:t.myReviews.filter(t=>{let{_id:n}=t;return n!==e._id})}}),_e.a.danger(Object(c.a)("review_deleted"),{showClose:!0})}catch(e){Object(Fe.a)(e)}},this.onSubmit=async e=>{try{const{workspaceId:t}=this.props,n=Ct(await _t.a.create(t,e));this.setState(e=>{const t=[...e.recommends];return t[n.recommend?0:1]++,{recommends:t,myReviews:[n].concat(e.myReviews)}}),this.closeModal("review"),_e.a.notify(Object(c.a)("review_published"),{showClose:!0})}catch(e){Object(Fe.a)(e)}}}async componentDidMount(){await this.init()}async init(){try{this.fbApi=await Object(kt.a)(),await this.checkStatus(),await Promise.all([this.loadReviews(),this.loadMyReviews()]),this.setState({isLoaded:!0})}catch(e){Object(Fe.a)(e)}}render(){const{reviews:e,isFetching:t,hasNext:n,recommends:a,isAuthenticated:s,facebookId:i,showModals:o,recommend:l,isLoaded:u,myReviews:d}=this.state,{previewMode:p,fullName:m}=this.props;return r.a.createElement(wt,Nt({isLoaded:u,recommends:a,reviews:e,myReviews:d,isFetching:t,hasNext:n,previewMode:p,actions:{loadMore:this.loadReviews,onRecommend:this.onRecommend,onDelete:this.onDelete},fullName:m,facebookId:s&&i},this.props),o.review&&r.a.createElement(Ae,{recommend:l,fullName:m,closeModalFn:this.closeModal.bind(this,"review"),onSubmit:this.onSubmit}),o.login&&r.a.createElement(yt,{closeModalFn:this.closeModal.bind(this,"login")},r.a.createElement("h1",null,Object(c.a)("review_login")),r.a.createElement(Ne.a,{onClick:this.handleLoginClick,btnStyle:"facebook",fullWidth:!0,beforeIcon:r.a.createElement(ke.h,{size:40}),iconFixed:"left"},Object(c.a)("continue_dacebook"))),o.notify&&r.a.createElement(yt,{closeModalFn:this.closeModal.bind(this,"notify")},r.a.createElement("h1",null,Object(c.a)("have_review")),r.a.createElement("p",null,Object(c.a)("only_one_review"))))}}var St=n("63aL"),xt=n("lkLo"),Tt=n("QD+E"),It=n("BbHF"),Mt=n("ehRZ"),Lt=n("njpi"),Rt=n("JuTl"),At=n("5hFp"),Ft="_2KHRahsd",Dt="_1Y-furOW",Ut="_28WslXh2",Bt="_2k1ygKWy",qt="_2Qr1lH-D",zt="_3eEBWyiO",Vt="_3fsy1tGd",Wt="YZo6wHiB",Ht="CVrLFRx4",Kt="_3Kz02uAH",Gt="_2ULXYqPk";var Zt=function(e){let{card:t,setLastCollectionSlug:n,firstLoad:s,setFirstLoad:c,collectionSlug:o}=e;const l=Object(xt.j)(),u=Object(xt.g)(),{workspaceId:d,collections:p}=t,m=p.items.find(e=>e.slug===o),f=m&&m.publishedProductsCount||0,[h,g]=Object(a.useState)({hasNext:!1,next:null,publishedCount:0,results:[]}),{hasNext:b,next:v,results:y}=h,[E,O]=Object(a.useState)(!1),[j,w]=Object(a.useState)(!1),_=Object(Rt.a)(l.url,"../../");let k;const N=r.a.useRef(null),{y:C}=Object(It.a)(N),P=async(e,t,n,a)=>{O(!0);const r=await At.a.list(d,{next:e,collection:t,published:n});g(e=>({...r,results:a?r.results:e.results.concat(r.results)})),O(!1)};return Object(Mt.a)(()=>{(async()=>{await P(null,m._id,!0,!0),w(!0),c(!1)})()},[f,p]),Object(a.useEffect)(()=>{n(m.slug)},[]),Object(Lt.a)(()=>{clearTimeout(k)}),r.a.createElement("div",{className:i()({[Ft]:!0,[Dt]:j,[Ut]:s})},r.a.createElement("div",{className:i()({[Bt]:!0,[qt]:C>0})},r.a.createElement(Tt.c,{onClick:e=>((e,t)=>{e.preventDefault(),n(!1),w(!1),k=setTimeout(()=>{u.push(t)},610)})(e,_),to:_,className:zt},r.a.createElement(St.g,{size:22,color:"#000"})),r.a.createElement("h1",{className:Vt},m&&m.name)),r.a.createElement("div",{className:Wt,ref:N},y.length>0&&r.a.createElement(Jt,{itemClassName:Gt},y.map(e=>r.a.createElement(un,{key:e._id,tag:Tt.c,product:e,to:{pathname:Object(Rt.a)(l.url,"../../p/",e.slug),state:{fromCollection:m._id}}}))),E&&r.a.createElement(De.a,null),b&&!E&&r.a.createElement("div",{className:Ht},r.a.createElement(nt,{className:Kt,onClick:()=>P(v,m._id,!0),disabled:E}))))},Qt="_1S2SczHq";function Jt(e){let{children:t,itemClassName:n}=e;return t=r.a.Children.toArray(t),r.a.createElement("ul",{className:Qt},t.map((e,t)=>r.a.createElement("li",{className:n||"",key:t},e)))}var $t=n("cpKZ");var Yt=n("7+Q5");function Xt(){return(Xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function en(e,t){return a.createElement(Yt.b,Xt({fill:"none",viewBox:"0 0 24 24",ref:t},e),a.createElement("path",{d:"M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.5 10a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM21 15l-5-5L5 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var tn=a.forwardRef(en),nn="DGSQtavY";function an(){return r.a.createElement(tn,{className:nn})}var rn={root:"_xoBULhV",img:"_1pWoQkAV",fit:"XCY58nZg",spinner:"_2f8_zoFb",visible:"_1Z20qEZ1",inline:"_3-n_7lQl"};function sn(){return(sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function cn(e){let{mode:t,src:n,alt:s,containerClassName:c,...o}=e;const{ref:l,isIntersecting:u,isIntersect:d}=function(){const e=Object(a.useRef)(null),[t,n]=Object(a.useState)(!1),[r,s]=Object(a.useState)(!1),i=Object(a.useMemo)(()=>new IntersectionObserver((function(e){let[t]=e;null!=t&&t.isIntersecting?(n(!0),s(!0)):t.rootBounds&&n(!1)}),{root:null,rootMargin:"100px 0px 100px 0px",threshold:.01}),[]);return Object(a.useEffect)(()=>{const t=e.current;if(t)return i.observe(t),()=>{i.unobserve(t)}},[e.current]),{ref:e,isIntersecting:t,isIntersect:r}}(),{isFetching:p,isLoaded:m,onLoad:f,onError:h,error:g}=function(){const[e,t]=Object(a.useState)({isFetching:!0,isLoaded:!1,error:null});return{...e,onLoad:Object(a.useCallback)(()=>t({isFetching:!1,isLoaded:!0,error:null}),[]),onError:Object(a.useCallback)(e=>t({isFetching:!1,isLoaded:!1,error:e}),[])}}();return r.a.createElement("div",{ref:l,className:i()(rn.root,rn[t],c)},p&&"inline"!==t&&r.a.createElement(De.a,{size:"50%",color:"gray",className:rn.spinner}),g&&r.a.createElement(an,null),r.a.createElement("img",sn({src:d?n:null,alt:s,onLoad:f,onError:h},Object($t.a)([rn.img,m&&u&&rn.visible],o))))}cn.defaultProps={mode:"fit"};var on={root:"_23qBGGw8",disabled:"_1DjvDaFG",thumbnail:"_1swLRv6V",emptyPlaceholder:"_2aRShO3p",meta:"_2SnBnDH9",title:"_1CgrQjOm",price:"qiq9A_Vr",discountPrice:"Qxxe8cvZ",lineThrough:"_16wiODoM"};function ln(){return(ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const un=e=>{let{tag:t,product:n,componentStyle:a,...s}=e;return r.a.createElement(t,ln({className:i()(on.root,on[a],{[on.disabled]:!n.published})},s),r.a.createElement("div",{className:on.thumbnail},n.photoUrl&&r.a.createElement(cn,{src:n.photoUrl,alt:n.name}),!n.photoUrl&&r.a.createElement("div",{className:on.emptyPlaceholder},r.a.createElement(ke.k,{size:"40%",color:"#fff"}))),r.a.createElement("div",{className:on.meta},r.a.createElement("span",{className:on.title},n.name),n.price&&r.a.createElement("span",{className:on.price},n.price.formattedDiscount&&r.a.createElement("span",{className:on.discountPrice},n.price.formattedDiscount),0===n.price.amount?Object(c.a)("free"):r.a.createElement("span",{className:n.price.formattedDiscount?on.lineThrough:null},n.price.formatted))))};un.defaultProps={tag:"div"};var dn=n("wUPD"),pn=n("CtTZ"),mn="_85pAlRYc",fn="LHSRoOb7",hn="_2tfpZ0xO",gn="_1iiY7cAK",bn="_3_GRxOqo",vn="_1hdPDWbC";var yn=function(e){let{collectionsItems:t,baseUrl:n}=e;const{root:s,hasLeftBtn:i,moveLeft:c,list:o,hasRightBtn:l,moveRight:u}=function(e){const t=Object(a.useRef)(null),[n,r]=Object(a.useState)(0),[s,{width:i}]=Object(dn.a)(),{width:c}=Object(pn.a)(),{x:o}=Object(It.a)(t),l=c>1024,u=t.current&&t.current.scrollWidth||i,d=u>i;return{root:s,hasLeftBtn:d&&l&&o>0,moveLeft:function(){if(n>0){const e=Array.from(t.current.querySelectorAll("li")).slice(0,n-1);let a=0;e.forEach(e=>{a+=e.clientWidth+6}),t.current.scrollLeft=a-22,r(e=>e-1)}else t.current.scrollLeft=0},list:t,hasRightBtn:d&&l&&o+i<u,moveRight:function(){if(n<e.length-1){const e=Array.from(t.current.querySelectorAll("li")).slice(0,n+1);let a=0;e.forEach(e=>{a+=e.clientWidth+6}),t.current.scrollLeft=a-22,r(e=>e+1)}else t.current.scrollLeft=u}}}(t);return r.a.createElement("div",{className:mn,ref:s},i&&r.a.createElement("div",{className:gn,onClick:c},r.a.createElement("div",{className:bn},r.a.createElement(St.g,{size:20}))),r.a.createElement("ul",{className:fn,ref:o},t.map(e=>r.a.createElement("li",{key:e.id,className:hn},r.a.createElement(Tt.c,{to:Object(Rt.a)(n,"/c/",e.slug)},e.name)))),l&&r.a.createElement("div",{className:vn,onClick:u},r.a.createElement("div",{className:bn},r.a.createElement(St.h,{size:20}))))},En="_2hhhKF9v",On="_3kA-i2jp",jn="_3klf_Vwm",wn="_3UJQ7w5L",_n="_1FRrpE-v",kn="_1n8GM2xc",Nn="_36M_SDdW";function Cn(e){let{workspaceId:t,collections:n,animated:s,collectionsEnabled:c}=e;const o=Object(xt.j)(),l=n.items.find(e=>e.default),u=null==l?void 0:l._id,d=n.items.filter(e=>!e.default&&e.publishedProductsCount>0&&e.published),p=c&&d.length>0,[{hasNext:m,next:f,results:h},g]=Object(a.useState)({hasNext:!1,next:null,publishedCount:0,results:[]}),[b,v]=Object(a.useState)(!1),y=async(e,n,a,r)=>{v(!0);const s=await At.a.list(t,{next:e,collection:n,published:a});g(e=>({...s,results:r?s.results:e.results.concat(s.results)})),v(!1)};return Object(a.useEffect)(()=>{(async()=>{await y(null,u,!0,!0)})()},[n.lastRequest]),r.a.createElement("div",{className:i()(En,On,{[jn]:s,[wn]:p})},p&&r.a.createElement(yn,{collectionsItems:d,baseUrl:o.url}),h.length>0&&r.a.createElement("div",{className:Nn},r.a.createElement(Jt,null,h.map(e=>r.a.createElement(un,{key:e._id,tag:Tt.c,product:e,to:{pathname:Object(Rt.a)(o.url,"/p/",e.slug),state:{fromCollection:u}}})))),b&&r.a.createElement(De.a,null),m&&!b&&r.a.createElement("div",{className:_n},r.a.createElement(nt,{className:kn,onClick:()=>y(f,u,!0),disabled:b})))}var Pn=n("kkZN"),Sn=n("4iID"),xn="_1Q3SKgiT",Tn="_3eKutKNI",In="z9enbLZj",Mn="_3i9q2JaE",Ln="_2OxmWyZs",Rn="_2mf3zulN",An="_26N1wGHB",Fn="_24aGRpy0",Dn="_3eDW4JRC",Un="eTVxAbNs",Bn="_1L6IrMwR",qn="_2u7ginVg";function zn(e){let{tag:t="div",product:n,to:a,hasDragHandle:s=!1}=e;const{t:o}=Object(Pn.useTranslation)("cards");return r.a.createElement("div",{className:i()({[xn]:!0,[Tn]:!n.published})},r.a.createElement(t,{className:i()({[In]:!0,[Mn]:!s}),to:a,title:n.name},r.a.createElement("div",{className:Rn},n.photoUrl&&r.a.createElement(cn,{src:n.photoUrl,alt:n.name}),!n.photoUrl&&r.a.createElement("div",{className:An},r.a.createElement(ke.k,{size:"40%",color:"#fff"}))),r.a.createElement("div",{className:Fn},r.a.createElement("span",{className:Ln},n.name),n.price&&r.a.createElement("span",{className:Dn},n.price.formattedDiscount&&r.a.createElement("span",{className:Un},n.price.formattedDiscount),0===n.price.amount?Object(c.a)("free"):r.a.createElement("span",{className:i()({[Bn]:n.price.formattedDiscount})},n.price.formatted)))),s&&r.a.createElement("div",{className:qn,title:o("common:labels.dragTip"),"data-element":"drag-handle"},r.a.createElement(Sn.a,{width:"6"})))}var Vn={root:"MmbkqJO_",widgetPreview:"_22NfMRbj",inner:"_2u4IXlYg",background:"UH9lT3cu",slideUp:"_3vLKxx_m",slideDown:"_21RY2QVj",animated:"_3EbiGWZa",footerMessengers:"_1cI2jvmb",visible:"_3Zvc0AUc",overlayBg:"zEmRYgzN"};class Wn extends r.a.Component{constructor(e){super(e),this.toggleActionSheet=()=>{this.setState(e=>({actionSheetVisible:!e.actionSheetVisible}))},this.state={animated:!1,productsFetched:!1,actionSheetVisible:!1},this.messengersPane=r.a.createRef()}componentDidMount(){this._isMounted=!0,setTimeout(()=>{this._isMounted&&this.setState({animated:!0})});const{previewMode:e,data:{profile:{fullname:t}}}=this.props;if(!e){document.querySelector("title").innerText=t}setTimeout(()=>{this.props.setFirstLoad(!1)},700)}componentWillUnmount(){this._isMounted=!1}render(){const{data:e,className:t,previewMode:n,widgetMode:a,firstLoad:s}=this.props,{design:l,profile:u,messengers:d,links:p,reviews:m,workspaceId:f,collections:h,products:g,widget:b}=e,{animated:y,actionSheetVisible:E}=this.state,O=p.filter(e=>e.enabled),w=O.length>1,_=h.allPublishedProductsCount>0&&!(a&&!b.components.products);return r.a.createElement("div",{className:i()(Vn.root,t),id:"cardRoot",style:{pointerEvents:s?"none":"auto"}},r.a.createElement("div",{className:Vn.inner,style:{height:l.branding?null:"100%",top:l.branding?null:"0"}},l.branding&&r.a.createElement(v,{animated:y}),r.a.createElement("div",{className:i()(Vn.background,Vn.slideUp,y?Vn.animated:null)},r.a.createElement(j,{background:l.background})),r.a.createElement("div",{className:Vn.cardContent},r.a.createElement("div",{ref:this.messengersPane},r.a.createElement(ue,{animated:y,photo:l.photoUrl,fullName:u.fullname,category:u.category,messengers:d.filter(e=>e.enabled),description:u.description})),(!!p.find(e=>e.enabled)||!!u.website.enabled)&&r.a.createElement(Oe,{animated:y,links:p.filter(e=>e.enabled),website:u.website,showActionSheet:this.toggleActionSheet}),_&&r.a.createElement(Cn,{workspaceId:f,collections:h,animated:y,userUrl:u.url,isAdmin:n,collectionsEnabled:g.collectionsEnabled}),m.enabled&&r.a.createElement(Pt,{workspaceId:f,animated:y,fullName:u.fullname,previewMode:n}))),w&&E&&r.a.createElement(o.b,{title:Object(c.a)("menu_links"),links:O,cancel:this.toggleActionSheet}))}}Wn.defaultProps={className:"",widgetMode:!1,previewMode:!1};var Hn="N41q3_Zq",Kn="_3qOg9_bW";function Gn(e){let{children:t,widgetMode:n=!1,className:a}=e;return r.a.createElement("div",{className:i()(Hn,a,{[Kn]:n})},t)}Gn.defaultProps={children:null,widgetMode:!1,className:void 0};var Zn="gulnjTcO";class Qn extends r.a.Component{render(){const{color:e,hasShadow:t,thing:n,showSocials:a}=this.props;return r.a.createElement("div",{className:Zn,"data-modal-btn":"share"+n,onClick:a},r.a.createElement(St.u,{size:24,color:e,style:{filter:t?"drop-shadow(0 1px 3px rgba(0,0,0,0.3))":null}}))}}Qn.defaultProps={color:"#000",hasShadow:!1,thing:"product"};var Jn="_330P23kx",$n="spVWMGWk",Yn="_2PTlj8kn",Xn="_3YEUXqGA";const ea=e=>{let{children:t,title:n,onClose:a,visible:s=!1}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:i()(Jn,{[$n]:s})},n&&r.a.createElement("div",{className:Yn},n),r.a.createElement("div",null,t)),r.a.createElement("div",{className:i()(Xn,{[$n]:s}),onClick:a}))};var ta="_1rRRaz_T",na="_2hX1dqpl";function aa(){return(aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}class ra extends r.a.Component{constructor(e){super(e),this.handleClick=e=>{const t=window.getSelection(),n=document.createRange();if(n.selectNodeContents(this.templateRef.current),t.removeAllRanges(),t.addRange(n),document.execCommand("copy"),N.a.Android){e.preventDefault();const t=e.target.href;window.open(t)}},this.templateRef=r.a.createRef()}render(){const{message:e,url:t,platform:n,...a}=this.props;return r.a.createElement(ea,aa({title:Object(c.a)("product_copy_heading")},a),r.a.createElement("div",{className:ta,ref:this.templateRef},e),r.a.createElement("a",{href:t,className:na,onClick:this.handleClick,"data-product-messenger":n},Object(c.a)("products_copy_open")," ",r.a.createElement("span",null,n)))}}ra.defaultProps={visible:!1};r.a.Component;var sa=n("A7QF"),ia=n("aH6V"),ca="_1BfKI5WI",oa="_3VjnFAkq",la="_3O5Fu-8V",ua="_2C5uq6yL",da="_12-UKYGS";const pa=e=>{let{isShowing:t,toggle:n,pageUrl:a}=e;const{t:s}=Object(Pn.useTranslation)("cards");return t?we.a.createPortal(r.a.createElement("div",{className:ca},r.a.createElement(sa.a,{heading:s("PreviewModal.heading"),leftButton:r.a.createElement(ia.a,{tag:"div",onClick:n}),rightButton:r.a.createElement("div",{className:ua},r.a.createElement("a",{className:da,href:a,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(St.k,{size:22,color:"#000"})),"share"in navigator&&r.a.createElement("div",{className:da},r.a.createElement(St.u,{size:22,color:"#000",onClick:()=>navigator.share({url:a})})))}),r.a.createElement("div",{className:oa},r.a.createElement("iframe",{className:la,src:a,frameBorder:"0"}))),document.body):null};var ma=n("g0xT"),fa=n("XLeO"),ha=n("dLPT"),ga=n("zn5I"),ba=n("Qg6Y");const va=Object(a.createContext)();function ya(e){const{i18n:t}=Object(Pn.useTranslation)("cards"),[r,s]=Object(a.useState)(!1);return Object(a.useEffect)(()=>{!async function(){try{const a=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t=arguments.length>1?arguments[1]:void 0;const{default:a}=await n("xhNR")(`./${e}/${t}.json`);return a}(t.language,e);c.b.extend(a)}finally{s(!0)}}()},[t.language]),{isLoaded:r,i18n:t}}function Ea(e,t){switch(t.type){case"UPDATE_DRAFT":return Object(fa.a)({},e,{draft:t.payload});case"UPDATE_INITIAL":return{initial:t.payload,draft:t.payload};case"RESET_DRAFT":return{...e,draft:e.initial};default:throw new Error(`"${t.type}" is invalid action`)}}function Oa(){const{preview:e,updateDraft:t,resetDraft:n}=Object(a.useContext)(va);return{preview:e,updatePreview:t,resetPreview:n}}function ja(){return(ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function wa(e){const t=function(){const e=Object(ba.a)(),t=Object(xt.h)(),n=Object(ma.d)(e=>e.collections),{card:r,id:s}=e,i=Object(a.useMemo)(()=>({...r,workspaceId:s,collections:n}),[r,s,n]),[c,o]=Object(a.useReducer)(Ea,{initial:i,draft:i}),l=Object(a.useCallback)(e=>o({type:"UPDATE_DRAFT",payload:e}),[o]),u=Object(a.useCallback)(e=>o({type:"UPDATE_INITIAL",payload:e}),[o]),d=Object(a.useCallback)(()=>o({type:"RESET_DRAFT"}),[o]),p=Object(a.useMemo)(()=>!Object(ha.a)(c.draft,c.initial),[c.draft,c.initial]);return Object(a.useEffect)(()=>{u(i)},[i]),Object(a.useEffect)(()=>{p&&t&&d()},[t]),{preview:Object(a.useMemo)(()=>Object(ga.a)(c.draft,e),[c.draft,e]),updateDraft:l,updateInitial:u,resetDraft:d}}();return r.a.createElement(va.Provider,ja({value:t},e))}var _a=n("Rkv1"),ka=n("OAiB"),Na="_2qsTfz_z",Ca="_3C3J6KnJ",Pa="_3FRdueQR",Sa="_28k04XrY",xa="_1dHnjDC3",Ta="REjvdotI",Ia="_2tkpMfR9",Ma="_1KlyrL6t",La="_1PPAwZ0o",Ra="_1B8orliH",Aa="Dh0PyGaL",Fa="Xp912f6N",Da="_1WiBEW94";class Ua extends a.Component{constructor(){super(...arguments),this.state={activePhotoIndex:0},this.handleSwipes=e=>{const{photos:t}=this.props,{activePhotoIndex:n}=this.state;let a;"Left"===e.dir?a=t[n+1]?n+1:0:"Right"===e.dir&&(a=t[n-1]?n-1:0),this.moveSliderTo(a)()},this.moveSliderTo=e=>()=>{this.setState({activePhotoIndex:e})}}render(){const{backUrl:e,photos:t,prevProductLink:n,nextProductLink:a,unmount:s}=this.props,{activePhotoIndex:c}=this.state;return r.a.createElement(ka.a,{onSwiped:this.handleSwipes,className:Na},r.a.createElement("div",{className:Ca},r.a.createElement("div",{className:Pa},t&&t.length>0&&r.a.createElement("div",{className:Sa},r.a.createElement("ul",{className:Ra,style:{transform:`translateX(-${16.666666*c}%)`}},t.map((e,t)=>r.a.createElement("li",{key:t},r.a.createElement("img",{src:e,alt:e}))))),(!t||0===t.length)&&r.a.createElement("div",{className:xa},r.a.createElement(ke.k,{size:"40%",color:"#fff"}))),r.a.createElement("div",{className:Ta},a&&r.a.createElement(Tt.c,{to:a},r.a.createElement("div",{className:Ma},r.a.createElement(St.g,{size:16}))),n&&r.a.createElement(Tt.c,{to:n,className:Ia},r.a.createElement("div",{className:Ma},r.a.createElement(St.h,{size:16}))),t&&t.length>1&&r.a.createElement("div",{className:Aa},t.map((e,t)=>r.a.createElement("div",{key:e+t,className:i()(Fa,{[Da]:c===t}),onClick:this.moveSliderTo(t)})))),r.a.createElement(Tt.c,{onClick:t=>s(t,e),to:e,className:La},r.a.createElement("div",null,r.a.createElement(St.B,{size:16})))))}}var Ba=Ua,qa="_3D49av_4",za="_3R5Q0wlD",Va="_1jcFxSX0",Wa="_1J3bv_SF",Ha="_15uaNz4U",Ka="_2VdoWGma",Ga="vlIftsB6",Za="uAXuhFqe",Qa="_1DsyTR6I",Ja="_3Xu5psCI",$a="_3WBpY4oT",Ya="eqd1Hfm3",Xa="_3_z4NIKJ",er="am_7u5Qa",tr="_2aE3MSY9",nr="_6Rqat2jy",ar="_2ohsRkQO",rr="_2n9Rnkah";function sr(e){let{card:t,product:n,unmount:a,lastCollectionSlug:s}=e;const i=Object(xt.j)(),o=Object(xt.h)(),l=t.messengers.map(((e,t)=>{const n=encodeURIComponent(`${Object(c.a)("buy_template")} ${e.name} - ${t.profile.absoluteUrl}/p/${e.slug}`),a=`buy_${e._id}_${Date.now()}_${document.documentElement.lang}`;return e=>{let t=!0;const r=Object(C.a)(e);r.isSupported("text")?(r.addParam("text",n),t=!1):r.isSupported("ref")?(r.addParam("ref",a),t=!1):r.isSupported("start")&&(r.addParam("start",a),t=!1);const s=N.a.isMobile?r.getUrl():r.getRedirectUrl();return{...e,url:s,openDialog:t}}})(n,t)),u=n.externalUrl||n.externalButton&&n.externalButton.url,d=n.externalButton&&n.externalButton.url&&Object(de.a)(n.externalButton.url)||n.externalUrl&&Object(de.a)(n.externalUrl)||{},p=t.collections.items.find(e=>e.default),m=o.state&&o.state.fromCollection||p._id,f=n.gauge.prev?{pathname:Object(Rt.a)(i.url,"..",n.gauge.prev.slug),state:{fromCollection:m}}:null,h=n.gauge.next?{pathname:Object(Rt.a)(i.url,"..",n.gauge.next.slug),state:{fromCollection:m}}:null,g=Object(Rt.a)(i.url,s?"../../c/"+s:"../.."),b=Object(Rt.a)(i.url,"../..");return r.a.createElement("div",{className:qa},r.a.createElement("div",{className:za},r.a.createElement(Ba,{key:n.slug,backUrl:g,photos:n.photos,nextProductLink:h,prevProductLink:f,unmount:a}),r.a.createElement("div",{className:Va},r.a.createElement("div",{className:Wa},r.a.createElement("div",{className:Ha},r.a.createElement("div",{className:Ka},r.a.createElement("div",{className:Ka},r.a.createElement("h1",null,n.name),n.price&&r.a.createElement("div",{className:Ga},n.price.formattedDiscount&&n.price.formattedDiscount,0===n.price.amount?Object(c.a)("free"):r.a.createElement("span",{className:n.price.formattedDiscount?Za:null},n.price.formatted)))),l.length>0&&r.a.createElement(_a.b,{placement:"product"},l.map(e=>r.a.createElement(_a.g,{key:e.messenger,href:e.url,platform:e.messenger,"data-product-messenger":e.messenger})))),u&&r.a.createElement("a",{"data-id":"product_website_link",href:n.externalButton&&n.externalButton.url||n.externalUrl,target:"_blank",rel:"noopener noreferrer",className:nr},r.a.createElement("span",{className:rr},n.externalButton&&n.externalButton.title?n.externalButton.title:Object(c.a)("visit_website")),r.a.createElement("span",{className:ar},d.hostname)),n.description&&r.a.createElement("div",{className:Qa},r.a.createElement("h2",null,Object(c.a)("product_details")),r.a.createElement("p",null,n.description))),r.a.createElement(Tt.c,{onClick:e=>a(e,b,!0),to:b,className:Ja},r.a.createElement("div",{className:$a},r.a.createElement("div",{className:Ya},r.a.createElement("div",{className:Xa},r.a.createElement("img",{src:t.design.photoUrl,alt:t.profile.fullname})),r.a.createElement("div",{className:er},r.a.createElement("h3",null,t.profile.fullname),t.profile.category&&"category_not_business"!==t.profile.category&&r.a.createElement("span",null,Object(c.a)(t.profile.category)))),r.a.createElement("div",{className:tr},r.a.createElement(St.h,{size:20})))))))}var ir="_2CHp8St7",cr="zcI1X9zF",or="_3VnLD9L_",lr="bXlSTByx";function ur(){return(ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function dr(e){let{card:t,firstLoad:n,setFirstLoad:s,setLastCollectionSlug:c,lastCollectionSlug:o,...l}=e;const{workspaceId:u,collections:d}=t,p=Object(xt.j)(),{productSlug:m}=p.params,f=Object(xt.g)(),[h,g]=Object(a.useState)(!1),[b,v]=Object(a.useState)(!1),y=d.items.find(e=>e.default),[E,O]=Object(a.useState)(!1);let j;return Object(Mt.a)(()=>{y&&(async()=>{const e=f.location.state&&f.location.state.fromCollection||y._id;v(!0);const t=await At.a.loadBySlug(u,m,e);g(t),v(!1),O(!0),s(!1)})()},[m,y&&y._id,t.products]),Object(Lt.a)(()=>{clearTimeout(j)}),r.a.createElement("div",{className:ir},r.a.createElement("div",{className:i()({[cr]:!0,[or]:E,[lr]:n})},h&&r.a.createElement(sr,ur({},l,{card:t,product:h,isFetching:b,unmount:(e,t,n)=>{e.preventDefault(),n&&c(!1),O(!1),j=setTimeout(()=>{f.push(t)},610)},lastCollectionSlug:o}))))}function pr(){return(pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function mr(e){let{data:t,widgetMode:n,paths:s}=e;const[i,c]=Object(a.useState)(!1),[o,l]=Object(a.useState)(!0);return r.a.createElement(r.a.Fragment,null,r.a.createElement(xt.b,{path:s.home,render:e=>r.a.createElement(Wn,pr({},e,{data:t,previewMode:!0,widgetMode:n,firstLoad:o,setFirstLoad:l}))}),r.a.createElement(xt.b,{path:s.product,render:e=>r.a.createElement(dr,pr({},e,{card:t,firstLoad:o,setFirstLoad:l,setLastCollectionSlug:c,lastCollectionSlug:i}))}),r.a.createElement(xt.b,{path:[s.collection,s.product],render:e=>{let{match:n}=e;return n.params.collectionSlug||i?r.a.createElement(Zt,{collectionSlug:n.params.collectionSlug||i,card:t,setLastCollectionSlug:c,firstLoad:o,setFirstLoad:l}):null}}))}function fr(){return(fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function hr(e){let{widgetMode:t=!1,...n}=e;const{i18n:a,isLoaded:s}=ya("card"),{preview:i}=Oa();return s?r.a.createElement(Tt.b,null,r.a.createElement(u.a.Provider,{value:a.language},r.a.createElement(Gn,fr({widgetMode:t},n),r.a.createElement(mr,{data:i,widgetMode:t,paths:{home:"/",collection:"/c/:collectionSlug",product:"/p/:productSlug"}})))):null}mr.defaultProps={widgetMode:!1};var gr=n("0WXt");function br(){return(br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function vr(e){let{platform:t,...n}=e;const{t:a}=Object(Pn.useTranslation)("cards");let s=[];return"whatsapp"===t&&s.push({label:a("selectMessengerType.phone"),value:"private"},{label:a("selectMessengerType.chat"),value:"public"}),"viber"===t&&s.push({label:a("selectMessengerType.phone"),value:"private"},{label:a("selectMessengerType.public"),value:"public"},{label:a("selectMessengerType.community"),value:"community"}),r.a.createElement(gr.a,br({},n,{options:s}))}var yr="__bVYP8W";function Er(){return(Er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Or(e){let{className:t,children:n,...a}=e;return r.a.createElement("div",Er({className:i()(yr,t)},a),n)}},DkyN:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/icon_we_use_mssgme_en.svg"},E8QZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("r0ML"),r=n.n(a),s=n("kkZN"),i=n("cpKZ"),c=n("FcSA"),o=n("w2nZ"),l=n("yW3b"),u=n("oxvr"),d="_2CHW2mBj",p="_3B06uJeN",m="_3nr695qz",f="_2C-uDjHO",h="_84l_sYyV";function g(e){let{className:t,children:n,referrer:g,reason:b,center:v=!1,onCancel:y,modal:E,...O}=e;const{t:j}=Object(s.useTranslation)("ui"),{isAdmin:w}=Object(c.a)(),_=Object(a.useMemo)(()=>w&&(e=>{let{code:t,plan:n,target:a}=e;if("forbidden"===t)return;const r=["/s","billing"];return"unpaid"!==t&&(r.push("plans"),"upgrade"===t&&r.push(a)),r.join("/")})(b),[w,b]),k=j(`NoAccess.${b.code}.heading`,b),N=j(`NoAccess.${b.code}.features.${C=b.permission,C?C.replace(":","."):""}`,"",b)||j(`NoAccess.${b.code}.description`,b);var C;const P=E?u.a:"div";return b.code||console.warn(b),r.a.createElement(P,Object(i.a)([d,v&&f,t],O),r.a.createElement("h2",{className:p},k),r.a.createElement("p",{className:m},N),g&&r.a.createElement(o.a,{fullWidth:!0,btnStyle:"secondary2",className:h,to:g},j("NoAccess.cancel")),y&&r.a.createElement(l.a,{fullWidth:!0,btnStyle:"secondary2",className:h,onClick:y},j("NoAccess.cancel")),_&&r.a.createElement(o.a,{fullWidth:!0,btnStyle:"primary",to:_,onClick:y,"data-button":"upgrade-to-"+b.target,"data-event":"click-upgrade","data-variant":"restrict"},j(`NoAccess.${b.code}.button`,b)),n)}},F2bt:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return c})),n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return r}));var a=n("NH7Q"),r=function(e){return null==e},s=function(e){return null!=e},i=function(e){return"function"==typeof e},c=function(e){return"string"==typeof e},o=Array.isArray,l=function(e){return e&&!o(e)&&"object"==typeof e},u=function(e){return e&&i(e.then)},d=function(e){return e&&i(e.next)&&i(e.throw)},p=function e(t){return t&&(c(t)||h(t)||i(t)||o(t)&&t.every(e))},m=function(e){return e&&i(e.take)&&i(e.close)},f=function(e){return i(e)&&e.hasOwnProperty("toString")},h=function(e){return Boolean(e)&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},g=function(e){return m(e)&&e[a.e]}},F80f:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("Pc05"),r=n.n(a),s=n("r0ML"),i=n.n(s),c=n("8Tvr"),o=n("rd+V"),l={root:"_1uwtQmqU",header:"_3PnVmsFA",title:"_3NR09vXe",icon:"_3AHPyKVT",iconBtn:"_3DEC1Lzz"};function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function d(e){let{isOpen:t,className:n,onClose:a,children:s,title:d,closeButton:p,modal:m}=e;return t?i.a.createElement(c.a,u({},m,{onClose:a,className:l.container}),i.a.createElement("div",{className:r()(l.root,n)},p&&i.a.createElement("div",{className:l.iconBtn,onClick:a},i.a.createElement(o.a,{className:l.icon})),d&&i.a.createElement("div",{className:l.header},i.a.createElement("div",{className:l.title},"function"!=typeof d?d:d())),i.a.createElement("div",{className:l.content},s))):null}d.defaultProps={closeButton:!0,isOpen:!1}},FRBS:function(e,t,n){"use strict";var a=n("4ZHd"),r=n.n(a),s=n("cGUp"),i=n.n(s);function c(e){const t=e.error&&"string"==typeof e.error?e.error:"Api error",n=new Error(t);return n.response=e,n.type="facebookApiError",n}class o{getLoginStatus(){return new Promise((e,t)=>{window.FB.getLoginStatus(n=>{n?e(n):t(c("Error"))})})}api(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise((e,n)=>{window.FB.api(...t,t=>{!t||t.error?n(c(t)):e(t)})})}login(e){return new Promise((t,n)=>{window.FB.login(e=>{e?t(e):n(c(e))},e)})}}let l;t.a=()=>(l||(l=new Promise((e,t)=>{r()("https://connect.facebook.net/en_US/sdk.js",()=>{if(!window.FB){const e=new Error("Not initialized");return t(e)}window.FB.init({appId:i.a.facebook_app_id,cookie:!0,xfbml:!1,status:!0,version:"v12.0"});const n=new o;e(n)})})),l)},FcSA:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("g0xT"),r=n("6BW+");function s(){const e=Object(a.d)(r.c);function t(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return n.includes(e)}const n=t("owner","admin"),s=t("owner"),i=t("manager");return{hasAccess:t,role:e,isAdmin:n,isOwner:s,isManager:i}}},Fgr5:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/aboutProLogo.svg"},Fz8S:function(e,t,n){"use strict";function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e){let t=[];for(let n in e)if(a(e,n)){const a=[n,e[n]].join("=");t.push(a)}return t.length>0?"?"+t.join("&"):""}n.d(t,"a",(function(){return r})),r.parse=function(e){const t=(e||"").replace("?","").split("&"),n={};for(const e of t){const t=e.replace(/\+/g,"%20"),r=t.indexOf("=");if(r<=0)continue;const s=decodeURIComponent(t.slice(0,r)),i=decodeURIComponent(t.slice(r+1));a(n,s)?Array.isArray(n[s])?n[s].push(i):n[s]=[n[s],i]:n[s]=i}return n}},FzdF:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/messengers/icon-line.svg"},Gkiy:function(e,t,n){"use strict";var a=n("r0ML"),r=n.n(a),s=n("Pc05"),i=n.n(s),c="JbT8d0t8",o="_3fbTNNoe";function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const u=e=>{let{className:t,hasError:n,align:a,children:s,as:u="div",...d}=e;return r.a.createElement(u,l({className:i()(t,c,{[o]:"right"===a})},d),s)};u.defaultProps={hasError:!1};t.a=u},"H8+p":function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/visa_logo.png"},Hw9h:function(e,t,n){"use strict";var a=n("UhZ4"),r=n.n(a),s=n("cGUp"),i=n.n(s),c=n("K6sN"),o=n("w5oC");t.a=new class{constructor(e){this.baseUrl=e}async listFiles(e){return this.makeGet("/files",e)}async uploadFile(e){let{file:t,workspace:n,website:a,destination:r}=e;const s=new FormData;return s.append("file",t),s.append("workspace",n),s.append("website",a),s.append("destination",r),this.makePost("/api/files",s)}async uploadImage(e){let{file:t,workspace:n,website:a,destination:r}=e;const s=new FormData;return s.append("file",t),s.append("variant","normal"),s.append("workspace",n),a&&s.append("website",a),s.append("destination",r),this.makePost("/api/images",s)}async uploadIcon(e){let{file:t,workspace:n,website:a,destination:r}=e;const s=new FormData;return s.append("file",t),s.append("variant","icon_192"),s.append("format","png"),s.append("workspace",n),s.append("website",a),s.append("destination",r),this.makePost("/api/images",s)}deleteFiles(e){return this.makePost("/api/files/delete",e)}getHeaders(){return{Accept:c.a,Authorization:"Bearer "+this.getAccessToken()}}getAccessToken(){return r.a.get(o.a)}async makePost(e,t){const n=new URL(e,this.baseUrl),a=Object(c.d)(t),r=this.getHeaders();a||(r["Content-Type"]=c.a);const s=await fetch(n,{method:"POST",body:a?t:JSON.stringify(t),headers:r});if(204!==s.status)return Object(c.e)(s.headers)?s.json():s.text()}async makeGet(e,t){const n=new URL(e,this.baseUrl);n.search=new URLSearchParams(t);const a=await fetch(n,{headers:this.getHeaders()});return Object(c.e)(a.headers)?a.json():a.text()}}(i.a.media_url)},I1kg:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("r0ML"),r=n.n(a),s=n("hycj"),i=n("kkZN"),c=n("cpKZ"),o=n("tdCx");var l=n("ATgU"),u={root:"hcOCh6Da",disabled:"_3TBIVTem",requiredMark:"_3WtuGYA0",optionalMark:"_2PTbVhmm",builderStyle:"Gj3y1KB5"};function d(e){let{disabled:t,required:n,optional:a,builderInput:s,children:o,...l}=e;const{t:d}=Object(i.useTranslation)("ui"),p=n?r.a.createElement("span",{className:u.requiredMark,title:d("labels.field_required")},"*"):a&&r.a.createElement("span",{className:u.optionalMark,title:d("labels.field_optional")},d("labels.optional"));return r.a.createElement("label",Object(c.a)([u.root,s&&u.builderStyle,t&&u.disabled],l),o,p)}d.styles=u;var p=n("Oe/J"),m="_1Mx-SGW9";function f(e){return r.a.createElement(p.a,Object(c.a)(m,e))}function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function g(e){let{as:t,id:n,children:u,tag:m=l.a,builderInput:g,...b}=e;const{row:{name:v,label:y,labelClassName:E,errorClassName:O,restrictRule:j,required:w,optional:_,...k},control:N}=function(e){const{style:t,className:n,name:a,label:r,labelClassName:s,errorClassName:i,restrictRule:c,required:o,optional:l,disabled:u,controlProps:d,...p}=e;return{row:{required:o,optional:l,style:t,className:n,name:a,label:r,labelClassName:s,errorClassName:i,restrictRule:c,disabled:u},control:{name:a,disabled:u,required:o,...d,...p}}}(b),{t:C}=Object(i.useTranslation)(),{hasWarning:P,showWarning:S}=Object(o.a)(j),x=Object(s.d)(),{name:T,warning:I,getFieldProps:M,getFieldMeta:L}=x,R=L(v);n||(n=`${T||"form"}_${v}`.replaceAll(".","_"));const A="function"==typeof u,F=(A||!u)&&Object.assign(M(v),N,{id:n,builderInput:g}),D=Object(a.useCallback)((e,t)=>r.a.createElement(d,h({required:w,optional:_,disabled:N.disabled,htmlFor:n,builderInput:g},t?Object(c.a)(E,t):{className:E}),e),[E,w,_,N.disabled,n,g]);let U;return U=A?u({form:x,field:F,meta:R,makeLabel:D}):u||Object(a.createElement)(t||"input",F),r.a.createElement(m,h({},k,{onClick:P?e=>{e.preventDefault(),S()}:null}),y&&D(y),U,I&&r.a.createElement(f,null,C(I)),R.error&&R.touched&&!((B=R.error)&&"object"==typeof B)&&r.a.createElement(p.a,{className:O},C(R.error)));var B}},IfAq:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/icon_share_two.png"},JDWS:function(e,t,n){"use strict";var a=n("8qbc");class r extends a.a{constructor(e){super(e),this.accessToken=null}request(e,t){let n={};return Array.isArray(e)&&([e,n]=e),this.accessToken&&(n.accessToken=this.accessToken),super.request([e,n],t)}list(e,t){return super.get([`/workspaces/${e}/reviews`,t])}my(e){return super.get(`/workspaces/${e}/reviews/my`)}create(e,t){return super.post(`/workspaces/${e}/reviews`,t)}delete(e,t){return super.delete(`/workspaces/${e}/reviews/${t}`)}}t.a=new r},Jafw:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("r0ML"),r=n("1jyU"),s=n("bCRH"),i=n("cGUp");function c(){let{target:e,url:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Object(s.b)(),{isMobile:c}=Object(a.useMemo)(()=>{var e;return Object(r.a)(null===(e=window.navigator)||void 0===e?void 0:e.userAgent)},[]),o=Object(a.useMemo)(()=>{const e=(t||i.branding_url).replace("{lang}",n===i.fallback_language?"":"/"+n),a=c?"mobile":"desktop",r=window.location.hostname===i.main_hostname?window.location.pathname.split("/")[1]:window.location.hostname,s=new URL(e),o=a||(c?"mobile":"desktop");return s.search=new URLSearchParams({utm_source:"userpage_branding_logo",utm_medium:"userpage_branding_"+o,utm_campaign:"userpage_branding_"+o,utm_content:r}),s.toString()},[n,e,t]);return o}},JuTl:function(e,t,n){"use strict";function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const a=t.join("/"),r="/"===a.charAt(0)?"/":"",s=a.split("/"),i=[];for(let e=0;e<s.length;e++)"string"==typeof s[e]&&s[e]&&"."!==s[e]&&(".."===s[e]?i.pop():i.push(s[e]));return r+i.join("/")}n.d(t,"a",(function(){return a}))},K6sN:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return y}));var a=n("ObYw"),r=n.n(a),s=n("XY3h"),i=n.n(s),c=n("R6Hn"),o=n("j2AC");const l="application/json";function u(e){return e instanceof FormData}function d(e){return"object"==typeof e}function p(e){const t=e.get("Content-Type");return!!t&&i.a.parse(t).type===l}function m(e){return r()(e)?e:window.location.origin+e}const f=e=>async function(){return e(...arguments)};function h(e){const t={};if(null!=e&&e.errors)for(let n in e.errors)Object(c.a)(t,n,e.errors[n]);return t}function g(e,t){"Sentry"in window&&Sentry.withScope(n=>{n.setExtras(t),Sentry.captureException(e)})}function b(e){function t(t){return{type:e,...t}}return e="@API/"+e,t.type=e,t.toString=()=>e,t}function v(e,t,n){const a="@API/SOCKET/"+t;n||(n=e=>({payload:e}));const r=()=>r=>{const s=e.createSocket();s.on(t,(function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=i.clientId===e.clientId;c||r({type:a,socketId:s.id,...i,...n(...Array.isArray(t)?t:[t]),ignore:!1})}))};return r.type=a,r.toString=()=>a,r}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function n(t,n){n=f(n);const a=b(t),r=b(t+"/SUCCESS"),s=b(t+"/FAILURE");function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t={...e._params,...t},async(e,i)=>{e(a(t));try{const a=await n(t);return e(r({...t,result:a})),a}catch(n){throw e(s({...t,error:n})),o.g.is(n)||g(n,{action:s.toString(),state:i()}),n}}}return i.request=a,i.requestType=a.type,i.success=r,i.successType=r.type,i.failure=s,i.failureType=s.type,i.toString=a.toString,i.type=a.type,i}function a(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(const[s,i]of Object.entries(e)){if(s.startsWith("_"))continue;const e=t?`${t}.${s}`:s;"object"==typeof i?r[s]=a(i,e):"function"==typeof i&&(r[s]=n(e,i))}return r}return a(e.resources,null,t)}},KDbz:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/choose.svg"},KZ4r:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/onboarding/analytics.svg"},KhfH:function(e,t,n){"use strict";var a=n("RTFG");const r=new Map([["USD","en-US"],["EUR","de-DE"]]),s=Object(a.a)((e,t)=>(r.has(t)&&(e=r.get(t)),new Intl.NumberFormat(e,{style:"currency",currency:t,currencyDisplay:r.has(t)?"symbol":"code",minimumFractionDigits:0,useGrouping:!1})),(e,t)=>`${e}${t}`);t.a=(e,t,n)=>s(n,t).format(e)},L8js:function(e,t,n){"use strict";var a=n("r0ML"),r=n.n(a),s=n("Pc05"),i=n.n(s),c="_3bEucP4S",o="_3feTH91h";function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}t.a=e=>{let{className:t,fullWidth:n,children:a,...s}=e;return r.a.createElement("div",l({className:i()(c,n&&o,t)},s),a)}},"Llc/":function(e,t,n){"use strict";const a=/^[^:]*:\/*/;t.a=e=>e.replace(a,"")},M9wv:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("r0ML"),r=n.n(a),s=n("QD+E"),i=n("gxZ5");function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function o(e){return r.a.createElement(i.a,c({tag:s.d,activeClassName:i.a.styles.active},e))}},"MP+E":function(e,t,n){"use strict";var a=n("K6sN"),r=n("a2Wz");const s=Object(a.b)(r.a);function i(e,t){return Object(a.c)(r.a,e,t)}s.init=()=>async e=>{if(!r.a.isAuthenticated)return;return t=[s.users.me(),s.workspaces.retrieve(),s.billing.details(),s.billing.products.prices(),s.websites.list(),s.collections.list()],Promise.all(t.map(t=>e(t)));var t};const c=(e,t)=>({contactId:e,payload:t}),o=(e,t)=>({feedbackId:e,result:t});s.listenConnect=i("connect"),s.listenDisconnect=i("disconnect"),s.listenReconnect=i("reconnect"),s.listenVerifyVersion=i("verifyVersion"),s.listenUserUpdated=i("user_updated",e=>e),s.listenNewMessages=i("newMessages",c),s.listenCreateConversation=i("createConversation",c),s.listenUpdateConversation=i("updateConversation",c),s.listenSubscriptionCreated=i("subscription_created"),s.listenSubscriptionUpdated=i("subscription_updated"),s.listenSubscriptionCancelled=i("subscription_cancelled"),s.listenPaymentSucceeded=i("subscription_payment_succeeded"),s.listenPaymentInitialSucceeded=i("initial_subscription_payment_succeeded"),s.listenPaymentFailed=i("subscription_payment_failed"),s.listenPaymentRetryFailed=i("retry_subscription_payment_failed"),s.listenHighRiskTransactionUpdated=i("high_risk_transaction_updated"),s.listenCreateFeedback=i("createFeedback",o),s.listenUpdateFeedback=i("updateFeedback",o),s.conversations.filterList=function(){let{query:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(n,a)=>{const r=a(),{status:i,assign:c,searchValue:o,showNewFirst:l}=r.ui.conversationsFilter;return e={status:i,assign:c,searchValue:o,sort:l?"new":"old",...e},n(s.conversations.list({query:e,...t}))}},s.unsubscribe=function(e,t){const n=n=>async a=>{a({type:e,payload:n}),await t(n)};return n.type=e="@API/"+e,n.toString=()=>e,n}("unsubscribe",e=>{let{cancelUrl:t}=e;window.open(t)}),t.a=s},MSOi:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n("r0ML"),r=n.n(a),s=n("ZNIA"),i=n.n(s),c=n("goqe");function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const l=e=>r.a.createElement(i.a,o({},e,c.a.aboveMobile)),u=e=>r.a.createElement(i.a,o({},e,c.a.mobile))},"MY/q":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("r0ML"),r=n.n(a),s=n("Pc05"),i=n.n(s),c="_1cnTjnAM",o="_3hRipkpF",l="_3QPDy911",u="_2GF_HvGn";function d(e){let{error:t,critical:n=!0,shake:a,errorStyle:s}=e;if(!t)return null;const d=Array.isArray(t)?t:[t];return r.a.createElement("ul",{className:i()(c,{[o]:!n,[l]:a,[u]:a}),style:s},d.map((e,t)=>r.a.createElement("li",{key:t},e)))}},Mh6W:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/aboutProBg.jpg"},N6lx:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a=n("zl5+"),r=n("Qg6Y");function s(){var t;const{card:n,projectVersion:s}=Object(r.a)(),i=!(null==n||null===(t=n.links)||void 0===t||!t.length),c=Object(a.a)(s,"<=2.9"),o="mobile"!==e.env.REACT_APP_TARGET&&Object(a.a)(s,"<4.0.0");return{isInboxDisplayed:c,isLinksDisplayed:i,isSavingUtm:Object(a.a)(s,">=5.12.0"),isOldVersionDisplayed:o}}}).call(this,n("TzVV"))},NFaR:function(e,t,n){"use strict";n.r(t),t.default={}},NH7Q:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return m}));var a=function(e){return"@@redux-saga/"+e},r=a("CANCEL_PROMISE"),s=a("CHANNEL_END"),i=a("IO"),c=a("MATCH"),o=a("MULTICAST"),l=a("SAGA_ACTION"),u=a("SELF_CANCELLATION"),d=a("TASK"),p=a("TASK_CANCEL"),m=a("TERMINATE"),f=a("LOCATION")},NSLI:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return o}));
/*! Capacitor: https://capacitorjs.com/ - MIT License */
const a=(e=>e.CapacitorPlatforms=(e=>{const t=new Map;t.set("web",{name:"web"});const n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t};return n.addPlatform=(e,t)=>{n.platforms.set(e,t)},n.setPlatform=e=>{n.platforms.has(e)&&(n.currentPlatform=n.platforms.get(e))},n})(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{});a.addPlatform,a.setPlatform;var r;!function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(r||(r={}));class s extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const i=e=>{var t,n,a,i,c;const o=e.CapacitorCustomPlatform||null,l=e.Capacitor||{},u=l.Plugins=l.Plugins||{},d=e.CapacitorPlatforms,p=(null===(t=null==d?void 0:d.currentPlatform)||void 0===t?void 0:t.getPlatform)||(()=>null!==o?o.name:(e=>{var t,n;return(null==e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"})(e)),m=(null===(n=null==d?void 0:d.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||(()=>"web"!==p()),f=(null===(a=null==d?void 0:d.currentPlatform)||void 0===a?void 0:a.isPluginAvailable)||(e=>{const t=g.get(e);return!!(null==t?void 0:t.platforms.has(p()))||!!h(e)}),h=(null===(i=null==d?void 0:d.currentPlatform)||void 0===i?void 0:i.getPluginHeader)||(e=>{var t;return null===(t=l.PluginHeaders)||void 0===t?void 0:t.find(t=>t.name===e)}),g=new Map,b=(null===(c=null==d?void 0:d.currentPlatform)||void 0===c?void 0:c.registerPlugin)||((e,t={})=>{const n=g.get(e);if(n)return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),n.proxy;const a=p(),i=h(e);let c;const d=n=>{let u;const d=(...d)=>{const p=(async()=>(!c&&a in t?c=c="function"==typeof t[a]?await t[a]():t[a]:null!==o&&!c&&"web"in t&&(c=c="function"==typeof t.web?await t.web():t.web),c))().then(t=>{const c=((t,n)=>{var c,o;if(!i){if(t)return null===(o=t[n])||void 0===o?void 0:o.bind(t);throw new s(`"${e}" plugin is not implemented on ${a}`,r.Unimplemented)}{const a=null==i?void 0:i.methods.find(e=>n===e.name);if(a)return"promise"===a.rtype?t=>l.nativePromise(e,n.toString(),t):(t,a)=>l.nativeCallback(e,n.toString(),t,a);if(t)return null===(c=t[n])||void 0===c?void 0:c.bind(t)}})(t,n);if(c){const e=c(...d);return u=null==e?void 0:e.remove,e}throw new s(`"${e}.${n}()" is not implemented on ${a}`,r.Unimplemented)});return"addListener"===n&&(p.remove=async()=>u()),p};return d.toString=()=>n.toString()+"() { [capacitor code] }",Object.defineProperty(d,"name",{value:n,writable:!1,configurable:!1}),d},m=d("addListener"),f=d("removeListener"),b=(e,t)=>{const n=m({eventName:e},t),a=async()=>{const a=await n;f({eventName:e,callbackId:a},t)},r=new Promise(e=>n.then(()=>e({remove:a})));return r.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await a()},r},v=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return i?b:m;case"removeListener":return f;default:return d(t)}}});return u[e]=v,g.set(e,{name:e,proxy:v,platforms:new Set([...Object.keys(t),...i?[a]:[]])}),v});return l.convertFileSrc||(l.convertFileSrc=e=>e),l.getPlatform=p,l.handleError=t=>e.console.error(t),l.isNativePlatform=m,l.isPluginAvailable=f,l.pluginMethodNoop=(e,t,n)=>Promise.reject(`${n} does not have an implementation of "${t}".`),l.registerPlugin=b,l.Exception=s,l.DEBUG=!!l.DEBUG,l.isLoggingEnabled=!!l.isLoggingEnabled,l.platform=l.getPlatform(),l.isNative=l.isNativePlatform(),l},c=(e=>e.Capacitor=i(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{}),o=c.registerPlugin;c.Plugins;class l{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const n=this.windowListeners[e];n&&!n.registered&&this.addWindowListener(n);const a=async()=>this.removeListener(e,t),r=Promise.resolve({remove:a});return Object.defineProperty(r,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await a()}}),r}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t){const n=this.listeners[e];n&&n.forEach(e=>e(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new c.Exception(e,r.Unimplemented)}unavailable(e="not available"){return new c.Exception(e,r.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const a=n.indexOf(t);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const u=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),d=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class p extends l{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(e=>{if(e.length<=0)return;let[n,a]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=d(n).trim(),a=d(a).trim(),t[n]=a}),t}async setCookie(e){try{const t=u(e.key),n=u(e.value),a="; expires="+(e.expires||"").replace("expires=",""),r=(e.path||"/").replace("path=",""),s=null!=e.url&&e.url.length>0?"domain="+e.url:"";document.cookie=`${t}=${n||""}${a}; path=${r}; ${s};`}catch(e){return Promise.reject(e)}}async deleteCookie(e){try{document.cookie=e.key+"=; Max-Age=0"}catch(e){return Promise.reject(e)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}o("CapacitorCookies",{web:()=>new p});const m=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),a=((e={})=>{const t=Object.keys(e);return Object.keys(e).map(e=>e.toLocaleLowerCase()).reduce((n,a,r)=>(n[a]=e[t[r]],n),{})})(e.headers)["content-type"]||"";if("string"==typeof e.data)n.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[n,a]of Object.entries(e.data||{}))t.set(n,a);n.body=t.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const t=new FormData;if(e.data instanceof FormData)e.data.forEach((e,n)=>{t.append(n,e)});else for(const n of Object.keys(e.data))t.append(n,e.data[n]);n.body=t;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(a.includes("application/json")||"object"==typeof e.data)&&(n.body=JSON.stringify(e.data));return n};class f extends l{async request(e){const t=m(e,e.webFetchExtra),n=((e,t=!0)=>{if(!e)return null;return Object.entries(e).reduce((e,n)=>{const[a,r]=n;let s,i;return Array.isArray(r)?(i="",r.forEach(e=>{s=t?encodeURIComponent(e):e,i+=`${a}=${s}&`}),i.slice(0,-1)):(s=t?encodeURIComponent(r):r,i=`${a}=${s}`),`${e}&${i}`},"").substr(1)})(e.params,e.shouldEncodeUrlParams),a=n?`${e.url}?${n}`:e.url,r=await fetch(a,t),s=r.headers.get("content-type")||"";let i,c,{responseType:o="text"}=r.ok?e:{};switch(s.includes("application/json")&&(o="json"),o){case"arraybuffer":case"blob":c=await r.blob(),i=await(async e=>new Promise((t,n)=>{const a=new FileReader;a.onload=()=>{const e=a.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},a.onerror=e=>n(e),a.readAsDataURL(e)}))(c);break;case"json":i=await r.json();break;case"document":case"text":default:i=await r.text()}const l={};return r.headers.forEach((e,t)=>{l[t]=e}),{data:i,headers:l,status:r.status,url:r.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}o("CapacitorHttp",{web:()=>new f})}).call(this,n("uKge"))},Ng9b:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/blank.png"},Nphk:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n("UhZ4"),r=n.n(a),s=n("quq1"),i=n("kqAp"),c=n.n(i),o=n("cYf2"),l=n.n(o),u=n("Lx+S"),d=n.n(u),p=n("3gnH"),m=n("fTOn"),f=n("jxal"),h=n("K6sN"),g=n("j2AC");function b(e){Object(h.d)(e.payload)?delete e.headers["Content-Type"]:e.headers["Content-Type"]=h.a}function v(e){e.originalPayload=e.payload,!Object(h.d)(e.payload)&&Object(h.f)(e.payload)&&(e.payload=JSON.stringify(e.payload))}class y{constructor(e){let{method:t,url:n,payload:a,headers:r={}}=e;this.method=t,this.url=n,this.payload=a,this.headers=r}}class E extends f.EventEmitter{constructor(e){let{baseUrl:t="/api",headers:n,middlewares:a=[b,v]}=e;super(),this._baseUrl=Object(h.g)(t),this._headers={Accept:h.a,...n},this._params={},this._middlewares=a,this.addMiddleware(this.addHeaders)}addMiddleware(e){this._middlewares.push(e)}addHeaders(e){e.headers["Accept-Language"]=navigator.language}param(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("key argument is required");if(1===t.length)return this._params[t[0]];const[a,r]=t;null==r?delete this._params[a]:this._params[a]=r}generateUrl(e){let{endpoint:t,params:n={},query:a={}}=e;try{const e=Object(m.a)(t)({...this._params,...n}),r=new URL(this._baseUrl+e);for(const[e,t]of Object.entries(a))if(Array.isArray(t))t.forEach(t=>r.searchParams.append(e,t));else if(t&&"object"==typeof t)for(const[n,a]of Object.entries(t))r.searchParams.append(`${e}[${n}]`,a);else r.searchParams.append(e,t);return r}catch(e){throw new Error(`Failed to generate URL for endpoint "${t}": ${e.message}`)}}createApiRequest(e,t,n){const a=new y({method:e.toUpperCase(),url:t,payload:n,headers:{...this._headers}});return this._middlewares.forEach(e=>{e.call(this,a)}),a}async execRequest(e,t){let n;try{n=await fetch(e.url,{credentials:"same-origin",mode:"cors",method:e.method,body:e.payload,headers:e.headers})}catch(t){throw new g.d(`${t.message}\n\tat "${e.url}"`)}const a=Object(h.e)(n.headers);if(n.ok)return a?await n.json():t?n:await n.text();const r=a?await n.json():void 0;switch(n.status){case 400:case 422:throw new g.g({url:n.url.toString(),status:n.status,json:r});case 401:throw new g.a({url:n.url.toString(),status:n.status,json:r});case 403:throw new g.b({url:n.url.toString(),status:n.status,json:r});case 404:throw new g.e({url:n.url.toString(),status:n.status,json:r});case 429:throw new g.c({url:n.url.toString(),status:n.status,json:r});default:throw new g.f({url:n.url.toString(),status:n.status,message:n.statusText,json:r})}}async apiCall(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{raw:a,payload:r,query:s,...i}=n,c=this.generateUrl({endpoint:t,params:i,query:s}),o=this.createApiRequest(e,c,r);return this.execRequest(o,a)}method(e,t){return n=>this.apiCall(e,t,n)}get(e){return this.method("GET",e)}put(e){return this.method("PUT",e)}patch(e){return this.method("PATCH",e)}post(e){return this.method("POST",e)}delete(e){return this.method("DELETE",e)}}var O=n("w5oC"),j=n("Hw9h");const w=Object(s.default)(c.a),_=[O.b];class k extends E{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),this._params={workspaceId:""},this._socket=null,this.resources={auth:{getToken:this.tokenRequest("GET",O.c.auth+"/token/:code"),login:this.tokenRequest("POST",O.c.auth+"/login"),logout:async()=>{this.accessToken=null,r.a.each(e=>{_.includes(e)||r.a.remove(e)})}},billing:{update:this.put(O.c.billing),changePlan:this.post(O.c.billing+"/change-plan"),previewPlanChange:this.post(O.c.billing+"/preview-plan-change"),changeCreditCard:this.put(O.c.billing+"/card"),applyCoupon:this.put(O.c.billing+"/apply-coupon"),getCoupon:this.get(O.c.billing+"/coupons/:couponId"),details:this.get(O.c.billing+"/details"),subscription:{create:this.post(O.c.subscription+"/create"),cancel:this.post(O.c.subscription+"/cancel"),pause:this.post(O.c.subscription+"/pause"),renew:this.post(O.c.subscription+"/renew"),changeCard:this.post(O.c.subscription+"/change-card"),payNow:this.post(O.c.subscription+"/pay-now")},products:{prices:this.get(O.c.billing+"/products/prices")}},bot:{donate:this.post(O.c.bot+"/donate"),subscribe:this.post(O.c.bot+"/subscribe")},bots:{create:this.post(""+O.c.bots),update:this.put(O.c.bots+"/:botId"),delete:this.delete(O.c.bots+"/:botId"),upload:async e=>{let{payload:t,botId:n,field:a="file"}=e;const r=new FormData;return r.append(a,t),this.apiCall("POST",O.c.bots+"/:botId/upload",{botId:n,payload:r,query:{field:a}})}},card:{update:this.put(""+O.c.card),patch:this.patch(""+O.c.card),statistics:this.get(O.c.card+"/statistics"),messengers:{create:this.post(O.c.card+"/messengers"),sort:this.put(O.c.card+"/messengers/sort"),update:this.put(O.c.card+"/messengers/:messengerId"),delete:this.delete(O.c.card+"/messengers/:messengerId")},links:{create:this.post(O.c.card+"/links"),update:this.put(O.c.card+"/links/:linkId"),delete:this.delete(O.c.card+"/links/:linkId")},domain:{connect:this.put(O.c.card+"/domain"),disconnect:this.delete(O.c.card+"/domain")},uploadAvatar:e=>{let{payload:t}=e;return this.resources.workspaces.upload({payload:t,uploadType:"photo",field:"design.photo"})},uploadCover:e=>{let{payload:t}=e;return this.resources.workspaces.upload({payload:t,uploadType:"background",field:"design.background.image"})}},onboarding:{update:this.put(O.c.onboarding)},collections:{list:this.get(O.c.collections),create:this.post(O.c.collections),retrieve:this.get(O.c.collections+"/:collectionId"),sort:this.put(O.c.collections+"/sort"),update:this.put(O.c.collections+"/:collectionId"),delete:this.delete(O.c.collections+"/:collectionId"),products:{get:this.get(O.c.collections+"/:collectionId/products"),update:this.put(O.c.collections+"/:collectionId/products")}},contacts:{list:this.get(O.c.contacts),update:this.put(O.c.contacts+"/:contactId"),delete:this.delete(O.c.contacts+"/:contactId")},conversations:{list:this.get(O.c.conversations),retrieve:this.get(O.c.conversations+"/:contactId"),read:this.put(O.c.conversations+"/:contactId/read"),assign:this.put(O.c.conversations+"/:contactId/assign/:userId"),assignMe:this.put(O.c.conversations+"/:contactId/assign/me"),changeStatus:this.put(O.c.conversations+"/:contactId/status/:status"),block:this.put(O.c.conversations+"/:contactId/block"),uploadAttachment:async e=>{let{payload:t,contactId:n}=e;const a=new FormData;return a.append("file",t),this.apiCall("POST",O.c.conversations+"/:contactId/uploads/attachment",{contactId:n,payload:a,query:{field:"file"}})},sendAttachment:async e=>{let{contactId:t,payload:n}=e;const{file:a,...r}=n,{url:s,filename:i,mime:c,size:o}=await this.resources.conversations.uploadAttachment({contactId:t,payload:a});return this.resources.messages.create({contactId:t,payload:{type:"image/png"===c||"image/jpeg"===c?"image":"file",mediaUrl:s,fileName:i,fileSize:o,destination:"client",...r}})},sendMessage:e=>{let{contactId:t,payload:n}=e;return this.apiCall("POST",O.c.messages,{contactId:t,payload:{type:"text",destination:"client",...n}})},messages:this.get(O.c.messages),statistics:this.get(O.c.conversations+"/statistics"),unread:this.get(O.c.conversations+"/unread")},integrations:{create:this.post(O.c.integrations),delete:this.delete(O.c.integrations+"/:integrationId")},messages:{list:this.get(O.c.messages),create:this.post(O.c.messages)},products:{list:this.get(O.c.products),sublist:this.get(O.c.products),create:this.post(O.c.products),retrieve:this.get(O.c.products+"/:productId"),update:this.put(O.c.products+"/:productId"),delete:this.delete(O.c.products+"/:productId"),sort:this.put(O.c.products+"/sort"),migrate:this.post(O.c.products+"/migrate"),listByCollection:this.get(O.c.products+"/:collectionId/sorted"),retrieveBySlug:this.get(O.c.products+"/:collectionId/:productSlug"),uploadPhoto:e=>{let{payload:t,websiteId:n}=e;return j.a.uploadImage({file:t,workspace:this.getWorkspaceId(),website:n,destination:`w/${this.getWorkspaceId()}/websites/${n}/products`})},uploadPhotos:async e=>{let{payloads:t,websiteId:n}=e;const a=await Promise.all(t.map(async e=>{try{const{url:t}=await this.resources.products.uploadPhoto({payload:e,websiteId:n});return{file:e.name,result:t}}catch(t){return{file:e.name,error:t.errors&&t.errors.photos||t.message}}}));return{success:a.filter(e=>{let{result:t}=e;return t}),failed:a.filter(e=>{let{error:t}=e;return t})}}},replies:{list:this.get(O.c.replies),create:this.post(O.c.replies),update:this.put(O.c.replies+"/:replyId"),delete:this.delete(O.c.replies+"/:replyId")},reviews:{list:this.get(O.c.reviews),create:this.post(O.c.reviews),delete:this.delete(O.c.reviews+"/:reviewId"),my:this.get(O.c.reviews+"/my")},team:{create:this.post(O.c.team),update:this.put(O.c.team+"/:memberId"),delete:this.delete(O.c.team+"/:memberId")},users:{create:async e=>{const t=await this.apiCall("POST",""+O.c.users,e);return this.accessToken=t.token,t},checkInvite:this.post(O.c.users+"/check-invite"),checkRegistrationInvite:this.post(O.c.users+"/check-reg-invite"),recoveryPassword:this.post(O.c.users+"/recovery-password"),join:async e=>{const t=await this.apiCall("POST",O.c.users+"/join",e);return this.accessToken=t.token,t},me:this.get(O.c.users+"/me"),deleteAccount:()=>{const e=this.apiCall("DELETE",O.c.users+"/me");return setTimeout(()=>{this._accessToken=null,r.a.clearAll()},100),e},updateMyAccount:this.put(O.c.users+"/me"),changeMyPassword:this.put(O.c.users+"/me/change-password"),sendFeedback:this.put(O.c.users+"/me/feedback"),saveMySubscription:this.put(O.c.users+"/me/save-subscription"),updateUtm:this.post(O.c.users+"/me/utm"),uploadAvatar:e=>{let{payload:t,field:n}=e;return this.resources.workspaces.upload({uploadType:"photo",payload:t,field:n})},invites:{list:this.get(O.c.invites),create:this.post(O.c.invites),delete:this.delete(O.c.invites+"/:inviteId")},switchApp:this.put(O.c.users+"/me/switch-app"),connectTelegram:this.post(O.c.users+"/me/connect-telegram"),addApnToken:this.post(O.c.users+"/me/apn-tokens")},workspaces:{my:this.get(O.c.workspaces+"/my"),create:this.post(O.c.workspaces),retrieve:this.get(O.c.workspaces+"/:workspaceId"),update:this.put(O.c.workspaces+"/:workspaceId"),delete:this.delete(O.c.workspaces+"/:workspaceId"),upload:async e=>{let{payload:t,field:n,uploadType:a}=e;const r=new FormData;return r.append(n,t),this.apiCall("POST",O.c.workspaces+"/:workspaceId/uploads/:uploadType",{payload:r,query:{field:n},uploadType:a})}},websites:{list:this.method("GET",O.c.websites),create:this.method("POST",O.c.websites),scaffold:this.method("POST",O.c.websites+"/scaffold"),retrieveBySlug:this.method("GET",O.c.websites+"/slug/:websiteSlug"),retrieve:this.method("GET",O.c.website),update:this.method("PUT",O.c.website),delete:this.method("DELETE",O.c.website),updateHomePage:this.method("POST",O.c.website+"/homepage"),domain:{update:this.method("PUT",O.c.website+"/domain"),delete:this.method("DELETE",O.c.website+"/domain"),get:this.method("GET",O.c.website+"/domain")},upload:async e=>{let{websiteId:t,payload:n}=e;return j.a.uploadImage({file:n,workspace:this.getWorkspaceId(),website:t,destination:`w/${this.getWorkspaceId()}/websites/${t}`})},uploadFavicon:async e=>{let{websiteId:t,payload:n}=e;return j.a.uploadIcon({file:n,workspace:this.getWorkspaceId(),website:t,destination:`w/${this.getWorkspaceId()}/websites/${t}`})},uploadMany:async e=>{let{websiteId:t,payloads:n,field:a="files"}=e;const r=await Promise.all(n.map(async e=>{try{const n=await this.resources.websites.upload({websiteId:t,field:a,payload:e});return{file:e.name,result:n}}catch(t){return{file:e.name,error:t.errors&&t.errors[a]||t.message}}}));return{success:r.filter(e=>{let{result:t}=e;return t}),failed:r.filter(e=>{let{error:t}=e;return t})}},deleteUpload:async e=>{let{path:t}=e;return j.a.deleteFiles({path:[t]})},crm:{settings:{update:this.post(O.c.website+"/crm/settings")}},audience:{list:this.get(O.c.website+"/audience"),downloadUrl:this.get(O.c.website+"/audience/download-url")},services:{requestABlock:this.post(O.c.website+"/request-a-block")},statistics:this.get(O.c.website+"/statistics")},pages:{list:this.method("GET",O.c.pages),create:this.method("POST",O.c.pages),retrieve:this.method("GET",O.c.pages+"/:pageId"),update:this.method("PUT",O.c.pages+"/:pageId"),delete:this.method("DELETE",O.c.pages+"/:pageId"),retrieveBySlug:this.method("GET",O.c.pages+"/slug/:pageSlug"),clone:this.method("POST",O.c.pages+"/:pageId/clone"),applyTemplate:this.post(O.c.pages+"/:pageId/apply-template/:templateId")},feedbacks:{list:this.method("GET",O.c.feedbacks),create:this.method("POST",O.c.feedbacks),count:this.method("GET",O.c.feedbacks+"/count"),perWebsiteCount:this.post(O.c.websites+"/feedback/count"),recent:this.method("GET",O.c.feedbacks+"/recent"),retrieve:this.method("GET",O.c.feedbacks+"/:feedbackId"),update:this.method("PUT",O.c.feedbacks+"/:feedbackId"),delete:this.method("DELETE",O.c.feedbacks+"/:feedbackId")},orders:{list:this.method("GET",O.c.orders),update:this.method("PUT",O.c.orders+"/:orderId")},blocks:{create:this.post(O.c.blocks),update:this.put(O.c.blocks+"/:blockId"),convert:this.put(O.c.blocks+"/:blockId/convert"),delete:this.delete(O.c.blocks+"/:blockId"),toggle:this.put(O.c.blocks+"/toggle"),group:this.put(O.c.blocks+"/group"),clone:this.put(O.c.blocks+"/clone"),deleteMany:this.put(O.c.blocks+"/deleteMany"),sort:this.put(O.c.blocks+"/sort")},tags:{list:this.get(O.c.tags),create:this.post(O.c.tags),retrieve:this.get(O.c.tags+"/:tagId"),update:this.put(O.c.tags+"/:tagId"),delete:this.delete(O.c.tags+"/:tagId")},pageTemplates:{list:this.get(O.c.templates),create:this.post(O.c.templates),retrieve:this.get(O.c.templates+"/:templateId"),update:this.put(O.c.templates+"/:templateId"),delete:this.delete(O.c.templates+"/:templateId"),uploadThumbnail:e=>{let{payload:t,field:n}=e;return this.resources.workspaces.upload({uploadType:"template",payload:t,field:n})}},crm:{settings:{update:this.post(O.c.crm+"/settings")}},endpoints:{sample:this.get(O.c.endpoints+"/test"),test:this.post(O.c.endpoints+"/test")}},this._socketUrl=e.socketUrl,this._accessToken=r.a.get(O.a),this._storeClientId()}_storeClientId(){let e=r.a.get(O.b);e||(e=d()(),r.a.set(O.b,e)),this.clientId=e}addHeaders(e){this._accessToken&&(e.headers.Authorization=`Bearer "${this._accessToken}"`),e.headers["Accept-Language"]=p.a.language,e.headers["X-Client-Id"]=this.clientId}get isAuthenticated(){return!!this._accessToken}get accessToken(){return this._accessToken}set accessToken(e){this._accessToken=e,e?r.a.set(O.a,e):(r.a.remove(O.a),this._closeSocket()),this.emit("changeAccessToken")}get aboutMe(){return this._accessToken?w(this._accessToken):null}_createSocket(){const e=l()(this._socketUrl,{transports:["websocket"],query:{token:this._accessToken,clientId:this.clientId}});return e.on("connect",()=>{e.emit("start")}),e}_closeSocket(){this._socket&&(this._socket.close(),this._socket=null)}createSocket(){return this._socket||(this._socket=this._createSocket()),this._socket}async execRequest(){try{return await super.execRequest(...arguments)}catch(e){throw 403!==e.status||e.permission||(this.accessToken=null),e}}getWorkspaceId(){return this._params.workspaceId}tokenRequest(e,t){return async n=>{const a=await this.apiCall(e,t,n);return this.accessToken=a.token,a}}}},"Oe/J":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("r0ML"),r=n.n(a),s=n("cpKZ"),i="SKZRHG0g";function c(e){return r.a.createElement("div",Object(s.a)(i,e))}},OiJC:function(e,t,n){"use strict";n.r(t),function(e){var a=n("v2iy"),r=n("WTEP"),s=n.n(r);t.default=(t,n,r)=>Object(a.d)(t,n,Object(a.a)(...r,...["true"===e.env.REACT_APP_REDUX_DEBUG&&s.a].filter(Boolean)))}.call(this,n("TzVV"))},OsH9:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("r0ML"),r=n.n(a),s=n("hycj"),i=n("r1xb"),c=n("nq71");function o(e){let{children:t,...n}=e;const a=Object(c.a)(n);return r.a.createElement(s.b,{value:a},Object(i.a)(t,a))}},OzhK:function(e,t,n){var a={"./en-au":"4ztU","./en-au.js":"4ztU","./en-ca":"Vj0R","./en-ca.js":"Vj0R","./en-gb":"blmW","./en-gb.js":"blmW","./en-ie":"oC32","./en-ie.js":"oC32","./en-il":"LdJM","./en-il.js":"LdJM","./en-nz":"LhZT","./en-nz.js":"LhZT","./ru":"dcup","./ru.js":"dcup","./uk":"iaX5","./uk.js":"iaX5"};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id="OzhK"},Pfhs:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{plan:n,status:a,paid:r}=e;return!(!n||"trialing"!==a&&"basic"!==n&&"unlimited"!==n)||(r||t&&"past_due"===a)},r=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"basic"===e.plan||!a(e,t)}},Po5v:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a=n("Abao");n.d(t,"b",(function(){return a.a}));var r=n("6Nwd"),s=n("ID3L"),i=n.n(s),c=n("kkZN"),o=n("cGUp"),l=n.n(o),u=n("oaOZ"),d=n("+eE7");const p=new u.a,m="mobile"===e.env.REACT_APP_TARGET?["navigator"]:["querystring","cookie","localStorage","navigator"];a.a.use(p).use(r.a).use(c.initReactI18next).init({supportedLngs:l.a.languages,fallbackLng:l.a.fallback_language,lowerCaseLng:!0,cleanCode:!0,ns:["common"],defaultNS:"common",debug:"true"===e.env.REACT_APP_I18N_DEBUG,interpolation:{escapeValue:!1,format:d.a},detection:{order:m,lookupQuerystring:"lang",lookupCookie:"lang",lookupLocalStorage:"lang",caches:["localStorage","cookie"]},react:{transKeepBasicHtmlNodesFor:["br","strong","i","p","b"]}}),a.a.on("languageChanged",e=>{i.a.locale(e)})}).call(this,n("TzVV"))},Q7xJ:function(e,t,n){"use strict";var a=n("8qbc");class r extends a.a{list(e,t){return this.get([`/workspaces/${e}/collections`,t])}}t.a=new r},QJGC:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/viber.svg"},QSHt:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var a=n("t1lN");const r=e=>e.workspace,s=(Object(a.a)(r,(e,t)=>e.integrations.find(e=>e.type===t)),Object(a.a)(r,e=>e.team.filter(e=>"Member"===e.kind).map(e=>e.user)));Object(a.a)(r,(e,t)=>e.card.messengers.find(e=>e.messenger===t))},Qg6Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("g0xT");function r(){return Object(a.d)(e=>e.workspace)}},Qlef:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/stripe.png"},QuEQ:function(e,t,n){"use strict";var a=n("PZsd"),r=n.n(a);const s=[["PATTERN_REPLACE_ANY","*",".*?"],["PATTERN_REPLACE_ONE","?","."]];t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=e;for(const[e,t]of s)a=a.replaceAll(t,e);a=r()(a);for(const[e,,t]of s)a=a.replaceAll(e,t);return new RegExp(n+a,t)}},R6Lt:function(e,t,n){"use strict";function a(e){return function(t){var n=t.dispatch,a=t.getState;return function(t){return function(r){return"function"==typeof r?r(n,a,e):t(r)}}}}var r=a();r.withExtraArgument=a;var s=r,i=n("NH7Q"),c=n("IKa1"),o=n("ITlK"),l=n("F2bt"),u=n("tK4o"),d=n("v2iy");function p(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var m=p,f=(n("dQ91"),[]),h=0;function g(e){try{y(),e()}finally{E()}}function b(e){f.push(e),h||(y(),O())}function v(e){try{return y(),e()}finally{O()}}function y(){h++}function E(){h--}function O(){var e;for(E();!h&&void 0!==(e=f.shift());)g(e)}var j=function(e){return function(t){return e.some((function(e){return C(e)(t)}))}},w=function(e){return function(t){return e(t)}},_=function(e){return function(t){return t.type===String(e)}},k=function(e){return function(t){return t.type===e}},N=function(){return u.G};function C(e){var t="*"===e?N:Object(l.j)(e)?_:Object(l.a)(e)?j:Object(l.k)(e)?_:Object(l.c)(e)?w:Object(l.l)(e)?k:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var P={type:i.b},S=function(e){return e&&e.type===i.b};function x(e){void 0===e&&(e=Object(u.A)());var t=!1,n=[];return{take:function(a){t&&e.isEmpty()?a(P):e.isEmpty()?(n.push(a),a.cancel=function(){Object(u.N)(n,a)}):a(e.take())},put:function(a){if(!t){if(0===n.length)return e.put(a);n.shift()(a)}},flush:function(n){t&&e.isEmpty()?n(P):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var a=0,r=e.length;a<r;a++){(0,e[a])(P)}}}}}function T(){var e,t,n,a,r,s,c=(t=!1,a=n=[],r=function(){a===n&&(a=n.slice())},s=function(){t=!0;var e=n=a;a=[],e.forEach((function(e){e(P)}))},(e={})[i.e]=!0,e.put=function(e){if(!t)if(S(e))s();else for(var r=n=a,c=0,o=r.length;c<o;c++){var l=r[c];l[i.d](e)&&(l.cancel(),l(e))}},e.take=function(e,n){void 0===n&&(n=N),t?e(P):(e[i.d]=n,r(),a.push(e),e.cancel=Object(u.K)((function(){r(),Object(u.N)(a,e)})))},e.close=s,e),o=c.put;return c.put=function(e){e[i.f]?o(e):b((function(){o(e)}))},c}function I(e,t){var n=e[i.a];Object(l.c)(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var M,L=0,R=function(){return++L};function A(e){e.isRunning()&&e.cancel()}var F=((M={})[u.r]=function(e,t,n){var a=t.channel,r=void 0===a?e.channel:a,s=t.pattern,c=t.maybe,o=function(e){e instanceof Error?n(e,!0):!S(e)||c?n(e):n(i.k)};try{r.take(o,Object(l.f)(s)?C(s):null)}catch(e){return void n(e,!0)}n.cancel=o.cancel},M[u.n]=function(e,t,n){var a=t.channel,r=t.action,s=t.resolve;b((function(){var t;try{t=(a?a.put:e.dispatch)(r)}catch(e){return void n(e,!0)}s&&Object(l.i)(t)?I(t,n):n(t)}))},M[u.a]=function(e,t,n,a){var r=a.digestEffect,s=L,i=Object.keys(t);if(0!==i.length){var c=Object(u.H)(t,n);i.forEach((function(e){r(t[e],s,c[e],e)}))}else n(Object(l.a)(t)?[]:{})},M[u.p]=function(e,t,n,a){var r=a.digestEffect,s=L,i=Object.keys(t),c=Object(l.a)(t)?Object(u.I)(i.length):{},o={},d=!1;i.forEach((function(e){var t=function(t,a){d||(a||Object(u.O)(t)?(n.cancel(),n(t,a)):(n.cancel(),d=!0,c[e]=t,n(c)))};t.cancel=u.P,o[e]=t})),n.cancel=function(){d||(d=!0,i.forEach((function(e){return o[e].cancel()})))},i.forEach((function(e){d||r(t[e],s,o[e],e)}))},M[u.c]=function(e,t,n,a){var r=t.context,s=t.fn,i=t.args,c=a.task;try{var o=s.apply(r,i);if(Object(l.i)(o))return void I(o,n);if(Object(l.d)(o))return void H(e,o,c.context,L,Object(u.F)(s),!1,n);n(o)}catch(e){n(e,!0)}},M[u.v]=function(e,t,n){var a=t.context,r=t.fn,s=t.args;try{var i=function(e,t){Object(l.m)(e)?n(t):n(e,!0)};r.apply(a,s.concat(i)),i.cancel&&(n.cancel=i.cancel)}catch(e){n(e,!0)}},M[u.f]=function(e,t,n,a){var r=t.context,s=t.fn,i=t.args,c=t.detached,o=a.task,d=function(e){var t=e.context,n=e.fn,a=e.args;try{var r=n.apply(t,a);if(Object(l.d)(r))return r;var s=!1;return Object(u.M)((function(e){return s?{value:e,done:!0}:(s=!0,{value:r,done:!Object(l.i)(r)})}))}catch(e){return Object(u.M)((function(){throw e}))}}({context:r,fn:s,args:i}),p=function(e,t){return e.isSagaIterator?{name:e.meta.name}:Object(u.F)(t)}(d,s);v((function(){var t=H(e,d,o.context,L,p,c,void 0);c?n(t):t.isRunning()?(o.queue.addTask(t),n(t)):t.isAborted()?o.queue.abort(t.error()):n(t)}))},M[u.h]=function(e,t,n,a){var r=a.task,s=function(e,t){if(e.isRunning()){var n={task:r,cb:t};t.cancel=function(){e.isRunning()&&Object(u.N)(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(Object(l.a)(t)){if(0===t.length)return void n([]);var i=Object(u.H)(t,n);t.forEach((function(e,t){s(e,i[t])}))}else s(t,n)},M[u.x]=function(e,t,n,a){var r=a.task;t===i.h?A(r):Object(l.a)(t)?t.forEach(A):A(t),n()},M[u.q]=function(e,t,n){var a=t.selector,r=t.args;try{n(a.apply(void 0,[e.getState()].concat(r)))}catch(e){n(e,!0)}},M[u.z]=function(e,t,n){var a=t.pattern,r=x(t.buffer),s=C(a),i=function t(n){S(n)||e.channel.take(t,s),r.put(n)},c=r.close;r.close=function(){i.cancel(),c()},e.channel.take(i,s),n(r)},M[u.B]=function(e,t,n,a){n(a.task.isCancelled())},M[u.C]=function(e,t,n){t.flush(n)},M[u.g]=function(e,t,n,a){n(a.task.context[t])},M[u.D]=function(e,t,n,a){var r=a.task;Object(u.L)(r.context,t),n()},M);function D(e,t){return e+"?"+t}function U(e){var t=e.name,n=e.location;return n?t+"  "+D(n.fileName,n.lineNumber):t}var B=null,q=[],z=function(){B=null,q.length=0},V=function(){var e,t,n=q[0],a=q.slice(1),r=n.crashedEffect?function(e){var t=Object(u.R)(e);return t?t.code+"  "+D(t.fileName,t.lineNumber):""}(n.crashedEffect):null;return["The above error occurred in task "+U(n.meta)+(r?" \n when executing effect "+r:"")].concat(a.map((function(e){return"    created by "+U(e.meta)})),[(e=q,t=Object(u.Q)((function(e){return e.cancelledTasks}),e),t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):"")]).join("\n")};function W(e,t,n,a,r,s,c){var o;void 0===c&&(c=u.P);var l,d,p=0,f=null,h=[],g=Object.create(n),b=function(e,t,n){var a,r=[],s=!1;function i(e){t(),o(),n(e,!0)}function c(t){r.push(t),t.cont=function(c,o){s||(Object(u.N)(r,t),t.cont=u.P,o?i(c):(t===e&&(a=c),r.length||(s=!0,n(a))))}}function o(){s||(s=!0,r.forEach((function(e){e.cont=u.P,e.cancel()})),r=[])}return c(e),{addTask:c,cancelAll:o,abort:i,getTasks:function(){return r}}}(t,(function(){h.push.apply(h,b.getTasks().map((function(e){return e.meta.name})))}),v);function v(t,n){if(n){if(p=2,(s={meta:r,cancelledTasks:h}).crashedEffect=B,q.push(s),y.isRoot){var a=V();z(),e.onError(t,{sagaStack:a})}d=t,f&&f.reject(t)}else t===i.j?p=1:1!==p&&(p=3),l=t,f&&f.resolve(t);var s;y.cont(t,n),y.joiners.forEach((function(e){e.cb(t,n)})),y.joiners=null}var y=((o={})[i.i]=!0,o.id=a,o.meta=r,o.isRoot=s,o.context=g,o.joiners=[],o.queue=b,o.cancel=function(){0===p&&(p=1,b.cancelAll(),v(i.j,!1))},o.cont=c,o.end=v,o.setContext=function(e){Object(u.L)(g,e)},o.toPromise=function(){return f||(f=m(),2===p?f.reject(d):0!==p&&f.resolve(l)),f.promise},o.isRunning=function(){return 0===p},o.isCancelled=function(){return 1===p||0===p&&1===t.status},o.isAborted=function(){return 2===p},o.result=function(){return l},o.error=function(){return d},o);return y}function H(e,t,n,a,r,s,c){var o=e.finalizeRunEffect((function(t,n,a){if(Object(l.i)(t))I(t,a);else if(Object(l.d)(t))H(e,t,p.context,n,r,!1,a);else if(t&&t[i.c]){(0,F[t.type])(e,t.payload,a,m)}else a(t)}));f.cancel=u.P;var d={meta:r,cancel:function(){0===d.status&&(d.status=1,f(i.j))},status:0},p=W(e,d,n,a,r,s,c),m={task:p,digestEffect:h};return c&&(c.cancel=p.cancel),f(),p;function f(e,n){try{var r;n?(r=t.throw(e),z()):Object(u.S)(e)?(d.status=1,f.cancel(),r=Object(l.c)(t.return)?t.return(i.j):{done:!0,value:i.j}):r=Object(u.T)(e)?Object(l.c)(t.return)?t.return():{done:!0}:t.next(e),r.done?(1!==d.status&&(d.status=3),d.cont(r.value)):h(r.value,a,f)}catch(e){if(1===d.status)throw e;d.status=2,d.cont(e,!0)}}function h(t,n,a,r){void 0===r&&(r="");var s,i=R();function c(n,r){s||(s=!0,a.cancel=u.P,e.sagaMonitor&&(r?e.sagaMonitor.effectRejected(i,n):e.sagaMonitor.effectResolved(i,n)),r&&function(e){B=e}(t),a(n,r))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:i,parentEffectId:n,label:r,effect:t}),c.cancel=u.P,a.cancel=function(){s||(s=!0,c.cancel(),c.cancel=u.P,e.sagaMonitor&&e.sagaMonitor.effectCancelled(i))},o(t,i,c)}}function K(e,t){var n=e.channel,a=void 0===n?T():n,r=e.dispatch,s=e.getState,i=e.context,c=void 0===i?{}:i,o=e.sagaMonitor,l=e.effectMiddlewares,p=e.onError,m=void 0===p?u.b:p;for(var f=arguments.length,h=new Array(f>2?f-2:0),g=2;g<f;g++)h[g-2]=arguments[g];var b=t.apply(void 0,h);var y,E=R();if(o&&(o.rootSagaStarted=o.rootSagaStarted||u.P,o.effectTriggered=o.effectTriggered||u.P,o.effectResolved=o.effectResolved||u.P,o.effectRejected=o.effectRejected||u.P,o.effectCancelled=o.effectCancelled||u.P,o.actionDispatched=o.actionDispatched||u.P,o.rootSagaStarted({effectId:E,saga:t,args:h})),l){var O=d.c.apply(void 0,l);y=function(e){return function(t,n,a){return O((function(t){return e(t,n,a)}))(t)}}}else y=u.e;var j={channel:a,dispatch:Object(u.d)(r),getState:s,sagaMonitor:o,onError:m,finalizeRunEffect:y};return v((function(){var e=H(j,b,c,E,Object(u.F)(t),!0,void 0);return o&&o.effectResolved(E,e),e}))}var G=function(e){void 0===e&&(e={});var t,n=e,a=n.context,r=void 0===a?{}:a,s=n.channel,i=void 0===s?T():s,l=n.sagaMonitor,d=Object(o.a)(n,["context","channel","sagaMonitor"]);function p(e){var n=e.getState,a=e.dispatch;return t=K.bind(null,Object(c.a)({},d,{context:r,channel:i,dispatch:a,getState:n,sagaMonitor:l})),function(e){return function(t){l&&l.actionDispatched&&l.actionDispatched(t);var n=e(t);return i.put(t),n}}}return p.run=function(){return t.apply(void 0,arguments)},p.setContext=function(e){Object(u.L)(r,e)},p},Z=e=>t=>n=>{try{return t(n)}catch(t){console.error("Exception in a reducer!",t),"Sentry"in window&&Sentry.withScope(a=>{a.setExtras({action:n,state:e.getState()}),Sentry.captureException(t)})}},Q=n("yPYI"),J=n("MP+E");function $(e,t){switch(t.type){case J.a.conversations.assign.successType:case J.a.conversations.assignMe.successType:case J.a.messages.create.successType:e.byContactId[t.contactId]=t.result.conversation;break;case J.a.conversations.changeStatus.successType:case J.a.conversations.read.successType:case J.a.conversations.retrieve.successType:e.byContactId[t.contactId]=t.result;break;case J.a.contacts.update.successType:e.byContactId[t.contactId].contact=t.result}}function Y(e,t){e.byContactId[t.contactId]=t.payload,-1===e.ids.indexOf(t.contactId)&&e.ids.unshift(t.contactId)}var X=Object(Q.b)({byContactId:{},ids:[],hasNext:!0,next:null},{[J.a.conversations.list.success]:(e,t)=>{t.query&&t.query.next||(e.ids=[]),e.hasNext=t.result.hasNext,e.next=t.result.next,t.result.results.forEach(t=>{e.byContactId[t.contact._id]=t,-1===e.ids.indexOf(t.contact._id)&&e.ids.push(t.contact._id)})},[J.a.conversations.assign.successType]:$,[J.a.conversations.assignMe.successType]:$,[J.a.conversations.changeStatus.successType]:$,[J.a.conversations.read.successType]:$,[J.a.conversations.retrieve.successType]:$,[J.a.contacts.update.successType]:$,[J.a.listenUpdateConversation]:Y,[J.a.listenCreateConversation]:Y});const ee=(e,t)=>{const n={};for(const[t,a]of Object.entries(e))n[a._id]=t;const a=Array.from(e);for(const e of t){const t=n[e._id];void 0!==t?a[t]=e:a.push(e)}return a.sort((e,t)=>t.received-e.received)};function te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{hasNext:!0,next:null,items:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.a.conversations.messages.successType:return{...e,hasNext:t.result.messages.hasNext,next:t.result.messages.next,items:t.query&&t.query.next?ee(e.items,t.result.messages.results):[...t.result.messages.results]};case J.a.conversations.sendMessage.successType:case J.a.conversations.sendAttachment.successType:case J.a.conversations.assign.successType:case J.a.conversations.assignMe.successType:return{...e,items:t.result.messages.concat(e.items)};case J.a.listenNewMessages.type:return{...e,items:ee(t.payload,e.items)};default:return e}}var ne=Object(Q.b)({},{[J.a.conversations.unread.success]:(e,t)=>t.result,[J.a.conversations.read.success]:(e,t)=>{e[t.contactId]=0}});var ae=Object(Q.b)({all:0,unassigned:0,my:0},{[J.a.conversations.statistics.success]:(e,t)=>t.result.conversations}),re=Object(d.b)({list:X,messages:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.a.conversations.messages.successType:case J.a.conversations.sendMessage.successType:case J.a.conversations.sendAttachment.successType:case J.a.conversations.assign.successType:case J.a.conversations.assignMe.successType:case J.a.listenNewMessages.type:return{...e,[t.contactId]:te(e[t.contactId],t)};default:return e}},unread:ne,statistics:ae}),se=n("UhZ4"),ie=n.n(se);const ce={user:null,markers:[],token:ie.a.get("accessToken")};var oe=n("b9Gi"),le=n("okl4");function ue(e,t){e.card.domain=t.result.domain}function de(e,t){e.card=t.result}var pe=Object(Q.b)({card:{}},{[J.a.card.update.success]:de,[J.a.card.patch.success]:de,[J.a.card.messengers.create.success]:(e,t)=>{e.card.messengers.push(t.result)},[J.a.card.messengers.update.success]:(e,t)=>{Object(Q.d)(e.card.messengers,Object(le.b)(t.messengerId),t.result)},[J.a.card.messengers.delete.success]:(e,t)=>{Object(Q.c)(e.card.messengers,Object(le.b)(t.messengerId))},[J.a.card.messengers.sort.success]:(e,t)=>{e.card.messengers=t.result},[J.a.card.links.create.success]:(e,t)=>{e.card.links.push(t.result)},[J.a.card.links.update.success]:(e,t)=>{Object(Q.d)(e.card.links,Object(le.b)(t.linkId),t.result)},[J.a.card.links.delete.success]:(e,t)=>{Object(Q.c)(e.card.links,Object(le.b)(t.linkId))},[J.a.card.domain.connect.success]:ue,[J.a.card.domain.disconnect.success]:ue,[J.a.products.create.success]:e=>{e.card.products.count++},[J.a.products.delete.success]:e=>{e.card.products.count=Math.max(0,e.card.products.count-1)}});var me=Object(Q.b)({integrations:[]},{[J.a.integrations.create.success]:(e,t)=>{e.integrations.push(t.result.integration)},[J.a.integrations.delete.success]:(e,t)=>{Object(Q.c)(e.integrations,Object(le.b)(t.integrationId))}});var fe=Object(Q.b)({team:[]},{[J.a.team.create.success]:(e,t)=>{e.team.push(t.result)},[J.a.team.update.success]:(e,t)=>{Object(Q.d)(e.team,Object(le.b)(t.memberId),t.result)},[J.a.team.delete.success]:(e,t)=>{Object(Q.c)(e.team,Object(le.b)(t.memberId))}}),he=Object(Q.b)([],{[J.a.bots.create.success]:(e,t)=>{e.push(t.result)},[J.a.bots.update.success]:(e,t)=>{Object(Q.d)(e,Object(le.b)(t.botId),t.result)},[J.a.bots.delete.success]:(e,t)=>{Object(Q.c)(e,Object(le.b)(t.botId))}});var ge=Object(Q.b)({replies:[]},{[J.a.replies.list.success]:(e,t)=>{e.replies=t.result},[J.a.replies.create.success]:(e,t)=>{e.replies.unshift(t.result)},[J.a.replies.update.success]:(e,t)=>{Object(Q.d)(e.replies,Object(le.b)(t.replyId),t.result)},[J.a.replies.delete.success]:(e,t)=>{Object(Q.c)(e.replies,Object(le.b)(t.replyId))}});var be=Object(Q.b)({quantities:{websites:0,templates:0}},{[J.a.websites.list.success]:(e,t)=>{e&&(e.quantities.websites=t.result.length)},[J.a.websites.create.success]:e=>{e.quantities.websites++},[J.a.websites.scaffold.success]:e=>{e.quantities.websites++},[J.a.websites.delete.success]:e=>{e.quantities.websites=Math.max(0,e.quantities.websites-1)},[J.a.pageTemplates.create.success]:e=>{e.quantities.templates++},[J.a.pageTemplates.delete.success]:e=>{e.quantities.templates=Math.max(0,e.quantities.templates-1)}});var ve=Object(Q.b)({crm:{defaultCurrency:"USD",onBoarding:!1}},{[J.a.crm.settings.update.success]:(e,t)=>{e.crm=t.result}});const ye=[];var Ee=Object(Q.b)({isFetching:!0,result:null,error:null},{[J.a.billing.details.request]:(e,t)=>{e.isFetching=!0,e.error=null},[J.a.billing.details.success]:(e,t)=>{e.isFetching=!1,e.result=t.result},[J.a.billing.details.failure]:(e,t)=>{e.isFetching=!1,e.error=t.error},[J.a.billing.update.success]:(e,t)=>{e.result=t.result},[J.a.billing.applyCoupon.success]:(e,t)=>{e.result=t.result}});const Oe=e=>{e.isFetching=!0},je=e=>{e.isFetching=!1},we={collectionId:null,items:[],next:null,filter:{name:"",collectionId:""},guid:0,isFetching:!1};var _e=Object(Q.b)(we,{[J.a.products.create.request]:Oe,[J.a.products.update.request]:Oe,[J.a.products.delete.request]:Oe,[J.a.products.sort.request]:Oe,[J.a.products.list.failure]:je,[J.a.products.retrieve.failure]:je,[J.a.products.create.failure]:je,[J.a.products.update.failure]:je,[J.a.products.delete.failure]:je,[J.a.products.sort.failure]:je,[J.a.products.create.success]:(e,t)=>{je(e),e.items.unshift(t.result)},[J.a.products.retrieve.success]:(e,t)=>{je(e),Object(Q.d)(e.items,Object(le.b)(t.productId),t.result)},[J.a.products.update.success]:(e,t)=>{je(e),Object(Q.d)(e.items,Object(le.b)(t.productId),t.result)},[J.a.products.delete.success]:(e,t)=>{je(e),Object(Q.c)(e.items,Object(le.b)(t.productId))},[J.a.products.list.request]:(e,t)=>{var n;e.isFetching=!0,(e.guid<(t.guid||0)||null===(n=t.query)||void 0===n||!n.next)&&(e.items=[])},[J.a.products.list.success]:(e,t)=>{var n;if(t.guid&&t.guid<e.guid)return e;e.collectionId=t.collection||null,e.items=null!==(n=t.query)&&void 0!==n&&n.next?e.items.concat(t.result.results):t.result.results,e.next=t.result.next,e.isFetching=!1},[J.a.products.sort.success]:(e,t)=>{e.items=t.result,e.isFetching=!1},SET_PRODUCTS_FILTER:(e,t)=>{e.filter.name=t.payload.name,e.filter.collectionId=t.payload.collectionId,e.next=null,e.guid=e.guid+1},CLEAR_PRODUCTS_STORE:()=>we});const ke=e=>{e.isFetching=!0},Ne=e=>{e.isFetching=!1},Ce={collectionId:null,items:[],next:null,filter:{name:"",collectionId:""},guid:0,isFetching:!1};var Pe=Object(Q.b)(Ce,{[J.a.products.create.request]:ke,[J.a.products.update.request]:ke,[J.a.products.delete.request]:ke,[J.a.products.sort.request]:ke,[J.a.products.sublist.failure]:Ne,[J.a.products.retrieve.failure]:Ne,[J.a.products.create.failure]:Ne,[J.a.products.update.failure]:Ne,[J.a.products.delete.failure]:Ne,[J.a.products.sort.failure]:Ne,[J.a.products.create.success]:(e,t)=>{Ne(e),e.items.unshift(t.result)},[J.a.products.retrieve.success]:(e,t)=>{Ne(e),Object(Q.d)(e.items,Object(le.b)(t.productId),t.result)},[J.a.products.update.success]:(e,t)=>{Ne(e),Object(Q.d)(e.items,Object(le.b)(t.productId),t.result)},[J.a.products.delete.success]:(e,t)=>{Ne(e),Object(Q.c)(e.items,Object(le.b)(t.productId))},[J.a.products.sublist.request]:(e,t)=>{var n;e.isFetching=!0,(e.guid<(t.guid||0)||null===(n=t.query)||void 0===n||!n.next)&&(e.items=[])},[J.a.products.sublist.success]:(e,t)=>{var n;if(t.guid&&t.guid<e.guid)return e;e.collectionId=t.collection||null,e.items=null!==(n=t.query)&&void 0!==n&&n.next?e.items.concat(t.result.results):t.result.results,e.next=t.result.next,e.isFetching=!1},[J.a.products.sort.success]:(e,t)=>{e.items=t.result,e.isFetching=!1},[J.a.collections.products.update]:e=>{e.guid++},SET_PRODUCTS_SUB_FILTER:(e,t)=>{e.filter.name=t.payload.name,e.filter.collectionId=t.payload.collectionId,e.next=null,e.guid=e.guid+1},CLEAR_PRODUCTS_SUB_STORE:()=>Ce});const Se=(e,t)=>({botId:e||null,currentPath:[{id:t?t.botData.startResponseId:1}]}),xe=Se();var Te=Object(Q.b)(xe,{SELECT_BOT:(e,t)=>{let{botId:n,bot:a}=t;e.botId!==n&&Object.assign(e,Se(n,a))},SET_DIALOG_PATH:(e,t)=>{let{path:n}=t;e.currentPath=n},OPEN_DIALOG_BRANCH:(e,t)=>{let{parentResponseID:n,nextResponseID:a,content:r}=t;const s=[];for(const t of e.currentPath)if(s.push(t),t.id===n){a&&s.push({parentResponseID:n,id:a,reaction:{content:r}});break}e.currentPath=s}});const Ie=e=>t=>{t.isFetching=e},Me=(e,t)=>{{const n=t.result.items.filter(e=>!e.website);return{...e,...t.result,items:n,isFetching:!1,lastRequest:Date.now()}}};var Le=Object(Q.b)({items:[],isFetching:!1,allPublishedProductsCount:0,allCollectionsCount:0,publishedCollectionsCount:0,allProductsCount:0,lastRequest:null},{[J.a.collections.list.request]:Ie(!0),[J.a.collections.retrieve.request]:Ie(!0),[J.a.collections.create.request]:Ie(!0),[J.a.collections.update.request]:Ie(!0),[J.a.collections.delete.request]:Ie(!0),[J.a.collections.products.update.request]:Ie(!0),[J.a.collections.sort.request]:Ie(!0),[J.a.products.migrate.request]:Ie(!0),[J.a.collections.list.failure]:Ie(!1),[J.a.collections.retrieve.failure]:Ie(!1),[J.a.collections.create.failure]:Ie(!1),[J.a.collections.update.failure]:Ie(!1),[J.a.collections.delete.failure]:Ie(!1),[J.a.collections.products.update.failure]:Ie(!1),[J.a.collections.sort.failure]:Ie(!1),[J.a.products.migrate.failure]:Ie(!1),[J.a.collections.retrieve.success]:Ie(!1),[J.a.collections.list.success]:Me,[J.a.collections.sort.success]:Me,[J.a.collections.update.success]:Me,[J.a.collections.create.success]:Me,[J.a.collections.delete.success]:Me,[J.a.collections.products.update.success]:Me,[J.a.products.migrate.success]:Me,[J.a.products.sort.success]:e=>({...e,lastRequest:Date.now()})}),Re=n("cGUp"),Ae=n.n(Re),Fe=n("+rr2");const De={mobileMenuVisible:!1,pagePreview:null,isClientExpired:!1,conversationsFilter:{status:"open",assign:"all",searchValue:"",showNewFirst:!0,...ie.a.get("conversationsFilter")||{}},unsubscribe:{status:"initial"},isAdvancedStylingMode:ie.a.get("advancedStylingMode")||!1,isMobileContainer:!1,backTrack:"",appTrackingStatus:null};var Ue=Object(Q.b)(De,{[Fe.ui.toggleMobileMenu]:(e,t)=>{e.mobileMenuVisible=t.payload},[Fe.ui.toggleStylingMode]:e=>{e.isAdvancedStylingMode=!e.isAdvancedStylingMode},[Fe.ui.toggleMobileContainer]:(e,t)=>{e.isMobileContainer="boolean"==typeof t.payload?t.payload:!e.isMobileContainer},[Fe.ui.setMessage]:(e,t)=>{e.message=t.payload},[Fe.ui.setConversationsFilter]:(e,t)=>{e.conversationsFilter={...e.conversationsFilter,...t.payload}},[Fe.ui.setPagePreview]:(e,t)=>{e.pagePreview=t.payload},[Fe.ui.setPageBlockPreview]:(e,t)=>{if(t.payload._id)e.pagePreview.blocks=e.pagePreview.blocks.map(e=>e._id===t.payload._id?t.payload:e);else{e.pagePreview.blocks.length>0&&!e.pagePreview.blocks.slice(-1).pop()._id?e.pagePreview.blocks=e.pagePreview.blocks.map(e=>e._id?e:t.payload):e.pagePreview.blocks.push(t.payload)}},[J.a.listenVerifyVersion]:(e,t)=>{e.isClientExpired=t.payload!==Ae.a.version},[J.a.unsubscribe]:(e,t)=>{e.unsubscribe.status="pending"},[J.a.listenSubscriptionCancelled]:(e,t)=>{e.unsubscribe.state="finish"},[Fe.ui.setBackTrack]:(e,t)=>{e.backTrack=t.payload},[Fe.ui.setAppTrackingStatus]:(e,t)=>{e.appTrackingStatus=t.payload}});var Be=Object(Q.b)({socketId:null,isConnected:!1,reconnected:0},{[J.a.listenConnect]:(e,t)=>{e.socketId=t.socketId,e.isConnected=!0},[J.a.listenDisconnect]:e=>{e.socketId=null,e.isConnected=!1},[J.a.listenReconnect]:e=>{e.reconnected++}}),qe=(n("DC3q"),n("0WR7"));n("6WZD");const ze=(e,t,n)=>{const a=[];let r=0;switch(t.kind){case"Custom":for(const{blockId:s}of t.areas){const t=e.blocks.find(Object(qe.a)(s));if(t){const{processed:s,results:i}=ze(e,t,n);r+=s,a.push(...i)}}}const s=n(t);return!1!==s&&(r++,s&&a.push(s)),{processed:r,results:a}},Ve=(e,t)=>e.find(Object(le.b)(t.websiteId)),We=(e,t)=>Ve(e,t).pages,He=(e,t)=>We(e,t).find(Object(le.b)(t.pageId)),Ke=Object(Q.e)({match:"websiteId",prepend:!0}),Ge=Object(Q.e)({collection:We,match:"pageId",onUpdate:e=>{let{state:t,action:n,created:a,deleted:r}=e;const s=((e,t)=>Ve(e,t).menu.items)(t,n);if(a)s.push({enabled:!0,page:a._id,label:""});else if(r){const e=s.findIndex(e=>{let{page:t}=e;return t===n.pageId});e>=0&&s.splice(e,1)}}}),Ze=Object(Q.e)({collection:(e,t)=>He(e,t).blocks,match:"blockId",onUpdate:e=>{let{state:t,action:n}=e;const a=He(t,n);a.enabled||(a.enabled=!0)}}),Qe=(e,t)=>{He(e,t).blocks=t.result},Je=(e,t,n)=>{const a=He(e,t),r=n.map(e=>((e,t)=>ze(e,t,e=>e._id).results)(a,a.blocks.find(Object(le.b)(e)))).flat();if(a.blocks=a.blocks.filter(e=>{let{_id:t}=e;return!r.includes(t)}),!a.blocks.length){const n=Ve(e,t);n.homePageId===a._id?n.enabled=!1:a.enabled=!1}},$e=(e,t)=>{const n=Ve(e,t),a=t.result||{name:""};n.domain=a,n.finalUrl=a.name?"http://"+a.name:n.absoluteUrl};var Ye=Object(Q.b)([],{[J.a.websites.list.success]:(e,t)=>t.result,[J.a.websites.create.success]:Ke,[J.a.websites.scaffold.success]:Ke,[J.a.websites.update.success]:Ke,[J.a.websites.updateHomePage.success]:Ke,[J.a.websites.retrieve.success]:Ke,[J.a.websites.crm.settings.update.success]:Ke,[J.a.websites.delete.success]:Ke,[J.a.websites.domain.update.success]:$e,[J.a.websites.domain.delete.success]:$e,[J.a.pages.applyTemplate.success]:Ke,[J.a.pages.create.success]:Ge,[J.a.pages.update.success]:Ge,[J.a.pages.delete.success]:Ge,[J.a.pages.clone.success]:Ge,[J.a.blocks.create.success]:Ze,[J.a.blocks.update.success]:Ze,[J.a.blocks.toggle.success]:Qe,[J.a.blocks.group.success]:Qe,[J.a.blocks.clone.success]:Qe,[J.a.blocks.sort.success]:Qe,[J.a.blocks.convert.success]:Object(Q.e)({result:e=>e.website}),[J.a.blocks.delete.success]:(e,t)=>Je(e,t,[t.blockId]),[J.a.blocks.deleteMany.success]:(e,t)=>Je(e,t,t.payload.blockId),[J.a.collections.delete.success]:(e,t)=>{const n=t.collectionId;for(const{pages:t}of e)for(const e of t)for(const{kind:t,collections:r}of e.blocks){var a;"Products"===t&&(null!=r&&null!==(a=r.include)&&void 0!==a&&a.includes(n)&&(r.include=r.include.filter(e=>e!==n)))}}});const Xe=e=>t=>{t.isFetching=e};var et=Object(Q.b)({items:[],guid:0,isFetching:!1},{[J.a.pageTemplates.create.request]:Xe(!0),[J.a.pageTemplates.retrieve.request]:Xe(!0),[J.a.pageTemplates.update.request]:Xe(!0),[J.a.pageTemplates.delete.request]:Xe(!0),[J.a.pageTemplates.create.failure]:Xe(!1),[J.a.pageTemplates.update.failure]:Xe(!1),[J.a.pageTemplates.delete.failure]:Xe(!1),[J.a.pageTemplates.list.failure]:Xe(!1),[J.a.pageTemplates.create.success]:(e,t)=>{e.items.unshift(t.result),e.isFetching=!1},[J.a.pageTemplates.retrieve.success]:(e,t)=>{Object(Q.d)(e.items,Object(le.b)(t.templateId),t.result)||e.items.unshift(t.result),e.isFetching=!1},[J.a.pageTemplates.update.success]:(e,t)=>{Object(Q.d)(e.items,Object(le.b)(t.templateId),t.result),e.isFetching=!1},[J.a.pageTemplates.delete.success]:(e,t)=>{Object(Q.c)(e.items,Object(le.b)(t.templateId)),e.isFetching=!1},[J.a.pageTemplates.list.request]:e=>{e.isFetching=!0},[J.a.pageTemplates.list.success]:(e,t)=>{if(t.guid&&t.guid<e.guid)return e;e.items=t.result,e.isFetching=!1}});const tt=e=>t=>{t.isFetching=e},nt=(e,t,n)=>{t&&(e.counts[t]=(e.counts[t]||0)+1),n&&(e.counts[n]=Math.max(0,(e.counts[n]||0)-1)),e.recent=e.counts},at=(e,t)=>{e.isFetching=!1,e.items.find(Object(le.b)(t.feedbackId))||(e.items.unshift(t.result),e.counts.all++,nt(e,t.result.status))},rt=(e,t)=>{const n=e.items.find(Object(le.b)(t.feedbackId));Object(Q.d)(e.items,Object(le.b)(t.feedbackId),t.result),(null==n?void 0:n.status)!==t.result.status&&nt(e,t.result.status,null==n?void 0:n.status),e.isFetching=!1},st={all:[],new:[],processing:[],accepted:[],rejected:[]},it={items:[],next:null,filter:{website:null,status:"new"},recent:{},counts:{all:0,new:0,processing:0,accepted:0,rejected:0},totals:st,tags:[],guid:0,isFetching:!1};var ct=Object(Q.b)(it,{[J.a.feedbacks.create.request]:tt(!0),[J.a.feedbacks.retrieve.request]:tt(!0),[J.a.feedbacks.list.request]:tt(!0),[J.a.feedbacks.update.request]:tt(!0),[J.a.feedbacks.delete.request]:tt(!0),[J.a.feedbacks.create.failure]:tt(!1),[J.a.feedbacks.update.failure]:tt(!1),[J.a.feedbacks.delete.failure]:tt(!1),[J.a.feedbacks.list.failure]:tt(!1),[J.a.feedbacks.recent.success]:(e,t)=>{e.recent=t.result.counts,e.totals={...st,...t.result.totals}},[J.a.feedbacks.create.success]:at,[J.a.feedbacks.retrieve.success]:(e,t)=>{Object(Q.d)(e.items,Object(le.b)(t.feedbackId),t.result)||e.items.unshift(t.result),e.isFetching=!1},[J.a.feedbacks.update.success]:rt,[J.a.feedbacks.delete.success]:(e,t)=>{e.isFetching=!1,e.counts.all=Math.max(0,e.counts.all-1);const n=Object(Q.c)(e.items,Object(le.b)(t.feedbackId));nt(e,null,null==n?void 0:n.status)},[J.a.feedbacks.list.success]:(e,t)=>{let{guid:n,result:a,query:r}=t;if(n&&n<e.guid)return e;e.items=null!=r&&r.next?e.items.concat(a.results):a.results,e.counts=a.counts,e.recent=a.counts,e.totals={...st,...a.totals},e.tags=a.tags,e.next=a.next,e.isFetching=!1},[J.a.orders.update.success]:(e,t)=>{const n=e.items.find(e=>{let{purchase:n}=e;return(null==n?void 0:n._id)===t.orderId});n&&rt(e,{feedbackId:n._id,result:{...n,purchase:t.result}})},[J.a.listenCreateFeedback]:at,[J.a.listenUpdateFeedback]:rt,SET_FEEDBACK_ITEMS_FILTER:(e,t)=>{e.filter=t.payload||{},e.next=null,e.guid=e.guid+1}});const ot=e=>t=>{t.isFetching=e};var lt=Object(Q.b)({items:[],next:null,guid:0,isFetching:!1},{[J.a.users.invites.create.request]:ot(!0),[J.a.users.invites.delete.request]:ot(!0),[J.a.users.invites.create.failure]:ot(!1),[J.a.users.invites.delete.failure]:ot(!1),[J.a.users.invites.list.failure]:ot(!1),[J.a.users.invites.delete.success]:ot(!1),[J.a.users.invites.create.success]:(e,t)=>{e.items.unshift(t.result),e.isFetching=!1},[J.a.users.invites.delete.success]:(e,t)=>{Object(Q.c)(e.items,Object(le.b)(t.inviteId)),e.isFetching=!1},[J.a.users.invites.list.request]:e=>{e.isFetching=!0},[J.a.users.invites.list.success]:(e,t)=>{if(t.guid&&t.guid<e.guid)return e;e.items=t.query&&t.query.next?e.items.concat(t.result.results):t.result.results,e.next=t.result.next,e.isFetching=!1}}),ut=n("uyvO");const dt={price:null,status:ut.a.initial};function pt(e,t){e.price=t.payload.price}function mt(e){e.price=dt.price,e.status=dt.status}var ft=Object(Q.b)(dt,{[Fe.checkout.load]:(e,t)=>{e.status=ut.a.loaded,e.price=t.payload.price},[Fe.checkout.changeCountry]:pt,[Fe.checkout.applyCoupon]:pt,[Fe.checkout.removeCoupon]:pt,[Fe.checkout.completePayment]:(e,t)=>{var n;e.status=null!==(n=t.payload)&&void 0!==n&&n.isPendingReview?ut.a.pending_review:ut.a.complete_payment_successfully},[Fe.checkout.reset]:mt,[Fe.checkout.close]:mt,[Fe.checkout.applyPlan]:e=>{e.status=ut.a.applied_plan}}),ht=n("8hF1");const gt=e=>t=>{t.isFetching=e},bt={isFetching:!1,filter:{},items:[],next:null};var vt=Object(Q.b)(bt,{[J.a.websites.audience.list.request]:gt(!0),[J.a.websites.audience.list.failure]:gt(!1),[J.a.websites.audience.list.success]:(e,t)=>{let{result:n,query:a}=t;e.next=n.next,e.isFetching=!1,null!=a&&a.next?e.items.push(...n.results):e.items=n.results},[ht.b]:(e,t)=>{e.filter=t.payload||{},e.next=null},[ht.a]:()=>bt});var yt=Object(d.b)({conversations:re,currentUser:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.a.users.me.success.type:case J.a.users.updateMyAccount.success.type:return{...e,user:t.result};case J.a.auth.login.success.type:case J.a.auth.getToken.success.type:case J.a.users.create.success.type:case J.a.users.join.success.type:return{...e,...t.result};case J.a.listenUserUpdated.type:return t.user._id!==e.user._id?e:{...e,markers:t.marker?[...e.markers,t.marker]:e.markers,user:{...e.user,...t.user}};default:return e}},workspace:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return Object(oe.a)(e,e=>{switch(t.type){case J.a.workspaces.retrieve.successType:case J.a.workspaces.create.successType:case J.a.workspaces.update.successType:return t.result;case J.a.onboarding.update.successType:e.onboarding=t.result;break;default:pe(e,t),me(e,t),fe(e,t),he(e,t),ge(e,t),be(e,t),ve(e,t)}})},cardStatistics:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.a.card.statistics.success.type:return t.result;default:return e}},billingDetails:Ee,products:_e,subproducts:Pe,collections:Le,invites:lt,websites:Ye,templates:et,feedback:ct,botEditor:Te,ui:Ue,socket:Be,checkout:ft,audience:vt}),Et=n("mZIR"),Ot=n("rS9Z");let jt;jt=n("OiJC").default;const wt=G(),_t=[Ot.a];t.a=e=>{const t=jt(yt,e,[s,wt,..._t,Z]);return wt.run(Et.a),t}},RbiZ:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/visa_light.svg"},Rkv1:function(e,t,n){"use strict";n.d(t,"c",(function(){return Yc})),n.d(t,"d",(function(){return Se.e})),n.d(t,"a",(function(){return Se.b})),n.d(t,"e",(function(){return Se.f})),n.d(t,"b",(function(){return Se.c})),n.d(t,"g",(function(){return Se.g})),n.d(t,"h",(function(){return Se.k})),n.d(t,"f",(function(){return ao})),n("3gnH").b.registerResolver("cards",(function(e){return n("eRWQ")(`./${e}/cards.json`)}));var a=n("kkZN");var r=n("r0ML"),s=n.n(r),i=n("lkLo"),c=n("MSOi"),o=n("yHpL"),l=n("hycj"),u=n("DC3q"),d=n("vMq5"),p=n("Pc05"),m=n.n(p),f=n("63aL"),h=n("1isK"),g=n("cpKZ"),b="_22Yfu2Gg";function v(e){let{url:t,...n}=e;return s.a.createElement("div",Object(g.a)(b,n),t?s.a.createElement("img",{src:t,alt:"preview"}):s.a.createElement(f.o,{size:20,color:"#999"}))}v.defaultProps={url:null};var y="_2qYNvg0w",E="_3JRXcQAC",O="_2Jg2ySsJ",j="_4t1czwm9",w="_3yUdUDaU",_="xn9q95jq",k="_262LsC6D";function N(e){let{accept:t,name:n,onChange:i,onDelete:c,preview:o,previewUrl:l,isUploading:u,innerLabel:d,removable:p,actions:g,style:b}=e;const{t:N}=Object(a.useTranslation)("ui"),C=Object(r.useCallback)(()=>i(null,{}),[i]);return s.a.createElement("div",{className:y,style:b},o||s.a.createElement(v,{url:l}),s.a.createElement("div",{className:k},d),s.a.createElement("div",{className:E},s.a.createElement("div",{className:O,style:{pointerEvents:u?"none":"auto"}},s.a.createElement("div",{style:{opacity:u?0:1}},s.a.createElement("span",null,N(l?"labels.change":"labels.upload")),s.a.createElement("input",{type:"file",className:w,accept:t,name:n,onChange:i})),u&&s.a.createElement("div",{className:_},s.a.createElement(h.a,{color:"white",size:14}))),g,(l&&p||"force"===p)&&s.a.createElement("div",{className:m()(O,j),onClick:c||C},s.a.createElement(f.x,{size:14}))))}N.defaultProps={className:"",accept:"image/png,image/x-png,image/jpeg",isUploading:!1,previewUrl:null,innerLabel:"Image",removable:!1,preview:null,actions:null,onDelete:null};var C=n("I1kg");function P(){return(P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function S(e){let{as:t,upload:n,name:a,previewName:i,onChange:c,children:o,...p}=e;const{setFieldError:m,setFieldValue:f,setFieldTouched:h,getFieldMeta:g}=Object(l.d)(),{error:b}=g(a),{run:v,pending:y,getValidationError:E}=(e=>{let{name:t,upload:n,onChange:a}=e;return Object(d.a)(async(e,r)=>{const s=Object(u.a)(e,"target.files.0");s?a(await n({payload:s,field:t})):r&&a(r)})})({name:a,upload:n,onChange:Object(r.useCallback)(e=>{c?c(e):(f(a,e.filename||""),i&&f(i,e.url||""),h(a,!0,!1))},[a,i,c])}),O=E(a)||b;return Object(r.useEffect)(()=>{O&&O!==b&&(m(a,O),h(a,!0,!1))},[O,b]),s.a.createElement(C.a,P({name:a},p),e=>{let{field:n}=e;return s.a.createElement(t,P({},n,{isUploading:y,preview:"function"==typeof o?o({isFetching:y}):o,onChange:v}))})}S.defaultProps={as:N};var x=n("6dgs"),T=n("QD+E"),I=n("Qg6Y"),M=n("yW3b"),L="_33hV2cir";function R(){return(R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const A=e=>{let{styled:t,...n}=e;const{t:r}=Object(a.useTranslation)("ui");return"button"===t?s.a.createElement(M.a,R({size:"small",noborder:!0,btnStyle:"transparent"},n),r("button.cancel")):"backIcon"===t?s.a.createElement("div",{className:L},s.a.createElement(M.a,R({size:"small",noborder:!0,btnStyle:"transparent"},n))):null};A.defaultProps={styled:"button"};var F=A,D=n("OsH9"),U=n("L8js"),B=n("SVdZ"),q=n("vGY9");const z={id:0};var V={content:"_3uxagRdW"};function W(e){let{cancel:t,leave:n}=e;const{t:r}=Object(a.useTranslation)("ui");return s.a.createElement("div",{className:V.root},s.a.createElement("div",{className:V.content},s.a.createElement("p",null,r("NavigationGuardMessage.message"))),s.a.createElement("div",null,s.a.createElement(M.a,{type:"button",fullWidth:!0,btnStyle:"secondary2",onClick:t,style:{marginBottom:12}},r("NavigationGuardMessage.buttons.goBack")),s.a.createElement(M.a,{type:"button",fullWidth:!0,btnStyle:"danger",onClick:n},r("NavigationGuardMessage.buttons.exitNoSave"))))}var H="_1JTINM45",K="tmuRH_jv",G="_1lhYpV-D",Z="LZLoelqH",Q="_2wImQsXV";const J=e=>{e.preventDefault(),e.stopPropagation()};function $(e){let{blocked:t,forbid:n,children:a,overlay:c}=e;const{isBlocking:o,wasBlocking:l,cancel:u,leave:d}=(e=>{let{blocked:t,forbid:n}=e;const a=Object(i.g)(),[s,c]=Object(r.useState)(null),[o,l]=Object(r.useState)(!1),[u]=Object(r.useState)(()=>"blocker-"+ ++z.id),d=Object(B.a)(),p=!!s;Object(r.useEffect)(()=>{if(t)return q.a.subscribe(a,u,e=>{d()?(c(()=>e),l(!0)):q.a.unsubscribe(u)}).when(n),()=>{q.a.unsubscribe(u)}},[u,t,n]);const m=Object(r.useCallback)(e=>{s(e),e&&q.a.unsubscribe(u),d()&&(c(null),e||l(!1))},[s]),f=Object(r.useCallback)(()=>m(!1),[m]),h=Object(r.useCallback)(()=>m(!0),[m]);return{isBlocking:p,wasBlocking:o,uid:u,cancel:f,leave:h}})({blocked:t,forbid:n});return o?s.a.createElement("div",{className:H},s.a.createElement("div",{className:K},a),s.a.createElement("div",{className:G,onClick:u},c?c({cancel:u,leave:d,wasBlocking:l}):s.a.createElement("div",{className:Z,onClick:J},s.a.createElement(U.a,{className:Q},s.a.createElement(W,{cancel:u,leave:d}))))):a}function Y(){return(Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function X(e){const{dirty:t,status:n}=Object(l.d)(),a="success"!==n&&t;return s.a.createElement($,Y({blocked:a},e))}var ee=n("WYuZ");function te(e){let{children:t,...n}=e;return Object(r.useEffect)(()=>{ee.b.getInstance().notify(t,n)},[t,n]),null}function ne(){return(ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ae(e){return s.a.createElement(te,ne({showClose:!0},e))}var re=n("A7QF"),se=n("kciy"),ie=n("kVuv"),ce=n("oZLZ"),oe=n("tdCx"),le=n("E8QZ"),ue=n("Yr7G"),de=n("j68g"),pe=n("aEvj");function me(){return(me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const fe=e=>{var t;let{plan:n,children:a,...r}=e;return s.a.createElement(pe.a,me({badgeStyle:"primary"},r),a,(null===(t=Object(de.a)(n))||void 0===t?void 0:t.name)||"PRO")};var he="_2Vv1oXD_",ge="_3gKMPKOt",be="sAI1bh56",ve="EIpqgJnL",ye="_37s0qJ_e",Ee="_1MKzTlyH",Oe="RhhAmBsv";const je=e=>{let{children:t,overlay:n,striped:a,dashed:r,...i}=e;return s.a.createElement("div",{className:m()(he,a&&ve,r&&Ee)},s.a.createElement("div",Object(g.a)(ge,i),t&&s.a.createElement("div",{className:Oe},t)),s.a.createElement("div",{className:be},s.a.createElement("div",{className:ye},n)))},we=e=>{let{children:t,warning:n}=e;const{t:r}=Object(a.useTranslation)("ui");return n?s.a.createElement(je,{overlay:s.a.createElement(s.a.Fragment,null,s.a.createElement(fe,{plan:n.target},s.a.createElement(ue.h,{size:8})," "),s.a.createElement("div",null,r(`NoAccess.${n.code}.heading`,{target:n.target||"pro"})))},t):t||null};var _e=n("oxvr");function ke(){return(ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const Ne=s.a.createContext();function Ce(e){let{children:t,overlay:n,noVisuals:a,fullWidth:c=!0,modal:o=!0,...l}=e;const{isPresented:u,warning:d,hide:p}=Object(oe.b)(),m=Object(r.useContext)(Ne),f=u&&m===d,h=(null==d?void 0:d.target)&&"/billing/plans/"+(null==d?void 0:d.target),g=n&&!o,b=null!=n&&n.code?n:d,v=g?b:d;return u&&g&&v?s.a.createElement(we,ke({warning:v},l),t):o?s.a.createElement(s.a.Fragment,null,a&&h&&s.a.createElement(i.a,{to:h}),s.a.createElement(Ne.Provider,{value:v},t),s.a.createElement(ce.a,null,u&&!f&&s.a.createElement(_e.a,{fullWidth:c,onClose:p,padding:!1},s.a.createElement(le.a,ke({reason:v,onCancel:p},l))))):u?s.a.createElement(le.a,ke({reason:v,onCancel:p},l)):t}var Pe=n("r1xb"),Se=n("DkZq");function xe(e){let{children:t,title:n,backPath:c,successRedirectPath:d}=e;const{api:p}=Object(o.a)(),{t:m}=Object(a.useTranslation)("cards"),{card:f}=Object(I.a)(),{updatePreview:h}=Object(Se.m)(),g=Object(r.useMemo)(()=>({profile:{fullname:Object(u.a)(f,"profile.fullname",""),website:{enabled:Object(u.a)(f,"profile.website.enabled",!1),title:Object(u.a)(f,"profile.website.title",""),url:Object(u.a)(f,"profile.website.url","")},description:Object(u.a)(f,"profile.description",""),category:Object(u.a)(f,"profile.category",""),url:Object(u.a)(f,"profile.url","")},design:{photo:Object(u.a)(f,"design.photo"),photoUrl:Object(u.a)(f,"design.photoUrl"),background:{type:Object(u.a)(f,"design.background.type","color"),color:Object(u.a)(f,"design.background.color","#2F3542"),image:Object(u.a)(f,"design.background.image"),imageUrl:Object(u.a)(f,"design.background.imageUrl")},branding:Object(u.a)(f,"design.branding",!1)},analytics:{facebook:Object(u.a)(f,"analytics.facebook",""),google:Object(u.a)(f,"analytics.google",""),yandex:Object(u.a)(f,"analytics.yandex","")},seo:{title:Object(u.a)(f,"seo.title",""),description:Object(u.a)(f,"seo.description","")}}),[f]),b=Object(r.useCallback)(e=>p.card.update({payload:{...f,...e}}),[f]),v=s.a.createElement(F,{tag:T.c,to:c,styled:"backIcon"});return s.a.createElement(D.a,{initialValues:g,onSubmit:b,onChange:h},e=>s.a.createElement(X,null,"success"===e.status&&s.a.createElement(s.a.Fragment,null,s.a.createElement(ae,null,m("CardEditor.saved")),s.a.createElement(i.a,{to:d})),s.a.createElement(Se.h,null,s.a.createElement(re.a,{heading:n,leftButton:v,rightButton:s.a.createElement(se.a,null)}),s.a.createElement(ie.a,null,s.a.createElement(Ce,{modal:!1},s.a.createElement(l.a,null,Object(Pe.a)(t,e)))))))}xe.defaultProps={backPath:"/p/edit",successRedirectPath:"/p/edit"};var Te=xe;var Ie=function(){const{t:e}=Object(a.useTranslation)("cards"),t=Object(o.a)();return s.a.createElement(Te,{title:e("AvatarEdit.title")},n=>{let{values:a}=n;return s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(S,{accept:"image/png,image/x-png,image/jpeg",as:x.h,name:"design.photo",previewName:"design.photoUrl",previewUrl:a.design.photoUrl,buttonLabel:e("designEdit.change_photo"),upload:t.api.card.uploadAvatar}),s.a.createElement(x.d,null,e("FieldTip.avatar")))})},Me=n("ke/A"),Le="_15nFQ69B";function Re(){return(Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ae(e){return s.a.createElement(Me.a,Re({styled:"toggle"},Object(g.a)(Le,e)))}var Fe="_9175EaG4";function De(){return(De=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ue(e){let{label:t,onChange:n,...a}=e;return s.a.createElement(C.a,a,e=>{let{field:{value:a,name:r,...i},form:{setFieldValue:c},makeLabel:o}=e;return s.a.createElement(Ae,De({},i,{name:r,checked:a,placeholder:o(t,{className:Fe}),onChange:e=>{const t=!!e.target.checked;c(r,t),n&&n(r,t)}}))})}var Be=function(){const{t:e}=Object(a.useTranslation)("cards");return s.a.createElement(Te,{title:e("BrandingEdit.title"),backPath:"/p/settings",successRedirectPath:"/p/settings"},s.a.createElement(Ue,{name:"design.branding",label:e("BrandingEdit.labels.enabled"),restrictRule:"brand:edit"}),s.a.createElement(x.d,null,e("FieldTip.branding")))},qe=n("tiw5"),ze=n.n(qe),Ve=n("nOWM"),We="_1QZh1Pqt",He="_1c2bN5Jp",Ke="_1lyP1KAA",Ge="_10b7KaKw";function Ze(){return(Ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const Qe=()=>s.a.createElement("div",{style:{height:"36px",width:"12px",cursor:"pointer",backgroundColor:"#fff",position:"relative",top:"-2px",left:"-6px",borderRadius:"6px",boxShadow:"0 1px 4px rgba(0, 0, 0, 0.37)"}});var Je=n.n(Ve)()((function(e){let{color:t,inputChange:n,hexValid:a,onChange:r,...i}=e;return s.a.createElement("div",{className:We},s.a.createElement("div",{className:He},s.a.createElement("style",null,".hue-horizontal {border-radius: 6px}"),s.a.createElement(ze.a,Ze({},i,{direction:"horizontal",onChange:function(e){r({a:1,h:e.h,l:.5,s:1})},pointer:Qe}))),s.a.createElement("div",{className:Ke},s.a.createElement("input",{className:a?null:Ge,style:{backgroundColor:t,borderColor:t},type:"text",maxLength:6,placeholder:"HEX",value:t.substr(1),onChange:n,name:"hexInput"})))})),$e=n("wxgb"),Ye=n.p+"ui/img/colors.png",Xe="_3JADH_bJ",et="_1-zLR4g3",tt="_2OE1lhPr",nt="JxzIVIqB",at="_3XtPgiIA";class rt extends s.a.Component{constructor(e){super(e),this.state={hexShown:!1,hexValid:!0},this.handleChange=this.handleChange.bind(this),this.showHexinput=this.showHexinput.bind(this),this.handleCustomChange=this.handleCustomChange.bind(this)}handleChange(e){const{onChange:t,defaultColors:n,disabled:a}=this.props;if(a)return;const r=e.target,s="#"!==r.value[0]?"#"+r.value:r.value,i=/^[0-9A-Fa-f]+$/;this.setState({hexValid:st(n,s)}),"hexInput"===r.getAttribute("name")?(""===r.value||i.test(r.value))&&t("#"+r.value):(this.setState({hexShown:!1}),t(r.value))}handleCustomChange(e,t){const{onChange:n}=this.props;n(e.hex)}showHexinput(e){e.preventDefault();const{onChange:t}=this.props;t("#0087ff"),this.setState({hexShown:!0})}render(){const{defaultColors:e,value:t,className:n,noHex:a,disabled:r}=this.props,{hexShown:i,hexValid:c}=this.state,o=!e.includes(t);return s.a.createElement("div",{className:m()(Xe,r&&at,n)},s.a.createElement("div",{className:et},e.map(e=>s.a.createElement("label",{key:e,style:{background:e}},s.a.createElement("input",{type:"radio",value:e,checked:t===e,onChange:this.handleChange}),t===e&&!i&&s.a.createElement($e.a,{className:nt}))),!a&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:tt},s.a.createElement("img",{src:Ye,alt:"HEX button",onClick:this.showHexinput}),(i||o)&&null!==t&&s.a.createElement($e.a,{className:nt})),t&&o&&s.a.createElement(Je,{color:t,onChange:this.handleCustomChange,inputChange:this.handleChange,hexValid:c}))))}}rt.defaultProps={color:"#51B3F7",defaultColors:["#51B3F7","#903671","#6D68CB","#53CEC6","#F9BC73","#2F3542"],noHex:!1};const st=(e,t)=>e.includes(t)||/(^#[0-9A-Fa-f]{6}$)|(^#[0-9A-Fa-f]{3}$)/i.test(t);function it(){return(it=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ct(e){let{as:t,onChange:n,...a}=e;return s.a.createElement(C.a,a,e=>{let{field:{name:a,...r},form:{setFieldValue:i,setFieldTouched:c}}=e;return s.a.createElement(t,it({},r,{name:a,onChange:e=>{i(a,e),c(a,!0,!1),n&&n(e)}}))})}ct.defaultProps={as:rt};var ot=function(){const{t:e}=Object(a.useTranslation)("cards"),t=Object(o.a)();return s.a.createElement(Te,{title:e("CoverEdit.title")},n=>{let{values:{design:a},setFieldValue:r}=n;return s.a.createElement(s.a.Fragment,null,s.a.createElement(S,{accept:"image/png,image/x-png,image/jpeg",as:x.i,name:"design.background.image",label:e("CoverEdit.labels.photo"),restrictRule:"background.image:edit",buttonLabel:e(a.background.imageUrl?"designEdit.change_bg_image":"CoverEdit.upload"),upload:t.api.card.uploadCover,previewUrl:a.background.imageUrl,onChange:e=>{let{filename:t,url:n}=e;r("design.background.type","image"),r("design.background.image",t),r("design.background.imageUrl",n)},onApplyClick:()=>r("design.background.type","image"),active:"image"===a.background.type}),s.a.createElement(ct,{label:e("designEdit.bg_color"),name:"design.background.color",value:"color"===a.background.type?a.background.color:null,onChange:()=>r("design.background.type","color")}),s.a.createElement(x.d,{style:{marginTop:30}},e("FieldTip.cover")))})},lt=n("0WXt"),ut=n("ATgU"),dt=n("6NVd"),pt=n("Oe/J"),mt=n("ZAuZ");function ft(){return(ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const ht=[{label:"categoriesList.category_not_business",value:"category_not_business"},{label:"categoriesList.category_auto",value:"category_auto"},{label:"categoriesList.category_meal",value:"category_meal"},{label:"categoriesList.category_health",value:"category_health"},{label:"categoriesList.category_noncommercial",value:"category_noncommercial"},{label:"categoriesList.category_education",value:"category_education"},{label:"categoriesList.category_social_services",value:"category_social_services"},{label:"categoriesList.category_cloth",value:"category_cloth"},{label:"categoriesList.category_events_organization",value:"category_events_organization"},{label:"categoriesList.category_hotels_rent",value:"category_hotels_rent"},{label:"categoriesList.category_sales",value:"category_sales"},{label:"categoriesList.category_pro_services",value:"category_pro_services"},{label:"categoriesList.category_travel_logistics",value:"category_travel_logistics"},{label:"categoriesList.category_entertainment",value:"category_entertainment"},{label:"categoriesList.category_restaurants",value:"category_restaurants"},{label:"categoriesList.category_beauty_spa",value:"category_beauty_spa"},{label:"categoriesList.category_finance",value:"category_finance"}];function gt(e){let{value:t,...n}=e;const{t:i}=Object(a.useTranslation)(),c=Object(r.useMemo)(()=>{const e=ht.map(e=>({...e,label:i(e.label)})).sort((e,t)=>e===t?0:e>t?-1:1);return e.push({label:i("categoriesList.category_other"),value:""}),e},[i]);return s.a.createElement(lt.a,ft({options:c,value:t},n))}function bt(e){let{id:t,name:n,label:i,extra:c={},...o}=e;const{t:u}=Object(a.useTranslation)("cards"),{getFieldProps:d,getFieldMeta:p}=Object(l.d)(n),{value:m,onChange:f,onBlur:h}=d(n),{error:g}=p(n),b=Object(r.useMemo)(()=>ht.some(e=>e.value===m),[m]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(ut.a,null,i&&s.a.createElement(dt.a,{htmlFor:t},i),s.a.createElement(gt,ft({id:t,name:n,value:b?m:"",onChange:f,onBlur:h},o)),b&&g&&s.a.createElement(pt.a,null,u(g))),!b&&s.a.createElement(ut.a,null,c.label&&s.a.createElement(dt.a,{htmlFor:t+"_custom"},c.label),s.a.createElement(mt.a,ft({id:t+"_custom",name:n,value:m,onChange:f,onBlur:h},c)),g&&s.a.createElement(pt.a,null,u(g))))}var vt=function(){const{t:e}=Object(a.useTranslation)("cards");return s.a.createElement(Te,{title:e("profileEdit.label.category")},()=>s.a.createElement(bt,{id:"profile_category",label:e("profileEdit.label.category"),name:"profile.category",extra:{label:e("profileEdit.label.categoryCustom"),placeholder:e("profileEdit.placeholder.categoryCustom"),maxLength:30}}))},yt=n("AXAf");var Et=function(){const{t:e}=Object(a.useTranslation)("cards");return s.a.createElement(Te,{title:e("DescriptionEdit.title")},()=>s.a.createElement(s.a.Fragment,null,s.a.createElement(yt.a,{name:"profile.description",placeholder:e("profileEdit.placeholder.description"),maxLength:400,maxRows:2}),s.a.createElement(x.d,null,e("FieldTip.description"))))};function Ot(){const{card:e}=Object(I.a)();return{name:"",resolved:!1,secured:!1,...e.domain||{}}}var jt=n("TiNz");function wt(e){let{rightButton:t,children:n}=e;const{t:r}=Object(a.useTranslation)("cards"),c=Object(i.h)(),o=c.state&&c.state.returnTo||"/p/settings/url",l=s.a.createElement(F,{tag:T.c,to:o,styled:"backIcon"});return s.a.createElement(Se.h,null,s.a.createElement(re.a,{heading:r("domain.heading"),leftButton:l,rightButton:t}),s.a.createElement(ie.a,null,s.a.createElement(jt.a,{rule:"domain"},n)))}var _t="_2y2B4dAS";function kt(){return(kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Nt=e=>s.a.createElement("div",kt({className:_t},e));function Ct(){const{t:e}=Object(a.useTranslation)("cards"),t=Object(o.a)(),n=Ot(),r=Object(d.a)(t.card.domain.disconnect);return r.fulfilled?s.a.createElement(i.a,{to:"/p/settings/domain"}):s.a.createElement(wt,null,s.a.createElement(mt.a,{value:n.name,disabled:!0}),s.a.createElement(Nt,null,s.a.createElement("p",null,e("domain.resolved"))),s.a.createElement("p",null,s.a.createElement(M.a,{btnStyle:"danger",fullWidth:!0,onClick:()=>r.run()},e("domain.disconnect"))))}function Pt(){return(Pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function St(e){let{mask:t,unmask:n,onChange:a,...r}=e;return s.a.createElement(C.a,r,e=>{let{field:{name:r,value:i,...c},form:{errors:o,touched:l,setFieldValue:u}}=e;return s.a.createElement(mt.a,Pt({},c,{name:r,value:n?n(i):i,hasError:o[r]&&l[r],onChange:a||(e=>{u(r,t?t(e.target.value):e.target.value)})}))})}function xt(){const{t:e}=Object(a.useTranslation)("cards"),t=Ot(),n=Object(o.a)(),[c,u]=Object(r.useState)();return s.a.createElement(D.a,{initialValues:{name:t.name},onSubmit:async e=>{t.name&&!e.name?(await n.api.card.domain.disconnect(),u("/p/settings")):(await n.api.card.domain.connect({payload:e}),u("/p/settings/url/domain/change-dns"))}},s.a.createElement(X,null,c&&s.a.createElement(i.a,{to:c}),s.a.createElement(wt,{rightButton:s.a.createElement(se.a,null)},s.a.createElement(l.a,null,s.a.createElement(St,{id:"domain.name",name:"name",placeholder:"www.example.com",autoFocus:!0}),s.a.createElement(Nt,null,s.a.createElement("p",{dangerouslySetInnerHTML:{__html:e("domain.enter_domain")}}))))))}var Tt=n("cGUp"),It=n.n(Tt);function Mt(){const{t:e}=Object(a.useTranslation)("cards"),t=Object(i.h)(),n=Ot();return n.resolved?s.a.createElement(i.a,{to:"/p/settings/domain/disconnect"}):s.a.createElement(wt,null,s.a.createElement(mt.a,{value:n.name,disabled:!0}),s.a.createElement("p",{style:{marginBottom:0}},s.a.createElement(T.c,{to:{pathname:"/p/settings/domain/edit",state:{returnTo:t.pathname}}},e("domain.change"))),s.a.createElement(Nt,null,s.a.createElement("p",null,e("domain.change_dns")),s.a.createElement("ol",null,s.a.createElement("li",null,e("domain.step_one")),s.a.createElement("li",null,e("domain.step_two")),s.a.createElement("li",{dangerouslySetInnerHTML:{__html:e("domain.step_tree")}})),s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",null,e("domain.th_name")),s.a.createElement("td",null,n.subdomain||"@")),s.a.createElement("tr",null,s.a.createElement("th",null,e("domain.th_type")),s.a.createElement("td",null,"CNAME")),s.a.createElement("tr",null,s.a.createElement("th",null,e("domain.th_value")),s.a.createElement("td",null,It.a.cname,".")))),s.a.createElement("p",null,e("domain.any_questions")+" ",s.a.createElement(T.c,{to:{pathname:"/help",state:{returnTo:t.pathname}}},e("domain.contact_us")))))}var Lt=n("qNnD"),Rt=n("ZmyB"),At=n("RlQE"),Ft=n("zn5I");const Dt=()=>{const e=Object(I.a)();return Object(Ft.a)(e.card,e)};var Ut=n("N6lx"),Bt=n("aH6V"),qt=n("udwx"),zt="_2X7BCWc2",Vt="ORKZJkg8",Wt="Q-wxWXBK",Ht="YrNqyqFB",Kt="J954huU7",Gt="_1Sy6wqB6",Zt="_1Q8n7WHF",Qt="INvjZNgW",Jt="D34ih-TR";function $t(e){let{to:t,name:n,children:a}=e;return s.a.createElement("li",{className:Wt},s.a.createElement(T.c,{to:t},s.a.createElement("span",{className:Ht},n),s.a.createElement("div",{className:Kt},a,s.a.createElement(qt.a,{className:Qt}))))}var Yt=n("vyQ9"),Xt=n("79s2"),en=n("7WCL");var tn=function(){const{t:e}=Object(a.useTranslation)("cards");return s.a.createElement(Te,{title:e("SeoEdit.title"),backPath:"/p/settings",successRedirectPath:"/p/settings"},t=>{let{values:n}=t;return s.a.createElement(jt.a,{rule:"seo"},s.a.createElement(St,{label:e("SeoEdit.labels.title"),name:"seo.title",placeholder:n.profile.fullname,maxLength:80,autoFocus:!0}),s.a.createElement(yt.a,{label:e("SeoEdit.labels.description"),name:"seo.description",placeholder:n.profile.description,maxLength:200,maxRows:4}),s.a.createElement(x.d,null,e("FieldTip.seo")))})};var nn=function(){const{t:e}=Object(a.useTranslation)("cards");return s.a.createElement(Te,{title:e("TitleEdit.title")},()=>s.a.createElement(s.a.Fragment,null,s.a.createElement(St,{name:"profile.fullname",placeholder:e("profileEdit.placeholder.fullname"),maxLength:30,autoFocus:!0}),s.a.createElement(x.d,null,e("FieldTip.title"))))};function an(e){return e.toLowerCase().replace(/[^a-z0-9_.-]/gi,"")}var rn="_1d8rZ_pQ",sn="_1FPIw6QA",cn="Me9ZpX-e",on="_115WnT39";var ln=function(){const{t:e}=Object(a.useTranslation)("cards"),{domain:t}=Dt(),n=t.name&&t.resolved?t.name:t.name&&!t.resolved?e("UrlEdit.values.resolving"):e("UrlEdit.values.notConnected"),r=t.name?e("UrlEdit.button.edit"):e("UrlEdit.button.connect");return s.a.createElement(Te,{title:e("UrlEdit.title"),backPath:"/p/settings",successRedirectPath:"/p/settings"},()=>s.a.createElement(s.a.Fragment,null,s.a.createElement(St,{label:e("UrlEdit.labels.slug"),name:"profile.url",placeholder:e("profileEdit.placeholder.link"),beforeInput:"mssg.me/",mask:an}),s.a.createElement("span",{className:rn},e("UrlEdit.labels.domain")),s.a.createElement("div",{className:sn},s.a.createElement("span",{className:cn},n),s.a.createElement(T.c,{to:"/p/settings/url/domain/edit",className:on},r)),s.a.createElement(x.d,{style:{marginTop:30}},e("FieldTip.url"))))};const un=/^([^\s]+:\/\/)*([^/?]+)(.*)$/i;function dn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://";const n=null==e?void 0:e.trim().match(un);if(n){const e=n[1]||t,a=n[2],r=n[3];return e.toLowerCase()+a.toLowerCase()+r}return e}var pn=function(){const{t:e}=Object(a.useTranslation)("cards");return s.a.createElement(Te,{title:e("WebsiteEdit.title")},()=>s.a.createElement(s.a.Fragment,null,s.a.createElement(Ue,{label:e("WebsiteEdit.labels.enabled"),name:"profile.website.enabled",restrictRule:"website:edit",style:{marginBottom:"20px"}}),s.a.createElement("div",{style:{height:1,backgroundColor:"rgba(0,0,0,.1)",margin:"-12px 0 14px 0"}}),s.a.createElement(St,{label:e("WebsiteEdit.labels.linkTitle"),style:{marginBottom:"10px"},name:"profile.website.title",placeholder:e("profileEdit.placeholder.default_website_title"),maxLength:100}),s.a.createElement(St,{label:e("WebsiteEdit.labels.linkUrl"),name:"profile.website.url",placeholder:e("profileEdit.placeholder.website"),maxLength:255,mask:dn}),s.a.createElement(x.d,null,e("FieldTip.website"))))},mn=n("Symy"),fn=n("rd+V"),hn=n("kGuf"),gn="_2iWyJApg",bn="_2yrZae7B",vn="IYkPFPPl",yn="_2qYKrvK-",En="_1XZvSiiJ",On="_1zRvkK3N",jn="_3tTPtcAB",wn="_1D0Lj7Ro",_n="_1C3NSkqx",kn="_1Maj8rsX",Nn="_5dTJnBV6",Cn="WhFatDhp",Pn="_10fIUIAo",Sn="_18Ixx69X",xn="_2naUIRQf",Tn="_75B19aJT";function In(){const{t:e}=Object(a.useTranslation)("cards"),{preview:t}=Object(Se.m)(),[n,i]=Object(r.useState)(!1);return s.a.createElement("div",{className:gn},s.a.createElement("div",{className:bn},s.a.createElement("div",{className:vn},s.a.createElement(mn.a,{align:"center",bordered:!0},s.a.createElement(M.a,{btnStyle:n?"primary":"transparent",size:"small",noborder:!0,onClick:()=>i(!0)},e("widgetCard.opened")),s.a.createElement(M.a,{btnStyle:n?"transparent":"primary",size:"small",noborder:!0,onClick:()=>i(!1)},e("widgetCard.closed")))),s.a.createElement("div",{className:Cn},s.a.createElement("div",{className:m()(Pn,{[Sn]:n})},s.a.createElement(Se.d,{widgetMode:!0})),!n&&t.widget.welcome.enabled&&s.a.createElement("div",{className:m()(xn,{[On]:"left"===t.widget.position,[En]:"right"===t.widget.position})},s.a.createElement("h6",null,t.widget.welcome.headline),s.a.createElement("p",null,t.widget.welcome.description))),s.a.createElement("div",{className:m()(yn,{[On]:"left"===t.widget.position,[En]:"right"===t.widget.position})},s.a.createElement("div",{className:m()(xn,{[On]:"left"===t.widget.position,[En]:"right"===t.widget.position,[Tn]:!n&&t.widget.welcome.enabled})},s.a.createElement("h6",null,t.widget.welcome.headline),s.a.createElement("p",null,t.widget.welcome.description)),s.a.createElement("span",{className:jn,style:{backgroundColor:t.widget.color},onClick:()=>i(!n)},s.a.createElement(fn.a,{className:m()(_n,kn,{[Nn]:n})}),s.a.createElement(hn.a,{className:m()(_n,wn,{[Nn]:!n})})))))}var Mn=n("a4bA"),Ln=n("TN6c"),Rn=n("Usj1"),An=n("SimP"),Fn=n("p4j6"),Dn=n("9TnD"),Un=n("M9wv"),Bn=n.p+"cards/img/qr.svg",qn="_1S82xmDI",zn="_1sC7y1Jn",Vn="_3k67LmXl",Wn="_20FksBuv",Hn="_1qneRTGJ",Kn="_3wTTmWjS",Gn="_2VPkU4eE",Zn="_2kMHqHvT",Qn="_1nFP6A2m",Jn="_381aekYA",$n="_1RCvxGre",Yn="_1wwZRyr-",Xn="_18a7Tatz";const ea=Object(Mn.a)({mobile:0,tablet:768,desktop:1280});var ta=function(){const e=ea(),{t:t,i18n:n}=Object(a.useTranslation)("cards"),{isCopied:r,copyText:i}=Object(Rn.a)(),c=Object(An.a)(),{card:o}=Object(I.a)(),l=Object(Fn.a)(),{isFree:u,isUnpaid:d,isTrial:p}=Object(en.a)(),h=o.profile.absoluteUrl;return s.a.createElement(Se.h,null,s.a.createElement(ie.a,{noHeader:!0,nopadding:!0},s.a.createElement("div",{className:zn},s.a.createElement("h2",null,t("CardMain.personal_link")),s.a.createElement("div",{className:Vn},s.a.createElement("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:Wn},s.a.createElement("span",{className:Yn},h),Object(Ln.a)(h)),"mobile"===e&&s.a.createElement("span",{onClick:l.toggle,className:Xn},s.a.createElement(f.l,{size:20,color:"#000"}))),s.a.createElement("div",{className:Hn},s.a.createElement("div",{style:{pointerEvents:r?"none":"auto"},className:m()({[Kn]:!0,[Qn]:"en"===n.language,[Jn]:r}),onClick:()=>i(h)},s.a.createElement("div",{className:Gn},!r&&s.a.createElement(f.q,{size:24,color:"#000"}),r&&s.a.createElement(f.e,{className:$n,size:24,color:"#fff"})),s.a.createElement("span",{className:Zn},t(r?"CardMain.copied":"CardMain.copyLink"))),s.a.createElement(T.c,{className:m()({[Kn]:!0,[Qn]:"en"===n.language}),to:"/p/share/qr"},s.a.createElement("div",{className:Gn},s.a.createElement("img",{src:Bn,alt:""})),s.a.createElement("span",{className:Zn},t("CardMain.qrCode"))),s.a.createElement(T.c,{className:m()({[Kn]:!0,[Qn]:"en"===n.language}),to:"/p/share"},s.a.createElement("div",{className:Gn},s.a.createElement(f.u,{size:24,color:"#000"})),s.a.createElement("span",{className:Zn},t("common:labels.share"))))),s.a.createElement("div",{className:qn},s.a.createElement(Dn.a,null,s.a.createElement(Un.a,{to:"/p/edit",icon:f.j},t("CardMain.pageEdit")),s.a.createElement(Un.a,{to:"/p/products",icon:f.v},t("CardMain.products")),s.a.createElement(Un.a,{to:"/p/analytics",icon:f.b},t("CardMain.analytics")),s.a.createElement(Un.a,{to:"/p/settings",icon:f.w},t("CardMain.pageSettings")))),s.a.createElement("div",{style:{padding:"0 16px",marginBottom:20}},s.a.createElement(M.a,{fullWidth:!0,outline:!0,style:{border:"1px solid #2979FF",borderRadius:8,backgroundColor:"rgba(41, 121, 255, 0.05)",fontWeight:700,fontSize:16},onClick:e=>{e.preventDefault(),c("next")}},t("CardMain.new_version"))),(u||d||p)&&s.a.createElement(x.e,null)),s.a.createElement(Se.i,{isShowing:l.isOpen,toggle:l.toggle,pageUrl:h}))},na="pmJQwxJ0",aa="_1q6CDPqY",ra="_3rjAcoKZ",sa="oKBi394I";function ia(e){let{url:t,photo:n,username:i}=e;const{t:c}=Object(a.useTranslation)("cards"),{ref:o,isCopied:l,onCopy:u}=function(){const[e,t]=Object(r.useState)(!1),n=Object(r.useRef)();return{ref:n,isCopied:e,onCopy:function(e){e.preventDefault();const a=window.getSelection(),r=document.createRange();r.selectNodeContents(n.current),a.removeAllRanges(),a.addRange(r),document.execCommand("copy"),t(!0),a.removeAllRanges(),setTimeout(()=>t(!1),2e3)}}}();return s.a.createElement("div",null,s.a.createElement("div",{className:aa},s.a.createElement("p",{className:na},c("pageShare.emailSign_info")),s.a.createElement("div",{onClick:u,ref:o,"data-success":c("common:labels.copied"),"data-block":"copy_signature",className:m()(ra,{[sa]:l})},s.a.createElement("a",{href:t,style:{color:"black",textDecoration:"none",pointerEvents:"none"}},s.a.createElement("img",{src:n,style:{width:"45px",height:"45px",borderRadius:"45px",float:"left",marginRight:"16px",marginTop:"-5px"}}),s.a.createElement("span",{style:{fontFamily:"sans-serif",background:"transparent",fontSize:"14px",fontWeight:"500"}},i),s.a.createElement("span",{style:{fontFamily:"sans-serif",background:"transparent",fontSize:"12px",fontWeight:"300",color:"#3897F0",marginTop:"6px",display:"block"}},t)))))}var ca=n("oo0p"),oa=n.n(ca),la=n("4wcP"),ua=n("bPZW");var da="_1qKdujQh",pa="KbSVnI1I";function ma(e){let{url:t}=e;const{t:n}=Object(a.useTranslation)("cards"),i=function(e,t){const n=Object(B.a)(),[a,s]=Object(r.useState)();return Object(r.useEffect)(()=>{!async function(){try{const a=await oa.a.toDataURL(e,t);n()&&s(a)}catch(e){Object(ua.a)(e)}}()},[e,t]),a}(t,{width:1e3});return s.a.createElement("div",null,s.a.createElement("p",{className:pa},n("pageShare.qr_info")),s.a.createElement("div",{className:da},s.a.createElement("img",{src:i}),s.a.createElement(M.a,{tag:"a",href:i,download:"my_mssgme_qr.png"},n("pageShare.qr_download"))))}var fa=n("Llc/"),ha=n("goqe"),ga="_3uigoR-q",ba="_34ObI6Rc",va="_1zkIvY7j",ya="_3NDnp4Xh",Ea="_1HJ5Grla";function Oa(){return(Oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ja(e){let{as:t="i",onCopy:n,text:i,copiable:c=!0,copyTitle:o,legacy:l,children:u,className:d,tagClassName:p,buttonClassName:f,copiedClassName:h,...b}=e;const{t:v}=Object(a.useTranslation)("ui"),{isCopied:y,copyText:E}=Object(Rn.a)(),O=Object(r.useCallback)(e=>{e.preventDefault(),!1!==(n&&n(e))&&E(i)},[i,n]);return s.a.createElement("div",{className:m()([ga,l&&Ea],d)},s.a.createElement(t,Oa({"data-success":v("labels.copied")},Object(g.a)([ba,p,y&&va,y&&h],b)),u),c&&i&&s.a.createElement("span",{"data-button":"user-link-copy-button",className:m()(ya,f),onClick:O},o||v("labels.copy")))}var wa=n("jMR3");function _a(){return(_a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ka(e){let{href:t="",noUrlLabel:n,clickable:i,share:c=!1,onCopy:o,...l}=e;const{t:u}=Object(a.useTranslation)("ui"),d=Object(ha.c)(),p=c&&"share"in navigator&&d,m=Object(r.useCallback)(e=>{if(p)return navigator.share({url:t}),!1;o&&o(e)},[p,t,o]);return i&&t&&(l.as=wa.a,l.href=t),s.a.createElement(ja,_a({text:t,copyTitle:p&&u("labels.share"),onCopy:m},l),t?Object(fa.a)(t):n)}var Na=n("F80f"),Ca=n.p+"cards/img/copylink_img.svg",Pa="Dz8p27Hi",Sa="_26Z1B3lA";function xa(){return(xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ta(e){let{onClose:t,...n}=e;const{t:r}=Object(a.useTranslation)("cards");return s.a.createElement(Na.a,xa({className:Pa,closeButton:!1,modal:{size:"small"},onClose:t},n),s.a.createElement("div",{className:Sa},r("pageShare.link_copied")),s.a.createElement("p",null,r("pageShare.link_copied_step1")),s.a.createElement("img",{src:Ca,alt:""}),s.a.createElement("p",null,r("pageShare.link_copied_step2")),s.a.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),window.open("https://www.instagram.com/accounts/edit/","_blank"),t()}},r("pageShare.openInstagram")))}var Ia=n.p+"cards/img/email.svg",Ma=n.p+"cards/img/embed.svg",La=n.p+"cards/img/link.svg",Ra="_34xIHJJS",Aa="_1i1bfA4B",Fa="x5bCVSdJ",Da="KSeyLgse",Ua="_1NF4XJN3",Ba="_3uCtkE1V";function qa(){return(qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function za(e){let{url:t}=e;const{t:n}=Object(a.useTranslation)("cards"),[i,c]=function(e,t){const[n,a]=Object(la.a)(e,0);return[Date.now()>=n,Object(r.useCallback)(()=>{a(Date.now()+864e5*t)},[t])]}("insta_share_expire",14),o=Object(Fn.a)();return s.a.createElement("div",null,s.a.createElement(Ta,o.props),s.a.createElement(Va,null,s.a.createElement("img",{src:La,className:Ba,alt:""}),s.a.createElement("p",{className:Aa},n("pageShare.my_link")),s.a.createElement(ka,{legacy:!0,share:!0,className:Da,href:t,onCopy:()=>{i&&(o.show(),c())}}),s.a.createElement("p",{className:Fa},n("pageShare.add_link"))),s.a.createElement(Wa,{to:"/p/share/qr"},s.a.createElement("img",{src:Bn,className:Ba,alt:""}),s.a.createElement("p",{className:Aa},n("pageShare.my_qr")),s.a.createElement("p",{className:Fa},n("pageShare.copy_qr"))),s.a.createElement(Wa,{to:"/p/share/sign"},s.a.createElement("img",{src:Ia,className:Ba,alt:""}),s.a.createElement("p",{className:Aa},n("pageShare.emailSign")),s.a.createElement("p",{className:Fa},n("pageShare.emailSign_descr"))),s.a.createElement(Wa,{to:"/p/share/widget"},s.a.createElement("img",{src:Ma,className:Ba,alt:""}),s.a.createElement("p",{className:Aa},n("pageShare.my_widget")),s.a.createElement("p",{className:Fa},n("pageShare.widget_settings"))))}function Va(e){let{as:t="div",...n}=e;return s.a.createElement(t,qa({className:Ra},n))}function Wa(e){let{to:t,children:n}=e;return s.a.createElement(Va,{as:T.c,to:t},n,s.a.createElement(ue.c,{size:16,className:Ua}))}function Ha(e){let{rule:t,subject:n,children:a}=e;const{showWarning:s}=Object(oe.a)(t,n);return Object(r.useEffect)(()=>{s()},[]),a||null}const Ka=(Ga="fieldset",Za=Object(g.a)("_1ORnnAoh"),e=>{let{children:t,...n}=e;return Object(r.createElement)(Ga,Za(n),t)});var Ga,Za;Ka.displayName="Fieldset";var Qa=Ka,Ja="_3qwvKJdU",$a="_3M-OICMF",Ya="_1WsCkYdb",Xa="_3niUZvmH";const er=e=>{let{color:t="#007AFF"}=e;return s.a.createElement("svg",{version:"1.1",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18"},s.a.createElement("g",{fill:"none",fillRule:"evenodd"},s.a.createElement("g",{transform:"translate(-568 -3567)"},s.a.createElement("g",{transform:"translate(568 3567)"},s.a.createElement("rect",{x:".75",y:".75",width:"16.5",height:"16.5",rx:"8.25",stroke:t,strokeWidth:"1.5"}),s.a.createElement("rect",{className:Ya,x:"3",y:"3",width:"12",height:"12",rx:"6",fill:t})))))};var tr=e=>{let{options:t,value:n,name:a,onChange:r,pane:i,hasError:c,...o}=e;return s.a.createElement("div",Object(g.a)([i&&Ja],o),t.map((e,t)=>{var i;const c=n===e.value;return s.a.createElement("div",{key:a+t,className:m()($a,c&&Xa)},s.a.createElement("label",null,s.a.createElement(er,{color:null===(i=o.style)||void 0===i?void 0:i.color}),s.a.createElement("input",{type:"radio",name:a,value:e.value,checked:c,onChange:r}),s.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.label}})))}))};function nr(){return(nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ar(e){let{mask:t,unmask:n,...a}=e;return s.a.createElement(C.a,a,e=>{let{field:{name:a,value:r,...i},form:{setFieldValue:c}}=e;return s.a.createElement(tr,nr({},i,{name:a,value:n?n(r):r,onChange:e=>{c(a,t?t(e.target.value):e.target.value)}}))})}function rr(){return(rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function sr(e){let{placeholder:t,label:n,...a}=e;const r=n&&t;return s.a.createElement(C.a,rr({},a,{label:r?n:""}),e=>{let{field:{value:a,name:i,onChange:c,builderInput:o,...l},form:{setFieldValue:u,setFieldTouched:d}}=e;return s.a.createElement(Me.a,rr({name:i,checked:!!a,placeholder:r?t:n,onChange:e=>{u(i,!!e.target.checked),d(i,!0,!1)}},l))})}var ir="_1E-qiHqU",cr="_1G4aGaTq",or="_24W2na3a",lr="_38xn8FTx";const ur=[{label:"widgetEdit.position.right",value:"right"},{label:"widgetEdit.position.left",value:"left"}],dr=[{label:"widgetEdit.deviceOptions.all",value:"all"},{label:"widgetEdit.deviceOptions.desktop",value:"desktop"},{label:"widgetEdit.deviceOptions.mobile",value:"mobile"}];function pr(e){const{t:t}=Object(a.useTranslation)("cards");return Object(r.useMemo)(()=>e.map(e=>({...e,label:t(e.label)})),[t])}function mr(){const{t:e}=Object(a.useTranslation)("cards"),{isCopied:t,copyText:n}=Object(Rn.a)(),r=Object(o.a)(),{card:c}=Object(I.a)(),{updatePreview:d}=Object(Se.m)(),p=pr(ur),f=pr(dr),h=`<script src="${It.a.main_url}/widget/${c._id}" async><\/script>`;return s.a.createElement(D.a,{initialValues:{widget:{color:Object(u.a)(c,"widget.color","#51B3F7"),position:Object(u.a)(c,"widget.position","right"),welcome:{enabled:Object(u.a)(c,"widget.welcome.enabled",!0),headline:Object(u.a)(c,"widget.welcome.headline",""),description:Object(u.a)(c,"widget.welcome.description",""),device:Object(u.a)(c,"widget.welcome.device","all")},device:Object(u.a)(c,"widget.device","all"),components:{products:Object(u.a)(c,"widget.components.products",!1)}}},onSubmit:e=>r.api.card.update({payload:{...c,...e}}),onChange:d},a=>{let{values:r,status:c}=a;return s.a.createElement(X,null,"success"===c&&s.a.createElement(i.a,{to:"/p/share"}),s.a.createElement(re.a,{heading:e("widgetEdit.heading"),leftButton:s.a.createElement(F,{tag:T.c,to:"/p/share",styled:"backIcon"}),rightButton:s.a.createElement(se.a,null)}),s.a.createElement(ie.a,{nopadding:!0},s.a.createElement(Ce,{className:ir,modal:!1},s.a.createElement(Ha,{rule:"widget"}),s.a.createElement(l.a,null,s.a.createElement(Qa,null,s.a.createElement(ct,{name:"widget.color",label:e("widgetEdit.label.choose_color")}),s.a.createElement(ar,{name:"widget.position",label:e("widgetEdit.label.choose_position"),options:p})),s.a.createElement(Qa,null,s.a.createElement(sr,{name:"widget.welcome.enabled",label:e("widgetEdit.placeholder.welcome_message")}),r.widget.welcome.enabled&&s.a.createElement(s.a.Fragment,null,s.a.createElement(St,{name:"widget.welcome.headline",label:e("widgetEdit.label.headline"),placeholder:e("widgetEdit.placeholder.headline"),maxLength:30}),s.a.createElement(yt.a,{name:"widget.welcome.description",label:e("widgetEdit.label.description"),placeholder:e("widgetEdit.placeholder.description"),maxLength:140}),s.a.createElement(ar,{name:"widget.welcome.device",options:f}))),s.a.createElement(Qa,null,s.a.createElement(sr,{name:"widget.components.products",label:e("widgetEdit.placeholder.components.products")})),s.a.createElement(Qa,null,s.a.createElement(dt.a,null,e("widgetEdit.label.embed_code")),s.a.createElement("div",{className:m()(cr,{[or]:t}),onClick:()=>n(h),"data-success":e("widgetEdit.copied"),"data-block":"widget"},h),s.a.createElement("p",{className:lr},e("widgetEdit.tip")))))))})}var fr={heading:"_29bZbsQH",bio:"_27OKbgMJ",userLink:"_6ShOsRFI",copied:"V3M2wOba",tip:"_2D0KdRYK","share-list":"_3xWtM1dv",shareList:"_3xWtM1dv",twitter:"_34SItKOe",facebook:"_1v3iPD5m",vkontakte:"_26Dft8MD",instagram:"wMJdZosT",widgetSection:"_24UMmm2A",section:"_1abuBVO6",label:"_3jgAoLd-","section-heading":"_3TOC9wZE",sectionHeading:"_3TOC9wZE","code-block":"_2_TOVYr1",codeBlock:"_2_TOVYr1",tipCode:"_1NQcAnZc",sectionBlock:"UTNEL5kw",headingTitle:"_13lQSp-y",headingInstruction:"_2i3OUW6G",instagramTipImg:"_1FWdmduJ",instagramSettingsLink:"_886tFqyp",socialsTab:"_3LPVLhJh",chevronRight:"_3ojMFq7o",mainIcon:"_3v-V6S3y",Badge:"XYI7cyOc",badge:"XYI7cyOc"};function hr(e){let{children:t}=e;const[n,...a]=s.a.Children.toArray(t);return s.a.createElement(s.a.Fragment,null,n,s.a.createElement(ie.a,null,s.a.createElement("div",{className:fr.content},a)))}var gr=n("bzTO"),br=n.n(gr),vr=n("Sxb2"),yr=[{messenger:"whatsapp",name:"WhatsApp",icon:n.p+"cards/img/messengers/whatsapp-rounded.svg"},{messenger:"telegram",name:"Telegram",icon:n.p+"cards/img/messengers/telegram-rounded.svg"},{messenger:"viber",name:"Viber",icon:n.p+"cards/img/messengers/viber-rounded.svg"},{messenger:"messenger",name:"Facebook Messenger",icon:n.p+"cards/img/messengers/messenger-rounded.svg"},{messenger:"vk",name:"Vkontakte",icon:n.p+"cards/img/messengers/vk-rounded.svg"},{messenger:"skype",name:"Skype",icon:n.p+"cards/img/messengers/skype-rounded.svg"}],Er=n("4iID"),Or="KZ4K6CD4",jr="_3DEijECa",wr="_3uitjAdU",_r="_1qDqtIFU",kr="_11iBSPKW",Nr="_2q7wmxVG",Cr="Ue81JtWX";function Pr(e){let{data:t,definition:n,t:a}=e;return s.a.createElement("li",{className:Or},s.a.createElement("div",{className:jr},s.a.createElement(T.c,{className:m()(wr,{[_r]:t&&t.enabled}),to:"/p/edit/messengers/"+n.messenger},s.a.createElement("img",{src:n.icon,alt:n.name+" icon"}),s.a.createElement("span",{className:kr},n.name)),t&&t.enabled?s.a.createElement("div",{className:Nr,title:a("common:labels.dragTip"),"data-element":"drag-handle",style:{pointerEvents:t?"auto":"none"}},s.a.createElement(Er.a,{width:"6",color:t?"#000":"#ccc"})):s.a.createElement(M.a,{tag:T.c,size:"small",rounded:!0,to:"/p/edit/messengers/"+n.messenger,className:Cr},a("pageMessengers.add"))))}var Sr={messengersList:"_2_gsDFNA"};const xr=e=>e.messenger,Tr=Object(vr.b)(e=>{let{definition:t,data:n,t:a}=e;return s.a.createElement(Pr,{definition:t,data:n,t:a})});var Ir=Object(vr.a)((function(e){let{messengers:t,t:n,isFetching:a}=e;const r=(e=>{const t=e.map(xr),n=yr.map(xr).filter(e=>t.indexOf(e)<0);return[...t,...n].map(e=>yr.find(t=>t.messenger===e)).filter(Boolean).map(t=>{return{definition:t,data:(n=t.messenger,e.find(e=>e.messenger===n))};var n})})(t);return s.a.createElement("ul",{className:m()({[Sr.messengersList]:!0,[Sr.fetching]:a})},r.filter(e=>{let{data:t}=e;return!!t}).map((e,t)=>{let{data:a,definition:r}=e;return s.a.createElement(Tr,{key:r.messenger,index:t,data:a,definition:r,t:n,disabled:!a})}),r.filter(e=>{let{data:t}=e;return!t}).map(e=>{let{data:t,definition:a}=e;return s.a.createElement(Pr,{key:a.messenger,definition:a,data:t,t:n})}))})),Mr="_2MvBtZUH";var Lr=n("nq71"),Rr=n("8KO3");const Ar={whatsapp:"WhatsApp",telegram:"Telegram",viber:"Viber",messenger:"Messenger",vk:"Vkontakte",skype:"Skype"};function Fr(){return(Fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Dr(e){let{name:t,...n}=e;const{getFieldProps:a,setFieldValue:i,setFieldTouched:c,values:{type:o,messenger:u}}=Object(l.d)(),d=Object(r.useCallback)(e=>{let{value:n}=e.target;"viber"!==u&&"whatsapp"!==u||"private"!==o||(n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=e&&e.length||0;if(0===a)return"";const r=(n||e.indexOf("+")>=0?"+":"")+e.replace(/\D/g,"");return r.slice(0,t)}(n)),i(t,n),c(t,!0,!1)},[i,c,o,u]);let p;switch(u){case"messenger":p="m.me/";break;case"vk":p="vk.me/";break;case"viber":case"whatsapp":p=s.a.createElement(Se.l,Fr({platform:u},a("type")))}return s.a.createElement(C.a,Fr({as:mt.a,name:t,onChange:d,beforeInput:p},n))}var Ur="iZnyx3hS",Br="_2ozRldcM";var qr=function(){const e=Object(i.g)(),t=Object(o.a)(),{t:n}=Object(a.useTranslation)("cards"),{card:r}=Object(I.a)(),{platform:c}=Object(i.i)(),d=r.messengers.find(e=>e.messenger===c),p=!d,h=Object(Lr.a)({initialValues:{type:Object(u.a)(d,"type","private"),name:Object(u.a)(d,"name",""),messenger:c,enabled:!0},onSubmit:async e=>{p?await t.api.card.messengers.create({payload:e}):await t.api.card.messengers.update({messengerId:d._id,payload:e}),b("CardEditor.saved")}}),g=function(e){const{t:t}=Object(a.useTranslation)("cards");switch(e.messenger){case"whatsapp":return"private"===e.type?t("messengerEdit.help.whatsapp.private"):t("messengerEdit.help.whatsapp.public");case"telegram":return t("messengerEdit.help.telegram");case"messenger":return t("messengerEdit.help.messenger");case"vk":return t("messengerEdit.help.vk");case"skype":return t("messengerEdit.help.skype");case"viber":return"private"===e.type?t("messengerEdit.help.viber.private"):"public"===e.type?t("messengerEdit.help.viber.public"):t("messengerEdit.help.viber.community")}}(h.values);function b(t){setTimeout(()=>{Rr.a.notify(n(t),{showClose:!0}),e.push("/p/edit/messengers")},10)}const v=function(e,t){switch(e.messenger){case"whatsapp":return"private"===e.type?t("messengerEdit.placeholder.whatsapp.private"):t("messengerEdit.placeholder.whatsapp.public");case"viber":return"private"===e.type?t("messengerEdit.placeholder.viber.private"):"public"===e.type?t("messengerEdit.placeholder.viber.public"):t("messengerEdit.placeholder.viber.community");case"telegram":case"messenger":case"vk":case"skype":return t("messengerEdit.placeholder.telegram")}}(h.values,n),y=Ar[c],E=s.a.createElement(F,{tag:T.c,to:"/p/edit/messengers",styled:"backIcon"});return s.a.createElement(l.b,{value:h},s.a.createElement(X,null,s.a.createElement(Se.h,null,s.a.createElement(re.a,{heading:y,leftButton:E,rightButton:s.a.createElement(se.a,null)}),s.a.createElement(ie.a,null,s.a.createElement(jt.a,{rule:"messengers:edit",subject:h.values},s.a.createElement(l.a,{className:m()({[Br]:!p})},s.a.createElement(Dr,{name:"name",label:y,placeholder:v,autoFocus:!0}),!p&&s.a.createElement(M.a,{wrapContentStyle:{overflow:"visible"},btnStyle:"danger",size:"small",type:"button",onClick:async function(e){e.preventDefault(),await t.api.card.messengers.delete({messengerId:d._id}),b("CardEditor.removed")}},s.a.createElement(f.B,null)),g&&s.a.createElement("div",{className:Ur},g)))))))},zr={root:"_1MqO3yxZ",enabled:"_2jD3OpW2",right:"zcuvmY-t",left:"cleGpAUZ"};function Vr(){return(Vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}class Wr extends s.a.Component{render(){const{tag:e,children:t,enabled:n,type:a,className:r,...i}=this.props,c=m()(zr.root,r,zr[a],{[zr.enabled]:n});return s.a.createElement(e,Vr({className:c},i),t)}}Wr.defaultProps={type:"right",enabled:!1,tag:"div"};var Hr=n("w2nZ"),Kr="_3oEMo3MX",Gr="_3IdulwYs",Zr="_1QgQvPTZ",Qr="_1ok-qvg4",Jr="_1H6NlHyR",$r="_2ox12PvG";var Yr=function(){const{t:e}=Object(a.useTranslation)("cards"),{card:{links:t}}=Object(I.a)(),n=s.a.createElement(Bt.a,{to:"/p/edit"});return s.a.createElement(Se.h,null,s.a.createElement(re.a,{heading:e("pageLinks.links"),leftButton:n}),s.a.createElement(ie.a,null,s.a.createElement(jt.a,{rule:"links:?"},0===t.length&&s.a.createElement("p",{className:Kr},e("pageLinks.description")),t.length>0&&s.a.createElement("div",{className:Zr},t.map(e=>s.a.createElement("div",{key:e._id,className:Qr},s.a.createElement("span",{className:Jr},e.title),s.a.createElement(Wr,{className:$r,tag:T.c,to:"/p/edit/links/"+e._id,enabled:e.enabled},e.url)))),s.a.createElement(Hr.a,{to:"/p/edit/links/new",className:Gr},e("pageLinks.add_link")))))},Xr=n("okl4"),es="_3D93i_EQ",ts="Nh0X-F-A",ns="_30zqYshC";var as=function(){const{t:e}=Object(a.useTranslation)("cards"),{linkId:t}=Object(i.i)(),n=Object(o.a)(),c=Object(d.a)(n.api.card.links.delete),p=function(e){const{card:t}=Object(I.a)(),n=e?t.links.find(Object(Xr.b)(e)):null;return Object(r.useRef)(n).current}(t),m=!t;if(!m&&!p)throw new Error("No link");const f=s.a.createElement(F,{tag:T.c,to:"/p/edit/links",styled:"backIcon"});return s.a.createElement(D.a,{initialValues:{title:Object(u.a)(p,"title",""),url:Object(u.a)(p,"url",""),enabled:Object(u.a)(p,"enabled",!0)},onSubmit:e=>m?n.api.card.links.create({payload:e}):n.api.card.links.update({linkId:t,payload:e})},n=>{let{values:a,status:r,setFieldValue:o}=n;return s.a.createElement(X,null,"success"===r&&s.a.createElement(s.a.Fragment,null,s.a.createElement(ae,null,e("CardEditor.saved")),s.a.createElement(i.a,{to:"/p/edit/links"})),c.fulfilled&&s.a.createElement(s.a.Fragment,null,s.a.createElement(ae,null,e("CardEditor.removed")),s.a.createElement(i.a,{to:"/p/edit/links"})),s.a.createElement("div",{className:es},s.a.createElement(re.a,{heading:e("linkEdit.new_link"),leftButton:f,rightButton:s.a.createElement(se.a,null)}),s.a.createElement(ie.a,null,s.a.createElement(jt.a,{rule:m?"links:create":"links:edit",subject:p},s.a.createElement(l.a,null,s.a.createElement(St,{name:"title",label:e("linkEdit.title"),placeholder:e("linkEdit.title_placeholder"),maxLength:100,autoFocus:!0}),s.a.createElement(St,{name:"url",label:e("linkEdit.link"),placeholder:e("linkEdit.link_placeholder"),onBlur:()=>{o("url",dn(a.url))}}),s.a.createElement(ut.a,{className:ts},s.a.createElement(sr,{name:"enabled",label:e("linkEdit.enabled")}),!m&&s.a.createElement("div",{className:ns},s.a.createElement(M.a,{btnStyle:"danger",size:"small",type:"button",onClick:()=>c.run({linkId:t})},e("linkEdit.delete")))))))))})},rs=n("g0xT"),ss=n("ID3L"),is=n.n(ss),cs=n("kJIc"),os="XTTvjyrq",ls="_1btONEpx",us="_2iws8coi";class ds extends s.a.Component{constructor(){super(...arguments),this.state={isControlled:!1,selected:this.props.defaultSelected}}static getDerivedStateFromProps(e,t){if(e.selected!==t.prevSelected){const t=!Object(cs.a)(e.selected);return{isControlled:t,selected:t?e.selected:e.defaultSelected,prevSelected:e.selected}}return null}handleClick(e,t){t.preventDefault();const{isControlled:n}=this.state,{onSelect:a}=this.props;!n&&this.setState({selected:e}),a&&a(e)}render(){const{selected:e}=this.state,{className:t,children:n}=this.props;let a=0;const r=s.a.Children.map(n,t=>{if("Tab"===t.type.role){const n=s.a.cloneElement(t,{...t.props,isSelected:a===e,onClick:this.handleClick.bind(this,a)});return a++,n}return t});return s.a.createElement("div",{className:m()(os,t)},r)}}ds.defaultProps={defaultSelected:0},ds.role="Tabs";var ps=ds;const ms=e=>{let{isSelected:t,children:n,onClick:a}=e;return s.a.createElement("div",{className:m()(ls,{[us]:t}),onClick:a},s.a.createElement("span",null,n))};ms.role="Tab";var fs=ms,hs="_2oafkPiY",gs="_12ZB01mX",bs="_1f4GJwJL",vs="_1F5LCL4S",ys="_1NH-7hdB";const Es=e=>{let{heading:t,amount:n}=e;return s.a.createElement("div",{className:gs},s.a.createElement("span",null,t),s.a.createElement("span",null,n))},Os=e=>{let{stats:t,expanded:n,onToggle:r}=e;const{t:i}=Object(a.useTranslation)("cards");return s.a.createElement(s.a.Fragment,null,n&&s.a.createElement("ul",{className:ys},t.map(e=>s.a.createElement("li",{key:e.key},s.a.createElement("span",null,e.label),s.a.createElement("span",null,e.value)))),t.length>0&&s.a.createElement("span",{className:m()(bs,{[vs]:n}),onClick:r},i(n?"statsList.hide":"statsList.show")))};class js extends s.a.Component{constructor(e){super(e),this.toggleList=()=>{this.setState(e=>({expanded:!e.expanded}))},this.state={expanded:!1}}render(){const{heading:e,stats:t}=this.props,{expanded:n}=this.state,a=Array.isArray(t),r=a?t.reduce((e,t)=>e+t.value,0):t;return s.a.createElement("div",{className:hs},s.a.createElement(Es,{heading:e,amount:r}),a&&s.a.createElement(Os,{stats:t,expanded:n,onToggle:this.toggleList}))}}js.defaultProps={heading:"Actions",stats:[]};var ws="_3jNtFAWh",_s="XtsN5yB1",ks="_3U4K4aNw";function Ns(){return(Ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const Cs={0:"day",1:"week",2:"month"},Ps=e=>{let{disabled:t=!1,...n}=e;return s.a.createElement("a",Ns({href:"#",className:m()(_s,{[ks]:t})},n))},Ss=e=>s.a.createElement("div",Ns({className:ws},e));class xs extends s.a.Component{constructor(e){super(e),this.handleSelect=e=>{const t=Cs[e],n=is()();this.setState({tabIndex:e,prev:Is(n,t),next:Ms(n,t),...Ts(n,t)})},this.handleLeftClick=e=>{e.preventDefault(),this.setState(e=>{const t=Cs[e.tabIndex];if(e.prev)return{prev:Is(e.prev,t),next:Ms(e.prev,t),...Ts(e.prev,t)}})},this.handleRightClick=e=>{e.preventDefault(),this.setState(e=>{const t=Cs[e.tabIndex];if(e.next)return{prev:Is(e.next,t),next:Ms(e.next,t),...Ts(e.next,t)}})};const t=Cs[1],n=is()();this.state={tabIndex:1,prev:Is(n,t),next:Ms(n,t),...Ts(n,t)}}componentDidMount(){const{from:e,to:t}=this.state;this.props.getCardStatistics(+e,+t).catch(ua.a)}componentDidUpdate(e,t){const{from:n,to:a}=this.state;n==t.from&&a==t.to||this.props.getCardStatistics(+n,+a).catch(ua.a)}render(){const{statistics:e,t:t}=this.props,{tabIndex:n,from:a,to:r,prev:i,next:c}=this.state,o=e.find(e=>"page.view"===e.action),l=e.filter(e=>"messenger.click"===e.action),u=e.filter(e=>"link.click"===e.action),d=o&&o.value||0;return s.a.createElement("div",null,s.a.createElement(ps,{selected:n,onSelect:this.handleSelect},s.a.createElement(fs,null,t("CardStatistics.day")),s.a.createElement(fs,null,t("CardStatistics.week")),s.a.createElement(fs,null,t("CardStatistics.month"))),s.a.createElement(Ss,null,s.a.createElement(Ps,{disabled:!i,onClick:this.handleLeftClick},s.a.createElement(ue.a,null)),s.a.createElement("p",null,0===n?a.format("MMM DD"):a.format("MMM DD")+" - "+r.format("MMM DD")),s.a.createElement(Ps,{disabled:!c,onClick:this.handleRightClick},s.a.createElement(ue.b,null))),s.a.createElement(js,{expandable:!1,stats:d,heading:t("pageAnalytics.visits")}),s.a.createElement(js,{expandable:!1,stats:l,heading:t("pageAnalytics.clicks_messengers")}),s.a.createElement(js,{expandable:!1,stats:u,heading:t("pageAnalytics.clicks_links")}))}}function Ts(e,t){return{from:e.clone().startOf(t),to:e.clone().endOf(t)}}function Is(e,t){const{min:n}=Ls(t);let a=e.clone().subtract(1,t);return a>n?a:null}function Ms(e,t){const{max:n}=Ls(t);let a=e.clone().add(1,t);return a<n?a:null}function Ls(e){let t=is()().endOf("day"),n=is()().subtract(2,"month").startOf("month");return"month"!==e&&(n=n.startOf("week")),{min:n,max:t}}var Rs=Object(a.withTranslation)("cards")(xs);var As="_24uNsqBV";const Fs={facebook:{label:"Facebook pixel ID",help:"pixelEdit.help.facebook"},google:{label:"Google PageAnalytics tracking ID",help:"pixelEdit.help.google"},yandex:{label:"Yandex Metrika tracking ID",help:"pixelEdit.help.yandex"}};var Ds=function(){const{t:e}=Object(a.useTranslation)("cards"),{platform:t}=Object(i.i)(),{help:n}=Object(r.useMemo)(()=>({label:Object(u.a)(Fs,t+".label",""),help:e(Object(u.a)(Fs,t+".help",""))}),[t]),c=t.charAt(0).toUpperCase()+t.slice(1);return s.a.createElement(Te,{title:c,backPath:"/p/settings/tracking",successRedirectPath:"/p/settings/tracking"},()=>s.a.createElement(s.a.Fragment,null,s.a.createElement(St,{id:"card_pixel",name:"analytics."+t,placeholder:e("pixelEdit.placeholder")}),n&&s.a.createElement("div",{className:As},n)))},Us={root:"_2aSrsAKP","form-field":"zFksAHVP",formField:"zFksAHVP","form-field-label":"_2csXkXbg",formFieldLabel:"_2csXkXbg"};var Bs=n("T8LO"),qs="_2u3Kgz27",zs="adpzAog0",Vs="_37SUECNi",Ws="rTrs7jx2",Hs="_2M3sBqeJ";const Ks=Object(vr.b)(e=>{let{product:t,draggable:n}=e;return s.a.createElement("li",{key:t._id,className:Ws},s.a.createElement(Se.j,{tag:T.c,product:t,to:"/p/products/"+t._id,title:t.name,hasDragHandle:n}))}),Gs=Object(vr.a)(e=>{let{products:t,draggable:n}=e;return s.a.createElement("ul",{className:Vs},t.map((e,t)=>s.a.createElement(Ks,{key:e.id,index:t,product:e,disabled:!n,draggable:n})))});function Zs(e){let{products:t,collectionId:n,draggable:a}=e;const i=Object(o.a)(),[c,l]=Object(r.useState)([]),[u,d]=Object(r.useState)(!1);return Object(r.useEffect)(()=>{l(t)},[t]),s.a.createElement("div",{className:m()({[qs]:!0,[zs]:u})},s.a.createElement(Gs,{products:c,axis:"y",lockAxis:"y",onSortEnd:async e=>{let{oldIndex:a,newIndex:r}=e;const s=c[a].id,o=c[r].id;l(e=>br()(e,a,r)),a!==r&&await i.api.products.sort({payload:{product1Id:s,product2Id:o,collectionId:n,limit:t.length}}),d(!1)},helperClass:Hs,draggable:a,shouldCancelStart:e=>{if("drag-handle"!==e.target.dataset.element)return!0}}))}Zs.defaultProps={draggable:!0};var Qs=Zs,Js="_2MPEIXUj",$s="CJO7mXC-",Ys="_2J9FyVLq",Xs="_2EGqai5J";function ei(){return(ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var ti=function(e){let{...t}=e;const{t:n}=Object(a.useTranslation)("cards");return s.a.createElement("div",{className:Js},s.a.createElement("div",{className:$s},s.a.createElement("input",ei({className:Ys,type:"text",name:"name",placeholder:n("PageProductsMain.search")},t)),s.a.createElement("div",{className:Xs},s.a.createElement(f.t,{size:16,color:"#8E8E93"}))))},ni="_2lUxWtKJ";function ai(){return(ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var ri=function(e){let{className:t,title:n,description:a,...r}=e;return s.a.createElement("div",ai({className:m()(ni,t)},r),s.a.createElement("h3",null,n),s.a.createElement("p",null,a))},si="_2FY99N_4",ii="_2oSIBL4M",ci="_1lVS-4es";function oi(){return(oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function li(e){let{children:t,disabled:n,...r}=e;const{t:i}=Object(a.useTranslation)("cards");return s.a.createElement("div",{className:si},s.a.createElement("span",oi({className:m()({[ii]:!0,[ci]:n})},r),t||i("PageProductsMain.loadMore")))}li.defaultProps={disabled:!1};var ui=li;var di=function(e){let{products:t,loadMore:n}=e;const{t:r}=Object(a.useTranslation)("cards");if(t.isFetching)return s.a.createElement(h.a,null);const i=0===t.items.length;return s.a.createElement(s.a.Fragment,null,t.next&&s.a.createElement(ui,{onClick:n}),i&&(t.filter.name?s.a.createElement(ri,{title:r("pageProducts.filterEmptyHeading"),description:r("pageProducts.filterEmptyDescription")}):s.a.createElement(ri,{title:r("pageProducts.emptyHeading"),description:r("pageProducts.emptyDescription")})))},pi=n("ehRZ"),mi="_3TJRTQsJ",fi="_2u4cpXRM",hi="_2B_PCrw_",gi="_2CWqH6Pm",bi="_2-JuitfJ",vi="_2g2-yNaO",yi="p3Bd2RLt",Ei="_34SAjLI0",Oi="_3polc_uw",ji="_3H7QIcJT";const wi=Object(vr.b)(e=>{let{col:t,t:n,draggable:a}=e;const r=n(1===t.publishedProductsCount?"PageProductsMain.productsSingle":t.publishedProductsCount>1&&t.publishedProductsCount<5?"PageProductsMain.products24":"PageProductsMain.productsMany");return s.a.createElement("li",{className:gi},s.a.createElement(T.c,{to:"/p/products/collections/"+t.id},s.a.createElement("div",{className:m()(vi,{[yi]:t.published&&t.publishedProductsCount>0})}),s.a.createElement("span",{className:bi},t.name),s.a.createElement("span",{className:ji},t.publishedProductsCount," ",r)),a&&s.a.createElement("div",{className:Oi,title:n("common:labels.dragTip"),"data-element":"drag-handle"},s.a.createElement(Er.a,{width:"6"})))}),_i=Object(vr.a)(e=>{let{collections:t,t:n,draggable:a}=e;return s.a.createElement("ul",{className:hi},t.map((e,t)=>s.a.createElement(wi,{key:e.id,index:t,col:e,t:n,disabled:!a,draggable:a})))});function ki(e){let{collections:t,draggable:n,isFetching:i}=e;const{t:c}=Object(a.useTranslation)("cards"),l=Object(o.a)(),[u,d]=Object(r.useState)([]);return Object(pi.a)(()=>{d(t)},[t]),s.a.createElement("div",{className:m()({[mi]:!0,[fi]:i})},s.a.createElement(_i,{collections:u,axis:"y",lockAxis:"y",onSortEnd:async e=>{let{oldIndex:t,newIndex:n}=e;const a=u[t].id,r=u[n].id;d(e=>br()(e,t,n)),t!==n&&await l.api.collections.sort({payload:{col1Id:a,col2Id:r}})},helperClass:Ei,t:c,draggable:n,shouldCancelStart:e=>{if("drag-handle"!==e.target.dataset.element)return!0}}))}ki.defaultProps={draggable:!0};var Ni=ki,Ci=n("dLPT"),Pi=n("+S2o"),Si=n("07c+"),xi={priceContainer:"_1sCsD4nm",priceInput:"_1KdvyDCd",currencySelect:"tf9pzNro",publishedContainer:"VFsSCCsr",priceTogglerContainer:"_355B7EdB",publishedLabel:"_1dfz9HO0",priceLabel:"VedUKs--"};const Ti=["USD","EUR","RUB","UAH","AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNH","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STN","SYP","SZL","THB","TJS","TND","TOP","TRY","TTD","TWD","TZS","UGX","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XCD","XOF","XPF","YER","ZAR","ZMW"].map(e=>({label:e,value:e})),Ii=e=>""===e?null:parseFloat(e),Mi=e=>{let{amount:t,discount:n,currency:a}=e;return{amount:Ii(t),discount:Ii(n),currency:a}},Li=(e,t)=>({...t&&{hasDiscount:!!e.discount},value:{...e,amount:null==e.amount?"":String(e.amount),discount:null==e.discount?"":String(e.discount)},normalizedValue:{...e}});class Ri extends r.Component{constructor(){super(...arguments),this.state=Li(this.props.value,!0),this.handleChange=e=>{let{target:{name:t,value:n}}=e;if(("amount"===t||"discount"===t)&&(n=n.replace(",",".").trim(),""!==n)){if(!n.match(/^\d{0,9}(\d\.\d{0,2})?$/))return}this.setState(e=>{const a={...e.value,[t]:n};return{value:a,normalizedValue:Mi(a)}},()=>{this.props.onChange&&!Object(Ci.a)(this.props.value,this.state.normalizedValue)&&this.props.onChange({target:{name:this.props.name,value:this.state.normalizedValue}})})},this.toggleDiscount=()=>{this.setState(e=>{const t={...e.value,discount:""};return{hasDiscount:!e.hasDiscount,value:t,normalizedValue:Mi(t)}},()=>{this.props.onChange&&!Object(Ci.a)(this.props.value,this.state.normalizedValue)&&this.props.onChange({target:{name:this.props.name,value:this.state.normalizedValue}})})}}static getDerivedStateFromProps(e,t){const n=Object(Pi.a)(e.value,["amount","currency","discount"]);return Object(Ci.a)(n,t.prevValue)?null:{...Li(e.value),prevValue:n}}render(){const{errors:e,refAmount:t,t:n}=this.props,{value:{amount:a,discount:r,currency:i},hasDiscount:c}=this.state;return s.a.createElement("div",{className:xi.root},s.a.createElement("div",{className:xi.priceContainer},s.a.createElement("div",{className:xi.priceInput},s.a.createElement(Si.a,{name:"amount",value:a,onChange:this.handleChange,type:"text",errors:e&&e.amount&&n(e.amount),inputMode:"decimal",refInput:t})),s.a.createElement("div",{className:xi.currencySelect},s.a.createElement(Si.a,{component:lt.a,options:Ti,name:"currency",value:i,onChange:this.handleChange,errors:e&&e.currency&&n(e.currency)}))),c&&s.a.createElement(Si.a,{name:"discount",value:r,label:n("productEdit.discountLabel"),onChange:this.handleChange,type:"text",errors:e&&e.discount&&n(e.discount),inputMode:"decimal"}),s.a.createElement("div",{className:m()(xi.publishedContainer,xi.priceTogglerContainer)},s.a.createElement("div",{className:m()(xi.publishedLabel,xi.priceLabel)},s.a.createElement("span",null,n("productEdit.hasDiscount"))),s.a.createElement("div",null,s.a.createElement(Me.a,{checked:c,onChange:this.toggleDiscount,styled:"toggle"}))))}}var Ai=Object(a.withTranslation)("cards")(Ri);function Fi(){return(Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Di=e=>{const{t:t}=Object(a.useTranslation)("ui");return s.a.createElement(M.a,Fi({size:"small",noborder:!0,btnStyle:"primary"},e),t("button.save"))},Ui=n("njpi");function Bi(e){return e&&Object.entries(e).map(e=>{let[t,n]=e;return t+(n&&"object"==typeof n?`[${Bi(n)}]`:n)}).join(",")}const qi=e=>e.collections;function zi(e){const t=Object(rs.d)(qi);return Object(r.useMemo)(()=>{if(e){const n=Xr.a.filterWithExclusion(t.items,e);if(n.length!==t.items.length){const e=n.find(e=>e.default),a=e?e.publishedProductsCount:n.reduce((e,t)=>e+t.publishedProductsCount,0);return{...t,allPublishedProductsCount:a,items:n}}}return t},[t,Bi(e)])}const Vi=e=>e.products;const Wi=e=>{const t=zi(),n=function(e,t){const n=Object(rs.d)(t||Vi);return Object(r.useMemo)(()=>{if(e){const t=Xr.a.filterWithExclusion(n.items,e);if(t.length!==n.items.length)return{...n,items:t}}return n},[n,Bi(e)])}(),a=Object(o.a)(),s=t.items.find(e),i=s?s.id:null,c=JSON.stringify(n.filter);return Object(r.useEffect)(()=>{(s||t.items.length)&&a.api.products.list({guid:n.guid+1,query:{collection:i,filter:c}})},[t.items.length,n.guid,c]),Object(Ui.a)(()=>{a.clearProductsStore()}),{collection:s,products:n,collections:t,setFilter:e=>{let{target:{name:t,value:n}}=e;a.setProductsFilter({[t]:n,collectionId:i})},loadMore:async()=>{n.next&&!n.isFetching&&await a.api.products.list({guid:n.guid,query:{collection:i,next:n.next,filter:JSON.stringify(n.filter)}})}}};var Hi="_1yeG7Q3v",Ki="_1yeVzobS",Gi="_3nqod07b",Zi="_6CRZaHdh",Qi="_2WvJskdf",Ji="mxluuBnm",$i="_2eLqwPus",Yi="_1CPStg6i",Xi="_3tzIZ2vg",ec="k1q4zoFW",tc="YeYk3mnN";var nc=function(){const{t:e}=Object(a.useTranslation)("cards"),{collection:t,collections:n,products:r,setFilter:i,loadMore:c}=Wi(e=>e.default),o=n.items.filter(e=>!e.default&&e.published&&e.publishedProductsCount>0).length,l=e(1===o?"PageProductsMain.activeSingleShe":"PageProductsMain.activeMany"),u=e(1===n.allPublishedProductsCount?"PageProductsMain.productsSingle":n.allPublishedProductsCount>1&&n.allPublishedProductsCount<5?"PageProductsMain.products24":"PageProductsMain.productsMany");return s.a.createElement(Se.h,{className:Hi},s.a.createElement(re.a,{heading:e("CardMain.products"),leftButton:s.a.createElement(Bt.a,{to:"/p"}),rightButton:s.a.createElement("div",{className:Ki},s.a.createElement(T.c,{className:Gi,to:"/p/products/new",title:e("pageProducts.tipAddProduct")},s.a.createElement(Bs.a,{size:34,color:"#000"}))),style:{boxShadow:"none"}}),s.a.createElement(ie.a,{nopadding:!0,onBottomScroll:c},s.a.createElement(jt.a,{rule:"products:?"},s.a.createElement(ti,{onChange:i,value:r.filter.name}),!r.filter.name&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement(T.c,{to:"/p/products/collections",className:Zi},s.a.createElement("span",{className:Qi},e("PageProductsMain.collections")),s.a.createElement("div",{className:Ji},s.a.createElement("span",{className:$i},`${o} ${l}`),s.a.createElement(f.h,{size:22,className:Yi})))),s.a.createElement("div",{className:Xi},s.a.createElement("span",{className:ec},e("PageProductsMain.storeFront")),s.a.createElement("span",{className:tc},`${n.allPublishedProductsCount} ${u}`))),s.a.createElement("div",null,t&&s.a.createElement(Qs,{collectionId:t.id,products:r.items,draggable:""===r.filter.name})),s.a.createElement(di,{products:r,loadMore:c}))))},ac="_3Om-Bu-K",rc="xtZqbbUO",sc="_2NFBdlGr";var ic=function(){const{t:e}=Object(a.useTranslation)("cards"),t=Object(i.j)().params.id,{collection:n,products:r,setFilter:c,loadMore:o}=Wi(e=>e._id===t),l=s.a.createElement(Bt.a,{to:"/p/products/collections"}),u=s.a.createElement("div",{className:sc},s.a.createElement(T.c,{className:rc,to:"/p/products/collections/edit/"+t,title:e("PageProductCollections.tipEditCollection")},s.a.createElement(Bs.j,{size:22,color:"#000"})),s.a.createElement(T.c,{className:rc,to:"/p/products/new/"+t,title:e("pageProducts.tipAddProduct")},s.a.createElement(Bs.a,{size:34,color:"#000"})));return s.a.createElement(Se.h,{className:ac},s.a.createElement(re.a,{heading:n.name,leftButton:l,rightButton:u,style:{boxShadow:"none"}}),s.a.createElement(ie.a,{nopadding:!0,onBottomScroll:o},s.a.createElement(jt.a,{rule:"products:?"},s.a.createElement(ti,{onChange:c,value:r.filter.name}),s.a.createElement("div",null,n&&s.a.createElement(Qs,{collectionId:t,products:r.items,draggable:""===r.filter.name})),s.a.createElement(di,{products:r,loadMore:o}))))},cc="_1QV4JzPU",oc="OKPelV9s",lc="_3-b4W5Dy";var uc=function(){const[e,t]=Object(r.useState)({name:""}),n=zi(),i=n.items.filter(e=>!e.default),c=e.name?i.filter(t=>t.name.toLowerCase().includes(e.name.toLowerCase())):i,{t:o}=Object(a.useTranslation)("cards"),l=s.a.createElement(Bt.a,{to:"/p/products"}),u=s.a.createElement("div",{className:oc},s.a.createElement(T.c,{className:lc,to:"/p/products/collections/new",title:o("PageProductCollections.tipAddCollection")},s.a.createElement(Bs.a,{size:34,color:"#000"})));return s.a.createElement(Se.h,{className:cc},s.a.createElement(re.a,{heading:o("PageProductsMain.collections"),leftButton:l,rightButton:u,style:{boxShadow:"none"}}),s.a.createElement(ie.a,{nopadding:!0},s.a.createElement(jt.a,{rule:"collections:view"},s.a.createElement(ti,{onChange:e=>t({name:e.target.value}),value:e.name}),s.a.createElement("div",null,c.length>0&&s.a.createElement(Ni,{collections:c,draggable:!0,isFetching:n.isFetching}),0===c.length&&e.name&&s.a.createElement(ri,{title:o("PageProductCollections.filterEmptyHeading"),description:o("PageProductCollections.filterEmptyDescription")}),0===c.length&&!e.name&&s.a.createElement(ri,{title:o("PageProductCollections.emptyTitle"),description:o("PageProductCollections.emptyDescription")})))))},dc=n("R6Hn"),pc=n("XLeO");var mc="_3CMv01uO";var fc=function(){const{t:e,collectionId:t,collection:n,hasChanges:c,isFetching:l,isNew:u,errors:d,handleSubmit:p,handleChange:m,handleRemoveClick:f}=(()=>{const{t:e}=Object(a.useTranslation)("cards"),t=Object(o.a)(),n=Object(i.g)(),s=Object(i.j)().params.id||null,c=zi(),l=c.items.find(e=>e.id===s)||{name:"",slug:"",default:!1,published:!0},u=c.isFetching,[d,p]=Object(r.useState)(!1),[m,f]=Object(r.useState)(l),[h,g]=Object(r.useState)({}),b=!s,v=e=>{e.errors?g(e.errors):Object(ua.a)(e)};return Object(r.useEffect)(()=>{s&&!m.id&&f(l)},[l]),{t:e,collectionId:s,collection:m,hasChanges:d,isFetching:u,isNew:b,errors:h,handleSubmit:async a=>{a.preventDefault(),f(m);const r=!s,i=Object(Pi.a)(m,["name","slug","published","default"]);try{r?await t.api.collections.create({payload:i}):await t.api.collections.update({collectionId:s,payload:i}),p(!1),Rr.a.notify(e("CardEditor.saved"),{showClose:!0}),n.push("/p/products/collections/"+(s||""))}catch(a){v(a)}},handleChange:e=>{let{target:{type:t,name:n,value:a,checked:r}}=e;const s="checkbox"===t?r:a;f(e=>Object(dc.a)(Object(pc.a)({},e),n,s)),p(!0)},handleRemoveClick:async a=>{a.preventDefault();try{await t.api.collections.delete({collectionId:s}),p(!1),Rr.a.notify(e("CardEditor.removed"),{showClose:!0}),n.push("/p/products/collections")}catch(a){v(a)}}}})();return s.a.createElement(Se.h,null,s.a.createElement(re.a,{heading:t?n.name:e("ProductCollectionEdit.title"),leftButton:s.a.createElement(F,{tag:T.c,to:t?"/p/products/collections/"+t:"/p/products/collections",styled:"backIcon"}),rightButton:c&&s.a.createElement(Di,{isFetching:l,onClick:p})}),s.a.createElement(ie.a,null,s.a.createElement(jt.a,{rule:"collections:edit",subject:n},s.a.createElement("form",{noValidate:!0,onSubmit:p},s.a.createElement("div",{className:mc},s.a.createElement("span",null,e("ProductCollectionEdit.name")),!u&&n.publishedProductsCount>0&&s.a.createElement(Me.a,{checked:n.published,name:"published",onChange:m,disabled:l,styled:"toggle"})),s.a.createElement(Si.a,{name:"name",value:n.name,onChange:m,errors:d.name&&e(d.name),maxLength:100,disabled:l,autoFocus:!0}),!u&&!n.default&&s.a.createElement("div",{style:{textAlign:"center",marginTop:"20px"}},s.a.createElement(M.a,{type:"button",onClick:f,btnStyle:"danger"},e("button.remove")))))))},hc=n("ccwk"),gc=n("vFhw"),bc=n("Q7xJ");const vc=["image/png","image/x-png","image/jpeg"],yc={container:e=>({...e,fontSize:16}),control:e=>({...e,boxShadow:"none",minHeight:42,paddingLeft:6}),placeholder:e=>({...e,fontSize:16,color:"#8e8e93",marginLeft:0}),multiValueLabel:(e,t)=>({...e,paddingRight:t.data.isFixed?6:0}),multiValueRemove:(e,t)=>({...e,transform:"scaleY(.9)",display:t.data.isFixed?"none":"flex"})},Ec=e=>({...e,colors:{...e.colors,primary:"#007aff",neutral20:"#c7c7cc",neutral30:"#8e8e93"}}),Oc=()=>{const{t:e}=Object(a.useTranslation)("cards"),t=Object(o.a)(),n=Object(i.j)(),s=Object(I.a)(),c=zi().items.map(t=>t.default?{...t,name:e("PageProductsMain.storeFront")}:t),l=Object(i.g)(),u=Object(r.useRef)(null),d=n.params&&n.params.productId||null,p=n.params&&n.params.collectionId||null,m=s.card.profile.absoluteUrl,f=s.card.products.defaultCurrency||"USD",[h,g]=Object(r.useState)(!1),[b,v]=Object(r.useState)(!0),y=c.length>0?c.filter(e=>p===e.id||e.default).map(e=>({label:e.name,value:e.id,isFixed:e.default})).sort((e,t)=>e===t?0:e?-1:1):[],[E,O]=Object(r.useState)({photos:[],name:"",slug:"",description:"",price:{amount:null,discount:null,currency:f},published:!0,externalButton:{title:"",url:""},cols:y}),[j,w]=Object(r.useState)({}),[_,k]=Object(r.useState)(!1),[N,C]=Object(r.useState)([]),[P,S]=Object(r.useState)(!1),[x,T]=Object(r.useState)(!1),M=!d,L=!M&&d!==E._id,R=c.map(e=>({label:e.name,value:e.id,isFixed:e.default})),A=e=>{e.errors?w(e.errors):Object(ua.a)(e)};return Object(r.useEffect)(()=>{d&&(async n=>{try{const a=await t.api.products.retrieve({productId:n}),r=(await bc.a.list(a.workspace)).items.map(t=>t.default?{...t,name:e("PageProductsMain.storeFront")}:t);O({...a,externalButton:{title:a.externalButton&&a.externalButton.title||"",url:a.externalButton&&a.externalButton.url||a.externalUrl||""},cols:a.cols&&!a.cols.null?Object.values(a.cols).map(e=>{let{collectionId:t}=e;return r.find(e=>e.id===t)}).filter(Boolean).map(e=>({label:e.name,value:e.id,isFixed:e.default})):""}),C(a.cols),k(!(!a.externalButton||!a.externalButton.url)||!!a.externalUrl||!1)}catch(e){A(e)}})(d)},[]),{ACCEPT_IMAGES:vc,t:e,hasChanges:h,isNew:M,isFetching:P,isLoadingProduct:L,handleSubmit:async n=>{n.preventDefault();const a={...E,externalUrl:E.externalUrl?dn(E.externalUrl):"",externalButton:{...E.externalButton,url:E.externalButton&&E.externalButton.url?dn(E.externalButton.url):""}};O(a);const r=!d,s=Object(Pi.a)(a,["name","description","slug","photos","published","price","externalButton"]);s.cols="",E.cols&&(s.cols={},E.cols.forEach(e=>{N&&N[e.value]&&N[e.value].order?s.cols[e.value]={collectionId:e.value,order:N[e.value].order}:s.cols[e.value]={collectionId:e.value}})),b&&s.price&&(!s.price||s.price.amount)||(s.price=null),_||(s.externalButton={title:null,url:null});try{S(!0),r?await t.api.products.create({payload:s}):await t.api.products.update({productId:d,payload:s}),g(!1),Rr.a.notify(e("CardEditor.saved"),{showClose:!0}),S(!1),l.goBack()}catch(n){S(!1),A(n)}},product:E,handleChange:e=>{let{target:{type:t,name:n,value:a,checked:r}}=e,s="checkbox"===t?r:a;O(Object(dc.a)(Object(pc.a)({},E),n,s)),g(!0)},baseurl:m,handlePhotoChange:async n=>{let{target:{files:a}}=n;const r=E.photos.length,s=a&&Array.from(a).filter(e=>{let{type:t}=e;return vc.includes(t)});if(s&&0!==s.length){if(r+s.length>6)return w({...j,photos:e("productEdit.errors.invalid_photos_count")});T(!0),w({...j,photos:""});try{const{success:n,failed:a}=await t.api.products.uploadPhotos({payloads:s});if(a.length&&w({...j,photos:a.map(t=>{let{file:n,error:a}=t;return e("errorsList.upload_failed",{file:n,error:e(a)})}).join(". ")}),n.length){const e=n.map(e=>{let{result:t}=e;return t});O({...E,photos:E.photos.concat(e)}),g(!!h||!Object(Ci.a)(E.photos,e))}}finally{T(!1)}}},removePhoto:e=>()=>{const t=E.photos.filter(t=>t!==e);O({...E,photos:t}),g(!0)},isUploading:x,onSortEnd:e=>{let{oldIndex:t,newIndex:n}=e;O({...E,photos:br()(E.photos,t,n)}),g(!!h||!Object(Ci.a)(br()(E.photos,t,n),E.photos))},errors:j,hasPrice:b,defaultCurrency:f,refAmount:u,collections:c,collectionsOptions:R,selectThemeOverride:Ec,selectStyles:yc,handleCollectionChange:(e,t)=>{let{action:n,removedValue:a}=t;switch(n){case"remove-value":case"pop-value":if(a.isFixed)return}const r=e||"";O(Object(dc.a)(Object(pc.a)({},E),"cols",r)),g(!0)},hasExternalUrl:_,toggleLink:()=>{k(!_)},handleRemoveClick:async n=>{n.preventDefault();try{S(!0),await t.api.products.delete({productId:d}),g(!1),Rr.a.notify(e("CardEditor.removed"),{showClose:!0}),S(!1),l.goBack()}catch(n){S(!1),A(n)}},history:l}};var jc="_2_y4CPfC",wc="_3cwINohO",_c="_1A0KnxJd",kc="_3TW8qSfi",Nc="_2wIRYt4x",Cc="_1kHXZoem",Pc="_30bbo_MB",Sc="_2mDFy-TF",xc="_2GwFBwhS",Tc="_3g3851Rr",Ic="LylUWRnZ",Mc="_2HewMeIp",Lc="_2FQHZf-B",Rc="_2dx-scz6",Ac="eCSczI4Q",Fc="_2qMy_2vA",Dc="_21jYUkgP",Uc="JIwxbJpq",Bc="_31YjRCoz",qc="_3Vd4QaTu",zc="_1vow32ih",Vc="_3iwq3p25";const Wc=Object(vr.b)(e=>{let{url:t,removePhoto:n}=e;return s.a.createElement("li",{className:Rc},s.a.createElement("div",{className:Fc},s.a.createElement("img",{src:t,alt:""})),s.a.createElement("div",{className:Dc,onClick:n(t),"data-id":"remBtn"},s.a.createElement(f.r,{size:12})))}),Hc=Object(vr.a)(e=>{let{photos:t,removePhoto:n,isUploading:a,isFetching:r,handlePhotoChange:i}=e;return s.a.createElement("ul",{className:Lc},t.map((e,t)=>s.a.createElement(Wc,{key:e,index:t,url:e,removePhoto:n})),(!t||t.length<6)&&s.a.createElement("li",{className:Rc},s.a.createElement("div",{className:Bc},s.a.createElement("div",{className:zc},!a&&s.a.createElement(f.r,{size:26}),a&&s.a.createElement(h.a,null)),!a&&s.a.createElement("input",{type:"file",name:"photos",multiple:!0,onChange:i,disabled:r,className:qc,accept:vc.join(",")}))))});var Kc=function(){var e,t;const{t:n,hasChanges:a,isNew:r,isFetching:i,isLoadingProduct:c,handleSubmit:o,product:l,handleChange:u,baseurl:d,handlePhotoChange:p,removePhoto:f,isUploading:g,onSortEnd:b,errors:v,hasPrice:y,defaultCurrency:E,refAmount:O,collections:j,collectionsOptions:w,selectThemeOverride:_,selectStyles:k,handleCollectionChange:N,hasExternalUrl:C,toggleLink:P,handleRemoveClick:S,history:x}=Oc();return s.a.createElement($,{blocked:a},s.a.createElement(Se.h,null,s.a.createElement(re.a,{heading:n(r?"productEdit.headerTitle":"productEdit.headerEditTitle"),leftButton:s.a.createElement(F,{tag:"span",onClick:()=>x.goBack(),styled:"backIcon"}),rightButton:a&&s.a.createElement(Di,{isFetching:i&&!c,onClick:o})}),s.a.createElement(ie.a,null,c?s.a.createElement(h.a,null):s.a.createElement(jt.a,{rule:"products:edit",subject:l},s.a.createElement("form",{noValidate:!0,onSubmit:o},!r&&s.a.createElement("div",{className:jc},s.a.createElement("div",{className:wc},s.a.createElement("div",{className:kc},s.a.createElement("span",{className:m()(Cc,l.published?Pc:null)}),s.a.createElement("span",null,l.published?n("productEdit.active"):n("productEdit.inactive"))),s.a.createElement("div",null,s.a.createElement(Me.a,{checked:l.published,name:"published",onChange:u,disabled:i,styled:"toggle"}))),l.published&&s.a.createElement(ka,{legacy:!0,clickable:!0,className:Sc,href:`${d}/p/${l.slug}`})),s.a.createElement("div",{className:xc},s.a.createElement("span",{className:Uc},n("productEdit.photo")),s.a.createElement("div",{className:Tc},s.a.createElement("div",{className:Mc},l.photos&&s.a.createElement(Hc,{photos:l.photos,handlePhotoChange:p,removePhoto:f,axis:"xy",isUploading:g,isFetching:i,onSortEnd:b,helperClass:Ac,shouldCancelStart:e=>{if("remBtn"===e.target.dataset.id)return!0}}))),v.photos&&s.a.createElement("span",{className:Vc},v.photos)),s.a.createElement(Si.a,{label:n("productEdit.title"),id:"product_name",name:"name",value:l.name,onChange:u,errors:v.name,maxLength:100,disabled:i}),s.a.createElement("div",{className:m()(wc,_c)},s.a.createElement("div",{className:m()(kc,Nc)},s.a.createElement("span",null,n("productEdit.price")))),y&&s.a.createElement(Ai,{name:"price",value:{currency:E,...l.price},onChange:u,errors:v.price,refAmount:O}),s.a.createElement(Si.a,{component:gc.a,label:n("productEdit.description"),id:"product_description",name:"description",value:l.description,onChange:u,errors:v.description,maxLength:1e4,disabled:i}),j.length>0&&s.a.createElement(Si.a,{component:hc.a,theme:_,styles:k,isMulti:!0,isClearable:!1,placeholder:n("PageProductCollections.noCollection"),options:w,label:n("collectionEdit.headerEditTitle"),name:"col",value:l.cols,onChange:N,errors:v.cols,disabled:i,isSearchable:!1,noOptionsMessage:()=>n("productEdit.noCategories")}),s.a.createElement("div",{className:m()(wc,_c)},s.a.createElement("div",{className:m()(kc,Nc)},s.a.createElement("span",null,n("productEdit.urlToggleLabel"))),s.a.createElement("div",null,s.a.createElement(Me.a,{checked:C,onChange:P,disabled:i,styled:"toggle"}))),C&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Si.a,{id:"product_externalUrlTitle",name:"externalButton.title",value:l.externalButton.title,onChange:u,errors:null===(e=v.externalButton)||void 0===e?void 0:e.title,maxLength:50,disabled:i,placeholder:n("productEdit.urlTitlePlaceholder")}),s.a.createElement(Si.a,{id:"product_externalUrl",name:"externalButton.url",value:l.externalButton.url,onChange:u,errors:null===(t=v.externalButton)||void 0===t?void 0:t.url,maxLength:500,disabled:i,placeholder:n("productEdit.urlPlaceholder")})),!r&&s.a.createElement("div",{className:Ic},s.a.createElement(M.a,{type:"button",onClick:S,btnStyle:"danger"},n("button.remove"))))))))},Gc="_1mW1HQX1",Zc="_3FNjZsPb",Qc="_3TOoUO7D";function Jc(){return(Jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const $c=[{path:"/p/share",component:function(){const{t:e}=Object(a.useTranslation)("cards"),{card:t}=Object(I.a)();return s.a.createElement(Se.h,null,s.a.createElement(i.d,null,s.a.createElement(i.b,{path:"/p/share/sign",exact:!0,render:()=>s.a.createElement(hr,null,s.a.createElement(re.a,{heading:e("pageShare.emailSign"),leftButton:s.a.createElement(Bt.a,{to:"/p/share"})}),s.a.createElement(ia,{url:t.profile.absoluteUrl,photo:t.design.photoUrl,username:t.profile.fullname}))}),s.a.createElement(i.b,{path:"/p/share/qr",exact:!0,render:()=>s.a.createElement(hr,null,s.a.createElement(re.a,{heading:e("pageShare.share_qr"),leftButton:s.a.createElement(Bt.a,{to:"/p/share"})}),s.a.createElement(ma,{url:t.profile.qrUrl}))}),s.a.createElement(i.b,{path:"/p/share/widget",exact:!0,component:mr}),s.a.createElement(i.b,{path:"/p/share",exact:!0,render:()=>s.a.createElement(hr,null,s.a.createElement(re.a,{heading:e("pageShare.heading"),leftButton:s.a.createElement(Bt.a,{to:"/p"})}),s.a.createElement(za,{url:t.profile.absoluteUrl}))})))}},{path:"/p/edit",component:function(){const{t:e}=Object(a.useTranslation)("cards"),{generateUrl:t}=Object(At.a)(),n=Dt(),{profile:{website:r,description:i,fullname:c},design:{photoUrl:o,background:l},messengers:u,links:d}=n,{isLinksDisplayed:p}=Object(Ut.a)(),f=r.url?Object(Lt.a)(r.url):null,h=f?f.hostname+("/"===f.pathname?"":f.pathname):null,g="color"===l.type?`linear-gradient(135deg, rgba(${Object(Rt.a)(l.color)}, 1) 0%, rgba(${Object(Rt.a)(l.color)}, .6) 100%)`:"none";return s.a.createElement(Se.h,null,s.a.createElement(re.a,{heading:e("PageEditMenu.title"),leftButton:s.a.createElement(Bt.a,{to:t("..")})}),s.a.createElement(ie.a,{className:zt},s.a.createElement("ul",{className:Vt},s.a.createElement($t,{to:t("avatar"),name:e("PageEditMenu.menu.avatar")},s.a.createElement("div",{className:Gt},s.a.createElement("img",{src:o,alt:c}))),s.a.createElement($t,{to:t("cover"),name:e("PageEditMenu.menu.cover")},s.a.createElement("div",{className:m()(Gt,Zt),style:{backgroundImage:g}},"image"===l.type&&s.a.createElement("img",{src:l.imageUrl,alt:"cover"}))),s.a.createElement($t,{to:t("title"),name:e("PageEditMenu.menu.title")},s.a.createElement("div",{className:Jt},c||e("PageEditMenu.values.empty"))),s.a.createElement($t,{to:t("description"),name:e("PageEditMenu.menu.description")},s.a.createElement("div",{className:Jt},i||e("PageEditMenu.values.empty"))),s.a.createElement($t,{to:t("messengers"),name:e("PageEditMenu.menu.messengers")},s.a.createElement("div",{className:Jt},u.filter(e=>e.enabled).length)),p&&s.a.createElement($t,{to:t("links"),name:e("PageEditMenu.menu.links")},s.a.createElement("div",{className:Jt},d.filter(e=>e.enabled).length)),s.a.createElement($t,{to:t("website"),name:e("PageEditMenu.menu.website")},s.a.createElement("div",{className:Jt},r.enabled&&r.url&&h,!r.enabled&&r.url&&e("PageEditMenu.values.off"),!r.url&&e("PageEditMenu.values.empty"))))))},exact:!0},{path:"/p/edit/avatar",component:Ie,exact:!0},{path:"/p/edit/cover",component:ot,exact:!0},{path:"/p/edit/title",component:nn,exact:!0},{path:"/p/edit/description",component:Et,exact:!0},{path:"/p/edit/website",component:pn,exact:!0},{path:"/p/edit/category",component:vt,exact:!0},{path:"/p/edit/messengers/:platform",component:qr,exact:!0},{path:"/p/edit/messengers",component:function(){const e=Object(I.a)(),t=Object(o.a)(),{t:n}=Object(a.useTranslation)("cards"),{resetPreview:i}=Object(Se.m)(),[c,l]=Object(r.useState)(e.card.messengers),[u,d]=Object(r.useState)(!1),p=s.a.createElement(Bt.a,{to:"/p/edit"});return s.a.createElement(Se.h,null,s.a.createElement(re.a,{heading:n("pageMessengers.heading"),leftButton:p}),s.a.createElement(ie.a,null,s.a.createElement(Ir,{t:n,messengers:c,axis:"y",lockAxis:"y",onSortEnd:async function(e){let{oldIndex:n,newIndex:a}=e;if(l(br()(c,n,a)),d(!0),n!==a){const e=await t.api.card.messengers.sort({payload:{oldIndex:n,newIndex:a}});l(e),d(!1),i()}},helperClass:Mr,isFetching:u,shouldCancelStart:e=>{if("drag-handle"!==e.target.dataset.element)return!0}}),s.a.createElement(x.d,null,n("FieldTip.messengers"))))},exact:!0},{path:"/p/edit/links",component:Yr,exact:!0},{path:"/p/edit/links/new",component:as,exact:!0},{path:"/p/edit/links/:linkId",component:as,exact:!0},{path:"/p/settings",component:function(){const{t:e}=Object(a.useTranslation)("cards"),{generateUrl:t}=Object(At.a)(),n=Dt(),{isTrial:r}=Object(en.a)(),{profile:{url:i},design:{branding:c},domain:o,analytics:l,seo:u}=n,d=Object.entries(l).filter(e=>!!e[1]).map(e=>Object(Yt.a)(e[0])),p=d.length>0?Object(Xt.a)(d,", "):e("PageSettingsMenu.values.empty"),m=u.title||u.description?e("PageSettingsMenu.values.custom"):e("PageSettingsMenu.values.default");return s.a.createElement(Se.h,null,s.a.createElement(re.a,{heading:e("PageSettingsMenu.title"),leftButton:s.a.createElement(Bt.a,{to:t("..")})}),s.a.createElement(ie.a,{className:zt},s.a.createElement("ul",{className:Vt},s.a.createElement($t,{to:t("url"),name:e("PageSettingsMenu.labels.url")},s.a.createElement("div",{className:Jt},o.name&&o.resolved?o.name:"mssg.me/"+i)),!r&&s.a.createElement($t,{to:t("branding"),name:e("PageSettingsMenu.labels.branding")},s.a.createElement("div",{className:Jt},e(c?"PageSettingsMenu.values.enabled":"PageSettingsMenu.values.disabled"))),s.a.createElement($t,{to:t("seo"),name:e("PageSettingsMenu.labels.seo")},s.a.createElement("div",{className:Jt},m)),s.a.createElement($t,{to:t("tracking"),name:e("PageSettingsMenu.labels.tracking")},s.a.createElement("div",{className:Jt},p)))))},exact:!0},{path:"/p/settings/url",component:ln,exact:!0},{path:"/p/settings/url/domain/edit",component:function(){const e=Ot();let t;return t=e.name&&e.resolved?"disconnect":e.name&&!e.resolved?"change-dns":"edit",s.a.createElement(i.d,null,s.a.createElement(i.b,{exact:!0,path:"/p/settings/url/domain/edit",component:xt}),s.a.createElement(i.b,{exact:!0,path:"/p/settings/url/domain/change-dns",component:Mt}),s.a.createElement(i.b,{exact:!0,path:"/p/settings/url/domain/disconnect",component:Ct}),s.a.createElement(i.a,{to:"/p/settings/url/domain/"+t}))},exact:!0},{path:"/p/settings/branding",component:Be,exact:!0},{path:"/p/settings/tracking",component:function(){const{t:e}=Object(a.useTranslation)("cards"),{generateUrl:t}=Object(At.a)(),n=Dt(),{analytics:{facebook:r,google:i,yandex:c}}=n;return s.a.createElement(Se.h,null,s.a.createElement(re.a,{heading:e("PageTrackingMenu.title"),leftButton:s.a.createElement(Bt.a,{to:t("..")})}),s.a.createElement(ie.a,{className:zt},s.a.createElement(jt.a,{rule:"tracking"},s.a.createElement("ul",{className:Vt},s.a.createElement($t,{to:t("facebook"),name:e("PageTrackingMenu.menu.facebook")},s.a.createElement("div",{className:Jt},r||e("PageTrackingMenu.values.empty"))),s.a.createElement($t,{to:t("google"),name:e("PageTrackingMenu.menu.google")},s.a.createElement("div",{className:Jt},i||e("PageTrackingMenu.values.empty"))),s.a.createElement($t,{to:t("yandex"),name:e("PageTrackingMenu.menu.yandex")},s.a.createElement("div",{className:Jt},c||e("PageTrackingMenu.values.empty")))),s.a.createElement(x.d,{style:{marginTop:16}},e("FieldTip.tracking")))))},exact:!0},{path:"/p/settings/tracking/:platform",component:Ds,exact:!0},{path:"/p/settings/seo",component:tn,exact:!0},{path:"/p/reviews",component:function(){const e=Object(o.a)(),{t:t}=Object(a.useTranslation)("cards"),{card:n}=Object(I.a)(),{updatePreview:r}=Object(Se.m)(),i=s.a.createElement(F,{tag:T.c,to:"/p",styled:"backIcon"});return s.a.createElement(D.a,{initialValues:{reviews:{enabled:Object(u.a)(n,"reviews.enabled",!1)}},onSubmit:t=>e.api.card.update({payload:{...n,...t}}),onChange:r},e=>{let{values:n,setFieldValue:a,submitForm:r}=e;return s.a.createElement(X,null,s.a.createElement("div",{className:Us.root},s.a.createElement(re.a,{heading:t("reviewsEdit.header"),leftButton:i,rightButton:s.a.createElement(se.a,null)}),s.a.createElement(ie.a,null,s.a.createElement(jt.a,{rule:"reviews",className:Us.noaccess},s.a.createElement(l.a,{onSubmit:r},s.a.createElement(ut.a,null,s.a.createElement(Me.a,{name:"reviews.enabled",checked:n.reviews.enabled,placeholder:t("reviewsEdit.label"),onChange:e=>{a("design.branding",e.target.checked)}})))))))})},exact:!0},{path:"/p/analytics",component:function(){const{t:e}=Object(a.useTranslation)("cards"),t=Object(rs.d)(e=>e.cardStatistics),{generateUrl:n}=Object(At.a)(),i=Object(o.a)(),c=Object(r.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"now-7d",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"now";return i.api.card.statistics({query:{from:e,to:t}})}),[]),l=s.a.createElement(Bt.a,{to:n("..")});return s.a.createElement(Se.h,null,s.a.createElement(re.a,{heading:e("pageAnalytics.analytics"),leftButton:l}),s.a.createElement(ie.a,{style:{paddingTop:"10px"}},s.a.createElement(jt.a,{rule:"analytics"},s.a.createElement(Rs,{statistics:t,getCardStatistics:c}))))},exact:!0},{path:"/p/products/collections/new",component:fc,exact:!0},{path:"/p/products/collections/edit/:id",render:()=>s.a.createElement(fc,null),exact:!0},{path:"/p/products/all",component:ic,exact:!0},{path:"/p/products/collections/:id",render:()=>s.a.createElement(ic,null),exact:!0},{path:"/p/products/collections",component:uc,exact:!0},{path:"/p/products",component:nc,exact:!0},{path:"/p/products/new/:collectionId",render:()=>s.a.createElement(Kc,null),exact:!0},{path:"/p/products/new",component:Kc,exact:!0},{path:"/p/products/:productId",render:()=>s.a.createElement(Kc,null),exact:!0},{path:"/p",component:ta,exact:!0}];function Yc(){return s.a.createElement("div",{className:Gc},s.a.createElement("div",{className:Qc},s.a.createElement(i.d,null,$c.map((e,t)=>s.a.createElement(i.b,Jc({key:t},e))))),s.a.createElement(c.a,null,s.a.createElement("div",{className:Zc},s.a.createElement(i.d,null,s.a.createElement(i.b,{path:"/p/share/widget",component:In}),s.a.createElement(i.b,{path:"/p",component:Se.d})))))}function Xc(){return(Xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var eo=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.561 0H5.44A5.439 5.439 0 000 5.439v9.122A5.439 5.439 0 005.439 20h9.122A5.439 5.439 0 0020 14.561V5.44A5.439 5.439 0 0014.561 0zM2.456 5.439A2.982 2.982 0 015.44 2.456h9.122a2.982 2.982 0 012.983 2.983v9.122a2.982 2.982 0 01-2.983 2.983H5.44a2.982 2.982 0 01-2.983-2.983V5.44z"}),to=r.createElement("rect",{x:4.912,y:10.702,width:10.175,height:2.456,rx:1.228}),no=r.createElement("rect",{x:4.912,y:6.842,width:6.667,height:2.456,rx:1.228});var ao=function(e){return r.createElement("svg",Xc({viewBox:"0 0 20 20",fill:"currentColor"},e),eo,to,no)}},RlQE:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("r0ML"),r=n("lkLo"),s=n("JuTl");function i(e){const{url:t}=Object(r.j)(),{pathname:n,state:i}=Object(r.h)();return{generateUrl:Object(a.useCallback)((a,r)=>{var i;return"/"!==a.charAt(0)?(r=e?{...e,...r}:r,Object(s.a)(null!==(i=r)&&void 0!==i&&i.useMatchUrl?t:n,a)):Object(s.a)(a)},[t,n,null==e?void 0:e.useMatchUrl]),pathname:n,url:t,state:i}}},RspG:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/onboarding/domain.svg"},S8wj:function(e,t){},S955:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("Pc05"),r=n.n(a),s=n("r0ML"),i=n.n(s),c="OZk7uuFJ",o="_363P8L0L",l="_2TsJk87z",u="kpqTtSO0",d="_1PmvMDMx",p="_1bdgcwFw",m="DY8ghz_7";function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const h=e=>{let{color:t,inline:n,...a}=e;const s=t?{background:t}:null;return i.a.createElement("div",f({className:r()(c,n&&o)},a),i.a.createElement("div",{className:l},i.a.createElement("div",{className:r()(u,d),style:s}),i.a.createElement("div",{className:r()(u,p),style:s}),i.a.createElement("div",{className:r()(u,m),style:s})))}},SZPi:function(e,t,n){"use strict";n.r(t);var a=n("r0ML"),r=n.n(a),s=n("+Q0i");try{self["workbox:window:4.3.1"]&&_()}catch(i){}var i=function(e,t){return new Promise((function(n){var a=new MessageChannel;a.port1.onmessage=function(e){return n(e.data)},e.postMessage(t,[a.port2])}))};function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}try{self["workbox:core:4.3.1"]&&_()}catch(i){}var l=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},u=function(e,t){return new URL(e,location).href===new URL(t,location).href},d=function(e,t){Object.assign(this,t,{type:e})};function p(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function m(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function f(){}var h=function(e){var t,n;function a(t,n){var a;return void 0===n&&(n={}),(a=e.call(this)||this).t=t,a.i=n,a.o=0,a.u=new l,a.s=new l,a.h=new l,a.v=a.v.bind(o(o(a))),a.l=a.l.bind(o(o(a))),a.g=a.g.bind(o(o(a))),a.m=a.m.bind(o(o(a))),a}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r,s,h=a.prototype;return h.register=p((function(e){var t,n,a=this,r=(void 0===e?{}:e).immediate,s=void 0!==r&&r;return t=function(){return a.p=Boolean(navigator.serviceWorker.controller),a.P=a.R(),m(a.k(),(function(e){a.B=e,a.P&&(a.O=a.P,a.s.resolve(a.P),a.h.resolve(a.P),a.j(a.P),a.P.addEventListener("statechange",a.l,{once:!0}));var t=a.B.waiting;return t&&u(t.scriptURL,a.t)&&(a.O=t,Promise.resolve().then((function(){a.dispatchEvent(new d("waiting",{sw:t,wasWaitingBeforeRegister:!0}))}))),a.O&&a.u.resolve(a.O),a.B.addEventListener("updatefound",a.g),navigator.serviceWorker.addEventListener("controllerchange",a.m,{once:!0}),"BroadcastChannel"in self&&(a.C=new BroadcastChannel("workbox"),a.C.addEventListener("message",a.v)),navigator.serviceWorker.addEventListener("message",a.v),a.B}))},(n=function(){if(!s&&"complete"!==document.readyState)return function(e,t){return e&&e.then?e.then(f):Promise.resolve()}(new Promise((function(e){return addEventListener("load",e)})))}())&&n.then?n.then(t):t()})),h.getSW=p((function(){return this.O||this.u.promise})),h.messageSW=p((function(e){return m(this.getSW(),(function(t){return i(t,e)}))})),h.R=function(){var e=navigator.serviceWorker.controller;if(e&&u(e.scriptURL,this.t))return e},h.k=p((function(){var e=this;return function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){return m(navigator.serviceWorker.register(e.t,e.i),(function(t){return e.L=performance.now(),t}))}),(function(e){throw e}))})),h.j=function(e){i(e,{type:"WINDOW_READY",meta:"workbox-window"})},h.g=function(){var e=this.B.installing;this.o>0||!u(e.scriptURL,this.t)||performance.now()>this.L+6e4?(this.W=e,this.B.removeEventListener("updatefound",this.g)):(this.O=e,this.u.resolve(e)),++this.o,e.addEventListener("statechange",this.l)},h.l=function(e){var t=this,n=e.target,a=n.state,r=n===this.W,s=r?"external":"",i={sw:n,originalEvent:e};!r&&this.p&&(i.isUpdate=!0),this.dispatchEvent(new d(s+a,i)),"installed"===a?this._=setTimeout((function(){"installed"===a&&t.B.waiting===n&&t.dispatchEvent(new d(s+"waiting",i))}),200):"activating"===a&&(clearTimeout(this._),r||this.s.resolve(n))},h.m=function(e){var t=this.O;t===navigator.serviceWorker.controller&&(this.dispatchEvent(new d("controlling",{sw:t,originalEvent:e})),this.h.resolve(t))},h.v=function(e){var t=e.data;this.dispatchEvent(new d("message",{data:t,originalEvent:e}))},r=a,(s=[{key:"active",get:function(){return this.s.promise}},{key:"controlling",get:function(){return this.h.promise}}])&&c(r.prototype,s),a}(function(){function e(){this.D={}}var t=e.prototype;return t.addEventListener=function(e,t){this.T(e).add(t)},t.removeEventListener=function(e,t){this.T(e).delete(t)},t.dispatchEvent=function(e){e.target=this,this.T(e.type).forEach((function(t){return t(e)}))},t.T=function(e){return this.D[e]=this.D[e]||new Set},e}()),g=n("R6Lt"),b=n("uZJO"),v=n("lkLo"),y=n("g0xT"),E=n("3gnH"),O=n("aV+K");var j=n("DX7n"),w=n("Pc05"),k=n.n(w),N=n("8Tvr"),C=n("rd+V"),P={root:"_3lxDrVik",iconBtn:"_197goVJ9",icon:"_3aBv7Uc2",header:"_25yy4Ge6",title:"_2NimJAzq"};function S(){return(S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}let x;class T extends r.a.Component{constructor(e){super(e),this.showModalNotification=e=>{this.setState({modalNotification:e})},this.hideModalNotification=()=>{this.setState({modalNotification:null})},x=this,this.state={modalNotification:null}}render(){const{modalNotification:e}=this.state,{children:t}=this.props;return r.a.createElement(r.a.Fragment,null,e&&r.a.createElement(I,S({},e.props,{onClose:this.hideModalNotification,description:e.message.description,title:e.message.title})),t)}}class I extends r.a.Component{constructor(){super(...arguments),this.closeModal=()=>{this.setState({showModal:!1},()=>{this.props.onClose&&this.props.onClose(),I.clear()})}}static notify(e,t){x.showModalNotification({message:e,props:t})}static clear(){x.hideModalNotification()}render(){const{className:e,description:t,title:n,closeButton:a,size:s}=this.props;return r.a.createElement(N.a,{onClose:this.closeModal,className:P.container,size:s},r.a.createElement("div",{className:k()(P.root,e)},r.a.createElement("div",{className:P.iconBtn,onClick:this.closeModal},a&&r.a.createElement(C.a,{className:P.icon})),r.a.createElement("div",{className:P.header},r.a.createElement("div",{className:P.title},"function"!=typeof n?n:n())),r.a.createElement("div",{className:P.content},t)))}}I.defaultProps={closeButton:!0};var M=n("+9LL"),L=n("6dgs");var R=n("kkZN"),A=n("QD+E"),F=n("bESJ"),D=n("njpi");function U(){return!(!Object(v.j)("/sso/*")&&!new URLSearchParams(window.location.search).get("NATIVE_APP"))}var B="g7QbqlKD",q="_1la_UlJW",z="_3I-35faG",V="_3twOwj6X";function W(e){let{children:t}=e;const{t:n}=Object(R.useTranslation)(),a=Object(v.j)(),s=U(),i=["/login"].includes(a.path)?"/registration":"/login",c=["/login"].includes(a.path)?n("auth.signup.signup"):n("auth.signup.signIn");return Object(F.a)(()=>{document.documentElement.classList.add(V)}),Object(D.a)(()=>{document.documentElement.classList.remove(V)}),r.a.createElement("div",{className:z},!s&&r.a.createElement(L.f,{button:{to:i,text:c}}),r.a.createElement("div",{className:B},r.a.createElement("div",{className:q},t)))}var H=n("yHpL"),K=n("nq71"),G=n("j2AC"),Z={rootContainer:"_3qGUfIek",root:"_2k-mpVDC",faded:"UyaaSzCc",dark:"_1fWuX3zH",disabled:"_2yRHo-xO",isFetching:"_2CMGcewN",spinner:"_3XpMiHqd",label:"_3koyW7MN"};function Q(){return(Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function J(e){let{tag:t,className:n,children:a,disabled:s,btnStyle:i,label:c,isFetching:o,...l}=e;return r.a.createElement("div",{className:Z.rootContainer},r.a.createElement(t,Q({className:k()({[Z.root]:!0,[Z.disabled]:s,[Z[i]]:!!i,[Z.isFetching]:o,[n]:!!n})},l),a),c&&r.a.createElement("span",{className:Z.label},c))}J.defaultProps={tag:"button",btnStyle:"primary",isFetching:!1};var $="_3FhYQJQK",Y="_2-cdI6Xo",X="EeROL7Am",ee="_3d5LnSGb",te="_1jlAwxMU",ne="_32k2GJDg",ae="_2NICpHIL",re="_3K-Vhqq3";function se(){return(se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ie(){return(ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ce(e){let{tag:t,error:n,preText:a,icon:s,...i}=e;return r.a.createElement("div",{className:$},r.a.createElement("div",{className:Y},a&&r.a.createElement("div",{className:ee},a),r.a.createElement("div",{className:X},s&&r.a.createElement(s,{className:te}),r.a.createElement(t,ie({style:{borderRadius:a?"0 8px 8px 0":"8px"}},i)))),n&&r.a.createElement("div",{className:ne},r.a.createElement("div",{className:ae},n)))}function oe(){const{t:e}=Object(R.useTranslation)(),t=Object(H.a)(),n=Object(K.a)({initialValues:{username:"",password:""},onSubmit:e=>t.api.auth.login({payload:e})}),a=G.c.is(n.submit.error)?n.submit.error.message:null;return"success"===n.status?r.a.createElement(v.a,{to:"/p"}):r.a.createElement("form",{onSubmit:n.handleSubmit},r.a.createElement(ce,{placeholder:e("label.email"),name:"username",type:"email",value:n.values.username,onChange:n.handleChange,autoComplete:"email",autoFocus:!0}),r.a.createElement(ce,{placeholder:e("label.password"),name:"password",type:"password",value:n.values.password,onChange:n.handleChange,autoComplete:"current-password",error:n.errors.username||a}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(J,{type:"submit",isFetching:n.isSubmitting},e("auth.signin.signin"))))}ce.defaultProps={tag:function(e){let{className:t,forwardRef:n,...a}=e;return r.a.createElement("input",se({className:k()(re,t),type:"text",ref:n},a))}};var le=n("cGUp"),ue=n.n(le);n("Xoms"),n("xUbJ"),n("sJC1"),n("zY6s"),n("7Sa5");var de={header:"_2Wv7llew",socialLoginContainer:"_1PL9Fh_R",footer:"_2_GUvNLG"};function pe(){const{t:e}=Object(R.useTranslation)();return r.a.createElement(W,null,r.a.createElement("div",{className:de.root},r.a.createElement("div",{className:de.header},r.a.createElement("h1",null,e("auth.signin.heading"))),r.a.createElement(oe,null),r.a.createElement("div",{className:de.footer},r.a.createElement("span",null,e("auth.signin.forget")," ",r.a.createElement(A.c,{to:"/restore"},e("auth.signin.restore"))))))}var me="_34PCBqch";function fe(){const{t:e}=Object(R.useTranslation)(),t=Object(H.a)(),n=Object(K.a)({initialValues:{email:""},onSubmit:e=>t.api.users.recoveryPassword({payload:e})});return r.a.createElement("form",{onSubmit:n.handleSubmit},r.a.createElement(ce,{name:"email",value:n.values.email,onChange:n.handleChange,error:e(n.errors.email),placeholder:e("auth.restore.placeholder"),type:"email",autoFocus:!0}),"success"===n.status?r.a.createElement("span",{className:me},e("auth.restore.success")):r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(J,{isFetching:n.isSubmitting,type:"submit"},e("auth.restore.button"))))}var he={header:"_3TKDW05d"};function ge(){const{t:e}=Object(R.useTranslation)();return r.a.createElement(W,null,r.a.createElement("div",{className:he.root},r.a.createElement("div",{className:he.header},r.a.createElement("h1",null,e("auth.restore.heading"))),r.a.createElement(fe,null)))}function be(){return Object(a.useEffect)(()=>{window.location.href=ue.a.next_webapp_url+"/signup"},[]),null}var ve=n("vMq5");function ye(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Object(ve.a)(e,t);return Object(a.useEffect)(()=>{n.run()},t),n}var Ee="_2YVU6PQi";function Oe(){return(Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function je(e){let{code:t,invite:n}=e;const{t:a}=Object(R.useTranslation)(),s=Object(H.a)(),i=Object(K.a)({initialValues:{email:n.email,name:"",password:""},onSubmit:e=>s.api.users.join({payload:{...e,code:t}})});return"success"===i.status?r.a.createElement(v.a,{to:"/p"}):r.a.createElement("form",{onSubmit:i.handleSubmit},r.a.createElement(ce,Oe({placeholder:a("label.email"),type:"email",autoComplete:"email",error:a(i.errors.email)},i.getFieldProps("email"))),r.a.createElement(ce,Oe({placeholder:a("label.name"),type:"text",autoComplete:"name",autoFocus:!0,error:a(i.errors.name)},i.getFieldProps("name"))),r.a.createElement(ce,Oe({placeholder:a("label.password"),type:"password",autoComplete:"new-password",error:a(i.errors.password)},i.getFieldProps("password"))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:30}},r.a.createElement(J,{type:"submit",isFetching:i.isSubmitting},a("RegistrationFormMember.button"))),r.a.createElement("p",{className:Ee},a("auth.signup.termsText"),r.a.createElement("a",{href:"https://mssg.me/terms-of-use",target:"_blank",rel:"noopener noreferrer"},a("auth.signup.terms"))," ",a("auth.signup.and")," ",r.a.createElement("a",{href:"https://mssg.me/privacy-policy",target:"_blank",rel:"noopener noreferrer"},a("auth.signup.policy"))))}var we={header:"_23XFGOhY",wrong:"nHfQUbYT"};function _e(){const e=Object(H.a)(),{t:t}=Object(R.useTranslation)(),{params:n}=Object(v.j)(),{pending:a,result:s,rejected:i,getValidationError:c}=ye(()=>e.api.users.checkInvite({payload:{code:n.code}}),[n.code]);return a?null:r.a.createElement(W,null,r.a.createElement("div",{className:we.root},r.a.createElement("div",{className:we.header},r.a.createElement("h1",null,t("RegistrationPageMember.heading"))),s&&r.a.createElement(je,{code:n.code,invite:s}),i&&r.a.createElement("p",{className:we.wrong},t(c("code")))))}function ke(){const e=Object(H.a)();return Object(a.useEffect)(()=>{e.api.auth.logout()},[]),r.a.createElement(v.a,{to:"login"})}var Ne=n("Qg6Y"),Ce=n("WDaW"),Pe=n("SimP");var Se=n("Rkv1"),xe=n("BFji"),Te=n("goqe");const Ie=()=>{const{api:e}=Object(H.a)();return Object(a.useEffect)(()=>{e.listenConnect(),e.listenDisconnect(),e.listenReconnect(),e.listenVerifyVersion()},[]),null};Ie.propTypes={};const Me=()=>{const{api:e}=Object(H.a)();return Object(a.useEffect)(()=>{e.listenSubscriptionCreated(),e.listenSubscriptionUpdated(),e.listenSubscriptionCancelled(),e.listenPaymentSucceeded(),e.listenPaymentInitialSucceeded(),e.listenPaymentFailed(),e.listenPaymentRetryFailed(),e.listenHighRiskTransactionUpdated()},[]),null};Me.propTypes={};var Le=n("DC3q");function Re(){return(Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ae(){const{t:e}=Object(R.useTranslation)(),t=Object(H.a)(),n=Object(Ce.a)(),a=Object(K.a)({initialValues:{email:Object(Le.a)(n,"email",""),name:Object(Le.a)(n,"name"),avatar:Object(Le.a)(n,"avatar"),subscribe:Object(Le.a)(n,"subscribe"),lang:Object(Le.a)(n,"lang")},onSubmit:e=>t.api.users.updateMyAccount({payload:e})});return"success"===a.status?r.a.createElement(v.a,{to:"/p"}):r.a.createElement("form",{onSubmit:a.handleSubmit},r.a.createElement(ce,Re({placeholder:e("label.email"),name:"email",type:"email",autoComplete:"email",error:e(a.errors.email)},a.getFieldProps("email"))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:40}},r.a.createElement(J,{type:"submit",isFetching:a.isSubmitting},e("EnterEmailForm.button"))))}var Fe={header:"_3mJHHZGQ"};function De(){const{t:e}=Object(R.useTranslation)();return r.a.createElement(W,null,r.a.createElement("div",{className:Fe.root},r.a.createElement("div",{className:Fe.header},r.a.createElement("h1",null,e("EnterEmailPage.heading"))),r.a.createElement(Ae,null),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:10}},r.a.createElement(J,{btnStyle:"faded",onClick:e=>{e.preventDefault(),window.location.href="/logout"}},e("EnterEmailPage.cancel")))))}var Ue=n("7+Q5");function Be(e){return Object(Ue.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}}]})(e)}var qe=n("63aL");var ze="_3qXGjdYA";function Ve(){return(Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function We(e){let{children:t,className:n,...a}=e;return r.a.createElement("h2",Ve({},a,{className:k()({[ze]:!0,[n]:!!n})}),t)}var He="_1gUVG1uV";function Ke(e){let{children:t}=e;return r.a.createElement("div",{className:He},t)}var Ge=n("bPZW");const Ze=()=>{const{api:e}=Object(H.a)(),t=Object(Ne.a)().card.profile.url,[n,r]=Object(a.useState)(t||"");return{...function(e,t){const n=Object(v.g)(),[r,s]=Object(a.useState)(null),[i,c]=Object(a.useState)(!1);return{errors:r,isFetching:i,onSubmit:async a=>{a&&a.preventDefault(),c(!0);try{await e(),c(!1),t&&n.push(t)}catch(e){e.errors?s(e.errors):Object(Ge.a)(e),c(!1)}},setErrors:s,setIsFetching:c}}(async()=>{await e.card.patch({payload:{"profile.url":n,"profile.fullname":n}}),await e.onboarding.update({payload:{finished:!0,lastStep:"url"}})},"/p"),slug:n,setSlug:r}};var Qe={tipMessage:"xlUcpL65"};var Je=function(){const{t:e}=Object(R.useTranslation)(),{isFetching:t,errors:n,onSubmit:a,slug:s,setSlug:i}=Ze();return r.a.createElement(Ke,null,r.a.createElement("div",{className:Qe.root},r.a.createElement(We,null,e("Onboarding.urlTitle")),r.a.createElement("form",{onSubmit:a},r.a.createElement(ce,{placeholder:"username",name:"slug",value:s,type:"text",autoComplete:"userslug",onChange:e=>i(e.target.value),error:Object(Le.a)(n,"profile.url"),preText:"mssg.me/",autoFocus:!0})),r.a.createElement("div",{style:{marginTop:42}},r.a.createElement(Be,{size:42,color:"#F2F5FA80"}),r.a.createElement("p",{className:Qe.tipMessage},e("Onboarding.urlTip"))),r.a.createElement("div",{style:{marginTop:40,display:"flex",justifyContent:"center"}},r.a.createElement(J,{onClick:a,disabled:!s,isFetching:t},e("Onboarding.next")))))},$e="_2sYiVJSe";var Ye=function(){const e=Object(Ne.a)(),{lastStep:t}=e.onboarding;return r.a.createElement("div",{className:$e},r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/onboarding/url",component:Je}),r.a.createElement(v.a,{to:"/onboarding/url"})))},Xe=n("w2nZ"),et=n("T8LO");function tt(){return(tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var nt=e=>r.a.createElement(R.Translation,null,t=>r.a.createElement(Xe.a,tt({btnStyle:"transparent",size:"small"},e),r.a.createElement(et.c,{size:28}),t("misc.back"))),at=n("07c+"),rt=n("Gkiy"),st=n("yW3b");function it(){return(it=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ct(){const e=Object(H.a)(),{t:t}=Object(R.useTranslation)(),n=Object(K.a)({initialValues:{url:""},onSubmit:t=>e.api.workspaces.create({payload:t})});return"success"===n.status?r.a.createElement(v.a,{to:"/p"}):r.a.createElement("form",{onSubmit:n.handleSubmit},r.a.createElement(at.a,it({label:t("label.pageUrl"),name:"url",beforeInput:"mssg.me/",error:t(n.errors.url)},n.getFieldProps("url"))),r.a.createElement(rt.a,null,r.a.createElement(st.a,{fullWidth:!0,type:"submit",isFetching:n.isSubmitting},t("emptyWorkspace.step2_create.create"))))}var ot="_1k0EquAK",lt="_276iy3ML",ut="_28jjwuiT",dt="_2P_kRTb8",pt="_2VmuUdr_",mt="_3jDr06Bo";function ft(){const{t:e}=Object(R.useTranslation)(),{location:t}=Object(v.g)(),n=(e=>"/"===e.pathname?1:2)(t);return r.a.createElement("div",{className:ot},r.a.createElement("div",{className:lt},r.a.createElement("h2",{className:ut},`${e("emptyWorkspace.step")} ${n}/2`),r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/",render:()=>r.a.createElement("div",null,r.a.createElement("p",{className:dt},e("emptyWorkspace.step1.message")),r.a.createElement("p",{className:mt},r.a.createElement(Xe.a,{to:"/create"},e("emptyWorkspace.step1.button.create")),r.a.createElement("span",null,e("emptyWorkspace.or")),r.a.createElement(Xe.a,{to:"/connect"},e("emptyWorkspace.step1.button.connect"))))}),r.a.createElement(v.b,{exact:!0,path:"/connect",render:()=>r.a.createElement("div",null,r.a.createElement("p",{className:dt},e("emptyWorkspace.step2_connect.message")))}),r.a.createElement(v.b,{exact:!0,path:"/create",render:()=>r.a.createElement("div",null,r.a.createElement("p",{className:dt},e("emptyWorkspace.step2_create.message")),r.a.createElement(ct,null))}),r.a.createElement(v.a,{to:"/"})),n>1&&r.a.createElement("div",{className:pt},r.a.createElement(nt,{to:"/"}))))}var ht=n("QSHt"),gt=n("MP+E"),bt=n("ZAuZ"),vt=n("vFhw"),yt={root:"_3WNSxJN1",half:"Fnhg-_I0",iframe:"MOX6s6qm",back:"_2Z1m_dsB",slugInput:"_3AEMK7y5",errors:"_26V6sVY3"};class Et extends a.Component{constructor(){super(...arguments),this.state={bot:{...this.props.bot},value:JSON.stringify(this.props.bot.botData,null,4),validJSON:!0,updatedTimes:0},this.createBot=async()=>{const{bot:e}=this.state,{createBot:t,history:n}=this.props;try{const a=await t(e);n.push("/hiddenbots/"+a._id)}catch(e){this.handleErrors(e)}},this.updateBot=async()=>{const{bot:e,updatedTimes:t}=this.state,{updateBot:n}=this.props;try{await n(e._id,e),this.setState({updatedTimes:t+1,errors:null})}catch(e){this.handleErrors(e)}},this.deleteBot=async()=>{const{bot:e}=this.state,{deleteBot:t,history:n}=this.props;try{await t(e._id),n.push("/hiddenbots")}catch(e){this.handleErrors(e)}},this.handleDataChange=e=>{let{target:{value:t}}=e;try{this.setState({bot:{...this.state.bot,botData:JSON.parse(t)},value:t,validJSON:!0})}catch(e){this.setState({value:t,validJSON:!1})}},this.handleChange=e=>{let{target:{name:t,value:n}}=e;this.setState({bot:{...this.state.bot,[t]:n}})},this.handleErrors=e=>{e.errors?this.setState({errors:e.errors}):Object(Ge.a)(e)}}render(){const{value:e,validJSON:t,bot:n,slugRequiredError:a,errors:s}=this.state,{isNew:i}=this.props;return r.a.createElement("div",{className:yt.root},r.a.createElement("div",{className:yt.half},r.a.createElement("div",{className:yt.editContainer},r.a.createElement(A.c,{to:"/hiddenbots",className:yt.back},r.a.createElement(qe.a,{size:16})," Go back"),r.a.createElement(bt.a,{type:"text",value:n.slug,onChange:this.handleChange,name:"slug",hasError:a,className:yt.slugInput}),r.a.createElement(vt.a,{name:"botData",maxRows:16,value:e,style:{width:"100%",display:"block",marginBottom:"20px",border:t?"":"1px solid red"},onChange:this.handleDataChange}),i&&r.a.createElement(st.a,{onClick:this.createBot,disabled:!t},"Create bot"),!i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(st.a,{onClick:this.updateBot,disabled:!t,style:{marginRight:"20px"}},"Update"),r.a.createElement(st.a,{onClick:this.deleteBot,disabled:!t,btnStyle:"danger"},"Delete")),s&&r.a.createElement("div",{className:yt.errors},JSON.stringify(s,null,2)))),r.a.createElement("div",{className:yt.half},this.props.bot.slug&&r.a.createElement("iframe",{className:yt.iframe,src:`${ue.a.main_url}/${this.props.card.profile.url}/bot/${this.props.bot.slug}?updated=${this.state.updatedTimes}`})))}}var Ot=Object(y.b)((e,t)=>{let{match:{params:n}}=t;const a=Object(ht.b)(e);return{card:{...a.card,workspaceId:a._id,products:{...a.card.products}},bot:a.bots.find(e=>e._id===n.id)||{slug:"",botData:{startResponseId:1,responses:[{id:1,messages:[1]}],messages:[{id:1,type:"TEXT",content:"First bot message"}]}}}},e=>({createBot:t=>e(gt.a.bots.create({payload:t})),updateBot:(t,n)=>e(gt.a.bots.update({botId:t,payload:n})),deleteBot:t=>e(gt.a.bots.delete({botId:t}))}))(Object(R.withTranslation)()(Et)),jt={list:"u8zPXcbg",botLink:"_1fTpgUaI",botMetaList:"_356vP_-N",botLinkExternal:"_6_FvwahG"};class wt extends a.Component{render(){const{bots:e}=this.props;return r.a.createElement("div",{className:jt.root},r.a.createElement("ul",{className:jt.list},e.map(e=>r.a.createElement("li",{key:e._id},r.a.createElement(A.c,{to:"/hiddenbots/"+e._id,className:jt.botLink},r.a.createElement("ul",{className:jt.botMetaList},r.a.createElement("li",null,r.a.createElement("div",null,"Bot slug:"),r.a.createElement("div",null,e.slug)),r.a.createElement("li",null,r.a.createElement("div",null,"Bot id:"),r.a.createElement("div",null,e._id)))),r.a.createElement("a",{href:`${ue.a.main_url}/${this.props.card.profile.url}/bot/${e.slug}`,target:"_blank",rel:"noopener noreferrer",className:jt.botLinkExternal},r.a.createElement(qe.q,{size:30}))))),r.a.createElement(Xe.a,{to:"/hiddenbots/new"},"Create new bot"))}}var _t=Object(y.b)(e=>{const t=Object(ht.b)(e);return{bots:t.bots,card:{...t.card,workspaceId:t._id,products:{...t.card.products,results:e.products.items,next:e.products.next,publishedCount:e.products.publishedCount}}}})(Object(R.withTranslation)()(wt)),kt="P1RMIyzg";function Nt(){return(Nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ct(){return r.a.createElement("div",{className:kt},r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/hiddenbots/new",render:e=>r.a.createElement(Ot,Nt({isNew:!0},e))}),r.a.createElement(v.b,{path:"/hiddenbots/:id",render:e=>r.a.createElement(Ot,Nt({isNew:!1},e))}),r.a.createElement(v.b,{exact:!0,path:"/hiddenbots",component:_t})))}var Pt=n("FcSA"),St=n("N6lx"),xt=n("7WCL"),Tt=n("kVuv"),It=n("9TnD"),Mt=n("M9wv"),Lt=n("gxZ5"),Rt=n("TiNz");function At(){return(At=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Ft=a.createElement("path",{d:"M446.7 98.6l-67.6 318.8c-5.1 22.5-18.4 28.1-37.3 17.5l-103-75.9-49.7 47.8c-5.5 5.5-10.1 10.1-20.7 10.1l7.4-104.9 190.9-172.5c8.3-7.4-1.8-11.5-12.9-4.1L117.8 284 16.2 252.2c-22.1-6.9-22.5-22.1 4.6-32.7L418.2 66.4c18.4-6.9 34.5 4.1 28.5 32.2z",stroke:"none"});var Dt=function(e){return a.createElement("svg",At({stroke:"currentColor",strokeWidth:0,viewBox:"0 0 448 512",height:20,width:20,fill:"#08c",color:"#333"},e),Ft)},Ut="_32AUZMTH",Bt="_11W2JgFZ",qt="_2lhuFU1W",zt="_2Cp9LTRX",Vt="_2hJcADgr";function Wt(){const{t:e}=Object(R.useTranslation)(),{isAdmin:t}=Object(Pt.a)(),{isInboxDisplayed:n}=Object(St.a)(),{isTrial:a}=Object(xt.a)();return r.a.createElement("div",{className:Ut},r.a.createElement(Tt.a,{className:Bt},r.a.createElement("h2",{className:qt},e("MobileMenu.settings")),r.a.createElement("div",{className:zt},r.a.createElement(It.a,null,r.a.createElement(Mt.a,{to:"/s/account"},e("settingsMenu.generalMenu.account")),t&&r.a.createElement(Mt.a,{to:a?"/s/billing/plans":"/s/billing"},e("settingsMenu.generalMenu.billing")),r.a.createElement(Lt.a,{tag:L.k},e("settingsMenu.install")),r.a.createElement(Mt.a,{className:Vt,to:"/logout"},e("settingsMenu.logout"))),n&&t&&r.a.createElement(Rt.a,{rule:"inbox"},r.a.createElement(It.a,{heading:e("settingsMenu.nav_heading.inbox_settings")},r.a.createElement(Mt.a,{to:"/s/integrations"},e("settingsMenu.inboxMenu.integrations")),r.a.createElement(Mt.a,{to:"/s/team"},e("settingsMenu.inboxMenu.team")))),r.a.createElement(It.a,null,r.a.createElement(Lt.a,{href:"https://mssg.me/r/m/5d63cdd118779000516ccc9b",icon:Dt,target:"_blank",rel:"nofollow noindex"},e("settingsMenu.telegramMenu.label"))))))}var Ht=n("L8js"),Kt=n("0WXt"),Gt=n("ke/A"),Zt=n("Symy"),Qt=n("wYyU"),Jt=n("8KO3");const $t=[{label:"English",value:"en"},{label:"Русcкий",value:"ru"}];var Yt="_3aKSlLCa";var Xt=function(){const{t:e,handleSubmit:t,handleReset:n,handleChange:s,setName:i,errors:c,name:o,email:l,setEmail:u,languageOptions:d,lang:p,setLang:m,subscribe:f,setSubscribe:h,hasChanges:g,isFetching:b}=function(){const e=Object(H.a)(),{i18n:t,t:n}=Object(R.useTranslation)(),r=Object(Ce.a)(),[s,i]=Object(a.useState)(r.email),[c,o]=Object(a.useState)(r.name),[l,u]=Object(a.useState)(r.subscribe),[d,p]=Object(a.useState)(r.lang),[m,f]=Object(a.useState)({}),[h,g]=Object(a.useState)(!1),[b,v]=Object(a.useState)(!1);return{t:n,handleSubmit:async function(a){a.preventDefault(),g(!0);try{const a=await e.api.users.updateMyAccount({payload:{email:s,name:c,subscribe:l,lang:d}});await t.changeLanguage(a.lang),f({}),v(!1),Jt.a.notify(n("accountForm.success"),{showClose:!0,closeDelay:Qt.a})}catch(e){G.g.is(e)?f(e.errors):Object(Ge.a)(e)}finally{g(!1)}},handleReset:function(e){e.preventDefault(),i(r.email),o(r.name),u(r.subscribe),p(r.lang),f({}),v(!1)},handleChange:e=>t=>{const n=t.target,a="checkbox"===n.type?n.checked:n.value;e(a),v(!0)},setName:o,errors:m,name:c,email:s,setEmail:i,languageOptions:$t,lang:d,setLang:p,subscribe:l,setSubscribe:u,hasChanges:b,isFetching:h}}();return r.a.createElement("form",{onSubmit:t,onReset:n},r.a.createElement(at.a,{label:e("accountForm.label.name"),id:"account_name",name:"name",value:o,placeholder:e("accountForm.placeholder.name"),onChange:s(i),errors:null==c?void 0:c.name}),r.a.createElement(at.a,{label:e("accountForm.label.email"),id:"account_email",name:"email",value:l,placeholder:e("accountForm.placeholder.email"),onChange:s(u),errors:null==c?void 0:c.email}),r.a.createElement(at.a,{label:e("accountForm.label.language"),component:Kt.a,options:d,id:"account_lang",name:"lang",value:p,onChange:s(m),errors:null==c?void 0:c.lang}),r.a.createElement(rt.a,null,r.a.createElement(Xe.a,{to:"/s/account/change-password",btnStyle:"secondary",outline:!0},e("accountForm.button.change_password"))),r.a.createElement(at.a,{component:Gt.a,id:"account_subscribe",name:"subscribe",checked:f,onChange:s(h),placeholder:e("accountForm.placeholder.subscribe")}),r.a.createElement(Zt.a,{align:"right"},g&&r.a.createElement(st.a,{className:Yt,btnStyle:"secondary",outline:!0,type:"reset"},e("accountForm.button.reset")),r.a.createElement(st.a,{className:Yt,disabled:!g||b,type:"submit"},e("accountForm.button.save"))))},en=n("5WIS");var tn="_37x8kyKS";var nn=function(){const{t:e,handleSubmit:t,password:n,handleChange:s,setPassword:i,errors:c,passwordRepeat:o,setPasswordRepeat:l,disableButton:u}=(()=>{const e=Object(H.a)(),{t:t}=Object(R.useTranslation)(),n=Object(v.g)(),[r,s]=Object(a.useState)(""),[i,c]=Object(a.useState)(""),[o,l]=Object(a.useState)({}),[u,d]=Object(a.useState)(!1),[p,m]=Object(a.useState)(!1),f=!p||u||Object(en.a)(r)||Object(en.a)(i);return{t:t,handleSubmit:async function(a){if(a.preventDefault(),r===i){d(!0);try{await e.api.users.changeMyPassword({payload:{password:r}}),n.push("/s/account"),Jt.a.notify(t("changePasswordForm.success"),{showClose:!0,closeDelay:Qt.a})}catch(e){G.g.is(e)?l(e.errors):Object(Ge.a)(e),d(!1)}}else l({passwordRepeat:t("changePasswordForm.mismatch")})},password:r,handleChange:e=>t=>{const n=t.target.value;e(n),m(!0)},setPassword:s,errors:o,passwordRepeat:i,setPasswordRepeat:c,disableButton:f}})();return r.a.createElement("form",{onSubmit:t},r.a.createElement(L.n,{label:e("changePasswordForm.label.new_password"),id:"new_password",name:"password",lazy:!0,value:n,placeholder:e("changePasswordForm.placeholder.new_password"),onChange:s(i),errors:c.password}),r.a.createElement(at.a,{label:e("changePasswordForm.label.new_password_repeat"),id:"new_password_repeat",name:"passwordRepeat",type:"password",value:o,placeholder:e("changePasswordForm.placeholder.new_password_repeat"),onChange:s(l),errors:c.passwordRepeat}),r.a.createElement(Zt.a,{align:"right"},r.a.createElement(st.a,{className:tn,disabled:u,type:"submit"},e("changePasswordForm.button.save"))))},an="_2mHcUSZH",rn="_2cIZ7bTb";const sn=()=>r.a.createElement(Ht.a,null,r.a.createElement(Xt,null)),cn=()=>r.a.createElement(Ht.a,null,r.a.createElement(nn,null));var on=()=>r.a.createElement("div",{className:an},r.a.createElement("div",{className:rn},r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/s/account",component:sn}),r.a.createElement(v.b,{exact:!0,path:"/s/account/change-password",component:cn})))),ln="W_EfPiX6",un="_2liNziRH",dn="_22eSX2pD",pn="_2TA7-sv4";function mn(){return(mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}class fn extends r.a.Component{render(){const{className:e,hasError:t,value:n,disableButton:a,submitLabel:s,fetching:i,...c}=this.props;return r.a.createElement("div",{className:k()(ln,e)},r.a.createElement("input",mn({className:k()(un,{[dn]:t}),value:n,type:"text"},c)),r.a.createElement(st.a,{className:pn,isFetching:i,disabled:!n||0===n.length||a,type:"submit"},s))}}fn.defaultProps={hasError:!1,disableButton:!1,fetching:!1};var hn="_2KNNOPVG",gn="_1JTPIq92",bn="_1CdKyd1o",vn="xQ6C4RRn";function yn(){return(yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function En(){const{t:e}=Object(R.useTranslation)(),t=Object(H.a)(),a=Object(K.a)({initialValues:{email:"",role:"manager"},onSubmit:async(e,n)=>{let{resetForm:a}=n;await t.api.team.create({payload:e}),a()}});return a.errors.payment?r.a.createElement(v.a,{to:{pathname:"/restricted",state:{reason:{code:"upgradeTeamLimit"},referrer:"/s/team"}}}):r.a.createElement("form",{className:hn,onSubmit:a.handleSubmit},r.a.createElement("div",{className:gn},r.a.createElement("img",{src:n("WMO/"),alt:""}),r.a.createElement("img",{src:n("tSrR"),alt:""})),r.a.createElement("h2",{className:bn},e("inviteForm.heading")),r.a.createElement("div",{className:vn},e("inviteForm.invite_text")),r.a.createElement(at.a,yn({component:fn,placeholder:e("inviteForm.placeholder"),submitLabel:e("inviteForm.button"),fetching:a.isSubmitting,errors:a.errors.email},a.getFieldProps("email"))))}var On=n("lblK"),jn="oeMXT34_",wn="_3lRfv4mB";function _n(){return(_n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var kn=a.createElement("path",{d:"M10 8.674L6.906 5.581a.937.937 0 10-1.325 1.325L8.674 10l-3.093 3.094a.937.937 0 101.325 1.325L10 11.326l3.094 3.093a.938.938 0 001.325-1.325L11.326 10l3.093-3.094a.938.938 0 00-1.325-1.325L10 8.674zM10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10z",fill:"currentColor",fillRule:"evenodd"});var Nn=function(e){return a.createElement("svg",_n({width:20,height:20},e),kn)};var Cn=e=>{let{className:t,onClick:n,tooltip:a}=e;return r.a.createElement("a",{href:"#",className:k()(jn,t),onClick:n,"data-tooltip":a},r.a.createElement(Nn,{className:wn}))},Pn="_3Q_pkSyF",Sn="_2J50I4aM",xn="_1dMcLn1n",Tn="_2r0n4XML",In="_1Hjf9llK",Mn="_2kQpRN0q",Ln="_2HsMUV7S";const Rn=e=>{let{item:t,onDelete:n}=e;const{t:s}=Object(R.useTranslation)(),i="Invite"===t.kind,c=Object(a.useCallback)(e=>{e.preventDefault(),n(t)},[t]);return r.a.createElement("tr",{key:t._id,className:k()({[Mn]:!i,[Ln]:i})},r.a.createElement("td",null,i?r.a.createElement(On.a,{className:Sn,name:t.email}):r.a.createElement(On.a,{className:Sn,src:t.user.avatarUrl,name:t.user.name})),r.a.createElement("td",null,i?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:In},s("membersList.invite_sending")),r.a.createElement("div",{className:xn},t.email)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Tn},t.user.name),r.a.createElement("div",{className:xn},t.user.email))),r.a.createElement("td",null,s("membersList.roleLabels."+t.role)),r.a.createElement("td",null,(i||"owner"!==t.role)&&r.a.createElement(Cn,{onClick:c,tooltip:s(i?"membersList.tooltip_delete_invite":"membersList.tooltip_delete_member")})))};function An(e){let{team:t,onRemove:n}=e;const{t:a}=Object(R.useTranslation)();return r.a.createElement("table",{className:Pn},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,a("membersList.thead.name")),r.a.createElement("th",null,a("membersList.thead.permissions")),r.a.createElement("th",null))),r.a.createElement("tbody",null,t.map(e=>r.a.createElement(Rn,{key:e._id,item:e,onDelete:n}))))}function Fn(){const e=Object(H.a)(),t=Object(Ne.a)();return r.a.createElement("div",null,r.a.createElement(En,null),r.a.createElement(An,{team:t.team,onRemove:async t=>{await e.api.team.delete({memberId:t._id})}}))}var Dn=n("MSOi"),Un=n("8sKS"),Bn=n("RlQE"),qn=n("cpKZ"),zn="G8TdYUbb",Vn="_2L89aX2l",Wn="_1JlMEf7A",Hn="YXci-O2Y";const Kn=e=>{var t;let{title:n,backPath:s,titleRightContent:i,preferDynamicBack:c,slim:o}=e;const l=Object(v.g)(),u=c&&!(null!==(t=l.location.state)&&void 0!==t&&t.preventDynamicBack),d=Object(a.useCallback)(e=>{u&&(e.preventDefault(),l.goBack())},[u]);return r.a.createElement("div",{className:k()(zn,o&&Hn)},r.a.createElement(A.c,{to:s,className:Vn,onClick:d},r.a.createElement(qe.a,{size:24,color:"#333"})),n&&r.a.createElement("h1",{className:Wn},n),i)};Kn.defaultProps={title:null,titleRightContent:null,preferDynamicBack:!1};var Gn={root:"_1sHCDeA4",topPanel:"_3AWMgx2m",slim:"_3O-HgrNL",content:"_1z7XjybI",padded:"_1x5NOas6"};function Zn(){return(Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const Qn=e=>{let{title:t,children:n,backPath:s,topPanelChildren:i,titleRightContent:c,light:o,inverse:l,nopadding:u,preferDynamicBack:d,forceTop:p,slimTop:m,...f}=e;return Object(a.useEffect)(()=>{const e=document.querySelector("#mainRoot > div");e&&p&&(e.scrollTop=0)},[p]),r.a.createElement("div",Object(qn.a)(k()(Gn.root,o&&Gn.light,l&&Gn.inverse,!u&&Gn.padded),f),r.a.createElement("div",Zn({className:k()(Gn.topPanel,m&&Gn.slim)},f),r.a.createElement(Kn,Zn({title:t,backPath:s,titleRightContent:c,preferDynamicBack:d,slim:m},f)),i),r.a.createElement("div",{className:Gn.content},n))};Qn.defaultProps={topPanelChildren:null,forceTop:!0,backPath:""};var Jn=n("S955"),$n=n("S7Cj"),Yn=n("CzCp"),Xn=n("gKaQ"),ea=n("WQmb"),ta=$n.a.isFinite,na=Math.min;var aa=function(e){var t=Math[e];return function(e,n){if(e=Object(Xn.a)(e),(n=null==n?0:na(Object(Yn.a)(n),292))&&ta(e)){var a=(Object(ea.a)(e)+"e").split("e"),r=t(a[0]+"e"+(+a[1]+n));return+((a=(Object(ea.a)(r)+"e").split("e"))[0]+"e"+(+a[1]-n))}return t(e)}}("round"),ra="xVKa0nHG";function sa(e){let{children:t}=e;return r.a.createElement("div",{className:ra},t)}n("S8wj");var ia=n("drUJ");const ca=()=>{},oa=ca(),la=Object,ua=e=>e===oa,da=e=>"function"==typeof e,pa=(e,t)=>({...e,...t}),ma=new WeakMap;let fa=0;const ha=e=>{const t=typeof e,n=e&&e.constructor,a=n==Date;let r,s;if(la(e)!==e||a||n==RegExp)r=a?e.toJSON():"symbol"==t?e.toString():"string"==t?JSON.stringify(e):""+e;else{if(r=ma.get(e),r)return r;if(r=++fa+"~",ma.set(e,r),n==Array){for(r="@",s=0;s<e.length;s++)r+=ha(e[s])+",";ma.set(e,r)}if(n==la){r="#";const t=la.keys(e).sort();for(;!ua(s=t.pop());)ua(e[s])||(r+=s+":"+ha(e[s])+",");ma.set(e,r)}}return r},ga=new WeakMap,ba={},va={},ya="undefined"!=typeof window,Ea="undefined"!=typeof document,Oa=(e,t)=>{const n=ga.get(e);return[()=>!ua(t)&&e.get(t)||ba,a=>{if(!ua(t)){const r=e.get(t);t in va||(va[t]=r),n[5](t,pa(r,a),r||ba)}},n[6],()=>!ua(t)&&t in va?va[t]:!ua(t)&&e.get(t)||ba]};let ja=!0;const[wa,_a]=ya&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[ca,ca],ka={isOnline:()=>ja,isVisible:()=>{const e=Ea&&document.visibilityState;return ua(e)||"hidden"!==e}},Na={initFocus:e=>(Ea&&document.addEventListener("visibilitychange",e),wa("focus",e),()=>{Ea&&document.removeEventListener("visibilitychange",e),_a("focus",e)}),initReconnect:e=>{const t=()=>{ja=!0,e()},n=()=>{ja=!1};return wa("online",t),wa("offline",n),()=>{_a("online",t),_a("offline",n)}}},Ca=!r.a.useId,Pa=!ya||"Deno"in window,Sa=e=>ya&&void 0!==window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,1),xa=Pa?a.useEffect:a.useLayoutEffect,Ta="undefined"!=typeof navigator&&navigator.connection,Ia=!Pa&&Ta&&(["slow-2g","2g"].includes(Ta.effectiveType)||Ta.saveData),Ma=e=>{if(da(e))try{e=e()}catch(t){e=""}const t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?ha(e):"",t]};let La=0;const Ra=()=>++La;var Aa=3,Fa=0,Da=2,Ua=1;async function Ba(...e){const[t,n,a,r]=e,s=pa({populateCache:!0,throwOnError:!0},"boolean"==typeof r?{revalidate:r}:r||{});let i=s.populateCache;const c=s.rollbackOnError;let o=s.optimisticData;const l=!1!==s.revalidate,u=s.throwOnError;if(da(n)){const e=n,a=[],r=t.keys();for(const n of r)!/^\$(inf|sub)\$/.test(n)&&e(t.get(n)._k)&&a.push(n);return Promise.all(a.map(d))}return d(n);async function d(n){const[r]=Ma(n);if(!r)return;const[s,d]=Oa(t,r),[p,m,f,h]=ga.get(t),g=()=>{const e=p[r];return l&&(delete f[r],delete h[r],e&&e[0])?e[0](2).then(()=>s().data):s().data};if(e.length<3)return g();let b,v=a;const y=Ra();m[r]=[y,0];const E=!ua(o),O=s(),j=O.data,w=O._c,_=ua(w)?j:w;if(E&&(o=da(o)?o(_,j):o,d({data:o,_c:_})),da(v))try{v=v(_)}catch(e){b=e}if(v&&da(v.then)){if(v=await v.catch(e=>{b=e}),y!==m[r][0]){if(b)throw b;return v}b&&E&&(e=>"function"==typeof c?c(e):!1!==c)(b)&&(i=!0,d({data:_,_c:oa}))}if(i&&!b)if(da(i)){const e=i(v,_);d({data:e,error:oa,_c:oa})}else d({data:v,error:oa,_c:oa});if(m[r][1]=Ra(),Promise.resolve(g()).then(()=>{d({_c:oa})}),!b)return v;if(u)throw b}}const qa=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},za=(e,t)=>{if(!ga.has(e)){const n=pa(Na,t),a={},r=Ba.bind(oa,e);let s=ca;const i={},c=(e,t)=>{const n=i[e]||[];return i[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},o=(t,n,a)=>{e.set(t,n);const r=i[t];if(r)for(const e of r)e(n,a)},l=()=>{if(!ga.has(e)&&(ga.set(e,[a,{},{},{},r,o,c]),!Pa)){const t=n.initFocus(setTimeout.bind(oa,qa.bind(oa,a,0))),r=n.initReconnect(setTimeout.bind(oa,qa.bind(oa,a,1)));s=()=>{t&&t(),r&&r(),ga.delete(e)}}};return l(),[e,r,l,s]}return[e,ga.get(e)[4]]},[Va,Wa]=za(new Map),Ha=pa({onLoadingSlow:ca,onSuccess:ca,onError:ca,onErrorRetry:(e,t,n,a,r)=>{const s=n.errorRetryCount,i=r.retryCount,c=~~((Math.random()+.5)*(1<<(i<8?i:8)))*n.errorRetryInterval;!ua(s)&&i>s||setTimeout(a,c,r)},onDiscarded:ca,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Ia?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:Ia?5e3:3e3,compare:(e,t)=>ha(e)==ha(t),isPaused:()=>!1,cache:Va,mutate:Wa,fallback:{}},ka),Ka=(e,t)=>{const n=pa(e,t);if(t){const{use:a,fallback:r}=e,{use:s,fallback:i}=t;a&&s&&(n.use=a.concat(s)),r&&i&&(n.fallback=pa(r,i))}return n},Ga=Object(a.createContext)({}),Za=ya&&window.__SWR_DEVTOOLS_USE__,Qa=Za?window.__SWR_DEVTOOLS_USE__:[],Ja=e=>da(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],$a=Qa.concat(e=>(t,n,a)=>e(t,n&&((...e)=>{const[a]=Ma(t),[,,,r]=ga.get(Va);if(a.startsWith("$inf$"))return n(...e);const s=r[a];return ua(s)?n(...e):(delete r[a],s)}),a));Za&&(window.__SWR_DEVTOOLS_REACT__=r.a);const Ya=r.a.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)}),Xa={dedupe:!0},er=(la.defineProperty(e=>{const{value:t}=e,n=Object(a.useContext)(Ga),r=da(t),s=Object(a.useMemo)(()=>r?t(n):t,[r,n,t]),i=Object(a.useMemo)(()=>r?s:Ka(n,s),[r,n,s]),c=s&&s.provider,o=Object(a.useRef)(oa);c&&!o.current&&(o.current=za(c(i.cache||Va),s));const l=o.current;return l&&(i.cache=l[0],i.mutate=l[1]),xa(()=>{if(l)return l[2]&&l[2](),l[3]},[]),Object(a.createElement)(Ga.Provider,pa(e,{value:i}))},"defaultValue",{value:Ha}),tr=(e,t,n)=>{const{cache:r,compare:s,suspense:i,fallbackData:c,revalidateOnMount:o,revalidateIfStale:l,refreshInterval:u,refreshWhenHidden:d,refreshWhenOffline:p,keepPreviousData:m}=n,[f,h,g,b]=ga.get(r),[v,y]=Ma(e),E=Object(a.useRef)(!1),O=Object(a.useRef)(!1),j=Object(a.useRef)(v),w=Object(a.useRef)(t),_=Object(a.useRef)(n),k=()=>_.current,N=()=>k().isVisible()&&k().isOnline(),[C,P,S,x]=Oa(r,v),T=Object(a.useRef)({}).current,I=ua(c)?n.fallback[v]:c,M=(e,t)=>{for(const n in T){const a=n;if("data"===a){if(!s(e[a],t[a])){if(!ua(e[a]))return!1;if(!s(z,t[a]))return!1}}else if(t[a]!==e[a])return!1}return!0},L=Object(a.useMemo)(()=>{const e=!!v&&!!t&&(ua(o)?!k().isPaused()&&!i&&(!!ua(l)||l):o),n=t=>{const n=pa(t);return delete n._k,e?{isValidating:!0,isLoading:!0,...n}:n},a=C(),r=x(),s=n(a),c=a===r?s:n(r);let u=s;return[()=>{const e=n(C());return M(e,u)?(u.data=e.data,u.isLoading=e.isLoading,u.isValidating=e.isValidating,u.error=e.error,u):(u=e,e)},()=>c]},[r,v]),R=Object(ia.useSyncExternalStore)(Object(a.useCallback)(e=>S(v,(t,n)=>{M(n,t)||e()}),[r,v]),L[0],L[1]),A=!E.current,F=f[v]&&f[v].length>0,D=R.data,U=ua(D)?I:D,B=R.error,q=Object(a.useRef)(U),z=m?ua(D)?q.current:D:U,V=!(F&&!ua(B))&&(A&&!ua(o)?o:!k().isPaused()&&(i?!ua(U)&&l:ua(U)||l)),W=!!(v&&t&&A&&V),H=ua(R.isValidating)?W:R.isValidating,K=ua(R.isLoading)?W:R.isLoading,G=Object(a.useCallback)(async e=>{const t=w.current;if(!v||!t||O.current||k().isPaused())return!1;let a,r,i=!0;const c=e||{},o=!g[v]||!c.dedupe,l=()=>Ca?!O.current&&v===j.current&&E.current:v===j.current,u={isValidating:!1,isLoading:!1},d=()=>{P(u)},p=()=>{const e=g[v];e&&e[1]===r&&delete g[v]},m={isValidating:!0};ua(C().data)&&(m.isLoading=!0);try{if(o&&(P(m),n.loadingTimeout&&ua(C().data)&&setTimeout(()=>{i&&l()&&k().onLoadingSlow(v,n)},n.loadingTimeout),g[v]=[t(y),Ra()]),[a,r]=g[v],a=await a,o&&setTimeout(p,n.dedupingInterval),!g[v]||g[v][1]!==r)return o&&l()&&k().onDiscarded(v),!1;u.error=oa;const e=h[v];if(!ua(e)&&(r<=e[0]||r<=e[1]||0===e[1]))return d(),o&&l()&&k().onDiscarded(v),!1;const c=C().data;u.data=s(c,a)?c:a,o&&l()&&k().onSuccess(a,v,n)}catch(e){p();const t=k(),{shouldRetryOnError:n}=t;t.isPaused()||(u.error=e,o&&l()&&(t.onError(e,v,t),(!0===n||da(n)&&n(e))&&N()&&t.onErrorRetry(e,v,t,e=>{const t=f[v];t&&t[0]&&t[0](Aa,e)},{retryCount:(c.retryCount||0)+1,dedupe:!0})))}return i=!1,d(),!0},[v,r]),Z=Object(a.useCallback)((...e)=>Ba(r,j.current,...e),[]);if(xa(()=>{w.current=t,_.current=n,ua(D)||(q.current=D)}),xa(()=>{if(!v)return;const e=G.bind(oa,Xa);let t=0;const n=((e,t,n)=>{const a=t[e]||(t[e]=[]);return a.push(n),()=>{const e=a.indexOf(n);e>=0&&(a[e]=a[a.length-1],a.pop())}})(v,f,(n,a={})=>{if(n==Fa){const n=Date.now();k().revalidateOnFocus&&n>t&&N()&&(t=n+k().focusThrottleInterval,e())}else if(n==Ua)k().revalidateOnReconnect&&N()&&e();else{if(n==Da)return G();if(n==Aa)return G(a)}});return O.current=!1,j.current=v,E.current=!0,P({_k:y}),V&&(ua(U)||Pa?e():Sa(e)),()=>{O.current=!0,n()}},[v]),xa(()=>{let e;function t(){const t=da(u)?u(C().data):u;t&&-1!==e&&(e=setTimeout(n,t))}function n(){C().error||!d&&!k().isVisible()||!p&&!k().isOnline()?t():G(Xa).then(t)}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[u,d,p,v]),Object(a.useDebugValue)(z),i&&ua(U)&&v){if(!Ca&&Pa)throw new Error("Fallback data is required when using suspense in SSR.");w.current=t,_.current=n,O.current=!1;const e=b[v];if(!ua(e)){const t=Z(e);Ya(t)}if(!ua(B))throw B;{const e=G(Xa);ua(z)||(e.status="fulfilled",e.value=!0),Ya(e)}}return{mutate:Z,get data(){return T.data=!0,z},get error(){return T.error=!0,B},get isValidating(){return T.isValidating=!0,H},get isLoading(){return T.isLoading=!0,K}}},function(...e){const t=pa(Ha,Object(a.useContext)(Ga)),[n,r,s]=Ja(e),i=Ka(t,s);let c=tr;const{use:o}=i,l=(o||[]).concat($a);for(let e=l.length;e--;)c=l[e](c);return c(n,r||i.fetcher||null,i)});var tr;function nr(){const{api:e}=Object(H.a)(),t=Object(y.d)(e=>e.workspace._id),{data:n}=er(`api/workspaces/${t}/billing/products/prices`,()=>e.billing.products.prices(),{suspense:!0});return n}function ar(e){const{isCurrentPlan:t,subscription:n,currentPlanPeriod:r}=Object(y.d)(t=>{var n,a,r,s;let{billingDetails:i}=t;const c=(null===(n=i.result)||void 0===n||null===(a=n.subscription)||void 0===a||null===(r=a.plan)||void 0===r?void 0:r.id)===e,o=null===(s=i.result)||void 0===s?void 0:s.subscription;return{subscription:o,isCurrentPlan:c,currentPlanPeriod:null==o?void 0:o.period}}),s=nr();return{plan:Object(a.useMemo)(()=>null==s?void 0:s.find(t=>t.id===e),[s,e]),subscription:n,isCurrentPlan:t,currentPlanPeriod:r}}const{useTranslation:rr}=n("kkZN");function sr(){const{t:e}=rr();return Object(a.useCallback)(t=>{let{amount:n,currency:a}=t;return e("prices."+a,{amount:n,defaultValue:`${n} ${a}`})},[e])}function ir(){return(ir=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var cr=a.createElement("path",{d:"M12.333 1L5 8.333 1.667 5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"});var or=function(e){return a.createElement("svg",ir({width:14,height:10,fill:"none"},e),cr)},lr={logo:"_3LNdAEX0",heading:"_3pIiy1j_",plansList:"_11RlFVBB",active:"oz0o6GOb",disabled:"_1sG8hCaR",plansListTextLine:"_3hFrKh3l",label:"_2RZzn7fN",currentPeriod:"_3FMRluxu",featuresList:"_2ya_KdSN",checkIcon:"_1AFeVtp0",footerCta:"c0npVHSR",terms:"pjmGH3Xl"},ur=n("9Mw8"),dr=n("SVdZ"),pr=n("cNRa"),mr=n.n(pr);function fr(e){const{total:t,currency:n}=e.eventData.checkout.prices.customer;return{amount:t,currency:n}}const hr={disableLogout:!0,allowQuantity:!1,coupon:ue.a.paddle_coupon},gr={...hr,method:"inline",frameTarget:"checkout-container",frameInitialHeight:416,frameStyle:"width:100%; background-color: transparent; border: none;"},br={...hr};mr.a.func,mr.a.func,mr.a.func,mr.a.func,mr.a.func,mr.a.func,mr.a.func,mr.a.func,mr.a.func,mr.a.string,mr.a.string,mr.a.number,mr.a.string,mr.a.string,mr.a.object,mr.a.bool;function vr(e){let{onPaymentComplete:t,onApplyCoupon:n,onRemoveCoupon:s,onComplete:i,onChangeCountry:c,onError:o,onLoad:l,onSelectPaymentMethod:u,onClose:d,inline:p=!1,...m}=e;const f=p?gr:br,{isReady:h}=function(e){let{setup:t,...n}=e;const r=function(e){let{eventCallback:t}=e;const[n,r]=Object(a.useState)(null);return Object(a.useEffect)(()=>{!async function(){const e=await(n={vendor:ue.a.paddle_vendor_id,eventCallback:t},new Promise((e,t)=>{try{if("Paddle"in window)window.Paddle.Options(n),e(window.Paddle);else{const a=document.createElement("script");a.src="https://cdn.paddle.com/paddle/paddle.js",a.async=!0;const r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(a,r),a.addEventListener("load",()=>{ue.a.paddle_sandbox&&window.Paddle.Environment.set("sandbox"),window.Paddle.Setup(n),e(window.Paddle)}),a.addEventListener("error",t)}}catch(e){t(e)}}));var n;r(e)}()},[t]),n}(t),[s,i]=Object(a.useState)(!1);return Object(a.useEffect)(()=>{if(!s&&r){r.Checkout.open(n);document.querySelector(".paddle-frame").addEventListener("load",()=>{i(!0)})}},[r,s]),{paddle:r,isReady:s}}({...f,...m,successCallback:()=>{},setup:{eventCallback:e=>{switch(e.event){case"Checkout.PaymentComplete":null==t||t({isPendingReview:!!e.eventData.flagged});break;case"Checkout.Coupon.Remove":null==s||s({price:fr(e)});break;case"Checkout.Coupon.Applied":null==n||n({price:fr(e),coupon:e.eventData.coupon.coupon_code});break;case"Checkout.Complete":null==i||i();break;case"Checkout.Location.Submit":null==c||c({price:fr(e),country:e.eventData.country});break;case"Checkout.Error":null==o||o({message:e.eventData.error,type:e.eventData.error_type});break;case"Checkout.Loaded":null==l||l({price:fr(e)});break;case"Checkout.PaymentMethodSelected":null==u||u({method:e.eventData.payment_method.toLowerCase()});break;case"Checkout.Close":null==d||d()}}}});return p?r.a.createElement("div",{className:"checkout-container"},!h&&r.a.createElement("div",{style:{width:"100%",height:300,display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(Jn.a,null))):null}function yr(){return(yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Er={paddle:{checkout:vr,changeCard:function(e){const{api:t}=Object(H.a)(),n=Object(v.g)(),{generateUrl:a}=Object(Bn.a)();return r.a.createElement(vr,yr({onComplete:async()=>{await t.billing.details(),n.push(a(".."))}},e))}},liqpay:{checkout:function(e){let{data:t,signature:n}=e;return r.a.createElement("form",{method:"POST",action:"https://www.liqpay.ua/api/3/checkout",acceptCharset:"utf-8"},r.a.createElement("input",{type:"hidden",name:"data",value:t}),r.a.createElement("input",{type:"hidden",name:"signature",value:n}),r.a.createElement(st.a,{fullWidth:!0},"Pay"))}}};function Or(){return(Or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}mr.a.string.isRequired,mr.a.oneOf(["monthly","annually"]).isRequired,mr.a.func;function jr(e){let{planId:t,period:n,onClose:a,...s}=e;const{api:i,checkout:c}=Object(H.a)(),{result:o}=ye(()=>i.billing.subscription.create({payload:{planId:t,period:n}}),[t]);if(!o)return null;const l=Er[o.provider].checkout;return r.a.createElement(l,Or({},s,o.params,{onPaymentComplete:c.completePayment,onApplyCoupon:c.applyCoupon,onRemoveCoupon:c.removeCoupon,onChangeCountry:c.changeCountry,onLoad:c.load,onError:c.error,onSelectPaymentMethod:c.selectPaymentMethod,onClose:()=>{null==a||a(),c.close()}}))}function wr(){return Object(y.d)(e=>e.workspace.billing.isTrialAvailable)}function _r(){return(_r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function kr(e){const{t:t}=Object(R.useTranslation)("billing"),n=wr();return r.a.createElement(st.a,_r({fullWidth:!0,style:{fontWeight:600,fontSize:16},"data-button":"choose-plan-and-continue"},e),n?t("pagePlans.choose_button.try_trial",{days:ue.a.trial}):t("pagePlans.choose_button.go_to_payment"))}var Nr=function(e){let{planId:t,period:n}=e;const[a,s]=Object(ur.a)(!1),i=Object(dr.a)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(kr,{onClick:()=>s(!0),"data-event":"click-subscribe","data-plan-id":t,"data-period":n}),a&&r.a.createElement(jr,{planId:t,period:n,onClose:()=>{i()&&s(!1)}}))},Cr=n("oZLZ"),Pr=n("l9gc"),Sr=n("eGoJ"),xr=n("dXwK"),Tr="_3XFZ3tgK",Ir="_2kI_YyVC",Mr="_2r3QGUNg",Lr="_31hEzM8q";function Rr(e){let{plan:t,period:n,isOpen:i,onAccept:c,onClose:o,pendingPlanChange:l}=e;const u=document.getElementById("mainRoot"),{t:d}=Object(R.useTranslation)("billing"),{api:p}=Object(H.a)(),{run:m,result:f,getValidationError:h}=Object(ve.a)(()=>p.billing.previewPlanChange({payload:{planId:t.id,period:n}}),[t,n]),g=null==f?void 0:f.currency,b=h("message");return Object(a.useEffect)(()=>{i&&m()},[i,m]),u?Object(s.createPortal)(r.a.createElement(Cr.a,null,i&&r.a.createElement(Pr.a,{onClose:o},r.a.createElement(Sr.a,{header:r.a.createElement(xr.a,{title:d("PlansPage.changePlanModal.title"),closePath:o})},f?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Mr},r.a.createElement("ul",{className:Lr},r.a.createElement("li",null,r.a.createElement("span",null,d("ConfirmSubscriptionPage.order.plan")),r.a.createElement("span",null,d("ConfirmSubscriptionPage.order."+n,{plan:t.name}))),r.a.createElement("li",null,r.a.createElement("span",null,d("ConfirmSubscriptionPage.order.total")),r.a.createElement("span",null,`${f.amount>0?f.amount:0} ${g}`)))),f.amount<0&&r.a.createElement("p",{style:{margin:"0 0 16px 6px",color:"#777",fontSize:14}},d("SinglePlanPage.balanceMessage",{balanceAmount:-f.amount,currency:g})),r.a.createElement(st.a,{tag:"div",fullWidth:!0,onClick:c,isFetching:l},d("PlansPage.changePlanModal.changePlan"))):b?r.a.createElement("div",{className:Tr},b):r.a.createElement("div",{className:Ir},r.a.createElement(Jn.a,null))))),u):null}function Ar(){return(Ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Fr(e){var t;let{planId:n,period:a}=e;const{t:s}=Object(R.useTranslation)("billing"),{url:i}=Object(v.j)(),{plan:c,subscription:o,isCurrentPlan:l}=ar(n),{api:u}=Object(H.a)(),[d,p]=Object(ur.a)(!1),m=Object(ve.a)(()=>u.billing.changePlan({payload:{planId:n,period:a}})),f={fullWidth:!0,style:{fontWeight:600,fontSize:16},"data-button":l?"change-plan-period":"change-plan-to",children:l?s("PlansPage.common.changePlanPeriod"):s("PlansPage.common.changePlanTo",{plan:c.name})};return null!=o&&null!==(t=o.actions)&&void 0!==t&&t.preview?r.a.createElement(r.a.Fragment,null,r.a.createElement(st.a,Ar({},f,{onClick:p,isFetching:m.pending})),r.a.createElement(Rr,{plan:c,period:a,isOpen:d,onAccept:m.run,onClose:p,pendingPlanChange:m.pending})):r.a.createElement(st.a,Ar({},f,{tag:A.c,to:`${i}/${a}`}))}function Dr(){const{t:e}=Object(R.useTranslation)("billing"),{plan:t}=Object(v.i)(),{plan:n,subscription:s,isCurrentPlan:i,currentPlanPeriod:c}=ar(t),[o,l]=Object(a.useState)(i&&"annually"===c?"monthly":"annually"),u=sr(),d=function(e,t){const n=Math.ceil(100-t/(12*e)*100);return Math.abs(n)}(n.prices.monthly.amount,n.prices.annually.amount),p=e("PlansPage.features."+n.id,{returnObjects:!0});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:lr.contentContainer},r.a.createElement("div",{className:lr.heading},r.a.createElement("h1",null,e("SinglePlanPage.heading",{planName:n.name})),r.a.createElement("p",null,e("SinglePlanPage.subHeading"))),r.a.createElement("ul",{className:lr.plansList},r.a.createElement("li",{className:k()({[lr.active]:"monthly"===o,[lr.disabled]:i&&"monthly"===c}),onClick:()=>l("monthly"),"data-event":"select-period","data-period":"monthly"},r.a.createElement("div",null,r.a.createElement("div",{className:lr.plansListTextLine},r.a.createElement("span",null,u(n.prices.monthly))," ",e("pagePlans.per_month"))),i&&"monthly"===c&&r.a.createElement("span",{className:k()(lr.label,lr.currentPeriod)},e("pagePlans.currentPeriod"))),r.a.createElement("li",{className:k()({[lr.active]:"annually"===o,[lr.disabled]:i&&"annually"===c}),onClick:()=>l("annually"),"data-event":"select-period","data-period":"annually"},r.a.createElement("div",null,r.a.createElement("div",{className:lr.plansListTextLine},r.a.createElement("span",null,u(n.prices.annually))," ",e("pagePlans.per_year")),r.a.createElement("div",{className:lr.plansListTextLine},e("ui:labels.or")," ",r.a.createElement("span",null,u({amount:aa(n.prices.annually.amount/12,2),currency:n.prices.annually.currency}))," ",e("pagePlans.per_month")),i&&"annually"===c?r.a.createElement("span",{className:k()(lr.label,lr.currentPeriod)},e("pagePlans.currentPeriod")):d?r.a.createElement("span",{className:lr.label},e("pagePlans.discount",{discount:d})):null))),r.a.createElement("ul",{className:lr.featuresList},p.map((t,n)=>r.a.createElement("li",{key:"feat_"+n},r.a.createElement("div",{className:lr.checkIcon},r.a.createElement(or,null)),e(t)))),r.a.createElement("div",{className:lr.footerCta},s?s.actions.changePlan?r.a.createElement(Fr,{planId:t,period:o}):r.a.createElement(sa,null,e("trialing"===s.status?"warnings.trial":"warnings.resume_subscription")):r.a.createElement(Nr,{planId:t,period:o}),r.a.createElement("div",{className:lr.terms},r.a.createElement("a",{href:"https://mssg.me/privacy-policy",target:"_blank",rel:"noopener noreferrer"},e("pagePlans.privacy")),r.a.createElement("a",{href:"https://mssg.me/terms-of-use",target:"_blank",rel:"noopener noreferrer"},e("pagePlans.terms"))))))}function Ur(){const{generateUrl:e}=Object(Bn.a)();return r.a.createElement(Qn,{backPath:e("../.."),preferDynamicBack:!0,light:!0},r.a.createElement(a.Suspense,{fallback:r.a.createElement(Jn.a,null)},r.a.createElement(Dr,null)))}var Br=n("ID3L"),qr=n.n(Br);function zr(){return(zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Vr=a.createElement("path",{d:"M8.376 9.763v5.928c0 1.077.902 1.95 2.013 1.95 1.112 0 2.013-.873 2.013-1.95V9.763c0-1.077-.901-1.95-2.013-1.95-1.111 0-2.013.873-2.013 1.95zM24.48 2.545v18.2c0 1.078.902 1.951 2.014 1.951 1.111 0 2.012-.873 2.012-1.95V2.545c0-1.077-.9-1.95-2.012-1.95s-2.014.873-2.014 1.95zM16.428 9.617v6.747c0 1.077.902 1.95 2.014 1.95 1.111 0 2.012-.873 2.012-1.95V9.617c0-1.077-.9-1.95-2.012-1.95s-2.014.873-2.014 1.95z",fill:"currentColor"}),Wr=a.createElement("path",{d:"M37.698 22.89l-16.992 7.925c-5.676 2.647-12.493.336-15.226-5.163a10.765 10.765 0 01-1.13-4.794V6.445c0-1.077-.901-1.95-2.013-1.95-1.112 0-2.013.873-2.013 1.95v14.413c0 2.246.522 4.463 1.528 6.486 3.698 7.44 12.92 10.567 20.6 6.985l16.993-7.926c1.002-.467 1.423-1.633.94-2.603-.482-.97-1.685-1.378-2.687-.91z",fill:"currentColor"});var Hr=function(e){return a.createElement("svg",zr({width:41,height:36,fill:"none"},e),Vr,Wr)},Kr="_3uUuiZkZ",Gr="_22h3mj3n",Zr="_1tqjLcLI",Qr="_32qGhwzN",Jr="_2TiUuRnR",$r="_3eTMO90z";function Yr(){const{t:e}=Object(R.useTranslation)("billing"),{generateUrl:t}=Object(Bn.a)(),{plan:n,period:a}=Object(v.i)(),{plan:s,allowPay:i}=Object(y.d)(e=>{let{billingDetails:{plans:t,result:a}}=e;return{plan:null==t?void 0:t.find(e=>e.id===n),allowPay:!(null!=a&&a.subscription)}}),c=Object(y.d)(e=>{var t,n;return null!==(t=e.checkout.price)&&void 0!==t?t:null==s||null===(n=s.prices)||void 0===n?void 0:n[a]}),o=sr(),l=wr(),u=t("../..");return s&&i?r.a.createElement(Qn,{light:!0,preferDynamicBack:!0,backPath:{pathname:u,state:{preventDynamicBack:!0}}},r.a.createElement("div",{className:Kr},r.a.createElement("div",{className:Gr},r.a.createElement(Hr,null)),r.a.createElement("div",{className:Zr},r.a.createElement("h1",null,ue.a.trial?e("ConfirmSubscriptionPage.title_confirm"):e("ConfirmSubscriptionPage.title"))),r.a.createElement("div",{className:Qr},r.a.createElement("ul",{className:Jr},r.a.createElement("li",null,r.a.createElement("span",null,e("ConfirmSubscriptionPage.order.plan")),r.a.createElement("span",null,e("ConfirmSubscriptionPage.order."+a,{plan:s.name}))),l?r.a.createElement("li",{style:{display:"block"}},r.a.createElement(R.Trans,{t:e,i18nKey:"ConfirmSubscriptionPage.order.charge_in_the_future",values:{days:ue.a.trial,chargedAt:qr()().add(ue.a.trial,"d").format("MMMM Do YYYY"),price:o(c)}})):r.a.createElement("li",null,r.a.createElement("span",null,e("ConfirmSubscriptionPage.order.total")),r.a.createElement("span",null,o(c))))),r.a.createElement("div",{className:$r},r.a.createElement(jr,{planId:n,period:a,inline:!0})))):r.a.createElement(v.a,{to:u})}function Xr(e){switch(e){case"USD":return"US$";case"RUB":return"₽";default:return e}}var es="_2D6O8buH",ts="_2eG50PDq",ns="_3VusCRWr",as="_3JVJdGpI",rs="_1oXXHwqd",ss="-JJG79Ay";function is(e){var t;let{Tag:n,plan:a}=e;const{t:s}=Object(R.useTranslation)("billing"),{generateUrl:i}=Object(Bn.a)(),c=Object(y.d)(e=>{var t;return null===(t=e.billingDetails.result)||void 0===t?void 0:t.subscription}),o=(null==c||null===(t=c.plan)||void 0===t?void 0:t.id)===a.id,l=null==c?void 0:c.period,u=(null==c?void 0:c.price)||a.prices[l],d=s("PlansPage.features."+a.id,{returnObjects:!0});return r.a.createElement(n,{className:es},r.a.createElement("div",{className:ts},r.a.createElement("h2",null,r.a.createElement("span",{className:ns},a.name),o&&r.a.createElement("span",{className:as},s("PlansPage.common.currentPlan"))),o&&r.a.createElement("p",null,r.a.createElement("span",null,u.amount," ",Xr(u.currency))," "+s("PlansPage.common."+l)),!o&&r.a.createElement("p",null,r.a.createElement("span",null,aa(a.prices.annually.amount/12,2)," ",Xr(a.prices.annually.currency))," "+s("PlansPage.common.perMonth"))),!c&&r.a.createElement(st.a,{tag:A.c,to:i(a.id),fullWidth:!0,outline:"pro400"!==a.id,style:{border:"pro400"!==a.id?"1px solid":"none",fontSize:16,fontWeight:"600"}},s("PlansPage.common.choose")," ",a.name),c&&r.a.createElement(st.a,{tag:A.c,to:i(a.id),fullWidth:!0,outline:!0,style:{border:"1px solid",fontSize:16,fontWeight:"600"}},o?s("PlansPage.common.changePlanPeriod"):s("PlansPage.common.changePlanTo",{plan:a.name})),r.a.createElement("ul",{className:rs},d.map((e,t)=>r.a.createElement("li",{key:t},r.a.createElement("div",{className:ss},r.a.createElement(or,null)),s(e)))))}is.defaultProps={Tag:"div"};var cs="_3qPruUx3",os="_2F6vOnhw",ls="_1NNnRilY",us="_3SdZaa9J";function ds(){const{t:e}=Object(R.useTranslation)("billing"),{generateUrl:t}=Object(Bn.a)(),{lang:n}=Object(Ce.a)(),a=nr();return 1===a.length?r.a.createElement(v.a,{to:t(a[0].id)}):r.a.createElement(Qn,{backPath:t(".."),preferDynamicBack:!0,style:{backgroundColor:"#f7f7fa"}},r.a.createElement("div",{className:cs},r.a.createElement("div",{className:os},r.a.createElement("h1",null,e("PlansPage.heading")),r.a.createElement("p",null,e("PlansPage.subHeading"))),r.a.createElement("ul",{className:ls},a.map(e=>r.a.createElement(is,{key:e.id,Tag:"li",plan:e}))),r.a.createElement("div",{className:us},r.a.createElement("h2",null,e("PlansPage.footerMessage")),r.a.createElement(st.a,{tag:"a",href:"https://mssg.me/"+("ru"===n?"help":"mssgmeen"),target:"_blank",rel:"noopener noreferrer",outline:!0,style:{background:"#fff",fontSize:16}},e("PlansPage.common.contactUs")))))}n("aEvj");var ps={badge:"_2S9opBlQ",price:"_2dwZvBVd",discountPlanPrice:"_28AHDP0F",lineThrough:"_3my8oTOv"};function ms(e){let{subscription:t}=e;const{t:n}=Object(R.useTranslation)("billing");if(!t)return r.a.createElement("span",{className:ps.root},r.a.createElement("span",null,"Free"));const{plan:a,price:s,period:i}=t;return r.a.createElement("span",{className:ps.root},r.a.createElement("span",{className:ps.name},a.name,!1),s&&r.a.createElement("span",{className:ps.price},n("billingHome.planLabel."+i,{price:s.amount,currency:s.currency})))}var fs={root:"_1fUx39bJ",blue:"_16u6-UJS",green:"_1k7N-_i0",red:"_3LdvfWtS"};const hs={trialing:"blue",active:"green",past_due:"red",canceled:"red",unpaid:"red",paused:"red",pre_paused:"red"},gs={pending:"blue",rejected:"red"};function bs(e){let{subscription:t,highRiskTransaction:n}=e;const{t:a}=Object(R.useTranslation)("billing");let s,i;if(t){const{status:e,trialEndedAt:n,pause:c}=t,o=n||(null==c?void 0:c.pausedFrom)||null,l=o?new Date(o):null;i=hs[e],s=r.a.createElement("span",{title:l&&a("{{date, LLL}}",{date:l})},a("billingHome.currentStatus."+e,{date:l,basic:"basic"}))}else n&&(i=gs[n.status],s=r.a.createElement("span",null,a("billingHome.highRiskTransaction."+n.status)));return r.a.createElement("span",{className:k()(fs.root,fs[i])},s)}const vs=e=>{let{invoice:t,currency:n}=e;const{t:a}=Object(R.useTranslation)("billing");return r.a.createElement(r.a.Fragment,null,a("billingHome.invoices.planned.details",{date:new Date(t.date),amount:t.price.amount,currency:t.price.currency||n}))};vs.propTypes={invoice:mr.a.shape({date:mr.a.number.isRequired,price:mr.a.shape({amount:mr.a.number.isRequired,currency:mr.a.string.isRequired})}).isRequired,currency:mr.a.string};var ys=vs;const Es={subscribed:"/s/billing",unsubscribed:"/s/billing/plans/pro400"};var Os="SoxgsALj",js="_2mFPel7L",ws="knq-FpCF",_s="_1waEN8Uq",ks="Ec_-2Jas",Ns="_9lRL3vxj",Cs="_29vX7mve";function Ps(){return(Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ss(e){let{title:t,url:n,status:a,badge:s,tag:i,children:c,dataElement:o,...l}=e;const u=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:_s,title:t},t),n&&r.a.createElement("span",{className:ks},n),a&&r.a.createElement("span",{className:Cs},a),r.a.createElement("div",{className:Ns},s,r.a.createElement(qe.h,{size:22,color:"#333"})));return r.a.createElement(i,Ps({},Object(qn.a)([Os,!!c&&js],l),o?{"data-element":o}:{}),c,c?r.a.createElement("div",{className:ws},u):u)}Ss.defaultProps={tag:A.c,url:"",status:"",children:null,className:"",dataElement:""};var xs=Ss;function Ts(e){let{title:t,description:n}=e;const s=function(){let{preventDynamicBack:e=!1,reason:t=!0,code:n,target:r="pro"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{generateUrl:s}=Object(Bn.a)({useMatchUrl:!0}),{isAdmin:i}=Object(Pt.a)(),c=Object(y.d)(e=>{var t;return null===(t=e.billingDetails.result)||void 0===t?void 0:t.subscription}),o=Object(a.useMemo)(()=>{var a;const o=(null==c||null===(a=c.plan)||void 0===a?void 0:a.id)||"basic";return{pathname:s(c?Es.subscribed:Es.unsubscribed),state:{preventDynamicBack:e,reason:t&&{code:n||(i?"upgrade":"manager"),plan:o,target:r},referrer:s(".")}}},[c]);return o}();return r.a.createElement(xs,{title:t,url:n,to:s,style:{width:"100%",border:"1px solid #2979FF",background:"#F3F8FF",boxShadow:"none"},dataElement:"upgrade-pane","data-event":"click-upgrade","data-variant":"banner"})}function Is(){const{t:e}=Object(R.useTranslation)("ui");return r.a.createElement(Ts,{title:e("misc.trial.pane.title",{days:ue.a.trial}),description:e("misc.trial.pane.description")})}function Ms(){const{t:e}=Object(R.useTranslation)("ui");return r.a.createElement(Ts,{title:e("misc.promo.pane.title"),description:e("misc.promo.pane.description")})}function Ls(){const{isFree:e}=Object(xt.a)(),t=wr();return e?t?r.a.createElement(Is,null):r.a.createElement(Ms,null):null}var Rs=n("1isK"),As=n("oxvr"),Fs="_23p_C1mw",Ds="_3Lr7F6US",Us="_3s42ekIw",Bs="_16WufbkG",qs="_3HMnHk-o",zs="_3GjKOUgc";function Vs(e){let{toggleSupport:t}=e;const{t:n}=Object(R.useTranslation)("billing"),{api:a}=Object(H.a)(),{billing:{retryingPayment:s}}=Object(xt.a)(),[i,c]=Object(ur.a)(!1),o=Object(ve.a)(()=>a.billing.subscription.payNow());return r.a.createElement(r.a.Fragment,null,r.a.createElement(st.a,{type:"button",onClick:()=>{o.run(),c()},fullWidth:!0,btnStyle:"primary","data-event":"click-pay-now",isFetching:o.pending||i,disabled:s,beforeIcon:s&&r.a.createElement(Rs.a,{size:14}),afterIcon:s&&r.a.createElement("div",{style:{width:34,height:34}})},n(s?"payNowMessage.button.paymentInProgress":"payNowMessage.button.payNow")),i&&o.fulfilled&&r.a.createElement(As.a,{onClose:c,render:e=>{let{handleClose:a}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Fs,onClick:a},r.a.createElement(qe.B,{size:22,color:"#333"})),r.a.createElement("div",{className:Ds},r.a.createElement("div",{className:Us},"😉"),r.a.createElement("h3",{className:Bs},n("payNowMessage.title")),r.a.createElement("p",{className:qs},n("payNowMessage.subtitle")),r.a.createElement("div",null,t&&r.a.createElement(st.a,{type:"button",onClick:t,fullWidth:!0,btnStyle:"secondary2",className:zs},n("payNowMessage.button.support")),r.a.createElement(st.a,{type:"button",onClick:a,fullWidth:!0,btnStyle:"primary"},n("payNowMessage.button.close")))))}}))}var Ws=n("OsH9"),Hs=n("hycj"),Ks=n("AXAf"),Gs=n("kciy");function Zs(e){let{onSubmit:t,onClose:n}=e;const{t:s}=Object(R.useTranslation)("billing"),{billing:i}=Object(xt.a)(),[c,o]=Object(a.useState)(!1),l=Object(a.useMemo)(()=>({reason:i.unsubscribeReason.reason}),[i.unsubscribeReason.reason]),u=Object(a.useCallback)(async e=>{await t(e),o(!0)},[t]);return r.a.createElement(Ws.a,{initialValues:l,validateOnMount:!0,onSubmit:u},e=>r.a.createElement(Hs.a,{autoComplete:"off"},r.a.createElement(Ks.a,{required:!0,builderInput:!0,style:{marginBottom:0},placeholder:s("UnsubscribeModal.reasonPlaceholder"),name:"reason",maxLength:5e3,minRows:4,maxRows:8}),r.a.createElement(Gs.a,{btnStyle:"danger",fullWidth:!0,size:"standart",isInitialHidden:!1,disabled:c||e.isSubmitting,style:{marginTop:24,fontSize:16},isFetching:e.isSubmitting},s("UnsubscribeModal.buttons.cancelSubscription")),r.a.createElement(st.a,{tag:"div",fullWidth:!0,btnStyle:"secondary2",style:{marginTop:10,fontSize:16},onClick:n},s("UnsubscribeModal.buttons.closeModal"))))}function Qs(){const{t:e}=Object(R.useTranslation)("billing"),{api:t}=Object(H.a)(),[n,s]=Object(ur.a)(!1),i=Object(a.useCallback)(e=>t.billing.subscription.cancel({payload:e}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(st.a,{btnStyle:"secondary2",fullWidth:!0,isFetching:n,onClick:s,style:{backgroundColor:"#f7f7fa"},"data-event":"click-unsubscribe"},e("billingHome.unsubscription.cancel")),n&&r.a.createElement(As.a,{onClose:s,render:t=>{let{handleClose:n}=t;return r.a.createElement("div",null,r.a.createElement("div",{style:{position:"absolute",padding:16,left:0,top:0,cursor:"pointer"},onClick:n},r.a.createElement(qe.B,{size:22,color:"#333",style:{display:"block"}})),r.a.createElement("div",{style:{textAlign:"center",paddingTop:22}},r.a.createElement("div",{style:{fontSize:36,marginBottom:20,lineHeight:1}},"😢"),r.a.createElement("h3",{style:{fontWeight:"bold",fontSize:20,lineHeight:"26px",margin:"0 0 22px 0"}},e("UnsubscribeModal.title")),r.a.createElement("div",null,r.a.createElement(Zs,{onSubmit:i,onClose:n}))))}}))}function Js(){const{t:e}=Object(R.useTranslation)("billing"),{api:t}=Object(H.a)(),{pending:n,run:a}=Object(ve.a)(()=>t.billing.subscription.renew(),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(st.a,{btnStyle:"secondary2",fullWidth:!0,isFetching:n,onClick:a,style:{backgroundColor:"#f7f7fa"},"data-event":"click-renew"},e("billingHome.button.subscribe")))}var $s=n("Yr7G");function Ys(){return(Ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Xs(e){const{t:t}=Object(R.useTranslation)();return r.a.createElement(As.a,Ys({title:t("settingsMenu.generalMenu.support")},e),r.a.createElement("div",{style:{textAlign:"center"}},t("Support.faqMessage")),r.a.createElement(st.a,{fullWidth:!0,style:{margin:"16px 0 24px 0",fontSize:16,border:"none",backgroundColor:"#f7f7fa",color:"#2979ff"},tag:"a",href:"https://mssg.me/faq-next",target:"_blank",rel:"noopener noreferer"},t("Support.faqButtonText")),r.a.createElement("div",{style:{textAlign:"center"}},t("Support.subtitle")),r.a.createElement(st.a,{fullWidth:!0,style:{margin:"16px 0 8px 0",fontSize:16,border:"none",backgroundColor:"#00aefa",backgroundImage:"linear-gradient(180deg, #00aefa, #0983c5)"},tag:"a",href:"https://mssg.me/r/m/5e5fb1e519a0b30013ae1d81",target:"_blank",rel:"noopener noreferer"},r.a.createElement($s.m,{size:22,style:{margin:"0 10px 0 0"}}),"Telegram"),r.a.createElement(st.a,{fullWidth:!0,style:{marginBottom:8,fontSize:16,border:"none",backgroundColor:"#8760fd",backgroundImage:"linear-gradient(180deg, #8760fd, #4c389d)"},tag:"a",href:"https://mssg.me/r/m/5c157205409b90000aa4f611",target:"_blank",rel:"noopener noreferer"},r.a.createElement($s.n,{size:22,style:{margin:"0 10px 0 0"}}),"Viber"),r.a.createElement(st.a,{fullWidth:!0,style:{marginBottom:8,fontSize:16,border:"none",backgroundColor:"#60fd7c",backgroundImage:"linear-gradient(180deg, #60fd7c, #07b825)"},tag:"a",href:"https://mssg.me/r/m/5f338f6b7a03670028138cca",target:"_blank",rel:"noopener noreferer"},r.a.createElement($s.p,{size:22,style:{margin:"0 10px 0 0"}}),"WhatsApp"),r.a.createElement(st.a,{fullWidth:!0,style:{fontSize:16,border:"none",backgroundColor:"#00b1ff",backgroundImage:"linear-gradient(180deg, #00b1ff, #006dfe)"},tag:"a",href:"https://mssg.me/r/m/618271a1a43f580040c07e3e",target:"_blank",rel:"noopener noreferer"},r.a.createElement($s.e,{size:22,style:{margin:"0 10px 0 0"}}),"Messenger"))}var ei=n("kGuf");var ti="_2qpR0cs0",ni="_2sEn4WvU",ai="_2rE72eE2",ri="_3eoY7rUB",si="Nievdlwc",ii="POgkph6h",ci="_2RFIBZzQ",oi="_2ufGFLXK";function li(e){let{children:t}=e;return 0===r.a.Children.count(t)?null:r.a.createElement("div",{className:oi},t)}function ui(){const{t:e}=Object(R.useTranslation)("billing"),{subscription:t,highRiskTransaction:n}=Object(y.d)(e=>e.billingDetails.result||{}),{generateUrl:a}=Object(Bn.a)(),[s,i]=Object(ur.a)(!1),c=n||t;return r.a.createElement(Qn,{light:!0,backPath:a("..")},r.a.createElement("div",null,r.a.createElement("div",{className:ti},r.a.createElement(ei.a,{className:ni}),r.a.createElement("h1",{className:ai},e("billingHome.heading")),r.a.createElement("p",{className:ri},e("billingHome.subheading"))),r.a.createElement("ul",{className:k()(si)},r.a.createElement("li",null,r.a.createElement("span",{className:ii},e("billingHome.billingPlan")),r.a.createElement("span",{className:ci},r.a.createElement(ms,{subscription:t}))),c&&r.a.createElement("li",null,r.a.createElement("span",{className:ii},e("billingHome.status")),r.a.createElement("span",{className:ci},r.a.createElement(bs,{subscription:t,highRiskTransaction:n}))),(null==t?void 0:t.nextPayment)&&r.a.createElement("li",null,r.a.createElement("span",{className:ii},e("billingHome.invoices.planned.header")),r.a.createElement("span",{className:ci},r.a.createElement(ys,{invoice:t.nextPayment}))),(null==t?void 0:t.card)&&r.a.createElement("li",null,r.a.createElement("span",{className:ii},e("billingHome.cardUsed")),r.a.createElement("span",{className:ci},t.card))),r.a.createElement(Ls,null),r.a.createElement(li,null,(null==t?void 0:t.actions)&&"paddle"===(null==t?void 0:t.provider)&&r.a.createElement(r.a.Fragment,null,t.actions.payNow&&r.a.createElement(Vs,{toggleSupport:i}),t.actions.changePlan&&r.a.createElement(st.a,{tag:A.c,to:a("plans"),fullWidth:!0,btnStyle:"secondary2",style:{backgroundColor:"#f7f7fa"},"data-event":"click-change-plan"},e("billingHome.button.changeBillingPlan")),t.actions.changePaymentMethod&&r.a.createElement(st.a,{tag:A.c,to:a("change-card"),fullWidth:!0,btnStyle:"secondary2",style:{backgroundColor:"#f7f7fa"},"data-event":"click-change-card"},e("billingHome.button.changeCard")),t.actions.cancel&&r.a.createElement(Qs,null),t.actions.renew&&r.a.createElement(Js,null)),t&&r.a.createElement(st.a,{type:"button",onClick:i,fullWidth:!0,btnStyle:"secondary2",style:{backgroundColor:"#f7f7fa"},"data-event":"click-support"},e("billingHome.button.support")))),s&&r.a.createElement(Xs,{onClose:i}))}function di(){return(di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function pi(){const{api:e}=Object(H.a)(),{result:t}=ye(()=>e.billing.subscription.changeCard(),[]);if(!t)return r.a.createElement(Jn.a,null);const n=Er[t.provider].changeCard;return r.a.createElement(n,di({inline:!0},t.params))}var mi="_-8h3MpTv",fi="-zJERMM9",hi="_2g-HrwKL";function gi(){const{t:e}=Object(R.useTranslation)("billing"),{generateUrl:t}=Object(Bn.a)();return Object(y.d)(e=>{var t,n;let{billingDetails:{result:a}}=e;return null==a||null===(t=a.subscription)||void 0===t||null===(n=t.actions)||void 0===n?void 0:n.changePaymentMethod})?r.a.createElement(Qn,{preferDynamicBack:!0,light:!0,backPath:{pathname:t(".."),state:{preventDynamicBack:!0}}},r.a.createElement("div",{className:mi},r.a.createElement("div",{className:fi},r.a.createElement("h1",null,e("ChangeCardPage.title")),r.a.createElement("p",null,e("ChangeCardPage.subtitle"))),r.a.createElement("div",{className:hi},r.a.createElement(pi,null)))):r.a.createElement(v.a,{to:t("..")})}function bi(){return(bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function vi(e,t){return a.createElement(Ue.b,bi({fill:"none",viewBox:"0 0 24 24",ref:t},e),a.createElement("path",{d:"M22 11.08V12a10 10 0 11-5.93-9.14",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M22 4L12 14.01l-3-3",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var yi=a.forwardRef(vi),Ei=n("uyvO"),Oi="-_cMC_KQ",ji="_3r2wqtFP",wi="NSNrqpwQ";function _i(){const{t:e}=Object(R.useTranslation)("billing"),{generateUrl:t}=Object(Bn.a)(),n=Object(y.d)(e=>e.checkout.status),a=Object(y.d)(e=>{var t;return null===(t=e.billingDetails.result)||void 0===t?void 0:t.subscription});let s;switch(n){case Ei.a.applied_plan:{const{plan:n,nextPayment:i,trialEndedAt:c,status:o}=a;s=r.a.createElement("div",{className:wi},r.a.createElement("p",null,r.a.createElement(R.Trans,{t:e,i18nKey:"CheckoutCompleteSuccessfullyPage.new_plan_applied"},"The plan ",r.a.createElement("strong",null,{plan:n.name})," was applied"),"trialing"===o&&c&&i&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(R.Trans,{t:e,i18nKey:"CheckoutCompleteSuccessfullyPage.trial"},"Trial till ",r.a.createElement("strong",null,{date:new Date(c)}),". In that date you will be charged ",r.a.createElement("strong",null,{price:i.price})))),r.a.createElement("p",null,r.a.createElement(R.Trans,{t:e,i18nKey:"CheckoutCompleteSuccessfullyPage.manage_billing"},"You can manage you subscription on ",r.a.createElement(A.c,{to:t("..")},"billing page"))),r.a.createElement("p",null,r.a.createElement(R.Trans,{t:e,i18nKey:"CheckoutCompleteSuccessfullyPage.go_home"},"Now you can go ",r.a.createElement(A.c,{to:"/"},"home"))))}break;case Ei.a.complete_payment_successfully:s=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:wi},e("CheckoutCompleteSuccessfullyPage.applying_new_plan")),r.a.createElement(Rs.a,null));break;case Ei.a.pending_review:s=r.a.createElement("div",{className:wi},e("CheckoutCompleteSuccessfullyPage.pending_review"));break;default:return r.a.createElement(v.a,{to:"/"})}return r.a.createElement(Qn,{light:!0,preferDynamicBack:!0,backPath:t("..")},r.a.createElement("h1",{className:Oi},r.a.createElement(yi,{className:ji})," ",e("CheckoutCompleteSuccessfullyPage.title")),s)}function ki(){const{isAdmin:e}=Object(Pt.a)(),{path:t}=Object(v.j)(),n=Object(y.d)(e=>{var t,n;return"pending"===(null===(t=e.workspace.billing)||void 0===t||null===(n=t.highRiskTransaction)||void 0===n?void 0:n.status)});return Object(a.useEffect)(()=>(document.body.style.setProperty("--bg","var(--color-white)"),()=>{document.body.style.removeProperty("--bg")}),[]),e?r.a.createElement(v.d,null,n&&r.a.createElement(v.a,{from:t+"/*",to:t}),r.a.createElement(v.b,{exact:!0,path:[t+"/plans/:plan/:period/:trial?",t+"/pay/:plan/:period?"],component:Yr}),r.a.createElement(v.b,{exact:!0,path:t+"/plans/:plan",component:Ur}),r.a.createElement(v.b,{exact:!0,path:t+"/plans",component:ds}),r.a.createElement(v.b,{exact:!0,path:t+"/change-card",component:gi}),r.a.createElement(v.b,{exact:!0,path:t+"/checkout-complete-successfully",component:_i}),r.a.createElement(v.b,{exact:!0,path:t,component:ui}),r.a.createElement(v.a,{to:t})):null}var Ni="_1iEjCVX2",Ci="WihYrGzy",Pi="_1SjNFjqx";function Si(){const e=Object(v.h)(),{isAdmin:t}=Object(Pt.a)(),n=Object(a.useMemo)(()=>[{path:"/s/account/change-password",to:"/s/account",exact:!0},{path:"/s/account",to:"/s",exact:!0,mobile:!0},{path:"/s/referral",to:"/s",exact:!0,mobile:!0},{path:"/s/integrations",to:"/s",exact:!1,mobile:!0},{path:"/s/team",to:"/s",exact:!1,mobile:!0}],[e]),s=Object(v.j)("/s/billing");return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dn.a,null,r.a.createElement(Wt,null)),r.a.createElement(Un.a,null,r.a.createElement("div",{className:k()(Ni,{[Ci]:s})},r.a.createElement(Dn.b,null,r.a.createElement(v.d,null,n.filter(e=>e.mobile).map((e,t)=>r.a.createElement(v.b,{exact:e.exact,path:e.path,key:"bbkey-"+t,render:()=>r.a.createElement("div",{className:Pi},r.a.createElement(nt,{to:e.to}))})))),r.a.createElement(v.d,null,n.filter(e=>!e.mobile).map((e,t)=>r.a.createElement(v.b,{exact:e.exact,path:e.path,key:"bbkey-"+t,render:()=>r.a.createElement("div",{className:Pi},r.a.createElement(nt,{to:e.to}))}))),r.a.createElement(v.d,null,r.a.createElement(v.b,{path:"/s/account",component:on}),t&&[r.a.createElement(v.b,{key:"/s/billing",path:"/s/billing"},r.a.createElement("div",null,r.a.createElement(ki,null))),r.a.createElement(v.b,{key:"/s/integrations",path:"/s/integrations",component:xe.c}),r.a.createElement(v.b,{key:"/s/team",exact:!0,path:"/s/team",component:Fn})],r.a.createElement(v.b,{exact:!0,path:"/s",render:()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(Dn.a,null,r.a.createElement(v.a,{to:"/s/account"})),r.a.createElement(Dn.b,null,r.a.createElement(Wt,null)))}),r.a.createElement(v.a,{to:"/s"})))))}var xi="_1oMymKrF";function Ti(e){let{className:t,render:n,path:a,exact:s}=e;return r.a.createElement(v.b,{key:a,path:a,exact:s,render:e=>{let{match:a}=e;return r.a.createElement("div",{className:k()(xi,t)},n&&n(a))}})}var Ii=n("DkZq"),Mi=n("o9yr"),Li="_3jZqX4jQ",Ri="_3G9PZZ2e",Ai="_3a7DNJpT",Fi="_1Cj7QfZe";function Di(){const{t:e}=Object(R.useTranslation)();return r.a.createElement(Ii.h,null,r.a.createElement(Tt.a,{className:Li},r.a.createElement("h2",{className:Fi},e("Support.heading")),r.a.createElement("div",{className:Ri},r.a.createElement("img",{src:Mi.default,alt:"",className:Ai}),r.a.createElement("h3",null,e("Support.title")),r.a.createElement("p",null,e("Support.subtitle")),r.a.createElement(L.g,null))))}var Ui="_3Yy_846f";function Bi(){return r.a.createElement("div",{className:Ui},r.a.createElement(Ti,{exact:!0,path:"/help",render:()=>r.a.createElement(Di,null)}))}var qi=n("E8QZ");function zi(){const e=Object(v.h)(),{reason:t,referrer:n}=e.state||{};return t?r.a.createElement(qi.a,{center:!0,reason:t,referrer:n}):r.a.createElement(v.a,{to:"/p"})}function Vi(){const e=ye(Object(H.a)().api.init),t=Object(Ne.a)(),n=Object(Ce.a)(),s=function(){const{isMobile:e}=Object(Te.b)(),t=Object(v.j)({path:["/p","/i","/s","/help","/i/onboard*"],exact:!0});return!e||!!t}();return function(){const e=Object(Ce.a)(),t=Object(Pe.a)(),n=null==e?void 0:e.app;Object(a.useEffect)(()=>{n&&n!==ue.a.app&&t(n)},[n])}(),e.error?(console.error(e.error),r.a.createElement("div",null,"Something wrong")):e.fulfilled?n.blocked?r.a.createElement(L.a,{isBlockedByIp:n.isBlockedByIp}):n.email?0===n.workspaces.length?r.a.createElement(ft,null):t.onboarding.finished?r.a.createElement(L.m,null,r.a.createElement(L.l,null,r.a.createElement(Se.d,null,r.a.createElement(Ie,null),r.a.createElement(Me,null),r.a.createElement(xe.a,null,r.a.createElement(L.j,null),r.a.createElement(L.c,null),s&&r.a.createElement(L.o,null),r.a.createElement(v.d,null,r.a.createElement(v.a,{exact:!0,from:"/",to:"/p"}),r.a.createElement(v.b,{path:"/i"},r.a.createElement(xe.b,null)),r.a.createElement(v.b,{path:"/p"},r.a.createElement(Se.c,null)),r.a.createElement(v.b,{path:"/s"},r.a.createElement(Si,null)),r.a.createElement(v.b,{path:"/help"},r.a.createElement(Bi,null)),r.a.createElement(v.b,{path:"/hiddenbots"},r.a.createElement(Ct,null)),r.a.createElement(v.b,{path:"/restricted"},r.a.createElement(zi,null))))))):r.a.createElement(v.d,null,r.a.createElement(v.b,{path:"/onboarding",component:Ye}),r.a.createElement(v.a,{to:"/onboarding"})):r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/enter-email",component:De}),r.a.createElement(v.a,{to:"/enter-email"})):r.a.createElement(L.p,null)}var Wi=n("a2Wz");function Hi(){const e=function(){const[e,t]=Object(a.useState)(0),n=Object(a.useCallback)(()=>t(e=>e+1),[]);return n.count=e,n}();return Object(a.useEffect)(()=>{function t(){e()}return Wi.a.on("changeAccessToken",t),()=>{Wi.a.removeListener("changeAccessToken",t)}},[]),{accessToken:Wi.a.accessToken,isAuthenticated:Wi.a.isAuthenticated,user:Wi.a.user}}function Ki(e){const{isAuthenticated:t}=Hi();return t?r.a.createElement(v.b,e):r.a.createElement(v.a,{to:"/login"})}function Gi(e){const{isAuthenticated:t}=Hi();return t?r.a.createElement(v.a,{to:"/"}):r.a.createElement(v.b,e)}var Zi=n("Z0+A"),Qi=function(e,t){return new URLSearchParams(e).get(t)},Ji=Zi.a?function(e){var t=window.location,n=Object(a.useState)((function(){return Qi(t.search,e)})),r=n[0],s=n[1];return Object(a.useEffect)((function(){var n=function(){s(Qi(t.search,e))};return Object(Zi.e)(window,"popstate",n),Object(Zi.e)(window,"pushstate",n),Object(Zi.e)(window,"replacestate",n),function(){Object(Zi.d)(window,"popstate",n),Object(Zi.d)(window,"pushstate",n),Object(Zi.d)(window,"replacestate",n)}}),[]),r}:function(){return null};function $i(){const{code:e}=Object(v.i)(),{api:t}=Object(H.a)(),n=Ji("redirect_to"),s=Object(ve.a)(t.auth.getToken);return Object(a.useEffect)(()=>{s.run({code:e})},[]),s.fulfilled?r.a.createElement(v.a,{to:n||"/"}):s.rejected?r.a.createElement(v.a,{to:"/login"}):null}function Yi(e){let{children:t}=e;return Object(E.c)("common",e=>n("W6so")(`./${e}/common.json`)),Object(E.c)("ui",e=>n("3HFw")(`./${e}/ui.json`)),Object(E.c)("billing",e=>n("CwwZ")(`./${e}/billing.json`)),t}var Xi=function(e){let{store:t}=e;return r.a.createElement(a.Suspense,{fallback:r.a.createElement(L.p,null)},r.a.createElement(Yi,null,r.a.createElement(y.a,{store:t},r.a.createElement(v.c,{history:O.a},r.a.createElement(j.a,null,r.a.createElement(T,null),r.a.createElement(M.a,null),r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/login/code/:code",component:$i}),r.a.createElement(Gi,{exact:!0,path:"/login",component:pe}),r.a.createElement(Gi,{path:"/registration",component:be}),r.a.createElement(Gi,{exact:!0,path:"/join/:code",component:_e}),r.a.createElement(Gi,{exact:!0,path:"/restore",component:ge}),r.a.createElement(Ki,{exact:!0,path:"/logout",component:ke}),r.a.createElement(Ki,{path:"/",component:Vi})))))))};if("serviceWorker"in navigator){new h("/sw.js").register()}b.b.registerProvider(new b.a({skipInitialization:!0})),b.b.initialize();const ec=Object(g.a)();Object(s.render)(r.a.createElement(Xi,{store:ec}),document.getElementById("root"))},SimP:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("r0ML"),r=n("yHpL");function s(){const{api:e}=Object(r.a)();return Object(a.useCallback)(async(t,n)=>{const{redirect_to:a}=await e.users.switchApp({payload:{app:t,...n}});a&&(window.location.href=a)},[e])}},Symy:function(e,t,n){"use strict";var a=n("r0ML"),r=n.n(a),s=n("Pc05"),i=n.n(s),c={root:"_4z_mD5Vn",item:"_2KNl4SKq",center:"_2sTZ_mVy",right:"_17fEb9d_",left:"TS0sTM8H",bordered:"_1tGOrLRK"};t.a=e=>{let{children:t,className:n,align:a,bordered:s}=e;return r.a.createElement("div",{className:i()(c.root,n,s?c.bordered:null,c[a])},r.a.Children.map(t,(e,t)=>r.a.createElement("div",{key:t,className:c.item},e)))}},"TM/7":function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/facebook2.svg"},TN6c:function(e,t,n){"use strict";const a=/^https?:\/\/(.*)$/;t.a=e=>e.replace(a,"$1")},TiNz:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("r0ML"),r=n.n(a),s=n("iFO/"),i=n("vtB/"),c=n("Qg6Y");function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const l=e=>{let{renderNoAccess:t,children:n,componentNoAccess:a,...l}=e;const u=Object(c.a)(),{error:d}=Object(s.a)(()=>new Promise((e,t)=>{const n=Object(i.a)({...l,workspace:u},l.rule,l.subject);n?t(n):e()}),[u,l.subject,l.rule]);return d?a?r.a.createElement(a,o({reason:d},l)):t?t(d):null:n||null};var u=n("E8QZ");function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const p=e=>{let{component:t,children:n,...a}=e;return r.a.createElement(l,d({center:!0,componentNoAccess:u.a},a),n||t&&r.a.createElement(t,null))}},Usj1:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("r0ML"),r=n("Wb+K");function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;const[,t]=Object(r.a)(),[n,s]=Object(a.useState)(!1),i=Object(a.useRef)();Object(a.useEffect)(()=>()=>{i.current&&clearTimeout(i.current)},[]);const c=Object(a.useCallback)(n=>{t(n),s(!0),i.current=setTimeout(()=>s(!1),e)},[e]);return{isCopied:n,copyText:c}}},W5Fm:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/ae_logo.png"},W6so:function(e,t,n){var a={"./en/common.json":["rYQW",0],"./ru/common.json":["lH0u",1],"./uk/common.json":["7QP8",2]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,3)}))}r.keys=function(){return Object.keys(a)},r.id="W6so",e.exports=r},WDaW:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("g0xT"),r=n("6BW+");function s(){return Object(a.d)(r.b)}},"WMO/":function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/man.png"},WTEP:function(e,t,n){(function(e){!function(t){"use strict";function n(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function a(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function r(e,t,n){r.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function s(e,t){s.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function i(e,t){i.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function c(e,t,n){c.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function o(e,t,n){var a=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,a),e}function l(e){var t=void 0===e?"undefined":w(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function u(e,t,n,a,d,p,m){m=m||[];var f=(d=d||[]).slice(0);if(void 0!==p){if(a){if("function"==typeof a&&a(f,p))return;if("object"===(void 0===a?"undefined":w(a))){if(a.prefilter&&a.prefilter(f,p))return;if(a.normalize){var h=a.normalize(f,p,e,t);h&&(e=h[0],t=h[1])}}}f.push(p)}"regexp"===l(e)&&"regexp"===l(t)&&(e=e.toString(),t=t.toString());var g=void 0===e?"undefined":w(e),b=void 0===t?"undefined":w(t),v="undefined"!==g||m&&m[m.length-1].lhs&&m[m.length-1].lhs.hasOwnProperty(p),y="undefined"!==b||m&&m[m.length-1].rhs&&m[m.length-1].rhs.hasOwnProperty(p);if(!v&&y)n(new s(f,t));else if(!y&&v)n(new i(f,e));else if(l(e)!==l(t))n(new r(f,e,t));else if("date"===l(e)&&e-t!=0)n(new r(f,e,t));else if("object"===g&&null!==e&&null!==t)if(m.filter((function(t){return t.lhs===e})).length)e!==t&&n(new r(f,e,t));else{if(m.push({lhs:e,rhs:t}),Array.isArray(e)){var E;for(e.length,E=0;E<e.length;E++)E>=t.length?n(new c(f,E,new i(void 0,e[E]))):u(e[E],t[E],n,a,f,E,m);for(;E<t.length;)n(new c(f,E,new s(void 0,t[E++])))}else{var O=Object.keys(e),j=Object.keys(t);O.forEach((function(r,s){var i=j.indexOf(r);i>=0?(u(e[r],t[r],n,a,f,r,m),j=o(j,i)):u(e[r],void 0,n,a,f,r,m)})),j.forEach((function(e){u(void 0,t[e],n,a,f,e,m)}))}m.length=m.length-1}else e!==t&&("number"===g&&isNaN(e)&&isNaN(t)||n(new r(f,e,t)))}function d(e,t,n,a){return a=a||[],u(e,t,(function(e){e&&a.push(e)}),n),a.length?a:void 0}function p(e,t,n){if(e&&t&&n&&n.kind){for(var a=e,r=-1,s=n.path?n.path.length-1:0;++r<s;)void 0===a[n.path[r]]&&(a[n.path[r]]="number"==typeof n.path[r]?[]:{}),a=a[n.path[r]];switch(n.kind){case"A":!function e(t,n,a){if(a.path&&a.path.length){var r,s=t[n],i=a.path.length-1;for(r=0;r<i;r++)s=s[a.path[r]];switch(a.kind){case"A":e(s[a.path[r]],a.index,a.item);break;case"D":delete s[a.path[r]];break;case"E":case"N":s[a.path[r]]=a.rhs}}else switch(a.kind){case"A":e(t[n],a.index,a.item);break;case"D":t=o(t,n);break;case"E":case"N":t[n]=a.rhs}return t}(n.path?a[n.path[r]]:a,n.index,n.item);break;case"D":delete a[n.path[r]];break;case"E":case"N":a[n.path[r]]=n.rhs}}}function m(e){return"color: "+N[e].color+"; font-weight: bold"}function f(e,t,n,a){var r=d(e,t);try{a?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}r?r.forEach((function(e){var t=e.kind,a=function(e){var t=e.kind,n=e.path,a=e.lhs,r=e.rhs,s=e.index,i=e.item;switch(t){case"E":return[n.join("."),a,"→",r];case"N":return[n.join("."),r];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+s+"]",i];default:return[]}}(e);n.log.apply(n,["%c "+N[t].text,m(t)].concat(_(a)))})):n.log("—— no diff ——");try{n.groupEnd()}catch(e){n.log("—— diff end —— ")}}function h(e,t,n,a){switch(void 0===e?"undefined":w(e)){case"object":return"function"==typeof e[a]?e[a].apply(e,_(n)):e[a];case"function":return e(t);default:return e}}function g(e,t){var n=t.logger,a=t.actionTransformer,r=t.titleFormatter,s=void 0===r?function(e){var t=e.timestamp,n=e.duration;return function(e,a,r){var s=["action"];return s.push("%c"+String(e.type)),t&&s.push("%c@ "+a),n&&s.push("%c(in "+r.toFixed(2)+" ms)"),s.join(" ")}}(t):r,i=t.collapsed,c=t.colors,o=t.level,l=t.diff,u=void 0===t.titleFormatter;e.forEach((function(r,d){var p=r.started,m=r.startedTime,g=r.action,b=r.prevState,v=r.error,y=r.took,E=r.nextState,j=e[d+1];j&&(E=j.prevState,y=j.started-p);var w=a(g),_="function"==typeof i?i((function(){return E}),g,r):i,k=O(m),N=c.title?"color: "+c.title(w)+";":"",C=["color: gray; font-weight: lighter;"];C.push(N),t.timestamp&&C.push("color: gray; font-weight: lighter;"),t.duration&&C.push("color: gray; font-weight: lighter;");var P=s(w,k,y);try{_?c.title&&u?n.groupCollapsed.apply(n,["%c "+P].concat(C)):n.groupCollapsed(P):c.title&&u?n.group.apply(n,["%c "+P].concat(C)):n.group(P)}catch(e){n.log(P)}var S=h(o,w,[b],"prevState"),x=h(o,w,[w],"action"),T=h(o,w,[v,b],"error"),I=h(o,w,[E],"nextState");if(S)if(c.prevState){var M="color: "+c.prevState(b)+"; font-weight: bold";n[S]("%c prev state",M,b)}else n[S]("prev state",b);if(x)if(c.action){var L="color: "+c.action(w)+"; font-weight: bold";n[x]("%c action    ",L,w)}else n[x]("action    ",w);if(v&&T)if(c.error){var R="color: "+c.error(v,b)+"; font-weight: bold;";n[T]("%c error     ",R,v)}else n[T]("error     ",v);if(I)if(c.nextState){var A="color: "+c.nextState(E)+"; font-weight: bold";n[I]("%c next state",A,E)}else n[I]("next state",E);l&&f(b,E,n,_);try{n.groupEnd()}catch(e){n.log("—— log end ——")}}))}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},C,e),n=t.logger,a=t.stateTransformer,r=t.errorTransformer,s=t.predicate,i=t.logErrors,c=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var o=[];return function(e){var n=e.getState;return function(e){return function(l){if("function"==typeof s&&!s(n,l))return e(l);var u={};o.push(u),u.started=j.now(),u.startedTime=new Date,u.prevState=a(n()),u.action=l;var d=void 0;if(i)try{d=e(l)}catch(e){u.error=r(e)}else d=e(l);u.took=j.now()-u.started,u.nextState=a(n());var p=t.diff&&"function"==typeof c?c(n,l):t.diff;if(g(o,Object.assign({},t,{diff:p})),o.length=0,u.error)throw u.error;return d}}}}var v,y,E=function(e,t){return function(e,t){return new Array(t+1).join(e)}("0",t-e.toString().length)+e},O=function(e){return E(e.getHours(),2)+":"+E(e.getMinutes(),2)+":"+E(e.getSeconds(),2)+"."+E(e.getMilliseconds(),3)},j="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},k=[];v="object"===(void 0===e?"undefined":w(e))&&e?e:"undefined"!=typeof window?window:{},(y=v.DeepDiff)&&k.push((function(){void 0!==y&&v.DeepDiff===d&&(v.DeepDiff=y,y=void 0)})),n(r,a),n(s,a),n(i,a),n(c,a),Object.defineProperties(d,{diff:{value:d,enumerable:!0},observableDiff:{value:u,enumerable:!0},applyDiff:{value:function(e,t,n){e&&t&&u(e,t,(function(a){n&&!n(e,t,a)||p(e,t,a)}))},enumerable:!0},applyChange:{value:p,enumerable:!0},revertChange:{value:function(e,t,n){if(e&&t&&n&&n.kind){var a,r,s=e;for(r=n.path.length-1,a=0;a<r;a++)void 0===s[n.path[a]]&&(s[n.path[a]]={}),s=s[n.path[a]];switch(n.kind){case"A":!function e(t,n,a){if(a.path&&a.path.length){var r,s=t[n],i=a.path.length-1;for(r=0;r<i;r++)s=s[a.path[r]];switch(a.kind){case"A":e(s[a.path[r]],a.index,a.item);break;case"D":case"E":s[a.path[r]]=a.lhs;break;case"N":delete s[a.path[r]]}}else switch(a.kind){case"A":e(t[n],a.index,a.item);break;case"D":case"E":t[n]=a.lhs;break;case"N":t=o(t,n)}return t}(s[n.path[a]],n.index,n.item);break;case"D":case"E":s[n.path[a]]=n.lhs;break;case"N":delete s[n.path[a]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==y},enumerable:!0},noConflict:{value:function(){return k&&(k.forEach((function(e){e()})),k=null),d},enumerable:!0}});var N={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},C={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?b()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};t.defaults=C,t.createLogger=b,t.logger=P,t.default=P,Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,n("uKge"))},WYuZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("jxal"),r=n("wYyU");const s={success:"success",danger:"danger"},i={closeDelay:0,notifyStyle:s.success,showClose:!1,isRaw:!1};class c extends a.EventEmitter{constructor(){super(),this.count=0,this.notifications=new Map}notify(e,t){const n=this.createNotification(e,{closeDelay:t.showClose?r.a:0,...t});return this.handleNotificationDelay(n),this.notifications.set(n.id,n),this.emit("notify",n),n.id}success(e,t){return this.notify(e,{notifyStyle:s.success,...t})}danger(e,t){return this.notify(e,{notifyStyle:s.danger,...t})}createNotification(e,t){return{id:this.getNotificationId(),message:e,options:{...i,...t}}}handleNotificationDelay(e){const t=e.options.closeDelay;t>0&&(e.timerId=setTimeout(()=>this.remove(e.id),t))}remove(e){const t=this.notifications.get(e);t&&(t.timerId&&clearTimeout(t.timerId),this.notifications.delete(e),this.emit("remove",t))}clear(){this.notifications.clear(),this.emit("clear")}getNotificationId(){return this.count++}getNotifications(){return Array.from(this.notifications.values())}static getInstance(){return c.instance||(c.instance=new c),c.instance}}c.instance=void 0,t.b=c},X7QK:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/onboarding/link.svg"},Xoms:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a={};n.r(a),n.d(a,"messenger",(function(){return c})),n.d(a,"skype",(function(){return o})),n.d(a,"telegram",(function(){return u})),n.d(a,"viber",(function(){return p})),n.d(a,"vk",(function(){return f})),n.d(a,"whatsapp",(function(){return g})),n.d(a,"instagram",(function(){return b}));var r=n("Fz8S");class s{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._ua=e,this._name=t.name,this._bot="public"===t.type,this._secret="secret"===t.type,this._community="community"===t.type,this._redirectUrl=t.redirectUrl,this._params={},this._auto="auto"===t.type;for(let e in n)this.isSupported(e)&&this.addParam(e,n[e])}isSupported(e){return!1}addParam(e,t){if(!this.isSupported(e))throw new Error(`Unsupported param "${e}"`);this._params[e]=t}removeParam(e){delete this._params[e]}getUrl(){}getRedirectUrl(){return this._redirectUrl+Object(r.a)(this._params)}getPlatform(){}}const i=["ref"];class c extends s{isSupported(e){return!!(this._bot&&i.indexOf(e)>=0)}getUrl(){return this._auto?this._name:"https://m.me/"+(this._name+Object(r.a)(this._params))}getPlatform(){return"messenger"}}class o extends s{getUrl(){return`skype:${this._name}?chat`}getPlatform(){return"skype"}}const l=["start"];class u extends s{isSupported(e){return!!(this._bot&&l.indexOf(e)>=0)}getUrl(){return this._auto?this._name:this._secret?"tg://join?invite="+this._name:/^https?:\/\/t\.me\/(\+|joinchat\/).+$/i.test(this._name)?this._name.replace(/(^https?:\/\/t\.me\/(?:\+|joinchat\/))(.+)/,"tg://join?invite=$2"):"tg://resolve"+Object(r.a)(Object.assign({domain:this._name},this._params))}getPlatform(){return"telegram"}}const d=["context","text"];class p extends s{isSupported(e){return!!(this._bot&&d.indexOf(e)>=0)}getUrl(){if(this._bot)return"viber://pa"+Object(r.a)(Object.assign({chatURI:this._name},this._params));if(this._community)return this._name;{const e=this._ua.Android?this._name.replace("+",""):this._name;return"viber://chat"+Object(r.a)(Object.assign({number:e},this._params))}}getPlatform(){return"viber"}}const m=["ref","ref_source"];class f extends s{isSupported(e){return!!(this._bot&&m.indexOf(e)>=0)}getUrl(){return this._auto?this._name:"https://vk.me/"+(this._name+Object(r.a)(this._params))}getPlatform(){return"vk"}}const h=["text"];class g extends s{isSupported(e){return h.indexOf(e)>=0}getUrl(){if(this._auto||this._bot)return this._name;return"https://wa.me/"+(this._name.replace("+","")+Object(r.a)(this._params))}getPlatform(){return"whatsapp"}}class b extends s{getUrl(e){return e&&e.isMobile?this._name:"https://instagram.com/"+this._name.replace(/^https:\/\/ig\.me\/m\//i,"")}getPlatform(){return"instagram"}}var v=n("xUbJ");const y=(E=v.a,(e,t)=>{const n=e.messenger;if(!a[n])throw new Error("Unsupported platform");return new a[n](E,e,t)});var E},YpKG:function(e,t,n){"use strict";t.a=e=>{if(e<1024)return e+" B";const t=Math.floor(Math.log(e)/Math.log(1024)),n=e/Math.pow(1024,t),a=Math.round(n);return`${String(a<10?n.toFixed(2):a<100?n.toFixed(1):a).replace(/\.0+$/,"")} ${"KMGTPEZY"[t-1]}B`}},ZAuZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("Pc05"),r=n.n(a),s=n("iHip"),i=n.n(s),c=n("r0ML"),o=n.n(c),l=n("bESJ"),u=n("63aL"),d=n("cpKZ"),p=n("r1xb"),m={root:"_2B3ofJ5E",counter:"_3-b9pfi-",input:"_2DRCzfDh",inlineEdit:"YPgCGw-v",error:"_1_PCEXDn",sizeNormal:"DzCEGuof",small:"hVVuxPYt",grey:"_2AB3cyPB",customNativeIcon:"gXrIPW3z",disabled:"jZa3dVTS",select:"_3ZdF5RHe","input-wrapper":"_1GswEJx-",inputWrapper:"_1GswEJx-",builderInput:"_2jRUtpby",hexInput:"_28ye7akn",contextBlock:"_28j5RRRN",clearAddon:"_26G-OSX_",icon:"_1AAPpJVf",root_grey:"rf7_RATV",rootGrey:"rf7_RATV",before:"_25tSvmqV",after:"_3GByWsk_",hasRightAddon:"_13_oLbQh",hidden:"_2zAg-NV4","padding-right":"_3o8wApXg",paddingRight:"_3o8wApXg",clearable:"_1NP8_n7i"};function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}g.defaultProps={containerClassName:"",hasError:!1,disabled:!1,type:"text",inputStyle:"default",builderInput:!1,autoFocus:!1,isSelectAddon:!0};const h=(e,t,n)=>{let a=Object(p.a)(e);return a&&("string"!=typeof a&&n?n&&(a=o.a.cloneElement(a,Object(d.a)(r()(a.props.className,m.select),a.props))):a=o.a.createElement("div",{className:r()(m.contextBlock,t)},a)),a};function g(e){var t;let{className:n,containerClassName:a,inputClassName:s,hasError:d,icon:p,size:g,beforeInput:b,afterInput:v,hexInput:y,hidden:E,maxLength:O,value:j,disabled:w,refInput:_,inputStyle:k,builderInput:N,autoFocus:C,isSelectAddon:P,clearable:S,type:x,...T}=e;const I=S&&!!j,M=Object(c.useCallback)(()=>{var e;return null===(e=T.onChange)||void 0===e?void 0:e.call(T,{target:{name:T.name,value:""}})},[T.name,T.onChange]),L=h(b,n,P),R=h(v,n,P),A=r()(m.root,{[m.icon]:p,[m.before]:L,[m.after]:R,[m.hidden]:E,[m.hexInput]:y,[m.disabled]:w,[m.builderInput]:N,[m.clearable]:I},k&&m["root_"+k],a),F=r()(n,m.input,{[m.error]:d,[m.paddingRight]:O,[m.small]:"small"===g,[m.sizeNormal]:"normal"===g},k&&m[k],s),D=j?String(j).trim().length:0,U=Object(c.useRef)();return Object(l.a)(()=>{C&&setTimeout(()=>{var e;return null===(e=U.current)||void 0===e?void 0:e.focus()},100)}),o.a.createElement("div",{className:A},p&&o.a.createElement(p,{size:25,color:"#C7C7CC"}),L,o.a.createElement("div",{className:m.inputWrapper,style:{color:null===(t=T.style)||void 0===t?void 0:t.color}},o.a.createElement("input",f({ref:i()(U,_),className:F,value:j,maxLength:O,disabled:w,type:x},T)),O&&o.a.createElement("span",{className:m.counter},O-D),I&&o.a.createElement("div",{className:r()(m.clearAddon,!R&&m.hasRightAddon),onClick:M},o.a.createElement(u.B,{size:14,style:{marginBottom:-1}})),"date"===x&&o.a.createElement(u.c,{className:m.customNativeIcon}),"time"===x&&o.a.createElement(u.i,{className:m.customNativeIcon})),R)}},ZmyB:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{if("#"===e.charAt(0)&&(e=e.substr(1)),e.length<2||e.length>6)return!1;const t=e.split("");let n,a,r;if(2===e.length)n=parseInt(t[0].toString()+t[1].toString(),16),a=n,r=n;else if(3===e.length)n=parseInt(t[0].toString()+t[0].toString(),16),a=parseInt(t[1].toString()+t[1].toString(),16),r=parseInt(t[2].toString()+t[2].toString(),16);else{if(6!==e.length)return!1;n=parseInt(t[0].toString()+t[1].toString(),16),a=parseInt(t[2].toString()+t[3].toString(),16),r=parseInt(t[4].toString()+t[5].toString(),16)}return[n,a,r]}},Zsls:function(e,t){e.exports=window.PLANS||{}},a2Wz:function(e,t,n){"use strict";(function(e){var a=n("UhZ4"),r=n.n(a),s=n("DC3q"),i=n("cGUp"),c=n.n(i);n("Hw9h");const o=new(n("Nphk").a)({baseUrl:e.env.REACT_APP_WEBAPP_API_URL||"/api",socketUrl:c.a.websocket_url});function l(){const e=Object(s.a)(o.aboutMe,"workspaces[0].workspace");o.param("workspaceId",e),r.a.set("currentWorkspace",e)}o.isAuthenticated&&l(),o.on("changeAccessToken",()=>{l()}),t.a=o}).call(this,n("TzVV"))},aEvj:function(e,t,n){"use strict";var a=n("r0ML"),r=n.n(a),s=n("Pc05"),i=n.n(s),c=n("cpKZ"),o={root:"AKW1LPJE",dot:"_2Duvgn6z",primary:"_1NDKtp6k",warning:"_3OUmTVyB",danger:"_2OyIKowr",success:"_2UZem5gx",flat:"_1xRtRqWy",inverse:"_1zQVDc1a"};t.a=e=>{let{as:t="span",badgeStyle:n,inverse:a,dot:s,...l}=e;return r.a.createElement(t,Object(c.a)(i()(o.root,o[n],s&&o.dot,a&&o.inverse),l))}},aFVI:function(e,t,n){var a={"./en/inbox.json":["vIfp",0],"./ru/inbox.json":["v2NG",1],"./uk/inbox.json":["s949",2]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,3)}))}r.keys=function(){return Object.keys(a)},r.id="aFVI",e.exports=r},aH6V:function(e,t,n){"use strict";var a=n("r0ML"),r=n.n(a),s=n("QD+E"),i={root:"_1s0NwJtZ"};function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const o=e=>{let{children:t,tag:n,...a}=e;return r.a.createElement(n,c({},a,{className:i.root}),r.a.createElement("span",{className:i.label},t))};o.defaultProps={tag:s.c};var l=o;t.a=l},"aV+K":function(e,t,n){"use strict";var a=n("52Hf"),r=n("vGY9");const s=Object(a.a)({getUserConfirmation:(e,t)=>{r.a.notify(e,t)||t(!0)}});t.a=s},aoZX:function(e,t,n){"use strict";var a=n("Llc/");const r=/^(?:\w+:\/*)?([^:/$]+)(?::\d+)?(.*)$/i;t.a=e=>{const t=e.match(r);return t?`${t[1]}${t[2]}`:Object(a.a)(e)}},bCRH:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var a=n("r0ML");const r=Object(a.createContext)("en");function s(){return Object(a.useContext)(r)}},bPZW:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{e=e||new Error("Unhandled error"),console.error(e),window.Sentry&&window.Sentry.captureException(e)}},c3l6:function(e,t,n){"use strict";t.a=e=>e&&String(e._id||e)},cGUp:function(e,t){e.exports=CONFIG},cpKZ:function(e,t,n){"use strict";var a=n("Pc05"),r=n.n(a),s=n("AcDw");const i=Object(s.a)((e,t)=>({...t,className:r()(e,t.className)}));t.a=i},dQ91:function(e,t,n){"use strict";var a=n("NH7Q");t.a=function(e,t){var n;void 0===t&&(t=!0);var r=new Promise((function(a){n=setTimeout(a,e,t)}));return r[a.a]=function(){clearTimeout(n)},r}},dXwK:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n("Pc05"),r=n.n(a),s=n("r0ML"),i=n.n(s),c=n("QD+E"),o=n("63aL"),l=n("wUPD"),u=n("r1xb");var d="_3r7ykke3",p="_1tLNHSID",m="_2VB2Uwlo",f="_1l4Wj1ud",h="_22Y3aDGp",g="_1rdkEYpQ",b="_26m3xOVK";function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function y(e){let{title:t,closePath:n,rightButton:a,light:y,closeIcon:E=o.B,bottomContent:O,...j}=e;const[w,{width:_}]=Object(l.a)(),k=_>50?_:50,N="function"==typeof n,C=N?{onClick:()=>n()}:{to:n},P=N?"div":c.c;return function(e){Object(s.useEffect)(()=>{if("string"!=typeof e)return;const t=document.title;return document.title="Mssg.me - "+e,()=>{document.title=t}},[e])}(t),i.a.createElement(i.a.Fragment,null,!1!==t&&i.a.createElement("div",v({className:r()({[d]:!0,[p]:y,[m]:O||!t})},j),n&&i.a.createElement(P,v({className:g},C),i.a.createElement(E,{size:22,color:"#333"})),i.a.createElement("span",{className:f,style:{padding:`0 ${k}px`}},t),!!a&&i.a.createElement("div",{ref:w,className:h},Object(u.a)(a))),O&&i.a.createElement("div",{className:b},O))}},drUJ:function(e,t,n){"use strict";e.exports=n("mKdU")},e66u:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/whatsapp.svg"},eGoJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("r0ML"),r=n.n(a),s=n("oZLZ"),i=n("Pc05"),c=n.n(i),o=n("cpKZ"),l=n("l2lW");function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function d(e){let{header:t,children:n,motionProps:a,padding:i=!0,...d}=e;const p=a?s.b.div:"div";return r.a.createElement(p,u({className:c()(l.a.sheetyPane,t&&l.a.hasHeader)},a),t&&r.a.createElement(p,{className:l.a.header},t),r.a.createElement(p,Object(o.a)([l.a.content,i&&l.a.padded],d),n))}},eI6h:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/icon-go-back.svg"},eRWQ:function(e,t,n){var a={"./en/cards.json":["0ObG",0],"./ru/cards.json":["DDKd",1],"./uk/cards.json":["Q6FX",2]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,3)}))}r.keys=function(){return Object.keys(a)},r.id="eRWQ",e.exports=r},eTsq:function(e,t,n){"use strict";(function(e){
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}var r=function(e){var t="[object "+e+"]";return function(e){return s(e)===t}},s=function(e){return Object.prototype.toString.call(e)},i=function(e){return e instanceof Date?e.getTime():c(e)?e.map(i):e&&"function"==typeof e.toJSON?e.toJSON():e},c=r("Array"),o=r("Object"),l=r("Function"),u=function(e,t){if(null==e&&e==t)return!0;if(e===t)return!0;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(t))return!1;if(c(e)){if(e.length!==t.length)return!1;for(var n=0,a=e.length;n<a;n++)if(!u(e[n],t[n]))return!1;return!0}if(o(e)){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!u(e[r],t[r]))return!1;return!0}return!1},d=function(e,t,n,a,r,s){var i=t[a];if(c(e)&&isNaN(Number(i)))for(var o=0,l=e.length;o<l;o++)if(!d(e[o],t,n,a,o,e))return!1;return a===t.length||null==e?n(e,r,s,0===a):d(e[i],t,n,a+1,i,e)},p=function(){function e(e,t,n,a){this.params=e,this.owneryQuery=t,this.options=n,this.name=a,this.init()}return e.prototype.init=function(){},e.prototype.reset=function(){this.done=!1,this.keep=!1},e}(),m=function(e){function t(t,n,a,r){var s=e.call(this,t,n,a)||this;return s.children=r,s}return a(t,e),t.prototype.reset=function(){this.keep=!1,this.done=!1;for(var e=0,t=this.children.length;e<t;e++)this.children[e].reset()},t.prototype.childrenNext=function(e,t,n,a){for(var r=!0,s=!0,i=0,c=this.children.length;i<c;i++){var o=this.children[i];if(o.done||o.next(e,t,n,a),o.keep||(s=!1),o.done){if(!o.keep)break}else r=!1}this.done=r,this.keep=s},t}(p),f=function(e){function t(t,n,a,r,s){var i=e.call(this,t,n,a,r)||this;return i.name=s,i}return a(t,e),t}(m),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propop=!0,t}return a(t,e),t.prototype.next=function(e,t,n,a){this.childrenNext(e,t,n,a)},t}(m),g=function(e){function t(t,n,a,r,s){var i=e.call(this,n,a,r,s)||this;return i.keyPath=t,i.propop=!0,i._nextNestedValue=function(e,t,n,a){return i.childrenNext(e,t,n,a),!i.done},i}return a(t,e),t.prototype.next=function(e,t,n){d(e,this.keyPath,this._nextNestedValue,0,t,n)},t}(m),b=function(e,t){if(e instanceof Function)return e;if(e instanceof RegExp)return function(t){var n="string"==typeof t&&e.test(t);return e.lastIndex=0,n};var n=i(e);return function(e){return t(n,i(e))}},v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propop=!0,t}return a(t,e),t.prototype.init=function(){this._test=b(this.params,this.options.compare)},t.prototype.next=function(e,t,n){Array.isArray(n)&&!n.hasOwnProperty(t)||this._test(e,t,n)&&(this.done=!0,this.keep=!0)},t}(p),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propop=!0,t}return a(t,e),t.prototype.next=function(){this.done=!0,this.keep=!1},t}(p),E=function(e){return t=function(t,n,a,r){var s=typeof i(t),c=e(t);return new v((function(e){return typeof i(e)===s&&c(e)}),n,a,r)},function(e,n,a,r){return null==e?new y(e,n,a,r):t(e,n,a,r)};var t},O=function(e,t,n,a){var r=a.operations[e];return r||j(e),r(t,n,a,e)},j=function(e){throw new Error("Unsupported operation: "+e)},w=function(e,t){for(var n in e)if(t.operations.hasOwnProperty(n)||"$"===n.charAt(0))return!0;return!1},_=function(e,t,n,a,r){if(w(t,r)){var s=N(t,n,r),i=s[0];if(s[1].length)throw new Error("Property queries must contain only operations, or exact objects.");return new g(e,t,a,r,i)}return new g(e,t,a,r,[new v(t,a,r)])},k=function(e,t,n){void 0===t&&(t=null);var a=void 0===n?{}:n,r=a.compare,s=a.operations,i={compare:r||u,operations:Object.assign({},s||{})},c=N(e,null,i),o=c[0],l=c[1],d=[];return o.length&&d.push(new g([],e,t,i,o)),d.push.apply(d,l),1===d.length?d[0]:new h(e,t,i,d)},N=function(e,t,n){var a,r=[],s=[];if(!(a=e)||a.constructor!==Object&&a.constructor!==Array&&"function Object() { [native code] }"!==a.constructor.toString()&&"function Array() { [native code] }"!==a.constructor.toString()||a.toJSON)return r.push(new v(e,e,n)),[r,s];for(var i in e)if(n.operations.hasOwnProperty(i)){var c=O(i,e[i],e,n);if(c&&!c.propop&&t&&!n.operations[t])throw new Error("Malformed query. "+i+" cannot be matched against property.");null!=c&&r.push(c)}else"$"===i.charAt(0)?j(i):s.push(_(i.split("."),e[i],i,e,n));return[r,s]},C=function(e){return function(t,n,a){return e.reset(),e.next(t,n,a),e.keep}},P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propop=!0,t}return a(t,e),t.prototype.init=function(){this._test=b(this.params,this.options.compare)},t.prototype.reset=function(){e.prototype.reset.call(this),this.keep=!0},t.prototype.next=function(e){this._test(e)&&(this.done=!0,this.keep=!1)},t}(p),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propop=!0,t}return a(t,e),t.prototype.init=function(){if(!this.params||"object"!=typeof this.params)throw new Error("Malformed query. $elemMatch must by an object.");this._queryOperation=k(this.params,this.owneryQuery,this.options)},t.prototype.reset=function(){e.prototype.reset.call(this),this._queryOperation.reset()},t.prototype.next=function(e){if(c(e)){for(var t=0,n=e.length;t<n;t++){this._queryOperation.reset();var a=e[t];this._queryOperation.next(a,t,e,!1),this.keep=this.keep||this._queryOperation.keep}this.done=!0}else this.done=!1,this.keep=!1},t}(p),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propop=!0,t}return a(t,e),t.prototype.init=function(){this._queryOperation=k(this.params,this.owneryQuery,this.options)},t.prototype.reset=function(){e.prototype.reset.call(this),this._queryOperation.reset()},t.prototype.next=function(e,t,n,a){this._queryOperation.next(e,t,n,a),this.done=this._queryOperation.done,this.keep=!this._queryOperation.keep},t}(p),T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propop=!0,t}return a(t,e),t.prototype.init=function(){},t.prototype.next=function(e){c(e)&&e.length===this.params&&(this.done=!0,this.keep=!0)},t}(p),I=function(e){if(0===e.length)throw new Error("$and/$or/$nor must be a nonempty array")},M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propop=!1,t}return a(t,e),t.prototype.init=function(){var e=this;I(this.params),this._ops=this.params.map((function(t){return k(t,null,e.options)}))},t.prototype.reset=function(){this.done=!1,this.keep=!1;for(var e=0,t=this._ops.length;e<t;e++)this._ops[e].reset()},t.prototype.next=function(e,t,n){for(var a=!1,r=!1,s=0,i=this._ops.length;s<i;s++){var c=this._ops[s];if(c.next(e,t,n),c.keep){a=!0,r=c.keep;break}}this.keep=r,this.done=a},t}(p),L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propop=!1,t}return a(t,e),t.prototype.next=function(t,n,a){e.prototype.next.call(this,t,n,a),this.keep=!this.keep},t}(M),R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propop=!0,t}return a(t,e),t.prototype.init=function(){var e=this;this._testers=this.params.map((function(t){if(w(t,e.options))throw new Error("cannot nest $ under "+e.name.toLowerCase());return b(t,e.options.compare)}))},t.prototype.next=function(e,t,n){for(var a=!1,r=!1,s=0,i=this._testers.length;s<i;s++){if((0,this._testers[s])(e)){a=!0,r=!0;break}}this.keep=r,this.done=a},t}(p),A=function(e){function t(t,n,a,r){var s=e.call(this,t,n,a,r)||this;return s.propop=!0,s._in=new R(t,n,a,r),s}return a(t,e),t.prototype.next=function(e,t,n,a){this._in.next(e,t,n),c(n)&&!a?this._in.keep?(this.keep=!1,this.done=!0):t==n.length-1&&(this.keep=!0,this.done=!0):(this.keep=!this._in.keep,this.done=!0)},t.prototype.reset=function(){e.prototype.reset.call(this),this._in.reset()},t}(p),F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propop=!0,t}return a(t,e),t.prototype.next=function(e,t,n){n.hasOwnProperty(t)===this.params&&(this.done=!0,this.keep=!0)},t}(p),D=function(e){function t(t,n,a,r){var s=e.call(this,t,n,a,t.map((function(e){return k(e,n,a)})),r)||this;return s.propop=!1,I(t),s}return a(t,e),t.prototype.next=function(e,t,n,a){this.childrenNext(e,t,n,a)},t}(f),U=function(e){function t(t,n,a,r){var s=e.call(this,t,n,a,t.map((function(e){return k(e,n,a)})),r)||this;return s.propop=!0,s}return a(t,e),t.prototype.next=function(e,t,n,a){this.childrenNext(e,t,n,a)},t}(f),B=E((function(e){return function(t){return t<e}})),q=E((function(e){return function(t){return t<=e}})),z=E((function(e){return function(t){return t>e}})),V=E((function(e){return function(t){return t>=e}})),W={number:function(e){return"number"==typeof e},string:function(e){return"string"==typeof e},bool:function(e){return"boolean"==typeof e},array:function(e){return Array.isArray(e)},null:function(e){return null===e},timestamp:function(e){return e instanceof Date}},H=Object.freeze({__proto__:null,$Size:T,$eq:function(e,t,n){return new v(e,t,n)},$ne:function(e,t,n,a){return new P(e,t,n,a)},$or:function(e,t,n,a){return new M(e,t,n,a)},$nor:function(e,t,n,a){return new L(e,t,n,a)},$elemMatch:function(e,t,n,a){return new S(e,t,n,a)},$nin:function(e,t,n,a){return new A(e,t,n,a)},$in:function(e,t,n,a){return new R(e,t,n,a)},$lt:B,$lte:q,$gt:z,$gte:V,$mod:function(e,t,n){var a=e[0],r=e[1];return new v((function(e){return i(e)%a===r}),t,n)},$exists:function(e,t,n,a){return new F(e,t,n,a)},$regex:function(e,t,n){return new v(new RegExp(e,t.$options),t,n)},$not:function(e,t,n,a){return new x(e,t,n,a)},$type:function(e,t,n){return new v((function(t){if("string"==typeof e){if(!W[e])throw new Error("Type alias does not exist");return W[e](t)}return null!=t&&(t instanceof e||t.constructor===e)}),t,n)},$and:function(e,t,n,a){return new D(e,t,n,a)},$all:function(e,t,n,a){return new U(e,t,n,a)},$size:function(e,t,n){return new T(e,t,n,"$size")},$options:function(){return null},$where:function(t,n,a){var r;if(l(t))r=t;else{if(e.env.CSP_ENABLED)throw new Error('In CSP mode, sift does not support strings in "$where" condition');r=new Function("obj","return "+t)}return new v((function(e){return r.bind(e)(e)}),n,a)}});t.a=function(e,t){void 0===t&&(t={});var n=function(e,t,n){var a=void 0===n?{}:n,r=a.compare,s=a.operations;return k(e,t,{compare:r,operations:Object.assign({},H,s||{})})}(e,null,t);return C(n)}}).call(this,n("TzVV"))},"fc//":function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/ic_check_circle_black_24px.svg"},"fp/B":function(e,t,n){"use strict";n.d(t,"a",(function(){return r.l})),n.d(t,"c",(function(){return r.u})),n.d(t,"d",(function(){return r.w})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return d}));n("NH7Q"),n("IKa1");var a=n("F2bt"),r=n("tK4o"),s=(n("dQ91"),function(e){return{done:!0,value:e}}),i={};function c(e){return Object(a.b)(e)?"channel":Object(a.k)(e)?String(e):Object(a.c)(e)?e.name:String(e)}function o(e,t,n){var a,c,o,l=t;function u(t,n){if(l===i)return s(t);if(n&&!c)throw l=i,n;a&&a(t);var r=n?e[c](n):e[l]();return l=r.nextState,o=r.effect,a=r.stateUpdater,c=r.errorState,l===i?s(t):o}return Object(r.M)(u,(function(e){return u(null,e)}),n)}function l(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];var i,l,u={done:!1,value:Object(r.i)(e)},d=function(e){return{done:!1,value:r.j.apply(void 0,[t].concat(a,[e]))}},p=function(e){return{done:!1,value:Object(r.k)(e)}},m=function(e){return i=e},f=function(e){return l=e};return o({q1:function(){return{nextState:"q2",effect:u,stateUpdater:f}},q2:function(){return i?{nextState:"q3",effect:p(i)}:{nextState:"q1",effect:d(l),stateUpdater:m}},q3:function(){return{nextState:"q1",effect:d(l),stateUpdater:m}}},"q1","takeLatest("+c(e)+", "+t.name+")")}function u(e,t,n){for(var a=arguments.length,s=new Array(a>3?a-3:0),i=3;i<a;i++)s[i-3]=arguments[i];var l,u,d={done:!1,value:Object(r.i)(t)},p={done:!1,value:Object(r.t)({action:Object(r.i)(t),debounce:Object(r.s)(e)})},m=function(e){return{done:!1,value:r.j.apply(void 0,[n].concat(s,[e]))}},f=function(e){return{done:!1,value:e}},h=function(e){return l=e},g=function(e){return u=e};return o({q1:function(){return{nextState:"q2",effect:d,stateUpdater:h}},q2:function(){return{nextState:"q3",effect:p,stateUpdater:g}},q3:function(){return u.debounce?{nextState:"q1",effect:m(l)}:{nextState:"q2",effect:f(u.action),stateUpdater:h}}},"q1","debounce("+c(t)+", "+n.name+")")}function d(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];return r.j.apply(void 0,[l,e,t].concat(a))}function p(e,t,n){for(var a=arguments.length,s=new Array(a>3?a-3:0),i=3;i<a;i++)s[i-3]=arguments[i];return r.j.apply(void 0,[u,e,t,n].concat(s))}},"g+ST":function(e,t,n){"use strict";var a=n("alDB"),r=n.n(a);t.a=e=>r()(e||"",{remove:/[%=?\\/*+~.()'"!:@]/g,separator:"_",lower:!0})},gHcT:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/power.png"},goqe:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i}));var a=n("ZNIA");const r={desktop:{minWidth:1025},aboveMobile:{minWidth:601},belowDesktop:{maxWidth:1024},tablet:{maxWidth:1024,minWidth:768},mobile:{maxWidth:600}};function s(){return{isDesktop:Object(a.useMediaQuery)(r.desktop),isAboveMobile:Object(a.useMediaQuery)(r.aboveMobile),isBelowDesktop:Object(a.useMediaQuery)(r.belowDesktop),isTablet:Object(a.useMediaQuery)(r.tablet),isMobile:Object(a.useMediaQuery)(r.mobile)}}const i=()=>!!Object(a.useMediaQuery)(r.mobile)},gxZ5:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("r0ML"),r=n.n(a),s=n("Pc05"),i=n.n(s),c=n("udwx"),o={root:"_2M_1Ol43",disabled:"_39IPMV52",label:"v3GxyvsU",soon:"_2ovZTsiT",icon:"RtpShIgh",badge:"_26y6czIF",arrow:"rtv2K6C8",chevronData:"_2EfGiufa"};function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function u(e){let{tag:t="a",themeStyles:n=o,className:a,chevron:s=!0,soon:u=!1,disabled:d=!1,icon:p,children:m,...f}=e;return r.a.createElement(t,l({className:i()(n.root,a,u&&n.soon,d&&n.disabled)},f),p&&r.a.createElement("span",{className:n.icon},r.a.createElement(p,{size:20})),r.a.createElement("span",{className:n.label},m),u?r.a.createElement("i",{className:n.badge},"Soon"):!0===s?r.a.createElement(c.a,{className:n.arrow}):r.a.createElement("div",{className:n.chevronData},s,r.a.createElement(c.a,{className:n.arrow})))}u.styles=o},hJsr:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/onboarding/pixel.svg"},iVRF:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={};n.r(a),n.d(a,"applicationServerKey",(function(){return u})),n.d(a,"isNotificationSupport",(function(){return d})),n.d(a,"isPushManagerSupport",(function(){return p})),n.d(a,"isServiceWorkerSupport",(function(){return m})),n.d(a,"PushMessagingError",(function(){return f})),n.d(a,"handleError",(function(){return h})),n.d(a,"urlB64ToUint8Array",(function(){return g})),n.d(a,"getRegistration",(function(){return b})),n.d(a,"displayNotification",(function(){return v})),n.d(a,"requestPermission",(function(){return y})),n.d(a,"askPermission",(function(){return E})),n.d(a,"isSubscribed",(function(){return O})),n.d(a,"subscribe",(function(){return j})),n.d(a,"getSubscription",(function(){return w})),n.d(a,"unsubscribe",(function(){return _})),n.d(a,"init",(function(){return k}));var r=n("ozdI"),s=n.n(r),i=n("UhZ4"),c=n.n(i),o=n("cGUp"),l=n.n(o);const u=()=>g(l.a.vapid_public_key),d="Notification"in window,p="PushManager"in window,m="serviceWorker"in navigator;class f extends Error{}function h(e){if(!(e instanceof f))throw e;"console"in window&&console.warn(e.message)}function g(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=atob(t),a=new Uint8Array(n.length);for(let e=0;e<n.length;++e)a[e]=n.charCodeAt(e);return a}async function b(){if(!m)throw new f("serviceWorker isn't supported");return await navigator.serviceWorker.getRegistration()}async function v(){if(d&&"granted"===Notification.permission){(await b()).showNotification(...arguments)}}function y(){return s()(Notification.requestPermission)?Notification.requestPermission():new Promise((e,t)=>{Notification.requestPermission(t=>{e(t)})})}async function E(){if(!d)throw new f("Notification isn't supported");const e=c.a.get("notification_requested_at",0)+12096e5<Date.now();if("granted"!==Notification.permission&&e){const e=await y();return c.a.set("notification_requested_at",Date.now()),"granted"===e}return"granted"===Notification.permission}async function O(){if(!p)throw new f("PushManager isn't supported");const e=await b();if(!e)throw new f("Empty serviceWorker registration");if(!e.pushManager)throw new f("PushManager isn't supported");return!!await e.pushManager.getSubscription()}async function j(){if(!p)throw new f("PushManager isn't supported");const e=await b();return await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:u()})}async function w(){if(!p)throw new f("PushManager isn't supported");const e=await b();if(!e)return;if(!e.pushManager)throw new f("PushManager isn't supported");return await e.pushManager.getSubscription()}async function _(){if(!p)throw new f("PushManager isn't supported");const e=await b();if(!e)return;if(!e.pushManager)throw new f("PushManager isn't supported");let t=await e.pushManager.getSubscription();return await t.unsubscribe(),JSON.stringify(t)}async function k(){try{const e=await E();let t=await w();if(t&&!e)return void await _();if(!e)return;return t||(t=await j()),t}catch(e){h(e)}}},j2AC:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"g",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p}));var a=n("y3H7"),r=n("K6sN");class s extends a.a{constructor(e){super(),this.name="ApiError",this.errors={},this.status=500,Object.assign(this,e)}static is(e){return!!e&&(this.name===e.name||this.type===e.type||e instanceof this)}get type(){return this.name}}class i extends a.a{constructor(){super(...arguments),this.name="NetworkError"}}class c extends s{constructor(){super(...arguments),this.name="RequestError"}}class o extends s{constructor(e){super({status:404,message:"NotFound error",...e}),this.name="NotFoundError"}}class l extends s{constructor(e){super({status:400,message:"Validation error",errors:Object(r.h)(e.json),...e}),this.name="ValidationError"}}class u extends s{constructor(e){super({status:401,message:"Authorization error",...e}),this.name="AuthorizationError";const t=e.json;null!=t&&t.permission&&(this.permission=t.permission,this.code=t.code,this.plan=t.plan,this.target=t.target)}isFeatureAccessError(){return!!this.permission}}class d extends s{constructor(e){let{status:t,message:n,json:{error:a}}=e;super({status:t||403,message:(null==a?void 0:a.message)||n||"Forbidden",permission:null==a?void 0:a.permission,code:null==a?void 0:a.code,...null==a?void 0:a.details}),this.name="ForbiddenError"}static isPermissionBlock(e){return this.is(e)&&!!e.permission}}class p extends s{constructor(e){super({status:429,message:e.json.error||"Too Many Requests",within:e.json.within,...e}),this.name="LimitRequestsError"}}},j68g:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var a=n("quq1"),r=n("Zsls"),s=n.n(r);const i=()=>Object.values(s.a),c=e=>e.id,o=e=>e.paddle||e.liqpay,l=e=>!e.paddle&&!e.liqpay,u=e=>e.deprecated,d=e=>e.published,p=Object(a.default)(()=>{const e=i(),t=e.filter(o).map(c),n=["unlimited",...e.filter(l).map(c)],a=e.filter(u).map(c),r=e.filter(d).map(c);return{BASIC:"basic",UNLIMITED:"unlimited",UNPAID:n,PAID:t,UPGRADEABLE:["basic",...r],DEPRECATED:a,ACTUAL:r}}),m=e=>e&&i().find(t=>t.id===e)},jMR3:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("r0ML"),r=n.n(a);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function i(e){return r.a.createElement("a",s({target:"_blank",rel:"noopener noreferrer"},e))}},kGuf:function(e,t,n){"use strict";var a=n("r0ML");function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var s=a.createElement("path",{d:"M6.08 3.625v12.688c0 .75.629 1.359 1.404 1.359.775 0 1.403-.609 1.403-1.36V3.626c0-.75-.628-1.36-1.403-1.36s-1.403.61-1.403 1.36zm11.226 1.813v12.687c0 .75.629 1.36 1.404 1.36.775 0 1.403-.61 1.403-1.36V5.437c0-.75-.628-1.359-1.403-1.359s-1.404.609-1.404 1.36zm-5.612-3.625V14.5c0 .75.628 1.36 1.403 1.36s1.403-.61 1.403-1.36V1.812c0-.75-.628-1.359-1.403-1.359s-1.403.609-1.403 1.36zM26.52 19.619l-11.845 5.525c-3.956 1.845-8.708.234-10.614-3.599a7.504 7.504 0 01-.787-3.342V8.156c0-.75-.628-1.36-1.403-1.36s-1.403.61-1.403 1.36v10.047c0 1.566.364 3.111 1.065 4.521 2.577 5.187 9.007 7.366 14.36 4.87l11.845-5.525c.698-.326.992-1.139.655-1.815-.336-.676-1.174-.96-1.873-.635z",fillRule:"evenodd"});t.a=function(e){return a.createElement("svg",r({viewBox:"-10 -10 49 49"},e),s)}},kVuv:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("r0ML"),r=n.n(a),s=n("cpKZ"),i="_3YA81Jdb",c="_2bi22KEb",o="_25BULrdo";function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const u=e=>{let{nopadding:t,noHeader:n,onBottomScroll:u,...d}=e;const p=Object(a.useCallback)(e=>{let{target:t}=e;u&&t.scrollHeight-t.scrollTop<t.clientHeight+1&&u()},[u]);return r.a.createElement("div",l({onScroll:p},Object(s.a)([i,t&&c,n&&o],d)))}},kciy:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("r0ML"),r=n.n(a),s=n("kkZN"),i=n("hycj"),c=n("yW3b");function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function l(e){let{as:t=c.a,isInitialHidden:n=!1,onClick:s,...l}=e;const{submitForm:u,dirty:d,isSubmitting:p}=Object(i.d)(),m=!d&&n,f=Object(a.useCallback)(e=>{e.preventDefault(),u()});return m?null:r.a.createElement(t,o({isFetching:p,disabled:!d,onClick:s||f},l))}function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function d(e){let{children:t,...n}=e;const{t:a}=Object(s.useTranslation)("ui");return r.a.createElement(l,u({size:"small",noborder:!0,btnStyle:"primary",isInitialHidden:!0},n),t||a("button.save"))}d.defaultProps={children:null}},"ke/A":function(e,t,n){"use strict";var a=n("r0ML"),r=n.n(a),s=n("Pc05"),i=n.n(s),c={root:"_3OeczVzx",toggle:"_1Kjnejio",wrap:"XKD4Z1Pu",toggler:"_1_yClYAk",input:"_14R5w4Hn",builderInput:"_250ODmC7",label:"_3xK0PfpQ",checkMarkSquare:"iXMUFzqn",checkMark:"-qcRZlFE",checked:"Khl_0X4S",check:"_1m8NEHsv",disabled:"_1D49yJ8z"};function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const l=e=>{let{customStyle:t,checked:n}=e;const a=(null==t?void 0:t.backgroundColor)||"#FFFFFF",s=(null==t?void 0:t.color)||(n?"#007aff":"#c7c7cc"),i=n?(null==t?void 0:t.color)||"#007aff":"transparent";return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},r.a.createElement("rect",{className:c.checkMarkSquare,x:"0.75",y:"0.75",width:"16.5",height:"16.5",rx:"6",ry:"6",strokeWidth:"1.5px",fill:i,stroke:s}),r.a.createElement("path",{className:c.checkMark,d:"M5.35,8.89a.48.48,0,0,0-.71,0,.57.57,0,0,0,0,.76l2.5,2.69a.48.48,0,0,0,.71,0l5.5-5.92a.57.57,0,0,0,0-.76.48.48,0,0,0-.71,0L7.5,11.2Z",fill:a,stroke:a}))},u=e=>{let{className:t,hasError:n,placeholder:a,styled:s,disabled:u,builderInput:d,style:p,checked:m,...f}=e;return r.a.createElement("label",{className:i()(t,c.root,c[s],n&&c.error,u&&c.disabled,d&&c.builderInput,m&&c.checked)},r.a.createElement("div",{className:c.wrap},r.a.createElement("input",o({className:c.input,type:"checkbox",disabled:u,checked:m},f)),"toggle"===s?r.a.createElement("div",{className:c.toggler}):r.a.createElement(l,{customStyle:p,checked:m})),a&&r.a.createElement("div",{className:c.label},a))};u.defaultProps={hasError:!1,disabled:!1,styled:"default",builderInput:!1,checked:!1};t.a=u},kpO9:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/insta_share.png"},l2lW:function(e,t,n){"use strict";t.a={root:"_2J6H9Uai",rootLegacy:"HPbLG_dr",overlay:"_2U9gQNmk",sheet:"_3wOHCpsL",sheetLegacy:"_2ZuknIT0",fullWidth:"wm_Yk6OG",sheetPane:"_2aZksoJt",fullHeight:"_3JFIbH1s",hasHeader:"_39CX46wL",inverse:"_3J48lz6E",sheetyPane:"_3hSuDO2G",header:"_2THAEngG",padded:"_28jl8F8d",content:"_1MqPnkuD"}},l9gc:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("Pc05"),r=n.n(a),s=n("r0ML"),i=n.n(s),c=n("lkLo"),o=n("oZLZ"),l=n("r1xb"),u=n("l2lW");function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const p={root:{visible:{pointerEvents:"auto"},hidden:{pointerEvents:"none"}},overlay:{visible:{backgroundColor:"rgba(0,0,0,.5)"},hidden:{backgroundColor:"rgba(0,0,0,0)"}},sheet:{visible:{y:0},hidden:{y:"calc(100% + 20px)"}}},m={overlay:{ease:"easeInOut"},sheet:{type:"spring",damping:40,stiffness:400},sheetPane:{type:"spring",damping:40,stiffness:400}};function f(e){let{children:t,isClosing:n,onClose:a,onExit:h,fullWidth:g=!0,fullHeight:b,inverse:v,paneMotionProps:y,sheetPaneProps:E,...O}=e;const j=Object(c.g)(),w=Object(s.useCallback)(()=>f.applyClose(a,j),[a,j]);return i.a.createElement(o.b.div,d({className:r()(u.a.root,{[u.a.rootLegacy]:!0}),variants:p.root,initial:"hidden",animate:n?"hidden":"visible",enter:"visible",exit:"hidden"},O),i.a.createElement(o.b.div,{className:u.a.overlay,variants:p.overlay,transition:m.overlay,initial:"hidden",animate:n?"hidden":"visible",exit:"hidden",enter:"visible",onClick:w,onAnimationComplete:n?h:void 0}),i.a.createElement(o.b.div,{className:r()({[u.a.sheet]:!0,[u.a.fullWidth]:!1,[u.a.fullHeight]:b,[u.a.sheetLegacy]:!0}),variants:p.sheet,transition:m.sheet,initial:"hidden",animate:n?"hidden":"visible",exit:"hidden",enter:"visible"},i.a.createElement(o.b.div,d({className:r()(u.a.sheetPane,v&&u.a.inverse),dragMomentum:!1,transition:m.sheetPane},y,E),Object(l.a)(t,w))))}f.applyClose=(e,t)=>{"function"==typeof e?e():e&&t.push(e)}},lblK:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("r0ML"),r=n.n(a),s=n("6Gxm"),i=n.n(s),c=n("Pc05"),o=n.n(c),l="aoRd5sZu";const u=["#e67e22","#2ecc71","#3498db","#8e44ad","#e74c3c","#1abc9c","#2c3e50"];function d(e){let{className:t,name:n,src:a,size:s,fontSize:c}=e;c||(c=Math.round(.3888*s));const d=n.split(" ").slice(0,2).join(" ");return r.a.createElement(i.a,{className:o()(l,t),style:{fontSize:c},size:s,name:d,src:a,title:n,colors:u})}d.defaultProps={size:36}},lhwe:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/onboarding/categories.svg"},lsIJ:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/viber2.svg"},mKdU:function(e,t,n){"use strict";
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=n("r0ML");var r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=a.useState,i=a.useEffect,c=a.useLayoutEffect,o=a.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),a=s({inst:{value:n,getSnapshot:t}}),r=a[0].inst,u=a[1];return c((function(){r.value=n,r.getSnapshot=t,l(r)&&u({inst:r})}),[e,n,t]),i((function(){return l(r)&&u({inst:r}),e((function(){l(r)&&u({inst:r})}))}),[e]),o(n),n};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:u},mZIR:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return A}));var a=n("UhZ4"),r=n.n(a),s=n("fp/B"),i=n("3gnH"),c=n("aV+K"),o=n("MP+E"),l=n("+rr2"),u=n("79Hl"),d=n("8hF1"),p=n("uyvO"),m=n("sNVq"),f=n("okl4");function*h(){const e=yield Object(s.d)(),{status:t}=e.ui.conversationsFilter;yield Object(s.c)(o.a.conversations.statistics({query:{status:t}}))}function*g(){const e=yield Object(s.d)();yield Object(s.a)([r.a,"set"],"conversationsFilter",e.ui.conversationsFilter),yield Object(s.c)(o.a.conversations.filterList())}function*b(){yield Object(s.c)(o.a.conversations.unread())}function*v(e){let{result:t}=e;yield Object(s.c)(o.a.feedbacks.recent({websiteId:t.website}))}function*y(){yield Object(s.c)(l.ui.setConversationsFilter({assign:"all",status:"open",searchValue:"",showNewFirst:!0}))}function*E(){yield Object(s.c)(o.a.collections.list())}function*O(e){yield Object(s.c)(o.a.products.list({query:{website:e.payload.websiteId}}))}function*j(e){yield Object(s.c)(o.a.websites.retrieve({websiteId:e.websiteId}))}function*w(){const e=yield Object(s.d)(),{user:t}=e.currentUser;t&&window.Sentry.setUser({email:t.email,oid:t._id})}function*_(e){if(window.matchMedia("(max-width: 767px)").matches)yield Object(s.a)(c.a.push,"/i");else{const{conversations:t}=yield Object(s.d)(),n=t.list.ids.map(e=>t.list.byContactId[e]).filter(t=>t.status!==e.status&&t.contact._id!==e.contactId);yield Object(s.a)(c.a.push,n.length>0?"/i/"+n[0].contact._id:"/i")}}function*k(){yield Object(s.c)(o.a.workspaces.retrieve())}function*N(e){yield Object(s.c)(l.ui.setConversationsFilter({status:"open"})),yield Object(s.c)(o.a.conversations.retrieve({contactId:e.contactId}))}function*C(){yield Object(s.c)(o.a.workspaces.retrieve()),yield Object(s.c)(o.a.billing.details())}function*P(){const e=Object(m.a)();e&&(yield Object(s.a)(c.a.push,e+"/checkout-complete-successfully"))}function*S(){const e=yield Object(s.d)();e.checkout.status===p.a.complete_payment_successfully&&e.billingDetails.result.subscription&&(yield Object(s.c)(l.checkout.applyPlan()))}function*x(){yield Object(s.c)(o.a.workspaces.retrieve()),yield Object(s.c)(o.a.billing.details());const e=Object(m.a)();e&&(yield Object(s.a)(c.a.push,e))}function*T(){const e=yield Object(s.d)();yield Object(s.a)([r.a,"set"],"advancedStylingMode",e.ui.isAdvancedStylingMode)}function*I(e){const t=yield Object(s.d)();yield Object(s.c)(o.a.users.updateMyAccount({payload:{...t.currentUser.user,country:e.payload.country}}))}function*M(){const{currentUser:e}=yield Object(s.d)();e.user&&(yield Object(s.a)([i.a,"changeLanguage"],e.user.lang))}function*L(){const{feedback:{filter:e}}=yield Object(s.d)();if(e.website){const{website:t,...n}=e;yield Object(s.c)(o.a.feedbacks.list({websiteId:t,query:Object(f.c)(n)}))}}function*R(){const{audience:{filter:e}}=yield Object(s.d)();if(e.website){const{website:t,...n}=e;yield Object(s.c)(o.a.websites.audience.list({websiteId:t,query:Object(f.c)(n)}))}}function*A(){window.Sentry&&(yield Object(s.e)(o.a.users.me.success,w)),yield Object(s.b)(100,[o.a.conversations.assign.success,o.a.conversations.assignMe.success,o.a.conversations.changeStatus.success,o.a.listenCreateConversation.type,o.a.listenUpdateConversation.type,l.ui.setConversationsFilter],h),yield Object(s.e)(o.a.conversations.assignMe.success,y),yield Object(s.e)(l.ui.setConversationsFilter,g),yield Object(s.e)(l.ui.toggleStylingMode,T),yield Object(s.e)([o.a.listenCreateConversation.type,o.a.listenUpdateConversation.type,o.a.workspaces.my],b),yield Object(s.e)([o.a.feedbacks.update.success,o.a.feedbacks.delete.success,o.a.feedbacks.create.success,o.a.listenCreateFeedback.type,o.a.listenUpdateFeedback.type],v),yield Object(s.e)([o.a.products.create.success,o.a.products.update.success,o.a.products.delete.success,o.a.products.migrate.success,o.a.websites.create.success,o.a.websites.scaffold.success,o.a.websites.delete.success,o.a.collections.products.update.success,o.a.blocks.convert.success],E),yield Object(s.e)(o.a.products.migrate.success,O),yield Object(s.e)([o.a.pages.create.success,o.a.pages.clone.success,o.a.pages.delete.success],j),yield Object(s.b)(300,[o.a.billing.update.success,o.a.billing.subscription.cancel.success,o.a.billing.changeCreditCard.success,o.a.listenSubscriptionCreated.type,o.a.listenSubscriptionUpdated.type,o.a.listenSubscriptionCancelled.type,o.a.listenPaymentSucceeded.type,o.a.listenPaymentFailed.type,o.a.listenPaymentRetryFailed.type,o.a.listenHighRiskTransactionUpdated.type,l.checkout.completePayment],C),yield Object(s.e)(l.checkout.completePayment,P),yield Object(s.e)(o.a.billing.changePlan.success,x),yield Object(s.e)(o.a.conversations.changeStatus.success,_),yield Object(s.e)(o.a.billing.details.success,S),yield Object(s.e)([o.a.integrations.create.success,o.a.integrations.delete.success],k),yield Object(s.e)([o.a.conversations.sendMessage.success,o.a.conversations.sendAttachment.success],N),yield Object(s.e)(l.checkout.changeCountry,I),"mobile"!==e.env.REACT_APP_TARGET&&(yield Object(s.e)(o.a.users.me.success,M)),yield Object(s.b)(300,u.a,L),yield Object(s.b)(300,d.b,R)}}).call(this,n("TzVV"))},nq71:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("r0ML"),r=n("LkJY"),s=n("hycj"),i=n("DC3q"),c=n("vMq5");function o(e){let{onChange:t,onSubmit:n,errorsPrefix:o,resetOnSuccess:l=!1,...u}=e;const d=Object(c.a)(n),p=Object(s.c)({onSubmit:function(){return d.run(...arguments)},...u}),m=o?Object(i.a)(d.validationErrors,o):d.validationErrors;return Object(a.useEffect)(()=>{d.fulfilled&&(p.setSubmitting(!1),p.setStatus("success"),l&&p.resetForm())},[d.fulfilled]),Object(a.useEffect)(()=>{d.rejected&&(p.setSubmitting(!1),p.setStatus("failure"))},[d.rejected]),Object(a.useEffect)(()=>p.setErrors(m||{}),[m]),Object(r.a)(()=>{null==t||t(p.values,p)},[p.values]),{submit:d,errorsPrefix:o,...p}}},o5DE:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/insta.svg"},o9yr:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/hand.png"},oaOZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{constructor(){this.type="backend",this.resolvers={}}init(e,t,n){this.services=e,this.backendOptions=t,this.i18nextOptions=n}registerResolver(e,t){this.resolvers[e]=t}async read(e,t,n){try{const a=this.resolvers[t];if(!a)return n(new Error(`Localization resolver for namespace "${t}" not registered`),null);const r=await a(e);n(null,r.default||r)}catch(e){n(e,null)}}create(e,t,n,a){console.log(`languages=${e}, namespace=${t}, key=${n}, fallbackValue=${a}`)}}},okl4:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o}));var a=n("wTxz"),r=n("5WIS"),s=n("y3Ab");const i=e=>Object.fromEntries(Object.entries(e).filter(e=>{let[,t]=e;return null!=t?t:""!==t})),c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>Object(a.a)(e,...t)},o=e=>c({_id:e}),l=e=>t=>e===t,u=e=>{const t=String(e).toLowerCase();return e=>String(e).toLowerCase().includes(t)},d=(e,t)=>n=>n[t]===e,p=(e,t)=>{const n=u(e);return e=>n(e[t]||"")},m={0:d,1:p},f=(e,t)=>{const n=Object.entries(e);return e=>!!(n.every(t=>{let[n,a]=t;return!a||e[n]===a})^!!t)};t.a={match:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(e,n)=>{let[a,r]=n;const s=t[a];if(-1===s)return e;const i=("function"==typeof s?s:m[s]||d)(r,a);return e.every(i)?e:e.filter(i)};return t=>Object.entries(t).reduce(n,e)},isMatch:c,isMatchId:o,isExact:l,isSubstring:u,byEquality:d,bySubstring:p,byProps:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;return n=>{const a=t(n);return t=>e.some(e=>a(t[e]))}},filterWithSpecifier:f,filterWithExclusion:(e,t)=>{if(!t)return e;const n=t.filter,a=t.exclude,i=!!n,c=!Object(r.a)(a),o=i||c?Object(s.a)(t,["filter","exclude"]):t;return i&&(e=e.filter(n)),c&&(e=e.filter(f(a,!0))),Object(r.a)(o)||(e=e.filter(f(o))),e}}},oxvr:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("r0ML"),r=n.n(a),s=n("+Q0i"),i=n("r1xb"),c=n("l9gc"),o=n("eGoJ"),l=n("dXwK"),u=n("SVdZ");function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const p=e=>{let{title:t,render:n,portalTo:p,padding:m,onClosing:f,onClose:h,closeIcon:g,rightButton:b,children:v,className:y,...E}=e;const{isClosing:O,onClose:j,onExit:w}=(e=>{let{onClosing:t,onClose:n}=e;const[r,s]=Object(a.useState)(!1),[i,c]=Object(a.useState)(!1),o=Object(u.a)(),l=Object(a.useCallback)((async function(){if(!i&&o()){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];if(t){c(!0);try{if(!1===await t(...n))return}finally{o()&&c(!1)}}s(n)}}),[i,t]),d=Object(a.useCallback)(()=>{o()&&s(!1),n&&n(...r||[])},[r,n]);return{isClosing:!!r&&!i,onClose:l,onExit:d}})({onClosing:f,onClose:h}),_=Object(a.useCallback)(()=>{j(!0)},[j]),k=Object(a.useCallback)(()=>{j(!1)},[j]);return Object(s.createPortal)(r.a.createElement(c.a,d({isClosing:O,onClose:j,onExit:w},E),r.a.createElement(o.a,{className:y,padding:m,header:(t||g)&&r.a.createElement(l.a,{title:t,closePath:j,closeIcon:g,rightButton:Object(i.a)(b,j)})},Object(i.a)(n||v,{handleClose:j,handleTrue:_,handleFalse:k}))),document.querySelector(p))};p.defaultProps={padding:!0,portalTo:"#mainRoot"}},p4j6:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("r0ML");function r(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[t,n]=Object(a.useState)(e),r=Object(a.useCallback)(e=>{var t;"boolean"==typeof e?n(e):(null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),n(e=>!e))},[]),s=Object(a.useCallback)(e=>{var t;null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),n(!0)},[]),i=Object(a.useCallback)(e=>{var t;null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),n(!1)},[]),c={onClose:i,isOpen:t};return{isOpen:t,toggle:r,show:s,hide:i,props:c}}},"pmn+":function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/onboarding/analytics_integrations.svg"},pnxo:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var a=n("8EKQ"),r=n.n(a);const s=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.locales=e}extend(e){this.locales=Object.assign({},this.locales,e)}t(e,t){return this.locales[e]?r()(this.locales[e],t):e}},i=s.t.bind(s)},qEs3:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/mc_logo.png"},qFRm:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/onboarding/messengers.svg"},qNnD:function(e,t,n){"use strict";t.a=e=>{try{return e&&new URL(e)}catch(e){return null}}},qvtt:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var a=function(){function e(){}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:r(),platform:"Web",os:void 0,deviceModel:void 0}},e}(),r=function(){return"undefined"!=typeof navigator&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},s=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},e.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach((function(t){e(t)})),this.queue=[])},e}(),i=function(){return(i=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},c=function(e,t){var n=typeof e;if(n!==typeof t)return!1;for(var a=0,r=["string","number","boolean","undefined"];a<r.length;a++){if(r[a]===n)return e===t}if(null==e&&null==t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;var s=Array.isArray(e),i=Array.isArray(t);if(s!==i)return!1;if(!s||!i){var o=Object.keys(e).sort(),l=Object.keys(t).sort();if(!c(o,l))return!1;var u=!0;return Object.keys(e).forEach((function(n){c(e[n],t[n])||(u=!1)})),u}for(var d=0;d<e.length;d++)if(!c(e[d],t[d]))return!1;return!0};Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,a=new Array(n);n--;)a[n]=[t[n],e[t[n]]];return a});var o=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var e=this,t=i({},this.identity.userProperties),n=i(i({},this.identity),{userProperties:t});return{setUserId:function(e){return n.userId=e,this},setDeviceId:function(e){return n.deviceId=e,this},setUserProperties:function(e){return n.userProperties=e,this},setOptOut:function(e){return n.optOut=e,this},updateUserProperties:function(e){for(var t=n.userProperties||{},a=0,r=Object.entries(e);a<r.length;a++){var s=r[a],i=s[0],c=s[1];switch(i){case"$set":for(var o=0,l=Object.entries(c);o<l.length;o++){var u=l[o],d=u[0],p=u[1];t[d]=p}break;case"$unset":for(var m=0,f=Object.keys(c);m<f.length;m++){delete t[d=f[m]]}break;case"$clearAll":t={}}}return n.userProperties=t,this},commit:function(){return e.setIdentity(n),this}}},e.prototype.getIdentity=function(){return i({},this.identity)},e.prototype.setIdentity=function(e){var t=i({},this.identity);this.identity=i({},e),c(t,this.identity)||this.listeners.forEach((function(t){t(e)}))},e.prototype.addIdentityListener=function(e){this.listeners.add(e)},e.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},e}(),l="undefined"!=typeof globalThis?globalThis:void 0!==e?e:self,u=function(){function e(){this.identityStore=new o,this.eventBridge=new s,this.applicationContextProvider=new a}return e.getInstance=function(t){return l.analyticsConnectorInstances||(l.analyticsConnectorInstances={}),l.analyticsConnectorInstances[t]||(l.analyticsConnectorInstances[t]=new e),l.analyticsConnectorInstances[t]},e}()}).call(this,n("uKge"))},r1xb:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>e&&"function"==typeof e?e(t):e||null},r8PO:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var a=function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==e?e:void 0}}).call(this,n("uKge"))},rIrL:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/messengers/icon-facebook.svg"},rS9Z:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var a=n("uZJO"),r=n("y3Ab"),s=n("MP+E"),i=n("+rr2"),c=n("eTsq");const o={[s.a.auth.login.successType]:()=>{a.b.trackEvent("login",{method:"email"})},[s.a.users.create.successType]:()=>{a.b.trackEvent("sign_up",{method:"email"})},[s.a.users.create.failureType]:e=>{a.b.trackEvent("Sign up error",{error:Object(r.a)(e.error,["stack","json"])})},[s.a.websites.update.successType]:(e,t)=>{const n=t.websites.find(Object(c.a)({_id:e.websiteId}));null!=n&&n.enabled||!e.payload.enabled||a.b.trackEvent("website_published")},[s.a.listenSubscriptionCreated.type]:e=>{a.b.trackEvent("subscription_created",e.payload)},[s.a.billing.subscription.cancel.successType]:()=>{a.b.trackEvent("subscription_cancelled")},[s.a.users.me.successType]:(t,n)=>{var r;a.b.setUserId(t.result._id),r=n,("mobile"!==e.REACT_APP_TARGET||"authorized"===r.ui.appTrackingStatus)&&a.b.setUserProperties({email:t.result.email})},[s.a.workspaces.retrieve.successType]:e=>{a.b.setUserProperties({workspaceId:e.result._id,plan:e.result.billing.plan})},[i.checkout.applyCoupon.type]:e=>{a.b.trackEvent("checkout.applyCoupon",{coupon:e.payload.coupon})},[i.checkout.removeCoupon.type]:()=>{a.b.trackEvent("checkout.removeCoupon")},[i.checkout.changeCountry.type]:e=>{a.b.trackEvent("checkout.changeCountry",e.payload)},[i.checkout.close.type]:()=>{a.b.trackEvent("checkout.close")},[i.checkout.complete.type]:()=>{a.b.trackEvent("checkout.complete")},[i.checkout.completePayment.type]:e=>{a.b.trackEvent("checkout.completePayment",e.payload)},[i.checkout.load.type]:e=>{a.b.trackEvent("checkout.load",e.payload)},[i.checkout.error.type]:e=>{a.b.trackEvent("checkout.error",e.payload)},[i.checkout.selectPaymentMethod.type]:e=>{a.b.trackEvent("checkout.selectPaymentMethod",e.payload)},[s.a.blocks.create.successType]:e=>{a.b.trackEvent("Create block",{kind:e.result.kind})},[s.a.blocks.update.successType]:e=>{a.b.trackEvent("Update block",{kind:e.result.kind})},[s.a.blocks.delete.successType]:(e,t)=>{const n=t.websites.find(Object(c.a)({_id:e.websiteId})),r=null==n?void 0:n.pages.find(Object(c.a)({_id:e.pageId})),s=null==r?void 0:r.blocks.find(Object(c.a)({_id:e.blockId}));a.b.trackEvent("Delete block",{kind:null==s?void 0:s.kind})},[s.a.blocks.deleteMany.successType]:(e,t)=>{const n=t.websites.find(Object(c.a)({_id:e.websiteId})),r=null==n?void 0:n.pages.find(Object(c.a)({_id:e.pageId})),s=(null==r?void 0:r.blocks.filter(Object(c.a)({_id:{$in:e.payload.blockId}})))||[],i=[...new Set(s.map(e=>{let{kind:t}=e;return t}))];a.b.trackEvent("Delete many blocks",{kinds:i})},[s.a.websites.create.successType]:()=>{a.b.trackEvent("Create website")},[s.a.websites.scaffold.successType]:()=>{a.b.trackEvent("Create website")},[s.a.websites.delete.successType]:()=>{a.b.trackEvent("Delete website")},[s.a.websites.domain.update.successType]:()=>{a.b.trackEvent("domain.connect")},[s.a.websites.domain.delete.successType]:()=>{a.b.trackEvent("domain.disconnect")},[s.a.products.create.successType]:()=>{a.b.trackEvent("products.create")},[s.a.products.delete.successType]:()=>{a.b.trackEvent("products.delete")},[s.a.products.update.successType]:()=>{a.b.trackEvent("products.update")}},l=e=>t=>n=>{try{const t=o[n.type];t&&t(n,e.getState())}catch(e){var a;console.error(e),null===(a=window.Sentry)||void 0===a||a.captureException(e)}return t(n)}}).call(this,n("TzVV"))},"rd+V":function(e,t,n){"use strict";var a=n("r0ML");function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var s=a.createElement("path",{d:"M6.01 5l3.78-3.78A.714.714 0 108.78.21L5 3.99 1.22.21A.714.714 0 00.21 1.22L3.99 5 .21 8.78a.714.714 0 001.01 1.01L5 6.01l3.78 3.78a.714.714 0 101.01-1.01L6.01 5z",fill:"currentColor",fillRule:"evenodd"});t.a=function(e){return a.createElement("svg",r({viewBox:"0 0 10 10"},e),s)}},rdQp:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/messengers/icon-whatsapp.svg"},sJC1:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/messengers/icon-telegram.svg"},sNVq:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("aV+K");const r=/^\/(?:s\/)?billing/;function s(){const e=a.a.location.pathname;if(r.test(e))return(e.startsWith("/s/")?"/s":"")+"/billing"}},sav8:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/telegram.png"},"t27/":function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/icon_share_three.png"},tK4o:function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return F})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return U})),n.d(t,"g",(function(){return K})),n.d(t,"h",(function(){return B})),n.d(t,"i",(function(){return Q})),n.d(t,"j",(function(){return ee})),n.d(t,"k",(function(){return te})),n.d(t,"l",(function(){return X})),n.d(t,"m",(function(){return ae})),n.d(t,"n",(function(){return L})),n.d(t,"o",(function(){return T})),n.d(t,"p",(function(){return A})),n.d(t,"q",(function(){return z})),n.d(t,"r",(function(){return M})),n.d(t,"s",(function(){return re})),n.d(t,"t",(function(){return $})),n.d(t,"u",(function(){return J})),n.d(t,"v",(function(){return D})),n.d(t,"w",(function(){return ne})),n.d(t,"x",(function(){return q})),n.d(t,"y",(function(){return u})),n.d(t,"z",(function(){return V})),n.d(t,"A",(function(){return I})),n.d(t,"B",(function(){return W})),n.d(t,"C",(function(){return H})),n.d(t,"D",(function(){return G})),n.d(t,"E",(function(){return y})),n.d(t,"F",(function(){return N})),n.d(t,"G",(function(){return c})),n.d(t,"H",(function(){return k})),n.d(t,"I",(function(){return E})),n.d(t,"J",(function(){return x})),n.d(t,"K",(function(){return f})),n.d(t,"L",(function(){return d})),n.d(t,"M",(function(){return b})),n.d(t,"N",(function(){return m})),n.d(t,"O",(function(){return _})),n.d(t,"P",(function(){return o})),n.d(t,"Q",(function(){return p})),n.d(t,"R",(function(){return C})),n.d(t,"S",(function(){return w})),n.d(t,"T",(function(){return j}));var a=n("NH7Q"),r=n("IKa1"),s=n("F2bt"),i=n("dQ91"),c=function(e){return function(){return e}}(!0),o=function(){};var l=function(e){return e};"function"==typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;function u(e,t,n){if(!t(e))throw new Error(n)}var d=function(e,t){Object(r.a)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))},p=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))};function m(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function f(e){var t=!1;return function(){t||(t=!0,e())}}var h=function(e){throw e},g=function(e){return{value:e,done:!0}};function b(e,t,n){void 0===t&&(t=h),void 0===n&&(n="iterator");var a={meta:{name:n},next:e,throw:t,return:g,isSagaIterator:!0};return"undefined"!=typeof Symbol&&(a[Symbol.iterator]=function(){return a}),a}function v(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var y=function(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")},E=function(e){return Array.apply(null,new Array(e))},O=function(e){return function(t){return e(Object.defineProperty(t,a.f,{value:!0}))}},j=function(e){return e===a.k},w=function(e){return e===a.j},_=function(e){return j(e)||w(e)};function k(e,t){var n=Object.keys(e),a=n.length;var r,i=0,c=Object(s.a)(e)?E(a):{},l={};return n.forEach((function(e){var n=function(n,s){r||(s||_(n)?(t.cancel(),t(n,s)):(c[e]=n,++i===a&&(r=!0,t(c))))};n.cancel=o,l[e]=n})),t.cancel=function(){r||(r=!0,n.forEach((function(e){return l[e].cancel()})))},l}function N(e){return{name:e.name||"anonymous",location:C(e)}}function C(e){return e[a.g]}var P={isEmpty:c,put:o,take:o};function S(e,t){void 0===e&&(e=10);var n=new Array(e),a=0,r=0,s=0,i=function(t){n[r]=t,r=(r+1)%e,a++},c=function(){if(0!=a){var t=n[s];return n[s]=null,a--,s=(s+1)%e,t}},o=function(){for(var e=[];a;)e.push(c());return e};return{isEmpty:function(){return 0==a},put:function(c){var l;if(a<e)i(c);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[r]=c,s=r=(r+1)%e;break;case 4:l=2*e,n=o(),a=n.length,r=n.length,s=0,n.length=l,e=l,i(c)}},take:c,flush:o}}var x=function(){return P},T=function(e){return S(e,3)},I=function(e){return S(e,4)},M="TAKE",L="PUT",R="ALL",A="RACE",F="CALL",D="CPS",U="FORK",B="JOIN",q="CANCEL",z="SELECT",V="ACTION_CHANNEL",W="CANCELLED",H="FLUSH",K="GET_CONTEXT",G="SET_CONTEXT",Z=function(e,t){var n;return(n={})[a.c]=!0,n.combinator=!1,n.type=e,n.payload=t,n};function Q(e,t){return void 0===e&&(e="*"),Object(s.h)(e)?Z(M,{pattern:e}):Object(s.e)(e)&&Object(s.f)(t)&&Object(s.h)(t)?Z(M,{channel:e,pattern:t}):Object(s.b)(e)?Z(M,{channel:e}):void 0}function J(e,t){return Object(s.m)(t)&&(t=e,e=void 0),Z(L,{channel:e,action:t})}function $(e){var t=Z(A,e);return t.combinator=!0,t}function Y(e,t){var n,a=null;return Object(s.c)(e)?n=e:(Object(s.a)(e)?(a=e[0],n=e[1]):(a=e.context,n=e.fn),a&&Object(s.j)(n)&&Object(s.c)(a[n])&&(n=a[n])),{context:a,fn:n,args:t}}function X(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Z(F,Y(e,n))}function ee(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Z(U,Y(e,n))}function te(e){return void 0===e&&(e=a.h),Z(q,e)}function ne(e){void 0===e&&(e=l);for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Z(z,{selector:e,args:n})}function ae(e,t){return Z(V,{pattern:e,buffer:t})}var re=X.bind(null,i.a)},tSrR:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/woman.png"},tbzE:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/onboarding/cover.svg"},"td/u":function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/onboarding/googlepay.png"},tdCx:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n("oGPa"),r=n.n(a),s=n("r0ML"),i=n("jxal"),c=n("vtB/"),o=n("Qg6Y"),l=n("6TEX");const{useWarning:u,useRestriction:d}=function(){const e=new i.EventEmitter;e.setMaxListeners(100);const t=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e.emit("show",...n)},n=()=>e.emit("hide");return{useWarning:function(){const[a,r]=Object(s.useState)({isPresented:!1,warning:null});return Object(s.useEffect)(()=>{const t=e=>r({isPresented:!0,warning:e}),n=()=>r(e=>({...e,isPresented:!1}));return e.on("show",t),e.on("hide",n),()=>{e.removeListener("show",t),e.removeListener("hide",n)}},[]),{...a,show:t,hide:n}},useRestriction:function(e,a,i){const u=Object(o.a)(),d=Object(s.useRef)(null),[p,m]=Object(s.useState)(null),f=Object(l.a)((e,t,n,a)=>{t?m(Object(c.a)({workspace:e,...a},t,n)):p&&m(null)}),h=Object(l.a)(e=>t(e||p)),g=Object(l.a)(()=>m(null)),b=Object(l.a)(e=>{null!=e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation()),t(p)});return!(d.current&&u===d.current[0]&&e===d.current[1]&&r()(a,d.current[2])&&r()(i,d.current[3]))&&(d.current=[u,e,a,i]),Object(s.useEffect)(()=>f(...d.current),d.current),{warning:p,hasWarning:!!p,showWarning:h,clearWarning:g,hideWarning:n,handleBlockedEvent:p?b:void 0}}}}()},tdNs:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("r0ML"),r=n.n(a),s=n("cpKZ"),i=n("ztfp"),c="_1qCNo7At",o="_1lrfYPcp";function l(e){let{as:t,children:n,disabled:a,...l}=e;return r.a.createElement(t,Object(s.a)([c,a&&o],Object(i.b)(t,l)),n)}l.defaultProps={as:"button"}},trqa:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/onboarding/support.svg"},uZJO:function(e,t,n){"use strict";function a(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}n.d(t,"b",(function(){return ut})),n.d(t,"a",(function(){return lt}));var r=0;function s(e){return"__private_"+r+++"_"+e}var i=s("providers"),c=s("captureClicks"),o=s("captureHistory");function l(){document.addEventListener("click",e=>{const t=e.target.matches("[data-event]")?e.target:e.target.closest("[data-event]");if(!t)return;const{event:n,...a}=t.dataset;this.trackEvent(n,a)},{capture:!0,passive:!0})}function u(){window.addEventListener("popstate",()=>{this.trackPageView()})}var d=class{constructor(){Object.defineProperty(this,o,{value:u}),Object.defineProperty(this,c,{value:l}),Object.defineProperty(this,i,{writable:!0,value:[]})}registerProvider(e){a(this,i)[i].push(e)}async initialize(){await Promise.allSettled(a(this,i)[i].map(e=>e.initialize())),this.trackPageView(),a(this,c)[c](),a(this,o)[o]()}async trackPageView(){await Promise.allSettled(a(this,i)[i].map(e=>e.trackPageView()))}async trackEvent(e,t){await Promise.allSettled(a(this,i)[i].map(n=>n.trackEvent(e,t)))}async setUserId(e){await Promise.allSettled(a(this,i)[i].map(t=>t.setUserId(e)))}async setEmail(e){await Promise.allSettled(a(this,i)[i].map(t=>t.setEmail(e)))}async setUserProperties(e){await Promise.allSettled(a(this,i)[i].map(t=>t.setUserProperties(e)))}},p=n("NSLI");Object(p.b)("FirebaseAnalytics",{web:()=>n.e(10).then(n.bind(null,"Qf7v")).then(e=>new e.FirebaseAnalyticsWeb)});var m=class{async initialize(){throw new Error("Not implemented")}async trackPageView(){throw new Error("Not implemented")}async trackEvent(e,t){throw new Error("Not implemented")}async setUserId(e){throw new Error("Not implemented")}async setEmail(e){throw new Error("Not implemented")}async setUserProperties(e){throw new Error("Not implemented")}};var f,h=n("UNrv");!function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Verbose=3]="Verbose",e[e.Debug=4]="Debug"}(f||(f={}));var g,b=function(e){return void 0===e&&(e=0),((new Error).stack||"").split("\n").slice(2+e).map((function(e){return e.trim()}))},v=function(e){return function(){var t=Object(h.a)({},e.config);return{logger:t.loggerProvider,logLevel:t.logLevel}}},y=function(e,t){var n,a;t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"");try{for(var r=Object(h.h)(t.split(".")),s=r.next();!s.done;s=r.next()){var i=s.value;if(!(i in e))return;e=e[i]}}catch(e){n={error:e}}finally{try{s&&!s.done&&(a=r.return)&&a.call(r)}finally{if(n)throw n.error}}return e},E=function(e,t){return function(){var n,a,r={};try{for(var s=Object(h.h)(t),i=s.next();!i.done;i=s.next()){var c=i.value;r[c]=y(e,c)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return r}},O=function(e,t,n,a,r){return void 0===r&&(r=null),function(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];var c=n(),o=c.logger,l=c.logLevel;if(l&&l<f.Debug||!l||!o)return e.apply(r,s);var u={type:"invoke public method",name:t,args:s,stacktrace:b(1),time:{start:(new Date).toISOString()},states:{}};a&&u.states&&(u.states.before=a());var d=e.apply(r,s);return d&&d.promise?d.promise.then((function(){a&&u.states&&(u.states.after=a()),u.time&&(u.time.end=(new Date).toISOString()),o.debug(JSON.stringify(u,null,2))})):(a&&u.states&&(u.states.after=a()),u.time&&(u.time.end=(new Date).toISOString()),o.debug(JSON.stringify(u,null,2))),d}},j=function(e){return{promise:e||Promise.resolve()}};!function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"}(g||(g={}));var w="AMP",_="".concat(w,"_unsent"),k=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=g.Unknown),{event:e,code:t,message:n}},N="Amplitude Logger ",C=function(){function e(){this.logLevel=f.None}return e.prototype.disable=function(){this.logLevel=f.None},e.prototype.enable=function(e){void 0===e&&(e=f.Warn),this.logLevel=e},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<f.Verbose||console.log("".concat(N,"[Log]: ").concat(e.join(" ")))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<f.Warn||console.warn("".concat(N,"[Warn]: ").concat(e.join(" ")))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<f.Error||console.error("".concat(N,"[Error]: ").concat(e.join(" ")))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<f.Debug||console.log("".concat(N,"[Debug]: ").concat(e.join(" ")))},e}(),P=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:f.Warn,loggerProvider:new C,offline:!1,optOut:!1,serverUrl:"https://api2.amplitude.com/2/httpapi",serverZone:"US",useBatch:!1}},S=function(){function e(e){var t,n,a,r;this._optOut=!1;var s=P();this.apiKey=e.apiKey,this.flushIntervalMillis=null!==(t=e.flushIntervalMillis)&&void 0!==t?t:s.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||s.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||s.flushQueueSize,this.instanceName=e.instanceName||s.instanceName,this.loggerProvider=e.loggerProvider||s.loggerProvider,this.logLevel=null!==(n=e.logLevel)&&void 0!==n?n:s.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.offline=void 0!==e.offline?e.offline:s.offline,this.optOut=null!==(a=e.optOut)&&void 0!==a?a:s.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||s.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=null!==(r=e.useBatch)&&void 0!==r?r:s.useBatch,this.loggerProvider.enable(this.logLevel);var i=T(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=i.serverZone,this.serverUrl=i.serverUrl}return Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),e}(),x=function(e,t){return"EU"===e?t?"https://api.eu.amplitude.com/batch":"https://api.eu.amplitude.com/2/httpapi":t?"https://api2.amplitude.com/batch":"https://api2.amplitude.com/2/httpapi"},T=function(e,t,n){if(void 0===e&&(e=""),void 0===t&&(t=P().serverZone),void 0===n&&(n=P().useBatch),e)return{serverUrl:e,serverZone:void 0};var a=["US","EU"].includes(t)?t:P().serverZone;return{serverZone:a,serverUrl:x(a,n)}};function I(e){var t="";try{"body"in e&&(t=JSON.stringify(e.body,null,2))}catch(e){}return t}var M,L,R,A=function(){function e(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return e.prototype.setup=function(e){var t;return Object(h.b)(this,void 0,void 0,(function(){var n,a=this;return Object(h.d)(this,(function(r){switch(r.label){case 0:return this.config=e,this.storageKey="".concat(_,"_").concat(this.config.apiKey.substring(0,10)),[4,null===(t=this.config.storageProvider)||void 0===t?void 0:t.get(this.storageKey)];case 1:return n=r.sent(),this.saveEvents(),n&&n.length>0&&Promise.all(n.map((function(e){return a.execute(e)}))).catch(),[2,Promise.resolve(void 0)]}}))}))},e.prototype.execute=function(e){var t=this;return new Promise((function(n){var a={event:e,attempts:0,callback:function(e){return n(e)},timeout:0};t.addToQueue(a)}))},e.prototype.addToQueue=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=t.filter((function(t){return t.attempts<e.config.flushMaxRetries?(t.attempts+=1,!0):(e.fulfillRequest([t],500,"Event rejected due to exceeded retry count"),!1)}));a.forEach((function(t){e.queue=e.queue.concat(t),0!==t.timeout?setTimeout((function(){t.timeout=0,e.schedule(0)}),t.timeout):e.schedule(e.config.flushIntervalMillis)})),this.saveEvents()},e.prototype.schedule=function(e){var t=this;this.scheduled||this.config.offline||(this.scheduled=setTimeout((function(){t.flush(!0).then((function(){t.queue.length>0&&t.schedule(e)}))}),e))},e.prototype.flush=function(e){return void 0===e&&(e=!1),Object(h.b)(this,void 0,void 0,(function(){var t,n,a,r=this;return Object(h.d)(this,(function(s){switch(s.label){case 0:return this.config.offline?(this.config.loggerProvider.debug("Skipping flush while offline."),[2]):(t=[],n=[],this.queue.forEach((function(e){return 0===e.timeout?t.push(e):n.push(e)})),this.queue=n,this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),i=t,c=this.config.flushQueueSize,o=Math.max(c,1),a=i.reduce((function(e,t,n){var a=Math.floor(n/o);return e[a]||(e[a]=[]),e[a].push(t),e}),[]),[4,Promise.all(a.map((function(t){return r.send(t,e)})))]);case 1:return s.sent(),[2]}var i,c,o}))}))},e.prototype.send=function(e,t){return void 0===t&&(t=!0),Object(h.b)(this,void 0,void 0,(function(){var n,a,r,s,i;return Object(h.d)(this,(function(c){switch(c.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,"Event rejected due to missing API key")];n={api_key:this.config.apiKey,events:e.map((function(e){var t=e.event;t.extra;return Object(h.f)(t,["extra"])})),options:{min_id_length:this.config.minIdLength},client_upload_time:(new Date).toISOString()},c.label=1;case 1:return c.trys.push([1,3,,4]),a=T(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(a,n)];case 2:return null===(r=c.sent())?(this.fulfillRequest(e,0,"Unexpected error occurred"),[2]):t?(this.handleResponse(r,e),[3,4]):("body"in r?this.fulfillRequest(e,r.statusCode,"".concat(r.status,": ").concat(I(r))):this.fulfillRequest(e,r.statusCode,r.status),[2]);case 3:return s=c.sent(),i=(o=s)instanceof Error?o.message:String(o),this.config.loggerProvider.error(i),this.fulfillRequest(e,0,i),[3,4];case 4:return[2]}var o}))}))},e.prototype.handleResponse=function(e,t){var n=e.status;switch(n){case g.Success:this.handleSuccessResponse(e,t);break;case g.Invalid:this.handleInvalidResponse(e,t);break;case g.PayloadTooLarge:this.handlePayloadTooLargeResponse(e,t);break;case g.RateLimit:this.handleRateLimitResponse(e,t);break;default:this.config.loggerProvider.warn("{code: 0, error: \"Status '".concat(n,"' provided for ").concat(t.length,' events"}')),this.handleOtherResponse(t)}},e.prototype.handleSuccessResponse=function(e,t){this.fulfillRequest(t,e.statusCode,"Event tracked successfully")},e.prototype.handleInvalidResponse=function(e,t){var n=this;if(e.body.missingField||e.body.error.startsWith("Invalid API key"))this.fulfillRequest(t,e.statusCode,e.body.error);else{var a=Object(h.g)(Object(h.g)(Object(h.g)(Object(h.g)([],Object(h.e)(Object.values(e.body.eventsWithInvalidFields)),!1),Object(h.e)(Object.values(e.body.eventsWithMissingFields)),!1),Object(h.e)(Object.values(e.body.eventsWithInvalidIdLengths)),!1),Object(h.e)(e.body.silencedEvents),!1).flat(),r=new Set(a),s=t.filter((function(t,a){if(!r.has(a))return!0;n.fulfillRequest([t],e.statusCode,e.body.error)}));s.length>0&&this.config.loggerProvider.warn(I(e)),this.addToQueue.apply(this,Object(h.g)([],Object(h.e)(s),!1))}},e.prototype.handlePayloadTooLargeResponse=function(e,t){1!==t.length?(this.config.loggerProvider.warn(I(e)),this.config.flushQueueSize/=2,this.addToQueue.apply(this,Object(h.g)([],Object(h.e)(t),!1))):this.fulfillRequest(t,e.statusCode,e.body.error)},e.prototype.handleRateLimitResponse=function(e,t){var n=this,a=Object.keys(e.body.exceededDailyQuotaUsers),r=Object.keys(e.body.exceededDailyQuotaDevices),s=e.body.throttledEvents,i=new Set(a),c=new Set(r),o=new Set(s),l=t.filter((function(t,a){if(!(t.event.user_id&&i.has(t.event.user_id)||t.event.device_id&&c.has(t.event.device_id)))return o.has(a)&&(t.timeout=n.throttleTimeout),!0;n.fulfillRequest([t],e.statusCode,e.body.error)}));l.length>0&&this.config.loggerProvider.warn(I(e)),this.addToQueue.apply(this,Object(h.g)([],Object(h.e)(l),!1))},e.prototype.handleOtherResponse=function(e){var t=this;this.addToQueue.apply(this,Object(h.g)([],Object(h.e)(e.map((function(e){return e.timeout=e.attempts*t.retryTimeout,e}))),!1))},e.prototype.fulfillRequest=function(e,t,n){this.saveEvents(),e.forEach((function(e){return e.callback(k(e.event,t,n))}))},e.prototype.saveEvents=function(){if(this.config.storageProvider){var e=Array.from(this.queue.map((function(e){return e.event})));this.config.storageProvider.set(this.storageKey,e)}},e}(),F=function(e){return e?(e^16*Math.random()>>e/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,F)};!function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"}(M||(M={})),function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE="$revenue"}(L||(L={})),function(e){e.IDENTIFY="$identify",e.GROUP_IDENTIFY="$groupidentify",e.REVENUE="revenue_amount"}(R||(R={}));var D,U=function(e){if(Object.keys(e).length>1e3)return!1;for(var t in e){var n=e[t];if(!B(t,n))return!1}return!0},B=function(e,t){var n,a;if("string"!=typeof e)return!1;if(Array.isArray(t)){var r=!0;try{for(var s=Object(h.h)(t),i=s.next();!i.done;i=s.next()){var c=i.value;if(Array.isArray(c))return!1;if("object"==typeof c)r=r&&U(c);else if(!["number","string"].includes(typeof c))return!1;if(!r)return!1}}catch(e){n={error:e}}finally{try{i&&!i.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}}else{if(null==t)return!1;if("object"==typeof t)return U(t);if(!["number","string","boolean"].includes(typeof t))return!1}return!0},q=function(){function e(){this._propertySet=new Set,this._properties={}}return e.prototype.getUserProperties=function(){return Object(h.a)({},this._properties)},e.prototype.set=function(e,t){return this._safeSet(M.SET,e,t),this},e.prototype.setOnce=function(e,t){return this._safeSet(M.SET_ONCE,e,t),this},e.prototype.append=function(e,t){return this._safeSet(M.APPEND,e,t),this},e.prototype.prepend=function(e,t){return this._safeSet(M.PREPEND,e,t),this},e.prototype.postInsert=function(e,t){return this._safeSet(M.POSTINSERT,e,t),this},e.prototype.preInsert=function(e,t){return this._safeSet(M.PREINSERT,e,t),this},e.prototype.remove=function(e,t){return this._safeSet(M.REMOVE,e,t),this},e.prototype.add=function(e,t){return this._safeSet(M.ADD,e,t),this},e.prototype.unset=function(e){return this._safeSet(M.UNSET,e,"-"),this},e.prototype.clearAll=function(){return this._properties={},this._properties[M.CLEAR_ALL]="-",this},e.prototype._safeSet=function(e,t,n){if(this._validate(e,t,n)){var a=this._properties[e];return void 0===a&&(a={},this._properties[e]=a),a[t]=n,this._propertySet.add(t),!0}return!1},e.prototype._validate=function(e,t,n){return void 0===this._properties[M.CLEAR_ALL]&&(!this._propertySet.has(t)&&(e===M.ADD?"number"==typeof n:e===M.UNSET||e===M.REMOVE||B(t,n)))},e}(),z=function(){function e(){this.productId="",this.quantity=1,this.price=0}return e.prototype.setProductId=function(e){return this.productId=e,this},e.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},e.prototype.setPrice=function(e){return this.price=e,this},e.prototype.setRevenueType=function(e){return this.revenueType=e,this},e.prototype.setRevenue=function(e){return this.revenue=e,this},e.prototype.setEventProperties=function(e){return U(e)&&(this.properties=e),this},e.prototype.getEventProperties=function(){var e=this.properties?Object(h.a)({},this.properties):{};return e[L.REVENUE_PRODUCT_ID]=this.productId,e[L.REVENUE_QUANTITY]=this.quantity,e[L.REVENUE_PRICE]=this.price,e[L.REVENUE_TYPE]=this.revenueType,e[L.REVENUE]=this.revenue,e},e}(),V=function(){function e(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return e.prototype.register=function(e,t){var n,a,r;return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(s){switch(s.label){case 0:return e.name=null!==(n=e.name)&&void 0!==n?n:F(),e.type=null!==(a=e.type)&&void 0!==a?a:"enrichment",[4,null===(r=e.setup)||void 0===r?void 0:r.call(e,t,this.client)];case 1:return s.sent(),this.plugins.push(e),[2]}}))}))},e.prototype.deregister=function(e){var t;return Object(h.b)(this,void 0,void 0,(function(){var n,a;return Object(h.d)(this,(function(r){switch(r.label){case 0:return n=this.plugins.findIndex((function(t){return t.name===e})),a=this.plugins[n],this.plugins.splice(n,1),[4,null===(t=a.teardown)||void 0===t?void 0:t.call(a)];case 1:return r.sent(),[2]}}))}))},e.prototype.reset=function(e){this.applying=!1,this.plugins.map((function(e){var t;return null===(t=e.teardown)||void 0===t?void 0:t.call(e)})),this.plugins=[],this.client=e},e.prototype.push=function(e){var t=this;return new Promise((function(n){t.queue.push([e,n]),t.scheduleApply(0)}))},e.prototype.scheduleApply=function(e){var t=this;this.applying||(this.applying=!0,setTimeout((function(){t.apply(t.queue.shift()).then((function(){t.applying=!1,t.queue.length>0&&t.scheduleApply(0)}))}),e))},e.prototype.apply=function(e){return Object(h.b)(this,void 0,void 0,(function(){var t,n,a,r,s,i,c,o,l,u,d,p,m,f,g,b,v,y,E,O;return Object(h.d)(this,(function(j){switch(j.label){case 0:if(!e)return[2];t=Object(h.e)(e,1),n=t[0],a=Object(h.e)(e,2),r=a[1],s=this.plugins.filter((function(e){return"before"===e.type})),j.label=1;case 1:j.trys.push([1,6,7,8]),i=Object(h.h)(s),c=i.next(),j.label=2;case 2:return c.done?[3,5]:(p=c.value).execute?[4,p.execute(Object(h.a)({},n))]:[3,4];case 3:if(null===(m=j.sent()))return r({event:n,code:0,message:""}),[2];n=m,j.label=4;case 4:return c=i.next(),[3,2];case 5:return[3,8];case 6:return o=j.sent(),v={error:o},[3,8];case 7:try{c&&!c.done&&(y=i.return)&&y.call(i)}finally{if(v)throw v.error}return[7];case 8:l=this.plugins.filter((function(e){return"enrichment"===e.type||void 0===e.type})),j.label=9;case 9:j.trys.push([9,14,15,16]),u=Object(h.h)(l),d=u.next(),j.label=10;case 10:return d.done?[3,13]:(p=d.value).execute?[4,p.execute(Object(h.a)({},n))]:[3,12];case 11:if(null===(m=j.sent()))return r({event:n,code:0,message:""}),[2];n=m,j.label=12;case 12:return d=u.next(),[3,10];case 13:return[3,16];case 14:return f=j.sent(),E={error:f},[3,16];case 15:try{d&&!d.done&&(O=u.return)&&O.call(u)}finally{if(E)throw E.error}return[7];case 16:return g=this.plugins.filter((function(e){return"destination"===e.type})),b=g.map((function(e){var t=Object(h.a)({},n);return e.execute(t).catch((function(e){return k(t,0,String(e))}))})),Promise.all(b).then((function(e){var t=Object(h.e)(e,1)[0]||k(n,100,"Event not tracked, no destination plugins on the instance");r(t)})),[2]}}))}))},e.prototype.flush=function(){return Object(h.b)(this,void 0,void 0,(function(){var e,t,n,a=this;return Object(h.d)(this,(function(r){switch(r.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map((function(e){return a.apply(e)})))];case 1:return r.sent(),t=this.plugins.filter((function(e){return"destination"===e.type})),n=t.map((function(e){return e.flush&&e.flush()})),[4,Promise.all(n)];case 2:return r.sent(),[2]}}))}))},e}(),W=function(e,t){return Object(h.a)(Object(h.a)({},t),{event_type:R.IDENTIFY,user_properties:e.getUserProperties()})},H=function(){function e(e){void 0===e&&(e="$default"),this.initializing=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new V(this),this.name=e}return e.prototype._init=function(e){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(t){switch(t.label){case 0:return this.config=e,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return t.sent(),[2]}}))}))},e.prototype.runQueuedFunctions=function(e){return Object(h.b)(this,void 0,void 0,(function(){var t,n,a,r,s,i;return Object(h.d)(this,(function(c){switch(c.label){case 0:t=this[e],this[e]=[],c.label=1;case 1:c.trys.push([1,6,7,8]),n=Object(h.h)(t),a=n.next(),c.label=2;case 2:return a.done?[3,5]:[4,(0,a.value)()];case 3:c.sent(),c.label=4;case 4:return a=n.next(),[3,2];case 5:return[3,8];case 6:return r=c.sent(),s={error:r},[3,8];case 7:try{a&&!a.done&&(i=n.return)&&i.call(n)}finally{if(s)throw s.error}return[7];case 8:return[2]}}))}))},e.prototype.track=function(e,t,n){var a=function(e,t,n){var a="string"==typeof e?{event_type:e}:e;return Object(h.a)(Object(h.a)(Object(h.a)({},a),n),t&&{event_properties:t})}(e,t,n);return j(this.dispatch(a))},e.prototype.identify=function(e,t){var n=W(e,t);return j(this.dispatch(n))},e.prototype.groupIdentify=function(e,t,n,a){var r=function(e,t,n,a){var r;return Object(h.a)(Object(h.a)({},a),{event_type:R.GROUP_IDENTIFY,group_properties:n.getUserProperties(),groups:(r={},r[e]=t,r)})}(e,t,n,a);return j(this.dispatch(r))},e.prototype.setGroup=function(e,t,n){var a=function(e,t,n){var a,r=new q;return r.set(e,t),Object(h.a)(Object(h.a)({},n),{event_type:R.IDENTIFY,user_properties:r.getUserProperties(),groups:(a={},a[e]=t,a)})}(e,t,n);return j(this.dispatch(a))},e.prototype.revenue=function(e,t){var n=function(e,t){return Object(h.a)(Object(h.a)({},t),{event_type:R.REVENUE,event_properties:e.getEventProperties()})}(e,t);return j(this.dispatch(n))},e.prototype.add=function(e){return this.config?j(this.timeline.register(e,this.config)):(this.q.push(this.add.bind(this,e)),j())},e.prototype.remove=function(e){return this.config?j(this.timeline.deregister(e)):(this.q.push(this.remove.bind(this,e)),j())},e.prototype.dispatchWithCallback=function(e,t){if(!this.config)return t(k(e,0,"Client not initialized"));this.process(e).then(t)},e.prototype.dispatch=function(e){return Object(h.b)(this,void 0,void 0,(function(){var t=this;return Object(h.d)(this,(function(n){return this.config?[2,this.process(e)]:[2,new Promise((function(n){t.dispatchQ.push(t.dispatchWithCallback.bind(t,e,n))}))]}))}))},e.prototype.process=function(e){return Object(h.b)(this,void 0,void 0,(function(){var t,n,a;return Object(h.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.config.optOut?[2,k(e,0,"Event skipped due to optOut config")]:[4,this.timeline.push(e)];case 1:return 200===(a=r.sent()).code?this.config.loggerProvider.log(a.message):100===a.code?this.config.loggerProvider.warn(a.message):this.config.loggerProvider.error(a.message),[2,a];case 2:return t=r.sent(),n=String(t),this.config.loggerProvider.error(n),[2,a=k(e,0,n)];case 3:return[2]}}))}))},e.prototype.setOptOut=function(e){this.config?this.config.optOut=Boolean(e):this.q.push(this.setOptOut.bind(this,Boolean(e)))},e.prototype.flush=function(){return j(this.timeline.flush())},e}(),K=n("qvtt"),G=function(e){return void 0===e&&(e="$default_instance"),K.a.getInstance(e)},Z=function(){function e(){this.name="identity",this.type="before",this.identityStore=G().identityStore}return e.prototype.execute=function(e){return Object(h.b)(this,void 0,void 0,(function(){var t;return Object(h.d)(this,(function(n){return(t=e.user_properties)&&this.identityStore.editIdentity().updateUserProperties(t).commit(),[2,e]}))}))},e.prototype.setup=function(e){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(t){return e.instanceName&&(this.identityStore=G(e.instanceName).identityStore),[2]}))}))},e}(),Q=function(e,t){return"boolean"==typeof e?e:!1!==(null==e?void 0:e[t])},J=function(e){return Q(e,"attribution")},$=function(e){return Q(e,"pageViews")},Y=function(e){var t,n=function(){return!1},a=void 0;return $(e.defaultTracking)&&(n=void 0,t=void 0,e.defaultTracking&&"object"==typeof e.defaultTracking&&e.defaultTracking.pageViews&&"object"==typeof e.defaultTracking.pageViews&&("trackOn"in e.defaultTracking.pageViews&&(n=e.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in e.defaultTracking.pageViews&&(a=e.defaultTracking.pageViews.trackHistoryChanges),"eventType"in e.defaultTracking.pageViews&&e.defaultTracking.pageViews.eventType&&(t=e.defaultTracking.pageViews.eventType))),{trackOn:n,trackHistoryChanges:a,eventType:t}},X=function(e,t){return void 0===t&&(t=Date.now()),Date.now()-t>e},ee=function(e,t){for(var n=0;n<t.length;n++){var a=t[n],r=a.name,s=a.args,i=a.resolve,c=e&&e[r];if("function"==typeof c){var o=c.apply(e,s);"function"==typeof i&&i(null==o?void 0:o.promise)}}return e},te=function(e){return e&&void 0!==e._q},ne=function(){var e,t,n,a;if("undefined"==typeof navigator)return"";var r=navigator.userLanguage;return null!==(a=null!==(n=null!==(t=null===(e=navigator.languages)||void 0===e?void 0:e[0])&&void 0!==t?t:navigator.language)&&void 0!==n?n:r)&&void 0!==a?a:""},ae=function(){function e(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="amplitude-ts/".concat("2.4.1"),"undefined"!=typeof navigator&&(this.userAgent=navigator.userAgent)}return e.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},e.prototype.execute=function(e){var t,n;return Object(h.b)(this,void 0,void 0,(function(){var a,r,s;return Object(h.d)(this,(function(i){return a=(new Date).getTime(),r=null!==(t=this.config.lastEventId)&&void 0!==t?t:-1,s=null!==(n=e.event_id)&&void 0!==n?n:r+1,this.config.lastEventId=s,e.time||(this.config.lastEventTime=a),[2,Object(h.a)(Object(h.a)(Object(h.a)(Object(h.a)(Object(h.a)(Object(h.a)(Object(h.a)(Object(h.a)({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:a},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:"Web"}),this.config.trackingOptions.language&&{language:ne()}),this.config.trackingOptions.ipAddress&&{ip:"$remote"}),{insert_id:F(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:s,library:this.library,user_agent:this.userAgent})]}))}))},e}(),re=function(){function e(){this.memoryStorage=new Map}return e.prototype.isEnabled=function(){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(e){return[2,!0]}))}))},e.prototype.get=function(e){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(t){return[2,this.memoryStorage.get(e)]}))}))},e.prototype.getRaw=function(e){return Object(h.b)(this,void 0,void 0,(function(){var t;return Object(h.d)(this,(function(n){switch(n.label){case 0:return[4,this.get(e)];case 1:return[2,(t=n.sent())?JSON.stringify(t):void 0]}}))}))},e.prototype.set=function(e,t){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(n){return this.memoryStorage.set(e,t),[2]}))}))},e.prototype.remove=function(e){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(t){return this.memoryStorage.delete(e),[2]}))}))},e.prototype.reset=function(){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(e){return this.memoryStorage.clear(),[2]}))}))},e}(),se=function(e,t,n){return void 0===t&&(t=""),void 0===n&&(n=10),[w,t,e.substring(0,n)].filter(Boolean).join("_")},ie=n("r8PO"),ce=function(){var e,t=Object(ie.a)();return(null===(e=null==t?void 0:t.location)||void 0===e?void 0:e.search)?t.location.search.substring(1).split("&").filter(Boolean).reduce((function(e,t){var n=t.split("=",2),a=oe(n[0]),r=oe(n[1]);return r?(e[a]=r,e):e}),{}):{}},oe=function(e){void 0===e&&(e="");try{return decodeURIComponent(e)}catch(e){return""}},le=function(){function e(e){this.options=Object(h.a)({},e)}return e.prototype.isEnabled=function(){return Object(h.b)(this,void 0,void 0,(function(){var t,n;return Object(h.d)(this,(function(a){switch(a.label){case 0:if(!Object(ie.a)())return[2,!1];e.testValue=String(Date.now()),t=new e(this.options),n="AMP_TEST",a.label=1;case 1:return a.trys.push([1,4,5,7]),[4,t.set(n,e.testValue)];case 2:return a.sent(),[4,t.get(n)];case 3:return[2,a.sent()===e.testValue];case 4:return a.sent(),[2,!1];case 5:return[4,t.remove(n)];case 6:return a.sent(),[7];case 7:return[2]}}))}))},e.prototype.get=function(e){return Object(h.b)(this,void 0,void 0,(function(){var t;return Object(h.d)(this,(function(n){switch(n.label){case 0:return[4,this.getRaw(e)];case 1:if(!(t=n.sent()))return[2,void 0];try{try{t=decodeURIComponent(atob(t))}catch(e){}return[2,JSON.parse(t)]}catch(e){return[2,void 0]}return[2]}}))}))},e.prototype.getRaw=function(e){var t,n;return Object(h.b)(this,void 0,void 0,(function(){var a,r,s;return Object(h.d)(this,(function(i){return a=Object(ie.a)(),r=null!==(n=null===(t=null==a?void 0:a.document)||void 0===t?void 0:t.cookie.split("; "))&&void 0!==n?n:[],(s=r.find((function(t){return 0===t.indexOf(e+"=")})))?[2,s.substring(e.length+1)]:[2,void 0]}))}))},e.prototype.set=function(e,t){var n;return Object(h.b)(this,void 0,void 0,(function(){var a,r,s,i,c,o;return Object(h.d)(this,(function(l){try{a=null!==(n=this.options.expirationDays)&&void 0!==n?n:0,s=void 0,(r=null!==t?a:-1)&&((i=new Date).setTime(i.getTime()+24*r*60*60*1e3),s=i),c="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(t)))),s&&(c+="; expires=".concat(s.toUTCString())),c+="; path=/",this.options.domain&&(c+="; domain=".concat(this.options.domain)),this.options.secure&&(c+="; Secure"),this.options.sameSite&&(c+="; SameSite=".concat(this.options.sameSite)),(o=Object(ie.a)())&&(o.document.cookie=c)}catch(e){}return[2]}))}))},e.prototype.remove=function(e){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(t){switch(t.label){case 0:return[4,this.set(e,null)];case 1:return t.sent(),[2]}}))}))},e.prototype.reset=function(){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(e){return[2]}))}))},e}(),ue=function(){function e(){}return e.prototype.send=function(e,t){return Promise.resolve(null)},e.prototype.buildResponse=function(e){var t,n,a,r,s,i,c,o,l,u,d,p,m,f,h,b,v,y,E,O,j,w;if("object"!=typeof e)return null;var _=e.code||0,k=this.buildStatus(_);switch(k){case g.Success:return{status:k,statusCode:_,body:{eventsIngested:null!==(t=e.events_ingested)&&void 0!==t?t:0,payloadSizeBytes:null!==(n=e.payload_size_bytes)&&void 0!==n?n:0,serverUploadTime:null!==(a=e.server_upload_time)&&void 0!==a?a:0}};case g.Invalid:return{status:k,statusCode:_,body:{error:null!==(r=e.error)&&void 0!==r?r:"",missingField:null!==(s=e.missing_field)&&void 0!==s?s:"",eventsWithInvalidFields:null!==(i=e.events_with_invalid_fields)&&void 0!==i?i:{},eventsWithMissingFields:null!==(c=e.events_with_missing_fields)&&void 0!==c?c:{},eventsWithInvalidIdLengths:null!==(o=e.events_with_invalid_id_lengths)&&void 0!==o?o:{},epsThreshold:null!==(l=e.eps_threshold)&&void 0!==l?l:0,exceededDailyQuotaDevices:null!==(u=e.exceeded_daily_quota_devices)&&void 0!==u?u:{},silencedDevices:null!==(d=e.silenced_devices)&&void 0!==d?d:[],silencedEvents:null!==(p=e.silenced_events)&&void 0!==p?p:[],throttledDevices:null!==(m=e.throttled_devices)&&void 0!==m?m:{},throttledEvents:null!==(f=e.throttled_events)&&void 0!==f?f:[]}};case g.PayloadTooLarge:return{status:k,statusCode:_,body:{error:null!==(h=e.error)&&void 0!==h?h:""}};case g.RateLimit:return{status:k,statusCode:_,body:{error:null!==(b=e.error)&&void 0!==b?b:"",epsThreshold:null!==(v=e.eps_threshold)&&void 0!==v?v:0,throttledDevices:null!==(y=e.throttled_devices)&&void 0!==y?y:{},throttledUsers:null!==(E=e.throttled_users)&&void 0!==E?E:{},exceededDailyQuotaDevices:null!==(O=e.exceeded_daily_quota_devices)&&void 0!==O?O:{},exceededDailyQuotaUsers:null!==(j=e.exceeded_daily_quota_users)&&void 0!==j?j:{},throttledEvents:null!==(w=e.throttled_events)&&void 0!==w?w:[]}};case g.Timeout:default:return{status:k,statusCode:_}}},e.prototype.buildStatus=function(e){return e>=200&&e<300?g.Success:429===e?g.RateLimit:413===e?g.PayloadTooLarge:408===e?g.Timeout:e>=400&&e<500?g.Invalid:e>=500?g.Failed:g.Unknown},e}(),de=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(h.c)(t,e),t.prototype.send=function(e,t){return Object(h.b)(this,void 0,void 0,(function(){var n,a;return Object(h.d)(this,(function(r){switch(r.label){case 0:if("undefined"==typeof fetch)throw new Error("FetchTransport is not supported");return n={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(t),method:"POST"},[4,fetch(e,n)];case 1:return[4,r.sent().json()];case 2:return a=r.sent(),[2,this.buildResponse(a)]}}))}))},t}(ue),pe=function(){function e(e){this.storage=e}return e.prototype.isEnabled=function(){return Object(h.b)(this,void 0,void 0,(function(){var t,n,a;return Object(h.d)(this,(function(r){switch(r.label){case 0:if(!this.storage)return[2,!1];t=String(Date.now()),n=new e(this.storage),a="AMP_TEST",r.label=1;case 1:return r.trys.push([1,4,5,7]),[4,n.set(a,t)];case 2:return r.sent(),[4,n.get(a)];case 3:return[2,r.sent()===t];case 4:return r.sent(),[2,!1];case 5:return[4,n.remove(a)];case 6:return r.sent(),[7];case 7:return[2]}}))}))},e.prototype.get=function(e){return Object(h.b)(this,void 0,void 0,(function(){var t;return Object(h.d)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:return(t=n.sent())?[2,JSON.parse(t)]:[2,void 0];case 2:return n.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}}))}))},e.prototype.getRaw=function(e){var t;return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(n){return[2,(null===(t=this.storage)||void 0===t?void 0:t.getItem(e))||void 0]}))}))},e.prototype.set=function(e,t){var n;return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(a){try{null===(n=this.storage)||void 0===n||n.setItem(e,JSON.stringify(t))}catch(e){}return[2]}))}))},e.prototype.remove=function(e){var t;return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(n){try{null===(t=this.storage)||void 0===t||t.removeItem(e)}catch(e){}return[2]}))}))},e.prototype.reset=function(){var e;return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(t){try{null===(e=this.storage)||void 0===e||e.clear()}catch(e){}return[2]}))}))},e}(),me=function(e){function t(t){var n,a=this;return(a=e.call(this,null===(n=Object(ie.a)())||void 0===n?void 0:n.localStorage)||this).loggerProvider=null==t?void 0:t.loggerProvider,a}return Object(h.c)(t,e),t.prototype.set=function(t,n){var a;return Object(h.b)(this,void 0,void 0,(function(){var r;return Object(h.d)(this,(function(s){switch(s.label){case 0:return Array.isArray(n)&&n.length>1e3?(r=n.length-1e3,[4,e.prototype.set.call(this,t,n.slice(0,1e3))]):[3,2];case 1:return s.sent(),null===(a=this.loggerProvider)||void 0===a||a.error("Failed to save ".concat(r," events because the queue length exceeded ").concat(1e3,".")),[3,4];case 2:return[4,e.prototype.set.call(this,t,n)];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))},t}(pe),fe=function(e){function t(){var t;return e.call(this,null===(t=Object(ie.a)())||void 0===t?void 0:t.sessionStorage)||this}return Object(h.c)(t,e),t}(pe),he=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={done:4},t}return Object(h.c)(t,e),t.prototype.send=function(e,t){return Object(h.b)(this,void 0,void 0,(function(){var n=this;return Object(h.d)(this,(function(a){return[2,new Promise((function(a,r){"undefined"==typeof XMLHttpRequest&&r(new Error("XHRTransport is not supported."));var s=new XMLHttpRequest;s.open("POST",e,!0),s.onreadystatechange=function(){if(s.readyState===n.state.done)try{var e=s.responseText,t=JSON.parse(e),i=n.buildResponse(t);a(i)}catch(e){r(e)}},s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("Accept","*/*"),s.send(JSON.stringify(t))}))]}))}))},t}(ue),ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(h.c)(t,e),t.prototype.send=function(e,t){return Object(h.b)(this,void 0,void 0,(function(){var n=this;return Object(h.d)(this,(function(a){return[2,new Promise((function(a,r){var s=Object(ie.a)();if(!(null==s?void 0:s.navigator.sendBeacon))throw new Error("SendBeaconTransport is not supported");try{var i=JSON.stringify(t);return a(s.navigator.sendBeacon(e,JSON.stringify(t))?n.buildResponse({code:200,events_ingested:t.events.length,payload_size_bytes:i.length,server_upload_time:Date.now()}):n.buildResponse({code:500}))}catch(e){r(e)}}))]}))}))},t}(ue),be=function(e,t,n){return void 0===n&&(n=!0),Object(h.b)(void 0,void 0,void 0,(function(){var a,r,s,i,c,o,l,u,d;return Object(h.d)(this,(function(p){switch(p.label){case 0:return a=function(e){return"".concat(w.toLowerCase(),"_").concat(e.substring(0,6))}(e),[4,t.getRaw(a)];case 1:return(r=p.sent())?n?[4,t.remove(a)]:[3,3]:[2,{optOut:!1}];case 2:p.sent(),p.label=3;case 3:return s=Object(h.e)(r.split("."),6),i=s[0],c=s[1],o=s[2],l=s[3],u=s[4],d=s[5],[2,{deviceId:i,userId:ye(c),sessionId:ve(l),lastEventId:ve(d),lastEventTime:ve(u),optOut:Boolean(o)}]}}))}))},ve=function(e){var t=parseInt(e,32);if(!isNaN(t))return t},ye=function(e){if(atob&&escape&&e)try{return decodeURIComponent(escape(atob(e)))}catch(e){return}},Ee=("".concat("[Amplitude]"," Page Viewed"),"".concat("[Amplitude]"," Form Started")),Oe="".concat("[Amplitude]"," Form Submitted"),je="".concat("[Amplitude]"," File Downloaded"),we="".concat("[Amplitude]"," File Extension"),_e="".concat("[Amplitude]"," File Name"),ke="".concat("[Amplitude]"," Link ID"),Ne="".concat("[Amplitude]"," Link Text"),Ce="".concat("[Amplitude]"," Link URL"),Pe="".concat("[Amplitude]"," Form ID"),Se="".concat("[Amplitude]"," Form Name"),xe="".concat("[Amplitude]"," Form Destination"),Te=function(e){function t(t,n,a,r,s,i,c,o,l,u,d,p,m,h,g,b,v,y,E,O,j,w,_,k,N,P,S,x,T,I){void 0===a&&(a=new re),void 0===r&&(r={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),void 0===c&&(c=1e3),void 0===o&&(o=5),void 0===l&&(l=30),void 0===u&&(u="cookie"),void 0===g&&(g=new C),void 0===b&&(b=f.Warn),void 0===y&&(y=!1),void 0===E&&(E=!1),void 0===w&&(w=""),void 0===_&&(_="US"),void 0===N&&(N=18e5),void 0===P&&(P=new me({loggerProvider:g})),void 0===S&&(S={ipAddress:!0,language:!0,platform:!0}),void 0===x&&(x="fetch"),void 0===T&&(T=!1);var M=e.call(this,{apiKey:t,storageProvider:P,transportProvider:Le(x)})||this;return M.apiKey=t,M.appVersion=n,M.cookieOptions=r,M.defaultTracking=s,M.flushIntervalMillis=c,M.flushMaxRetries=o,M.flushQueueSize=l,M.identityStorage=u,M.ingestionMetadata=d,M.instanceName=p,M.loggerProvider=g,M.logLevel=b,M.minIdLength=v,M.offline=y,M.partnerId=O,M.plan=j,M.serverUrl=w,M.serverZone=_,M.sessionTimeout=N,M.storageProvider=P,M.trackingOptions=S,M.transport=x,M.useBatch=T,M._optOut=!1,M._cookieStorage=a,M.deviceId=i,M.lastEventId=m,M.lastEventTime=h,M.optOut=E,M.sessionId=k,M.userId=I,M.loggerProvider.enable(M.logLevel),M}return Object(h.c)(t,e),Object.defineProperty(t.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(e){this._cookieStorage!==e&&(this._cookieStorage=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceId",{get:function(){return this._deviceId},set:function(e){this._deviceId!==e&&(this._deviceId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userId",{get:function(){return this._userId},set:function(e){this._userId!==e&&(this._userId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._sessionId},set:function(e){this._sessionId!==e&&(this._sessionId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut!==e&&(this._optOut=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(e){this._lastEventTime!==e&&(this._lastEventTime=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(e){this._lastEventId!==e&&(this._lastEventId=e,this.updateStorage())},enumerable:!1,configurable:!0}),t.prototype.updateStorage=function(){var e={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId};this.cookieStorage.set(se(this.apiKey),e)},t}(S),Ie=function(e,t,n){return void 0===t&&(t={}),Object(h.b)(void 0,void 0,void 0,(function(){var a,r,s,i,c,o,l,u,d,p,m,f,g,b,v,y,E,O,j,w,_,k,N,C,P,S,x,T,I,M,L,R,A,D,U,B,q,z,V;return Object(h.d)(this,(function(W){switch(W.label){case 0:return a=t.identityStorage||"cookie",y={},"cookie"===a?[3,1]:(s="",[3,5]);case 1:return null===(O=null===(E=t.cookieOptions)||void 0===E?void 0:E.domain)||void 0===O?[3,2]:(i=O,[3,4]);case 2:return[4,Re()];case 3:i=W.sent(),W.label=4;case 4:s=i,W.label=5;case 5:return r=h.a.apply(void 0,[(y.domain=s,y.expiration=365,y.sameSite="Lax",y.secure=!1,y.upgrade=!0,y),t.cookieOptions]),c=Me(t.identityStorage,r),[4,be(e,c,null===(w=null===(j=t.cookieOptions)||void 0===j?void 0:j.upgrade)||void 0===w||w)];case 6:return o=W.sent(),[4,c.get(se(e))];case 7:return l=W.sent(),u=ce(),d=null!==(C=null!==(N=null!==(k=null!==(_=t.deviceId)&&void 0!==_?_:u.deviceId)&&void 0!==k?k:null==l?void 0:l.deviceId)&&void 0!==N?N:o.deviceId)&&void 0!==C?C:F(),p=null!==(P=null==l?void 0:l.lastEventId)&&void 0!==P?P:o.lastEventId,m=null!==(S=null==l?void 0:l.lastEventTime)&&void 0!==S?S:o.lastEventTime,f=null!==(T=null!==(x=t.optOut)&&void 0!==x?x:null==l?void 0:l.optOut)&&void 0!==T?T:o.optOut,g=null!==(I=null==l?void 0:l.sessionId)&&void 0!==I?I:o.sessionId,b=null!==(L=null!==(M=t.userId)&&void 0!==M?M:null==l?void 0:l.userId)&&void 0!==L?L:o.userId,n.previousSessionDeviceId=null!==(R=null==l?void 0:l.deviceId)&&void 0!==R?R:o.deviceId,n.previousSessionUserId=null!==(A=null==l?void 0:l.userId)&&void 0!==A?A:o.userId,v={ipAddress:null===(U=null===(D=t.trackingOptions)||void 0===D?void 0:D.ipAddress)||void 0===U||U,language:null===(q=null===(B=t.trackingOptions)||void 0===B?void 0:B.language)||void 0===q||q,platform:null===(V=null===(z=t.trackingOptions)||void 0===z?void 0:z.platform)||void 0===V||V},[2,new Te(e,t.appVersion,c,r,t.defaultTracking,d,t.flushIntervalMillis,t.flushMaxRetries,t.flushQueueSize,a,t.ingestionMetadata,t.instanceName,p,m,t.loggerProvider,t.logLevel,t.minIdLength,t.offline,f,t.partnerId,t.plan,t.serverUrl,t.serverZone,g,t.sessionTimeout,t.storageProvider,v,t.transport,t.useBatch,b)]}}))}))},Me=function(e,t){switch(void 0===e&&(e="cookie"),void 0===t&&(t={}),e){case"localStorage":return new me;case"sessionStorage":return new fe;case"none":return new re;case"cookie":default:return new le(Object(h.a)(Object(h.a)({},t),{expirationDays:t.expiration}))}},Le=function(e){return"xhr"===e?new he:"beacon"===e?new ge:new de},Re=function(e){return Object(h.b)(void 0,void 0,void 0,(function(){var t,n,a,r,s,i,c;return Object(h.d)(this,(function(o){switch(o.label){case 0:return[4,(new le).isEnabled()];case 1:if(!o.sent()||!e&&"undefined"==typeof location)return[2,""];for(t=null!=e?e:location.hostname,n=t.split("."),a=[],r="AMP_TLDTEST",s=n.length-2;s>=0;--s)a.push(n.slice(s).join("."));s=0,o.label=2;case 2:return s<a.length?(i=a[s],[4,(c=new le({domain:"."+i})).set(r,1)]):[3,7];case 3:return o.sent(),[4,c.get(r)];case 4:return o.sent()?[4,c.remove(r)]:[3,6];case 5:return o.sent(),[2,"."+i];case 6:return s++,[3,2];case 7:return[2,""]}}))}))},Ae={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},Fe=function(){function e(){}return e.prototype.parse=function(){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(e){return[2,Object(h.a)(Object(h.a)(Object(h.a)(Object(h.a)({},Ae),this.getUtmParam()),this.getReferrer()),this.getClickIds())]}))}))},e.prototype.getUtmParam=function(){var e=ce();return{utm_campaign:e.utm_campaign,utm_content:e.utm_content,utm_id:e.utm_id,utm_medium:e.utm_medium,utm_source:e.utm_source,utm_term:e.utm_term}},e.prototype.getReferrer=function(){var e,t,n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0,n.referring_domain=null!==(t=null===(e=n.referrer)||void 0===e?void 0:e.split("/")[2])&&void 0!==t?t:void 0}catch(e){}return n},e.prototype.getClickIds=function(){var e,t=ce();return(e={}).dclid=t.dclid,e.fbclid=t.fbclid,e.gbraid=t.gbraid,e.gclid=t.gclid,e.ko_click_id=t.ko_click_id,e.li_fat_id=t.li_fat_id,e.msclkid=t.msclkid,e.rtd_cid=t.rtd_cid,e.ttclid=t.ttclid,e.twclid=t.twclid,e.wbraid=t.wbraid,e},e}(),De=function(e){var t=e.split(".");return t.length<=2?e:t.slice(t.length-2,t.length).join(".")},Ue=function(e,t,n,a){void 0===a&&(a=!0);e.referrer;var r=e.referring_domain,s=Object(h.f)(e,["referrer","referring_domain"]),i=t||{},c=(i.referrer,i.referring_domain),o=Object(h.f)(i,["referrer","referring_domain"]);if(Be(n.excludeReferrers,e.referring_domain))return!1;if(!a&&function(e){return Object.values(e).every((function(e){return!e}))}(e)&&t)return!1;var l=JSON.stringify(s)!==JSON.stringify(o),u=De(r||"")!==De(c||"");return!t||l||u},Be=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=""),e.some((function(e){return e instanceof RegExp?e.test(t):e===t}))},qe=function(e){var t=this;return void 0===e&&(e={}),{name:"@amplitude/plugin-web-attribution-browser",type:"before",setup:function(t,n){var a;return Object(h.b)(this,void 0,void 0,(function(){var r,s,i,c,o,l,u,d;return Object(h.d)(this,(function(p){switch(p.label){case 0:return r=Object(h.a)({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:(b=null===(a=t.cookieOptions)||void 0===a?void 0:a.domain,v=b,v?(v.startsWith(".")&&(v=v.substring(1)),[new RegExp("".concat(v.replace(".","\\."),"$"))]):[])},e),t.loggerProvider.log("Installing @amplitude/plugin-web-attribution-browser."),s=t.cookieStorage,m=t.apiKey,void 0===(f="MKTG")&&(f=""),void 0===g&&(g=10),i=[w,f,m.substring(0,g)].filter(Boolean).join("_"),[4,Promise.all([(new Fe).parse(),s.get(i)])];case 1:return c=h.e.apply(void 0,[p.sent(),2]),o=c[0],l=c[1],u=X(t.sessionTimeout,t.lastEventTime),Ue(o,l,r,u)&&(r.resetSessionOnNewCampaign&&(n.setSessionId(Date.now()),t.loggerProvider.log("Created a new session for new campaign.")),t.loggerProvider.log("Tracking attribution."),d=function(e,t){var n=Object(h.a)(Object(h.a)({},Ae),e),a=Object.entries(n).reduce((function(e,n){var a,r=Object(h.e)(n,2),s=r[0],i=r[1];return e.setOnce("initial_".concat(s),null!==(a=null!=i?i:t.initialEmptyValue)&&void 0!==a?a:"EMPTY"),i?e.set(s,i):e.unset(s)}),new q);return W(a)}(o,r),n.track(d),s.set(i,o)),[2]}var m,f,g,b,v}))}))},execute:function(e){return Object(h.b)(t,void 0,void 0,(function(){return Object(h.d)(this,(function(t){return[2,e]}))}))}}},ze=function(e){var t={};for(var n in e){var a=e[n];a&&(t[n]=a)}return t},Ve=function(e){var t;void 0===e&&(e={});var n,a=Object(ie.a)(),r=void 0,s=function(){return Object(h.b)(void 0,void 0,void 0,(function(){var t,n,a;return Object(h.d)(this,(function(r){switch(r.label){case 0:return n={event_type:null!==(a=e.eventType)&&void 0!==a?a:"[Amplitude] Page Viewed"},t=[{}],[4,We()];case 1:return[2,(n.event_properties=h.a.apply(void 0,[h.a.apply(void 0,t.concat([r.sent()])),{"[Amplitude] Page Domain":"undefined"!=typeof location&&location.hostname||"","[Amplitude] Page Location":"undefined"!=typeof location&&location.href||"","[Amplitude] Page Path":"undefined"!=typeof location&&location.pathname||"","[Amplitude] Page Title":"undefined"!=typeof document&&document.title||"","[Amplitude] Page URL":"undefined"!=typeof location&&location.href.split("?")[0]||""}]),n)]}}))}))},i=function(){return void 0===e.trackOn||"function"==typeof e.trackOn&&e.trackOn()},c="undefined"!=typeof location?location.href:null,o=function(){return Object(h.b)(void 0,void 0,void 0,(function(){var n,a,o,l;return Object(h.d)(this,(function(u){switch(u.label){case 0:return n=location.href,a=Ke(e.trackHistoryChanges,n,c||"")&&i(),c=n,a?(null==r||r.log("Tracking page view event"),null!=t?[3,1]:(void 0,[3,3])):[3,4];case 1:return l=(o=t).track,[4,s()];case 2:l.apply(o,[u.sent()]),u.label=3;case 3:u.label=4;case 4:return[2]}}))}))},l=function(){o()};return{name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(e,c){return Object(h.b)(void 0,void 0,void 0,(function(){var u,d;return Object(h.d)(this,(function(p){switch(p.label){case 0:return t=c,(r=e.loggerProvider).log("Installing @amplitude/plugin-page-view-tracking-browser"),a&&(a.addEventListener("popstate",l),n=a.history.pushState,a.history.pushState=new Proxy(a.history.pushState,{apply:function(e,t,n){var a=Object(h.e)(n,3),r=a[0],s=a[1],i=a[2];e.apply(t,[r,s,i]),o()}})),i()?(r.log("Tracking page view event"),d=(u=t).track,[4,s()]):[3,2];case 1:d.apply(u,[p.sent()]),p.label=2;case 2:return[2]}}))}))},execute:function(t){return Object(h.b)(void 0,void 0,void 0,(function(){var n;return Object(h.d)(this,(function(a){switch(a.label){case 0:return"attribution"===e.trackOn&&He(t)?(null==r||r.log("Enriching campaign event to page view event with campaign parameters"),[4,s()]):[3,2];case 1:n=a.sent(),t.event_type=n.event_type,t.event_properties=Object(h.a)(Object(h.a)({},t.event_properties),n.event_properties),a.label=2;case 2:return[2,t]}}))}))},teardown:function(){return Object(h.b)(void 0,void 0,void 0,(function(){return Object(h.d)(this,(function(e){return a&&(a.removeEventListener("popstate",l),n&&(a.history.pushState=n)),[2]}))}))}}},We=function(){return Object(h.b)(void 0,void 0,void 0,(function(){var e;return Object(h.d)(this,(function(t){switch(t.label){case 0:return e=ze,[4,(new Fe).parse()];case 1:return[2,e.apply(void 0,[t.sent()])]}}))}))},He=function(e){if("$identify"===e.event_type&&e.user_properties){var t=e.user_properties,n=t[M.SET]||{},a=t[M.UNSET]||{},r=Object(h.g)(Object(h.g)([],Object(h.e)(Object.keys(n)),!1),Object(h.e)(Object.keys(a)),!1);return Object.keys(Ae).every((function(e){return r.includes(e)}))}return!1},Ke=function(e,t,n){switch(e){case"pathOnly":return t.split("?")[0]!==n.split("?")[0];default:return t!==n}},Ge=function(){var e,t=[],n=function(e,n,a){e.addEventListener(n,a),t.push({element:e,type:n,handler:a})};return{name:"@amplitude/plugin-form-interaction-tracking-browser",type:"enrichment",setup:function(t,a){return Object(h.b)(void 0,void 0,void 0,(function(){var r;return Object(h.d)(this,(function(s){return a?("undefined"==typeof document||(r=function(e){var t=!1;n(e,"change",(function(){var n;t||a.track(Ee,((n={})[Pe]=Ze(e.id),n[Se]=Ze(e.name),n[xe]=e.action,n)),t=!0})),n(e,"submit",(function(){var n,r;t||a.track(Ee,((n={})[Pe]=Ze(e.id),n[Se]=Ze(e.name),n[xe]=e.action,n)),a.track(Oe,((r={})[Pe]=Ze(e.id),r[Se]=Ze(e.name),r[xe]=e.action,r)),t=!1}))},Array.from(document.getElementsByTagName("form")).forEach(r),"undefined"!=typeof MutationObserver&&(e=new MutationObserver((function(e){e.forEach((function(e){e.addedNodes.forEach((function(e){"FORM"===e.nodeName&&r(e),"querySelectorAll"in e&&"function"==typeof e.querySelectorAll&&Array.from(e.querySelectorAll("form")).map(r)}))}))}))).observe(document.body,{subtree:!0,childList:!0})),[2]):(t.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked."),[2])}))}))},execute:function(e){return Object(h.b)(void 0,void 0,void 0,(function(){return Object(h.d)(this,(function(t){return[2,e]}))}))},teardown:function(){return Object(h.b)(void 0,void 0,void 0,(function(){return Object(h.d)(this,(function(n){return null==e||e.disconnect(),t.forEach((function(e){var t=e.element,n=e.type,a=e.handler;null==t||t.removeEventListener(n,a)})),t=[],[2]}))}))}}},Ze=function(e){if("string"==typeof e)return e},Qe=function(){var e,t=[];return{name:"@amplitude/plugin-file-download-tracking-browser",type:"enrichment",setup:function(n,a){return Object(h.b)(void 0,void 0,void 0,(function(){var r,s;return Object(h.d)(this,(function(i){return a?("undefined"==typeof document||(r=function(e){var n;try{n=new URL(e.href,window.location.href)}catch(e){return}var r=s.exec(n.href),i=null==r?void 0:r[1];i&&function(e,n,a){e.addEventListener(n,a),t.push({element:e,type:n,handler:a})}(e,"click",(function(){var t;i&&a.track(je,((t={})[we]=i,t[_e]=n.pathname,t[ke]=e.id,t[Ne]=e.text,t[Ce]=e.href,t))}))},s=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/,Array.from(document.getElementsByTagName("a")).forEach(r),"undefined"!=typeof MutationObserver&&(e=new MutationObserver((function(e){e.forEach((function(e){e.addedNodes.forEach((function(e){"A"===e.nodeName&&r(e),"querySelectorAll"in e&&"function"==typeof e.querySelectorAll&&Array.from(e.querySelectorAll("a")).map(r)}))}))}))).observe(document.body,{subtree:!0,childList:!0})),[2]):(n.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked."),[2])}))}))},execute:function(e){return Object(h.b)(void 0,void 0,void 0,(function(){return Object(h.d)(this,(function(t){return[2,e]}))}))},teardown:function(){return Object(h.b)(void 0,void 0,void 0,(function(){return Object(h.d)(this,(function(n){return null==e||e.disconnect(),t.forEach((function(e){var t=e.element,n=e.type,a=e.handler;null==t||t.removeEventListener(n,a)})),t=[],[2]}))}))}}},Je=!1,$e=function(){var e=Object(ie.a)(),t=[],n=function(n,a){e&&(e.addEventListener(n,a),t.push({type:n,handler:a}))};return{name:"@amplitude/plugin-network-checker-browser",type:"before",setup:function(e,t){return Object(h.b)(void 0,void 0,void 0,(function(){return Object(h.d)(this,(function(a){return e.offline=!navigator.onLine,n("online",(function(){e.loggerProvider.debug("Network connectivity changed to online."),e.offline=!1,setTimeout((function(){t.flush()}),e.flushIntervalMillis)})),n("offline",(function(){e.loggerProvider.debug("Network connectivity changed to offline."),e.offline=!0})),[2]}))}))},teardown:function(){return Object(h.b)(void 0,void 0,void 0,(function(){return Object(h.d)(this,(function(n){return t.forEach((function(t){var n=t.type,a=t.handler;e&&e.removeEventListener(n,a)})),t=[],[2]}))}))}}},Ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(h.c)(t,e),t.prototype.init=function(e,t,n){var a,r;return void 0===e&&(e=""),arguments.length>2?(a=t,r=n):"string"==typeof t?(a=t,r=void 0):(a=null==t?void 0:t.userId,r=t),j(this._init(Object(h.a)(Object(h.a)({},r),{userId:a,apiKey:e})))},t.prototype._init=function(t){var n,a;return Object(h.b)(this,void 0,void 0,(function(){var r,s,i,c,o=this;return Object(h.d)(this,(function(l){switch(l.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,Ie(t.apiKey,t,this)]);case 1:return r=l.sent(),[4,e.prototype._init.call(this,r)];case 2:return l.sent(),this.setSessionId(null!==(a=null!==(n=t.sessionId)&&void 0!==n?n:this.config.sessionId)&&void 0!==a?a:Date.now()),(s=G(t.instanceName)).identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),null===this.config.offline?[3,4]:[4,this.add($e()).promise];case 3:l.sent(),l.label=4;case 4:return[4,this.add(new A).promise];case 5:return l.sent(),[4,this.add(new ae).promise];case 6:return l.sent(),[4,this.add(new Z).promise];case 7:return l.sent(),function(e){if(!Je&&void 0===e.defaultTracking){e.loggerProvider.warn("`options.defaultTracking` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to `options.defaultTracking`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:\n\namplitude.init(<YOUR_API_KEY>, {\n  defaultTracking: true,\n});\n\nVisit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details."),Je=!0}}(this.config),d=this.config.defaultTracking,Q(d,"fileDownloads")?[4,this.add(Qe()).promise]:[3,9];case 8:l.sent(),l.label=9;case 9:return function(e){return Q(e,"formInteractions")}(this.config.defaultTracking)?[4,this.add(Ge()).promise]:[3,11];case 10:l.sent(),l.label=11;case 11:return J(this.config.defaultTracking)?(u=this.config,i=J(u.defaultTracking)&&u.defaultTracking&&"object"==typeof u.defaultTracking&&u.defaultTracking.attribution&&"object"==typeof u.defaultTracking.attribution?Object(h.a)({},u.defaultTracking.attribution):{},c=qe(i),[4,this.add(c).promise]):[3,13];case 12:l.sent(),l.label=13;case 13:return $(this.config.defaultTracking)?[4,this.add(Ve(Y(this.config))).promise]:[3,15];case 14:l.sent(),l.label=15;case 15:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 16:return l.sent(),s.eventBridge.setEventReceiver((function(e){o.track(e.eventType,e.eventProperties)})),[2]}var u,d}))}))},t.prototype.getUserId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.userId},t.prototype.setUserId=function(e){this.config?e===this.config.userId&&void 0!==e||(this.config.userId=e,function(e,t){G(t).identityStore.editIdentity().setUserId(e).commit()}(e,this.config.instanceName)):this.q.push(this.setUserId.bind(this,e))},t.prototype.getDeviceId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.deviceId},t.prototype.setDeviceId=function(e){this.config?(this.config.deviceId=e,function(e,t){G(t).identityStore.editIdentity().setDeviceId(e).commit()}(e,this.config.instanceName)):this.q.push(this.setDeviceId.bind(this,e))},t.prototype.reset=function(){this.setDeviceId(F()),this.setUserId(void 0)},t.prototype.getSessionId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.sessionId},t.prototype.setSessionId=function(e){var t;if(this.config){if(e!==this.config.sessionId){var n,a=this.getSessionId(),r=this.config.lastEventTime,s=null!==(t=this.config.lastEventId)&&void 0!==t?t:-1;this.config.sessionId=e,this.config.lastEventTime=void 0,n=this.config.defaultTracking,Q(n,"sessions")&&(a&&r&&this.track("session_end",void 0,{device_id:this.previousSessionDeviceId,event_id:++s,session_id:a,time:r+1,user_id:this.previousSessionUserId}),this.config.lastEventTime=this.config.sessionId,this.track("session_start",void 0,{event_id:++s,session_id:this.config.sessionId,time:this.config.lastEventTime})),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId}}else this.q.push(this.setSessionId.bind(this,e))},t.prototype.extendSession=function(){this.config?this.config.lastEventTime=Date.now():this.q.push(this.extendSession.bind(this))},t.prototype.setTransport=function(e){this.config?this.config.transportProvider=Le(e):this.q.push(this.setTransport.bind(this,e))},t.prototype.identify=function(t,n){if(te(t)){var a=t._q;t._q=[],t=ee(new q,a)}return(null==n?void 0:n.user_id)&&this.setUserId(n.user_id),(null==n?void 0:n.device_id)&&this.setDeviceId(n.device_id),e.prototype.identify.call(this,t,n)},t.prototype.groupIdentify=function(t,n,a,r){if(te(a)){var s=a._q;a._q=[],a=ee(new q,s)}return e.prototype.groupIdentify.call(this,t,n,a,r)},t.prototype.revenue=function(t,n){if(te(t)){var a=t._q;t._q=[],t=ee(new z,a)}return e.prototype.revenue.call(this,t,n)},t.prototype.process=function(t){return Object(h.b)(this,void 0,void 0,(function(){var n,a;return Object(h.d)(this,(function(r){return n=Date.now(),a=X(this.config.sessionTimeout,this.config.lastEventTime),"session_start"===t.event_type||"session_end"===t.event_type||t.session_id&&t.session_id!==this.getSessionId()||!a||this.setSessionId(n),[2,e.prototype.process.call(this,t)]}))}))},t}(H),Xe=(D=new Ye,O(D.init.bind(D),"init",v(D),E(D,["config"])),O(D.add.bind(D),"add",v(D),E(D,["config.apiKey","timeline.plugins"])),O(D.remove.bind(D),"remove",v(D),E(D,["config.apiKey","timeline.plugins"])),O(D.track.bind(D),"track",v(D),E(D,["config.apiKey","timeline.queue.length"])),O(D.logEvent.bind(D),"logEvent",v(D),E(D,["config.apiKey","timeline.queue.length"])),O(D.identify.bind(D),"identify",v(D),E(D,["config.apiKey","timeline.queue.length"])),O(D.groupIdentify.bind(D),"groupIdentify",v(D),E(D,["config.apiKey","timeline.queue.length"])),O(D.setGroup.bind(D),"setGroup",v(D),E(D,["config.apiKey","timeline.queue.length"])),O(D.revenue.bind(D),"revenue",v(D),E(D,["config.apiKey","timeline.queue.length"])),O(D.flush.bind(D),"flush",v(D),E(D,["config.apiKey","timeline.queue.length"])),O(D.getUserId.bind(D),"getUserId",v(D),E(D,["config","config.userId"])),O(D.setUserId.bind(D),"setUserId",v(D),E(D,["config","config.userId"])),O(D.getDeviceId.bind(D),"getDeviceId",v(D),E(D,["config","config.deviceId"])),O(D.setDeviceId.bind(D),"setDeviceId",v(D),E(D,["config","config.deviceId"])),O(D.reset.bind(D),"reset",v(D),E(D,["config","config.userId","config.deviceId"])),O(D.getSessionId.bind(D),"getSessionId",v(D),E(D,["config"])),O(D.setSessionId.bind(D),"setSessionId",v(D),E(D,["config"])),O(D.extendSession.bind(D),"extendSession",v(D),E(D,["config"])),O(D.setOptOut.bind(D),"setOptOut",v(D),E(D,["config"])),O(D.setTransport.bind(D),"setTransport",v(D),E(D,["config"])),n("Nxtt"));function et(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var tt=0;function nt(e){return"__private_"+tt+++"_"+e}function at(e){window.dataLayer=window.dataLayer||[],window.dataLayer.push(e)}var rt=nt("skipInitialization"),st=nt("id"),it=nt("auth"),ct=nt("preview"),ot=nt("cookiesWin");var lt=class extends m{constructor(){let{id:e,auth:t,preview:n,cookiesWin:a,skipInitialization:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(Xe.a)(r||e,"Google Tag Manager ID is required"),super(),Object.defineProperty(this,rt,{writable:!0,value:!1}),Object.defineProperty(this,st,{writable:!0,value:null}),Object.defineProperty(this,it,{writable:!0,value:null}),Object.defineProperty(this,ct,{writable:!0,value:null}),Object.defineProperty(this,ot,{writable:!0,value:null}),et(this,st)[st]=e,et(this,it)[it]=t,et(this,ct)[ct]=n,et(this,ot)[ot]=a,et(this,rt)[rt]=r}async initialize(){if(et(this,rt)[rt])return;at({"gtm.start":(new Date).getTime(),event:"gtm.js"});const e=new URL("https://www.googletagmanager.com/gtm.js");e.searchParams.set("id",et(this,st)[st]),et(this,it)[it]&&e.searchParams.set("gtm_auth",et(this,it)[it]),et(this,ct)[ct]&&e.searchParams.set("gtm_preview",et(this,ct)[ct]),et(this,ot)[ot]&&e.searchParams.set("gtm_cookies_win",et(this,ot)[ot]);const t=document.createElement("script");t.async=!0,t.src=e.toString(),document.getElementsByTagName("script")[0].appendChild(t)}async trackPageView(){at({event:"pageview",page_location:window.location.href,page_title:document.title})}async trackEvent(e,t){at({event:e,...t})}async setUserId(e){at({event:"setUserId",userId:e})}async setEmail(e){at({event:"setEmail",email:e})}async setUserProperties(e){at({event:"setUserProperties",...e})}};const ut=new d},udwx:function(e,t,n){"use strict";var a=n("r0ML");function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var s=a.createElement("path",{fill:"currentColor",d:"M5.6 7L.3 12.3c-.4.4-.4 1 0 1.4.4.4 1 .4 1.4 0l6-6c.4-.4.4-1 0-1.4l-6-6C1.3-.1.7-.1.3.3s-.4 1 0 1.4L5.6 7z"});t.a=function(e){return a.createElement("svg",r({width:8,height:14},e),s)}},uyvO:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={initial:"initial",loaded:"loaded",pending_review:"pending_review",complete_payment_successfully:"complete_payment_successfully",applied_plan:"applied_plan"}},uzfa:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/icon_we_use_mssgme_ru.svg"},v2iy:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return d}));var a=n("a28/");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var c="function"==typeof Symbol&&Symbol.observable||"@@observable",o=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function u(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function d(e,t,n){var a;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(i(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(i(1));return n(d)(e,t)}if("function"!=typeof e)throw new Error(i(2));var r=e,s=t,o=[],p=o,m=!1;function f(){p===o&&(p=o.slice())}function h(){if(m)throw new Error(i(3));return s}function g(e){if("function"!=typeof e)throw new Error(i(4));if(m)throw new Error(i(5));var t=!0;return f(),p.push(e),function(){if(t){if(m)throw new Error(i(6));t=!1,f();var n=p.indexOf(e);p.splice(n,1),o=null}}}function b(e){if(!u(e))throw new Error(i(7));if(void 0===e.type)throw new Error(i(8));if(m)throw new Error(i(9));try{m=!0,s=r(s,e)}finally{m=!1}for(var t=o=p,n=0;n<t.length;n++){(0,t[n])()}return e}function v(e){if("function"!=typeof e)throw new Error(i(10));r=e,b({type:l.REPLACE})}function y(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(i(11));function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[c]=function(){return this},e}return b({type:l.INIT}),(a={dispatch:b,subscribe:g,getState:h,replaceReducer:v})[c]=y,a}function p(e){for(var t=Object.keys(e),n={},a=0;a<t.length;a++){var r=t[a];0,"function"==typeof e[r]&&(n[r]=e[r])}var s,c=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:l.INIT}))throw new Error(i(12));if(void 0===n(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw new Error(i(13))}))}(n)}catch(e){s=e}return function(e,t){if(void 0===e&&(e={}),s)throw s;for(var a=!1,r={},o=0;o<c.length;o++){var l=c[o],u=n[l],d=e[l],p=u(d,t);if(void 0===p){t&&t.type;throw new Error(i(14))}r[l]=p,a=a||p!==d}return(a=a||c.length!==Object.keys(e).length)?r:e}}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),a=function(){throw new Error(i(15))},r={getState:n.getState,dispatch:function(){return a.apply(void 0,arguments)}},c=t.map((function(e){return e(r)}));return a=m.apply(void 0,c)(n.dispatch),s(s({},n),{},{dispatch:a})}}}},v4jp:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/robot.png"},vFhw:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("r0ML"),r=n.n(a),s=n("Pc05"),i=n.n(s),c=n("rd+O"),o={container:"j05O8Kqk",root:"_1T-3Pm-I",counter:"_3JWkk3hT",error:"_1v3R6Nod","padding-right":"KVOrN3Dt",paddingRight:"KVOrN3Dt",builderInput:"_1lP6I7Pv",normal:"iJibajlA"};function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function u(e){var t;let{className:n,hasError:a,maxLength:s,value:u,size:d,builderInput:p=!1,minRows:m=2,maxRows:f=5,...h}=e;const g=i()(o.root,n,{[o.error]:a,[o.paddingRight]:s,[o[d]]:!!d,[o.builderInput]:p}),b=u||"";return r.a.createElement("div",{className:o.container,style:{color:null===(t=h.style)||void 0===t?void 0:t.color}},r.a.createElement(c.a,l({value:b,className:g,maxLength:s,minRows:m,maxRows:f},h)),s&&r.a.createElement("span",{className:o.counter},s-b.trim().length))}},vGY9:function(e,t,n){"use strict";class a{constructor(e,t,n){this.uid=e,this.history=t,this.process=n}check(e,t){if(!this.forbid||this.forbid(e,t,this.history.location))return!1}when(e){return this.forbid=e,this}}t.a=new class{constructor(){this.off=null,this.observers={}}subscribe(e,t,n){return this.off||(this.off=e.block((e,t)=>{for(const[n,a]of Object.entries(this.observers))if(!1===a.check(e,t))return n})),this.observers[t]=new a(t,e,n)}unsubscribe(e){this.observers[e]&&(delete this.observers[e],Object.keys(this.observers).length||(this.off(),this.off=null))}notify(e,t){const n=this.observers[e];return n&&n.process(t),!!n}}},vMq5:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("r0ML"),r=n("SVdZ"),s=n("DC3q"),i=n("j2AC"),c=n("tdCx");let o=0;const l={status:"idle",error:null,result:null},u={...l,requestId:-1,requestCount:0};function d(e,t){let{type:n,requestId:a,...r}=t;if(e.requestId>a)return e;switch(n){case"pending":return{...e,...l,requestId:a,status:"pending",requestCount:e.requestCount+1};case"fulfilled":return{...e,...l,requestId:a,status:"fulfilled",result:r.result};case"rejected":return{...e,...l,requestId:a,status:"rejected",error:r.error};default:throw new Error}}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Object(a.useRef)(e),l=Object(r.a)(),[p,m]=Object(a.useReducer)(d,u),{show:f}=Object(c.b)();n.current=e;const h=Object(a.useCallback)((async function(){function e(){l()&&m(...arguments)}const t=o++;e({type:"pending",requestId:t});try{e({type:"fulfilled",requestId:t,result:await n.current(...arguments)})}catch(n){e({type:"rejected",requestId:t,error:n}),i.b.isPermissionBlock(n)&&f(n)}}),t);return Object(a.useMemo)(()=>{const e=i.g.is(p.error)?p.error.errors:{};return{...p,validationErrors:e,getValidationError:t=>Object(s.a)(e,t),run:h,idle:"idle"===p.status,rejected:"rejected"===p.status,fulfilled:"fulfilled"===p.status,pending:"pending"===p.status}},[p,h])}},"vtB/":function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n("Nxtt"),r=n("Pfhs");class s extends Error{constructor(e,t,n,a,r){super(e),this.status=403,this.code=t,this.plan=n,this.permission=a,this.target=r}}class i{constructor(e,t){this.context=t,this.permissions=e,this.billing=this.workspace.billing||{},this.plan=this.billing.plan,this.assumePaid=Object(r.b)(this.billing,t.allowPastDue),this.subject=null,this.permission=null}get workspace(){return this.context.workspace||this.context}setPermission(e){return this.permission=e,this}setSubject(e){return this.subject=e,this}build(){const{context:e,plan:t,permission:n,subject:a}=this,r=this.assumePaid||this.permissions.isGranted(e,n,a,"basic"),i=this.permissions.isGranted(e,n,a),c=i?t:this.permissions.lookupUpgrade(e,n,a);if(i&&r)return null;return i&&!r?new s("Pay for "+t,"unpaid",t,n):c?new s("Upgrade to "+c,"upgrade",t,n,c):new s("Access forbidden","forbidden",t,n)}}var c=n("j68g"),o=n("RTFG"),l=n("DC3q"),u=n("c3l6");const d="*",p=["create","view","edit","delete"],m=new Set(["create","view","edit","delete",d,"?"]),f=Object(o.a)(e=>{const[t,n=d]=e.split(":"),a=new Set;if(n)for(const e of n.split(","))if(e===d)for(const e of p)a.add(e);else{if(!m.has(e))throw new Error(`Unknown action "${e}"`);a.add(e)}else for(const e of p)a.add(e);return{resource:t,actions:[...a]}});class h{constructor(e,t,n,a,r){var s,i;this.context=e,this.workspace=e.workspace||e,this.subject=t,this.role=n||(null===(s=this.workspace)||void 0===s||null===(i=s.billing)||void 0===i?void 0:i.plan),r?(this.resource=a,this.actions=r):this.fill(a)}get description(){return`[@${this.role} ${this.resource}${this.isEvery()?"":":"+this.actions.join(",")}]${this.subject?" @ "+JSON.stringify(this.subject):""}`}isBy(e){var t;return Object(u.a)(null===(t=this.workspace)||void 0===t?void 0:t.owner)===Object(u.a)(e)}get(e,t){return Object(l.a)(this.context,e,t)}fill(e){return Object.assign(this,f(e))}match(e){const{resource:t,actions:n}=f(e);return this.on(t)&&this.isEvery(n)}only(e){return new h(this.workspace,this.subject,this.role,this.resource,e)}on(e){return this.resource===e}includes(e){return this.actions.includes(e)}is(e){return 1===this.actions.length&&this.actions[0]===e}isAny(){return this.actions.includes("?")}isEvery(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:p).every(e=>this.actions.includes(e))}}var g=n("zl5+");class b{supports(e){return!1}supportsVersion(e,t){return Object(g.a)(e.workspace.projectVersion,t)}vote(e){}}class v extends b{static getLimitByRole(e){switch(e){case"basic":case"start400":case"pro400":return 1;case"business400":return 10;default:return 3}}supports(e){return"websites"===e.resource}vote(e){return!(e.includes("create")&&!this.canCreate(e))&&!("basic"===e.role&&e.includes("edit")&&!this.canEditBasic(e))}canCreate(e){return(e.workspace.quantities.websites||0)<v.getLimitByRole(e.role)}canEditBasic(e){e.subject;return!0}}class y extends b{static getLimitByRole(e){switch(e){case"basic":return 1;case"business400":return 50;case"start400":case"pro400":default:return 10}}supports(e){return"pages"===e.resource}vote(e){if(e.includes("create")&&!this.canCreate(e))return!1}canCreate(e){return e.get("website.counters.pages",0)<y.getLimitByRole(e.role)}}class E extends b{constructor(e){super(),this.acl=e}supports(e){return"page-blocks"===e.resource}vote(e){if((e.includes("create")||e.includes("edit"))&&!this.canEdit(e))return!1}canEdit(e){if(!e.subject)return!0;const t=e.subject.kind;return this.acl.grantsInArrayPayload(e,n=>"string"==typeof n?n===t:n.kind===t&&this.supportsVersion(e,n.version))}}const O=p.length,j={create:!0,view:!0,edit:!0,delete:!0};class w{constructor(e,t){this.name=e,this.access=t||{...j},this._any=null}merge(e){return Object.assign(this.access,e.access),this._any=null,this}get grantsAny(){if(null===this._any){let e=0;for(const t of Object.values(this.access))if(e++,t)return this._any=!0,!0;this._any=e!==O&&void 0}return this._any}isGranted(e){return"?"===e?this.grantsAny:this.access[e]}}class _{constructor(e,t){this.name=e,this.parent=t,this.resources=[]}getResourceIds(){return this.resources.map(e=>e.name)}addResource(e){const t=this.getResource(e.name);return t?t.merge(e):(this.resources.push(e),e)}getResource(e){return this.resources.find(t=>t.name===e)}isGranted(e){var t;let n,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=this.getResource(e.resource);if(r){let t;if(e.isAny()){if(t=r.isGranted("?"),void 0!==t)return t}else{n=new Set(e.actions);for(const t of e.actions){const e=r.isGranted(t);if(!1===e)return!1;!0===e&&n.delete(t)}if(!n.size)return!0;e=e.only([...n])}}return!a&&(null===(t=this.parent)||void 0===t?void 0:t.isGranted(e))||!1}}class k{constructor(){this.roles=[]}getRoleIds(){return this.roles.map(e=>e.name)}getRuleIds(){return[...new Set([].concat(...this.roles.map(e=>e.getResourceIds())))]}addRole(e){if(this.getRole(e.name))throw new Error(`Multiple definitions of "${e.name}" role`);return this.roles.push(e),e}getRole(e){return this.roles.find(t=>t.name===e)}isGranted(e){const t=this.getRole(e.role);return!!t&&t.isGranted(e)}}const N=(e,t)=>{if("object"==typeof e){const{rule:n,...a}=e,r=N(n,t);return r.payload=a,r}const{resource:n,actions:a}=f(e);return new w(n,a.reduce((e,n)=>(e[n]=t,e),{}))},C=new class extends b{constructor(e){super(),this.loader=e}get acl(){return this._acl||(this._acl=this.loader()),this._acl}supports(e){return!0}vote(e){return this.acl.isGranted(e)}grantsInArrayPayload(e,t){const n="function"==typeof t?t:e=>e===t;let a=this.acl.getRole(e.role);for(;a;){const t=a.getResource(e.resource);if(t)if(t.payload){const{grant:e,reject:a}=t.payload;if(e&&("*"===e||e.some(n)))return!0;if(a&&("*"===a||a.some(n)))return!1}else if(a.isGranted(e,!0))return!0;a=a.parent}return!1}}(()=>(e=>{const t=new k;for(const{id:n,rules:a}of e){const{extend:e,grant:r,reject:s}=a,i=e&&t.getRole(e),c=t.addRole(new _(n,i));for(const[e,t]of[[r,!0],[s,!1]])if(e)for(const n of e)c.addResource(N(n,t))}return t})(Object(c.c)())),P=new class extends class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.voters=e}addVoter(e){this.voters.push(e)}vote(e){for(const t of this.voters){if(!t.supports(e))continue;const n=t.vote(e);if(void 0!==n)return n}return!0}}{constructor(e,t){super([...t,e]),this.aclVoter=e}get acl(){return this.aclVoter.acl}isGranted(e,t,n,a){return this.vote(new h(e,n,a,t))}lookupUpgrade(e,t,n){var a;const{UPGRADEABLE:r}=Object(c.b)(),s=this.acl.getRoleIds(),i=null===(a=(e.workspace||e).billing)||void 0===a?void 0:a.plan;let o,l=!0,u=s.indexOf(i);for(;o=s[u++];){if(!l&&!r.includes(o))continue;if(this.vote(new h(e,n,o,t)))return o;l=!1}}}(C,[new class extends b{supports(e){return"unlimited"===e.role&&"page-templates"!==e.resource}vote(){return!0}},new class extends b{constructor(e){super(),this.constraints=e}supports(e){return!!this.constraints[e.resource]}vote(e){if(!this.supportsVersion(e,this.constraints[e.resource]))return!1}}({"ru-integrations":"<5.14"}),new class extends b{supports(e){return"collections"===e.resource}vote(e){if("basic"===e.role){if(e.includes("create"))return!1;if(e.includes("edit"))return!1}return!(e.includes("edit")&&!this.canEdit(e))&&!(e.includes("delete")&&!this.canDelete(e))}canEdit(e){return e.subject&&!e.subject.default}canDelete(e){return!e.subject.default}},new class extends b{supports(e){return"basic"===e.role&&"messengers"===e.resource&&this.supportsVersion(e,">=2.11")}vote(e){return!(e.includes("create")&&!this.canEdit(e))&&!(e.includes("edit")&&!this.canEdit(e))}canEdit(e){let{workspace:t,subject:n}=e;if(!n)return!0;const a=t.card.messengers.find(e=>e.enabled);return!(a&&a.messenger!==n.messenger)}},new class extends b{supports(e){return"basic"===e.role&&"products"===e.resource}vote(e){return!(e.includes("create")&&!this.canCreate(e))&&!(e.includes("edit")&&!this.canEdit(e))}canCreate(e){return this.canEdit(e)}canEdit(e){let{subject:t,workspace:n}=e;return!(null==t||!t.slug)||n.card.products.count<10}},new v,new y,new class extends y{supports(e){return"page-publish"===e.resource}vote(e){const t=y.getLimitByRole(e.role),n=e.get("website.pages",[]),a=e.subject;let r=t;for(const e of n){if(a&&Object(u.a)(a)===Object(u.a)(e))return!0;if(e.enabled&&r--,r<=0)return!1}}},new class extends b{supports(e){return"page-templates"===e.resource}vote(e){return!(e.includes("create")&&!this.canCreate(e))&&(!(e.includes("edit")&&!this.canEdit(e))&&(!(e.includes("delete")&&!this.canDelete(e))&&!(e.includes("view")&&!this.canView(e))))}canCreate(e){const t=e.workspace.quantities.templates||0;switch(e.role){case"unlimited":return t<20;default:return!1}}canDelete(e){return this.canEdit(e)}canEdit(e){var t;return null===(t=e.subject)||void 0===t||!t._id||e.isBy(e.subject.author)}canView(e){var t;return!(null!==(t=e.subject)&&void 0!==t&&t._id&&!e.subject.public)||e.isBy(e.subject.author)}},new class extends b{constructor(e){super(),this.acl=e}supports(e){return"page-themes"===e.resource}vote(e){if(e.includes("edit")&&!this.canEdit(e))return!1}canEdit(e){return!e.subject||this.acl.grantsInArrayPayload(e,e.subject.colorId)}}(C),new class extends b{constructor(e){super(),this.acl=e}supports(e){return"page-styling"===e.resource}vote(e){if(e.includes("edit")&&!this.canEdit(e))return!1}canEdit(e){return!e.subject||this.acl.grantsInArrayPayload(e,e.subject.type)}}(C),new E(C),new class extends E{supports(e){return"page-blocks-publish"===e.resource}}(C),new class extends b{supports(e){return"basic"===e.role&&"subscription-form-field"===e.resource}vote(e){if(e.includes("create")&&!this.canCreate(e))return!1}canCreate(e){var t;let{subject:n}=e;return!(null!=n&&null!==(t=n.items)&&void 0!==t&&t.some(e=>{let{type:t}=e;return"email"!==t}))}}]),S=(e,t,n,r)=>{Object(a.a)(!Array.isArray(t),`Permission should not be an array, got "${t}"`);let s=n;"function"==typeof s&&(r=s,s=null);const c=new i(P,e).setPermission(t);let o=null;if(s&&Array.isArray(s)){for(const e of s){const t=c.setSubject(e).build();if(r){if(!1!==r(t,e)){o=t;break}}else if(t)return t}r&&r(o)}else o=c.setSubject(s).build(),r&&r(o,s);return o}},w2nZ:function(e,t,n){"use strict";var a=n("r0ML"),r=n.n(a),s=n("QD+E"),i=n("yW3b");function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}t.a=e=>r.a.createElement(i.a,c({tag:s.c},e))},w5oC:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s}));const a="accessToken",r="client_uuid",s={auth:"/auth",billing:"/workspaces/:workspaceId/billing",subscription:"/workspaces/:workspaceId/billing/subscription",bot:"/bot",bots:"/workspaces/:workspaceId/bots",card:"/workspaces/:workspaceId/card",collections:"/workspaces/:workspaceId/collections",contacts:"/workspaces/:workspaceId/contacts",conversations:"/workspaces/:workspaceId/conversations",integrations:"/workspaces/:workspaceId/integrations",messages:"/workspaces/:workspaceId/conversations/:contactId/messages",onboarding:"/workspaces/:workspaceId/onboarding",products:"/workspaces/:workspaceId/products",crm:"/workspaces/:workspaceId/crm",endpoints:"/workspaces/:workspaceId/endpoints",services:"/workspaces/:workspaceId/services",replies:"/workspaces/:workspaceId/replies",websites:"/workspaces/:workspaceId/websites",website:"/workspaces/:workspaceId/websites/:websiteId",pages:"/workspaces/:workspaceId/websites/:websiteId/pages",feedbacks:"/workspaces/:workspaceId/websites/:websiteId/feedback",blocks:"/workspaces/:workspaceId/websites/:websiteId/pages/:pageId/blocks",orders:"/workspaces/:workspaceId/orders",tags:"/workspaces/:workspaceId/tags",templates:"/workspaces/:workspaceId/templates",team:"/workspaces/:workspaceId/team",users:"/users",invites:"/workspaces/:workspaceId/invites",workspaces:"/workspaces"}},wYyU:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=2e3},wxgb:function(e,t,n){"use strict";var a=n("r0ML");function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var s=a.createElement("path",{d:"M2.138 6.357a.65.65 0 00-.943 0 .711.711 0 000 .979l3.334 3.461c.26.27.682.27.942 0l7.334-7.615a.711.711 0 000-.98.65.65 0 00-.943 0L5 9.33 2.138 6.357z",stroke:"currentColor",fill:"currentColor"});t.a=function(e){return a.createElement("svg",r({width:14,height:14},e),s)}},xUbJ:function(e,t,n){"use strict";var a,r=n("1jyU");t.a=Object(r.a)(null===(a=window.navigator)||void 0===a?void 0:a.userAgent)},xhNR:function(e,t,n){var a={"./en/bot.json":["/PTq",0],"./en/card.json":["yl3x",0],"./en/redirect.json":["BsNW",0],"./ru/bot.json":["Sn5o",1],"./ru/card.json":["SYKl",1],"./ru/redirect.json":["unWC",1],"./uk/bot.json":["dnOR",2],"./uk/card.json":["LjwJ",2],"./uk/redirect.json":["xRa8",2]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,3)}))}r.keys=function(){return Object.keys(a)},r.id="xhNR",e.exports=r},xk1Y:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/messengers/icon-skype.svg"},"y/NB":function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/do.png"},y0Q8:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/messengers/icon-vk.svg"},yHpL:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("r0ML"),r=n("g0xT");var s=n("yiSu");function i(){const e=Object(r.c)();return Object(a.useMemo)(()=>function e(t,n){if("object"==typeof t){const a={};for(const[r,s]of Object.entries(t))a[r]=e(s,n);return a}if("function"==typeof t)return function(e,t){return function(){return t(e(...arguments))}}(t,n);throw new Error("Invalid actionCreators type")}(s.a,e),[e])}},yPYI:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return u}));var a=n("b9Gi"),r=(n("R6Hn"),n("9IQG"),n("okl4"));Object(a.b)();const s=function(e,t){const n=function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];if(t)return{type:e,...t(...a)};const[s,...i]=a;return{type:e,payload:s,meta:i}};return n.type=e,n.toString=()=>e,n};class i{constructor(e,t){t={immutable:!0,...t},this._state=e,this._immutable=t.immutable,this._cases={}}addCase(e,t){if(Array.isArray(e))for(let n of e)this._cases[String(n)]=t;else this._cases[String(e)]=t;return this}hasCase(e){return this._cases.hasOwnProperty(e)}runCase(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return this._cases[e](...n)}createReducer(){var e=this;let t;return t=this._immutable?function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e._state,n=arguments.length>1?arguments[1]:void 0;return Object(a.d)(t)&&e.hasCase(n.type)?e.runCase(n.type,t,n):Object(a.e)(t,t=>{if(e.hasCase(n.type))return e.runCase(n.type,t,n)})}:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e._state,n=arguments.length>1?arguments[1]:void 0;return e.hasCase(n.type)?e.runCase(n.type,t,n):t},t.builder=this,t}}function c(e,t,n){if("function"==typeof t&&2===t.length)return function(e,t){return function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return Object(a.e)(n,e=>t(e,r))}}(e,t);return function(e,t,n){const a=new i(e,n);if("function"==typeof t)t(a);else{if("object"!=typeof t)throw new Error("Invalid handler type");for(const e of Object.keys(t))a.addCase(e,t[e])}return a}(e,t,n).createReducer()}function o(e,t,n){const a=e.findIndex(t);return a>=0&&(e[a]=n),a>=0}function l(e,t){const n=e.findIndex(t);if(n>=0)return e.splice(n,1)[0]}function u(e){let{collection:t,match:n,result:a,prepend:s,onUpdate:i}=e;return(e,c)=>{const u=(null==t?void 0:t(e,c))||e,d=(null==a?void 0:a(c.result))||c.result,p=(null==d?void 0:d._id)||c[n],m=p&&Object(r.b)(p),f=!d,h=d&&m&&u.find(m),g=!(f||h);f?l(u,m):h?o(u,m,d):s?u.unshift(d):u.push(d),null==i||i({state:e,action:c,created:g&&d,updated:h&&d,deleted:f})}}},yW3b:function(e,t,n){"use strict";var a=n("r0ML"),r=n.n(a),s=n("Pc05"),i=n.n(s),c=n("S955"),o={root:"_14Cr09WO",disabled:"_1r7KFOqO",container:"_38ipXAfL",large:"_1DDLmGaP",standart:"_28sW77FH",small:"vJKOE1HZ",inline:"_2q5oeb0I","full-width":"_3-cEvdD1",fullWidth:"_3-cEvdD1",rounded:"_1_3Lg1WK",transparent:"_32haqqur",primary:"_8TaX8Vft",primaryOutline:"_19a_eEqA",primary2:"_36ZK8UKA",secondary:"_2Ixehd9l",secondary2:"_1DYsclgb",warning:"_1cdi78HV",danger:"_3UErwoyN",success:"HMuHD5d5",grey:"_2zVQBGJz",white:"_3ofjL6hh",link:"RjnLE1Zx",solid:"w7G2zjC2",secondaryOutline:"_3hJsbphS",nopadding:"WOcWrBrC",icon:"_5Skc7ISc",noborder:"_17xoryeh",socialBtnOnly:"_1cdRpsQj",socialBtnWithText:"_3AoURXnO",facebook:"_2H0RI3CX",iconFixedLeft:"_2iX8xFTL",iconFixedRight:"_2oJ51Vgu"};const l=e=>{let{className:t,contentClassName:n,tag:a="button",disabled:s,children:l,beforeIcon:u,afterIcon:d,fullWidth:p,outline:m,rounded:f,btnStyle:h,size:g,noborder:b,nopadding:v,socialStyle:y,isFetching:E,loaderColor:O,iconFixed:j,wrapContentStyle:w,..._}=e;const k=E?"transparent":m?h+"Outline":h,N="button"===a,C=e=>e?r.a.createElement("span",{className:o.icon},e):null,P=E||s,S={className:i()(o.root,t,b&&o.noborder,v&&o.nopadding,o[y],o[g],o[k],{[o.fullWidth]:p,[o.rounded]:f,[o.disabled]:!N&&(E||s),[o.iconFixedLeft]:"left"===j,[o.iconFixedRight]:"right"===j}),"data-element":"button",..._};N&&(S.disabled=P);const x=r.a.createElement(r.a.Fragment,null,C(u),r.a.createElement("span",{style:w},l),C(d));return r.a.createElement(a,S,r.a.createElement("span",{style:{opacity:E?0:1},className:i()(o.container,n)},x),E&&r.a.createElement(c.a,{color:O},x))};l.defaultProps={fullWidth:!1,btnStyle:"primary",outline:!1,rounded:!1,size:"standart",disabled:!1,wrapContentStyle:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"}};t.a=l},"yfn/":function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/ae_logo.svg"},yiSu:function(e,t,n){"use strict";var a=n("+rr2");n.d(t,"a",(function(){return a}))},zA3n:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/logo.svg"},zY6s:function(e,t,n){"use strict";n.r(t),t.default=n.p+"img/messengers/icon-viber.svg"},zbc8:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var a=n("Yr7G");const r={messenger:a.e,viber:a.n,telegram:a.m,vk:a.o,whatsapp:a.p,instagram:a.g,skype:a.j},s={whatsapp:{label:"WhatsApp",color:"#4FCE5D"},telegram:{label:"Telegram",color:"#0088CC"},viber:{label:"Viber",color:"#675CA8"},messenger:{label:"Facebook messenger",color:"#0084FF"},vk:{label:"Vkontakte",color:"#597BA0"},skype:{label:"Skype",color:"#00AFF0"},line:{label:"Line",color:"#00AFF0"},instagram:{label:"Instagram Direct",color:"#E1306C"}}},"zl5+":function(e,t,n){"use strict";var a=n("sosI"),r=n("RTFG");t.a=Object(r.a)((e,t)=>(e=e.includes("-")?e.split("-",2)[0]:e,Object(a.a)(e,t)),(e,t)=>`${e}${t}`)},zn5I:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("XLeO"),r=n("zl5+"),s=n("Pfhs");class i extends class{applicable(e,t){return!0}apply(e){return!1}}{applicable(e,t){return Object(s.a)(e,t)}apply(e){let{card:{links:t,reviews:n,design:a,products:s,profile:i,messengers:c},projectVersion:o="1.0.0"}=e,l=!1;if(Object(r.a)(o,">=2.11")){let e=0;for(const t of c)t.enabled&&(e>0&&(l=!0,t.enabled=!1),e++)}return i.website.enabled&&(i.website.enabled=!1,l=!0),a.branding||(a.branding=!0,l=!0),s.collectionsEnabled&&(s.collectionsEnabled=!1,l=!0),"color"!==a.background.type&&(a.background.type="color",l=!0),l}}const c=new class{get restrictors(){return this._restrictors||(this._restrictors=[new i]),this._restrictors}apply(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=e.billing||{};let r=!1;for(const e of this.restrictors)e.applicable(a,n)&&(r|=e.apply(t));return r}applyTo(e,t){return this.apply(e,e,t)}};var o=n("vtB/");const l=function(e,t){const n=Object(a.a)({products:{results:[]}},e),r={workspace:t,allowPastDue:!0};return c.applyTo({card:n,billing:t.billing,projectVersion:t.projectVersion}),Object(o.a)(r,"seo",e)&&(n.seo.title="",n.seo.description=""),Object.assign(n,{messengers:n.messengers.filter(e=>e.enabled),links:n.links.filter(e=>e.enabled),products:Object.assign({},n.products,{results:n.products.results.filter(e=>e.published)})})}},ztfp:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}));var a=n("r0ML"),r=n.n(a),s=n("Pc05"),i=n.n(s);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function o(e){let{as:t,className:n,startIcon:a,endIcon:s,children:o,styles:u,...d}=e;return r.a.createElement(t,c({className:i()(u.button,n)},l(t,d)),a&&r.a.createElement("span",{className:u.startIcon},a),o,s&&r.a.createElement("span",{className:u.endIcon},s))}function l(e,t){const{type:n,disabled:a,...r}=t,s={...r};return"button"===e?(s.type=n||"button",s.disabled=a):(s.role="button",s.tabIndex="0",a&&(s["aria-disabled"]=!0)),s}o.defaultProps={as:"button",styles:{}}}},[[1,3,4,5]]]);
//# sourceMappingURL=webapp.738910950dc771d3a734.js.map