(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+9LL":function(e,t,a){"use strict";var n=a("r0ML"),r=a.n(n),s=a("+Q0i"),c=a.n(s),i=a("cNRa"),l=a.n(i),o=a("Pc05"),u=a.n(o),d=a("8KO3"),m="h9s4vVcI",p=a("WYuZ");var g=function(){const[,e]=Object(n.useState)(0),t=p.b.getInstance();return Object(n.useEffect)(()=>{const a=()=>e(e=>e+1);return t.on("notify",a),t.on("remove",a),t.on("clear",a),()=>{t.off("notify",a),t.off("remove",a),t.off("clear",a)}},[]),t};function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const b={notificationComponent:l.a.elementType,className:l.a.string},f={notificationComponent:d.a};function v(e){let{className:t,notificationComponent:a}=e;const n=g(),s=r.a.createElement("div",{className:u()(m,t)},n.getNotifications().map(e=>r.a.createElement(a,h({key:e.id,onClose:()=>n.remove(e.id)},e.options),e.message)));return c.a.createPortal(s,document.body)}v.propTypes=b,v.defaultProps=f;var E=v,y="_12nUQSGH";t.a=function(){return r.a.createElement(E,{className:y})}},"+eE7":function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a("ID3L"),r=a.n(n);var s=a("KhfH"),c=a("6CMS"),i=a("zbc8"),l=a("DC3q"),o=a("Zsls"),u=a("YpKG");const d=[(e,t,a)=>{if(e instanceof Date||r.a.isMoment(e))return"remaining"===t?((e,t)=>r()(e).locale(t).fromNow())(e,a):((e,t,a)=>r()(e).locale(a).format(t))(e,t,a)},(e,t,a,n)=>{if("currency"===t)return"number"==typeof e?Object(s.a)(e,n.currency,a):Object(s.a)(e.amount,e.currency,a)},(e,t,a,n)=>{if("phone"===t)return Object(c.a)(e,a)},(e,t,a)=>{if("platform"===t)return Object(l.a)(i.a,e+".label",e.toUpperCase())},(e,t,a)=>{if("plan"===t)return o.a[e]?o.a[e].name:(e||"").toUpperCase()},(e,t,a)=>{if("filesize"===t)return Object(u.a)(+e)}],m=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:navigator.language,n=arguments.length>3?arguments[3]:void 0;for(const r of d){const s=r(e,t,a,n);if(void 0!==s)return s}return e}},"+rr2":function(e,t,a){"use strict";a.r(t),a.d(t,"setAudienceFilter",(function(){return N.b})),a.d(t,"clearAudienceStore",(function(){return N.a})),a.d(t,"setFeedbackItemsFilter",(function(){return C.a})),a.d(t,"setProductsFilter",(function(){return P})),a.d(t,"clearProductsStore",(function(){return S})),a.d(t,"setProductsSubFilter",(function(){return x})),a.d(t,"clearProductsSubStore",(function(){return T})),a.d(t,"selectBot",(function(){return I})),a.d(t,"openDialogBranch",(function(){return M})),a.d(t,"setDialogPath",(function(){return L})),a.d(t,"api",(function(){return A.a})),a.d(t,"ui",(function(){return n})),a.d(t,"checkout",(function(){return r}));var n={};a.r(n),a.d(n,"toggleMobileMenu",(function(){return c})),a.d(n,"toggleStylingMode",(function(){return i})),a.d(n,"toggleMobileContainer",(function(){return l})),a.d(n,"setMessage",(function(){return o})),a.d(n,"setConversationsFilter",(function(){return u})),a.d(n,"setPagePreview",(function(){return d})),a.d(n,"setPageBlockPreview",(function(){return m})),a.d(n,"setBackTrack",(function(){return p})),a.d(n,"setAppTrackingStatus",(function(){return g}));var r={};a.r(r),a.d(r,"completePayment",(function(){return h})),a.d(r,"applyCoupon",(function(){return b})),a.d(r,"removeCoupon",(function(){return f})),a.d(r,"complete",(function(){return v})),a.d(r,"changeCountry",(function(){return E})),a.d(r,"applyPlan",(function(){return y})),a.d(r,"load",(function(){return O})),a.d(r,"selectPaymentMethod",(function(){return j})),a.d(r,"error",(function(){return w})),a.d(r,"reset",(function(){return _})),a.d(r,"close",(function(){return k}));var s=a("yPYI");const c=Object(s.a)("TOGGLE_MOBILE_MENU"),i=Object(s.a)("TOGGLE_STYLING_MODE"),l=Object(s.a)("TOGGLE_MOBILE_CONTAINER"),o=Object(s.a)("SET_MESSAGE"),u=Object(s.a)("SET_CONVERSATIONS_FILTER"),d=Object(s.a)("SET_PAGE_PREVIEW"),m=Object(s.a)("SET_PAGE_BLOCK_PREVIEW"),p=Object(s.a)("SET_BACK_TRACK"),g=Object(s.a)("SET_APP_TRACKING_STATUS"),h=Object(s.a)("CHECKOUT/COMPLETE_PAYMENT"),b=Object(s.a)("CHECKOUT/APPLY_COUPON"),f=Object(s.a)("CHECKOUT/REMOVE_COUPON"),v=Object(s.a)("CHECKOUT/COMPLETE_CHECKOUT"),E=Object(s.a)("CHECKOUT/CHANGE_COUNTRY"),y=Object(s.a)("CHECKOUT/APPLY_PLAN"),O=Object(s.a)("CHECKOUT/LOAD"),j=Object(s.a)("CHECKOUT/SELECT_PAYMENT_METHOD"),w=Object(s.a)("CHECKOUT/ERROR"),_=Object(s.a)("CHECKOUT/RESET"),k=Object(s.a)("CHECKOUT/CLOSE");var N=a("8hF1"),C=a("79Hl");const P=e=>({type:"SET_PRODUCTS_FILTER",payload:e}),S=()=>({type:"CLEAR_PRODUCTS_STORE"}),x=e=>({type:"SET_PRODUCTS_SUB_FILTER",payload:e}),T=()=>({type:"CLEAR_PRODUCTS_SUB_STORE"}),I=(e,t)=>({type:"SELECT_BOT",botId:e,bot:t}),M=e=>{let{parentResponseID:t,nextResponseID:a,content:n}=e;return{type:"OPEN_DIALOG_BRANCH",parentResponseID:t,nextResponseID:a,content:n}},L=e=>({type:"SET_DIALOG_PATH",path:e});var A=a("MP+E")},"/GFi":function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/vk.svg"},"/jrZ":function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/iconWhatsapp.svg"},0:function(e,t){},"07c+":function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a("r0ML"),r=a.n(n),s=a("ZAuZ"),c=a("Gkiy"),i=a("6NVd"),l=a("MY/q"),o="_3JlfBHF5";function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const d={paddingLeft:10,color:"#333",marginBottom:4};function m(e){let{component:t=s.a,id:a,label:n,required:m,labelClassName:p,inputClassName:g,errorStyle:h,shakeError:b,errors:f,wrapAs:v,children:E,...y}=e;return r.a.createElement(c.a,{as:v},n&&r.a.createElement("div",{className:o},r.a.createElement(i.a,{style:y.builderInput?d:null,htmlFor:a,hasError:!!f,className:p},n," ",m&&r.a.createElement("span",null,"*"))),r.a.createElement(t,u({id:a,className:g,hasError:!!f},y)),E,f&&r.a.createElement(l.a,{error:f,errorStyle:h,shake:b}))}},"0MO7":function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/icon_share_one.png"},"0WXt":function(e,t,a){"use strict";var n=a("r0ML"),r=a.n(n),s=a("Pc05"),c=a.n(s),i={wrapper:"_11fX_eXS",root:"_1DOGLKoC",builderInput:"_16xArOy0",error:"_2bRd8mVk",normal:"_24IoT-_t",small:"RqyvhRYB",placeholder:"_3e-pxhXl",disabled:"_1fGrxhiW",arrowIcon:"_1rcUa1JO"};function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var o=n.createElement("defs",null,n.createElement("path",{d:"M396.991 2042.5l-3.308 3.025a.537.537 0 000 .808c.244.223.64.223.884 0l3.75-3.429a.537.537 0 000-.808l-3.75-3.429a.667.667 0 00-.884 0 .537.537 0 000 .808l3.308 3.025z",id:"select_arrow_svg__a"})),u=n.createElement("use",{fill:"currentColor",fillRule:"nonzero",transform:"matrix(0 1 1 0 -2038.5 -393.5)",xlinkHref:"#select_arrow_svg__a"});var d=function(e){return n.createElement("svg",l({width:8,height:5},e),o,u)};function m(){return(m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const p=e=>{var t;let{className:a,multiple:n,placeholder:s,options:l,hasError:o,size:u,value:p,builderInput:g,disabled:h,...b}=e;return r.a.createElement("div",{className:i.wrapper},r.a.createElement("select",m({className:c()(a,i.root,{[i.error]:o,[i[u]]:!!i[u],[i.placeholder]:s&&!p,[i.disabled]:h,[i.builderInput]:g}),multiple:n,value:p,disabled:h,"data-value":p},b),s&&r.a.createElement("option",{value:""},s),l.map(e=>r.a.createElement("option",{key:e.value,value:e.value,disabled:e.disabled},e.label))),r.a.createElement(d,{color:null===(t=b.style)||void 0===t?void 0:t.color,className:i.arrowIcon}))};p.defaultProps={builderInput:!1,hasError:!1,multiple:!1};t.a=p},"17jI":function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/logo_bot.svg"},"1isK":function(e,t,a){"use strict";var n=a("Pc05"),r=a.n(n),s=a("r0ML"),c=a.n(s),i={root:"_3Pb-B5RH",spinner:"_2S9bt9mk",rotate:"_11rFdkOa",black:"_2du6YMP-",gray:"_20M_pSzf",white:"_3-o3pxPo"};function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const o=["%","px","pt","em"];function u(e){let{className:t,borderWidth:a,size:n,duration:o,color:u,style:m,...p}=e;const g=Object(s.useMemo)(()=>{const e=d(n);return{width:e,height:e,borderWidth:d(a||Math.round(.05*+e)),animationDuration:o+"s",WebkitAnimationDuration:o+"s",MozAnimationDuration:o+"s"}},[n,o,a]);return c.a.createElement("div",{className:r()(i.root,t),style:m},c.a.createElement("div",l({className:r()(i.spinner,i[u]),style:g},p)))}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px";if(!e)return;const a=String(e),n=o.find(e=>a.indexOf(e)>0);return n?e:`${e}${t}`}u.defaultProps={size:40,duration:.8,color:"black"};t.a=u},"1jyU":function(e,t,a){"use strict";t.a=function(e){const t=(e||"").toLowerCase(),a=t.includes("android"),n=t.includes("blackberry"),r=/iphone|ipad|ipod/i.test(t),s=t.includes("opera mini"),c=t.includes("iemobile");return{Android:a,BlackBerry:n,iOS:r,OperaMini:s,IEMobile:c,Safari:t.includes("safari"),WebView:t.includes("wv"),isMobile:a||n||r||s||c}}},2:function(e,t,a){a("NFaR"),a("MMkd"),a("FMw2"),a("N0ZT"),a("5j0x"),a("AoD7"),a("qZdN"),a("nf70"),e.exports=a("U2GZ")},"2xW5":function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/aboutProPhone.png"},"3ai1":function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/powered_by_stripe_ol.svg"},"3gnH":function(e,t,a){"use strict";a.d(t,"b",(function(){return n.a})),a.d(t,"a",(function(){return n.b})),a.d(t,"d",(function(){return r.useTranslation})),a.d(t,"c",(function(){return c}));var n=a("Po5v"),r=a("kkZN"),s=a("r0ML");function c(e,t){return Object(s.useState)(()=>n.a.registerResolver(e,t)),Object(r.useTranslation)(e)}a("+eE7")},"4iID":function(e,t,a){"use strict";var n=a("r0ML");function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var s=n.createElement("circle",{cx:1,cy:1,r:1,fill:"currentColor"}),c=n.createElement("circle",{cx:5,cy:1,r:1,fill:"currentColor"}),i=n.createElement("circle",{cx:1,cy:6,r:1,fill:"currentColor"}),l=n.createElement("circle",{cx:5,cy:6,r:1,fill:"currentColor"}),o=n.createElement("circle",{cx:1,cy:11,r:1,fill:"currentColor"}),u=n.createElement("circle",{cx:5,cy:11,r:1,fill:"currentColor"});t.a=function(e){return n.createElement("svg",r({viewBox:"0 0 6 12",fill:"none"},e),s,c,i,l,o,u)}},"5Ay2":function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/facebook.png"},"5WF1":function(e,t,a){var n={"./Avatar.svg":"8Fnn","./aboutProBg.jpg":"Mh6W","./aboutProLogo.svg":"Fgr5","./aboutProPhone.png":"2xW5","./ae_logo.png":"W5Fm","./ae_logo.svg":"yfn/","./blank.png":"Ng9b","./card/logo.svg":"DSsC","./choose.svg":"KDbz","./do.png":"y/NB","./facebook.png":"5Ay2","./facebook2.svg":"TM/7","./hand.png":"o9yr","./ic_check_circle_black_24px.svg":"fc//","./icon-go-back.svg":"eI6h","./iconWhatsapp.svg":"/jrZ","./icon_arrow_grey.svg":"9hqQ","./icon_share_one.png":"0MO7","./icon_share_three.png":"t27/","./icon_share_two.png":"IfAq","./icon_we_use_mssgme_en.svg":"DkyN","./icon_we_use_mssgme_ru.svg":"uzfa","./insta.svg":"o5DE","./insta_share.png":"kpO9","./logo.svg":"zA3n","./logo_bot.svg":"17jI","./man.png":"WMO/","./mc_logo.png":"qEs3","./messengers/icon-facebook-login.svg":"7Sa5","./messengers/icon-facebook.svg":"rIrL","./messengers/icon-line.svg":"FzdF","./messengers/icon-skype.svg":"xk1Y","./messengers/icon-telegram.svg":"sJC1","./messengers/icon-viber.svg":"zY6s","./messengers/icon-vk.svg":"y0Q8","./messengers/icon-whatsapp.svg":"rdQp","./onboarding/analytics.svg":"KZ4r","./onboarding/analytics_integrations.svg":"pmn+","./onboarding/categories.svg":"lhwe","./onboarding/cover.svg":"tbzE","./onboarding/domain.svg":"RspG","./onboarding/googlepay.png":"td/u","./onboarding/link.svg":"X7QK","./onboarding/messengers.svg":"qFRm","./onboarding/no_branding.svg":"C4Pa","./onboarding/pixel.svg":"hJsr","./onboarding/support.svg":"trqa","./power.png":"gHcT","./powered_by_stripe_ol.svg":"3ai1","./robot.png":"v4jp","./stripe.png":"Qlef","./telegram.png":"sav8","./telegram2.svg":"BHCP","./viber.svg":"QJGC","./viber2.svg":"lsIJ","./visa_light.svg":"RbiZ","./visa_logo.png":"H8+p","./vk.svg":"/GFi","./whatsapp.svg":"e66u","./woman.png":"tSrR"};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id="5WF1"},"5hFp":function(e,t,a){"use strict";var n=a("8qbc");class r extends n.a{list(e,t){return this.get([`/workspaces/${e}/products`,t])}load(e,t){return this.get([`/workspaces/${e}/products/${t}`])}loadBySlug(e,t,a){return this.get([`/workspaces/${e}/products/${a}/${t}`])}}t.a=new r},"6BW+":function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return i}));var n=a("t1lN"),r=a("QSHt");const s=e=>e.currentUser.user,c=e=>e.currentUser.markers,i=Object(n.a)(s,r.b,(e,t)=>{var a;return null===(a=e.workspaces.find(e=>e.workspace===t._id))||void 0===a?void 0:a.role})},"6CMS":function(e,t,a){"use strict";t.a=(e,t)=>{const a=(e||"").replace(/\D/g,"").match(/^(?:(\d*?)(\d{1,3}))?(\d{3})(\d{2})(\d{2})$/);if(a){const[,e,t,...n]=a;let r=n.join(e?" ":"-");return t&&(r=(e?t:`(${t})`)+" "+r),e&&(r=`+${e} `+r),r}return e||""}},"6NVd":function(e,t,a){"use strict";var n=a("r0ML"),r=a.n(n),s=a("Pc05"),c=a.n(s),i="_3bntFHH4";function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const o=e=>{let{className:t,hasError:a,children:n,...s}=e;return r.a.createElement("label",l({className:c()(i,t)},s),n)};o.defaultProps={hasError:!1};t.a=o},"6TEX":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("r0ML");function r(e){const t=Object(n.useRef)(e);return t.current=e,Object(n.useCallback)((function(){return t.current(...arguments)}),[])}},"6dgs":function(e,t,a){"use strict";a.d(t,"i",(function(){return y})),a.d(t,"h",(function(){return N})),a.d(t,"n",(function(){return Z})),a.d(t,"l",(function(){return ae})),a.d(t,"k",(function(){return re})),a.d(t,"j",(function(){return le})),a.d(t,"c",(function(){return pe})),a.d(t,"f",(function(){return _e})),a.d(t,"o",(function(){return ot})),a.d(t,"p",(function(){return ut})),a.d(t,"a",(function(){return mt})),a.d(t,"g",(function(){return ft})),a.d(t,"e",(function(){return jt})),a.d(t,"d",(function(){return Tt})),a.d(t,"b",(function(){return Vt})),a.d(t,"m",(function(){return Jt}));var n={};a.r(n),a.d(n,"shortenThan",(function(){return x})),a.d(n,"longerThan",(function(){return T})),a.d(n,"repetitive",(function(){return I})),a.d(n,"noLowercase",(function(){return M})),a.d(n,"noUppercase",(function(){return L})),a.d(n,"noNumbers",(function(){return A})),a.d(n,"noSymbols",(function(){return R})),a.d(n,"lazyPassword",(function(){return F})),a.d(n,"PasswordValidator",(function(){return D})),a.d(n,"passwordValidator",(function(){return B}));var r=a("r0ML"),s=a.n(r),c=a("Pc05"),i=a.n(c),l=(a("wxgb"),a("63aL")),o=a("kkZN"),u=a("1isK"),d={root:"_1IRW7PNg",spinner:"wFhA8qbn",rounded:"_2ZAkVmfU",emptyTip:"_26Je8_j2",noUrl:"_29HnrfZt"};function m(e){let{className:t,url:a,width:n,height:r,roundness:c,hasTip:m,isUploading:p}=e;const{t:g}=Object(o.useTranslation)(),h={width:n+"px",height:r+"px"};return a&&(h.backgroundImage=`url("${a}")`),s.a.createElement("div",{className:i()(t,[d.root],d[c],p&&d.uploading),style:h},!a&&m&&s.a.createElement("div",{className:d.emptyTip},s.a.createElement(l.d,{size:"24"}),s.a.createElement("span",null,g("imagePreview.placeholder"))),p&&s.a.createElement("div",{className:d.spinner},s.a.createElement(u.a,null)))}m.defaultProps={width:40,height:40,roundness:"circle"};var p="_1yCqpQbN",g="_3Mc4O1Cf",h="_30a8qjRo",b="_32IB7zUI",f="_15HvNXWX",v="_1TIUub5Y";function E(e){let{className:t,accept:a,name:n,onChange:r,buttonLabel:c,previewUrl:i,isUploading:l,onApplyClick:d,active:m}=e;const{t:E}=Object(o.useTranslation)("ui");return s.a.createElement("div",{className:t},s.a.createElement("div",{className:p},s.a.createElement("div",{className:g},i&&s.a.createElement("img",{src:i,alt:"Cover"}),!i&&s.a.createElement("span",{className:v},E("ImageUploadCover.empty")),s.a.createElement("div",{className:h},s.a.createElement("div",{className:b,style:{marginRight:"auto"}},l&&s.a.createElement(u.a,{size:16,color:"black"}),!l&&s.a.createElement(s.a.Fragment,null,c,s.a.createElement("input",{type:"file",className:f,accept:a,name:n,onChange:r}))),!m&&!!i&&s.a.createElement("div",{className:b,onClick:d},E("ImageUploadCover.enable"))))))}E.defaultProps={className:"",buttonLabel:"Upload",previewUrl:null};var y=E,O="_1XH8c6Lf",j="_3J0pfKab",w="uUp29eyC",_="_36Zl3dVC";function k(e){let{className:t,accept:a,name:n,onChange:r,buttonLabel:c,previewUrl:i,isUploading:l}=e;return s.a.createElement("div",{className:t},s.a.createElement("div",{className:O},s.a.createElement("div",{className:j},s.a.createElement("img",{src:i,alt:"Avatar"})),s.a.createElement("div",{className:w},l&&s.a.createElement(u.a,{size:16,color:"black"}),!l&&s.a.createElement(s.a.Fragment,null,c,s.a.createElement("input",{type:"file",className:_,accept:a,name:n,onChange:r})))))}k.defaultProps={className:"",buttonLabel:"Upload"};var N=k;a("v2fZ");function C(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const P=e=>e.reduce((e,t)=>e+(t.weight||0),0),S=/^([A-Z]+)?([a-z]*)(\d*)([^\w\d]*)$/,x=(e,t)=>e.length<t.minLength&&{error:"too-short",message:"The password should not be shorter than {{length}} characters.",length:t.minLength},T=(e,t)=>e.length>t.maxLength&&{error:"too-long",message:"The password should not be longer than {{length}} characters.",length:t.maxLength},I=(e,t)=>e.match(/(.)\1{2,}/)&&{error:"too-repetitive",message:"The password should not contain sequences of same characters."},M=(e,t)=>!e.match(/[a-z]/)&&{error:"no-lowercase",message:"The password should contain at least one lowercase character."},L=(e,t)=>!e.match(/[A-Z]/)&&{error:"no-uppercase",message:"The password should contain at least one uppercase character."},A=(e,t)=>!e.match(/\d/)&&{error:"no-numbers",message:"The password should contain any number."},R=(e,t)=>!e.match(/[A-Za-z\d]/)&&{error:"no-symbols",message:"The password should contain at least one special character."},F=(e,t)=>{if(!(e.length&&e.length<t.arguablySafeLength))return;const a=["","uppercase","lowercase","numbers","symbols"],n=e.match(S);if(!n)return;return{error:"too-easy",message:'The password should not conform to easily guessable pattern "{{pattern}}", or it should be long enough ({{length}}+ symbols).',pattern:a.map((e,t)=>e&&n[t]).map((e,t)=>e&&a[t]).filter(Boolean).join("+"),length:t.arguablySafeLength}};class D{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};C(this,"required",[]),C(this,"optional",[]),Object.assign(this,e)}validate(e){const t=[];for(const[a,n]of[this.required,this.optional].entries())for(const{fn:r,...s}of n){const n=r(e,this);n&&t.push(Object.assign(n,{required:!a,...s}))}return t}estimate(e){const t=P([...this.required,...this.optional]);return{total:t,weight:e.find(e=>e.required)?0:t-P(e)}}}const B=e=>new D({minLength:10,maxLength:100,arguablySafeLength:20,required:[{weight:50,fn:x},{weight:0,fn:T}],optional:[{weight:25,fn:F},{weight:5,fn:I},{weight:5,fn:M},{weight:5,fn:L},{weight:5,fn:A},{weight:5,fn:R}],...e}),U={...n};var z=a("07c+"),q=a("MY/q"),V={strengthMeter:"_2bKzr0pF",withLabel:"CUFETq6D","strength-0":"_1cEpIdUZ",strength0:"_1cEpIdUZ","strength-1":"_3bcRcfx3",strength1:"_3bcRcfx3","strength-2":"R0pQddQX",strength2:"R0pQddQX"};function W(){return(W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const H=U.passwordValidator({minLength:6,maxLength:40,arguablySafeLength:20,required:[{weight:50,fn:U.shortenThan,message:"password_length"},{weight:0,fn:U.longerThan,message:"password_length"}],optional:[{weight:50,fn:U.lazyPassword,message:"password_complexity"}]});class Z extends s.a.Component{static getDerivedStateFromProps(e,t){return e.value!==t.initialPassword?{initialPassword:e.value,password:e.value||""}:null}constructor(e){super(e),this.state={initialPassword:e.value,password:e.value||"",strength:0,errors:null,warnings:[]},this.handleChange=this.handleChange.bind(this)}componentDidUpdate(e,t){const a=this.state.password;if(a!==t.password){const{error:e,lazy:t}=this.props,n=t&&!a,r=n?[]:H.validate(a),{total:s,weight:c}=H.estimate(r),i=c<=0||n?0:c>=s?2:1,l=r.filter(e=>e.required),o=r.filter(e=>!e.required);this.setState(()=>({errors:(l.length||e)&&[e,...l].filter(Boolean),warnings:o,strength:i}))}}handleChange(e){this.setState({password:e.target.value}),this.props.onChange&&this.props.onChange(e)}render(){const{className:e,withLabel:t,error:a,lazy:n,...r}=this.props,{password:c,strength:l,errors:u,warnings:d}=this.state;return s.a.createElement(o.Translation,null,a=>s.a.createElement(z.a,W({},r,{value:c,errors:u&&u.map(e=>"string"==typeof e?e:a("errorsList."+e.message,e)),type:"password",className:i()(V.root,e,V["strength-"+l]),onChange:this.handleChange}),s.a.createElement("div",{className:i()(V.strengthMeter,V["strength-"+l],{[V.withLabel]:t})},t&&a("passwordStrength."+l)),d.length?s.a.createElement(q.a,{error:d.map(e=>a("errorsList."+e.message,e)),critical:!1}):null))}}const K=s.a.createContext(null);function G(){return Object(r.useContext)(K)}function J(){return(J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Q(e){let{tag:t="button",onAccept:a,onDismiss:n,children:r,...c}=e;const i=G();if(!i)return null;return s.a.createElement(t,J({onClick:async function(e){e.preventDefault(),i.prompt(),"accepted"!==(await i.userChoice).outcome?a&&a():n&&n()}},c),r)}var Y=a("F80f"),X=a("yW3b");function $(){return($=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ee(e){let{onInstall:t,...a}=e;const{t:n}=Object(o.useTranslation)();return s.a.createElement(Y.a,$({title:n("InstallDialog.heading",{name:"mssg.me"}),modal:{size:"small"}},a),s.a.createElement("p",null,n("InstallDialog.content",{name:"mssg.me"})),s.a.createElement("p",null,s.a.createElement(X.a,{fullWidth:!0,onClick:t},n("InstallDialog.install"))))}function te(){return(te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ae(e){const[t,a]=Object(r.useState)(null);return Object(r.useEffect)(()=>{function e(e){e.preventDefault&&e.preventDefault(),a(e)}return window.addEventListener("beforeinstallprompt",e),()=>window.removeEventListener("beforeinstallprompt",e)}),s.a.createElement(K.Provider,te({value:t},e))}function ne(){return(ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function re(e){return s.a.createElement(Q,ne({tag:"a",href:"#"},e))}var se=a("YFEe"),ce=a("4wcP");function ie(){const e=G(),t=Object(se.a)("(display-mode: standalone)"),[a,n]=Object(ce.a)("install_dismiss_at",0),[s,c]=Object(r.useState)(a+12096e5<Date.now());function i(){c(!1),n(Date.now())}return{isOpen:!t&&e&&s,dismiss:i,install:async function(t){t.preventDefault(),e.prompt(),"accepted"===(await e.userChoice).outcome?c(!1):i()}}}function le(){const{isOpen:e,install:t,dismiss:a}=ie();return s.a.createElement(ee,{isOpen:e,onClose:a,onInstall:t})}var oe=a("g0xT"),ue=a("p4j6");function de(){return(de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function me(e){const{t:t}=Object(o.useTranslation)();return s.a.createElement(Y.a,de({},e,{title:t("UpdateDialog.heading"),modal:{size:"small"}}),s.a.createElement("p",null,t("UpdateDialog.content")),s.a.createElement("p",null,s.a.createElement(X.a,{fullWidth:!0,onClick:async function(e){e.preventDefault(),window.location.reload()}},t("UpdateDialog.update"))))}function pe(){const e=Object(ue.a)(),t=Object(oe.d)(e=>e.ui.isClientExpired);return Object(r.useEffect)(()=>{t&&async function(){if("caches"in window){const e=await caches.keys();await Promise.all(e.map(e=>caches.delete(e)))}if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistration();if(!e)return;await e.update()}}().then(()=>{e.show()})},[t]),s.a.createElement(me,e.props)}a("v4jp");a("Usj1"),a("TN6c");var ge=a("QD+E"),he="_1xGBoevf",be="_39oq4P6F",fe="_1k34zDiH";function ve(){return(ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Ee=r.createElement("g",{clipPath:"url(#logo_text_white_svg__clip0)",fill:"#F2F5FA"},r.createElement("path",{d:"M5.112 4.55c0-.72.573-1.305 1.278-1.305.706 0 1.279.584 1.279 1.306v12.186c0 .721-.573 1.306-1.279 1.306-.705 0-1.278-.585-1.278-1.306V4.551zm10.225 1.741c0-.72.572-1.305 1.278-1.305.706 0 1.278.584 1.278 1.305v12.187c0 .721-.572 1.306-1.278 1.306-.706 0-1.278-.585-1.278-1.306V6.291zM10.225 2.81c0-.722.572-1.306 1.278-1.306.706 0 1.278.584 1.278 1.306v12.186c0 .721-.572 1.306-1.278 1.306-.706 0-1.278-.585-1.278-1.306V2.81zM23.73 19.913c.635-.313 1.4-.04 1.705.61.307.65.04 1.43-.597 1.743L14.05 27.573C9.174 29.97 3.318 27.877.97 22.896A10.19 10.19 0 010 18.553v-9.65c0-.721.572-1.306 1.278-1.306.706 0 1.278.585 1.278 1.306v9.65c0 1.112.245 2.209.717 3.21 1.735 3.682 6.064 5.23 9.668 3.457l10.789-5.307z"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47.922 9.772c1.106 0 1.87.344 2.295 1.03.425.686.637 1.636.637 2.849v4.355c0 .295-.095.541-.285.74a.954.954 0 01-.72.297c-.29 0-.53-.099-.72-.297a1.028 1.028 0 01-.286-.74V13.65c0-.624-.12-1.114-.36-1.471-.24-.358-.661-.536-1.264-.536-.626 0-1.114.19-1.466.57-.352.38-.528.858-.528 1.437v4.355c0 .295-.095.541-.285.74a.954.954 0 01-.72.297c-.29 0-.53-.099-.72-.297a1.028 1.028 0 01-.285-.74V13.65c0-.624-.12-1.114-.36-1.471-.24-.358-.662-.536-1.265-.536-.626 0-1.114.19-1.466.57-.352.38-.528.858-.528 1.437v4.355c0 .295-.095.541-.285.74a.954.954 0 01-.72.297c-.29 0-.53-.099-.72-.297a1.029 1.029 0 01-.285-.74V10.98c0-.295.095-.541.285-.74a.954.954 0 01.72-.297c.29 0 .53.099.72.297.19.199.285.445.285.74v.272a4.114 4.114 0 011.148-1.046c.463-.289.98-.434 1.55-.434 1.407 0 2.306.624 2.696 1.872.257-.477.645-.908 1.165-1.293a2.889 2.889 0 011.767-.579zm4.8 7.86a.836.836 0 01-.151-.51c0-.296.145-.545.435-.75a.877.877 0 01.486-.152c.235 0 .458.107.67.323.335.351.684.612 1.047.782.363.17.801.256 1.315.256.871-.035 1.307-.37 1.307-1.004 0-.33-.148-.579-.444-.749-.296-.17-.757-.34-1.382-.51a11.867 11.867 0 01-1.583-.544 2.808 2.808 0 01-1.055-.825c-.296-.369-.444-.865-.444-1.489 0-.544.153-1.018.46-1.42.307-.403.71-.715 1.206-.936a3.852 3.852 0 011.584-.332 4.8 4.8 0 011.708.324c.57.215 1.017.533 1.34.952a.955.955 0 01.218.613c0 .26-.106.476-.318.646a.836.836 0 01-.536.187.81.81 0 01-.603-.238 2.131 2.131 0 00-.78-.595 2.543 2.543 0 00-1.08-.221c-.849 0-1.273.311-1.273.935 0 .25.078.45.235.604.156.153.354.272.594.357.24.085.578.19 1.014.315.603.17 1.105.346 1.508.527.402.182.742.46 1.021.834.28.374.42.867.42 1.48 0 .555-.163 1.04-.487 1.454a3.08 3.08 0 01-1.248.944 3.975 3.975 0 01-1.566.323 5.597 5.597 0 01-2.06-.374 3.43 3.43 0 01-1.559-1.207zm8.283 0a.836.836 0 01-.15-.51c0-.296.145-.545.435-.75a.877.877 0 01.486-.152c.235 0 .458.107.67.323.335.351.684.612 1.047.782.363.17.801.256 1.315.256.871-.035 1.307-.37 1.307-1.004 0-.33-.148-.579-.444-.749-.296-.17-.757-.34-1.382-.51a11.874 11.874 0 01-1.583-.544 2.808 2.808 0 01-1.056-.825c-.295-.369-.444-.865-.444-1.489 0-.544.154-1.018.461-1.42.307-.403.71-.715 1.206-.936a3.852 3.852 0 011.584-.332c.569 0 1.139.108 1.708.324.57.215 1.016.533 1.34.952a.955.955 0 01.218.613c0 .26-.106.476-.318.646a.836.836 0 01-.536.187.81.81 0 01-.603-.238 2.132 2.132 0 00-.78-.595 2.542 2.542 0 00-1.08-.221c-.849 0-1.273.311-1.273.935 0 .25.078.45.235.604.156.153.354.272.594.357.24.085.578.19 1.014.315.603.17 1.106.346 1.508.527.401.182.742.46 1.021.834.28.374.42.867.42 1.48 0 .555-.163 1.04-.487 1.454a3.08 3.08 0 01-1.248.944 3.975 3.975 0 01-1.566.323 5.596 5.596 0 01-2.06-.374 3.43 3.43 0 01-1.559-1.207zm16.225-7.86c.29 0 .53.097.72.29.19.192.285.442.285.748v7.57c0 1.384-.421 2.407-1.265 3.07-.843.664-1.912.996-3.208.996-.335 0-.795-.057-1.382-.17-.586-.114-1.002-.227-1.248-.34-.547-.239-.82-.568-.82-.987 0-.08.016-.17.05-.273.067-.25.181-.439.343-.57a.824.824 0 01.528-.195c.111 0 .218.017.318.051.045.011.321.116.83.315.507.198.968.297 1.381.297.827 0 1.444-.167 1.852-.502.407-.334.61-.807.61-1.42v-.816c-.245.351-.616.669-1.113.952a3.177 3.177 0 01-1.6.425 3.94 3.94 0 01-2.136-.603 4.207 4.207 0 01-1.516-1.676c-.368-.714-.553-1.525-.553-2.433 0-.907.182-1.72.545-2.44.363-.72.86-1.282 1.49-1.685a3.828 3.828 0 012.103-.604c.57 0 1.1.12 1.591.358.492.238.888.527 1.19.867v-.187c0-.295.095-.541.285-.74a.955.955 0 01.72-.298zm-3.468 7.57c.749 0 1.36-.269 1.835-.808.474-.538.712-1.216.712-2.032 0-.817-.238-1.498-.712-2.042-.475-.544-1.086-.816-1.835-.816-.748 0-1.357.272-1.826.816-.469.544-.703 1.225-.703 2.041 0 .817.234 1.495.703 2.033.47.539 1.078.808 1.826.808zm7.748 1.684c-.324 0-.572-.087-.745-.263-.173-.176-.26-.428-.26-.757v-.29c0-.328.087-.58.26-.757.173-.175.421-.263.745-.263h.218c.324 0 .572.088.746.263.173.176.26.429.26.758v.289c0 .329-.087.581-.26.757-.174.175-.422.263-.746.263h-.218zm13.83-9.254c1.105 0 1.87.344 2.294 1.03.425.686.637 1.636.637 2.849v4.355c0 .295-.095.541-.285.74a.954.954 0 01-.72.297c-.29 0-.53-.099-.72-.297a1.028 1.028 0 01-.286-.74V13.65c0-.624-.12-1.114-.36-1.471-.24-.358-.661-.536-1.265-.536-.625 0-1.113.19-1.465.57-.352.38-.528.858-.528 1.437v4.355c0 .295-.095.541-.285.74a.954.954 0 01-.72.297c-.29 0-.53-.099-.72-.297a1.029 1.029 0 01-.285-.74V13.65c0-.624-.12-1.114-.36-1.471-.24-.358-.662-.536-1.265-.536-.626 0-1.114.19-1.466.57-.352.38-.528.858-.528 1.437v4.355c0 .295-.095.541-.285.74a.954.954 0 01-.72.297c-.29 0-.53-.099-.72-.297a1.029 1.029 0 01-.285-.74V10.98c0-.295.095-.541.285-.74a.954.954 0 01.72-.297c.29 0 .53.099.72.297.19.199.285.445.285.74v.272a4.115 4.115 0 011.148-1.046c.463-.289.98-.434 1.55-.434 1.407 0 2.306.624 2.697 1.872.256-.477.644-.908 1.164-1.293a2.889 2.889 0 011.767-.579zm13.359 4.508a.877.877 0 01-.318.664c-.201.17-.436.255-.704.255h-5.528c.134.669.441 1.193.921 1.573.481.38 1.022.57 1.625.57.458 0 .816-.042 1.072-.127.257-.085.461-.176.612-.272.151-.097.254-.162.31-.196.201-.102.391-.153.569-.153.235 0 .436.085.603.255a.82.82 0 01.252.595c0 .307-.157.584-.469.834-.313.26-.732.482-1.257.663a4.838 4.838 0 01-1.591.273c-.938 0-1.756-.199-2.454-.596a4.128 4.128 0 01-1.617-1.641c-.38-.698-.57-1.483-.57-2.356 0-.976.201-1.832.603-2.57.403-.736.933-1.3 1.592-1.692a4.065 4.065 0 012.111-.587c.737 0 1.432.205 2.085.613a4.545 4.545 0 011.567 1.65c.391.692.586 1.44.586 2.245zm-4.238-2.636c-1.296 0-2.061.618-2.295 1.854h4.389v-.12c-.045-.476-.274-.884-.687-1.224a2.153 2.153 0 00-1.407-.51z"})),ye=r.createElement("defs",null,r.createElement("clipPath",{id:"logo_text_white_svg__clip0"},r.createElement("path",{fill:"#fff",d:"M0 0h108.75v30H0z"})));var Oe=function(e){return r.createElement("svg",ve({width:109,height:30,fill:"none"},e),Ee,ye)},je=a("cGUp"),we=a.n(je);var _e=e=>{let{button:t}=e;return s.a.createElement("div",{className:he},s.a.createElement("a",{href:we.a.main_url,className:be},s.a.createElement(Oe,null)),t&&s.a.createElement(ge.c,{to:t.to,className:fe},t.text))};a("4ZHd");var ke=a("lkLo"),Ne=a("9Mw8"),Ce=a("goqe"),Pe=a("tdNs"),Se=a("Rkv1"),xe=a("BFji"),Te=a("7+Q5");function Ie(){return(Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Me(e,t){return r.createElement(Te.b,Ie({viewBox:"0 0 20 20",fill:"currentColor",ref:t},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.561 0H5.44A5.439 5.439 0 000 5.439V18.42C0 19.293.707 20 1.579 20H14.56A5.439 5.439 0 0020 14.561V5.44A5.439 5.439 0 0014.561 0zm0 17.544H2.456V5.439A2.982 2.982 0 015.44 2.456h9.122a2.982 2.982 0 012.983 2.983v9.122a2.982 2.982 0 01-2.983 2.983z"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.86 11.228a1.228 1.228 0 100-2.456 1.228 1.228 0 000 2.456zM10 11.228a1.228 1.228 0 100-2.456 1.228 1.228 0 000 2.456zM6.14 11.228a1.228 1.228 0 100-2.456 1.228 1.228 0 000 2.456z"}))}var Le=r.forwardRef(Me),Ae=a("N6lx");function Re(){return(Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Fe=r.createElement("g",{fillRule:"nonzero",fill:"currentColor"},r.createElement("path",{d:"M6.08 3.625v12.688c0 .75.629 1.359 1.404 1.359.775 0 1.403-.609 1.403-1.36V3.626c0-.75-.628-1.36-1.403-1.36s-1.403.61-1.403 1.36zM17.306 5.438v12.687c0 .75.629 1.36 1.404 1.36.775 0 1.403-.61 1.403-1.36V5.437c0-.75-.628-1.359-1.403-1.359s-1.404.609-1.404 1.36zM11.694 1.813V14.5c0 .75.628 1.36 1.403 1.36s1.403-.61 1.403-1.36V1.812c0-.75-.628-1.359-1.403-1.359s-1.403.609-1.403 1.36z"}),r.createElement("path",{d:"M26.52 19.619l-11.845 5.525c-3.956 1.845-8.708.234-10.614-3.599a7.504 7.504 0 01-.787-3.342V8.156c0-.75-.628-1.36-1.403-1.36s-1.403.61-1.403 1.36v10.047c0 1.566.364 3.111 1.065 4.521 2.577 5.187 9.007 7.366 14.36 4.87l11.845-5.525c.698-.326.992-1.139.655-1.815-.336-.676-1.174-.96-1.873-.635z"}));var De=function(e){return r.createElement("svg",Re({viewBox:"0 0 29 29"},e),Fe)};function Be(){return(Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Ue=r.createElement("path",{d:"M20.3 8.7c.1.2.3.3.5.3h.2c1.7 0 3 1.3 3 3s-1.3 3-3 3h-.1c-.3 0-.5.2-.6.4-.1.3-.1.5.1.7l.1.1c.6.6.9 1.3.9 2.1s-.3 1.6-.9 2.1c-.6.6-1.3.9-2.1.9s-1.6-.3-2.1-.9l-.1-.1c-.2-.2-.5-.2-.7-.1s-.4.3-.4.6v.2c0 1.7-1.3 3-3 3s-3-1.3-3-3c0-.3-.2-.6-.5-.7-.2-.1-.5-.1-.7.1l-.1.1c-.6.6-1.3.9-2.1.9s-1.6-.3-2.1-.9c-.6-.6-.9-1.3-.9-2.1s.3-1.6.9-2.1l.1-.1c.2-.2.2-.5.1-.7-.1-.2-.3-.4-.6-.4H3c-1.7 0-3-1.3-3-3s1.3-3 3-3c.3 0 .6-.2.7-.5.1-.2.1-.5-.1-.7l-.1-.1c-.6-.5-.9-1.3-.9-2.1s.3-1.6.9-2.1c.6-.6 1.3-.9 2.1-.9s1.6.3 2.1.9l.1.1c.2.1.5.2.7.1.1 0 .1 0 .2-.1.2-.1.3-.3.3-.5V3c0-1.7 1.3-3 3-3s3 1.3 3 3v.1c0 .3.2.5.4.6s.5.1.7-.1l.1-.1c.6-.6 1.3-.9 2.1-.9s1.6.3 2.1.9c.6.6.9 1.3.9 2.1s-.3 1.6-.9 2.1l-.1.1c-.2.2-.2.5-.1.7.1.1.1.1.1.2zm-11.2-3c-.9.3-2 .1-2.7-.6L6.3 5c-.2-.2-.4-.3-.7-.3s-.5.1-.7.3c-.2.2-.3.4-.3.7 0 .3.1.5.3.7l.1.1c.8.8 1 1.9.6 2.9s-1.3 1.7-2.4 1.7H3c-.6 0-1 .4-1 1s.4 1 1 1h.2c1.1 0 2 .6 2.4 1.6.4 1 .2 2.1-.5 2.9l-.1.1c-.2.2-.3.4-.3.7s.1.5.3.7c.2.2.4.3.7.3.3 0 .5-.1.7-.3l.1-.1c.8-.8 1.9-1 2.9-.6s1.7 1.3 1.7 2.4v.2c0 .6.4 1 1 1s1-.4 1-1v-.2c0-1.1.6-2 1.6-2.4s2.1-.2 2.9.5l.1.1c.2.2.4.3.7.3s.5-.1.7-.3c.2-.2.3-.4.3-.7s-.1-.5-.3-.7l-.1-.1c-.8-.8-1-1.9-.5-2.9.4-1 1.4-1.6 2.4-1.6h.1c.6 0 1-.4 1-1s-.4-1-1-1h-.2c-1.1 0-2-.6-2.4-1.6 0-.1-.1-.2-.1-.3-.3-.9-.1-2 .6-2.7l.1-.1c.2-.2.3-.4.3-.7s-.1-.5-.3-.7-.4-.3-.7-.3-.5.1-.7.3l-.1.1c-.8.8-1.9 1-2.9.5-1-.4-1.6-1.4-1.6-2.4V3c0-.6-.4-1-1-1s-1 .4-1 1v.2c0 1.1-.6 2-1.6 2.4-.1 0-.2.1-.3.1zM12 16c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4zm0-2c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z",fill:"currentColor"});var ze=function(e){return r.createElement("svg",Be({viewBox:"0 0 24 24"},e),Ue)};function qe(){return(qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Ve=r.createElement("path",{d:"M3 12h18M3 6h18M3 18h18"});var We=function(e){return r.createElement("svg",qe({viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"iconBurger_svg__feather iconBurger_svg__feather-menu"},e),Ve)},He="_4f2mvJRZ",Ze="_94hMt30F",Ke="_3sJcAJ-2",Ge="_2uQ6ngW3",Je="_1PI1JOmK";function Qe(e){let{as:t,soon:a,isMarked:n,title:r,label:c,children:l,...o}=e;const u={className:i()(He,{[Ke]:a,[Ze]:n}),"data-nav":r||c,title:r||c,...o};return t===ge.d&&(u.activeClassName=Ge),s.a.createElement(t,u,s.a.createElement("div",{className:Je},l),c&&s.a.createElement("span",null,c,a&&s.a.createElement("i",null," (soon)")))}Qe.defaultProps={soon:!1,as:ge.d};var Ye="_1kvk2wcu",Xe="_3dTVRjD7",$e="a0hG0Bv9",et="_2WvuLeKR",tt="_1rpcSVL1",at="_1euF0FA0",nt="_3ZrH0oyT",rt="_2aWHXjiB",st=a("vkNX"),ct="i2TwS6Hh";const it={enter:"_1oCZOe0f",enterActive:"JPzq_6k_",exit:"_2cSp_Rch",exitActive:"_3TQT7TmW"};function lt(e){let{isOpen:t,onClose:a}=e;return s.a.createElement(st.a,{classNames:it,in:t,unmountOnExit:!0,timeout:600},s.a.createElement("div",{className:ct,onClick:a}))}function ot(){const{t:e}=Object(o.useTranslation)(),t=Object(ke.h)(),{hasUnreads:a}=Object(xe.d)(),{isInboxDisplayed:n}=Object(Ae.a)(),{isMobile:c}=Object(Ce.b)(),[u,d]=Object(Ne.a)(!1);return Object(r.useEffect)(()=>{d(!1)},[c,t]),s.a.createElement("aside",{className:i()(Ye)},s.a.createElement("header",{className:Xe},s.a.createElement(Pe.a,{className:i()(at,{[nt]:a}),onClick:d},s.a.createElement(We,{className:rt}))),s.a.createElement("nav",{className:i()($e,{[et]:u})},s.a.createElement("div",null,s.a.createElement(ge.d,{className:tt,to:"/"},s.a.createElement(De,null)),s.a.createElement(Qe,{to:"/p",label:c?e("MobileMenu.page"):"Page"},s.a.createElement(Se.f,null)),n&&s.a.createElement(Qe,{to:"/i",label:c?e("MobileMenu.chats"):"Chats",isMarked:a},s.a.createElement(Le,null))),s.a.createElement("div",null,s.a.createElement(Qe,{to:"/help",title:"Help",label:c?e("MobileMenu.help"):null},s.a.createElement(l.n,null)),s.a.createElement(Qe,{to:"/s",title:"Settings",label:c?e("MobileMenu.settings"):null},s.a.createElement(ze,null)))),c&&s.a.createElement(lt,{isOpen:u,onClose:()=>d(!1)}))}function ut(){return s.a.createElement("svg",{viewBox:"0 0 305 305",style:{width:"100px",height:"100px",position:"absolute",left:"50%",top:"50%",marginLeft:"-50px",marginTop:"-50px"}},s.a.createElement("g",{fill:"#D8D8D8"},s.a.createElement("path",{d:"m60.983 34.249v137c0 8.1066 6.8257 14.678 15.246 14.678 8.4199 0 15.246-6.5717 15.246-14.678v-137c0-8.1066-6.8257-14.678-15.246-14.678-8.4199 0-15.246 6.5717-15.246 14.678z"}),s.a.createElement("path",{d:"m182.95 53.821v137c0 8.1066 6.8257 14.678 15.246 14.678 8.4199 0 15.246-6.5717 15.246-14.678v-137c0-8.1066-6.8257-14.678-15.246-14.678-8.4199 0-15.246 6.5717-15.246 14.678z"}),s.a.createElement("path",{d:"m121.97 14.678v137c0 8.1066 6.8257 14.678 15.246 14.678s15.246-6.5717 15.246-14.678v-137c0-8.1066-6.8257-14.678-15.246-14.678s-15.246 6.5717-15.246 14.678z"}),s.a.createElement("path",{d:"m283.05 206.95l-128.69 59.657c-42.99 19.928-94.619 2.5305-115.32-38.859-5.6294-11.257-8.5527-23.59-8.5527-36.084v-108.49c0-8.1066-6.8257-14.678-15.246-14.678-8.4199 0-15.246 6.5717-15.246 14.678l-3.6109e-14 108.49c2.2568e-15 16.903 3.955 33.589 11.571 48.819 28.004 55.998 97.856 79.536 156.02 52.574l128.69-59.657c7.5864-3.5168 10.775-12.289 7.1226-19.593-3.6527-7.3041-12.764-10.374-20.35-6.8575z"})))}lt.defaultProps={isOpen:!1};var dt="_1Tbq22DP";function mt(e){let{isBlockedByIp:t}=e;const{t:a,i18n:n}=Object(o.useTranslation)(),r="ru"===n.language?"https://mssg.me/help":"https://mssg.me/mssgmeen";return s.a.createElement("div",{className:dt},t?s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",null,a("AccountBlocked.ip"))):s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",null,a("AccountBlocked.heading"))),s.a.createElement("p",null,a("AccountBlocked.description")),s.a.createElement("p",null,s.a.createElement(X.a,{tag:"a",href:r},a("AccountBlocked.button"))))}mt.defaultProps={isBlockedByIp:!1};a("anM4"),a("8KO3");var pt=a("xUbJ"),gt=a("Xoms");function ht(){return(ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const bt=[{messenger:"telegram",name:"mssgmebot",redirectUrl:"https://mssg.me/r/m/5e5fb1e519a0b30013ae1d81"},{messenger:"viber",name:"mssgmesupport",redirectUrl:"https://mssg.me/r/m/5c157205409b90000aa4f611",type:"public"},{messenger:"messenger",name:"mssg.me",redirectUrl:"https://mssg.me/r/m/618271a1a43f580040c07e3e"},{messenger:"vk",name:"mssgmeapp",redirectUrl:"https://mssg.me/r/m/61530428b28e45001fcab76e"},{messenger:"whatsapp",name:"380508450362",redirectUrl:"https://mssg.me/r/m/5f338f6b7a03670028138cca"}];function ft(){const e=bt.map(e=>({platform:e.messenger,href:pt.a.isMobile?Object(gt.a)(e).getUrl():e.redirectUrl}));return s.a.createElement(s.a.Fragment,null,s.a.createElement(Se.b,null,e.map(e=>{let{platform:t,...a}=e;return s.a.createElement(Se.g,ht({key:t,platform:t,"data-messenger":t},a))})))}var vt=a("7WCL"),Et="_2zrnP2tM",yt="_1h_yj6D-",Ot="o01IXCsz";function jt(){const{t:e,i18n:t}=Object(o.useTranslation)(),a=Object(ke.h)(),{plan:n,trialEndedAt:r,isUnpaid:c,isTrial:i}=Object(vt.a)(),l=c?"/s/billing/pay":"/s/billing/plans",u=new Date("2020-03-09");return s.a.createElement(s.a.Fragment,null,(e=>{const t=new Date;return e.getDate()>=t.getDate()&&e.getMonth()>=t.getMonth()&&e.getFullYear()>=t.getFullYear()})(u)&&"ru"===t.language&&s.a.createElement("div",{style:{color:"black"}},s.a.createElement("div",{className:Et},s.a.createElement("h3",null,"Скидка ",s.a.createElement("span",{style:{backgroundColor:"#dc5960",borderColor:"#dc5960"}},"30%")," в честь 8 марта 💐"),s.a.createElement("p",null,"Используйте промокод"," ",s.a.createElement("span",{style:{backgroundColor:"#dc5960",borderColor:"#dc5960",padding:"1px 3px",borderRadius:"4px",marginLeft:"2px",color:"white"}},"8march")," ","во время оформления подписки."))),s.a.createElement(ge.c,{to:{pathname:l,state:{from:a.pathname}},style:{color:"black"}},s.a.createElement("div",{className:Et},c?s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",null,e("NoAccess.unpaid.heading",{plan:n})),s.a.createElement("p",null,e("NoAccess.unpaid.description",{plan:n})),s.a.createElement("span",null,e("NoAccess.unpaid.button",{plan:n}))):i?s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",{className:yt},e("CardMain.banner.trial")," ",s.a.createElement("span",null,"PRO")),s.a.createElement("p",null,e("CardMain.banner.till",{date:r})),s.a.createElement("span",{className:Ot},e("CardMain.banner.upgrade"))):s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",null,e("CardMain.banner.title")," ",s.a.createElement("span",null,"PRO")),s.a.createElement("p",null,e("CardMain.banner.description")),s.a.createElement("span",null,e("CardMain.banner.link"))))))}var wt="_1NBHJtEo",_t="_2-o2ZTD5";function kt(){return(kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Nt(e){let{className:t,title:a,children:n,...r}=e;const{t:c}=Object(o.useTranslation)(),l=a||c("FieldTip.defaultLabel");return s.a.createElement("div",kt({className:i()(wt,t)},r),s.a.createElement("div",{className:_t},s.a.createElement("span",null,l)),s.a.createElement("div",{dangerouslySetInnerHTML:{__html:n}}))}Nt.defaultProps={className:""};var Ct,Pt,St,xt,Tt=Nt,It=a("pnxo"),Mt=a("g+ST"),Lt=a("jMR3"),At="_2cFNCExK",Rt="A62YyrAE",Ft="Sgn32Btt",Dt="_37FZOYqE",Bt="_2FYCoT4I",Ut="_2RflT2bP",zt="_3dfdU7nM";class qt extends r.Component{render(){const{title:e,links:t,cancel:a}=this.props;return s.a.createElement("div",{className:At},s.a.createElement("div",{className:Rt,onClick:a}),s.a.createElement("div",{className:Ft},s.a.createElement("div",{className:Bt},s.a.createElement("span",{className:Ut},e),s.a.createElement("ul",{className:zt,id:"card_list"},t.map((e,t)=>s.a.createElement("li",{key:t},s.a.createElement(Lt.a,{href:e.redirectUrl,target:"_blank","data-id":e._id,"data-title":e.title,"data-element":"custom-link","data-event-name":Object(Mt.a)(e.url)},e.title))))),s.a.createElement("span",{className:Dt,onClick:a},Object(It.a)("cancel"))))}}Ct=qt,St={visible:!1},(Pt="symbol"==typeof(xt=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(Pt="defaultProps","string"))?xt:String(xt))in Ct?Object.defineProperty(Ct,Pt,{value:St,enumerable:!0,configurable:!0,writable:!0}):Ct[Pt]=St;var Vt=qt;a("yHpL"),a("kGuf");var Wt=a("bESJ"),Ht=a("njpi"),Zt="_34KjsxEs",Kt="agaDhVdK",Gt="_32RBVo5D";function Jt(e){let{children:t}=e;return Object(Wt.a)(()=>{document.documentElement.classList.add(Gt)}),Object(Ht.a)(()=>{document.documentElement.classList.remove(Gt)}),s.a.createElement("div",{className:Zt},s.a.createElement("div",{className:Kt},t))}},"79Hl":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("yPYI");const r=Object(n.a)("SET_FEEDBACK_ITEMS_FILTER")},"7Sa5":function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/messengers/icon-facebook-login.svg"},"7WCL":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("r0ML"),r=a("ID3L"),s=a.n(r),c=a("Qg6Y");function i(){const{billing:e={}}=Object(c.a)();return Object(n.useMemo)(()=>{const{plan:t,status:a,cancelAtPeriodEnd:n,trialEnd:r,pause:c,highRiskTransaction:i}=e,l=!!e,o="basic"===t,u="trialing"===a,d="unpaid"===a,m="past_due"===a,p="unlimited"===t,g=!!n,h=u&&r?new Date(e.trialEnd):null,b=!!r,f=c&&"active"===a,v="paused"===a,E=(null==c?void 0:c.pausedFrom)&&s.a.utc(c.pausedFrom).format("LL"),y=o&&["pending","rejected"].includes(null==i?void 0:i.status)&&i;return{hasBilling:l,isFree:o,isTrial:u,trialEndedAt:h,plan:t,hasTrialEnd:b,isUnpaid:d,isUnlimited:p,isUnsubscribed:g,billing:e,isPastDue:m,isPrePaused:f,isPaused:v,pausedFrom:E,highRiskTransaction:y}},[e])}},"8Fnn":function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/Avatar.svg"},"8KO3":function(e,t,a){"use strict";var n=a("Pc05"),r=a.n(n),s=a("r0ML"),c=a.n(s),i=a("63aL"),l=a("WYuZ"),o={root:"_2JS7fyOu",reveal:"_2EUwceGt",closing:"vQIQPdOi",hide:"_2ZlzBuLO",success:"_1u0n0f_6",danger:"_147Ab1oC",close:"_2Valn5vr"};const u={closeDelay:0,isRaw:!1,notifyStyle:l.a.success,showClose:!1};function d(e){let{className:t,notifyStyle:a,showClose:n,isRaw:l,onClose:u,children:d}=e;const m=Object(s.useCallback)(e=>{e.preventDefault(),u&&u()},[u]);return c.a.createElement("div",{className:r()(o.root,t,o[a])},l?c.a.createElement("div",{className:o.content,dangerouslySetInnerHTML:{__html:d}}):c.a.createElement("div",{className:o.content},d),n&&c.a.createElement("a",{className:o.close,href:"#",onClick:m},c.a.createElement(i.B,{size:20,color:"#fff"})))}function m(e){return function(){const t=l.b.getInstance();for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t[e].apply(t,n)}}d.defaultProps=u,d.notify=m("notify"),d.success=m("success"),d.danger=m("danger");t.a=d},"8Tvr":function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a("r0ML"),r=a.n(n),s=a("+Q0i"),c=a.n(s),i=a("cNRa"),l=a.n(i),o=a("Pc05"),u=a.n(o),d={portal:"_2_WUly6l",reveal:"_2x4UxCWs",root:"_2Hd3gxLT",revealUp:"_1DtVJcmY",small:"i4jqTAtK",medium:"V4Cm4PZH",large:"_9QDMzEGE"};const m=document.getElementById("root");function p(e){let{className:t,children:a,size:s,onClose:i}=e;const l=Object(n.useRef)(function(){const e=document.createElement("div");return e.className=d.portal,e}());Object(n.useLayoutEffect)(()=>{function e(e){e.target===l.current&&i&&i()}return m.appendChild(l.current),l.current.addEventListener("click",e),()=>{l.current.removeEventListener("click",e),m.removeChild(l.current)}},[]);const o=r.a.createElement("div",{className:u()(d.root,t,d[s])},r.a.createElement("div",{className:d.content},a));return c.a.createPortal(o,l.current)}p.propTypes={className:l.a.string,onClose:l.a.func.isRequired,children:l.a.any,size:l.a.oneOf(["small","medium","large"])},p.defaultProps={size:"medium"}},"8hF1":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return s}));var n=a("yPYI");const r=Object(n.a)("SET_AUDIENCE_FILTER"),s=Object(n.a)("CLEAR_AUDIENCE_STORE")},"8qbc":function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return r}));a("v2fZ");const n={baseUrl:e.env.REACT_APP_USERPAGE_API_URL||"/api"};class r{constructor(e){this.options={...n,...e}}get(e){return this.request(e)}post(e,t){return this.request(e,{method:"POST",body:t})}put(e,t){return this.request(e,{method:"PUT",body:t})}delete(e){return this.request(e,{method:"DELETE"})}async request(e,t){if(Array.isArray(e)){let t;[e,t]=e,e+=function(e){if("object"!=typeof e)return"";const t=[];for(let a in e){const n=e[a];null!=n&&t.push(`${a}=${n}`)}return t.length>0?"?"+t.join("&"):""}(t)}(function(e){return e.startsWith("http://")||e.startsWith("https://")})(e)||(e=this.options.baseUrl+e);const{method:a,headers:n,body:r,...s}={method:"GET",...t},c=await fetch(e,{method:["PUT","DELETE"].includes(a.toUpperCase())?"POST":a,headers:{Accept:"application/json","Content-Type":"application/json","X-HTTP-Method-Override":a.toUpperCase(),...n},body:r?JSON.stringify(r):void 0,...s});if(!c.ok)switch(c.status){case 400:{const{errors:e}=await c.json();throw(e=>{const t=new Error("Validation error");return t.type="validation",t.errors=e,t})(e)}case 401:case 403:throw(e=>{const t=new Error(e);return t.type="authorization",t})(c.statusText);default:throw((e,t)=>{const a=Error(t);return a.status=e,a.type="api",a})(c.status,c.statusText)}if(204!==c.status)return c.json()}}}).call(this,a("TzVV"))},"8sKS":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("r0ML"),r=a.n(n),s=a("Pc05"),c=a.n(s),i="_3YljcX9V";function l(e){let{children:t}=e;const{className:a,...n}=t.props;return r.a.cloneElement(t,{className:c()(i,a),...n},n.children)}},"9TnD":function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("r0ML"),r=a.n(n),s=a("Pc05"),c=a.n(s),i="_34hpiuv7",l="NtDe4YsW",o="B-AQXapM";function u(e){let{heading:t,className:a,children:n}=e;const s=r.a.Children.toArray(n);return r.a.createElement("div",{className:c()(i,a)},t&&r.a.createElement("h2",{className:l},t),r.a.createElement("ul",{className:o},s.map((e,t)=>r.a.createElement("li",{key:t},e))))}},"9hqQ":function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/icon_arrow_grey.svg"},A7QF:function(e,t,a){"use strict";var n=a("Pc05"),r=a.n(n),s=a("r0ML"),c=a.n(s),i="_3sEDzXOF";function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var o=e=>{let{leftButton:t,heading:a,rightButton:n,className:s,...o}=e;return c.a.createElement("div",l({className:r()(i,s)},o),t,c.a.createElement("h2",null,a),n)};t.a=o},ATgU:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("r0ML"),r=a.n(n),s=a("cpKZ"),c="_2ut3VK2F",i="_33M482TC";function l(e){let{align:t,...a}=e;return r.a.createElement("div",Object(s.a)([c,{[i]:"right"===t}],a))}},AXAf:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("r0ML"),r=a.n(n),s=a("I1kg"),c=a("vFhw");function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function l(e){let{onChange:t,inputStyles:a,...n}=e;return r.a.createElement(s.a,n,e=>{let{field:{name:n,value:s,...l},form:{errors:o,touched:u,setFieldValue:d}}=e;return r.a.createElement(c.a,i({name:n,value:s},l,{style:a,hasError:o[n]&&u[n],onChange:t||(e=>{d(n,e.target.value,!1)})}))})}},BFji:function(e,t,a){"use strict";a.d(t,"d",(function(){return d})),a.d(t,"b",(function(){return Hs})),a.d(t,"c",(function(){return Ve})),a.d(t,"a",(function(){return at}));var n=a("3gnH");n.b.registerResolver("inbox",(function(e){return a("aFVI")(`./${e}/inbox.json`)}));var r=a("HPRP"),s=a("vdeW"),c=a("dLPT"),i=a("r0ML"),l=a.n(i),o=a("g0xT"),u=a("ehRZ");const d=()=>{const e=Object(o.d)(e=>e.conversations.unread),t=Object(r.a)(e).map(e=>({contact:e[0],unreadMessages:e[1]})).filter(e=>e.unreadMessages>0),a=t.length,n=Object(s.a)(t.map(e=>e.unreadMessages)),l=a>0,[d,m]=Object(i.useState)(()=>e),[p,g]=Object(i.useState)(0);return Object(u.a)(()=>{if(!Object(c.a)(e,d)){m(e);for(const[t,a]of Object.entries(e)){if(a-(d[t]||0)>0){g(Date.now());break}}}},[d,e]),{unreadConversations:t,unreadConversationsCount:a,unreadMessagesCount:n,updateTimestamp:p,hasUnreads:l}};var m=a("lkLo"),p=a("Qg6Y"),g=a("TiNz"),h=a("kkZN"),b=a("8sKS"),f=a("w2nZ"),v=a("+Q0i"),E=a.n(v),y=a("QD+E"),O=a("7+Q5");function j(){return(j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function w(e,t){return i.createElement(O.b,j({fill:"none",viewBox:"0 0 24 24",ref:t},e),i.createElement("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var _=i.forwardRef(w);function k(){return(k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function N(e,t){return i.createElement(O.b,k({fill:"none",viewBox:"0 0 24 24",ref:t},e),i.createElement("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M10 8l6 4-6 4V8z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var C=i.forwardRef(N),P=a("Pc05"),S=a.n(P),x=a("/jrZ"),T=(a("o5DE"),a("1isK")),I=a("yHpL"),M="_1f8GzvWD",L="_3CymbAWY",A="_w7TQU9O",R="JnSSWrV1",F="_3p60J21x",D="xMKJnu4Z",B="_2u7IKBV3",U="Zqis1YhQ",z="VjG6jWpt",q="_854_kX7i",V="_3EUOpMBQ";function W(e){let{className:t,integrations:a}=e;const{api:n}=Object(I.a)(),{t:r}=Object(h.useTranslation)(),[s,c]=Object(i.useState)(!1);return l.a.createElement("div",{className:S()(M,t)},a.map(e=>l.a.createElement("div",{className:L,key:e.type},l.a.createElement("img",{className:D,src:e.logo,alt:e.label}),l.a.createElement("div",{className:R},l.a.createElement("span",{className:A},e.label),e.integrated&&l.a.createElement("span",{className:F},r("IntegrationList.connected"))),e.integrated?l.a.createElement("span",{className:S()(B,U,{[z]:s}),onClick:()=>(async(e,t)=>{c(t);try{await n.integrations.delete({integrationId:e})}catch(e){alert(e)}c(!1)})(e.id,e.type)},s&&s===e.type?l.a.createElement(T.a,{size:"14",color:"white",className:V}):r("IntegrationList.remove")):l.a.createElement(y.d,{exact:!0,to:e.path,className:B},r("IntegrationList.add")))),l.a.createElement("div",{className:L,key:"whatsapp"},l.a.createElement("img",{className:D,src:x.default,alt:"whatsapp"}),l.a.createElement("span",{className:A},"WhatsApp"),l.a.createElement("span",{className:S()(B,q)},r("IntegrationList.soon"))))}W.defaultProp={integrations:[]};var H=a("QSHt"),Z=a("TM/7"),K=a("BHCP"),G=a("lsIJ"),J=a("/GFi"),Q=a("MY/q"),Y=a("07c+"),X=a("0WXt"),$=a("cNRa"),ee=a.n($),te=a("DC3q"),ae=a("8KO3"),ne=a("wYyU");function re(){return(re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function se(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ce=function(e,t){var a;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["json.message","json.error.message","json.errors.message","json.type","message"];return Object(h.withTranslation)()((a=class extends l.a.Component{constructor(){super(...arguments),se(this,"state",{isFetching:!1,errors:{}}),se(this,"request",async e=>(this.setState({isFetching:!0}),new Promise(async(t,a)=>{try{const a=await e;this.setState({errors:{}},()=>{t(a)})}catch(e){this.setState({errors:this.handleError(e)},()=>{a(this.state.errors)})}finally{this.setState({isFetching:!1})}})))}handleError(e){switch(e.type){case"validation":return this.remapErrors(e.errors);default:{const t=this.parseError(e);return ae.a.danger(this.props.t(t)||t,{showClose:!0}),{message:t}}}}parseError(e){let a;for(const t of r)if(a=Object(te.a)(e,t))break;return a&&n(a)||t}remapErrors(e){const a={};for(const[r,s]of Object.entries(e)){const e=n(s);e?a[r]=e:(t||s)&&(a[r]=t||s)}return a}render(){return l.a.createElement(e,re({},this.state,this.props,{request:this.request}))}},se(a,"propTypes",{t:ee.a.func.isRequired,closeDelay:ee.a.number}),se(a,"defaultProps",{closeDelay:ne.a}),a))};a("v2fZ");var ie=a("FRBS");const le=()=>{const{t:e}=Object(h.useTranslation)();return{t:e,rootIntegrationsPath:Object(m.h)().pathname.startsWith("/i/onboard")?"/i/onboard":"/s/integrations"}};const oe=e=>{let{request:t}=e;const{api:a}=Object(I.a)(),{t:n,rootIntegrationsPath:r}=le(),s=Object(m.g)(),[c,l]=Object(i.useState)(null),{fbApi:o,plugError:u}=function(){const[e,t]=Object(i.useState)(null),[a,n]=Object(i.useState)(null);return Object(i.useEffect)(()=>{Object(ie.a)().then(e=>t(e)).catch(()=>{n("messengerIntegration.errors.plug_failed")})},[]),{fbApi:e,plugError:a}}(),{isLoggedIn:d,login:p}=function(e){const[t,a]=Object(i.useState)(!1);return{isLoggedIn:t,login:Object(i.useCallback)(async()=>{const{status:t}=await e.login({scope:"email,public_profile,pages_manage_metadata,pages_messaging"});if("connected"!==t)throw new Error("Not connected");a(!0)},[e])}}(o),{isLoaded:g,pages:h,options:b,username:f,loadPages:v}=function(e){const[t,a]=Object(i.useState)(!1),[n,r]=Object(i.useState)([]),[s,c]=Object(i.useState)(""),l=Object(i.useCallback)(()=>{e.api("/me",{fields:"accounts.limit(1000){access_token,id,name},name,id"}).then(e=>{a(!0),r(e.accounts&&e.accounts.data||[]),c(e.name)})},[e]),o=Object(i.useMemo)(()=>n.map(e=>{let{id:t,name:a}=e;return{value:t,label:a}}),[n]);return{loadPages:l,pages:n,options:o,username:s,isLoaded:t}}(o),[E,y]=Object(i.useState)({});return{t:n,fbApi:o,plugError:u,handleSubmit:async e=>{e.preventDefault();try{await t(a.integrations.create({payload:{type:"messenger",token:c.access_token,username:f}})),s.push(r)}catch(e){}},isLoggedIn:d,handleLoginClick:async e=>{e.preventDefault();try{await p(),v()}catch(e){}},isLoaded:g,username:f,selectedPage:c,options:b,handleChange:e=>{const t=e.target.value,a=h.find(e=>e.id===t);l(a)},errors:E}};var ue={rootContainer:"_36zFkfPf",list:"l8AdHd2s",input:"_191EoLAd",buttonContainer:"GKCzf2Js",submitButton:"_3EhC8bP7",active:"_1TGTA5g2",isFetching:"ZvtNpCFc",error:"_1Cooo30A",spinner:"_1D2Rb87e",select:"_12dF5pwU"};var de=ce((function(e){let{errors:t,isFetching:a,request:n}=e;const{t:r,fbApi:s,plugError:c,handleSubmit:i,isLoggedIn:o,handleLoginClick:u,isLoaded:d,username:m,selectedPage:p,options:g,handleChange:h,errors:b}=oe({request:n});return s?l.a.createElement("form",{onSubmit:i,className:ue.rootContainer},!o&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,r("messengerIntegration.connect_facebook")),l.a.createElement("div",{className:ue.buttonContainer},l.a.createElement("button",{className:S()(ue.submitButton,ue.active),onClick:u},r("messengerIntegration.sign_in_fb")))),d&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{style:{marginBottom:10}},r("messengerIntegration.signed_in_as")," ",l.a.createElement("strong",null,m)),l.a.createElement("p",{style:{marginBottom:20}},r("messengerIntegration.choose_page")),l.a.createElement(Y.a,{component:X.a,inputClassName:ue.select,placeholder:r("messengerIntegration.select_page"),value:p&&p.id||"",options:g,onChange:h,errors:b.selectedPage}),l.a.createElement("div",{className:ue.buttonContainer},l.a.createElement("button",{type:"submit",className:S()(ue.submitButton,{[ue.active]:!!p,[ue.isFetching]:a})},a?l.a.createElement(T.a,{size:"16",color:"white",className:ue.spinner}):r("messengerIntegration.connect"))))):c&&l.a.createElement(Q.a,{error:r(c)})}),"errorsList.create_integration");const me={"Not Found":"telegramIntegration.errors.not_found",Unauthorized:"telegramIntegration.errors.unauthorized","errors.create_integration.telegram.not_a_token":"telegramIntegration.errors.wrong_token"};var pe=ce((function(e){let{isFetching:t,errors:a,request:n}=e;const{handleSubmit:r,t:s,token:c,setToken:o}=(e=>{let{request:t}=e;const{api:a}=Object(I.a)(),{t:n,rootIntegrationsPath:r}=le(),s=Object(m.g)(),[c,l]=Object(i.useState)("");return{handleSubmit:async e=>{e.preventDefault();try{await t(a.integrations.create({payload:{type:"telegram",token:c}})),l(""),s.push(r)}catch(e){}},t:n,token:c,setToken:l}})({request:n});return l.a.createElement("form",{onSubmit:r,className:ue.rootContainer},l.a.createElement("ol",{className:ue.list},l.a.createElement("li",{dangerouslySetInnerHTML:{__html:s("telegramIntegration.how_to.step1")}}),l.a.createElement("li",{dangerouslySetInnerHTML:{__html:s("telegramIntegration.how_to.step2")}}),l.a.createElement("li",{dangerouslySetInnerHTML:{__html:s("telegramIntegration.how_to.step3")}}),l.a.createElement("li",{dangerouslySetInnerHTML:{__html:s("telegramIntegration.how_to.step4")}}),l.a.createElement("li",null,s("telegramIntegration.how_to.step5")),l.a.createElement("li",{dangerouslySetInnerHTML:{__html:s("telegramIntegration.how_to.step6")}})),l.a.createElement("input",{type:"text",placeholder:s("telegramIntegration.placeholder"),value:c,onChange:e=>o(e.target.value),disabled:t,className:ue.input}),a.token&&l.a.createElement("span",{className:ue.error},s(a.token)),l.a.createElement("div",{className:ue.buttonContainer},l.a.createElement("button",{type:"submit",className:S()(ue.submitButton,{[ue.active]:!!c,[ue.isFetching]:t})},t?l.a.createElement(T.a,{size:"16",color:"white",className:ue.spinner}):s("telegramIntegration.connect"))))}),"errorsList.create_integration",e=>me[e]);const ge={"errors.create_integration.viber.not_a_token":"viberIntegration.errors.wrong_token"};var he=ce((function(e){let{isFetching:t,errors:a,request:n}=e;const{t:r,handleSubmit:s,token:c,setToken:o}=(e=>{let{request:t}=e;const{api:a}=Object(I.a)(),{t:n,rootIntegrationsPath:r}=le(),s=Object(m.g)(),[c,l]=Object(i.useState)("");return{t:n,handleSubmit:async e=>{e.preventDefault();try{await t(a.integrations.create({payload:{type:"viber",token:c}})),l(""),s.push(r)}catch(e){}},token:c,setToken:l}})({request:n});return l.a.createElement("form",{onSubmit:s,className:ue.rootContainer},l.a.createElement("ol",{className:ue.list},l.a.createElement("li",{dangerouslySetInnerHTML:{__html:r("viberIntegration.how_to_2.step1")}}),l.a.createElement("li",{dangerouslySetInnerHTML:{__html:r("viberIntegration.how_to_2.step2")}}),l.a.createElement("li",{dangerouslySetInnerHTML:{__html:r("viberIntegration.how_to_2.step3")}})),l.a.createElement("input",{type:"text",placeholder:r("viberIntegration.input.placeholder"),value:c,onChange:e=>o(e.target.value),disabled:t,className:ue.input}),a.token&&l.a.createElement("span",{className:ue.error},r(a.token)),l.a.createElement("div",{className:ue.buttonContainer},l.a.createElement("button",{type:"submit",className:S()(ue.submitButton,{[ue.active]:!!c,[ue.isFetching]:t})},t?l.a.createElement(T.a,{size:"16",color:"white",className:ue.spinner}):r("viberIntegration.connect"))))}),"errorsList.create_integration",e=>ge[e]),be=a("4ZHd"),fe=a.n(be),ve=a("cGUp"),Ee=a.n(ve),ye=a("bPZW");const Oe=()=>{const{api:e}=Object(I.a)(),{t:t,rootIntegrationsPath:a}=le(),n=Object(m.g)(),[r,s]=Object(i.useState)(!1),[c,l]=Object(i.useState)(!1),[o,u]=Object(i.useState)(null),[d,p]=Object(i.useState)([]),[g,h]=Object(i.useState)(null),[b,f]=Object(i.useState)(""),[v,E]=Object(i.useState)(1),[y,O]=Object(i.useState)({}),[j,w]=Object(i.useState)(null),[_,k]=Object(i.useState)(null),N=()=>{o.Api.call("groups.get",{filter:"admin",extended:1,v:"5.81"},e=>{p(e.response.items.map(e=>({...e,id:e.id.toString()})))})},C=async t=>{const r=t["access_token_"+g.id];try{await e.integrations.create({payload:{type:"vk",token:r,groupId:g.id}}),_.close(),n.push(a)}catch(e){Object(ye.a)(e)}};return Object(i.useEffect)(()=>{fe()("https://vk.com/js/api/openapi.js?158",()=>{const e=window.VK;e?(e.init({apiId:Ee.a.vk_app_id}),u(e)):w("vkIntegration.errors.plug_failed")}),window.onAuthorizeVK=C},[]),Object(i.useEffect)(()=>{window.onAuthorizeVK=C},[g,_]),{t:t,vk:o,plugError:j,step:v,handleLoginClick:e=>{e.preventDefault(),o.Auth.login(e=>{const t="connected"===e.status;if(t){const a=e.session.user,n=`${a.first_name} ${a.last_name}`.trim();l(t),E(2),f(n),N()}},262144)},handleSubmit:e=>{e.preventDefault();const t=`https://oauth.vk.com/authorize?client_id=${Ee.a.vk_app_id}&display=popup&redirect_uri=${Ee.a.vk_callback_url}&group_ids=${g.id}&scope=manage,messages,photos,docs&response_type=code&v=5.81`;k(window.open(t,"_blank","height=400,width=300"))},username:b,selectedGroup:g,getGroupsOptions:()=>d.map(e=>{let{id:t,name:a}=e;return{value:t,label:a}}),handleChange:e=>{const t=e.target.value,a=d.find(e=>e.id===t);h(a)},errors:y,isFetching:r}};var je=function(){const{t:e,vk:t,plugError:a,step:n,handleLoginClick:r,handleSubmit:s,username:c,selectedGroup:i,getGroupsOptions:o,handleChange:u,errors:d,isFetching:m}=Oe();if(!t)return a&&l.a.createElement(Q.a,{error:e(a)});switch(n){case 1:return l.a.createElement("div",{className:ue.rootContainer},l.a.createElement("p",null,e("vkIntegration.step1.heading")),l.a.createElement("div",{className:ue.buttonContainer},l.a.createElement("button",{className:S()(ue.submitButton,ue.active),onClick:r},e("vkIntegration.step1.sign_in_vk"))));case 2:return l.a.createElement("form",{onSubmit:s,className:ue.root},l.a.createElement("p",{style:{marginBottom:10}},e("vkIntegration.step2.status")," ",l.a.createElement("strong",null,c)),l.a.createElement("p",{style:{marginBottom:20}},e("vkIntegration.step2.heading")),l.a.createElement(Y.a,{component:X.a,inputClassName:ue.groups,placeholder:e("vkIntegration.step2.select_group"),value:i&&i.id||"",options:o(),onChange:u,errors:d.selectedPage}),l.a.createElement("div",{className:ue.buttonContainer},l.a.createElement("button",{type:"submit",className:S()(ue.submitButton,{[ue.active]:!!i,[ue.isFetching]:m})},m?l.a.createElement(T.a,{size:"16",color:"white",className:ue.spinner}):e("vkIntegration.step2.connect"))))}};const we=[{type:"messenger",label:"Messenger",logo:Z.default,component:de,tutorialSrc:{ru:"https://www.youtube.com/embed/G0dcj6XLgAI?rel=0&modestbranding=1",en:"https://www.youtube.com/embed/nQuFiYfktCw?rel=0&modestbranding=1"}},{type:"telegram",label:"Telegram",logo:K.default,component:pe,tutorialSrc:{ru:"https://www.youtube.com/embed/oT7wfIUiaqg?rel=0&modestbranding=1",en:"https://www.youtube.com/embed/qmDWl4Fz6Ps?rel=0&modestbranding=1"}},{type:"viber",label:"Viber",logo:G.default,component:he,tutorialSrc:{ru:"https://www.youtube.com/embed/kW28FFcrvVI?rel=0&modestbranding=1",en:"https://www.youtube.com/embed/JOmI_Adg0h0?rel=0&modestbranding=1"}},{type:"vk",label:"VK",logo:J.default,component:je,tutorialSrc:{ru:"https://www.youtube.com/embed/-SaCgQvvlxs?rel=0&modestbranding=1",en:"https://www.youtube.com/embed/A-GYreJ6nR4?rel=0&modestbranding=1"}}];var _e="_4GhAcIFk",ke="Rpnvokoz",Ne="wiyF_5g7",Ce="_305XtJXx",Pe="_3rRCf1Sq",Se="_2Yc7ZYMT",xe="_2X41D6zm",Te="_2vzRiypK",Ie="_9dRRhS1C",Me="_1H4cYpOo",Le="_1UcrcRgO",Ae="_1ghkh9Vv",Re="_1FT-VaEx",Fe="Wt_7-wJa",De="_1qtGkWqR",Be="_3yHiW_D8",Ue="LFAU4tTA",ze="_3gfOb3H0",qe="_1PCUUay5";function Ve(e){let{children:t}=e;const{t:a,routes:n,rootPath:r,match:s,i18n:c}=(()=>{const e=Object(o.d)(e=>Object(H.b)(e).integrations),t=e.map(e=>e.type),{t:a,i18n:n}=Object(h.useTranslation)(),r=Object(m.j)(),s=Object(m.h)();return{t:a,routes:we.map(a=>({...a,path:`${r.path}/${a.type}`,integrated:t.includes(a.type),id:e.find(e=>e.type===a.type)?e.find(e=>e.type===a.type)._id:null})),rootPath:s.pathname.startsWith("/i/onboard")?"/i/onboard":"/s/integrations",match:r,i18n:n}})();return l.a.createElement("div",{className:_e},l.a.createElement("div",{className:ke},l.a.createElement("h1",{className:Ne},a("IntegrationsPage.heading")),l.a.createElement("p",{className:Ce},a("IntegrationsPage.subHeading")),l.a.createElement(W,{className:Pe,integrations:n}),t),l.a.createElement(m.d,null,n.map(e=>l.a.createElement(m.b,{key:e.type,path:e.path,render:t=>E.a.createPortal(l.a.createElement("div",{className:Se},l.a.createElement("div",{className:xe},l.a.createElement(y.d,{to:r,className:Te},l.a.createElement(_,{size:24})),l.a.createElement("div",{className:Ie},l.a.createElement("img",{src:e.logo,alt:"route.type",className:Me}),l.a.createElement("h2",{className:Le},a("IntegrationsPage.modal.connect")," ",e.label),l.a.createElement("p",{className:Ae},a("IntegrationsPage.modal.subHeading")),l.a.createElement(y.d,{to:`${r}/${e.type}/video`,className:Re},l.a.createElement(C,{className:Fe}),a("IntegrationsPage.modal.videoTutorial"))),l.a.createElement(e.component,t))),document.body)})),l.a.createElement(m.a,{to:s.path})),l.a.createElement(m.d,null,n.map(e=>l.a.createElement(m.b,{key:e.type+"_video",exact:!0,path:e.path+"/video",render:()=>E.a.createPortal(l.a.createElement("div",{className:De},l.a.createElement("div",{className:Be},l.a.createElement(y.c,{to:e.path,className:Ue},l.a.createElement(_,{size:24})),l.a.createElement("div",{className:ze},l.a.createElement("iframe",{src:"ru"===c.language?e.tutorialSrc.ru:e.tutorialSrc.en,frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})),l.a.createElement("h3",{className:qe},a("IntegrationsPage.modal.connecting")," ",e.label))),document.body)}))))}var We="_2a8hJZd5",He="_79buttuJ";function Ze(){const{t:e}=Object(h.useTranslation)("inbox"),t=Object(p.a)().integrations.length>0;return l.a.createElement(b.a,null,l.a.createElement("div",{className:We},l.a.createElement(Ve,null,l.a.createElement("div",{className:He},l.a.createElement(f.a,{disabled:!t,to:"/i"},e("OnboardPage.complete"))))))}var Ke=a("MSOi");function Ge(e){let{count:t}=e;const a=Object(i.useCallback)((async function(){"setAppBadge"in navigator&&await navigator.setAppBadge(...arguments)}),[]),n=Object(i.useCallback)(async()=>{"clearAppBadge"in navigator&&await navigator.clearAppBadge()},[]);return Object(i.useEffect)(()=>(a(t),()=>{n()}),[t]),null}Ge.propTypes={count:ee.a.number};var Je=a("QJEF"),Qe=a("CMqj");function Ye(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Xe{mark(){}dismiss(){}}class $e extends Xe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'link[rel="icon"]';super(),this.icon=e,this.selector=t,this.default=this.element.href}get element(){return document.querySelector(this.selector)}mark(){this.element.href=this.icon}dismiss(){this.element.href=this.default}}class et extends Xe{constructor(e,t){super(),this.sources=e,this.options=t||{}}get sound(){return this._sound||(this._sound=new Qe.Howl({src:this.sources,preload:!0,autoplay:!1,loop:!1,volume:1,...this.options}),this._sound.on("fade",()=>{this.sound.stop()})),this._sound}get volume(){return this.options.volume||1}get duration(){return this.options.duration||0}mark(){this.sound.playing()||(this.sound.stop().volume(this.volume).play(),this.duration&&this.sound.fade(this.volume,0,this.duration))}}class tt extends class{constructor(e){Ye(this,"notify",Object(Je.default)(()=>{for(const e of this.markers)e.mark()},100)),this.markers=e}dismiss(){for(const e of this.markers)e.dismiss()}}{constructor(){super([new $e("/favicon_dot32.png",'link[data-icon="fav32"]'),new et([Ee.a.statics_url+"/webapp-legacy/sound/inbox.ogg",Ee.a.statics_url+"/webapp-legacy/sound/inbox.mp3",Ee.a.statics_url+"/webapp-legacy/sound/inbox.wav"],{duration:4e3})])}}const at=e=>{let{children:t}=e;const{api:a}=Object(I.a)(),{updateTimestamp:n,unreadConversationsCount:r}=d(),[s]=Object(i.useState)(()=>new tt),c=Object(o.d)(e=>e.socket.reconnected);return Object(i.useEffect)(()=>{a.listenConnect(),a.listenDisconnect(),a.listenReconnect(),a.listenVerifyVersion(),a.listenNewMessages(),a.listenCreateConversation(),a.listenUpdateConversation(),a.listenPaymentSucceeded(),a.listenSubscriptionCancelled()},[]),Object(i.useEffect)(()=>{n&&(s.notify(),document.addEventListener("mousemove",(function e(){s.dismiss(),document.removeEventListener("mousemove",e)})))},[n,s]),l.a.createElement(i.Fragment,{key:"c-"+c},r>0&&l.a.createElement(Ge,{count:r}),t)};var nt=a("ID3L"),rt=a.n(nt),st=a("63aL"),ct=a("vkNX");function it(){return(it=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const lt={"extra-fast":100,fast:200,normal:300,slow:500,"extra-slow":800};function ot(e,t){function a(e){let{in:a,appear:n,duration:r,children:s,...c}=e;const i=r in lt?lt[r]:r,o=l.a.cloneElement(s,{...s.props,style:{...s.props.style,transitionDuration:i+"ms"}},s.props.children);return l.a.createElement(ct.a,it({unmountOnExit:!0,in:a,appear:n,timeout:i,classNames:t},c),o)}return a.defaultProps={in:!1,appear:!1,duration:"slow"},a.displayName=e,a}var ut=ot("Fade",{appear:"_32enWlY6",enter:"_3PKh3JN6",appearActive:"DQAGI999",enterActive:"_2ZrdWXif",exit:"_3x6BX_AB",exitActive:"_2zI1LOuA"}),dt=a("tdNs");const mt=e=>~~(e/864e5),pt={UserMessage:"group",SystemMessage:"system"},gt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pt[e.kind];if(!t)throw new Error(`Don't know how to handle "${e.kind}" messages`);return{type:t,base:e,messages:[e],days:mt(e.received)}},ht=(e,t)=>mt(t.received)!==e.days?"date":t.kind!==e.base.kind||t.author!==e.base.author||t.destination!==e.base.destination||~~(Math.abs(t.received-e.base.received)/6e4)>0||void 0;var bt=a("vMq5"),ft=a("5WIS"),vt=a("t1lN"),Et=a("QuEQ"),yt=a("6BW+");const Ot=(e,t)=>e.conversations.list.byContactId[t],jt=Object(vt.a)(e=>e.conversations.list.ids,e=>e.conversations.list.byContactId,(e,t)=>e.map(e=>t[e])),wt=e=>e.ui.conversationsFilter,_t=Object(vt.a)(jt,wt,yt.b,(e,t,a)=>e.filter(e=>((e,t)=>e.status===t)(e,t.status)&&((e,t,a)=>{switch(t){case"all":return!0;case"unassigned":return Object(ft.a)(e.assignTo);case"my":return e.assignTo===a;default:return t===e.assignTo}})(e,t.assign,a._id)&&((e,t)=>{const a=t.trim();if(0===a.length)return!0;return Object(Et.a)(a).test(e.contact.name)})(e,t.searchValue))),kt=Object(vt.a)(_t,wt,(e,t)=>e.sort((e,a)=>{const n=t.showNewFirst?1:-1;return e.lastMessageReceived>a.lastMessageReceived?-1*n:e.lastMessageReceived<a.lastMessageReceived?1*n:0}));Object(vt.a)(e=>e.conversations.unread,e=>{let t=0;for(const a of Object.values(e))a>0&&t++;return t});var Nt=a("zbc8"),Ct="_3rz-yaI0",Pt="_1x9khfTq";function St(e){let{time:t}=e;return l.a.createElement("div",{className:Ct},l.a.createElement("div",{className:Pt},t.format("dddd, MMMM Do YYYY")))}var xt="_3TelIj6I",Tt="_3Fqe4F5A",It="UUiP9AfC";function Mt(e){let{className:t,platform:a,title:n,time:r}=e;const s=Nt.b[a];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:S()(xt,t)},l.a.createElement("div",{className:Tt},l.a.createElement(s,{key:a,className:It,size:24,color:"#8E8E8E"})," ",n)),l.a.createElement(St,{time:r}))}Mt.defaultProps={title:"",className:""};var Lt=a("9sT1");const At=a.n(Lt).a.bind({root:"_1NnaIV5K",reverse:"_2gedrkVo",message:"GLSDldgr",default:"TjTwRPGM",secondary:"tXeAKBgl",warning:"_1ieqTdx3",timestamp:"_3YpTfike"});function Rt(e){let{children:t,timestamp:a,reverse:n,color:r="default",styles:s={}}=e;return l.a.createElement("div",{className:At("root",r,{reverse:n},s.root)},l.a.createElement("div",{className:At("message",s.message)},t,l.a.createElement("span",{className:At("timestamp",s.timestamp)},a.format("HH:mm"))))}var Ft=Object(i.memo)(Rt),Dt="_2_u5KBdW",Bt="_1o4lbwT8",Ut="_1EQM8WWF",zt="_2069BIDg",qt="_1QYd6zri";function Vt(){return(Vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Wt(e){let{text:t,mediaUrl:a,thumbnailUrl:n,...r}=e;return l.a.createElement(Ft,Vt({styles:{message:Ut,timestamp:zt}},r),l.a.createElement("a",{className:Bt,href:a,target:"__blank"},l.a.createElement("img",{className:Dt,src:n||a,alt:t})),t&&l.a.createElement("p",{className:qt},t))}var Ht=a("cIDf"),Zt=a.n(Ht),Kt="_8s61yRv6";function Gt(e){let{text:t,...a}=e;return l.a.createElement(Ft,a,l.a.createElement("div",{className:Kt},l.a.createElement(Zt.a,{properties:{target:"_blank"}},t)))}var Jt=a("Yr7G"),Qt="_1ae-QdBX",Yt="_26lbvf_L";function Xt(e){let{mediaUrl:t,...a}=e;const n=function(e){if(!e)return"Broken file url";const t=e.match(/\/([^/?#]+)([?#].*)?$/);try{if(t)return decodeURIComponent(t[1])}catch(e){if(e instanceof URIError)return t[1];throw e}return e}(t);return l.a.createElement(Ft,a,l.a.createElement("a",{className:Qt,href:t,target:"__blank"},l.a.createElement(Jt.d,{className:Yt})," "+n))}var $t="VuZtj0fO",ea="_1ojZ5W2g",ta="_2NVP2Moj",aa="_34dEwJaP",na=a("lblK");sa.defaultProps={destination:"client"};const ra={client:"default",organization:"secondary",team:"warning"};function sa(e){let{messages:t,author:a,destination:n}=e;const r="organization"!==n,s=ra[n];return l.a.createElement("div",{className:S()($t,{[ea]:r})},a&&l.a.createElement(na.a,{className:ta,size:36,name:a.name,src:a.avatarUrl}),l.a.createElement("div",{className:aa},t.map(e=>{switch(e.type){case"image":return l.a.createElement(Wt,{key:e._id,text:e.text,thumbnailUrl:e.thumbnailUrl,mediaUrl:e.mediaUrl,timestamp:rt()(e.received),color:s,reverse:r});case"text":return l.a.createElement(Gt,{key:e._id,text:e.text,timestamp:rt()(e.received),color:s,reverse:r});case"audio":case"video":case"file":return l.a.createElement(Xt,{key:e._id,mediaUrl:e.mediaUrl,mediType:e.mediType,timestamp:rt()(e.received),color:s,reverse:r});default:throw new Error("Invalid message type")}})))}var ca=Object(i.memo)(sa),ia="nqHx5-2J",la="_3R0KQWFO",oa="_3emDXLxf";function ua(e){let{type:t,time:a,payload:n}=e;const{t:r}=Object(h.useTranslation)("inbox"),s="assign"===t?l.a.createElement(l.a.Fragment,null,r("systemMessage.assign_to")," ",l.a.createElement("strong",null,n.username)," ",a.format("HH:mm")):t;return l.a.createElement("div",{className:ia},l.a.createElement("div",{className:la},l.a.createElement("div",{className:oa},s)))}var da="_3KyKr0QZ",ma="_1iAhHvq7",pa="_27-NHPHC",ga="_3NjNjAQN";function ha(){return(ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ba(e){let{items:t,hasMore:a,onScroll:n,conversation:r}=e;const s=Object(i.useRef)(),c=Object(i.useRef)(0),[o,u]=Object(i.useState)(!0),d=Object(i.useMemo)(()=>Array.from(function*(e,t){let a,n,r=e.length-1;for(t&&e[r]&&(yield gt(e[r],"date"));n=e[r];){if(a){const e=ht(a,n);e&&(yield a,"date"===e&&(yield gt(n,"date")),a=void 0)}a?a.messages.push(n):a=gt(n),r--}a&&(yield a)}(t,a)),[t,a]),m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;s.current.scrollTop=s.current.scrollHeight+e},p=Object(i.useCallback)(()=>m(0),[]);Object(i.useEffect)(()=>{o?p():m(-c.current)},[t.length]),Object(i.useEffect)(()=>{c.current=s.current.scrollHeight});const g=Object(i.useCallback)(e=>{u(s.current.scrollHeight-s.current.scrollTop===s.current.clientHeight),n(e)},[n]);return l.a.createElement("div",{className:da},l.a.createElement(b.a,null,l.a.createElement("div",{className:ma,ref:s,onScroll:g},a?l.a.createElement(T.a,{size:26}):l.a.createElement(Mt,{platform:r.contact.client.platform,time:rt()(r.started)}),d.map(e=>{let{type:t,messages:a,base:n}=e;switch(t){case"group":{const e="organization"===n.destination?{name:r.contact.name,avatarUrl:r.contact.avatarUrl}:{name:a[0].name};return l.a.createElement(ca,{key:"group-"+a[0]._id,destination:n.destination,messages:a,author:e})}case"date":return l.a.createElement(St,{key:`${n._id}-date-break-${n.received}`,time:rt()(n.received)});case"system":return a.map(e=>l.a.createElement(ua,{key:e._id,type:e.type,time:rt()(e.received),payload:e.payload}));default:throw new Error("Invalid item type")}}))),l.a.createElement(ut,{in:!o},l.a.createElement("div",{className:ga},l.a.createElement(dt.a,{className:pa,onClick:p},l.a.createElement(st.f,null)))))}function fa(e){const{contactId:t}=Object(m.i)(),a=function(e){const t=Object(i.useRef)(),a=Object(I.a)(),{conversation:n,items:r,next:s,hasNext:c}=Object(o.d)(t=>({conversation:Ot(t,e),...((e,t)=>e.conversations.messages[t])(t,e)||{items:[],hasNext:!0,next:null}})),{pending:l,run:u}=Object(bt.a)(t=>a.api.conversations.messages({contactId:e,query:t}));Object(i.useEffect)(()=>{u()},[e]);const d=Object(i.useCallback)(async e=>{let{target:a}=e;if(!t.current&&a.scrollTop<=200){t.current=!0;try{await u({next:s})}finally{t.current=!1}}},[e,s]);return{items:r,conversation:n,hasMore:c,onScroll:c&&!l?d:void 0}}(t);return l.a.createElement(ba,ha({},a,e))}ba.defaultProps={hasMore:!1,onScroll:()=>{}};var va=a("T8LO"),Ea=a("rd+O"),ya=a("goqe"),Oa=a("nq71"),ja=a("6TEX");function wa(){return(wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var _a=e=>{const{t:t}=Object(h.useTranslation)("ui");return l.a.createElement(X.a,wa({options:[{label:t("GenderSelect.man"),value:"male"},{label:t("GenderSelect.woman"),value:"female"}]},e))},ka=a("ZAuZ"),Na={root:"GglBXp-4",label:"_2KgRhha6",inputContainer:"_3njEQV81",input:"HVZjkBLt",icon:"KNaaxG9L",start:"D_1ky7fO",end:"_3g1Q6svO",danger:"_2O94Pfmp",success:"_2JkjBsEb",readOnly:"_32qqcN_y"};function Ca(){return(Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Pa(e){let{tag:t=ka.a,id:a,label:n,error:r,indicatorPosition:s="start",successfully:c,autoComplete:i,className:o,readOnly:u,...d}=e;const m=(r||c)&&l.a.createElement("div",{className:S()(Na.icon,Na.success,Na[s])},r&&l.a.createElement(va.g,null),c&&l.a.createElement(va.d,null));return l.a.createElement("div",{className:S()(Na.root,u&&Na.readOnly,o)},n&&l.a.createElement("label",{htmlFor:a,className:Na.label},n),l.a.createElement("div",{className:Na.inputContainer},l.a.createElement(t,Ca({id:a,className:Na.input,size:"normal",type:"text",autoComplete:"off"===i?10*Math.random()+"_autocomplete":i,readOnly:u},d)),m))}var Sa=a("qal9"),xa=a.n(Sa),Ta="_1rzSnE82",Ia="_1RnXjvWm",Ma="_31cmTFsF";const La=e=>l.a.createElement("span",null,e);function Aa(e){let{id:t,placeholder:a,value:n,disabled:r,onChange:s,onBlur:c}=e;const{t:i}=Object(h.useTranslation)("ui");return l.a.createElement(xa.a,{tagProps:{className:Ta,classNameRemove:Ia},inputProps:{className:Ma,id:t,placeholder:a||i("ui:labels.addTag"),onBlur:c},value:n,addOnBlur:!0,addOnPaste:!0,onlyUnique:!0,disabled:r,renderLayout:r?La:void 0,onChange:s})}var Ra=a("9Mw8"),Fa=a("f80g");function Da(){return(Da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ba(e,t){return i.createElement(O.b,Da({fill:"none",viewBox:"0 0 24 24",ref:t},e),i.createElement("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var Ua=i.forwardRef(Ba),za=a("ztfp"),qa={button:"_1cheHu2s",startIcon:"_3QTRIM5a",endIcon:"bgPcNmEE"};function Va(){return(Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Wa(e){return l.a.createElement(za.a,Va({styles:qa},e))}var Ha="WK6cJRTJ",Za="_3MzTnH7r",Ka="_2jCv7cQc";function Ga(e){let{isPressed:t,children:a,onToggle:n}=e;return l.a.createElement(Wa,{"aria-pressed":t,className:Ha,onClick:n},l.a.createElement("span",{className:Za},"function"==typeof a?a({isPressed:t,onToggle:n}):a),l.a.createElement(Ua,{size:14,className:Ka}))}Ga.defaultProps={isPressed:!1};var Ja="_3eXTZrMO",Qa="_1v5TCzoz",Ya="_33dvJPRt";function Xa(e){let{className:t,value:a,placeholder:n,onChange:r}=e;return l.a.createElement("div",{className:S()(Ja,t)},l.a.createElement(va.f,{size:20,color:"#8E8E93",className:Ya}),l.a.createElement("input",{type:"text",value:a,onChange:e=>r(e.target.value),placeholder:n,className:Qa}))}Xa.defaultProps={value:""};var $a="_2FH8m9p4",en="_2pLlzFtA",tn="_2zmUKgp9",an="_2cDjm3WU",nn="DgJmS7lN",rn="_1VA8NUcF",sn="_2I-QyIMJ",cn="_4TJiQ-Gr",ln="_1ZrAzzoG",on="_2WD_oHCG",un="_2FInbQPZ",dn="G2Q9yBqI",mn="_3WOSR9pT";function pn(){return(pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const gn={whatsapp:va.i,telegram:Jt.m,viber:Jt.n,messenger:Jt.o,vk:Jt.e};function hn(e){let{id:t,avatar:a,username:n,lastMessage:r,lastActivity:s,isMessageUpcoming:c,isNew:i,isBlocked:o,platform:u,...d}=e;const{t:p}=Object(h.useTranslation)("inbox"),g=gn[u],{url:b}=Object(m.j)();return l.a.createElement(y.d,pn({to:`${b}/${t}`,className:$a,activeClassName:en},d),l.a.createElement("div",{className:tn},l.a.createElement(na.a,{className:sn,src:a,name:n,size:40}),l.a.createElement("div",{className:an},l.a.createElement("div",{className:rn},l.a.createElement("div",{className:cn},n),l.a.createElement("div",{className:ln},rt()(s).fromNow())),l.a.createElement("div",{className:nn},l.a.createElement("p",{className:S()(on,{[un]:o})},o?p("uiConversation.blocked"):l.a.createElement(l.a.Fragment,null,c&&p("uiConversation.you"),r)),i&&l.a.createElement("span",{className:dn}),!i&&l.a.createElement(g,{size:14,color:"#8E8E8E",className:mn})))))}hn.defaultProps={isNew:!1,isBlocked:!1,isMessageUpcoming:!1};var bn="uwIvntTo";function fn(){return(fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function vn(e){let{items:t,hasMore:a,onScroll:n,children:r}=e;return l.a.createElement(b.a,null,l.a.createElement("div",{className:bn,onScroll:n},t.map(e=>l.a.createElement(hn,fn({key:"conversation-"+e.id},e))),a&&l.a.createElement(T.a,{color:"white"}),r))}vn.defaultProps={hasMore:!1};var En=a("p4j6"),yn=ot("DropDown",{appear:"_1iRL7IJP",enter:"_1ZdbNOAI",appearActive:"_1ysPK14i",enterActive:"_6at7aC07",exit:"_38-BBB0T",exitActive:"utVVrrLg"}),On={root:"_1Ewm6noJ",prefix:"_3fyd_hRF",active:"_1SvNJAbQ",avatar:"lMlUbShp",label:"_13ocjs2K",count:"_2c0ebXSh"};function jn(){return(jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function wn(e){let{className:t,as:a,value:n,label:r,onSelect:s,isSelected:c,meta:i}=e;const{avatar:o,icon:u,count:d}=i;let m;return o?m=l.a.createElement(na.a,jn({className:On.avatar,fontSize:12,size:24},o)):u&&(m=l.a.createElement(_n,{className:On.icon,icon:u,size:22})),l.a.createElement(a,{className:S()(On.root,t,{[On.active]:c}),onClick:e=>{e.preventDefault(),s(n)},role:"button"},m&&l.a.createElement("div",{className:On.prefix},m),l.a.createElement("div",{className:On.label},r),null!=d&&l.a.createElement("div",{className:On.count},d))}function _n(e){let{icon:t,...a}=e;return l.a.createElement(t,a)}function kn(){return(kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Nn(e,t){return i.createElement(O.b,kn({fill:"currentColor",viewBox:"0 0 14 14",ref:t},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5.586L12.293.293a1 1 0 111.414 1.414L8.414 7l5.293 5.293a1 1 0 01-1.414 1.414L7 8.414l-5.293 5.293a1 1 0 01-1.414-1.414L5.586 7 .293 1.707A1 1 0 011.707.293L7 5.586z"}))}wn.defaultProps={isSelected:!1,as:"li",meta:{}};var Cn=i.forwardRef(Nn);function Pn(){return(Pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Sn(e,t){return i.createElement(O.b,Pn({fill:"currentColor",viewBox:"0 0 14 13",ref:t},e),i.createElement("path",{d:"M1 10h12",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M9 12a2 2 0 100-4 2 2 0 000 4z",fill:"#F2F2F2",stroke:"currentColor",strokeWidth:2}),i.createElement("path",{d:"M1 3h12",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M5 5a2 2 0 100-4 2 2 0 000 4z",fill:"#F2F2F2",stroke:"currentColor",strokeWidth:2}))}var xn=i.forwardRef(Sn),Tn="_1_uYBnFr",In="_2qcnL_BL",Mn="lXy_Qdac";function Ln(e){let{isPressed:t=!1,onToggle:a}=e;return l.a.createElement(dt.a,{"aria-pressed":t,className:S()(Tn,{[Mn]:t,[In]:!t}),onClick:a},t?l.a.createElement(Cn,{size:14}):l.a.createElement(xn,{size:14}))}var An="_3_PybuVi",Rn="_2JmwZPMj",Fn="_1kE2WuSs",Dn="_3n-DnLHq";function Bn(){return(Bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Un(e){let{onChange:t,onToggle:a,options:n,value:r}=e;const{isOpen:s,toggle:c,hide:o}=Object(En.a)(),u=n.find(e=>e.value===r);Object(i.useEffect)(()=>{a&&a(s)},[s]);const d=e=>{t(e),o()};return l.a.createElement("div",{className:An},l.a.createElement("div",{className:Rn},l.a.createElement("h1",{className:Fn},u.label+" ",null!=u.meta.count&&l.a.createElement("span",null,"(",u.meta.count,")")),l.a.createElement(Ln,{isPressed:s,onToggle:c})),l.a.createElement(yn,{in:s},l.a.createElement("ul",{className:Dn},n.map((e,t)=>l.a.createElement(wn,Bn({key:t,isSelected:e.value===r,onSelect:d},e))))))}var zn=a("WDaW");function qn(){const{ui:e}=Object(I.a)();return[Object(o.d)(e=>e.ui.conversationsFilter),t=>e.setConversationsFilter(t)]}function Vn(){const e=function(){const{t:e}=Object(h.useTranslation)("inbox"),t=Object(zn.a)(),{members:a,statistics:n}=Object(o.d)(e=>({members:Object(H.a)(e),statistics:e.conversations.statistics}));return Object(i.useMemo)(()=>[{label:e("assignFilter.label.my"),value:"my",meta:{avatar:{name:t.name,src:t.avatarUrl},count:n.my}},{label:e("assignFilter.label.unassigned"),value:"unassigned",meta:{icon:st.z,count:n.unassigned}},{label:e("assignFilter.label.all"),value:"all",meta:{icon:st.p,count:n.all}},...a.filter(e=>{let{id:a}=e;return a!==t.id}).map(e=>{let{id:t,name:a,avatarUrl:n}=e;return{label:a,value:t,meta:{avatar:{name:a,src:n}}}})],[a,n])}(),[t,a]=qn(),{api:n}=Object(I.a)(),r=Object(bt.a)(n.conversations.statistics);Object(i.useEffect)(()=>{r.run({query:{status:t.status}})},[]);return{onChange:e=>a({assign:e}),options:e,value:t.assign}}var Wn="_2SoSoX9o",Hn="_3CfGgkKz",Zn="_3ZSKUoR_",Kn="_2d_-Iuzs";function Gn(e){let{name:t,value:a,onChange:n,choices:r}=e;const s=Object(i.useCallback)(e=>{n(e.target.value)},[n]);return l.a.createElement("div",{className:Wn},r.map((e,n)=>l.a.createElement("label",{key:n,className:Hn},l.a.createElement("input",{className:Kn,type:"radio",name:t,value:e.value,checked:a===e.value,onChange:s}),l.a.createElement("span",{className:Zn},e.label))))}var Jn={root:"_2dKIHuTy",faded:"_3GAVHRdg",header:"_2Ed4p3o1"};function Qn(){return(Qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Yn(){const[e,t]=Object(i.useState)(!1),a=function(){const{api:e}=Object(I.a)(),t=Object(zn.a)(),{conversations:a,hasMore:n,next:r}=Object(o.d)(e=>{const{hasNext:t,next:a}=e.conversations.list;return{conversations:kt(e),hasMore:t,next:a}}),s=Object(bt.a)(e.conversations.filterList);return Object(i.useEffect)(()=>{s.run()},[]),{items:Object(i.useMemo)(()=>a.map(e=>{let{contact:a,blocked:n,read:r,lastMessage:s}=e;const c=s&&"User"===s.authorKind&&s.author===t._id,i=Object(te.a)(s,"type"),l=Object(te.a)(s,"text","");let o;switch(i){case"image":o="Image";break;case"file":o="File";break;case"text":o=l;break;default:o="Unsupported"}return{id:a.id,avatar:a.avatarUrl,username:a.name,lastMessage:o,lastActivity:s.received,isMessageUpcoming:c,isNew:!r,isBlocked:!!n,platform:a.client.platform}}),[a]),hasMore:n,onScroll:e=>{let{target:t}=e;const a=t.scrollHeight-t.clientHeight-200;n&&t.scrollTop>=a&&s.run({query:{next:r}})}}}(),n=Vn(),r=function(){const{t:e}=Object(h.useTranslation)("inbox"),[{assign:t,searchValue:a},n]=qn();return{placeholder:Object(i.useMemo)(()=>{switch(t){case"unassigned":return e("conversationBar.searchPlaceholder.unassigned");case"my":return e("conversationBar.searchPlaceholder.my");case"all":return e("conversationBar.searchPlaceholder.all");default:return e("searchConversation.search")}},[t]),value:a,onChange:e=>n({searchValue:e})}}(),s=function(){const{t:e}=Object(h.useTranslation)("inbox"),[t,a]=qn(),n=[{value:"open",label:e("ConversationsStatusSwitch.open")},{value:"close",label:e("ConversationsStatusSwitch.close")}];return{name:"conversationsStatusName",value:t.status,choices:n,onChange:e=>{a({status:e})}}}();return l.a.createElement("div",{className:S()(Jn.root,{[Jn.faded]:e})},l.a.createElement("header",{className:Jn.header},l.a.createElement(Un,Qn({onToggle:t},n)),l.a.createElement(Xa,Qn({className:Jn.searchBlock},r)),l.a.createElement(Gn,s)),l.a.createElement(vn,a))}var Xn="_34qtuScN",$n="_20XKsAfR";function er(){return(er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function tr(e){let{options:t,placeholder:a,value:n,onChange:r}=e;const s=Object(i.useRef)(),[c,o]=Object(Ra.a)(),u=t.find(e=>e.value===n);Object(Fa.a)(s,()=>{o(!1)});const d=e=>{r(e),o(!1)};return l.a.createElement("div",{className:Xn,ref:s},l.a.createElement(Ga,{isPressed:c,onToggle:o},u?u.label:a),l.a.createElement(ut,{in:c},l.a.createElement("div",{className:$n},t.map((e,t)=>l.a.createElement(wn,er({as:"a",href:"#",key:t,isSelected:e.value===n,onSelect:d},e))))))}var ar={root:"_1AD-jjIe",content:"knOPd4QE",header:"_3XSfXdo6",sectionHeading:"DfxFfXSx",userName:"_36ZlDNjM",infoList:"_3fd5mQ_8",nav:"ZtJtqFe6"};function nr(){return(nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const rr=["name","email","phone","gender","address","notes","tags"];function sr(e){let{className:t,assignTo:a,contact:n,onSubmit:r,onClose:s}=e;const{t:c}=Object(h.useTranslation)("inbox"),{isMobile:o}=Object(ya.b)(),u=Object(i.useMemo)(()=>function(e){return rr.reduce((t,a)=>(t[a]=e[a]||(e=>"tags"===e?[]:"")(a),t),{})}(n),[n]),d=Object(Oa.a)({initialValues:u,onSubmit:r}),{success:m,getFieldProps:p}=function(e){const[t,a]=Object(i.useState)(null),[n,r]=Object(i.useState)({}),s=Object(ja.a)(t=>{a(e=>({...e,[t.target.name]:!0})),e.handleBlur(t)}),c=Object(ja.a)(e=>{var t,a;"Escape"!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),null===(t=(a=e.target).blur)||void 0===t||t.call(a))});return Object(i.useEffect)(()=>{e.dirty&&t&&Object.keys(t).length&&e.submitForm()},[t]),Object(i.useEffect)(()=>{if("success"!==e.status)return;a(null);const n={...t};r(e=>({...e,...t})),e.resetForm({values:e.values});const s=setTimeout(()=>{r(e=>{const t={...e};for(let e in n)t[e]=!1;return t})},3e3);return()=>{clearTimeout(s)}},[e.status]),{getFieldProps:t=>{const{error:a}=e.getFieldMeta(t);return{...e.getFieldProps(t),onBlur:s,onKeyDown:c,error:a}},success:n}}(d);return l.a.createElement(b.a,null,l.a.createElement("div",{className:S()(ar.root,t)},o&&l.a.createElement("header",{className:ar.nav},l.a.createElement(dt.a,{onClick:s,className:ar.backBtn},l.a.createElement(va.b,{size:24}))),l.a.createElement("form",null,l.a.createElement("section",{className:ar.header},l.a.createElement(na.a,{className:ar.avatar,size:100,name:n.name,src:n.avatarUrl}),l.a.createElement("h4",{className:ar.userName},n.name)),l.a.createElement("section",{className:ar.content},l.a.createElement("h6",{className:ar.sectionHeading},c("ClientCard.headings.infoHeading")),l.a.createElement("ul",{className:ar.infoList},rr.filter(e=>"notes"!==e&&"tags"!==e).map(e=>{const t={gender:_a};return l.a.createElement("li",{key:e},l.a.createElement(Pa,nr({},p(e),{id:"client_"+e,tag:t[e]||ka.a,successfully:m[e],label:c(`ClientCard.inputs.${e}.label`),placeholder:c(`ClientCard.inputs.${e}.placeholder`),autoComplete:"off"})))}))),l.a.createElement("section",{className:ar.content},l.a.createElement("h6",{className:ar.sectionHeading},c("ClientCard.headings.assignTo")),l.a.createElement(tr,a)),l.a.createElement("section",{className:ar.content},l.a.createElement("h6",{className:ar.sectionHeading},c("ClientCard.headings.tags")),l.a.createElement(Aa,{value:d.values.tags,onChange:e=>{d.setFieldValue("tags",e),d.submitForm()},error:d.errors.tags})),l.a.createElement("section",{className:ar.content},l.a.createElement("h6",{className:ar.sectionHeading},c("ClientCard.headings.notesHeading")),l.a.createElement(Pa,nr({},p("notes"),{successfully:m.notes,tag:Ea.a,placeholder:c("ClientCard.inputs.notes.placeholder"),autoComplete:"off",indicatorPosition:"end",maxRows:1/0}))))))}function cr(e){const{contactId:t}=Object(m.i)(),a=function(e){const t=Object(I.a)();return{contact:Object(o.d)(t=>Ot(t,e).contact),onSubmit:a=>t.api.contacts.update({contactId:e,payload:a})}}(t),n=function(e){const{t:t}=Object(h.useTranslation)("inbox"),{api:a}=Object(I.a)(),{id:n}=Object(zn.a)(),{members:r,assignTo:s}=Object(o.d)(t=>({members:Object(H.a)(t),assignTo:Ot(t,e).assignTo})),[c,l]=Object(i.useState)(s);Object(i.useEffect)(()=>{l(s)},[s]);const u=t("assignTo.unassigned"),d=Object(i.useMemo)(()=>r.map(e=>{let{id:a,name:r,avatarUrl:s}=e;return{label:n===a?t("assignTo.me"):r,value:a,meta:{avatar:{name:r,src:s}}}}),[r,n,t]);return{value:c,onChange:t=>{c!==t&&(l(t),a.conversations.assign({contactId:e,userId:t}))},placeholder:u,options:d}}(t);return l.a.createElement(sr,nr({},a,{assignTo:n},e))}sr.defaultProps={visible:!1};var ir={root:"cuwYGulf",caption:"_2k7JWnv6",contactName:"_1d8f5r3e"};function lr(){return(lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function or(e){let{name:t,avatarUrl:a,children:n,...r}=e;return l.a.createElement("figure",lr({className:ir.root},r),l.a.createElement(na.a,{className:ir.avatar,name:t,src:a,size:36}),l.a.createElement("figcaption",{className:ir.caption},l.a.createElement("div",{className:ir.contactName},t),n))}var ur="_2s5Dj-Nd",dr="VVidEssJ",mr="_1ydxEdLo",pr="_3gOwl-p0";function gr(){return(gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function hr(e,t){return i.createElement(O.b,gr({fill:"none",viewBox:"0 0 24 24",ref:t},e),i.createElement("path",{d:"M20 6L9 17l-5-5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var br=i.forwardRef(hr),fr="hHNmYlv0";function vr(e){let{isActive:t,onToggle:a}=e;return l.a.createElement(dt.a,{onClick:a,className:S()({[fr]:t})},l.a.createElement(br,{size:24}))}function Er(){return(Er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function yr(e){let{isArchivedConversation:t,contact:a,onArchiveToggle:n,openClientCard:r,children:s}=e;const{isMobile:c}=Object(ya.b)(),o=Object(i.useCallback)(e=>{e.preventDefault(),r&&r()},[r]);return l.a.createElement("header",{className:ur},c&&l.a.createElement(dt.a,{as:y.c,to:"/i",className:pr},l.a.createElement(va.b,{size:24})),l.a.createElement(or,{onClick:c?o:null,name:a.name,avatarUrl:a.avatarUrl}),l.a.createElement("div",{className:dr},s),l.a.createElement("div",{className:S()(mr)},l.a.createElement(vr,{isActive:t,onToggle:n})))}function Or(e){const{contactId:t}=Object(m.i)(),a=function(e){const{api:t}=Object(I.a)(),{isArchivedConversation:a,contact:n}=Object(o.d)(t=>{const{status:a,contact:n}=Ot(t,e);return{isArchivedConversation:"close"===a,contact:n}});return{isArchivedConversation:a,contact:n,onArchiveToggle:n=>{n.preventDefault(),t.conversations.changeStatus({contactId:e,status:a?"open":"close"})}}}(t);return l.a.createElement(yr,Er({},a,e))}function jr(){return(jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function wr(e,t){return i.createElement(O.b,jr({fill:"none",viewBox:"0 0 20 20",ref:t},e),i.createElement("path",{d:"M6 6h4",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",className:"prefix__line-1"}),i.createElement("path",{d:"M6 10h8",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",className:"prefix__line-2"}),i.createElement("path",{d:"M6 14h2",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",className:"prefix__line-3"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 0H3a3 3 0 00-3 3v14a3 3 0 003 3h14a3 3 0 003-3V3a3 3 0 00-3-3zM2 3a1 1 0 011-1h14a1 1 0 011 1v14a1 1 0 01-1 1H3a1 1 0 01-1-1V3z",fill:"currentColor"}))}var _r=i.forwardRef(wr),kr=a("LkJY");var Nr=a("DX7n"),Cr={button:"BEA8r__9",startIcon:"nzwsV0xy",endIcon:"_3Kb3Br1Z"};function Pr(){return(Pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Sr(e){return l.a.createElement(za.a,Pr({styles:Cr},e))}function xr(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[t,a]=Object(i.useState)(e),n=Object(i.useCallback)(()=>a(!0),[]),r=Object(i.useCallback)(()=>a(!1),[]),s=Object(i.useCallback)(e=>a("boolean"==typeof e?e:e=>!e),[]);return[t,n,r,s]}function Tr(){return(Tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ir(e,t){return i.createElement(O.b,Tr({fill:"none",viewBox:"0 0 14 18",ref:t},e),i.createElement("path",{d:"M8 3.414l4.293 4.293a1 1 0 101.414-1.414l-6-6a1 1 0 00-1.414 0l-6 6a1 1 0 001.414 1.414L6 3.414v13.642c0 .521.448.944 1 .944s1-.423 1-.944V3.414z",fill:"currentColor"}))}var Mr=i.forwardRef(Ir);function Lr(e){Object(i.useEffect)(()=>{e&&ae.a.danger(e,{showClose:!0})},[e])}var Ar={root:"Moo7hMjw",input:"_1X5SEB6i",inputContainer:"_3m9hdbjq",btn:"_1WbacLs2",btnWrap:"_1XzSfpir",filled:"ujQkPXw2",children:"_3gDhv8uj"};function Rr(){return(Rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Fr(e){let{className:t,value:a,isFetching:n,onChange:r,onEnterPress:s,onSubmitClick:c,children:o,error:u,...d}=e;const[m,p,g]=xr(!1);Lr(u);const h=Object(i.useCallback)(e=>{e.shiftKey||13!==e.which||(e.preventDefault(),s&&s(e))},[s]),f=!!a.trim();return l.a.createElement("div",{className:S()(Ar.root,t,{[Ar.filled]:f,[Ar.focused]:m})},l.a.createElement("div",{className:Ar.inputContainer},l.a.createElement(b.a,null,l.a.createElement(Ea.a,Rr({className:Ar.input,onChange:r,onKeyPress:h,tabIndex:"0",value:a,maxLength:2e3,onFocus:p,onBlur:g,name:"message"},d))),l.a.createElement("div",{className:Ar.children},o)),l.a.createElement("div",{className:S()(Ar.btnWrap)},l.a.createElement(dt.a,{className:Ar.btn,type:"submit",disabled:n,onClick:c},n?l.a.createElement(T.a,{color:"white",size:24,borderWidth:2}):l.a.createElement(Mr,{size:20}))))}function Dr(){return(Dr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Br(e,t){return i.createElement(O.b,Dr({fill:"none",viewBox:"0 0 17 16",ref:t},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.154 7V1c0-.552.454-1 1.014-1s1.014.448 1.014 1v6h6.085c.56 0 1.014.448 1.014 1s-.454 1-1.014 1H9.182v6c0 .552-.454 1-1.014 1s-1.014-.448-1.014-1V9H1.07C.51 9 .056 8.552.056 8S.51 7 1.07 7h6.084z",fill:"currentColor"}))}Fr.defaultProps={isFetching:!1};var Ur=i.forwardRef(Br),zr="_3mo-wRdf";function qr(){return(qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Vr(e){let{isFetching:t,error:a,...n}=e;const{t:r}=Object(h.useTranslation)("inbox");return Lr(a),l.a.createElement(dt.a,{className:zr,as:"label",disabled:t},l.a.createElement("input",qr({key:String(t),name:"attachment",type:"file"},n)),t?l.a.createElement(T.a,{size:22}):l.a.createElement(Ur,{size:16,title:r("AttachFileButton.tip")}))}Vr.defaultProps={isFetching:!1};var Wr={root:"_3jXAjtDm",input:"_1yUSEa9p",send:"_1EeBNq5H",assign:"u9-PuNNc"};function Hr(){return(Hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Zr(e){let{isAssigned:t,isFetching:a,onSendMessage:n,onSendAttachment:r,onAssign:s}=e;const{t:c}=Object(h.useTranslation)("inbox"),{url:o}=Object(m.j)(),u=Object(Oa.a)({initialValues:{attachment:null},onSubmit:r,resetOnSuccess:!0}),d=Object(Oa.a)({initialValues:{message:""},onSubmit:n,resetOnSuccess:!0});!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;const a=e.dirty,n=Object(ja.a)(()=>e.submitForm()),r=Object(i.useMemo)(()=>Object(Je.default)(n,t),[t]);Object(kr.a)(()=>{a&&r()},[r,a])}(u,200);const p=Object(Nr.b)();return Object(i.useEffect)(()=>{const e=e=>d.setFieldValue("message",e);return p.on("inbox:replySelect",e),()=>p.removeListener("inbox:replySelect",e)},[d.setFieldValue]),Object(i.useEffect)(()=>{p.emit("inbox:messageChange",d.values.message)},[d.values.message]),l.a.createElement("footer",{className:Wr.root},t?l.a.createElement("div",{className:Wr.send},l.a.createElement("form",{onSubmit:u.handleSubmit},l.a.createElement(Vr,{isFetching:a,onChange:e=>u.setFieldValue("attachment",e.target.files[0]),error:u.errors.attachment})),l.a.createElement("form",{className:Wr.input,onSubmit:d.handleSubmit},l.a.createElement(Fr,{placeholder:c("messagesFooter.placeholder"),onChange:d.handleChange,value:d.values.message,onEnterPress:()=>d.submitForm(),error:d.errors.message},l.a.createElement(dt.a,{as:y.c,to:o+"/replies",className:Wr.quickReplyBtn},l.a.createElement(_r,{title:c("SendMessage.quickRepliesTip")}))))):l.a.createElement("div",{className:Wr.assign},l.a.createElement(Sr,{onClick:s,startIcon:l.a.createElement(st.A,{size:24})},c("messagesFooter.button.assign"))))}function Kr(e){const{contactId:t}=Object(m.i)(),a=function(e){const{api:t}=Object(I.a)(),a=Object(o.d)(t=>!!Ot(t,e).assignTo),n=Object(i.useCallback)(a=>{let{message:n}=a;return n&&t.conversations.sendMessage({contactId:e,payload:{text:n}})},[e,t]),{run:r,pending:s}=Object(bt.a)(a=>{let{attachment:n}=a;return n&&t.conversations.sendAttachment({contactId:e,payload:{file:n}})},[e,t]);return{isAssigned:a,isFetching:s,onSendMessage:n,onSendAttachment:r,onAssign:Object(i.useCallback)(()=>t.conversations.assignMe({contactId:e}),[e,t])}}(t);return l.a.createElement(Zr,Hr({},a,e))}Zr.defaultProps={isAssigned:!1,message:""};var Gr=ot("DropUp",{appear:"xBSYrJ9T",enter:"_276QvmZP",appearActive:"_2t-ePl1g",enterActive:"_8mVQuzDX",exit:"csi60zsV",exitActive:"_2_XbwVAR"});function Jr(){return(Jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Qr(e,t){return i.createElement(O.b,Jr({viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",ref:t},e),i.createElement("path",{d:"M17 3a2.828 2.828 0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"}))}var Yr=i.forwardRef(Qr),Xr="_2t6dA-UU",$r="_2OB6to60",es="_1I5ouIZT",ts="_3cRMQhlT",as="_3_DCekfu",ns="_3GdoSigS";function rs(){return(rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}ee.a.shape({_id:ee.a.string.isRequired,shortcut:ee.a.string.isRequired,message:ee.a.string.isRequired});function ss(e){let{data:t,isEdit:a,onSelect:r,...s}=e;const{t:c}=Object(n.d)("inbox"),{url:i}=Object(m.j)();return l.a.createElement("li",rs({className:Xr,"data-replyid":t.shortcut},s),l.a.createElement("div",{className:$r,onClick:e=>{e.preventDefault(),r&&r(t)}},l.a.createElement("h4",{className:as},t.shortcut),l.a.createElement("p",{className:ns},t.message)),a&&l.a.createElement("div",{className:es},l.a.createElement(dt.a,{as:y.c,to:`${i}/${t._id}`,className:ts},l.a.createElement(Yr,{size:24,title:c("QuickRepliesPopup.editTip")}))))}ss.defaultProps={isEdit:!1};var cs=a("PZsd"),is=a.n(cs);var ls="_2mkChHOy",os="_2Y3Nuf6C",us="_1qTlQw_X",ds="jq-TTVyt",ms="O6Jy7geQ",ps="_38EmaREO";function gs(){return(gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function hs(e){let{isOpen:t,items:a,onSelectItem:n}=e;const{t:r}=Object(h.useTranslation)("inbox");return l.a.createElement(l.a.Fragment,null,l.a.createElement(ut,{in:t,duration:"normal"},l.a.createElement("div",{className:ls})),l.a.createElement(Gr,{in:t,duration:"normal"},l.a.createElement("div",{className:os},l.a.createElement("header",{className:us},l.a.createElement("h3",{className:ms},r("QuickRepliesMatchPopup.title"))),l.a.createElement(b.a,null,l.a.createElement("div",{className:ds},l.a.createElement("ul",{className:ps},a.map(e=>l.a.createElement(ss,{data:e,key:e._id,onSelect:n}))))))))}function bs(e){const t=function(){const e=Object(p.a)(),[t,a]=Object(i.useState)(),[n,r]=Object(i.useState)(""),s=Object(Nr.b)();Object(i.useEffect)(()=>(s.on("inbox:messageChange",r),()=>s.removeListener("inbox:messageChange",r)),[]);let c=[];if(n){const t=new RegExp("^"+is()(n),"i");c=e.replies.filter(e=>{let{shortcut:a}=e;return t.test(a)})}Object(i.useEffect)(()=>{a(c.length>0)},[c.length]);const l=Object(i.useCallback)(e=>{let{message:t}=e;s.emit("inbox:replySelect",t)},[]);return{isOpen:t,items:c,onSelectItem:l}}();return l.a.createElement(hs,gs({},t,e))}hs.defaultProps={isOpen:!1};var fs=a("vFhw");function vs(){return(vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Es(e,t){return i.createElement(O.b,vs({viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},e),i.createElement("path",{d:"M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"}),i.createElement("path",{d:"M17 21v-8H7v8M7 3v5h8"}))}var ys=i.forwardRef(Es);function Os(){return(Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function js(e,t){return i.createElement(O.b,Os({viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},e),i.createElement("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2M10 11v6M14 11v6"}))}var ws=i.forwardRef(js),_s={root:"M_dBmKw1",header:"ecVKX-Gc",title:"_3Iay4TaO",content:"_2dWVLgCM",body:"SVvQ5mqd",footer:"_1vvKkZTI",headerAfter:"_1jEt7c0x",headerBefore:"_1e0H5tEg"};function ks(e){let{onClose:t,title:a,buttons:n,children:r,footer:s}=e;return l.a.createElement("div",{className:S()(_s.root)},l.a.createElement("header",{className:_s.header},l.a.createElement("div",{className:_s.headerBefore},l.a.createElement(dt.a,{className:S()(_s.close),onClick:t},l.a.createElement(Cn,{size:15}))),l.a.createElement("h4",{className:_s.title},a),l.a.createElement("div",{className:_s.headerAfter},n)),l.a.createElement(b.a,null,l.a.createElement("div",{className:_s.content},r)),s&&l.a.createElement("footer",{className:_s.footer},s))}var Ns=a("JuTl");function Cs(){return(Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ps(e){let{data:t,onSubmit:a,onRemove:n,onClose:r,...s}=e;const{t:c}=Object(h.useTranslation)("inbox"),i=Object(bt.a)(n),o=Object(Oa.a)({initialValues:{shortcut:Object(te.a)(t,"shortcut",""),message:Object(te.a)(t,"message","")},enableReinitialize:!0,onSubmit:a});("success"===o.status||i.fulfilled)&&r&&r();const u=!(t&&t._id),d=u?c("QuickReplyEditPopup.title"):t.shortcut,m=l.a.createElement(l.a.Fragment,null,o.dirty&&l.a.createElement(dt.a,{onClick:o.submitForm},l.a.createElement(ys,{size:22,title:c("ui:button.save")})),!u&&l.a.createElement(dt.a,{color:"#dc5960",onClick:()=>i.run()},l.a.createElement(ws,{size:22,title:c("ui:button.remove")})));return l.a.createElement(ks,Cs({title:d,buttons:m,onClose:r},s),l.a.createElement("form",{onSubmit:o.handleSubmit},l.a.createElement(Y.a,Cs({label:c("QuickReplyEditPopup.shortcut.label"),placeholder:c("QuickReplyEditPopup.shortcut.placeholder"),maxLength:20,errors:o.errors.shortcut},o.getFieldProps("shortcut"))),l.a.createElement(Y.a,Cs({component:fs.a,label:c("QuickReplyEditPopup.message.label"),placeholder:c("QuickReplyEditPopup.message.placeholder"),maxLength:2e3,errors:o.errors.message},o.getFieldProps("message")))))}function Ss(e){const{replyId:t}=Object(m.i)(),a=function(e){const t=Object(m.g)(),{url:a}=Object(m.j)(),{api:n}=Object(I.a)(),r=Object(p.a)(),[s,c]=Object(i.useState)();let l,o,u;return Object(i.useEffect)(()=>{s&&t.push(s)},[s]),e?(l=r.replies.find(t=>t._id===e),o=t=>n.replies.update({replyId:e,payload:t}),u=()=>n.replies.delete({replyId:e})):o=e=>n.replies.create({payload:e}),{data:l,onSubmit:o,onRemove:u,onClose:()=>c(Object(Ns.a)(a,".."))}}(t);return l.a.createElement(Ps,Cs({},a,e))}var xs="_9D7d20qF";function Ts(){return(Ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Is(e){let{items:t,onSelectItem:a,onClose:n,...r}=e;const{t:s}=Object(h.useTranslation)("inbox"),{url:c}=Object(m.j)(),i=function(){a&&a(...arguments),n&&n()};return l.a.createElement(ks,Ts({title:s("QuickRepliesPopup.title"),buttons:l.a.createElement(dt.a,{as:y.c,to:c+"/new"},l.a.createElement(Ur,{size:18,title:s("QuickRepliesPopup.addTip")})),footer:s("QuickRepliesPopup.footerText"),onClose:n},r),t.length>0&&l.a.createElement("ul",{className:xs},t.map(e=>l.a.createElement(ss,{data:e,key:e._id,isEdit:!0,onSelect:i}))))}function Ms(e){const t=function(){const e=Object(p.a)(),t=Object(m.g)(),{url:a}=Object(m.j)(),[n,r]=Object(i.useState)(),s=Object(Nr.b)();return Object(i.useEffect)(()=>{n&&t.push(n)},[n]),{items:e.replies,onClose:()=>r(Object(Ns.a)(a,"..")),onSelectItem:Object(i.useCallback)(e=>{let{message:t}=e;s.emit("inbox:replySelect",t)},[])}}();return l.a.createElement(Is,Ts({},t,e))}var Ls=a.p+"inbox/img/aquaman.png",As="_11sw18TV",Rs="_1p_JrHZP",Fs="_9AwEj8Rn",Ds="_3OjsScVA";const Bs=()=>{const{t:e}=Object(h.useTranslation)("inbox");return l.a.createElement("div",{className:As},l.a.createElement("img",{className:Rs,src:Ls,alt:"No Conversations Selected"}),l.a.createElement("h2",{className:Fs},e("noConversation.heading")),l.a.createElement("p",{className:Ds},e("noConversation.description")))};var Us="_3DkkSk37",zs="_2JmjmC7i";function qs(){const{path:e}=Object(m.j)(),{contactId:t}=Object(m.i)(),{api:a}=Object(I.a)(),{isBelowDesktop:n}=Object(ya.b)(),[r,s,c]=xr(),u=Object(o.d)(e=>Ot(e,t)),d=Object(bt.a)(a.conversations.read);if(Object(i.useEffect)(()=>{u||a.conversations.retrieve({contactId:t})},[u]),!u)return null;function p(){u.read||d.run({contactId:t})}return l.a.createElement("div",{className:Us,key:"contact-"+t,onMouseMove:p,onClick:p,onKeyPress:p},l.a.createElement(m.d,null,l.a.createElement(m.b,{path:e},l.a.createElement("div",{className:zs,hidden:r},l.a.createElement(m.d,null,l.a.createElement(m.b,{path:e+"/replies/new",exact:!0},l.a.createElement(Ss,null)),l.a.createElement(m.b,{path:e+"/replies/:replyId",exact:!0},l.a.createElement(Ss,null)),l.a.createElement(m.b,{path:e+"/replies",exact:!0},l.a.createElement(Ms,null))),l.a.createElement(bs,null),l.a.createElement(Or,{openClientCard:s}),l.a.createElement(fa,null),l.a.createElement(Kr,null)),(!n||r)&&l.a.createElement(cr,{onClose:c}))))}function Vs(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ke.a,null,l.a.createElement(Yn,null)),l.a.createElement(m.d,null,l.a.createElement(m.b,{path:"/i/:contactId",component:qs}),l.a.createElement(m.b,{render:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(Ke.a,null,l.a.createElement(Bs,null)),l.a.createElement(Ke.b,null,l.a.createElement(Yn,null)))})))}var Ws=a("iVRF");function Hs(){const e=Object(p.a)(),t=Object(m.j)(),a=e.integrations.length>0;return function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{api:t}=Object(I.a)();Object(i.useEffect)(()=>{e&&async function(){try{const e=await Ws.a.askPermission();let a=await Ws.a.getSubscription();if(a&&!e)return void await Ws.a.unsubscribe();if(!e)return;a||(a=await Ws.a.subscribe()),a&&await t.users.saveMySubscription({payload:a})}catch(e){Ws.a.handleError(e)}}()},[e])}(a),l.a.createElement(g.a,{rule:"inbox",reason:{code:"inbox",plan:"pro"},center:!0},l.a.createElement(m.d,null,l.a.createElement(m.b,{path:t.path+"/onboard",component:Ze}),a?l.a.createElement(m.b,{path:""+t.path,component:Vs}):l.a.createElement(m.a,{to:t.path+"/onboard"})))}},BHCP:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/telegram2.svg"},C4Pa:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/onboarding/no_branding.svg"},DSsC:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/card/logo.svg"},DX7n:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l}));var n=a("r0ML"),r=a.n(n),s=a("jxal");const c=Object(n.createContext)(new s.EventEmitter);function i(e){let{children:t}=e;const[a]=Object(n.useState)(()=>new s.EventEmitter);return r.a.createElement(c.Provider,{value:a},t)}function l(){return Object(n.useContext)(c)}},DkZq:function(e,t,a){"use strict";a.d(t,"a",(function(){return Qa})),a.d(t,"b",(function(){return $a})),a.d(t,"c",(function(){return k})),a.d(t,"g",(function(){return ae})),a.d(t,"j",(function(){return Ka})),a.d(t,"k",(function(){return ha})),a.d(t,"i",(function(){return _n})),a.d(t,"m",(function(){return Mn})),a.d(t,"e",(function(){return An})),a.d(t,"d",(function(){return Pr})),a.d(t,"f",(function(){return Nr})),a.d(t,"l",(function(){return Tr})),a.d(t,"h",(function(){return Lr}));var n=a("r0ML"),r=a.n(n),s=a("Pc05"),c=a.n(s),i=a("pnxo"),l=a("6dgs"),o=a("Jafw"),u=a("bCRH"),d=(a("8itW"),a("xsHC"),a("tYC8")),m=a("Fz8S");const p=r.a.createContext({uid:"",experiments:[]});function g(e){let{id:t,experiment:a}=e;const{uid:r,experiments:s}=Object(n.useContext)(p);return Object(n.useMemo)(()=>{const e=(e=>m.a.parse(window.location.search)["_ab_"+e])((null==a?void 0:a.id)||t),n=a||t&&s.find(e=>e.id===t);if(!n)return e;if(e&&n.variants.find(t=>{let{id:a}=t;return a===e}))return e;const c=((e,t)=>{if(e.length>1){const a=e.reduce((e,t)=>{let{weight:a}=t;return e+a},0);let n=Math.abs(Object(d.str)(t))%a;for(const t of e)if(n-=t.weight,n<0)return t}return e[0]})(n.variants,r);return null==c?void 0:c.id},[r,s])}var h=a("jMR3"),b=a.p+"cards/img/logo-white.svg",f={root:"_3RVSwz7L",logo:"_1N6CPspF",button:"TZdhPGGG"};function v(e){let{className:t,animated:a=!1}=e;const n=Object(o.a)(),s=Object(u.b)(),i=g({id:"branding"}),l="ru"===s?"Создать страницу":"Make your page";return r.a.createElement("div",{className:c()(f.root,t,f.slideDown,a?f.animated:null)},r.a.createElement(h.a,{id:"legacy-card-branding-logo","data-experiment":i,href:n,className:f.logo},r.a.createElement("img",{src:b,alt:"mssg.me logo"})),r.a.createElement(h.a,{id:"legacy-card-branding-link","data-experiment":i,href:n,className:f.button},l))}var E=a("ZmyB"),y="_17hyIrJX",O="_1nw4iph5";const j=e=>{let t,{background:a}=e;return t="color"===a.type?`linear-gradient(135deg, rgba(${Object(E.a)(a.color)}, 1) 0%, rgba(${Object(E.a)(a.color)}, .6) 100%)`:`url(${a.imageUrl})`,r.a.createElement("div",{className:c()(y,{[O]:"image"===a.type}),style:{backgroundImage:t}})};var w="_1i2LOWZW",_="_3K1476ou";const k=e=>{let{children:t,placement:a="card"}=e;const n=r.a.Children.toArray(t);return r.a.createElement("div",{className:w},r.a.createElement("ul",{className:_,count:t.length,id:a+"_messengers"},n.map((e,t)=>r.a.createElement("li",{key:t},e))))};var N=a("xUbJ"),C=a("Xoms");function P(){return(P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var S=n.createElement("path",{d:"M18.2 11.3c-.5-.5-2.7-2.1-7.5-2.1 0 0-5.7-.3-8.5 2.2C.6 13 .1 15.2 0 18c0 2.8-.1 8.1 5 9.5v2.2s0 .9.5 1.1c.7.2 1.1-.5 1.8-1.2.4-.4.9-1 1.3-1.4 3.5.3 6.1-.4 6.4-.5.7-.2 4.7-.7 5.3-6 .7-5.4-.3-8.9-2.1-10.4m.6 10c-.5 4.4-3.8 4.7-4.4 4.9-.3.1-2.6.7-5.5.5 0 0-2.2 2.6-2.9 3.3-.1.1-.2.2-.3.1-.1 0-.2-.2-.1-.4v-3.6c-4.3-1.2-4-5.7-4-8s.5-4.3 1.8-5.6c2.4-2.1 7.2-1.8 7.2-1.8 4.1 0 6 1.2 6.5 1.7 1.5 1.3 2.2 4.4 1.7 8.9"}),x=n.createElement("path",{d:"M12.6 18.2c-.1 0-.3-.1-.3-.3 0-.9-.5-1.4-1.4-1.4-.2 0-.3-.1-.3-.3 0-.2.1-.3.3-.3 1.2.1 1.8.7 1.9 1.9.1.2 0 .4-.2.4"}),T=n.createElement("path",{d:"M14 18.7c-.2 0-.3-.1-.3-.3 0-.9-.2-1.7-.8-2.3-.6-.6-1.3-1-2.4-1-.2 0-.3-.1-.3-.3 0-.2.1-.3.3-.3 1.2.1 2.1.5 2.7 1.2.7.7 1 1.6 1 2.7.1.1 0 .3-.2.3"}),I=n.createElement("path",{d:"M15.5 19.2c-.1 0-.3-.1-.3-.3 0-1.7-.5-2.9-1.5-3.9-1-.9-2.2-1.4-3.6-1.4-.2 0-.3-.1-.3-.3 0-.2.1-.3.3-.3 1.6 0 2.9.5 4 1.6 1.1 1 1.6 2.5 1.6 4.3 0 .2-.1.3-.2.3zM11.1 21.6s.4 0 .6-.2l.4-.5c.2-.3.7-.4 1.1-.2.3.1.7.4 1 .6.3.2.9.7.9.7.3.3.4.6.2 1s-.5.7-.8 1c-.3.2-.6.4-.9.4h-.1c-.1 0-.2 0-.4-.1-.4-.1-1.1-.4-2.3-1.1-.8-.4-1.4-.9-2-1.3-.3-.2-.6-.5-.9-.8-.3-.3-.6-.6-.8-.9-.4-.5-.9-1.2-1.3-2-.7-1.2-1-1.9-1.1-2.3 0-.1-.1-.2-.1-.4v-.1c0-.3.2-.6.4-.9.3-.4.7-.6 1-.8.4-.2.8-.1 1 .2 0 0 .5.6.7.9.2.3.5.7.6 1 .3.5.1.9-.2 1.1l-.5.4c-.1.3-.1.7-.1.7s.7 2.9 3.6 3.6"});var M=function(e){return n.createElement("svg",P({viewBox:"-0.7 9 22 22"},e),S,x,T,I)};function L(){return(L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var A=n.createElement("path",{d:"M18.3 10.9s2.9-4.1 3.2-5.4c.1-.5-.1-.7-.6-.7h-2.5c-.6 0-.8.2-1 .6 0 0-1.4 2.9-3 4.7-.5.6-.8.8-1.1.8-.2 0-.3-.2-.3-.7V5.5c0-.7-.1-.8-.6-.8h-4c-.3 0-.5.2-.5.4 0 .6.9.8.9 2.4v3.4c0 .7 0 1-.4 1-.9 0-2.9-3-4.1-6.4-.2-.7-.5-.9-1.1-.9H.6c-.4 0-.6.2-.6.6 0 .7.8 3.8 3.9 7.9 2.1 2.8 4.8 4.3 7.3 4.3 1.5 0 1.9-.2 1.9-.9v-2.2c0-.5.2-.8.5-.8s1 .1 2.4 1.5c1.7 1.6 1.8 2.3 2.7 2.3h2.8c.3 0 .6-.1.6-.6 0-.6-.8-1.8-2.1-3.1-.5-.7-1.4-1.4-1.6-1.8-.5 8.7-.4 8.5-.1 8.1"});var R=function(e){return n.createElement("svg",L({viewBox:"0 0 22 22"},e),A)};function F(){return(F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var D=n.createElement("path",{d:"M7.57 10.532l7.034 5.197c.802.443 1.382.214 1.582-.745l2.863-13.493C19.342.316 18.6-.217 17.833.131L1.02 6.616C-.128 7.075-.121 7.715.81 8l4.315 1.347 9.99-6.302c.47-.286.903-.132.548.183"});var B=function(e){return n.createElement("svg",F({viewBox:"-0.5 -2 20 20"},e),D)};function U(){return(U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var z=n.createElement("path",{d:"M21.2 21.8v.1-.2.1c.1-.6.2-1.3.2-1.9 0-1.4-.3-2.8-.8-4-.5-1.2-1.3-2.3-2.2-3.3-1-1-2.1-1.7-3.3-2.2-1.3-.5-2.6-.8-4-.8-.7 0-1.3.1-2 .2 0 0 .1 0 .1.1H9h.1C8.2 9.3 7.2 9 6.2 9c-1.7 0-3.2.7-4.4 1.8C.6 12 0 13.5 0 15.2c0 1 .3 2.1.8 3v-.1.2s0-.1-.1-.1c-.1.6-.2 1.2-.2 1.8 0 1.4.3 2.8.8 4 .5 1.2 1.3 2.3 2.2 3.3 1 1 2.1 1.7 3.3 2.2 1.3.5 2.6.8 4 .8.6 0 1.2-.1 1.8-.2 0 0-.1 0-.1-.1h.1c.9.5 2 .8 3 .8 1.6 0 3.2-.6 4.3-1.8 1.2-1.2 1.8-2.7 1.8-4.3.3-.9 0-2-.5-2.9zM11 26.3c-3.7 0-5.3-1.8-5.3-3.2 0-.7.5-1.2 1.2-1.2 1.6 0 1.2 2.3 4.1 2.3 1.5 0 2.3-.8 2.3-1.7 0-.5-.2-1.1-1.2-1.3l-3.3-.8c-2.6-.7-3.1-2.1-3.1-3.4 0-2.8 2.6-3.8 5.1-3.8 2.3 0 5 1.3 5 2.9 0 .7-.6 1.1-1.3 1.1-1.3 0-1.1-1.9-3.8-1.9-1.3 0-2.1.6-2.1 1.5s1.1 1.1 2 1.4l2.4.5c2.7.6 3.3 2.1 3.3 3.6 0 2.3-1.7 4-5.3 4zm1.7 3.8s.1 0 .1.1h.1l-.2-.1zm8.5-8.2v-.1s0-.1-.1-.1l.1.2zM.8 18v.1s0 .1.1.1L.8 18zm8.3-8.2s-.1 0-.1-.1h-.1l.2.1z"});var q=function(e){return n.createElement("svg",U({viewBox:"-0.1 8.9 22 22"},e),z)};function V(){return(V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var W=n.createElement("path",{d:"M11.2 28.8c-2.8 0-5-1.5-5-1.5l-3.4 1.1 1.1-3.3s-1.8-2.5-1.8-5.4c0-5 4.1-9.1 9.1-9.1s9.1 4.1 9.1 9.1-4.1 9.1-9.1 9.1zm0-19.9C5.2 8.9.4 13.8.4 19.7c0 3 1.6 5.6 1.6 5.6l-2 5.8 5.9-1.9s2.2 1.3 5.2 1.3c6 0 10.8-4.9 10.8-10.8S17.1 8.9 11.2 8.9z"}),H=n.createElement("path",{d:"M7 15s.3-.2.4-.2h.9s.2 0 .3.3c.1.2.8 1.9.9 2.1.1.1.2.5 0 .7-.2.3-.7.8-.7.8s-.2.2 0 .4c.2.3.7 1.1 1.5 1.8.7.7 1.6 1.2 2.1 1.3.5.1.6 0 .7-.3.2-.2.7-.9.7-.9s.2-.3.6-.1c.4.2 2.1 1 2.1 1s.2 0 .2.3c0 .2.2 1-.5 1.7-.6.7-2 1-2.7.8-.6-.2-2.8-.7-4.2-2-1.4-1.3-2.5-2.7-3-3.7-.4-1-.3-1.6-.3-1.8 0-.3.2-1.6 1-2.2"});var Z=function(e){return n.createElement("svg",V({viewBox:"0 9 22 22"},e),W,H)};function K(){return(K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var G=n.createElement("path",{d:"M9.7 9.8c-1.7.1-3.3.5-4.6 1.2-.2.1-.3.2-.3.2l-1.2.8c-4.5 3.6-4.9 10.6-.8 14.7l.4.4c.3.3.3.4.3 1.4 0 1.3 0 1.4.3 1.6.3.3.6.3 1.2.1.4-.2 1.8-.8 1.9-.8.2-.1.3 0 .7 0 2.3.6 4.7.4 6.9-.4 4.4-1.8 6.8-6.2 6-11-1-5.1-5.5-8.5-10.8-8.2m6.6 6.9c.4.2.3.3-.4 1.6-.3.5-.7 1.2-1 1.5-.2.3-.5.8-.6.9-.4.6-.6 1-.8 1.2-.4.6-.8.9-1.4.9-.6 0-.5 0-2-1.1s-1.4-1.1-1.6-1.1c-.3-.1-.3-.1-1.3.7-2.4 1.9-2.5 1.9-2.6 1.9-.3 0-.6-.2-.6-.5 0-.2 0-.2.3-.6.2-.1.3-.3.7-.9.1-.1.2-.3.3-.4.1-.1.2-.3.3-.4.1-.1.3-.4.4-.7.2-.3.4-.7.6-.9.1-.3.3-.7.4-.8.4-.6.8-.8 1.4-.8.5 0 .5 0 2.1 1.2 1.4 1 1.4 1 1.6 1 .2 0 .1.1 2.5-1.8 1.3-1 1.4-1.1 1.7-.9"});var J=function(e){return n.createElement("svg",K({viewBox:"-0.7 9 22 22"},e),G)};function Q(){return(Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Y=n.createElement("path",{d:"M10.345 11.865c2.762 0 3.09.01 4.181.06 2.804.128 4.113 1.458 4.24 4.24.05 1.091.06 1.419.06 4.18 0 2.764-.01 3.09-.06 4.181-.128 2.78-1.434 4.113-4.24 4.24-1.091.05-1.417.061-4.181.061-2.762 0-3.09-.01-4.18-.06-2.81-.129-4.113-1.465-4.24-4.242-.05-1.09-.061-1.417-.061-4.18 0-2.762.011-3.089.06-4.18.129-2.782 1.435-4.113 4.24-4.24 1.092-.05 1.419-.06 4.181-.06zm0-1.865c-2.81 0-3.161.012-4.265.062C2.323 10.235.235 12.32.063 16.08.013 17.184 0 17.535 0 20.345s.012 3.162.062 4.266c.172 3.756 2.257 5.845 6.017 6.017 1.105.05 1.456.062 4.266.062s3.162-.012 4.266-.062c3.753-.172 5.846-2.257 6.016-6.017.05-1.104.063-1.457.063-4.266 0-2.81-.012-3.161-.062-4.265-.169-3.753-2.256-5.845-6.017-6.017-1.104-.05-1.457-.063-4.266-.063zm0 5.033a5.312 5.312 0 100 10.625 5.312 5.312 0 000-10.625zm0 8.76a3.448 3.448 0 110-6.896 3.448 3.448 0 010 6.896zm5.522-10.211a1.242 1.242 0 100 2.484 1.242 1.242 0 000-2.484z"});var X={viber:M,vk:R,telegram:B,line:q,skype:q,whatsapp:Z,messenger:J,instagram:function(e){return n.createElement("svg",Q({viewBox:"-0.7 9.4 22 22"},e),Y)}},$={root:"_1z9n_2jR",messenger:"_2jHQlwMo",whatsapp:"_3WurcoaT",telegram:"_305wydrI",vk:"_2Fi6oBbw",skype:"_20c5-Sc-",viber:"_2bUQepOh"};function ee(){return(ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function te(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ae extends r.a.Component{constructor(){super(...arguments),te(this,"handleClick",e=>{const{onClick:t}=this.props;if(t)return t(e);if(N.a.Android){e.preventDefault();const{currentTarget:t}=e,a=t.href;window.open(a)}})}render(){const{platform:e,className:t,...a}=this.props,n=X[e];return r.a.createElement("a",ee({className:c()($.root,$[e],t),target:"_blank",rel:"noopener noreferrer"},a,{onClick:this.handleClick}),r.a.createElement(n,null),r.a.createElement("span",null))}}var ne="_1sx8vp36",re="_2lxLLtfL",se="_2up6UFXG",ce="_6qClcIco",ie="_35Pu2Bti",le="_1aduFP8G",oe="_3XIHxQX0";function ue(){return(ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function de(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class me extends n.Component{constructor(e){super(e),de(this,"toggleDescription",()=>{this.setState({excerpt:!this.state.excerpt})});const{description:t}=this.props;this.state={excerpt:t.length>90}}render(){const{photo:e,fullName:t,category:a,messengers:n,animated:s,description:i}=this.props,l=n.map(e=>({platform:e.messenger,href:N.a.isMobile?Object(C.a)(e).getUrl():e.redirectUrl}));return r.a.createElement("div",{className:c()(ne,re,s?se:null)},r.a.createElement("div",{className:ce},r.a.createElement("div",{className:ie},r.a.createElement("img",{src:e,alt:t})),r.a.createElement("div",{className:le},r.a.createElement("div",null,r.a.createElement("h1",null,t)))),i&&r.a.createElement("div",{className:oe,onClick:this.toggleDescription},r.a.createElement("p",null,i)),n.length>0&&r.a.createElement(k,null,l.map(e=>r.a.createElement(ae,ue({key:e.platform,"data-messenger":e.platform},e)))))}}var pe=a("qNnD"),ge=a("g+ST"),he=a("aoZX"),be="sHSpJqEd",fe="zf-7yuVy",ve="_3Ec8iWmI",Ee="_3zCqEmUk",ye="_2XV8vJVy",Oe="_100juL6J",je="_2Y0mzX8d";class we extends n.Component{render(){const{links:e,animated:t,showActionSheet:a,website:n}=this.props,s=e.length>1,l=1===e.length,o=n&&n.enabled&&Object(pe.a)(n.url);return r.a.createElement("div",{className:c()(be,fe,t?ve:null)},r.a.createElement("ul",{className:Ee,id:"card_list"},!!o&&r.a.createElement("li",null,r.a.createElement(h.a,{href:n.url,"data-id":"website_link","data-title":Object(i.a)("website_link_title"),"data-element":"custom-link","data-event-name":Object(ge.a)(n.url)},r.a.createElement("div",null,n.title||Object(i.a)("visit_website"),r.a.createElement("span",{className:je},Object(he.a)(n.url))))),s&&r.a.createElement("li",{onClick:a},r.a.createElement("span",null,r.a.createElement("span",{className:Oe},Object(i.a)("menu_links")),r.a.createElement("div",{className:ye},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))),l&&e.map(e=>{let{_id:t,redirectUrl:a,title:n,url:s}=e;return r.a.createElement("li",{key:t},r.a.createElement(h.a,{href:a,"data-id":t,"data-title":n,"data-element":"custom-link","data-event-name":Object(ge.a)(s)},r.a.createElement("span",{className:Oe},n)))})))}}var _e=a("+Q0i"),ke=a.n(_e),Ne=a("8KO3");r.a.Component;var Ce=a("T8LO"),Pe=a("yW3b"),Se="_3Zu8nPmY",xe="_2_cGBWbV",Te="_3ruYpCoi",Ie="_2CbEBJV_",Me="_2Lwdrshj",Le="hwNEDYxk",Ae="b9vYw7Sc",Re="A0vbuxVg",Fe="F6VAyLRi";function De(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Be extends r.a.Component{constructor(){super(...arguments),De(this,"el",document.createElement("div")),De(this,"state",{message:""}),De(this,"handleChange",e=>{const t=e.target.value;this.setState({message:t})}),De(this,"handleSubmit",e=>{e.preventDefault();const{onSubmit:t,recommend:a}=this.props,{message:n}=this.state;t({recommend:a,message:n})})}componentDidMount(){document.getElementById("cardRoot").appendChild(this.el)}componentWillUnmount(){document.getElementById("cardRoot").removeChild(this.el)}render(){const{recommend:e,fullName:t,closeModalFn:a,maxLength:n,minLength:s}=this.props,{message:l}=this.state,o=l.trim();return ke.a.createPortal(r.a.createElement("div",{className:Se},r.a.createElement("form",{className:xe,onSubmit:this.handleSubmit},r.a.createElement("div",{className:c()(Te,e?Ie:Me)},r.a.createElement("h1",null,t),r.a.createElement("span",{className:Fe,onClick:a},r.a.createElement(Ce.e,{size:32,color:"#fff"}))),r.a.createElement("textarea",{className:Le,name:"message",onChange:this.handleChange,value:l,maxLength:n,placeholder:Object(i.a)("what_recommend",[t])}),r.a.createElement("div",{className:Ae},r.a.createElement("span",{className:Re},Object(i.a)("minimum_characters",[o.length])),r.a.createElement(Pe.a,{"data-btn":"sendReviewButton",type:"submit",disabled:o.length<s,size:"small",btnStyle:"primary"},Object(i.a)("send"))))),this.el)}}De(Be,"defaultProps",{minLength:25,maxLength:2e3});a("v2fZ");var Ue=a("bPZW"),ze=a("1isK"),qe="uPKAViLu",Ve="_2pnMnhRy",We="RIAW4QfJ",He="_14oSbjuc",Ze="_2Q-iTf6H",Ke="_1POV42yd";const Ge=e=>{let{reviewsCountAll:t,reviewsCountPositive:a,reviewsCountNegative:n}=e;return r.a.createElement("div",{className:qe},r.a.createElement("h6",{className:Ve},Object(i.a)("reviews",[t])),r.a.createElement("div",{className:We},r.a.createElement("span",{className:c()(He,Ze)},a),r.a.createElement("span",{className:c()(He,Ke)},n)))};var Je="eE6Tc1jS",Qe="t2c1u8kn",Ye="F5GfKszI",Xe="_332hQ89W";class $e extends r.a.Component{constructor(e){super(e),this.state={fbLoggedIn:!1,fbUserHasComment:!1}}handleClick(e,t){t.preventDefault();const{onRecommend:a}=this.props;a&&a(e)}render(){const{fullName:e}=this.props;return r.a.createElement("div",{className:Je},r.a.createElement("span",{className:Qe},Object(i.a)("reviews_recommend",[e])),r.a.createElement("div",{className:Ye},r.a.createElement("span",{onClick:this.handleClick.bind(this,!0),className:Xe,"data-recommend":!0},Object(i.a)("yes")),r.a.createElement("span",{onClick:this.handleClick.bind(this,!1),className:Xe,"data-recommend":!1},Object(i.a)("no"))))}}var et="_1zPBayRs";const tt=e=>{let{children:t}=e;return r.a.createElement("ul",{className:et},t)};var at="_3eLc1XgJ",nt="eY1JJ0SK";function rt(){return(rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const st=e=>{let{disabled:t,className:a,...n}=e;return r.a.createElement("span",rt({className:c()(at,{[nt]:t},a)},n),Object(i.a)("show_more"))};var ct=a("a+C/"),it=a.n(ct),lt=a("Yr7G"),ot="_3Ubd572U",ut="_4N02b_ci",dt="_1bJNWsVF",mt="_16Ct-Vl5",pt="_38rCC854",gt="_1K_cbrmy",ht="_2W5YsS-K",bt="_3SB33aqP",ft="_27o2orrE";class vt extends r.a.Component{render(){const{review:e,onDelete:t}=this.props;return r.a.createElement("li",{className:ot},r.a.createElement("div",{className:ut},r.a.createElement("img",{src:e.author.avatarUrl,alt:e.author.name})),r.a.createElement("div",{className:dt},r.a.createElement("span",{className:mt},e.author.name),r.a.createElement("span",{className:c()(pt,e.recommend?gt:ht)},it()(e.createdAt,"dd.mm.yyyy HH:MM")),r.a.createElement("p",{className:bt},e.message),t&&r.a.createElement("span",{className:ft,onClick:t},r.a.createElement(lt.i,{size:16,color:"#8E8E93"}))))}}var Et="_1vsLlLAa",yt="_1B9KO0nB",Ot="_1-aK0I6F";function jt(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class wt extends r.a.Component{constructor(){super(...arguments),jt(this,"el",document.createElement("div"))}componentDidMount(){document.getElementById("cardRoot").appendChild(this.el)}componentWillUnmount(){document.getElementById("cardRoot").removeChild(this.el)}render(){const{closeModalFn:e,children:t}=this.props;return ke.a.createPortal(r.a.createElement("div",{className:Et},r.a.createElement("div",{className:yt},t,r.a.createElement("span",{className:Ot,onClick:e},r.a.createElement(Ce.e,{size:32,color:"#000"})))),this.el)}}var _t="_2NV4CR3z",kt="_3zuNj_GH",Nt="_2dn2HwUt";function Ct(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Pt extends r.a.Component{constructor(){super(...arguments),Ct(this,"state",{confirmIsOpen:!1,confirmCallback:null}),Ct(this,"confirm",(e,t)=>a=>{a.preventDefault(),this.setState({confirmMessage:e,confirmIsOpen:!0,confirmCallback:t})}),Ct(this,"onCancel",e=>{e.preventDefault(),this.setState({confirmIsOpen:!1})}),Ct(this,"onConfirm",async e=>{e.preventDefault();try{await this.state.confirmCallback(),this.setState({confirmIsOpen:!1})}catch(e){Object(Ue.a)(e)}})}render(){const{animated:e,reviews:t,myReviews:a,fullName:n,isFetching:s,hasNext:l,recommends:o,actions:u,children:d,isLoaded:m}=this.props,{confirmIsOpen:p,confirmMessage:g}=this.state;let h;if(m){const e=a.map(e=>{let{_id:t}=e;return t}),c=t.reduce((t,a)=>(-1===e.indexOf(a._id)&&t.push(r.a.createElement(vt,{key:a._id,review:a})),t),[]);h=r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(Ge,{reviewsCountAll:o[0]+o[1],reviewsCountPositive:o[0],reviewsCountNegative:o[1]}),0===a.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement($e,{onRecommend:u.onRecommend,fullName:n})),r.a.createElement(tt,null,r.a.createElement(r.a.Fragment,null,a.map(e=>r.a.createElement(vt,{key:e._id,review:e,onDelete:this.confirm(Object(i.a)("want_delete_review"),()=>u.onDelete(e))})),c)),t.length>0&&r.a.createElement(tt,{items:t}),l&&r.a.createElement(st,{onClick:u.loadMore,disabled:s}),p&&r.a.createElement(wt,{closeModalFn:this.onCancel},r.a.createElement("h1",null,g),r.a.createElement(Pe.a,{btnStyle:"secondary",outline:!0,size:"small",onClick:this.onCancel},Object(i.a)("cancel")),r.a.createElement(Pe.a,{btnStyle:"danger",size:"small",onClick:this.onConfirm},Object(i.a)("delete"))),d)}else h=r.a.createElement(ze.a,null);return r.a.createElement("div",{className:c()(_t,kt,e?Nt:null)},h)}}Ct(Pt,"defaultProps",{isLoaded:!0,actions:{}});var St=a("JDWS"),xt=a("FRBS");function Tt(){return(Tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function It(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Mt(e){return e.createdAt=new Date(e.createdAt),e.updatedAt=new Date(e.updatedAt),e}class Lt extends r.a.Component{constructor(){super(...arguments),It(this,"state",{reviews:[],next:null,isFetching:!0,isLoaded:!1,hasNext:!1,recommends:null,recommend:!0,isAuthenticated:!1,facebookId:null,myReviews:[],showModals:{review:!1,login:!1,notify:!1,confirm:!1,success:!1}}),It(this,"checkStatus",async()=>{const e=await this.handleAuthRequest(this.fbApi.getLoginStatus());this.setState(e)}),It(this,"handleLoginClick",async e=>{e.preventDefault();try{let e=await this.handleAuthRequest(this.fbApi.login({scope:"public_profile,email"}));this.setState({json:e}),e.isAuthenticated&&(e=await this.loadMyReviews(),this.showModal(e.length>0?"notify":"review"))}catch(e){Object(Ue.a)(e)}}),It(this,"handleAuthRequest",async e=>{let{status:t,authResponse:a}=await e;return"connected"===t?(St.a.accessToken=a.accessToken,setTimeout(this.checkStatus,1e3*a.expiresIn),{isAuthenticated:!0,facebookId:a.userID}):(St.a.accessToken=null,{isAuthenticated:!1,facebookId:null})}),It(this,"loadReviews",async()=>{const{next:e,hasNext:t,recommends:a}=this.state,{workspaceId:n}=this.props,r={};e&&t&&(r.next=e),a||(r.withRecommends=!0),this.setState({isFetching:!0});const s=await St.a.list(n,r);this.setState(e=>{const t={isFetching:!1,hasNext:s.hasNext,next:s.next,reviews:e.reviews.concat(s.results.map(Mt))};return s.recommends&&(t.recommends=s.recommends),t})}),It(this,"loadMyReviews",async()=>{if(St.a.accessToken){const{workspaceId:e}=this.props,t=await St.a.my(e);return this.setState({myReviews:t}),t}return[]}),It(this,"onRecommend",e=>{this.setState({recommend:e}),this.showModal(this.state.isAuthenticated?"review":"login")}),It(this,"closeModal",e=>{this.setState(t=>({showModals:{...t.showModals,[e]:!1}}))}),It(this,"showModal",e=>{this.setState(t=>{const a={};for(let n in t.showModals)a[n]=n===e;return{showModals:a}})}),It(this,"onDelete",async e=>{try{const{workspaceId:t}=this.props;await St.a.delete(t,e._id),this.setState(t=>{const a=[...t.recommends];return a[e.recommend?0:1]--,{recommends:a,reviews:t.reviews.filter(t=>{let{_id:a}=t;return a!==e._id}),myReviews:t.myReviews.filter(t=>{let{_id:a}=t;return a!==e._id})}}),Ne.a.danger(Object(i.a)("review_deleted"),{showClose:!0})}catch(e){Object(Ue.a)(e)}}),It(this,"onSubmit",async e=>{try{const{workspaceId:t}=this.props,a=Mt(await St.a.create(t,e));this.setState(e=>{const t=[...e.recommends];return t[a.recommend?0:1]++,{recommends:t,myReviews:[a].concat(e.myReviews)}}),this.closeModal("review"),Ne.a.notify(Object(i.a)("review_published"),{showClose:!0})}catch(e){Object(Ue.a)(e)}})}async componentDidMount(){await this.init()}async init(){try{this.fbApi=await Object(xt.a)(),await this.checkStatus(),await Promise.all([this.loadReviews(),this.loadMyReviews()]),this.setState({isLoaded:!0})}catch(e){Object(Ue.a)(e)}}render(){const{reviews:e,isFetching:t,hasNext:a,recommends:n,isAuthenticated:s,facebookId:c,showModals:l,recommend:o,isLoaded:u,myReviews:d}=this.state,{previewMode:m,fullName:p}=this.props;return r.a.createElement(Pt,Tt({isLoaded:u,recommends:n,reviews:e,myReviews:d,isFetching:t,hasNext:a,previewMode:m,actions:{loadMore:this.loadReviews,onRecommend:this.onRecommend,onDelete:this.onDelete},fullName:p,facebookId:s&&c},this.props),l.review&&r.a.createElement(Be,{recommend:o,fullName:p,closeModalFn:this.closeModal.bind(this,"review"),onSubmit:this.onSubmit}),l.login&&r.a.createElement(wt,{closeModalFn:this.closeModal.bind(this,"login")},r.a.createElement("h1",null,Object(i.a)("review_login")),r.a.createElement(Pe.a,{onClick:this.handleLoginClick,btnStyle:"facebook",fullWidth:!0,beforeIcon:r.a.createElement(Ce.h,{size:40}),iconFixed:"left"},Object(i.a)("continue_dacebook"))),l.notify&&r.a.createElement(wt,{closeModalFn:this.closeModal.bind(this,"notify")},r.a.createElement("h1",null,Object(i.a)("have_review")),r.a.createElement("p",null,Object(i.a)("only_one_review"))))}}var At=a("63aL"),Rt=a("lkLo"),Ft=a("QD+E"),Dt=a("BbHF"),Bt=a("ehRZ"),Ut=a("njpi"),zt=a("JuTl"),qt=a("5hFp"),Vt="_2KHRahsd",Wt="_1Y-furOW",Ht="_28WslXh2",Zt="_2k1ygKWy",Kt="_2Qr1lH-D",Gt="_3eEBWyiO",Jt="_3fsy1tGd",Qt="YZo6wHiB",Yt="CVrLFRx4",Xt="_3Kz02uAH",$t="_2ULXYqPk";var ea=function(e){let{card:t,setLastCollectionSlug:a,firstLoad:s,setFirstLoad:i,collectionSlug:l}=e;const o=Object(Rt.j)(),u=Object(Rt.g)(),{workspaceId:d,collections:m}=t,p=m.items.find(e=>e.slug===l),g=p&&p.publishedProductsCount||0,[h,b]=Object(n.useState)({hasNext:!1,next:null,publishedCount:0,results:[]}),{hasNext:f,next:v,results:E}=h,[y,O]=Object(n.useState)(!1),[j,w]=Object(n.useState)(!1),_=Object(zt.a)(o.url,"../../");let k;const N=r.a.useRef(null),{y:C}=Object(Dt.a)(N),P=async(e,t,a,n)=>{O(!0);const r=await qt.a.list(d,{next:e,collection:t,published:a});b(e=>({...r,results:n?r.results:e.results.concat(r.results)})),O(!1)};return Object(Bt.a)(()=>{(async()=>{await P(null,p._id,!0,!0),w(!0),i(!1)})()},[g,m]),Object(n.useEffect)(()=>{a(p.slug)},[]),Object(Ut.a)(()=>{clearTimeout(k)}),r.a.createElement("div",{className:c()({[Vt]:!0,[Wt]:j,[Ht]:s})},r.a.createElement("div",{className:c()({[Zt]:!0,[Kt]:C>0})},r.a.createElement(Ft.c,{onClick:e=>((e,t)=>{e.preventDefault(),a(!1),w(!1),k=setTimeout(()=>{u.push(t)},610)})(e,_),to:_,className:Gt},r.a.createElement(At.g,{size:22,color:"#000"})),r.a.createElement("h1",{className:Jt},p&&p.name)),r.a.createElement("div",{className:Qt,ref:N},E.length>0&&r.a.createElement(aa,{itemClassName:$t},E.map(e=>r.a.createElement(ha,{key:e._id,tag:Ft.c,product:e,to:{pathname:Object(zt.a)(o.url,"../../p/",e.slug),state:{fromCollection:p._id}}}))),y&&r.a.createElement(ze.a,null),f&&!y&&r.a.createElement("div",{className:Yt},r.a.createElement(st,{className:Xt,onClick:()=>P(v,p._id,!0),disabled:y}))))},ta="_1S2SczHq";function aa(e){let{children:t,itemClassName:a}=e;return t=r.a.Children.toArray(t),r.a.createElement("ul",{className:ta},t.map((e,t)=>r.a.createElement("li",{className:a||"",key:t},e)))}var na=a("cpKZ");var ra=a("7+Q5");function sa(){return(sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ca(e,t){return n.createElement(ra.b,sa({fill:"none",viewBox:"0 0 24 24",ref:t},e),n.createElement("path",{d:"M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M8.5 10a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM21 15l-5-5L5 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))}var ia=n.forwardRef(ca),la="DGSQtavY";function oa(){return r.a.createElement(ia,{className:la})}var ua={root:"_xoBULhV",img:"_1pWoQkAV",fit:"XCY58nZg",spinner:"_2f8_zoFb",visible:"_1Z20qEZ1",inline:"_3-n_7lQl"};function da(){return(da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ma(e){let{mode:t,src:a,alt:s,containerClassName:i,...l}=e;const{ref:o,isIntersecting:u,isIntersect:d}=function(){const e=Object(n.useRef)(null),[t,a]=Object(n.useState)(!1),[r,s]=Object(n.useState)(!1),c=Object(n.useMemo)(()=>new IntersectionObserver((function(e){let[t]=e;null!=t&&t.isIntersecting?(a(!0),s(!0)):t.rootBounds&&a(!1)}),{root:null,rootMargin:"100px 0px 100px 0px",threshold:.01}),[]);return Object(n.useEffect)(()=>{const t=e.current;if(t)return c.observe(t),()=>{c.unobserve(t)}},[e.current]),{ref:e,isIntersecting:t,isIntersect:r}}(),{isFetching:m,isLoaded:p,onLoad:g,onError:h,error:b}=function(){const[e,t]=Object(n.useState)({isFetching:!0,isLoaded:!1,error:null});return{...e,onLoad:Object(n.useCallback)(()=>t({isFetching:!1,isLoaded:!0,error:null}),[]),onError:Object(n.useCallback)(e=>t({isFetching:!1,isLoaded:!1,error:e}),[])}}();return r.a.createElement("div",{ref:o,className:c()(ua.root,ua[t],i)},m&&"inline"!==t&&r.a.createElement(ze.a,{size:"50%",color:"gray",className:ua.spinner}),b&&r.a.createElement(oa,null),r.a.createElement("img",da({src:d?a:null,alt:s,onLoad:g,onError:h},Object(na.a)([ua.img,p&&u&&ua.visible],l))))}ma.defaultProps={mode:"fit"};var pa={root:"_23qBGGw8",disabled:"_1DjvDaFG",thumbnail:"_1swLRv6V",emptyPlaceholder:"_2aRShO3p",meta:"_2SnBnDH9",title:"_1CgrQjOm",price:"qiq9A_Vr",discountPrice:"Qxxe8cvZ",lineThrough:"_16wiODoM"};function ga(){return(ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const ha=e=>{let{tag:t,product:a,componentStyle:n,...s}=e;return r.a.createElement(t,ga({className:c()(pa.root,pa[n],{[pa.disabled]:!a.published})},s),r.a.createElement("div",{className:pa.thumbnail},a.photoUrl&&r.a.createElement(ma,{src:a.photoUrl,alt:a.name}),!a.photoUrl&&r.a.createElement("div",{className:pa.emptyPlaceholder},r.a.createElement(Ce.k,{size:"40%",color:"#fff"}))),r.a.createElement("div",{className:pa.meta},r.a.createElement("span",{className:pa.title},a.name),a.price&&r.a.createElement("span",{className:pa.price},a.price.formattedDiscount&&r.a.createElement("span",{className:pa.discountPrice},a.price.formattedDiscount),0===a.price.amount?Object(i.a)("free"):r.a.createElement("span",{className:a.price.formattedDiscount?pa.lineThrough:null},a.price.formatted))))};ha.defaultProps={tag:"div"};var ba=a("wUPD"),fa=a("CtTZ"),va="_85pAlRYc",Ea="LHSRoOb7",ya="_2tfpZ0xO",Oa="_1iiY7cAK",ja="_3_GRxOqo",wa="_1hdPDWbC";var _a=function(e){let{collectionsItems:t,baseUrl:a}=e;const{root:s,hasLeftBtn:c,moveLeft:i,list:l,hasRightBtn:o,moveRight:u}=function(e){const t=Object(n.useRef)(null),[a,r]=Object(n.useState)(0),[s,{width:c}]=Object(ba.a)(),{width:i}=Object(fa.a)(),{x:l}=Object(Dt.a)(t),o=i>1024,u=t.current&&t.current.scrollWidth||c,d=u>c;return{root:s,hasLeftBtn:d&&o&&l>0,moveLeft:function(){if(a>0){const e=Array.from(t.current.querySelectorAll("li")).slice(0,a-1);let n=0;e.forEach(e=>{n+=e.clientWidth+6}),t.current.scrollLeft=n-22,r(e=>e-1)}else t.current.scrollLeft=0},list:t,hasRightBtn:d&&o&&l+c<u,moveRight:function(){if(a<e.length-1){const e=Array.from(t.current.querySelectorAll("li")).slice(0,a+1);let n=0;e.forEach(e=>{n+=e.clientWidth+6}),t.current.scrollLeft=n-22,r(e=>e+1)}else t.current.scrollLeft=u}}}(t);return r.a.createElement("div",{className:va,ref:s},c&&r.a.createElement("div",{className:Oa,onClick:i},r.a.createElement("div",{className:ja},r.a.createElement(At.g,{size:20}))),r.a.createElement("ul",{className:Ea,ref:l},t.map(e=>r.a.createElement("li",{key:e.id,className:ya},r.a.createElement(Ft.c,{to:Object(zt.a)(a,"/c/",e.slug)},e.name)))),o&&r.a.createElement("div",{className:wa,onClick:u},r.a.createElement("div",{className:ja},r.a.createElement(At.h,{size:20}))))},ka="_2hhhKF9v",Na="_3kA-i2jp",Ca="_3klf_Vwm",Pa="_3UJQ7w5L",Sa="_1FRrpE-v",xa="_1n8GM2xc",Ta="_36M_SDdW";function Ia(e){let{workspaceId:t,collections:a,animated:s,collectionsEnabled:i}=e;const l=Object(Rt.j)(),o=a.items.find(e=>e.default),u=null==o?void 0:o._id,d=a.items.filter(e=>!e.default&&e.publishedProductsCount>0&&e.published),m=i&&d.length>0,[{hasNext:p,next:g,results:h},b]=Object(n.useState)({hasNext:!1,next:null,publishedCount:0,results:[]}),[f,v]=Object(n.useState)(!1),E=async(e,a,n,r)=>{v(!0);const s=await qt.a.list(t,{next:e,collection:a,published:n});b(e=>({...s,results:r?s.results:e.results.concat(s.results)})),v(!1)};return Object(n.useEffect)(()=>{(async()=>{await E(null,u,!0,!0)})()},[a.lastRequest]),r.a.createElement("div",{className:c()(ka,Na,{[Ca]:s,[Pa]:m})},m&&r.a.createElement(_a,{collectionsItems:d,baseUrl:l.url}),h.length>0&&r.a.createElement("div",{className:Ta},r.a.createElement(aa,null,h.map(e=>r.a.createElement(ha,{key:e._id,tag:Ft.c,product:e,to:{pathname:Object(zt.a)(l.url,"/p/",e.slug),state:{fromCollection:u}}})))),f&&r.a.createElement(ze.a,null),p&&!f&&r.a.createElement("div",{className:Sa},r.a.createElement(st,{className:xa,onClick:()=>E(g,u,!0),disabled:f})))}var Ma=a("kkZN"),La=a("4iID"),Aa="_1Q3SKgiT",Ra="_3eKutKNI",Fa="z9enbLZj",Da="_3i9q2JaE",Ba="_2OxmWyZs",Ua="_2mf3zulN",za="_26N1wGHB",qa="_24aGRpy0",Va="_3eDW4JRC",Wa="eTVxAbNs",Ha="_1L6IrMwR",Za="_2u7ginVg";function Ka(e){let{tag:t="div",product:a,to:n,hasDragHandle:s=!1}=e;const{t:l}=Object(Ma.useTranslation)("cards");return r.a.createElement("div",{className:c()({[Aa]:!0,[Ra]:!a.published})},r.a.createElement(t,{className:c()({[Fa]:!0,[Da]:!s}),to:n,title:a.name},r.a.createElement("div",{className:Ua},a.photoUrl&&r.a.createElement(ma,{src:a.photoUrl,alt:a.name}),!a.photoUrl&&r.a.createElement("div",{className:za},r.a.createElement(Ce.k,{size:"40%",color:"#fff"}))),r.a.createElement("div",{className:qa},r.a.createElement("span",{className:Ba},a.name),a.price&&r.a.createElement("span",{className:Va},a.price.formattedDiscount&&r.a.createElement("span",{className:Wa},a.price.formattedDiscount),0===a.price.amount?Object(i.a)("free"):r.a.createElement("span",{className:c()({[Ha]:a.price.formattedDiscount})},a.price.formatted)))),s&&r.a.createElement("div",{className:Za,title:l("common:labels.dragTip"),"data-element":"drag-handle"},r.a.createElement(La.a,{width:"6"})))}var Ga={root:"MmbkqJO_",widgetPreview:"_22NfMRbj",inner:"_2u4IXlYg",background:"UH9lT3cu",slideUp:"_3vLKxx_m",slideDown:"_21RY2QVj",animated:"_3EbiGWZa",footerMessengers:"_1cI2jvmb",visible:"_3Zvc0AUc",overlayBg:"zEmRYgzN"};function Ja(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Qa extends r.a.Component{constructor(e){super(e),Ja(this,"toggleActionSheet",()=>{this.setState(e=>({actionSheetVisible:!e.actionSheetVisible}))}),this.state={animated:!1,productsFetched:!1,actionSheetVisible:!1},this.messengersPane=r.a.createRef()}componentDidMount(){this._isMounted=!0,setTimeout(()=>{this._isMounted&&this.setState({animated:!0})});const{previewMode:e,data:{profile:{fullname:t}}}=this.props;if(!e){document.querySelector("title").innerText=t}setTimeout(()=>{this.props.setFirstLoad(!1)},700)}componentWillUnmount(){this._isMounted=!1}render(){const{data:e,className:t,previewMode:a,widgetMode:n,firstLoad:s}=this.props,{design:o,profile:u,messengers:d,links:m,reviews:p,workspaceId:g,collections:h,products:b,widget:f}=e,{animated:E,actionSheetVisible:y}=this.state,O=m.filter(e=>e.enabled),w=O.length>1,_=h.allPublishedProductsCount>0&&!(n&&!f.components.products);return r.a.createElement("div",{className:c()(Ga.root,t),id:"cardRoot",style:{pointerEvents:s?"none":"auto"}},r.a.createElement("div",{className:Ga.inner,style:{height:o.branding?null:"100%",top:o.branding?null:"0"}},o.branding&&r.a.createElement(v,{animated:E}),r.a.createElement("div",{className:c()(Ga.background,Ga.slideUp,E?Ga.animated:null)},r.a.createElement(j,{background:o.background})),r.a.createElement("div",{className:Ga.cardContent},r.a.createElement("div",{ref:this.messengersPane},r.a.createElement(me,{animated:E,photo:o.photoUrl,fullName:u.fullname,category:u.category,messengers:d.filter(e=>e.enabled),description:u.description})),(!!m.find(e=>e.enabled)||!!u.website.enabled)&&r.a.createElement(we,{animated:E,links:m.filter(e=>e.enabled),website:u.website,showActionSheet:this.toggleActionSheet}),_&&r.a.createElement(Ia,{workspaceId:g,collections:h,animated:E,userUrl:u.url,isAdmin:a,collectionsEnabled:b.collectionsEnabled}),p.enabled&&r.a.createElement(Lt,{workspaceId:g,animated:E,fullName:u.fullname,previewMode:a}))),w&&y&&r.a.createElement(l.b,{title:Object(i.a)("menu_links"),links:O,cancel:this.toggleActionSheet}))}}Ja(Qa,"defaultProps",{className:"",widgetMode:!1,previewMode:!1});var Ya="N41q3_Zq",Xa="_3qOg9_bW";function $a(e){let{children:t,widgetMode:a=!1,className:n}=e;return r.a.createElement("div",{className:c()(Ya,n,{[Xa]:a})},t)}$a.defaultProps={children:null,widgetMode:!1,className:void 0};var en,tn,an,nn,rn="gulnjTcO";class sn extends r.a.Component{render(){const{color:e,hasShadow:t,thing:a,showSocials:n}=this.props;return r.a.createElement("div",{className:rn,"data-modal-btn":"share"+a,onClick:n},r.a.createElement(At.u,{size:24,color:e,style:{filter:t?"drop-shadow(0 1px 3px rgba(0,0,0,0.3))":null}}))}}en=sn,an={color:"#000",hasShadow:!1,thing:"product"},(tn="symbol"==typeof(nn=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(tn="defaultProps","string"))?nn:String(nn))in en?Object.defineProperty(en,tn,{value:an,enumerable:!0,configurable:!0,writable:!0}):en[tn]=an;var cn="_330P23kx",ln="spVWMGWk",on="_2PTlj8kn",un="_3YEUXqGA";const dn=e=>{let{children:t,title:a,onClose:n,visible:s=!1}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c()(cn,{[ln]:s})},a&&r.a.createElement("div",{className:on},a),r.a.createElement("div",null,t)),r.a.createElement("div",{className:c()(un,{[ln]:s}),onClick:n}))};var mn="_1rRRaz_T",pn="_2hX1dqpl";function gn(){return(gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function hn(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class bn extends r.a.Component{constructor(e){super(e),hn(this,"handleClick",e=>{const t=window.getSelection(),a=document.createRange();if(a.selectNodeContents(this.templateRef.current),t.removeAllRanges(),t.addRange(a),document.execCommand("copy"),N.a.Android){e.preventDefault();const t=e.target.href;window.open(t)}}),this.templateRef=r.a.createRef()}render(){const{message:e,url:t,platform:a,...n}=this.props;return r.a.createElement(dn,gn({title:Object(i.a)("product_copy_heading")},n),r.a.createElement("div",{className:mn,ref:this.templateRef},e),r.a.createElement("a",{href:t,className:pn,onClick:this.handleClick,"data-product-messenger":a},Object(i.a)("products_copy_open")," ",r.a.createElement("span",null,a)))}}hn(bn,"defaultProps",{visible:!1});r.a.Component;var fn=a("A7QF"),vn=a("aH6V"),En="_1BfKI5WI",yn="_3VjnFAkq",On="_3O5Fu-8V",jn="_2C5uq6yL",wn="_12-UKYGS";const _n=e=>{let{isShowing:t,toggle:a,pageUrl:n}=e;const{t:s}=Object(Ma.useTranslation)("cards");return t?ke.a.createPortal(r.a.createElement("div",{className:En},r.a.createElement(fn.a,{heading:s("PreviewModal.heading"),leftButton:r.a.createElement(vn.a,{tag:"div",onClick:a}),rightButton:r.a.createElement("div",{className:jn},r.a.createElement("a",{className:wn,href:n,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(At.k,{size:22,color:"#000"})),"share"in navigator&&r.a.createElement("div",{className:wn},r.a.createElement(At.u,{size:22,color:"#000",onClick:()=>navigator.share({url:n})})))}),r.a.createElement("div",{className:yn},r.a.createElement("iframe",{className:On,src:n,frameBorder:"0"}))),document.body):null};var kn=a("g0xT"),Nn=a("XLeO"),Cn=a("dLPT"),Pn=a("zn5I"),Sn=a("Qg6Y");const xn=Object(n.createContext)();function Tn(e){const{i18n:t}=Object(Ma.useTranslation)("cards"),[r,s]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{!async function(){try{const n=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t=arguments.length>1?arguments[1]:void 0;const{default:n}=await a("xhNR")(`./${e}/${t}.json`);return n}(t.language,e);i.b.extend(n)}finally{s(!0)}}()},[t.language]),{isLoaded:r,i18n:t}}function In(e,t){switch(t.type){case"UPDATE_DRAFT":return Object(Nn.a)({},e,{draft:t.payload});case"UPDATE_INITIAL":return{initial:t.payload,draft:t.payload};case"RESET_DRAFT":return{...e,draft:e.initial};default:throw new Error(`"${t.type}" is invalid action`)}}function Mn(){const{preview:e,updateDraft:t,resetDraft:a}=Object(n.useContext)(xn);return{preview:e,updatePreview:t,resetPreview:a}}function Ln(){return(Ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function An(e){const t=function(){const e=Object(Sn.a)(),t=Object(Rt.h)(),a=Object(kn.d)(e=>e.collections),{card:r,id:s}=e,c=Object(n.useMemo)(()=>({...r,workspaceId:s,collections:a}),[r,s,a]),[i,l]=Object(n.useReducer)(In,{initial:c,draft:c}),o=Object(n.useCallback)(e=>l({type:"UPDATE_DRAFT",payload:e}),[l]),u=Object(n.useCallback)(e=>l({type:"UPDATE_INITIAL",payload:e}),[l]),d=Object(n.useCallback)(()=>l({type:"RESET_DRAFT"}),[l]),m=Object(n.useMemo)(()=>!Object(Cn.a)(i.draft,i.initial),[i.draft,i.initial]);return Object(n.useEffect)(()=>{u(c)},[c]),Object(n.useEffect)(()=>{m&&t&&d()},[t]),{preview:Object(n.useMemo)(()=>Object(Pn.a)(i.draft,e),[i.draft,e]),updateDraft:o,updateInitial:u,resetDraft:d}}();return r.a.createElement(xn.Provider,Ln({value:t},e))}var Rn=a("Rkv1"),Fn=a("OAiB"),Dn="_2qsTfz_z",Bn="_3C3J6KnJ",Un="_3FRdueQR",zn="_28k04XrY",qn="_1dHnjDC3",Vn="REjvdotI",Wn="_2tkpMfR9",Hn="_1KlyrL6t",Zn="_1PPAwZ0o",Kn="_1B8orliH",Gn="Dh0PyGaL",Jn="Xp912f6N",Qn="_1WiBEW94";function Yn(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Xn extends n.Component{constructor(){super(...arguments),Yn(this,"state",{activePhotoIndex:0}),Yn(this,"handleSwipes",e=>{const{photos:t}=this.props,{activePhotoIndex:a}=this.state;let n;"Left"===e.dir?n=t[a+1]?a+1:0:"Right"===e.dir&&(n=t[a-1]?a-1:0),this.moveSliderTo(n)()}),Yn(this,"moveSliderTo",e=>()=>{this.setState({activePhotoIndex:e})})}render(){const{backUrl:e,photos:t,prevProductLink:a,nextProductLink:n,unmount:s}=this.props,{activePhotoIndex:i}=this.state;return r.a.createElement(Fn.a,{onSwiped:this.handleSwipes,className:Dn},r.a.createElement("div",{className:Bn},r.a.createElement("div",{className:Un},t&&t.length>0&&r.a.createElement("div",{className:zn},r.a.createElement("ul",{className:Kn,style:{transform:`translateX(-${16.666666*i}%)`}},t.map((e,t)=>r.a.createElement("li",{key:t},r.a.createElement("img",{src:e,alt:e}))))),(!t||0===t.length)&&r.a.createElement("div",{className:qn},r.a.createElement(Ce.k,{size:"40%",color:"#fff"}))),r.a.createElement("div",{className:Vn},n&&r.a.createElement(Ft.c,{to:n},r.a.createElement("div",{className:Hn},r.a.createElement(At.g,{size:16}))),a&&r.a.createElement(Ft.c,{to:a,className:Wn},r.a.createElement("div",{className:Hn},r.a.createElement(At.h,{size:16}))),t&&t.length>1&&r.a.createElement("div",{className:Gn},t.map((e,t)=>r.a.createElement("div",{key:e+t,className:c()(Jn,{[Qn]:i===t}),onClick:this.moveSliderTo(t)})))),r.a.createElement(Ft.c,{onClick:t=>s(t,e),to:e,className:Zn},r.a.createElement("div",null,r.a.createElement(At.B,{size:16})))))}}var $n=Xn,er="_3D49av_4",tr="_3R5Q0wlD",ar="_1jcFxSX0",nr="_1J3bv_SF",rr="_15uaNz4U",sr="_2VdoWGma",cr="vlIftsB6",ir="uAXuhFqe",lr="_1DsyTR6I",or="_3Xu5psCI",ur="_3WBpY4oT",dr="eqd1Hfm3",mr="_3_z4NIKJ",pr="am_7u5Qa",gr="_2aE3MSY9",hr="_6Rqat2jy",br="_2ohsRkQO",fr="_2n9Rnkah";function vr(e){let{card:t,product:a,unmount:n,lastCollectionSlug:s}=e;const c=Object(Rt.j)(),l=Object(Rt.h)(),o=t.messengers.map(((e,t)=>{const a=encodeURIComponent(`${Object(i.a)("buy_template")} ${e.name} - ${t.profile.absoluteUrl}/p/${e.slug}`),n=`buy_${e._id}_${Date.now()}_${document.documentElement.lang}`;return e=>{let t=!0;const r=Object(C.a)(e);r.isSupported("text")?(r.addParam("text",a),t=!1):r.isSupported("ref")?(r.addParam("ref",n),t=!1):r.isSupported("start")&&(r.addParam("start",n),t=!1);const s=N.a.isMobile?r.getUrl():r.getRedirectUrl();return{...e,url:s,openDialog:t}}})(a,t)),u=a.externalUrl||a.externalButton&&a.externalButton.url,d=a.externalButton&&a.externalButton.url&&Object(pe.a)(a.externalButton.url)||a.externalUrl&&Object(pe.a)(a.externalUrl)||{},m=t.collections.items.find(e=>e.default),p=l.state&&l.state.fromCollection||m._id,g=a.gauge.prev?{pathname:Object(zt.a)(c.url,"..",a.gauge.prev.slug),state:{fromCollection:p}}:null,h=a.gauge.next?{pathname:Object(zt.a)(c.url,"..",a.gauge.next.slug),state:{fromCollection:p}}:null,b=Object(zt.a)(c.url,s?"../../c/"+s:"../.."),f=Object(zt.a)(c.url,"../..");return r.a.createElement("div",{className:er},r.a.createElement("div",{className:tr},r.a.createElement($n,{key:a.slug,backUrl:b,photos:a.photos,nextProductLink:h,prevProductLink:g,unmount:n}),r.a.createElement("div",{className:ar},r.a.createElement("div",{className:nr},r.a.createElement("div",{className:rr},r.a.createElement("div",{className:sr},r.a.createElement("div",{className:sr},r.a.createElement("h1",null,a.name),a.price&&r.a.createElement("div",{className:cr},a.price.formattedDiscount&&a.price.formattedDiscount,0===a.price.amount?Object(i.a)("free"):r.a.createElement("span",{className:a.price.formattedDiscount?ir:null},a.price.formatted)))),o.length>0&&r.a.createElement(Rn.b,{placement:"product"},o.map(e=>r.a.createElement(Rn.g,{key:e.messenger,href:e.url,platform:e.messenger,"data-product-messenger":e.messenger})))),u&&r.a.createElement("a",{"data-id":"product_website_link",href:a.externalButton&&a.externalButton.url||a.externalUrl,target:"_blank",rel:"noopener noreferrer",className:hr},r.a.createElement("span",{className:fr},a.externalButton&&a.externalButton.title?a.externalButton.title:Object(i.a)("visit_website")),r.a.createElement("span",{className:br},d.hostname)),a.description&&r.a.createElement("div",{className:lr},r.a.createElement("h2",null,Object(i.a)("product_details")),r.a.createElement("p",null,a.description))),r.a.createElement(Ft.c,{onClick:e=>n(e,f,!0),to:f,className:or},r.a.createElement("div",{className:ur},r.a.createElement("div",{className:dr},r.a.createElement("div",{className:mr},r.a.createElement("img",{src:t.design.photoUrl,alt:t.profile.fullname})),r.a.createElement("div",{className:pr},r.a.createElement("h3",null,t.profile.fullname),t.profile.category&&"category_not_business"!==t.profile.category&&r.a.createElement("span",null,Object(i.a)(t.profile.category)))),r.a.createElement("div",{className:gr},r.a.createElement(At.h,{size:20})))))))}var Er="_2CHp8St7",yr="zcI1X9zF",Or="_3VnLD9L_",jr="bXlSTByx";function wr(){return(wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function _r(e){let{card:t,firstLoad:a,setFirstLoad:s,setLastCollectionSlug:i,lastCollectionSlug:l,...o}=e;const{workspaceId:u,collections:d}=t,m=Object(Rt.j)(),{productSlug:p}=m.params,g=Object(Rt.g)(),[h,b]=Object(n.useState)(!1),[f,v]=Object(n.useState)(!1),E=d.items.find(e=>e.default),[y,O]=Object(n.useState)(!1);let j;return Object(Bt.a)(()=>{E&&(async()=>{const e=g.location.state&&g.location.state.fromCollection||E._id;v(!0);const t=await qt.a.loadBySlug(u,p,e);b(t),v(!1),O(!0),s(!1)})()},[p,E&&E._id,t.products]),Object(Ut.a)(()=>{clearTimeout(j)}),r.a.createElement("div",{className:Er},r.a.createElement("div",{className:c()({[yr]:!0,[Or]:y,[jr]:a})},h&&r.a.createElement(vr,wr({},o,{card:t,product:h,isFetching:f,unmount:(e,t,a)=>{e.preventDefault(),a&&i(!1),O(!1),j=setTimeout(()=>{g.push(t)},610)},lastCollectionSlug:l}))))}function kr(){return(kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Nr(e){let{data:t,widgetMode:a,paths:s}=e;const[c,i]=Object(n.useState)(!1),[l,o]=Object(n.useState)(!0);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Rt.b,{path:s.home,render:e=>r.a.createElement(Qa,kr({},e,{data:t,previewMode:!0,widgetMode:a,firstLoad:l,setFirstLoad:o}))}),r.a.createElement(Rt.b,{path:s.product,render:e=>r.a.createElement(_r,kr({},e,{card:t,firstLoad:l,setFirstLoad:o,setLastCollectionSlug:i,lastCollectionSlug:c}))}),r.a.createElement(Rt.b,{path:[s.collection,s.product],render:e=>{let{match:a}=e;return a.params.collectionSlug||c?r.a.createElement(ea,{collectionSlug:a.params.collectionSlug||c,card:t,setLastCollectionSlug:i,firstLoad:l,setFirstLoad:o}):null}}))}function Cr(){return(Cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Pr(e){let{widgetMode:t=!1,...a}=e;const{i18n:n,isLoaded:s}=Tn("card"),{preview:c}=Mn();return s?r.a.createElement(Ft.b,null,r.a.createElement(u.a.Provider,{value:n.language},r.a.createElement($a,Cr({widgetMode:t},a),r.a.createElement(Nr,{data:c,widgetMode:t,paths:{home:"/",collection:"/c/:collectionSlug",product:"/p/:productSlug"}})))):null}Nr.defaultProps={widgetMode:!1};var Sr=a("0WXt");function xr(){return(xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Tr(e){let{platform:t,...a}=e;const{t:n}=Object(Ma.useTranslation)("cards");let s=[];return"whatsapp"===t&&s.push({label:n("selectMessengerType.phone"),value:"private"},{label:n("selectMessengerType.chat"),value:"public"}),"viber"===t&&s.push({label:n("selectMessengerType.phone"),value:"private"},{label:n("selectMessengerType.public"),value:"public"},{label:n("selectMessengerType.community"),value:"community"}),r.a.createElement(Sr.a,xr({},a,{options:s}))}var Ir="__bVYP8W";function Mr(){return(Mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Lr(e){let{className:t,children:a,...n}=e;return r.a.createElement("div",Mr({className:c()(Ir,t)},n),a)}},DkyN:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/icon_we_use_mssgme_en.svg"},E8QZ:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));a("v2fZ");var n=a("r0ML"),r=a.n(n),s=a("kkZN"),c=a("cpKZ"),i=a("FcSA"),l=a("w2nZ"),o=a("yW3b"),u=a("oxvr"),d="_2CHW2mBj",m="_3B06uJeN",p="_3nr695qz",g="_2C-uDjHO",h="_84l_sYyV";function b(e){let{className:t,children:a,referrer:b,reason:f,center:v=!1,onCancel:E,modal:y,...O}=e;const{t:j}=Object(s.useTranslation)("ui"),{isAdmin:w}=Object(i.a)(),_=Object(n.useMemo)(()=>w&&(e=>{let{code:t,plan:a,target:n}=e;if("forbidden"===t)return;const r=["/s","billing"];return"unpaid"!==t&&(r.push("plans"),"upgrade"===t&&r.push(n)),r.join("/")})(f),[w,f]),k=j(`NoAccess.${f.code}.heading`,f),N=j(`NoAccess.${f.code}.features.${C=f.permission,C?C.replace(":","."):""}`,"",f)||j(`NoAccess.${f.code}.description`,f);var C;const P=y?u.a:"div";return f.code||console.warn(f),r.a.createElement(P,Object(c.a)([d,v&&g,t],O),r.a.createElement("h2",{className:m},k),r.a.createElement("p",{className:p},N),b&&r.a.createElement(l.a,{fullWidth:!0,btnStyle:"secondary2",className:h,to:b},j("NoAccess.cancel")),E&&r.a.createElement(o.a,{fullWidth:!0,btnStyle:"secondary2",className:h,onClick:E},j("NoAccess.cancel")),_&&r.a.createElement(l.a,{fullWidth:!0,btnStyle:"primary",to:_,onClick:E,"data-button":"upgrade-to-"+f.target,"data-event":"click-upgrade","data-variant":"restrict"},j(`NoAccess.${f.code}.button`,f)),a)}},F80f:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("Pc05"),r=a.n(n),s=a("r0ML"),c=a.n(s),i=a("8Tvr"),l=a("rd+V"),o={root:"_1uwtQmqU",header:"_3PnVmsFA",title:"_3NR09vXe",icon:"_3AHPyKVT",iconBtn:"_3DEC1Lzz"};function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function d(e){let{isOpen:t,className:a,onClose:n,children:s,title:d,closeButton:m,modal:p}=e;return t?c.a.createElement(i.a,u({},p,{onClose:n,className:o.container}),c.a.createElement("div",{className:r()(o.root,a)},m&&c.a.createElement("div",{className:o.iconBtn,onClick:n},c.a.createElement(l.a,{className:o.icon})),d&&c.a.createElement("div",{className:o.header},c.a.createElement("div",{className:o.title},"function"!=typeof d?d:d())),c.a.createElement("div",{className:o.content},s))):null}d.defaultProps={closeButton:!0,isOpen:!1}},FRBS:function(e,t,a){"use strict";var n=a("4ZHd"),r=a.n(n),s=a("cGUp"),c=a.n(s);function i(e){const t=e.error&&"string"==typeof e.error?e.error:"Api error",a=new Error(t);return a.response=e,a.type="facebookApiError",a}class l{getLoginStatus(){return new Promise((e,t)=>{window.FB.getLoginStatus(a=>{a?e(a):t(i("Error"))})})}api(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return new Promise((e,a)=>{window.FB.api(...t,t=>{!t||t.error?a(i(t)):e(t)})})}login(e){return new Promise((t,a)=>{window.FB.login(e=>{e?t(e):a(i(e))},e)})}}let o;t.a=()=>(o||(o=new Promise((e,t)=>{r()("https://connect.facebook.net/en_US/sdk.js",()=>{if(!window.FB){const e=new Error("Not initialized");return t(e)}window.FB.init({appId:c.a.facebook_app_id,cookie:!0,xfbml:!1,status:!0,version:"v12.0"});const a=new l;e(a)})})),o)},FcSA:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("g0xT"),r=a("6BW+");function s(){const e=Object(n.d)(r.c);function t(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return a.includes(e)}const a=t("owner","admin"),s=t("owner"),c=t("manager");return{hasAccess:t,role:e,isAdmin:a,isOwner:s,isManager:c}}},Fgr5:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/aboutProLogo.svg"},Fz8S:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("v2fZ");function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e){let t=[];for(let a in e)if(n(e,a)){const n=[a,e[a]].join("=");t.push(n)}return t.length>0?"?"+t.join("&"):""}r.parse=function(e){const t=(e||"").replace("?","").split("&"),a={};for(const e of t){const t=e.replace(/\+/g,"%20"),r=t.indexOf("=");if(r<=0)continue;const s=decodeURIComponent(t.slice(0,r)),c=decodeURIComponent(t.slice(r+1));n(a,s)?Array.isArray(a[s])?a[s].push(c):a[s]=[a[s],c]:a[s]=c}return a}},FzdF:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/messengers/icon-line.svg"},Gkiy:function(e,t,a){"use strict";var n=a("r0ML"),r=a.n(n),s=a("Pc05"),c=a.n(s),i="JbT8d0t8",l="_3fbTNNoe";function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const u=e=>{let{className:t,hasError:a,align:n,children:s,as:u="div",...d}=e;return r.a.createElement(u,o({className:c()(t,i,{[l]:"right"===n})},d),s)};u.defaultProps={hasError:!1};t.a=u},"H8+p":function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/visa_logo.png"},Hw9h:function(e,t,a){"use strict";a("lFMf"),a("gOHk"),a("c9hT");var n=a("UhZ4"),r=a.n(n),s=a("cGUp"),c=a.n(s),i=a("K6sN"),l=a("w5oC");t.a=new class{constructor(e){this.baseUrl=e}async listFiles(e){return this.makeGet("/files",e)}async uploadFile(e){let{file:t,workspace:a,website:n,destination:r}=e;const s=new FormData;return s.append("file",t),s.append("workspace",a),s.append("website",n),s.append("destination",r),this.makePost("/api/files",s)}async uploadImage(e){let{file:t,workspace:a,website:n,destination:r}=e;const s=new FormData;return s.append("file",t),s.append("variant","normal"),s.append("workspace",a),n&&s.append("website",n),s.append("destination",r),this.makePost("/api/images",s)}async uploadIcon(e){let{file:t,workspace:a,website:n,destination:r}=e;const s=new FormData;return s.append("file",t),s.append("variant","icon_192"),s.append("format","png"),s.append("workspace",a),s.append("website",n),s.append("destination",r),this.makePost("/api/images",s)}deleteFiles(e){return this.makePost("/api/files/delete",e)}getHeaders(){return{Accept:i.a,Authorization:"Bearer "+this.getAccessToken()}}getAccessToken(){return r.a.get(l.a)}async makePost(e,t){const a=new URL(e,this.baseUrl),n=Object(i.d)(t),r=this.getHeaders();n||(r["Content-Type"]=i.a);const s=await fetch(a,{method:"POST",body:n?t:JSON.stringify(t),headers:r});if(204!==s.status)return Object(i.e)(s.headers)?s.json():s.text()}async makeGet(e,t){const a=new URL(e,this.baseUrl);a.search=new URLSearchParams(t);const n=await fetch(a,{headers:this.getHeaders()});return Object(i.e)(n.headers)?n.json():n.text()}}(c.a.media_url)},I1kg:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a("r0ML"),r=a.n(n),s=a("hycj"),c=a("kkZN"),i=a("cpKZ"),l=a("tdCx");var o=a("ATgU"),u={root:"hcOCh6Da",disabled:"_3TBIVTem",requiredMark:"_3WtuGYA0",optionalMark:"_2PTbVhmm",builderStyle:"Gj3y1KB5"};function d(e){let{disabled:t,required:a,optional:n,builderInput:s,children:l,...o}=e;const{t:d}=Object(c.useTranslation)("ui"),m=a?r.a.createElement("span",{className:u.requiredMark,title:d("labels.field_required")},"*"):n&&r.a.createElement("span",{className:u.optionalMark,title:d("labels.field_optional")},d("labels.optional"));return r.a.createElement("label",Object(i.a)([u.root,s&&u.builderStyle,t&&u.disabled],o),l,m)}d.styles=u;var m=a("Oe/J"),p="_1Mx-SGW9";function g(e){return r.a.createElement(m.a,Object(i.a)(p,e))}function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function b(e){let{as:t,id:a,children:u,tag:p=o.a,builderInput:b,...f}=e;const{row:{name:v,label:E,labelClassName:y,errorClassName:O,restrictRule:j,required:w,optional:_,...k},control:N}=function(e){const{style:t,className:a,name:n,label:r,labelClassName:s,errorClassName:c,restrictRule:i,required:l,optional:o,disabled:u,controlProps:d,...m}=e;return{row:{required:l,optional:o,style:t,className:a,name:n,label:r,labelClassName:s,errorClassName:c,restrictRule:i,disabled:u},control:{name:n,disabled:u,required:l,...d,...m}}}(f),{t:C}=Object(c.useTranslation)(),{hasWarning:P,showWarning:S}=Object(l.a)(j),x=Object(s.d)(),{name:T,warning:I,getFieldProps:M,getFieldMeta:L}=x,A=L(v);a||(a=`${T||"form"}_${v}`.replaceAll(".","_"));const R="function"==typeof u,F=(R||!u)&&Object.assign(M(v),N,{id:a,builderInput:b}),D=Object(n.useCallback)((e,t)=>r.a.createElement(d,h({required:w,optional:_,disabled:N.disabled,htmlFor:a,builderInput:b},t?Object(i.a)(y,t):{className:y}),e),[y,w,_,N.disabled,a,b]);let B;return B=R?u({form:x,field:F,meta:A,makeLabel:D}):u||Object(n.createElement)(t||"input",F),r.a.createElement(p,h({},k,{onClick:P?e=>{e.preventDefault(),S()}:null}),E&&D(E),B,I&&r.a.createElement(g,null,C(I)),A.error&&A.touched&&!((U=A.error)&&"object"==typeof U)&&r.a.createElement(m.a,{className:O},C(A.error)));var U}},IfAq:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/icon_share_two.png"},JDWS:function(e,t,a){"use strict";var n=a("8qbc");class r extends n.a{constructor(e){super(e),this.accessToken=null}request(e,t){let a={};return Array.isArray(e)&&([e,a]=e),this.accessToken&&(a.accessToken=this.accessToken),super.request([e,a],t)}list(e,t){return super.get([`/workspaces/${e}/reviews`,t])}my(e){return super.get(`/workspaces/${e}/reviews/my`)}create(e,t){return super.post(`/workspaces/${e}/reviews`,t)}delete(e,t){return super.delete(`/workspaces/${e}/reviews/${t}`)}}t.a=new r},Jafw:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("lFMf"),a("gOHk"),a("c9hT");var n=a("r0ML"),r=a("1jyU"),s=a("bCRH"),c=a("cGUp");function i(){let{target:e,url:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=Object(s.b)(),{isMobile:i}=Object(n.useMemo)(()=>{var e;return Object(r.a)(null===(e=window.navigator)||void 0===e?void 0:e.userAgent)},[]),l=Object(n.useMemo)(()=>{const e=(t||c.branding_url).replace("{lang}",a===c.fallback_language?"":"/"+a),n=i?"mobile":"desktop",r=window.location.hostname===c.main_hostname?window.location.pathname.split("/")[1]:window.location.hostname,s=new URL(e),l=n||(i?"mobile":"desktop");return s.search=new URLSearchParams({utm_source:"userpage_branding_logo",utm_medium:"userpage_branding_"+l,utm_campaign:"userpage_branding_"+l,utm_content:r}),s.toString()},[a,e,t]);return l}},JuTl:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("v2fZ");function n(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];const n=t.join("/"),r="/"===n.charAt(0)?"/":"",s=n.split("/"),c=[];for(let e=0;e<s.length;e++)"string"==typeof s[e]&&s[e]&&"."!==s[e]&&(".."===s[e]?c.pop():c.push(s[e]));return r+c.join("/")}},K6sN:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"e",(function(){return m})),a.d(t,"g",(function(){return p})),a.d(t,"h",(function(){return h})),a.d(t,"c",(function(){return v})),a.d(t,"b",(function(){return E}));var n=a("ObYw"),r=a.n(n),s=a("XY3h"),c=a.n(s),i=a("R6Hn"),l=a("j2AC");const o="application/json";function u(e){return e instanceof FormData}function d(e){return"object"==typeof e}function m(e){const t=e.get("Content-Type");return!!t&&c.a.parse(t).type===o}function p(e){return r()(e)?e:window.location.origin+e}const g=e=>async function(){return e(...arguments)};function h(e){const t={};if(null!=e&&e.errors)for(let a in e.errors)Object(i.a)(t,a,e.errors[a]);return t}function b(e,t){"Sentry"in window&&Sentry.withScope(a=>{a.setExtras(t),Sentry.captureException(e)})}function f(e){function t(t){return{type:e,...t}}return e="@API/"+e,t.type=e,t.toString=()=>e,t}function v(e,t,a){const n="@API/SOCKET/"+t;a||(a=e=>({payload:e}));const r=()=>r=>{const s=e.createSocket();s.on(t,(function(t){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=c.clientId===e.clientId;i||r({type:n,socketId:s.id,...c,...a(...Array.isArray(t)?t:[t]),ignore:!1})}))};return r.type=n,r.toString=()=>n,r}function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function a(t,a){a=g(a);const n=f(t),r=f(t+"/SUCCESS"),s=f(t+"/FAILURE");function c(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t={...e._params,...t},async(e,c)=>{e(n(t));try{const n=await a(t);return e(r({...t,result:n})),n}catch(a){throw e(s({...t,error:a})),l.g.is(a)||b(a,{action:s.toString(),state:c()}),a}}}return c.request=n,c.requestType=n.type,c.success=r,c.successType=r.type,c.failure=s,c.failureType=s.type,c.toString=n.toString,c.type=n.type,c}function n(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(const[s,c]of Object.entries(e)){if(s.startsWith("_"))continue;const e=t?`${t}.${s}`:s;"object"==typeof c?r[s]=n(c,e):"function"==typeof c&&(r[s]=a(e,c))}return r}return n(e.resources,null,t)}},KDbz:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/choose.svg"},KZ4r:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/onboarding/analytics.svg"},KhfH:function(e,t,a){"use strict";var n=a("RTFG");const r=new Map([["USD","en-US"],["EUR","de-DE"]]),s=Object(n.a)((e,t)=>(r.has(t)&&(e=r.get(t)),new Intl.NumberFormat(e,{style:"currency",currency:t,currencyDisplay:r.has(t)?"symbol":"code",minimumFractionDigits:0,useGrouping:!1})),(e,t)=>`${e}${t}`);t.a=(e,t,a)=>s(a,t).format(e)},L8js:function(e,t,a){"use strict";var n=a("r0ML"),r=a.n(n),s=a("Pc05"),c=a.n(s),i="_3bEucP4S",l="_3feTH91h";function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.a=e=>{let{className:t,fullWidth:a,children:n,...s}=e;return r.a.createElement("div",o({className:c()(i,a&&l,t)},s),n)}},"Llc/":function(e,t,a){"use strict";const n=/^[^:]*:\/*/;t.a=e=>e.replace(n,"")},M9wv:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("r0ML"),r=a.n(n),s=a("QD+E"),c=a("gxZ5");function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function l(e){return r.a.createElement(c.a,i({tag:s.d,activeClassName:c.a.styles.active},e))}},"MP+E":function(e,t,a){"use strict";var n=a("K6sN"),r=a("a2Wz");const s=Object(n.b)(r.a);function c(e,t){return Object(n.c)(r.a,e,t)}s.init=()=>async e=>{if(!r.a.isAuthenticated)return;return t=[s.users.me(),s.workspaces.retrieve(),s.billing.details(),s.billing.products.prices(),s.websites.list(),s.collections.list()],Promise.all(t.map(t=>e(t)));var t};const i=(e,t)=>({contactId:e,payload:t}),l=(e,t)=>({feedbackId:e,result:t});s.listenConnect=c("connect"),s.listenDisconnect=c("disconnect"),s.listenReconnect=c("reconnect"),s.listenVerifyVersion=c("verifyVersion"),s.listenUserUpdated=c("user_updated",e=>e),s.listenNewMessages=c("newMessages",i),s.listenCreateConversation=c("createConversation",i),s.listenUpdateConversation=c("updateConversation",i),s.listenSubscriptionCreated=c("subscription_created"),s.listenSubscriptionUpdated=c("subscription_updated"),s.listenSubscriptionCancelled=c("subscription_cancelled"),s.listenPaymentSucceeded=c("subscription_payment_succeeded"),s.listenPaymentInitialSucceeded=c("initial_subscription_payment_succeeded"),s.listenPaymentFailed=c("subscription_payment_failed"),s.listenPaymentRetryFailed=c("retry_subscription_payment_failed"),s.listenHighRiskTransactionUpdated=c("high_risk_transaction_updated"),s.listenCreateFeedback=c("createFeedback",l),s.listenUpdateFeedback=c("updateFeedback",l),s.conversations.filterList=function(){let{query:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(a,n)=>{const r=n(),{status:c,assign:i,searchValue:l,showNewFirst:o}=r.ui.conversationsFilter;return e={status:c,assign:i,searchValue:l,sort:o?"new":"old",...e},a(s.conversations.list({query:e,...t}))}},s.unsubscribe=function(e,t){const a=a=>async n=>{n({type:e,payload:a}),await t(a)};return a.type=e="@API/"+e,a.toString=()=>e,a}("unsubscribe",e=>{let{cancelUrl:t}=e;window.open(t)}),t.a=s},MSOi:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return u}));var n=a("r0ML"),r=a.n(n),s=a("ZNIA"),c=a.n(s),i=a("goqe");function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const o=e=>r.a.createElement(c.a,l({},e,i.a.aboveMobile)),u=e=>r.a.createElement(c.a,l({},e,i.a.mobile))},"MY/q":function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("r0ML"),r=a.n(n),s=a("Pc05"),c=a.n(s),i="_1cnTjnAM",l="_3hRipkpF",o="_3QPDy911",u="_2GF_HvGn";function d(e){let{error:t,critical:a=!0,shake:n,errorStyle:s}=e;if(!t)return null;const d=Array.isArray(t)?t:[t];return r.a.createElement("ul",{className:c()(i,{[l]:!a,[o]:n,[u]:n}),style:s},d.map((e,t)=>r.a.createElement("li",{key:t},e)))}},Mh6W:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/aboutProBg.jpg"},N6lx:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return s}));var n=a("zl5+"),r=a("Qg6Y");function s(){var t;const{card:a,projectVersion:s}=Object(r.a)(),c=!(null==a||null===(t=a.links)||void 0===t||!t.length),i=Object(n.a)(s,"<=2.9"),l="mobile"!==e.env.REACT_APP_TARGET&&Object(n.a)(s,"<4.0.0");return{isInboxDisplayed:i,isLinksDisplayed:c,isSavingUtm:Object(n.a)(s,">=5.12.0"),isOldVersionDisplayed:l}}}).call(this,a("TzVV"))},NFaR:function(e,t,a){"use strict";a.r(t),t.default={}},Ng9b:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/blank.png"},Nphk:function(e,t,a){"use strict";a.d(t,"a",(function(){return N}));var n=a("UhZ4"),r=a.n(n),s=a("quq1"),c=a("kqAp"),i=a.n(c),l=a("cYf2"),o=a.n(l),u=a("Lx+S"),d=a.n(u),m=a("3gnH"),p=(a("v2fZ"),a("lFMf"),a("gOHk"),a("c9hT"),a("fTOn")),g=a("jxal"),h=a("K6sN"),b=a("j2AC");function f(e){Object(h.d)(e.payload)?delete e.headers["Content-Type"]:e.headers["Content-Type"]=h.a}function v(e){e.originalPayload=e.payload,!Object(h.d)(e.payload)&&Object(h.f)(e.payload)&&(e.payload=JSON.stringify(e.payload))}class E{constructor(e){let{method:t,url:a,payload:n,headers:r={}}=e;this.method=t,this.url=a,this.payload=n,this.headers=r}}class y extends g.EventEmitter{constructor(e){let{baseUrl:t="/api",headers:a,middlewares:n=[f,v]}=e;super(),this._baseUrl=Object(h.g)(t),this._headers={Accept:h.a,...a},this._params={},this._middlewares=n,this.addMiddleware(this.addHeaders)}addMiddleware(e){this._middlewares.push(e)}addHeaders(e){e.headers["Accept-Language"]=navigator.language}param(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];if(0===t.length)throw new Error("key argument is required");if(1===t.length)return this._params[t[0]];const[n,r]=t;null==r?delete this._params[n]:this._params[n]=r}generateUrl(e){let{endpoint:t,params:a={},query:n={}}=e;try{const e=Object(p.a)(t)({...this._params,...a}),r=new URL(this._baseUrl+e);for(const[e,t]of Object.entries(n))if(Array.isArray(t))t.forEach(t=>r.searchParams.append(e,t));else if(t&&"object"==typeof t)for(const[a,n]of Object.entries(t))r.searchParams.append(`${e}[${a}]`,n);else r.searchParams.append(e,t);return r}catch(e){throw new Error(`Failed to generate URL for endpoint "${t}": ${e.message}`)}}createApiRequest(e,t,a){const n=new E({method:e.toUpperCase(),url:t,payload:a,headers:{...this._headers}});return this._middlewares.forEach(e=>{e.call(this,n)}),n}async execRequest(e,t){let a;try{a=await fetch(e.url,{credentials:"same-origin",mode:"cors",method:e.method,body:e.payload,headers:e.headers})}catch(t){throw new b.d(`${t.message}\n\tat "${e.url}"`)}const n=Object(h.e)(a.headers);if(a.ok)return n?await a.json():t?a:await a.text();const r=n?await a.json():void 0;switch(a.status){case 400:case 422:throw new b.g({url:a.url.toString(),status:a.status,json:r});case 401:throw new b.a({url:a.url.toString(),status:a.status,json:r});case 403:throw new b.b({url:a.url.toString(),status:a.status,json:r});case 404:throw new b.e({url:a.url.toString(),status:a.status,json:r});case 429:throw new b.c({url:a.url.toString(),status:a.status,json:r});default:throw new b.f({url:a.url.toString(),status:a.status,message:a.statusText,json:r})}}async apiCall(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{raw:n,payload:r,query:s,...c}=a,i=this.generateUrl({endpoint:t,params:c,query:s}),l=this.createApiRequest(e,i,r);return this.execRequest(l,n)}method(e,t){return a=>this.apiCall(e,t,a)}get(e){return this.method("GET",e)}put(e){return this.method("PUT",e)}patch(e){return this.method("PATCH",e)}post(e){return this.method("POST",e)}delete(e){return this.method("DELETE",e)}}var O=a("w5oC"),j=a("Hw9h");function w(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const _=Object(s.default)(i.a),k=[O.b];class N extends y{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),w(this,"_params",{workspaceId:""}),w(this,"_socket",null),w(this,"resources",{auth:{getToken:this.tokenRequest("GET",O.c.auth+"/token/:code"),login:this.tokenRequest("POST",O.c.auth+"/login"),logout:async()=>{this.accessToken=null,r.a.each(e=>{k.includes(e)||r.a.remove(e)})}},billing:{update:this.put(O.c.billing),changePlan:this.post(O.c.billing+"/change-plan"),previewPlanChange:this.post(O.c.billing+"/preview-plan-change"),changeCreditCard:this.put(O.c.billing+"/card"),applyCoupon:this.put(O.c.billing+"/apply-coupon"),getCoupon:this.get(O.c.billing+"/coupons/:couponId"),details:this.get(O.c.billing+"/details"),subscription:{create:this.post(O.c.subscription+"/create"),cancel:this.post(O.c.subscription+"/cancel"),pause:this.post(O.c.subscription+"/pause"),renew:this.post(O.c.subscription+"/renew"),changeCard:this.post(O.c.subscription+"/change-card"),payNow:this.post(O.c.subscription+"/pay-now")},products:{prices:this.get(O.c.billing+"/products/prices")}},bot:{donate:this.post(O.c.bot+"/donate"),subscribe:this.post(O.c.bot+"/subscribe")},bots:{create:this.post(""+O.c.bots),update:this.put(O.c.bots+"/:botId"),delete:this.delete(O.c.bots+"/:botId"),upload:async e=>{let{payload:t,botId:a,field:n="file"}=e;const r=new FormData;return r.append(n,t),this.apiCall("POST",O.c.bots+"/:botId/upload",{botId:a,payload:r,query:{field:n}})}},card:{update:this.put(""+O.c.card),patch:this.patch(""+O.c.card),statistics:this.get(O.c.card+"/statistics"),messengers:{create:this.post(O.c.card+"/messengers"),sort:this.put(O.c.card+"/messengers/sort"),update:this.put(O.c.card+"/messengers/:messengerId"),delete:this.delete(O.c.card+"/messengers/:messengerId")},links:{create:this.post(O.c.card+"/links"),update:this.put(O.c.card+"/links/:linkId"),delete:this.delete(O.c.card+"/links/:linkId")},domain:{connect:this.put(O.c.card+"/domain"),disconnect:this.delete(O.c.card+"/domain")},uploadAvatar:e=>{let{payload:t}=e;return this.resources.workspaces.upload({payload:t,uploadType:"photo",field:"design.photo"})},uploadCover:e=>{let{payload:t}=e;return this.resources.workspaces.upload({payload:t,uploadType:"background",field:"design.background.image"})}},onboarding:{update:this.put(O.c.onboarding)},collections:{list:this.get(O.c.collections),create:this.post(O.c.collections),retrieve:this.get(O.c.collections+"/:collectionId"),sort:this.put(O.c.collections+"/sort"),update:this.put(O.c.collections+"/:collectionId"),delete:this.delete(O.c.collections+"/:collectionId"),products:{get:this.get(O.c.collections+"/:collectionId/products"),update:this.put(O.c.collections+"/:collectionId/products")}},contacts:{list:this.get(O.c.contacts),update:this.put(O.c.contacts+"/:contactId"),delete:this.delete(O.c.contacts+"/:contactId")},conversations:{list:this.get(O.c.conversations),retrieve:this.get(O.c.conversations+"/:contactId"),read:this.put(O.c.conversations+"/:contactId/read"),assign:this.put(O.c.conversations+"/:contactId/assign/:userId"),assignMe:this.put(O.c.conversations+"/:contactId/assign/me"),changeStatus:this.put(O.c.conversations+"/:contactId/status/:status"),block:this.put(O.c.conversations+"/:contactId/block"),uploadAttachment:async e=>{let{payload:t,contactId:a}=e;const n=new FormData;return n.append("file",t),this.apiCall("POST",O.c.conversations+"/:contactId/uploads/attachment",{contactId:a,payload:n,query:{field:"file"}})},sendAttachment:async e=>{let{contactId:t,payload:a}=e;const{file:n,...r}=a,{url:s,filename:c,mime:i,size:l}=await this.resources.conversations.uploadAttachment({contactId:t,payload:n});return this.resources.messages.create({contactId:t,payload:{type:"image/png"===i||"image/jpeg"===i?"image":"file",mediaUrl:s,fileName:c,fileSize:l,destination:"client",...r}})},sendMessage:e=>{let{contactId:t,payload:a}=e;return this.apiCall("POST",O.c.messages,{contactId:t,payload:{type:"text",destination:"client",...a}})},messages:this.get(O.c.messages),statistics:this.get(O.c.conversations+"/statistics"),unread:this.get(O.c.conversations+"/unread")},integrations:{create:this.post(O.c.integrations),delete:this.delete(O.c.integrations+"/:integrationId")},messages:{list:this.get(O.c.messages),create:this.post(O.c.messages)},products:{list:this.get(O.c.products),sublist:this.get(O.c.products),create:this.post(O.c.products),retrieve:this.get(O.c.products+"/:productId"),update:this.put(O.c.products+"/:productId"),delete:this.delete(O.c.products+"/:productId"),sort:this.put(O.c.products+"/sort"),migrate:this.post(O.c.products+"/migrate"),listByCollection:this.get(O.c.products+"/:collectionId/sorted"),retrieveBySlug:this.get(O.c.products+"/:collectionId/:productSlug"),uploadPhoto:e=>{let{payload:t,websiteId:a}=e;return j.a.uploadImage({file:t,workspace:this.getWorkspaceId(),website:a,destination:`w/${this.getWorkspaceId()}/websites/${a}/products`})},uploadPhotos:async e=>{let{payloads:t,websiteId:a}=e;const n=await Promise.all(t.map(async e=>{try{const{url:t}=await this.resources.products.uploadPhoto({payload:e,websiteId:a});return{file:e.name,result:t}}catch(t){return{file:e.name,error:t.errors&&t.errors.photos||t.message}}}));return{success:n.filter(e=>{let{result:t}=e;return t}),failed:n.filter(e=>{let{error:t}=e;return t})}}},replies:{list:this.get(O.c.replies),create:this.post(O.c.replies),update:this.put(O.c.replies+"/:replyId"),delete:this.delete(O.c.replies+"/:replyId")},reviews:{list:this.get(O.c.reviews),create:this.post(O.c.reviews),delete:this.delete(O.c.reviews+"/:reviewId"),my:this.get(O.c.reviews+"/my")},team:{create:this.post(O.c.team),update:this.put(O.c.team+"/:memberId"),delete:this.delete(O.c.team+"/:memberId")},users:{create:async e=>{const t=await this.apiCall("POST",""+O.c.users,e);return this.accessToken=t.token,t},checkInvite:this.post(O.c.users+"/check-invite"),checkRegistrationInvite:this.post(O.c.users+"/check-reg-invite"),recoveryPassword:this.post(O.c.users+"/recovery-password"),join:async e=>{const t=await this.apiCall("POST",O.c.users+"/join",e);return this.accessToken=t.token,t},me:this.get(O.c.users+"/me"),deleteAccount:()=>{const e=this.apiCall("DELETE",O.c.users+"/me");return setTimeout(()=>{this._accessToken=null,r.a.clearAll()},100),e},updateMyAccount:this.put(O.c.users+"/me"),changeMyPassword:this.put(O.c.users+"/me/change-password"),sendFeedback:this.put(O.c.users+"/me/feedback"),saveMySubscription:this.put(O.c.users+"/me/save-subscription"),updateUtm:this.post(O.c.users+"/me/utm"),uploadAvatar:e=>{let{payload:t,field:a}=e;return this.resources.workspaces.upload({uploadType:"photo",payload:t,field:a})},invites:{list:this.get(O.c.invites),create:this.post(O.c.invites),delete:this.delete(O.c.invites+"/:inviteId")},switchApp:this.put(O.c.users+"/me/switch-app"),connectTelegram:this.post(O.c.users+"/me/connect-telegram"),addApnToken:this.post(O.c.users+"/me/apn-tokens")},workspaces:{my:this.get(O.c.workspaces+"/my"),create:this.post(O.c.workspaces),retrieve:this.get(O.c.workspaces+"/:workspaceId"),update:this.put(O.c.workspaces+"/:workspaceId"),delete:this.delete(O.c.workspaces+"/:workspaceId"),upload:async e=>{let{payload:t,field:a,uploadType:n}=e;const r=new FormData;return r.append(a,t),this.apiCall("POST",O.c.workspaces+"/:workspaceId/uploads/:uploadType",{payload:r,query:{field:a},uploadType:n})}},websites:{list:this.method("GET",O.c.websites),create:this.method("POST",O.c.websites),scaffold:this.method("POST",O.c.websites+"/scaffold"),retrieveBySlug:this.method("GET",O.c.websites+"/slug/:websiteSlug"),retrieve:this.method("GET",O.c.website),update:this.method("PUT",O.c.website),delete:this.method("DELETE",O.c.website),updateHomePage:this.method("POST",O.c.website+"/homepage"),domain:{update:this.method("PUT",O.c.website+"/domain"),delete:this.method("DELETE",O.c.website+"/domain"),get:this.method("GET",O.c.website+"/domain")},upload:async e=>{let{websiteId:t,payload:a}=e;return j.a.uploadImage({file:a,workspace:this.getWorkspaceId(),website:t,destination:`w/${this.getWorkspaceId()}/websites/${t}`})},uploadFavicon:async e=>{let{websiteId:t,payload:a}=e;return j.a.uploadIcon({file:a,workspace:this.getWorkspaceId(),website:t,destination:`w/${this.getWorkspaceId()}/websites/${t}`})},uploadMany:async e=>{let{websiteId:t,payloads:a,field:n="files"}=e;const r=await Promise.all(a.map(async e=>{try{const a=await this.resources.websites.upload({websiteId:t,field:n,payload:e});return{file:e.name,result:a}}catch(t){return{file:e.name,error:t.errors&&t.errors[n]||t.message}}}));return{success:r.filter(e=>{let{result:t}=e;return t}),failed:r.filter(e=>{let{error:t}=e;return t})}},deleteUpload:async e=>{let{path:t}=e;return j.a.deleteFiles({path:[t]})},crm:{settings:{update:this.post(O.c.website+"/crm/settings")}},audience:{list:this.get(O.c.website+"/audience"),downloadUrl:this.get(O.c.website+"/audience/download-url")},services:{requestABlock:this.post(O.c.website+"/request-a-block")},statistics:this.get(O.c.website+"/statistics")},pages:{list:this.method("GET",O.c.pages),create:this.method("POST",O.c.pages),retrieve:this.method("GET",O.c.pages+"/:pageId"),update:this.method("PUT",O.c.pages+"/:pageId"),delete:this.method("DELETE",O.c.pages+"/:pageId"),retrieveBySlug:this.method("GET",O.c.pages+"/slug/:pageSlug"),clone:this.method("POST",O.c.pages+"/:pageId/clone"),applyTemplate:this.post(O.c.pages+"/:pageId/apply-template/:templateId")},feedbacks:{list:this.method("GET",O.c.feedbacks),create:this.method("POST",O.c.feedbacks),count:this.method("GET",O.c.feedbacks+"/count"),perWebsiteCount:this.post(O.c.websites+"/feedback/count"),recent:this.method("GET",O.c.feedbacks+"/recent"),retrieve:this.method("GET",O.c.feedbacks+"/:feedbackId"),update:this.method("PUT",O.c.feedbacks+"/:feedbackId"),delete:this.method("DELETE",O.c.feedbacks+"/:feedbackId")},orders:{list:this.method("GET",O.c.orders),update:this.method("PUT",O.c.orders+"/:orderId")},blocks:{create:this.post(O.c.blocks),update:this.put(O.c.blocks+"/:blockId"),convert:this.put(O.c.blocks+"/:blockId/convert"),delete:this.delete(O.c.blocks+"/:blockId"),toggle:this.put(O.c.blocks+"/toggle"),group:this.put(O.c.blocks+"/group"),clone:this.put(O.c.blocks+"/clone"),deleteMany:this.put(O.c.blocks+"/deleteMany"),sort:this.put(O.c.blocks+"/sort")},tags:{list:this.get(O.c.tags),create:this.post(O.c.tags),retrieve:this.get(O.c.tags+"/:tagId"),update:this.put(O.c.tags+"/:tagId"),delete:this.delete(O.c.tags+"/:tagId")},pageTemplates:{list:this.get(O.c.templates),create:this.post(O.c.templates),retrieve:this.get(O.c.templates+"/:templateId"),update:this.put(O.c.templates+"/:templateId"),delete:this.delete(O.c.templates+"/:templateId"),uploadThumbnail:e=>{let{payload:t,field:a}=e;return this.resources.workspaces.upload({uploadType:"template",payload:t,field:a})}},crm:{settings:{update:this.post(O.c.crm+"/settings")}},endpoints:{sample:this.get(O.c.endpoints+"/test"),test:this.post(O.c.endpoints+"/test")}}),this._socketUrl=e.socketUrl,this._accessToken=r.a.get(O.a),this._storeClientId()}_storeClientId(){let e=r.a.get(O.b);e||(e=d()(),r.a.set(O.b,e)),this.clientId=e}addHeaders(e){this._accessToken&&(e.headers.Authorization=`Bearer "${this._accessToken}"`),e.headers["Accept-Language"]=m.a.language,e.headers["X-Client-Id"]=this.clientId}get isAuthenticated(){return!!this._accessToken}get accessToken(){return this._accessToken}set accessToken(e){this._accessToken=e,e?r.a.set(O.a,e):(r.a.remove(O.a),this._closeSocket()),this.emit("changeAccessToken")}get aboutMe(){return this._accessToken?_(this._accessToken):null}_createSocket(){const e=o()(this._socketUrl,{transports:["websocket"],query:{token:this._accessToken,clientId:this.clientId}});return e.on("connect",()=>{e.emit("start")}),e}_closeSocket(){this._socket&&(this._socket.close(),this._socket=null)}createSocket(){return this._socket||(this._socket=this._createSocket()),this._socket}async execRequest(){try{return await super.execRequest(...arguments)}catch(e){throw 403!==e.status||e.permission||(this.accessToken=null),e}}getWorkspaceId(){return this._params.workspaceId}tokenRequest(e,t){return async a=>{const n=await this.apiCall(e,t,a);return this.accessToken=n.token,n}}}},"Oe/J":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("r0ML"),r=a.n(n),s=a("cpKZ"),c="SKZRHG0g";function i(e){return r.a.createElement("div",Object(s.a)(c,e))}},OsH9:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("r0ML"),r=a.n(n),s=a("hycj"),c=a("r1xb"),i=a("nq71");function l(e){let{children:t,...a}=e;const n=Object(i.a)(a);return r.a.createElement(s.b,{value:n},Object(c.a)(t,n))}},OzhK:function(e,t,a){var n={"./en-au":"4ztU","./en-au.js":"4ztU","./en-ca":"Vj0R","./en-ca.js":"Vj0R","./en-gb":"blmW","./en-gb.js":"blmW","./en-ie":"oC32","./en-ie.js":"oC32","./en-il":"LdJM","./en-il.js":"LdJM","./en-nz":"LhZT","./en-nz.js":"LhZT","./ru":"dcup","./ru.js":"dcup","./uk":"iaX5","./uk.js":"iaX5"};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id="OzhK"},Pfhs:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{plan:a,status:n,paid:r}=e;return!(!a||"trialing"!==n&&"basic"!==a&&"unlimited"!==a)||(r||t&&"past_due"===n)},r=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"basic"===e.plan||!n(e,t)}},Po5v:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return m}));var n=a("Abao");a.d(t,"b",(function(){return n.a}));var r=a("6Nwd"),s=a("ID3L"),c=a.n(s),i=a("kkZN"),l=a("cGUp"),o=a.n(l),u=a("oaOZ"),d=a("+eE7");const m=new u.a,p="mobile"===e.env.REACT_APP_TARGET?["navigator"]:["querystring","cookie","localStorage","navigator"];n.a.use(m).use(r.a).use(i.initReactI18next).init({supportedLngs:o.a.languages,fallbackLng:o.a.fallback_language,lowerCaseLng:!0,cleanCode:!0,ns:["common"],defaultNS:"common",debug:"true"===e.env.REACT_APP_I18N_DEBUG,interpolation:{escapeValue:!1,format:d.a},detection:{order:p,lookupQuerystring:"lang",lookupCookie:"lang",lookupLocalStorage:"lang",caches:["localStorage","cookie"]},react:{transKeepBasicHtmlNodesFor:["br","strong","i","p","b"]}}),n.a.on("languageChanged",e=>{c.a.locale(e)})}).call(this,a("TzVV"))},Q7xJ:function(e,t,a){"use strict";var n=a("8qbc");class r extends n.a{list(e,t){return this.get([`/workspaces/${e}/collections`,t])}}t.a=new r},QJGC:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/viber.svg"},QSHt:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return s}));var n=a("t1lN");const r=e=>e.workspace,s=(Object(n.a)(r,(e,t)=>e.integrations.find(e=>e.type===t)),Object(n.a)(r,e=>e.team.filter(e=>"Member"===e.kind).map(e=>e.user)));Object(n.a)(r,(e,t)=>e.card.messengers.find(e=>e.messenger===t))},Qg6Y:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("g0xT");function r(){return Object(n.d)(e=>e.workspace)}},Qlef:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/stripe.png"},QuEQ:function(e,t,a){"use strict";var n=a("PZsd"),r=a.n(n);const s=[["PATTERN_REPLACE_ANY","*",".*?"],["PATTERN_REPLACE_ONE","?","."]];t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=e;for(const[e,t]of s)n=n.replaceAll(t,e);n=r()(n);for(const[e,,t]of s)n=n.replaceAll(e,t);return new RegExp(a+n,t)}},RbiZ:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/visa_light.svg"},Rkv1:function(e,t,a){"use strict";a.d(t,"c",(function(){return cl})),a.d(t,"d",(function(){return Se.e})),a.d(t,"a",(function(){return Se.b})),a.d(t,"e",(function(){return Se.f})),a.d(t,"b",(function(){return Se.c})),a.d(t,"g",(function(){return Se.g})),a.d(t,"h",(function(){return Se.k})),a.d(t,"f",(function(){return dl})),a("3gnH").b.registerResolver("cards",(function(e){return a("eRWQ")(`./${e}/cards.json`)}));var n=a("kkZN");var r=a("r0ML"),s=a.n(r),c=a("lkLo"),i=a("MSOi"),l=a("yHpL"),o=a("hycj"),u=a("DC3q"),d=a("vMq5"),m=a("Pc05"),p=a.n(m),g=a("63aL"),h=a("1isK"),b=a("cpKZ"),f="_22Yfu2Gg";function v(e){let{url:t,...a}=e;return s.a.createElement("div",Object(b.a)(f,a),t?s.a.createElement("img",{src:t,alt:"preview"}):s.a.createElement(g.o,{size:20,color:"#999"}))}v.defaultProps={url:null};var E="_2qYNvg0w",y="_3JRXcQAC",O="_2Jg2ySsJ",j="_4t1czwm9",w="_3yUdUDaU",_="xn9q95jq",k="_262LsC6D";function N(e){let{accept:t,name:a,onChange:c,onDelete:i,preview:l,previewUrl:o,isUploading:u,innerLabel:d,removable:m,actions:b,style:f}=e;const{t:N}=Object(n.useTranslation)("ui"),C=Object(r.useCallback)(()=>c(null,{}),[c]);return s.a.createElement("div",{className:E,style:f},l||s.a.createElement(v,{url:o}),s.a.createElement("div",{className:k},d),s.a.createElement("div",{className:y},s.a.createElement("div",{className:O,style:{pointerEvents:u?"none":"auto"}},s.a.createElement("div",{style:{opacity:u?0:1}},s.a.createElement("span",null,N(o?"labels.change":"labels.upload")),s.a.createElement("input",{type:"file",className:w,accept:t,name:a,onChange:c})),u&&s.a.createElement("div",{className:_},s.a.createElement(h.a,{color:"white",size:14}))),b,(o&&m||"force"===m)&&s.a.createElement("div",{className:p()(O,j),onClick:i||C},s.a.createElement(g.x,{size:14}))))}N.defaultProps={className:"",accept:"image/png,image/x-png,image/jpeg",isUploading:!1,previewUrl:null,innerLabel:"Image",removable:!1,preview:null,actions:null,onDelete:null};var C=a("I1kg");function P(){return(P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function S(e){let{as:t,upload:a,name:n,previewName:c,onChange:i,children:l,...m}=e;const{setFieldError:p,setFieldValue:g,setFieldTouched:h,getFieldMeta:b}=Object(o.d)(),{error:f}=b(n),{run:v,pending:E,getValidationError:y}=(e=>{let{name:t,upload:a,onChange:n}=e;return Object(d.a)(async(e,r)=>{const s=Object(u.a)(e,"target.files.0");s?n(await a({payload:s,field:t})):r&&n(r)})})({name:n,upload:a,onChange:Object(r.useCallback)(e=>{i?i(e):(g(n,e.filename||""),c&&g(c,e.url||""),h(n,!0,!1))},[n,c,i])}),O=y(n)||f;return Object(r.useEffect)(()=>{O&&O!==f&&(p(n,O),h(n,!0,!1))},[O,f]),s.a.createElement(C.a,P({name:n},m),e=>{let{field:a}=e;return s.a.createElement(t,P({},a,{isUploading:E,preview:"function"==typeof l?l({isFetching:E}):l,onChange:v}))})}S.defaultProps={as:N};var x=a("6dgs"),T=a("QD+E"),I=a("Qg6Y"),M=a("yW3b"),L="_33hV2cir";function A(){return(A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const R=e=>{let{styled:t,...a}=e;const{t:r}=Object(n.useTranslation)("ui");return"button"===t?s.a.createElement(M.a,A({size:"small",noborder:!0,btnStyle:"transparent"},a),r("button.cancel")):"backIcon"===t?s.a.createElement("div",{className:L},s.a.createElement(M.a,A({size:"small",noborder:!0,btnStyle:"transparent"},a))):null};R.defaultProps={styled:"button"};var F=R,D=a("OsH9"),B=a("L8js"),U=a("SVdZ"),z=a("vGY9");const q={id:0};var V={content:"_3uxagRdW"};function W(e){let{cancel:t,leave:a}=e;const{t:r}=Object(n.useTranslation)("ui");return s.a.createElement("div",{className:V.root},s.a.createElement("div",{className:V.content},s.a.createElement("p",null,r("NavigationGuardMessage.message"))),s.a.createElement("div",null,s.a.createElement(M.a,{type:"button",fullWidth:!0,btnStyle:"secondary2",onClick:t,style:{marginBottom:12}},r("NavigationGuardMessage.buttons.goBack")),s.a.createElement(M.a,{type:"button",fullWidth:!0,btnStyle:"danger",onClick:a},r("NavigationGuardMessage.buttons.exitNoSave"))))}var H="_1JTINM45",Z="tmuRH_jv",K="_1lhYpV-D",G="LZLoelqH",J="_2wImQsXV";const Q=e=>{e.preventDefault(),e.stopPropagation()};function Y(e){let{blocked:t,forbid:a,children:n,overlay:i}=e;const{isBlocking:l,wasBlocking:o,cancel:u,leave:d}=(e=>{let{blocked:t,forbid:a}=e;const n=Object(c.g)(),[s,i]=Object(r.useState)(null),[l,o]=Object(r.useState)(!1),[u]=Object(r.useState)(()=>"blocker-"+ ++q.id),d=Object(U.a)(),m=!!s;Object(r.useEffect)(()=>{if(t)return z.a.subscribe(n,u,e=>{d()?(i(()=>e),o(!0)):z.a.unsubscribe(u)}).when(a),()=>{z.a.unsubscribe(u)}},[u,t,a]);const p=Object(r.useCallback)(e=>{s(e),e&&z.a.unsubscribe(u),d()&&(i(null),e||o(!1))},[s]),g=Object(r.useCallback)(()=>p(!1),[p]),h=Object(r.useCallback)(()=>p(!0),[p]);return{isBlocking:m,wasBlocking:l,uid:u,cancel:g,leave:h}})({blocked:t,forbid:a});return l?s.a.createElement("div",{className:H},s.a.createElement("div",{className:Z},n),s.a.createElement("div",{className:K,onClick:u},i?i({cancel:u,leave:d,wasBlocking:o}):s.a.createElement("div",{className:G,onClick:Q},s.a.createElement(B.a,{className:J},s.a.createElement(W,{cancel:u,leave:d}))))):n}function X(){return(X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function $(e){const{dirty:t,status:a}=Object(o.d)(),n="success"!==a&&t;return s.a.createElement(Y,X({blocked:n},e))}var ee=a("WYuZ");function te(e){let{children:t,...a}=e;return Object(r.useEffect)(()=>{ee.b.getInstance().notify(t,a)},[t,a]),null}function ae(){return(ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ne(e){return s.a.createElement(te,ae({showClose:!0},e))}var re=a("A7QF"),se=a("kciy"),ce=a("kVuv"),ie=a("oZLZ"),le=a("tdCx"),oe=a("E8QZ"),ue=a("Yr7G"),de=a("j68g"),me=a("aEvj");function pe(){return(pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const ge=e=>{var t;let{plan:a,children:n,...r}=e;return s.a.createElement(me.a,pe({badgeStyle:"primary"},r),n,(null===(t=Object(de.a)(a))||void 0===t?void 0:t.name)||"PRO")};var he="_2Vv1oXD_",be="_3gKMPKOt",fe="sAI1bh56",ve="EIpqgJnL",Ee="_37s0qJ_e",ye="_1MKzTlyH",Oe="RhhAmBsv";const je=e=>{let{children:t,overlay:a,striped:n,dashed:r,...c}=e;return s.a.createElement("div",{className:p()(he,n&&ve,r&&ye)},s.a.createElement("div",Object(b.a)(be,c),t&&s.a.createElement("div",{className:Oe},t)),s.a.createElement("div",{className:fe},s.a.createElement("div",{className:Ee},a)))},we=e=>{let{children:t,warning:a}=e;const{t:r}=Object(n.useTranslation)("ui");return a?s.a.createElement(je,{overlay:s.a.createElement(s.a.Fragment,null,s.a.createElement(ge,{plan:a.target},s.a.createElement(ue.h,{size:8})," "),s.a.createElement("div",null,r(`NoAccess.${a.code}.heading`,{target:a.target||"pro"})))},t):t||null};var _e=a("oxvr");function ke(){return(ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Ne=s.a.createContext();function Ce(e){let{children:t,overlay:a,noVisuals:n,fullWidth:i=!0,modal:l=!0,...o}=e;const{isPresented:u,warning:d,hide:m}=Object(le.b)(),p=Object(r.useContext)(Ne),g=u&&p===d,h=(null==d?void 0:d.target)&&"/billing/plans/"+(null==d?void 0:d.target),b=a&&!l,f=null!=a&&a.code?a:d,v=b?f:d;return u&&b&&v?s.a.createElement(we,ke({warning:v},o),t):l?s.a.createElement(s.a.Fragment,null,n&&h&&s.a.createElement(c.a,{to:h}),s.a.createElement(Ne.Provider,{value:v},t),s.a.createElement(ie.a,null,u&&!g&&s.a.createElement(_e.a,{fullWidth:i,onClose:m,padding:!1},s.a.createElement(oe.a,ke({reason:v,onCancel:m},o))))):u?s.a.createElement(oe.a,ke({reason:v,onCancel:m},o)):t}var Pe=a("r1xb"),Se=a("DkZq");function xe(e){let{children:t,title:a,backPath:i,successRedirectPath:d}=e;const{api:m}=Object(l.a)(),{t:p}=Object(n.useTranslation)("cards"),{card:g}=Object(I.a)(),{updatePreview:h}=Object(Se.m)(),b=Object(r.useMemo)(()=>({profile:{fullname:Object(u.a)(g,"profile.fullname",""),website:{enabled:Object(u.a)(g,"profile.website.enabled",!1),title:Object(u.a)(g,"profile.website.title",""),url:Object(u.a)(g,"profile.website.url","")},description:Object(u.a)(g,"profile.description",""),category:Object(u.a)(g,"profile.category",""),url:Object(u.a)(g,"profile.url","")},design:{photo:Object(u.a)(g,"design.photo"),photoUrl:Object(u.a)(g,"design.photoUrl"),background:{type:Object(u.a)(g,"design.background.type","color"),color:Object(u.a)(g,"design.background.color","#2F3542"),image:Object(u.a)(g,"design.background.image"),imageUrl:Object(u.a)(g,"design.background.imageUrl")},branding:Object(u.a)(g,"design.branding",!1)},analytics:{facebook:Object(u.a)(g,"analytics.facebook",""),google:Object(u.a)(g,"analytics.google",""),yandex:Object(u.a)(g,"analytics.yandex","")},seo:{title:Object(u.a)(g,"seo.title",""),description:Object(u.a)(g,"seo.description","")}}),[g]),f=Object(r.useCallback)(e=>m.card.update({payload:{...g,...e}}),[g]),v=s.a.createElement(F,{tag:T.c,to:i,styled:"backIcon"});return s.a.createElement(D.a,{initialValues:b,onSubmit:f,onChange:h},e=>s.a.createElement($,null,"success"===e.status&&s.a.createElement(s.a.Fragment,null,s.a.createElement(ne,null,p("CardEditor.saved")),s.a.createElement(c.a,{to:d})),s.a.createElement(Se.h,null,s.a.createElement(re.a,{heading:a,leftButton:v,rightButton:s.a.createElement(se.a,null)}),s.a.createElement(ce.a,null,s.a.createElement(Ce,{modal:!1},s.a.createElement(o.a,null,Object(Pe.a)(t,e)))))))}xe.defaultProps={backPath:"/p/edit",successRedirectPath:"/p/edit"};var Te=xe;var Ie=function(){const{t:e}=Object(n.useTranslation)("cards"),t=Object(l.a)();return s.a.createElement(Te,{title:e("AvatarEdit.title")},a=>{let{values:n}=a;return s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(S,{accept:"image/png,image/x-png,image/jpeg",as:x.h,name:"design.photo",previewName:"design.photoUrl",previewUrl:n.design.photoUrl,buttonLabel:e("designEdit.change_photo"),upload:t.api.card.uploadAvatar}),s.a.createElement(x.d,null,e("FieldTip.avatar")))})},Me=a("ke/A"),Le="_15nFQ69B";function Ae(){return(Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Re(e){return s.a.createElement(Me.a,Ae({styled:"toggle"},Object(b.a)(Le,e)))}var Fe="_9175EaG4";function De(){return(De=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Be(e){let{label:t,onChange:a,...n}=e;return s.a.createElement(C.a,n,e=>{let{field:{value:n,name:r,...c},form:{setFieldValue:i},makeLabel:l}=e;return s.a.createElement(Re,De({},c,{name:r,checked:n,placeholder:l(t,{className:Fe}),onChange:e=>{const t=!!e.target.checked;i(r,t),a&&a(r,t)}}))})}var Ue=function(){const{t:e}=Object(n.useTranslation)("cards");return s.a.createElement(Te,{title:e("BrandingEdit.title"),backPath:"/p/settings",successRedirectPath:"/p/settings"},s.a.createElement(Be,{name:"design.branding",label:e("BrandingEdit.labels.enabled"),restrictRule:"brand:edit"}),s.a.createElement(x.d,null,e("FieldTip.branding")))},ze=a("tiw5"),qe=a.n(ze),Ve=a("nOWM"),We="_1QZh1Pqt",He="_1c2bN5Jp",Ze="_1lyP1KAA",Ke="_10b7KaKw";function Ge(){return(Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Je=()=>s.a.createElement("div",{style:{height:"36px",width:"12px",cursor:"pointer",backgroundColor:"#fff",position:"relative",top:"-2px",left:"-6px",borderRadius:"6px",boxShadow:"0 1px 4px rgba(0, 0, 0, 0.37)"}});var Qe,Ye,Xe,$e,et=a.n(Ve)()((function(e){let{color:t,inputChange:a,hexValid:n,onChange:r,...c}=e;return s.a.createElement("div",{className:We},s.a.createElement("div",{className:He},s.a.createElement("style",null,".hue-horizontal {border-radius: 6px}"),s.a.createElement(qe.a,Ge({},c,{direction:"horizontal",onChange:function(e){r({a:1,h:e.h,l:.5,s:1})},pointer:Je}))),s.a.createElement("div",{className:Ze},s.a.createElement("input",{className:n?null:Ke,style:{backgroundColor:t,borderColor:t},type:"text",maxLength:6,placeholder:"HEX",value:t.substr(1),onChange:a,name:"hexInput"})))})),tt=a("wxgb"),at=a.p+"ui/img/colors.png",nt="_3JADH_bJ",rt="_1-zLR4g3",st="_2OE1lhPr",ct="JxzIVIqB",it="_3XtPgiIA";class lt extends s.a.Component{constructor(e){super(e),this.state={hexShown:!1,hexValid:!0},this.handleChange=this.handleChange.bind(this),this.showHexinput=this.showHexinput.bind(this),this.handleCustomChange=this.handleCustomChange.bind(this)}handleChange(e){const{onChange:t,defaultColors:a,disabled:n}=this.props;if(n)return;const r=e.target,s="#"!==r.value[0]?"#"+r.value:r.value,c=/^[0-9A-Fa-f]+$/;this.setState({hexValid:ot(a,s)}),"hexInput"===r.getAttribute("name")?(""===r.value||c.test(r.value))&&t("#"+r.value):(this.setState({hexShown:!1}),t(r.value))}handleCustomChange(e,t){const{onChange:a}=this.props;a(e.hex)}showHexinput(e){e.preventDefault();const{onChange:t}=this.props;t("#0087ff"),this.setState({hexShown:!0})}render(){const{defaultColors:e,value:t,className:a,noHex:n,disabled:r}=this.props,{hexShown:c,hexValid:i}=this.state,l=!e.includes(t);return s.a.createElement("div",{className:p()(nt,r&&it,a)},s.a.createElement("div",{className:rt},e.map(e=>s.a.createElement("label",{key:e,style:{background:e}},s.a.createElement("input",{type:"radio",value:e,checked:t===e,onChange:this.handleChange}),t===e&&!c&&s.a.createElement(tt.a,{className:ct}))),!n&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:st},s.a.createElement("img",{src:at,alt:"HEX button",onClick:this.showHexinput}),(c||l)&&null!==t&&s.a.createElement(tt.a,{className:ct})),t&&l&&s.a.createElement(et,{color:t,onChange:this.handleCustomChange,inputChange:this.handleChange,hexValid:i}))))}}Qe=lt,Xe={color:"#51B3F7",defaultColors:["#51B3F7","#903671","#6D68CB","#53CEC6","#F9BC73","#2F3542"],noHex:!1},(Ye="symbol"==typeof($e=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(Ye="defaultProps","string"))?$e:String($e))in Qe?Object.defineProperty(Qe,Ye,{value:Xe,enumerable:!0,configurable:!0,writable:!0}):Qe[Ye]=Xe;const ot=(e,t)=>e.includes(t)||/(^#[0-9A-Fa-f]{6}$)|(^#[0-9A-Fa-f]{3}$)/i.test(t);function ut(){return(ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function dt(e){let{as:t,onChange:a,...n}=e;return s.a.createElement(C.a,n,e=>{let{field:{name:n,...r},form:{setFieldValue:c,setFieldTouched:i}}=e;return s.a.createElement(t,ut({},r,{name:n,onChange:e=>{c(n,e),i(n,!0,!1),a&&a(e)}}))})}dt.defaultProps={as:lt};var mt=function(){const{t:e}=Object(n.useTranslation)("cards"),t=Object(l.a)();return s.a.createElement(Te,{title:e("CoverEdit.title")},a=>{let{values:{design:n},setFieldValue:r}=a;return s.a.createElement(s.a.Fragment,null,s.a.createElement(S,{accept:"image/png,image/x-png,image/jpeg",as:x.i,name:"design.background.image",label:e("CoverEdit.labels.photo"),restrictRule:"background.image:edit",buttonLabel:e(n.background.imageUrl?"designEdit.change_bg_image":"CoverEdit.upload"),upload:t.api.card.uploadCover,previewUrl:n.background.imageUrl,onChange:e=>{let{filename:t,url:a}=e;r("design.background.type","image"),r("design.background.image",t),r("design.background.imageUrl",a)},onApplyClick:()=>r("design.background.type","image"),active:"image"===n.background.type}),s.a.createElement(dt,{label:e("designEdit.bg_color"),name:"design.background.color",value:"color"===n.background.type?n.background.color:null,onChange:()=>r("design.background.type","color")}),s.a.createElement(x.d,{style:{marginTop:30}},e("FieldTip.cover")))})},pt=(a("v2fZ"),a("0WXt")),gt=a("ATgU"),ht=a("6NVd"),bt=a("Oe/J"),ft=a("ZAuZ");function vt(){return(vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Et=[{label:"categoriesList.category_not_business",value:"category_not_business"},{label:"categoriesList.category_auto",value:"category_auto"},{label:"categoriesList.category_meal",value:"category_meal"},{label:"categoriesList.category_health",value:"category_health"},{label:"categoriesList.category_noncommercial",value:"category_noncommercial"},{label:"categoriesList.category_education",value:"category_education"},{label:"categoriesList.category_social_services",value:"category_social_services"},{label:"categoriesList.category_cloth",value:"category_cloth"},{label:"categoriesList.category_events_organization",value:"category_events_organization"},{label:"categoriesList.category_hotels_rent",value:"category_hotels_rent"},{label:"categoriesList.category_sales",value:"category_sales"},{label:"categoriesList.category_pro_services",value:"category_pro_services"},{label:"categoriesList.category_travel_logistics",value:"category_travel_logistics"},{label:"categoriesList.category_entertainment",value:"category_entertainment"},{label:"categoriesList.category_restaurants",value:"category_restaurants"},{label:"categoriesList.category_beauty_spa",value:"category_beauty_spa"},{label:"categoriesList.category_finance",value:"category_finance"}];function yt(e){let{value:t,...a}=e;const{t:c}=Object(n.useTranslation)(),i=Object(r.useMemo)(()=>{const e=Et.map(e=>({...e,label:c(e.label)})).sort((e,t)=>e===t?0:e>t?-1:1);return e.push({label:c("categoriesList.category_other"),value:""}),e},[c]);return s.a.createElement(pt.a,vt({options:i,value:t},a))}function Ot(e){let{id:t,name:a,label:c,extra:i={},...l}=e;const{t:u}=Object(n.useTranslation)("cards"),{getFieldProps:d,getFieldMeta:m}=Object(o.d)(a),{value:p,onChange:g,onBlur:h}=d(a),{error:b}=m(a),f=Object(r.useMemo)(()=>Et.some(e=>e.value===p),[p]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(gt.a,null,c&&s.a.createElement(ht.a,{htmlFor:t},c),s.a.createElement(yt,vt({id:t,name:a,value:f?p:"",onChange:g,onBlur:h},l)),f&&b&&s.a.createElement(bt.a,null,u(b))),!f&&s.a.createElement(gt.a,null,i.label&&s.a.createElement(ht.a,{htmlFor:t+"_custom"},i.label),s.a.createElement(ft.a,vt({id:t+"_custom",name:a,value:p,onChange:g,onBlur:h},i)),b&&s.a.createElement(bt.a,null,u(b))))}var jt=function(){const{t:e}=Object(n.useTranslation)("cards");return s.a.createElement(Te,{title:e("profileEdit.label.category")},()=>s.a.createElement(Ot,{id:"profile_category",label:e("profileEdit.label.category"),name:"profile.category",extra:{label:e("profileEdit.label.categoryCustom"),placeholder:e("profileEdit.placeholder.categoryCustom"),maxLength:30}}))},wt=a("AXAf");var _t=function(){const{t:e}=Object(n.useTranslation)("cards");return s.a.createElement(Te,{title:e("DescriptionEdit.title")},()=>s.a.createElement(s.a.Fragment,null,s.a.createElement(wt.a,{name:"profile.description",placeholder:e("profileEdit.placeholder.description"),maxLength:400,maxRows:2}),s.a.createElement(x.d,null,e("FieldTip.description"))))};function kt(){const{card:e}=Object(I.a)();return{name:"",resolved:!1,secured:!1,...e.domain||{}}}var Nt=a("TiNz");function Ct(e){let{rightButton:t,children:a}=e;const{t:r}=Object(n.useTranslation)("cards"),i=Object(c.h)(),l=i.state&&i.state.returnTo||"/p/settings/url",o=s.a.createElement(F,{tag:T.c,to:l,styled:"backIcon"});return s.a.createElement(Se.h,null,s.a.createElement(re.a,{heading:r("domain.heading"),leftButton:o,rightButton:t}),s.a.createElement(ce.a,null,s.a.createElement(Nt.a,{rule:"domain"},a)))}var Pt="_2y2B4dAS";function St(){return(St=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var xt=e=>s.a.createElement("div",St({className:Pt},e));function Tt(){const{t:e}=Object(n.useTranslation)("cards"),t=Object(l.a)(),a=kt(),r=Object(d.a)(t.card.domain.disconnect);return r.fulfilled?s.a.createElement(c.a,{to:"/p/settings/domain"}):s.a.createElement(Ct,null,s.a.createElement(ft.a,{value:a.name,disabled:!0}),s.a.createElement(xt,null,s.a.createElement("p",null,e("domain.resolved"))),s.a.createElement("p",null,s.a.createElement(M.a,{btnStyle:"danger",fullWidth:!0,onClick:()=>r.run()},e("domain.disconnect"))))}function It(){return(It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Mt(e){let{mask:t,unmask:a,onChange:n,...r}=e;return s.a.createElement(C.a,r,e=>{let{field:{name:r,value:c,...i},form:{errors:l,touched:o,setFieldValue:u}}=e;return s.a.createElement(ft.a,It({},i,{name:r,value:a?a(c):c,hasError:l[r]&&o[r],onChange:n||(e=>{u(r,t?t(e.target.value):e.target.value)})}))})}function Lt(){const{t:e}=Object(n.useTranslation)("cards"),t=kt(),a=Object(l.a)(),[i,u]=Object(r.useState)();return s.a.createElement(D.a,{initialValues:{name:t.name},onSubmit:async e=>{t.name&&!e.name?(await a.api.card.domain.disconnect(),u("/p/settings")):(await a.api.card.domain.connect({payload:e}),u("/p/settings/url/domain/change-dns"))}},s.a.createElement($,null,i&&s.a.createElement(c.a,{to:i}),s.a.createElement(Ct,{rightButton:s.a.createElement(se.a,null)},s.a.createElement(o.a,null,s.a.createElement(Mt,{id:"domain.name",name:"name",placeholder:"www.example.com",autoFocus:!0}),s.a.createElement(xt,null,s.a.createElement("p",{dangerouslySetInnerHTML:{__html:e("domain.enter_domain")}}))))))}var At=a("cGUp"),Rt=a.n(At);function Ft(){const{t:e}=Object(n.useTranslation)("cards"),t=Object(c.h)(),a=kt();return a.resolved?s.a.createElement(c.a,{to:"/p/settings/domain/disconnect"}):s.a.createElement(Ct,null,s.a.createElement(ft.a,{value:a.name,disabled:!0}),s.a.createElement("p",{style:{marginBottom:0}},s.a.createElement(T.c,{to:{pathname:"/p/settings/domain/edit",state:{returnTo:t.pathname}}},e("domain.change"))),s.a.createElement(xt,null,s.a.createElement("p",null,e("domain.change_dns")),s.a.createElement("ol",null,s.a.createElement("li",null,e("domain.step_one")),s.a.createElement("li",null,e("domain.step_two")),s.a.createElement("li",{dangerouslySetInnerHTML:{__html:e("domain.step_tree")}})),s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",null,e("domain.th_name")),s.a.createElement("td",null,a.subdomain||"@")),s.a.createElement("tr",null,s.a.createElement("th",null,e("domain.th_type")),s.a.createElement("td",null,"CNAME")),s.a.createElement("tr",null,s.a.createElement("th",null,e("domain.th_value")),s.a.createElement("td",null,Rt.a.cname,".")))),s.a.createElement("p",null,e("domain.any_questions")+" ",s.a.createElement(T.c,{to:{pathname:"/help",state:{returnTo:t.pathname}}},e("domain.contact_us")))))}var Dt=a("qNnD"),Bt=a("ZmyB"),Ut=a("RlQE"),zt=a("zn5I");const qt=()=>{const e=Object(I.a)();return Object(zt.a)(e.card,e)};var Vt=a("N6lx"),Wt=a("aH6V"),Ht=a("udwx"),Zt="_2X7BCWc2",Kt="ORKZJkg8",Gt="Q-wxWXBK",Jt="YrNqyqFB",Qt="J954huU7",Yt="_1Sy6wqB6",Xt="_1Q8n7WHF",$t="INvjZNgW",ea="D34ih-TR";function ta(e){let{to:t,name:a,children:n}=e;return s.a.createElement("li",{className:Gt},s.a.createElement(T.c,{to:t},s.a.createElement("span",{className:Jt},a),s.a.createElement("div",{className:Qt},n,s.a.createElement(Ht.a,{className:$t}))))}var aa=a("vyQ9"),na=a("79s2"),ra=a("7WCL");var sa=function(){const{t:e}=Object(n.useTranslation)("cards");return s.a.createElement(Te,{title:e("SeoEdit.title"),backPath:"/p/settings",successRedirectPath:"/p/settings"},t=>{let{values:a}=t;return s.a.createElement(Nt.a,{rule:"seo"},s.a.createElement(Mt,{label:e("SeoEdit.labels.title"),name:"seo.title",placeholder:a.profile.fullname,maxLength:80,autoFocus:!0}),s.a.createElement(wt.a,{label:e("SeoEdit.labels.description"),name:"seo.description",placeholder:a.profile.description,maxLength:200,maxRows:4}),s.a.createElement(x.d,null,e("FieldTip.seo")))})};var ca=function(){const{t:e}=Object(n.useTranslation)("cards");return s.a.createElement(Te,{title:e("TitleEdit.title")},()=>s.a.createElement(s.a.Fragment,null,s.a.createElement(Mt,{name:"profile.fullname",placeholder:e("profileEdit.placeholder.fullname"),maxLength:30,autoFocus:!0}),s.a.createElement(x.d,null,e("FieldTip.title"))))};function ia(e){return e.toLowerCase().replace(/[^a-z0-9_.-]/gi,"")}var la="_1d8rZ_pQ",oa="_1FPIw6QA",ua="Me9ZpX-e",da="_115WnT39";var ma=function(){const{t:e}=Object(n.useTranslation)("cards"),{domain:t}=qt(),a=t.name&&t.resolved?t.name:t.name&&!t.resolved?e("UrlEdit.values.resolving"):e("UrlEdit.values.notConnected"),r=t.name?e("UrlEdit.button.edit"):e("UrlEdit.button.connect");return s.a.createElement(Te,{title:e("UrlEdit.title"),backPath:"/p/settings",successRedirectPath:"/p/settings"},()=>s.a.createElement(s.a.Fragment,null,s.a.createElement(Mt,{label:e("UrlEdit.labels.slug"),name:"profile.url",placeholder:e("profileEdit.placeholder.link"),beforeInput:"mssg.me/",mask:ia}),s.a.createElement("span",{className:la},e("UrlEdit.labels.domain")),s.a.createElement("div",{className:oa},s.a.createElement("span",{className:ua},a),s.a.createElement(T.c,{to:"/p/settings/url/domain/edit",className:da},r)),s.a.createElement(x.d,{style:{marginTop:30}},e("FieldTip.url"))))};const pa=/^([^\s]+:\/\/)*([^/?]+)(.*)$/i;function ga(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://";const a=null==e?void 0:e.trim().match(pa);if(a){const e=a[1]||t,n=a[2],r=a[3];return e.toLowerCase()+n.toLowerCase()+r}return e}var ha=function(){const{t:e}=Object(n.useTranslation)("cards");return s.a.createElement(Te,{title:e("WebsiteEdit.title")},()=>s.a.createElement(s.a.Fragment,null,s.a.createElement(Be,{label:e("WebsiteEdit.labels.enabled"),name:"profile.website.enabled",restrictRule:"website:edit",style:{marginBottom:"20px"}}),s.a.createElement("div",{style:{height:1,backgroundColor:"rgba(0,0,0,.1)",margin:"-12px 0 14px 0"}}),s.a.createElement(Mt,{label:e("WebsiteEdit.labels.linkTitle"),style:{marginBottom:"10px"},name:"profile.website.title",placeholder:e("profileEdit.placeholder.default_website_title"),maxLength:100}),s.a.createElement(Mt,{label:e("WebsiteEdit.labels.linkUrl"),name:"profile.website.url",placeholder:e("profileEdit.placeholder.website"),maxLength:255,mask:ga}),s.a.createElement(x.d,null,e("FieldTip.website"))))},ba=a("Symy"),fa=a("rd+V"),va=a("kGuf"),Ea="_2iWyJApg",ya="_2yrZae7B",Oa="IYkPFPPl",ja="_2qYKrvK-",wa="_1XZvSiiJ",_a="_1zRvkK3N",ka="_3tTPtcAB",Na="_1D0Lj7Ro",Ca="_1C3NSkqx",Pa="_1Maj8rsX",Sa="_5dTJnBV6",xa="WhFatDhp",Ta="_10fIUIAo",Ia="_18Ixx69X",Ma="_2naUIRQf",La="_75B19aJT";function Aa(){const{t:e}=Object(n.useTranslation)("cards"),{preview:t}=Object(Se.m)(),[a,c]=Object(r.useState)(!1);return s.a.createElement("div",{className:Ea},s.a.createElement("div",{className:ya},s.a.createElement("div",{className:Oa},s.a.createElement(ba.a,{align:"center",bordered:!0},s.a.createElement(M.a,{btnStyle:a?"primary":"transparent",size:"small",noborder:!0,onClick:()=>c(!0)},e("widgetCard.opened")),s.a.createElement(M.a,{btnStyle:a?"transparent":"primary",size:"small",noborder:!0,onClick:()=>c(!1)},e("widgetCard.closed")))),s.a.createElement("div",{className:xa},s.a.createElement("div",{className:p()(Ta,{[Ia]:a})},s.a.createElement(Se.d,{widgetMode:!0})),!a&&t.widget.welcome.enabled&&s.a.createElement("div",{className:p()(Ma,{[_a]:"left"===t.widget.position,[wa]:"right"===t.widget.position})},s.a.createElement("h6",null,t.widget.welcome.headline),s.a.createElement("p",null,t.widget.welcome.description))),s.a.createElement("div",{className:p()(ja,{[_a]:"left"===t.widget.position,[wa]:"right"===t.widget.position})},s.a.createElement("div",{className:p()(Ma,{[_a]:"left"===t.widget.position,[wa]:"right"===t.widget.position,[La]:!a&&t.widget.welcome.enabled})},s.a.createElement("h6",null,t.widget.welcome.headline),s.a.createElement("p",null,t.widget.welcome.description)),s.a.createElement("span",{className:ka,style:{backgroundColor:t.widget.color},onClick:()=>c(!a)},s.a.createElement(fa.a,{className:p()(Ca,Pa,{[Sa]:a})}),s.a.createElement(va.a,{className:p()(Ca,Na,{[Sa]:!a})})))))}var Ra=a("a4bA"),Fa=a("TN6c"),Da=a("Usj1"),Ba=a("SimP"),Ua=a("p4j6"),za=a("9TnD"),qa=a("M9wv"),Va=a.p+"cards/img/qr.svg",Wa="_1S82xmDI",Ha="_1sC7y1Jn",Za="_3k67LmXl",Ka="_20FksBuv",Ga="_1qneRTGJ",Ja="_3wTTmWjS",Qa="_2VPkU4eE",Ya="_2kMHqHvT",Xa="_1nFP6A2m",$a="_381aekYA",en="_1RCvxGre",tn="_1wwZRyr-",an="_18a7Tatz";const nn=Object(Ra.a)({mobile:0,tablet:768,desktop:1280});var rn=function(){const e=nn(),{t:t,i18n:a}=Object(n.useTranslation)("cards"),{isCopied:r,copyText:c}=Object(Da.a)(),i=Object(Ba.a)(),{card:l}=Object(I.a)(),o=Object(Ua.a)(),{isFree:u,isUnpaid:d,isTrial:m}=Object(ra.a)(),h=l.profile.absoluteUrl;return s.a.createElement(Se.h,null,s.a.createElement(ce.a,{noHeader:!0,nopadding:!0},s.a.createElement("div",{className:Ha},s.a.createElement("h2",null,t("CardMain.personal_link")),s.a.createElement("div",{className:Za},s.a.createElement("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:Ka},s.a.createElement("span",{className:tn},h),Object(Fa.a)(h)),"mobile"===e&&s.a.createElement("span",{onClick:o.toggle,className:an},s.a.createElement(g.l,{size:20,color:"#000"}))),s.a.createElement("div",{className:Ga},s.a.createElement("div",{style:{pointerEvents:r?"none":"auto"},className:p()({[Ja]:!0,[Xa]:"en"===a.language,[$a]:r}),onClick:()=>c(h)},s.a.createElement("div",{className:Qa},!r&&s.a.createElement(g.q,{size:24,color:"#000"}),r&&s.a.createElement(g.e,{className:en,size:24,color:"#fff"})),s.a.createElement("span",{className:Ya},t(r?"CardMain.copied":"CardMain.copyLink"))),s.a.createElement(T.c,{className:p()({[Ja]:!0,[Xa]:"en"===a.language}),to:"/p/share/qr"},s.a.createElement("div",{className:Qa},s.a.createElement("img",{src:Va,alt:""})),s.a.createElement("span",{className:Ya},t("CardMain.qrCode"))),s.a.createElement(T.c,{className:p()({[Ja]:!0,[Xa]:"en"===a.language}),to:"/p/share"},s.a.createElement("div",{className:Qa},s.a.createElement(g.u,{size:24,color:"#000"})),s.a.createElement("span",{className:Ya},t("common:labels.share"))))),s.a.createElement("div",{className:Wa},s.a.createElement(za.a,null,s.a.createElement(qa.a,{to:"/p/edit",icon:g.j},t("CardMain.pageEdit")),s.a.createElement(qa.a,{to:"/p/products",icon:g.v},t("CardMain.products")),s.a.createElement(qa.a,{to:"/p/analytics",icon:g.b},t("CardMain.analytics")),s.a.createElement(qa.a,{to:"/p/settings",icon:g.w},t("CardMain.pageSettings")))),s.a.createElement("div",{style:{padding:"0 16px",marginBottom:20}},s.a.createElement(M.a,{fullWidth:!0,outline:!0,style:{border:"1px solid #2979FF",borderRadius:8,backgroundColor:"rgba(41, 121, 255, 0.05)",fontWeight:700,fontSize:16},onClick:e=>{e.preventDefault(),i("next")}},t("CardMain.new_version"))),(u||d||m)&&s.a.createElement(x.e,null)),s.a.createElement(Se.i,{isShowing:o.isOpen,toggle:o.toggle,pageUrl:h}))},sn="pmJQwxJ0",cn="_1q6CDPqY",ln="_3rjAcoKZ",on="oKBi394I";function un(e){let{url:t,photo:a,username:c}=e;const{t:i}=Object(n.useTranslation)("cards"),{ref:l,isCopied:o,onCopy:u}=function(){const[e,t]=Object(r.useState)(!1),a=Object(r.useRef)();return{ref:a,isCopied:e,onCopy:function(e){e.preventDefault();const n=window.getSelection(),r=document.createRange();r.selectNodeContents(a.current),n.removeAllRanges(),n.addRange(r),document.execCommand("copy"),t(!0),n.removeAllRanges(),setTimeout(()=>t(!1),2e3)}}}();return s.a.createElement("div",null,s.a.createElement("div",{className:cn},s.a.createElement("p",{className:sn},i("pageShare.emailSign_info")),s.a.createElement("div",{onClick:u,ref:l,"data-success":i("common:labels.copied"),"data-block":"copy_signature",className:p()(ln,{[on]:o})},s.a.createElement("a",{href:t,style:{color:"black",textDecoration:"none",pointerEvents:"none"}},s.a.createElement("img",{src:a,style:{width:"45px",height:"45px",borderRadius:"45px",float:"left",marginRight:"16px",marginTop:"-5px"}}),s.a.createElement("span",{style:{fontFamily:"sans-serif",background:"transparent",fontSize:"14px",fontWeight:"500"}},c),s.a.createElement("span",{style:{fontFamily:"sans-serif",background:"transparent",fontSize:"12px",fontWeight:"300",color:"#3897F0",marginTop:"6px",display:"block"}},t)))))}var dn=a("oo0p"),mn=a.n(dn),pn=a("4wcP"),gn=a("bPZW");var hn="_1qKdujQh",bn="KbSVnI1I";function fn(e){let{url:t}=e;const{t:a}=Object(n.useTranslation)("cards"),c=function(e,t){const a=Object(U.a)(),[n,s]=Object(r.useState)();return Object(r.useEffect)(()=>{!async function(){try{const n=await mn.a.toDataURL(e,t);a()&&s(n)}catch(e){Object(gn.a)(e)}}()},[e,t]),n}(t,{width:1e3});return s.a.createElement("div",null,s.a.createElement("p",{className:bn},a("pageShare.qr_info")),s.a.createElement("div",{className:hn},s.a.createElement("img",{src:c}),s.a.createElement(M.a,{tag:"a",href:c,download:"my_mssgme_qr.png"},a("pageShare.qr_download"))))}var vn=a("Llc/"),En=a("goqe"),yn="_3uigoR-q",On="_34ObI6Rc",jn="_1zkIvY7j",wn="_3NDnp4Xh",_n="_1HJ5Grla";function kn(){return(kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Nn(e){let{as:t="i",onCopy:a,text:c,copiable:i=!0,copyTitle:l,legacy:o,children:u,className:d,tagClassName:m,buttonClassName:g,copiedClassName:h,...f}=e;const{t:v}=Object(n.useTranslation)("ui"),{isCopied:E,copyText:y}=Object(Da.a)(),O=Object(r.useCallback)(e=>{e.preventDefault(),!1!==(a&&a(e))&&y(c)},[c,a]);return s.a.createElement("div",{className:p()([yn,o&&_n],d)},s.a.createElement(t,kn({"data-success":v("labels.copied")},Object(b.a)([On,m,E&&jn,E&&h],f)),u),i&&c&&s.a.createElement("span",{"data-button":"user-link-copy-button",className:p()(wn,g),onClick:O},l||v("labels.copy")))}var Cn=a("jMR3");function Pn(){return(Pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Sn(e){let{href:t="",noUrlLabel:a,clickable:c,share:i=!1,onCopy:l,...o}=e;const{t:u}=Object(n.useTranslation)("ui"),d=Object(En.c)(),m=i&&"share"in navigator&&d,p=Object(r.useCallback)(e=>{if(m)return navigator.share({url:t}),!1;l&&l(e)},[m,t,l]);return c&&t&&(o.as=Cn.a,o.href=t),s.a.createElement(Nn,Pn({text:t,copyTitle:m&&u("labels.share"),onCopy:p},o),t?Object(vn.a)(t):a)}var xn=a("F80f"),Tn=a.p+"cards/img/copylink_img.svg",In="Dz8p27Hi",Mn="_26Z1B3lA";function Ln(){return(Ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function An(e){let{onClose:t,...a}=e;const{t:r}=Object(n.useTranslation)("cards");return s.a.createElement(xn.a,Ln({className:In,closeButton:!1,modal:{size:"small"},onClose:t},a),s.a.createElement("div",{className:Mn},r("pageShare.link_copied")),s.a.createElement("p",null,r("pageShare.link_copied_step1")),s.a.createElement("img",{src:Tn,alt:""}),s.a.createElement("p",null,r("pageShare.link_copied_step2")),s.a.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),window.open("https://www.instagram.com/accounts/edit/","_blank"),t()}},r("pageShare.openInstagram")))}var Rn=a.p+"cards/img/email.svg",Fn=a.p+"cards/img/embed.svg",Dn=a.p+"cards/img/link.svg",Bn="_34xIHJJS",Un="_1i1bfA4B",zn="x5bCVSdJ",qn="KSeyLgse",Vn="_1NF4XJN3",Wn="_3uCtkE1V";function Hn(){return(Hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Zn(e){let{url:t}=e;const{t:a}=Object(n.useTranslation)("cards"),[c,i]=function(e,t){const[a,n]=Object(pn.a)(e,0);return[Date.now()>=a,Object(r.useCallback)(()=>{n(Date.now()+864e5*t)},[t])]}("insta_share_expire",14),l=Object(Ua.a)();return s.a.createElement("div",null,s.a.createElement(An,l.props),s.a.createElement(Kn,null,s.a.createElement("img",{src:Dn,className:Wn,alt:""}),s.a.createElement("p",{className:Un},a("pageShare.my_link")),s.a.createElement(Sn,{legacy:!0,share:!0,className:qn,href:t,onCopy:()=>{c&&(l.show(),i())}}),s.a.createElement("p",{className:zn},a("pageShare.add_link"))),s.a.createElement(Gn,{to:"/p/share/qr"},s.a.createElement("img",{src:Va,className:Wn,alt:""}),s.a.createElement("p",{className:Un},a("pageShare.my_qr")),s.a.createElement("p",{className:zn},a("pageShare.copy_qr"))),s.a.createElement(Gn,{to:"/p/share/sign"},s.a.createElement("img",{src:Rn,className:Wn,alt:""}),s.a.createElement("p",{className:Un},a("pageShare.emailSign")),s.a.createElement("p",{className:zn},a("pageShare.emailSign_descr"))),s.a.createElement(Gn,{to:"/p/share/widget"},s.a.createElement("img",{src:Fn,className:Wn,alt:""}),s.a.createElement("p",{className:Un},a("pageShare.my_widget")),s.a.createElement("p",{className:zn},a("pageShare.widget_settings"))))}function Kn(e){let{as:t="div",...a}=e;return s.a.createElement(t,Hn({className:Bn},a))}function Gn(e){let{to:t,children:a}=e;return s.a.createElement(Kn,{as:T.c,to:t},a,s.a.createElement(ue.c,{size:16,className:Vn}))}function Jn(e){let{rule:t,subject:a,children:n}=e;const{showWarning:s}=Object(le.a)(t,a);return Object(r.useEffect)(()=>{s()},[]),n||null}const Qn=(Yn="fieldset",Xn=Object(b.a)("_1ORnnAoh"),e=>{let{children:t,...a}=e;return Object(r.createElement)(Yn,Xn(a),t)});var Yn,Xn;Qn.displayName="Fieldset";var $n=Qn,er="_3qwvKJdU",tr="_3M-OICMF",ar="_1WsCkYdb",nr="_3niUZvmH";const rr=e=>{let{color:t="#007AFF"}=e;return s.a.createElement("svg",{version:"1.1",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18"},s.a.createElement("g",{fill:"none",fillRule:"evenodd"},s.a.createElement("g",{transform:"translate(-568 -3567)"},s.a.createElement("g",{transform:"translate(568 3567)"},s.a.createElement("rect",{x:".75",y:".75",width:"16.5",height:"16.5",rx:"8.25",stroke:t,strokeWidth:"1.5"}),s.a.createElement("rect",{className:ar,x:"3",y:"3",width:"12",height:"12",rx:"6",fill:t})))))};var sr=e=>{let{options:t,value:a,name:n,onChange:r,pane:c,hasError:i,...l}=e;return s.a.createElement("div",Object(b.a)([c&&er],l),t.map((e,t)=>{var c;const i=a===e.value;return s.a.createElement("div",{key:n+t,className:p()(tr,i&&nr)},s.a.createElement("label",null,s.a.createElement(rr,{color:null===(c=l.style)||void 0===c?void 0:c.color}),s.a.createElement("input",{type:"radio",name:n,value:e.value,checked:i,onChange:r}),s.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.label}})))}))};function cr(){return(cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ir(e){let{mask:t,unmask:a,...n}=e;return s.a.createElement(C.a,n,e=>{let{field:{name:n,value:r,...c},form:{setFieldValue:i}}=e;return s.a.createElement(sr,cr({},c,{name:n,value:a?a(r):r,onChange:e=>{i(n,t?t(e.target.value):e.target.value)}}))})}function lr(){return(lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function or(e){let{placeholder:t,label:a,...n}=e;const r=a&&t;return s.a.createElement(C.a,lr({},n,{label:r?a:""}),e=>{let{field:{value:n,name:c,onChange:i,builderInput:l,...o},form:{setFieldValue:u,setFieldTouched:d}}=e;return s.a.createElement(Me.a,lr({name:c,checked:!!n,placeholder:r?t:a,onChange:e=>{u(c,!!e.target.checked),d(c,!0,!1)}},o))})}var ur="_1E-qiHqU",dr="_1G4aGaTq",mr="_24W2na3a",pr="_38xn8FTx";const gr=[{label:"widgetEdit.position.right",value:"right"},{label:"widgetEdit.position.left",value:"left"}],hr=[{label:"widgetEdit.deviceOptions.all",value:"all"},{label:"widgetEdit.deviceOptions.desktop",value:"desktop"},{label:"widgetEdit.deviceOptions.mobile",value:"mobile"}];function br(e){const{t:t}=Object(n.useTranslation)("cards");return Object(r.useMemo)(()=>e.map(e=>({...e,label:t(e.label)})),[t])}function fr(){const{t:e}=Object(n.useTranslation)("cards"),{isCopied:t,copyText:a}=Object(Da.a)(),r=Object(l.a)(),{card:i}=Object(I.a)(),{updatePreview:d}=Object(Se.m)(),m=br(gr),g=br(hr),h=`<script src="${Rt.a.main_url}/widget/${i._id}" async><\/script>`;return s.a.createElement(D.a,{initialValues:{widget:{color:Object(u.a)(i,"widget.color","#51B3F7"),position:Object(u.a)(i,"widget.position","right"),welcome:{enabled:Object(u.a)(i,"widget.welcome.enabled",!0),headline:Object(u.a)(i,"widget.welcome.headline",""),description:Object(u.a)(i,"widget.welcome.description",""),device:Object(u.a)(i,"widget.welcome.device","all")},device:Object(u.a)(i,"widget.device","all"),components:{products:Object(u.a)(i,"widget.components.products",!1)}}},onSubmit:e=>r.api.card.update({payload:{...i,...e}}),onChange:d},n=>{let{values:r,status:i}=n;return s.a.createElement($,null,"success"===i&&s.a.createElement(c.a,{to:"/p/share"}),s.a.createElement(re.a,{heading:e("widgetEdit.heading"),leftButton:s.a.createElement(F,{tag:T.c,to:"/p/share",styled:"backIcon"}),rightButton:s.a.createElement(se.a,null)}),s.a.createElement(ce.a,{nopadding:!0},s.a.createElement(Ce,{className:ur,modal:!1},s.a.createElement(Jn,{rule:"widget"}),s.a.createElement(o.a,null,s.a.createElement($n,null,s.a.createElement(dt,{name:"widget.color",label:e("widgetEdit.label.choose_color")}),s.a.createElement(ir,{name:"widget.position",label:e("widgetEdit.label.choose_position"),options:m})),s.a.createElement($n,null,s.a.createElement(or,{name:"widget.welcome.enabled",label:e("widgetEdit.placeholder.welcome_message")}),r.widget.welcome.enabled&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Mt,{name:"widget.welcome.headline",label:e("widgetEdit.label.headline"),placeholder:e("widgetEdit.placeholder.headline"),maxLength:30}),s.a.createElement(wt.a,{name:"widget.welcome.description",label:e("widgetEdit.label.description"),placeholder:e("widgetEdit.placeholder.description"),maxLength:140}),s.a.createElement(ir,{name:"widget.welcome.device",options:g}))),s.a.createElement($n,null,s.a.createElement(or,{name:"widget.components.products",label:e("widgetEdit.placeholder.components.products")})),s.a.createElement($n,null,s.a.createElement(ht.a,null,e("widgetEdit.label.embed_code")),s.a.createElement("div",{className:p()(dr,{[mr]:t}),onClick:()=>a(h),"data-success":e("widgetEdit.copied"),"data-block":"widget"},h),s.a.createElement("p",{className:pr},e("widgetEdit.tip")))))))})}var vr={heading:"_29bZbsQH",bio:"_27OKbgMJ",userLink:"_6ShOsRFI",copied:"V3M2wOba",tip:"_2D0KdRYK","share-list":"_3xWtM1dv",shareList:"_3xWtM1dv",twitter:"_34SItKOe",facebook:"_1v3iPD5m",vkontakte:"_26Dft8MD",instagram:"wMJdZosT",widgetSection:"_24UMmm2A",section:"_1abuBVO6",label:"_3jgAoLd-","section-heading":"_3TOC9wZE",sectionHeading:"_3TOC9wZE","code-block":"_2_TOVYr1",codeBlock:"_2_TOVYr1",tipCode:"_1NQcAnZc",sectionBlock:"UTNEL5kw",headingTitle:"_13lQSp-y",headingInstruction:"_2i3OUW6G",instagramTipImg:"_1FWdmduJ",instagramSettingsLink:"_886tFqyp",socialsTab:"_3LPVLhJh",chevronRight:"_3ojMFq7o",mainIcon:"_3v-V6S3y",Badge:"XYI7cyOc",badge:"XYI7cyOc"};function Er(e){let{children:t}=e;const[a,...n]=s.a.Children.toArray(t);return s.a.createElement(s.a.Fragment,null,a,s.a.createElement(ce.a,null,s.a.createElement("div",{className:vr.content},n)))}var yr=a("bzTO"),Or=a.n(yr),jr=a("Sxb2"),wr=[{messenger:"whatsapp",name:"WhatsApp",icon:a.p+"cards/img/messengers/whatsapp-rounded.svg"},{messenger:"telegram",name:"Telegram",icon:a.p+"cards/img/messengers/telegram-rounded.svg"},{messenger:"viber",name:"Viber",icon:a.p+"cards/img/messengers/viber-rounded.svg"},{messenger:"messenger",name:"Facebook Messenger",icon:a.p+"cards/img/messengers/messenger-rounded.svg"},{messenger:"vk",name:"Vkontakte",icon:a.p+"cards/img/messengers/vk-rounded.svg"},{messenger:"skype",name:"Skype",icon:a.p+"cards/img/messengers/skype-rounded.svg"}],_r=a("4iID"),kr="KZ4K6CD4",Nr="_3DEijECa",Cr="_3uitjAdU",Pr="_1qDqtIFU",Sr="_11iBSPKW",xr="_2q7wmxVG",Tr="Ue81JtWX";function Ir(e){let{data:t,definition:a,t:n}=e;return s.a.createElement("li",{className:kr},s.a.createElement("div",{className:Nr},s.a.createElement(T.c,{className:p()(Cr,{[Pr]:t&&t.enabled}),to:"/p/edit/messengers/"+a.messenger},s.a.createElement("img",{src:a.icon,alt:a.name+" icon"}),s.a.createElement("span",{className:Sr},a.name)),t&&t.enabled?s.a.createElement("div",{className:xr,title:n("common:labels.dragTip"),"data-element":"drag-handle",style:{pointerEvents:t?"auto":"none"}},s.a.createElement(_r.a,{width:"6",color:t?"#000":"#ccc"})):s.a.createElement(M.a,{tag:T.c,size:"small",rounded:!0,to:"/p/edit/messengers/"+a.messenger,className:Tr},n("pageMessengers.add"))))}var Mr={messengersList:"_2_gsDFNA"};const Lr=e=>e.messenger,Ar=Object(jr.b)(e=>{let{definition:t,data:a,t:n}=e;return s.a.createElement(Ir,{definition:t,data:a,t:n})});var Rr=Object(jr.a)((function(e){let{messengers:t,t:a,isFetching:n}=e;const r=(e=>{const t=e.map(Lr),a=wr.map(Lr).filter(e=>t.indexOf(e)<0);return[...t,...a].map(e=>wr.find(t=>t.messenger===e)).filter(Boolean).map(t=>{return{definition:t,data:(a=t.messenger,e.find(e=>e.messenger===a))};var a})})(t);return s.a.createElement("ul",{className:p()({[Mr.messengersList]:!0,[Mr.fetching]:n})},r.filter(e=>{let{data:t}=e;return!!t}).map((e,t)=>{let{data:n,definition:r}=e;return s.a.createElement(Ar,{key:r.messenger,index:t,data:n,definition:r,t:a,disabled:!n})}),r.filter(e=>{let{data:t}=e;return!t}).map(e=>{let{data:t,definition:n}=e;return s.a.createElement(Ir,{key:n.messenger,definition:n,data:t,t:a})}))})),Fr="_2MvBtZUH";var Dr=a("nq71"),Br=a("8KO3");const Ur={whatsapp:"WhatsApp",telegram:"Telegram",viber:"Viber",messenger:"Messenger",vk:"Vkontakte",skype:"Skype"};function zr(){return(zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function qr(e){let{name:t,...a}=e;const{getFieldProps:n,setFieldValue:c,setFieldTouched:i,values:{type:l,messenger:u}}=Object(o.d)(),d=Object(r.useCallback)(e=>{let{value:a}=e.target;"viber"!==u&&"whatsapp"!==u||"private"!==l||(a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=e&&e.length||0;if(0===n)return"";const r=(a||e.indexOf("+")>=0?"+":"")+e.replace(/\D/g,"");return r.slice(0,t)}(a)),c(t,a),i(t,!0,!1)},[c,i,l,u]);let m;switch(u){case"messenger":m="m.me/";break;case"vk":m="vk.me/";break;case"viber":case"whatsapp":m=s.a.createElement(Se.l,zr({platform:u},n("type")))}return s.a.createElement(C.a,zr({as:ft.a,name:t,onChange:d,beforeInput:m},a))}var Vr="iZnyx3hS",Wr="_2ozRldcM";var Hr=function(){const e=Object(c.g)(),t=Object(l.a)(),{t:a}=Object(n.useTranslation)("cards"),{card:r}=Object(I.a)(),{platform:i}=Object(c.i)(),d=r.messengers.find(e=>e.messenger===i),m=!d,h=Object(Dr.a)({initialValues:{type:Object(u.a)(d,"type","private"),name:Object(u.a)(d,"name",""),messenger:i,enabled:!0},onSubmit:async e=>{m?await t.api.card.messengers.create({payload:e}):await t.api.card.messengers.update({messengerId:d._id,payload:e}),f("CardEditor.saved")}}),b=function(e){const{t:t}=Object(n.useTranslation)("cards");switch(e.messenger){case"whatsapp":return"private"===e.type?t("messengerEdit.help.whatsapp.private"):t("messengerEdit.help.whatsapp.public");case"telegram":return t("messengerEdit.help.telegram");case"messenger":return t("messengerEdit.help.messenger");case"vk":return t("messengerEdit.help.vk");case"skype":return t("messengerEdit.help.skype");case"viber":return"private"===e.type?t("messengerEdit.help.viber.private"):"public"===e.type?t("messengerEdit.help.viber.public"):t("messengerEdit.help.viber.community")}}(h.values);function f(t){setTimeout(()=>{Br.a.notify(a(t),{showClose:!0}),e.push("/p/edit/messengers")},10)}const v=function(e,t){switch(e.messenger){case"whatsapp":return"private"===e.type?t("messengerEdit.placeholder.whatsapp.private"):t("messengerEdit.placeholder.whatsapp.public");case"viber":return"private"===e.type?t("messengerEdit.placeholder.viber.private"):"public"===e.type?t("messengerEdit.placeholder.viber.public"):t("messengerEdit.placeholder.viber.community");case"telegram":case"messenger":case"vk":case"skype":return t("messengerEdit.placeholder.telegram")}}(h.values,a),E=Ur[i],y=s.a.createElement(F,{tag:T.c,to:"/p/edit/messengers",styled:"backIcon"});return s.a.createElement(o.b,{value:h},s.a.createElement($,null,s.a.createElement(Se.h,null,s.a.createElement(re.a,{heading:E,leftButton:y,rightButton:s.a.createElement(se.a,null)}),s.a.createElement(ce.a,null,s.a.createElement(Nt.a,{rule:"messengers:edit",subject:h.values},s.a.createElement(o.a,{className:p()({[Wr]:!m})},s.a.createElement(qr,{name:"name",label:E,placeholder:v,autoFocus:!0}),!m&&s.a.createElement(M.a,{wrapContentStyle:{overflow:"visible"},btnStyle:"danger",size:"small",type:"button",onClick:async function(e){e.preventDefault(),await t.api.card.messengers.delete({messengerId:d._id}),f("CardEditor.removed")}},s.a.createElement(g.B,null)),b&&s.a.createElement("div",{className:Vr},b)))))))},Zr={root:"_1MqO3yxZ",enabled:"_2jD3OpW2",right:"zcuvmY-t",left:"cleGpAUZ"};function Kr(){return(Kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class Gr extends s.a.Component{render(){const{tag:e,children:t,enabled:a,type:n,className:r,...c}=this.props,i=p()(Zr.root,r,Zr[n],{[Zr.enabled]:a});return s.a.createElement(e,Kr({className:i},c),t)}}!function(e,t,a){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(Gr,"defaultProps",{type:"right",enabled:!1,tag:"div"});var Jr=a("w2nZ"),Qr="_3oEMo3MX",Yr="_3IdulwYs",Xr="_1QgQvPTZ",$r="_1ok-qvg4",es="_1H6NlHyR",ts="_2ox12PvG";var as=function(){const{t:e}=Object(n.useTranslation)("cards"),{card:{links:t}}=Object(I.a)(),a=s.a.createElement(Wt.a,{to:"/p/edit"});return s.a.createElement(Se.h,null,s.a.createElement(re.a,{heading:e("pageLinks.links"),leftButton:a}),s.a.createElement(ce.a,null,s.a.createElement(Nt.a,{rule:"links:?"},0===t.length&&s.a.createElement("p",{className:Qr},e("pageLinks.description")),t.length>0&&s.a.createElement("div",{className:Xr},t.map(e=>s.a.createElement("div",{key:e._id,className:$r},s.a.createElement("span",{className:es},e.title),s.a.createElement(Gr,{className:ts,tag:T.c,to:"/p/edit/links/"+e._id,enabled:e.enabled},e.url)))),s.a.createElement(Jr.a,{to:"/p/edit/links/new",className:Yr},e("pageLinks.add_link")))))},ns=a("okl4"),rs="_3D93i_EQ",ss="Nh0X-F-A",cs="_30zqYshC";var is=function(){const{t:e}=Object(n.useTranslation)("cards"),{linkId:t}=Object(c.i)(),a=Object(l.a)(),i=Object(d.a)(a.api.card.links.delete),m=function(e){const{card:t}=Object(I.a)(),a=e?t.links.find(Object(ns.b)(e)):null;return Object(r.useRef)(a).current}(t),p=!t;if(!p&&!m)throw new Error("No link");const g=s.a.createElement(F,{tag:T.c,to:"/p/edit/links",styled:"backIcon"});return s.a.createElement(D.a,{initialValues:{title:Object(u.a)(m,"title",""),url:Object(u.a)(m,"url",""),enabled:Object(u.a)(m,"enabled",!0)},onSubmit:e=>p?a.api.card.links.create({payload:e}):a.api.card.links.update({linkId:t,payload:e})},a=>{let{values:n,status:r,setFieldValue:l}=a;return s.a.createElement($,null,"success"===r&&s.a.createElement(s.a.Fragment,null,s.a.createElement(ne,null,e("CardEditor.saved")),s.a.createElement(c.a,{to:"/p/edit/links"})),i.fulfilled&&s.a.createElement(s.a.Fragment,null,s.a.createElement(ne,null,e("CardEditor.removed")),s.a.createElement(c.a,{to:"/p/edit/links"})),s.a.createElement("div",{className:rs},s.a.createElement(re.a,{heading:e("linkEdit.new_link"),leftButton:g,rightButton:s.a.createElement(se.a,null)}),s.a.createElement(ce.a,null,s.a.createElement(Nt.a,{rule:p?"links:create":"links:edit",subject:m},s.a.createElement(o.a,null,s.a.createElement(Mt,{name:"title",label:e("linkEdit.title"),placeholder:e("linkEdit.title_placeholder"),maxLength:100,autoFocus:!0}),s.a.createElement(Mt,{name:"url",label:e("linkEdit.link"),placeholder:e("linkEdit.link_placeholder"),onBlur:()=>{l("url",ga(n.url))}}),s.a.createElement(gt.a,{className:ss},s.a.createElement(or,{name:"enabled",label:e("linkEdit.enabled")}),!p&&s.a.createElement("div",{className:cs},s.a.createElement(M.a,{btnStyle:"danger",size:"small",type:"button",onClick:()=>i.run({linkId:t})},e("linkEdit.delete")))))))))})},ls=a("g0xT"),os=a("ID3L"),us=a.n(os),ds=a("kJIc"),ms="XTTvjyrq",ps="_1btONEpx",gs="_2iws8coi";function hs(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class bs extends s.a.Component{constructor(){super(...arguments),hs(this,"state",{isControlled:!1,selected:this.props.defaultSelected})}static getDerivedStateFromProps(e,t){if(e.selected!==t.prevSelected){const t=!Object(ds.a)(e.selected);return{isControlled:t,selected:t?e.selected:e.defaultSelected,prevSelected:e.selected}}return null}handleClick(e,t){t.preventDefault();const{isControlled:a}=this.state,{onSelect:n}=this.props;!a&&this.setState({selected:e}),n&&n(e)}render(){const{selected:e}=this.state,{className:t,children:a}=this.props;let n=0;const r=s.a.Children.map(a,t=>{if("Tab"===t.type.role){const a=s.a.cloneElement(t,{...t.props,isSelected:n===e,onClick:this.handleClick.bind(this,n)});return n++,a}return t});return s.a.createElement("div",{className:p()(ms,t)},r)}}hs(bs,"defaultProps",{defaultSelected:0}),bs.role="Tabs";var fs=bs;const vs=e=>{let{isSelected:t,children:a,onClick:n}=e;return s.a.createElement("div",{className:p()(ps,{[gs]:t}),onClick:n},s.a.createElement("span",null,a))};vs.role="Tab";var Es=vs,ys="_2oafkPiY",Os="_12ZB01mX",js="_1f4GJwJL",ws="_1F5LCL4S",_s="_1NH-7hdB";function ks(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Ns=e=>{let{heading:t,amount:a}=e;return s.a.createElement("div",{className:Os},s.a.createElement("span",null,t),s.a.createElement("span",null,a))},Cs=e=>{let{stats:t,expanded:a,onToggle:r}=e;const{t:c}=Object(n.useTranslation)("cards");return s.a.createElement(s.a.Fragment,null,a&&s.a.createElement("ul",{className:_s},t.map(e=>s.a.createElement("li",{key:e.key},s.a.createElement("span",null,e.label),s.a.createElement("span",null,e.value)))),t.length>0&&s.a.createElement("span",{className:p()(js,{[ws]:a}),onClick:r},c(a?"statsList.hide":"statsList.show")))};class Ps extends s.a.Component{constructor(e){super(e),ks(this,"toggleList",()=>{this.setState(e=>({expanded:!e.expanded}))}),this.state={expanded:!1}}render(){const{heading:e,stats:t}=this.props,{expanded:a}=this.state,n=Array.isArray(t),r=n?t.reduce((e,t)=>e+t.value,0):t;return s.a.createElement("div",{className:ys},s.a.createElement(Ns,{heading:e,amount:r}),n&&s.a.createElement(Cs,{stats:t,expanded:a,onToggle:this.toggleList}))}}ks(Ps,"defaultProps",{heading:"Actions",stats:[]});var Ss="_3jNtFAWh",xs="XtsN5yB1",Ts="_3U4K4aNw";function Is(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ms(){return(Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Ls={0:"day",1:"week",2:"month"},As=e=>{let{disabled:t=!1,...a}=e;return s.a.createElement("a",Ms({href:"#",className:p()(xs,{[Ts]:t})},a))},Rs=e=>s.a.createElement("div",Ms({className:Ss},e));class Fs extends s.a.Component{constructor(e){super(e),Is(this,"handleSelect",e=>{const t=Ls[e],a=us()();this.setState({tabIndex:e,prev:Bs(a,t),next:Us(a,t),...Ds(a,t)})}),Is(this,"handleLeftClick",e=>{e.preventDefault(),this.setState(e=>{const t=Ls[e.tabIndex];if(e.prev)return{prev:Bs(e.prev,t),next:Us(e.prev,t),...Ds(e.prev,t)}})}),Is(this,"handleRightClick",e=>{e.preventDefault(),this.setState(e=>{const t=Ls[e.tabIndex];if(e.next)return{prev:Bs(e.next,t),next:Us(e.next,t),...Ds(e.next,t)}})});const t=Ls[1],a=us()();this.state={tabIndex:1,prev:Bs(a,t),next:Us(a,t),...Ds(a,t)}}componentDidMount(){const{from:e,to:t}=this.state;this.props.getCardStatistics(+e,+t).catch(gn.a)}componentDidUpdate(e,t){const{from:a,to:n}=this.state;a==t.from&&n==t.to||this.props.getCardStatistics(+a,+n).catch(gn.a)}render(){const{statistics:e,t:t}=this.props,{tabIndex:a,from:n,to:r,prev:c,next:i}=this.state,l=e.find(e=>"page.view"===e.action),o=e.filter(e=>"messenger.click"===e.action),u=e.filter(e=>"link.click"===e.action),d=l&&l.value||0;return s.a.createElement("div",null,s.a.createElement(fs,{selected:a,onSelect:this.handleSelect},s.a.createElement(Es,null,t("CardStatistics.day")),s.a.createElement(Es,null,t("CardStatistics.week")),s.a.createElement(Es,null,t("CardStatistics.month"))),s.a.createElement(Rs,null,s.a.createElement(As,{disabled:!c,onClick:this.handleLeftClick},s.a.createElement(ue.a,null)),s.a.createElement("p",null,0===a?n.format("MMM DD"):n.format("MMM DD")+" - "+r.format("MMM DD")),s.a.createElement(As,{disabled:!i,onClick:this.handleRightClick},s.a.createElement(ue.b,null))),s.a.createElement(Ps,{expandable:!1,stats:d,heading:t("pageAnalytics.visits")}),s.a.createElement(Ps,{expandable:!1,stats:o,heading:t("pageAnalytics.clicks_messengers")}),s.a.createElement(Ps,{expandable:!1,stats:u,heading:t("pageAnalytics.clicks_links")}))}}function Ds(e,t){return{from:e.clone().startOf(t),to:e.clone().endOf(t)}}function Bs(e,t){const{min:a}=zs(t);let n=e.clone().subtract(1,t);return n>a?n:null}function Us(e,t){const{max:a}=zs(t);let n=e.clone().add(1,t);return n<a?n:null}function zs(e){let t=us()().endOf("day"),a=us()().subtract(2,"month").startOf("month");return"month"!==e&&(a=a.startOf("week")),{min:a,max:t}}var qs=Object(n.withTranslation)("cards")(Fs);var Vs="_24uNsqBV";const Ws={facebook:{label:"Facebook pixel ID",help:"pixelEdit.help.facebook"},google:{label:"Google PageAnalytics tracking ID",help:"pixelEdit.help.google"},yandex:{label:"Yandex Metrika tracking ID",help:"pixelEdit.help.yandex"}};var Hs=function(){const{t:e}=Object(n.useTranslation)("cards"),{platform:t}=Object(c.i)(),{help:a}=Object(r.useMemo)(()=>({label:Object(u.a)(Ws,t+".label",""),help:e(Object(u.a)(Ws,t+".help",""))}),[t]),i=t.charAt(0).toUpperCase()+t.slice(1);return s.a.createElement(Te,{title:i,backPath:"/p/settings/tracking",successRedirectPath:"/p/settings/tracking"},()=>s.a.createElement(s.a.Fragment,null,s.a.createElement(Mt,{id:"card_pixel",name:"analytics."+t,placeholder:e("pixelEdit.placeholder")}),a&&s.a.createElement("div",{className:Vs},a)))},Zs={root:"_2aSrsAKP","form-field":"zFksAHVP",formField:"zFksAHVP","form-field-label":"_2csXkXbg",formFieldLabel:"_2csXkXbg"};var Ks=a("T8LO"),Gs="_2u3Kgz27",Js="adpzAog0",Qs="_37SUECNi",Ys="rTrs7jx2",Xs="_2M3sBqeJ";const $s=Object(jr.b)(e=>{let{product:t,draggable:a}=e;return s.a.createElement("li",{key:t._id,className:Ys},s.a.createElement(Se.j,{tag:T.c,product:t,to:"/p/products/"+t._id,title:t.name,hasDragHandle:a}))}),ec=Object(jr.a)(e=>{let{products:t,draggable:a}=e;return s.a.createElement("ul",{className:Qs},t.map((e,t)=>s.a.createElement($s,{key:e.id,index:t,product:e,disabled:!a,draggable:a})))});function tc(e){let{products:t,collectionId:a,draggable:n}=e;const c=Object(l.a)(),[i,o]=Object(r.useState)([]),[u,d]=Object(r.useState)(!1);return Object(r.useEffect)(()=>{o(t)},[t]),s.a.createElement("div",{className:p()({[Gs]:!0,[Js]:u})},s.a.createElement(ec,{products:i,axis:"y",lockAxis:"y",onSortEnd:async e=>{let{oldIndex:n,newIndex:r}=e;const s=i[n].id,l=i[r].id;o(e=>Or()(e,n,r)),n!==r&&await c.api.products.sort({payload:{product1Id:s,product2Id:l,collectionId:a,limit:t.length}}),d(!1)},helperClass:Xs,draggable:n,shouldCancelStart:e=>{if("drag-handle"!==e.target.dataset.element)return!0}}))}tc.defaultProps={draggable:!0};var ac=tc,nc="_2MPEIXUj",rc="CJO7mXC-",sc="_2J9FyVLq",cc="_2EGqai5J";function ic(){return(ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var lc=function(e){let{...t}=e;const{t:a}=Object(n.useTranslation)("cards");return s.a.createElement("div",{className:nc},s.a.createElement("div",{className:rc},s.a.createElement("input",ic({className:sc,type:"text",name:"name",placeholder:a("PageProductsMain.search")},t)),s.a.createElement("div",{className:cc},s.a.createElement(g.t,{size:16,color:"#8E8E93"}))))},oc="_2lUxWtKJ";function uc(){return(uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var dc=function(e){let{className:t,title:a,description:n,...r}=e;return s.a.createElement("div",uc({className:p()(oc,t)},r),s.a.createElement("h3",null,a),s.a.createElement("p",null,n))},mc="_2FY99N_4",pc="_2oSIBL4M",gc="_1lVS-4es";function hc(){return(hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function bc(e){let{children:t,disabled:a,...r}=e;const{t:c}=Object(n.useTranslation)("cards");return s.a.createElement("div",{className:mc},s.a.createElement("span",hc({className:p()({[pc]:!0,[gc]:a})},r),t||c("PageProductsMain.loadMore")))}bc.defaultProps={disabled:!1};var fc=bc;var vc=function(e){let{products:t,loadMore:a}=e;const{t:r}=Object(n.useTranslation)("cards");if(t.isFetching)return s.a.createElement(h.a,null);const c=0===t.items.length;return s.a.createElement(s.a.Fragment,null,t.next&&s.a.createElement(fc,{onClick:a}),c&&(t.filter.name?s.a.createElement(dc,{title:r("pageProducts.filterEmptyHeading"),description:r("pageProducts.filterEmptyDescription")}):s.a.createElement(dc,{title:r("pageProducts.emptyHeading"),description:r("pageProducts.emptyDescription")})))},Ec=a("ehRZ"),yc="_3TJRTQsJ",Oc="_2u4cpXRM",jc="_2B_PCrw_",wc="_2CWqH6Pm",_c="_2-JuitfJ",kc="_2g2-yNaO",Nc="p3Bd2RLt",Cc="_34SAjLI0",Pc="_3polc_uw",Sc="_3H7QIcJT";const xc=Object(jr.b)(e=>{let{col:t,t:a,draggable:n}=e;const r=a(1===t.publishedProductsCount?"PageProductsMain.productsSingle":t.publishedProductsCount>1&&t.publishedProductsCount<5?"PageProductsMain.products24":"PageProductsMain.productsMany");return s.a.createElement("li",{className:wc},s.a.createElement(T.c,{to:"/p/products/collections/"+t.id},s.a.createElement("div",{className:p()(kc,{[Nc]:t.published&&t.publishedProductsCount>0})}),s.a.createElement("span",{className:_c},t.name),s.a.createElement("span",{className:Sc},t.publishedProductsCount," ",r)),n&&s.a.createElement("div",{className:Pc,title:a("common:labels.dragTip"),"data-element":"drag-handle"},s.a.createElement(_r.a,{width:"6"})))}),Tc=Object(jr.a)(e=>{let{collections:t,t:a,draggable:n}=e;return s.a.createElement("ul",{className:jc},t.map((e,t)=>s.a.createElement(xc,{key:e.id,index:t,col:e,t:a,disabled:!n,draggable:n})))});function Ic(e){let{collections:t,draggable:a,isFetching:c}=e;const{t:i}=Object(n.useTranslation)("cards"),o=Object(l.a)(),[u,d]=Object(r.useState)([]);return Object(Ec.a)(()=>{d(t)},[t]),s.a.createElement("div",{className:p()({[yc]:!0,[Oc]:c})},s.a.createElement(Tc,{collections:u,axis:"y",lockAxis:"y",onSortEnd:async e=>{let{oldIndex:t,newIndex:a}=e;const n=u[t].id,r=u[a].id;d(e=>Or()(e,t,a)),t!==a&&await o.api.collections.sort({payload:{col1Id:n,col2Id:r}})},helperClass:Cc,t:i,draggable:a,shouldCancelStart:e=>{if("drag-handle"!==e.target.dataset.element)return!0}}))}Ic.defaultProps={draggable:!0};var Mc=Ic,Lc=a("dLPT"),Ac=a("+S2o"),Rc=a("07c+"),Fc={priceContainer:"_1sCsD4nm",priceInput:"_1KdvyDCd",currencySelect:"tf9pzNro",publishedContainer:"VFsSCCsr",priceTogglerContainer:"_355B7EdB",publishedLabel:"_1dfz9HO0",priceLabel:"VedUKs--"};function Dc(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Bc=["USD","EUR","RUB","UAH","AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNH","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STN","SYP","SZL","THB","TJS","TND","TOP","TRY","TTD","TWD","TZS","UGX","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XCD","XOF","XPF","YER","ZAR","ZMW"].map(e=>({label:e,value:e})),Uc=e=>""===e?null:parseFloat(e),zc=e=>{let{amount:t,discount:a,currency:n}=e;return{amount:Uc(t),discount:Uc(a),currency:n}},qc=(e,t)=>({...t&&{hasDiscount:!!e.discount},value:{...e,amount:null==e.amount?"":String(e.amount),discount:null==e.discount?"":String(e.discount)},normalizedValue:{...e}});class Vc extends r.Component{constructor(){super(...arguments),Dc(this,"state",qc(this.props.value,!0)),Dc(this,"handleChange",e=>{let{target:{name:t,value:a}}=e;if(("amount"===t||"discount"===t)&&(a=a.replace(",",".").trim(),""!==a)){if(!a.match(/^\d{0,9}(\d\.\d{0,2})?$/))return}this.setState(e=>{const n={...e.value,[t]:a};return{value:n,normalizedValue:zc(n)}},()=>{this.props.onChange&&!Object(Lc.a)(this.props.value,this.state.normalizedValue)&&this.props.onChange({target:{name:this.props.name,value:this.state.normalizedValue}})})}),Dc(this,"toggleDiscount",()=>{this.setState(e=>{const t={...e.value,discount:""};return{hasDiscount:!e.hasDiscount,value:t,normalizedValue:zc(t)}},()=>{this.props.onChange&&!Object(Lc.a)(this.props.value,this.state.normalizedValue)&&this.props.onChange({target:{name:this.props.name,value:this.state.normalizedValue}})})})}static getDerivedStateFromProps(e,t){const a=Object(Ac.a)(e.value,["amount","currency","discount"]);return Object(Lc.a)(a,t.prevValue)?null:{...qc(e.value),prevValue:a}}render(){const{errors:e,refAmount:t,t:a}=this.props,{value:{amount:n,discount:r,currency:c},hasDiscount:i}=this.state;return s.a.createElement("div",{className:Fc.root},s.a.createElement("div",{className:Fc.priceContainer},s.a.createElement("div",{className:Fc.priceInput},s.a.createElement(Rc.a,{name:"amount",value:n,onChange:this.handleChange,type:"text",errors:e&&e.amount&&a(e.amount),inputMode:"decimal",refInput:t})),s.a.createElement("div",{className:Fc.currencySelect},s.a.createElement(Rc.a,{component:pt.a,options:Bc,name:"currency",value:c,onChange:this.handleChange,errors:e&&e.currency&&a(e.currency)}))),i&&s.a.createElement(Rc.a,{name:"discount",value:r,label:a("productEdit.discountLabel"),onChange:this.handleChange,type:"text",errors:e&&e.discount&&a(e.discount),inputMode:"decimal"}),s.a.createElement("div",{className:p()(Fc.publishedContainer,Fc.priceTogglerContainer)},s.a.createElement("div",{className:p()(Fc.publishedLabel,Fc.priceLabel)},s.a.createElement("span",null,a("productEdit.hasDiscount"))),s.a.createElement("div",null,s.a.createElement(Me.a,{checked:i,onChange:this.toggleDiscount,styled:"toggle"}))))}}var Wc=Object(n.withTranslation)("cards")(Vc);function Hc(){return(Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Zc=e=>{const{t:t}=Object(n.useTranslation)("ui");return s.a.createElement(M.a,Hc({size:"small",noborder:!0,btnStyle:"primary"},e),t("button.save"))},Kc=a("njpi");function Gc(e){return e&&Object.entries(e).map(e=>{let[t,a]=e;return t+(a&&"object"==typeof a?`[${Gc(a)}]`:a)}).join(",")}const Jc=e=>e.collections;function Qc(e){const t=Object(ls.d)(Jc);return Object(r.useMemo)(()=>{if(e){const a=ns.a.filterWithExclusion(t.items,e);if(a.length!==t.items.length){const e=a.find(e=>e.default),n=e?e.publishedProductsCount:a.reduce((e,t)=>e+t.publishedProductsCount,0);return{...t,allPublishedProductsCount:n,items:a}}}return t},[t,Gc(e)])}const Yc=e=>e.products;const Xc=e=>{const t=Qc(),a=function(e,t){const a=Object(ls.d)(t||Yc);return Object(r.useMemo)(()=>{if(e){const t=ns.a.filterWithExclusion(a.items,e);if(t.length!==a.items.length)return{...a,items:t}}return a},[a,Gc(e)])}(),n=Object(l.a)(),s=t.items.find(e),c=s?s.id:null,i=JSON.stringify(a.filter);return Object(r.useEffect)(()=>{(s||t.items.length)&&n.api.products.list({guid:a.guid+1,query:{collection:c,filter:i}})},[t.items.length,a.guid,i]),Object(Kc.a)(()=>{n.clearProductsStore()}),{collection:s,products:a,collections:t,setFilter:e=>{let{target:{name:t,value:a}}=e;n.setProductsFilter({[t]:a,collectionId:c})},loadMore:async()=>{a.next&&!a.isFetching&&await n.api.products.list({guid:a.guid,query:{collection:c,next:a.next,filter:JSON.stringify(a.filter)}})}}};var $c="_1yeG7Q3v",ei="_1yeVzobS",ti="_3nqod07b",ai="_6CRZaHdh",ni="_2WvJskdf",ri="mxluuBnm",si="_2eLqwPus",ci="_1CPStg6i",ii="_3tzIZ2vg",li="k1q4zoFW",oi="YeYk3mnN";var ui=function(){const{t:e}=Object(n.useTranslation)("cards"),{collection:t,collections:a,products:r,setFilter:c,loadMore:i}=Xc(e=>e.default),l=a.items.filter(e=>!e.default&&e.published&&e.publishedProductsCount>0).length,o=e(1===l?"PageProductsMain.activeSingleShe":"PageProductsMain.activeMany"),u=e(1===a.allPublishedProductsCount?"PageProductsMain.productsSingle":a.allPublishedProductsCount>1&&a.allPublishedProductsCount<5?"PageProductsMain.products24":"PageProductsMain.productsMany");return s.a.createElement(Se.h,{className:$c},s.a.createElement(re.a,{heading:e("CardMain.products"),leftButton:s.a.createElement(Wt.a,{to:"/p"}),rightButton:s.a.createElement("div",{className:ei},s.a.createElement(T.c,{className:ti,to:"/p/products/new",title:e("pageProducts.tipAddProduct")},s.a.createElement(Ks.a,{size:34,color:"#000"}))),style:{boxShadow:"none"}}),s.a.createElement(ce.a,{nopadding:!0,onBottomScroll:i},s.a.createElement(Nt.a,{rule:"products:?"},s.a.createElement(lc,{onChange:c,value:r.filter.name}),!r.filter.name&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement(T.c,{to:"/p/products/collections",className:ai},s.a.createElement("span",{className:ni},e("PageProductsMain.collections")),s.a.createElement("div",{className:ri},s.a.createElement("span",{className:si},`${l} ${o}`),s.a.createElement(g.h,{size:22,className:ci})))),s.a.createElement("div",{className:ii},s.a.createElement("span",{className:li},e("PageProductsMain.storeFront")),s.a.createElement("span",{className:oi},`${a.allPublishedProductsCount} ${u}`))),s.a.createElement("div",null,t&&s.a.createElement(ac,{collectionId:t.id,products:r.items,draggable:""===r.filter.name})),s.a.createElement(vc,{products:r,loadMore:i}))))},di="_3Om-Bu-K",mi="xtZqbbUO",pi="_2NFBdlGr";var gi=function(){const{t:e}=Object(n.useTranslation)("cards"),t=Object(c.j)().params.id,{collection:a,products:r,setFilter:i,loadMore:l}=Xc(e=>e._id===t),o=s.a.createElement(Wt.a,{to:"/p/products/collections"}),u=s.a.createElement("div",{className:pi},s.a.createElement(T.c,{className:mi,to:"/p/products/collections/edit/"+t,title:e("PageProductCollections.tipEditCollection")},s.a.createElement(Ks.j,{size:22,color:"#000"})),s.a.createElement(T.c,{className:mi,to:"/p/products/new/"+t,title:e("pageProducts.tipAddProduct")},s.a.createElement(Ks.a,{size:34,color:"#000"})));return s.a.createElement(Se.h,{className:di},s.a.createElement(re.a,{heading:a.name,leftButton:o,rightButton:u,style:{boxShadow:"none"}}),s.a.createElement(ce.a,{nopadding:!0,onBottomScroll:l},s.a.createElement(Nt.a,{rule:"products:?"},s.a.createElement(lc,{onChange:i,value:r.filter.name}),s.a.createElement("div",null,a&&s.a.createElement(ac,{collectionId:t,products:r.items,draggable:""===r.filter.name})),s.a.createElement(vc,{products:r,loadMore:l}))))},hi="_1QV4JzPU",bi="OKPelV9s",fi="_3-b4W5Dy";var vi=function(){const[e,t]=Object(r.useState)({name:""}),a=Qc(),c=a.items.filter(e=>!e.default),i=e.name?c.filter(t=>t.name.toLowerCase().includes(e.name.toLowerCase())):c,{t:l}=Object(n.useTranslation)("cards"),o=s.a.createElement(Wt.a,{to:"/p/products"}),u=s.a.createElement("div",{className:bi},s.a.createElement(T.c,{className:fi,to:"/p/products/collections/new",title:l("PageProductCollections.tipAddCollection")},s.a.createElement(Ks.a,{size:34,color:"#000"})));return s.a.createElement(Se.h,{className:hi},s.a.createElement(re.a,{heading:l("PageProductsMain.collections"),leftButton:o,rightButton:u,style:{boxShadow:"none"}}),s.a.createElement(ce.a,{nopadding:!0},s.a.createElement(Nt.a,{rule:"collections:view"},s.a.createElement(lc,{onChange:e=>t({name:e.target.value}),value:e.name}),s.a.createElement("div",null,i.length>0&&s.a.createElement(Mc,{collections:i,draggable:!0,isFetching:a.isFetching}),0===i.length&&e.name&&s.a.createElement(dc,{title:l("PageProductCollections.filterEmptyHeading"),description:l("PageProductCollections.filterEmptyDescription")}),0===i.length&&!e.name&&s.a.createElement(dc,{title:l("PageProductCollections.emptyTitle"),description:l("PageProductCollections.emptyDescription")})))))},Ei=a("R6Hn"),yi=a("XLeO");var Oi="_3CMv01uO";var ji=function(){const{t:e,collectionId:t,collection:a,hasChanges:i,isFetching:o,isNew:u,errors:d,handleSubmit:m,handleChange:p,handleRemoveClick:g}=(()=>{const{t:e}=Object(n.useTranslation)("cards"),t=Object(l.a)(),a=Object(c.g)(),s=Object(c.j)().params.id||null,i=Qc(),o=i.items.find(e=>e.id===s)||{name:"",slug:"",default:!1,published:!0},u=i.isFetching,[d,m]=Object(r.useState)(!1),[p,g]=Object(r.useState)(o),[h,b]=Object(r.useState)({}),f=!s,v=e=>{e.errors?b(e.errors):Object(gn.a)(e)};return Object(r.useEffect)(()=>{s&&!p.id&&g(o)},[o]),{t:e,collectionId:s,collection:p,hasChanges:d,isFetching:u,isNew:f,errors:h,handleSubmit:async n=>{n.preventDefault(),g(p);const r=!s,c=Object(Ac.a)(p,["name","slug","published","default"]);try{r?await t.api.collections.create({payload:c}):await t.api.collections.update({collectionId:s,payload:c}),m(!1),Br.a.notify(e("CardEditor.saved"),{showClose:!0}),a.push("/p/products/collections/"+(s||""))}catch(n){v(n)}},handleChange:e=>{let{target:{type:t,name:a,value:n,checked:r}}=e;const s="checkbox"===t?r:n;g(e=>Object(Ei.a)(Object(yi.a)({},e),a,s)),m(!0)},handleRemoveClick:async n=>{n.preventDefault();try{await t.api.collections.delete({collectionId:s}),m(!1),Br.a.notify(e("CardEditor.removed"),{showClose:!0}),a.push("/p/products/collections")}catch(n){v(n)}}}})();return s.a.createElement(Se.h,null,s.a.createElement(re.a,{heading:t?a.name:e("ProductCollectionEdit.title"),leftButton:s.a.createElement(F,{tag:T.c,to:t?"/p/products/collections/"+t:"/p/products/collections",styled:"backIcon"}),rightButton:i&&s.a.createElement(Zc,{isFetching:o,onClick:m})}),s.a.createElement(ce.a,null,s.a.createElement(Nt.a,{rule:"collections:edit",subject:a},s.a.createElement("form",{noValidate:!0,onSubmit:m},s.a.createElement("div",{className:Oi},s.a.createElement("span",null,e("ProductCollectionEdit.name")),!u&&a.publishedProductsCount>0&&s.a.createElement(Me.a,{checked:a.published,name:"published",onChange:p,disabled:o,styled:"toggle"})),s.a.createElement(Rc.a,{name:"name",value:a.name,onChange:p,errors:d.name&&e(d.name),maxLength:100,disabled:o,autoFocus:!0}),!u&&!a.default&&s.a.createElement("div",{style:{textAlign:"center",marginTop:"20px"}},s.a.createElement(M.a,{type:"button",onClick:g,btnStyle:"danger"},e("button.remove")))))))},wi=a("ccwk"),_i=a("vFhw"),ki=a("Q7xJ");const Ni=["image/png","image/x-png","image/jpeg"],Ci={container:e=>({...e,fontSize:16}),control:e=>({...e,boxShadow:"none",minHeight:42,paddingLeft:6}),placeholder:e=>({...e,fontSize:16,color:"#8e8e93",marginLeft:0}),multiValueLabel:(e,t)=>({...e,paddingRight:t.data.isFixed?6:0}),multiValueRemove:(e,t)=>({...e,transform:"scaleY(.9)",display:t.data.isFixed?"none":"flex"})},Pi=e=>({...e,colors:{...e.colors,primary:"#007aff",neutral20:"#c7c7cc",neutral30:"#8e8e93"}}),Si=()=>{const{t:e}=Object(n.useTranslation)("cards"),t=Object(l.a)(),a=Object(c.j)(),s=Object(I.a)(),i=Qc().items.map(t=>t.default?{...t,name:e("PageProductsMain.storeFront")}:t),o=Object(c.g)(),u=Object(r.useRef)(null),d=a.params&&a.params.productId||null,m=a.params&&a.params.collectionId||null,p=s.card.profile.absoluteUrl,g=s.card.products.defaultCurrency||"USD",[h,b]=Object(r.useState)(!1),[f,v]=Object(r.useState)(!0),E=i.length>0?i.filter(e=>m===e.id||e.default).map(e=>({label:e.name,value:e.id,isFixed:e.default})).sort((e,t)=>e===t?0:e?-1:1):[],[y,O]=Object(r.useState)({photos:[],name:"",slug:"",description:"",price:{amount:null,discount:null,currency:g},published:!0,externalButton:{title:"",url:""},cols:E}),[j,w]=Object(r.useState)({}),[_,k]=Object(r.useState)(!1),[N,C]=Object(r.useState)([]),[P,S]=Object(r.useState)(!1),[x,T]=Object(r.useState)(!1),M=!d,L=!M&&d!==y._id,A=i.map(e=>({label:e.name,value:e.id,isFixed:e.default})),R=e=>{e.errors?w(e.errors):Object(gn.a)(e)};return Object(r.useEffect)(()=>{d&&(async a=>{try{const n=await t.api.products.retrieve({productId:a}),r=(await ki.a.list(n.workspace)).items.map(t=>t.default?{...t,name:e("PageProductsMain.storeFront")}:t);O({...n,externalButton:{title:n.externalButton&&n.externalButton.title||"",url:n.externalButton&&n.externalButton.url||n.externalUrl||""},cols:n.cols&&!n.cols.null?Object.values(n.cols).map(e=>{let{collectionId:t}=e;return r.find(e=>e.id===t)}).filter(Boolean).map(e=>({label:e.name,value:e.id,isFixed:e.default})):""}),C(n.cols),k(!(!n.externalButton||!n.externalButton.url)||!!n.externalUrl||!1)}catch(e){R(e)}})(d)},[]),{ACCEPT_IMAGES:Ni,t:e,hasChanges:h,isNew:M,isFetching:P,isLoadingProduct:L,handleSubmit:async a=>{a.preventDefault();const n={...y,externalUrl:y.externalUrl?ga(y.externalUrl):"",externalButton:{...y.externalButton,url:y.externalButton&&y.externalButton.url?ga(y.externalButton.url):""}};O(n);const r=!d,s=Object(Ac.a)(n,["name","description","slug","photos","published","price","externalButton"]);s.cols="",y.cols&&(s.cols={},y.cols.forEach(e=>{N&&N[e.value]&&N[e.value].order?s.cols[e.value]={collectionId:e.value,order:N[e.value].order}:s.cols[e.value]={collectionId:e.value}})),f&&s.price&&(!s.price||s.price.amount)||(s.price=null),_||(s.externalButton={title:null,url:null});try{S(!0),r?await t.api.products.create({payload:s}):await t.api.products.update({productId:d,payload:s}),b(!1),Br.a.notify(e("CardEditor.saved"),{showClose:!0}),S(!1),o.goBack()}catch(a){S(!1),R(a)}},product:y,handleChange:e=>{let{target:{type:t,name:a,value:n,checked:r}}=e,s="checkbox"===t?r:n;O(Object(Ei.a)(Object(yi.a)({},y),a,s)),b(!0)},baseurl:p,handlePhotoChange:async a=>{let{target:{files:n}}=a;const r=y.photos.length,s=n&&Array.from(n).filter(e=>{let{type:t}=e;return Ni.includes(t)});if(s&&0!==s.length){if(r+s.length>6)return w({...j,photos:e("productEdit.errors.invalid_photos_count")});T(!0),w({...j,photos:""});try{const{success:a,failed:n}=await t.api.products.uploadPhotos({payloads:s});if(n.length&&w({...j,photos:n.map(t=>{let{file:a,error:n}=t;return e("errorsList.upload_failed",{file:a,error:e(n)})}).join(". ")}),a.length){const e=a.map(e=>{let{result:t}=e;return t});O({...y,photos:y.photos.concat(e)}),b(!!h||!Object(Lc.a)(y.photos,e))}}finally{T(!1)}}},removePhoto:e=>()=>{const t=y.photos.filter(t=>t!==e);O({...y,photos:t}),b(!0)},isUploading:x,onSortEnd:e=>{let{oldIndex:t,newIndex:a}=e;O({...y,photos:Or()(y.photos,t,a)}),b(!!h||!Object(Lc.a)(Or()(y.photos,t,a),y.photos))},errors:j,hasPrice:f,defaultCurrency:g,refAmount:u,collections:i,collectionsOptions:A,selectThemeOverride:Pi,selectStyles:Ci,handleCollectionChange:(e,t)=>{let{action:a,removedValue:n}=t;switch(a){case"remove-value":case"pop-value":if(n.isFixed)return}const r=e||"";O(Object(Ei.a)(Object(yi.a)({},y),"cols",r)),b(!0)},hasExternalUrl:_,toggleLink:()=>{k(!_)},handleRemoveClick:async a=>{a.preventDefault();try{S(!0),await t.api.products.delete({productId:d}),b(!1),Br.a.notify(e("CardEditor.removed"),{showClose:!0}),S(!1),o.goBack()}catch(a){S(!1),R(a)}},history:o}};var xi="_2_y4CPfC",Ti="_3cwINohO",Ii="_1A0KnxJd",Mi="_3TW8qSfi",Li="_2wIRYt4x",Ai="_1kHXZoem",Ri="_30bbo_MB",Fi="_2mDFy-TF",Di="_2GwFBwhS",Bi="_3g3851Rr",Ui="LylUWRnZ",zi="_2HewMeIp",qi="_2FQHZf-B",Vi="_2dx-scz6",Wi="eCSczI4Q",Hi="_2qMy_2vA",Zi="_21jYUkgP",Ki="JIwxbJpq",Gi="_31YjRCoz",Ji="_3Vd4QaTu",Qi="_1vow32ih",Yi="_3iwq3p25";const Xi=Object(jr.b)(e=>{let{url:t,removePhoto:a}=e;return s.a.createElement("li",{className:Vi},s.a.createElement("div",{className:Hi},s.a.createElement("img",{src:t,alt:""})),s.a.createElement("div",{className:Zi,onClick:a(t),"data-id":"remBtn"},s.a.createElement(g.r,{size:12})))}),$i=Object(jr.a)(e=>{let{photos:t,removePhoto:a,isUploading:n,isFetching:r,handlePhotoChange:c}=e;return s.a.createElement("ul",{className:qi},t.map((e,t)=>s.a.createElement(Xi,{key:e,index:t,url:e,removePhoto:a})),(!t||t.length<6)&&s.a.createElement("li",{className:Vi},s.a.createElement("div",{className:Gi},s.a.createElement("div",{className:Qi},!n&&s.a.createElement(g.r,{size:26}),n&&s.a.createElement(h.a,null)),!n&&s.a.createElement("input",{type:"file",name:"photos",multiple:!0,onChange:c,disabled:r,className:Ji,accept:Ni.join(",")}))))});var el=function(){var e,t;const{t:a,hasChanges:n,isNew:r,isFetching:c,isLoadingProduct:i,handleSubmit:l,product:o,handleChange:u,baseurl:d,handlePhotoChange:m,removePhoto:g,isUploading:b,onSortEnd:f,errors:v,hasPrice:E,defaultCurrency:y,refAmount:O,collections:j,collectionsOptions:w,selectThemeOverride:_,selectStyles:k,handleCollectionChange:N,hasExternalUrl:C,toggleLink:P,handleRemoveClick:S,history:x}=Si();return s.a.createElement(Y,{blocked:n},s.a.createElement(Se.h,null,s.a.createElement(re.a,{heading:a(r?"productEdit.headerTitle":"productEdit.headerEditTitle"),leftButton:s.a.createElement(F,{tag:"span",onClick:()=>x.goBack(),styled:"backIcon"}),rightButton:n&&s.a.createElement(Zc,{isFetching:c&&!i,onClick:l})}),s.a.createElement(ce.a,null,i?s.a.createElement(h.a,null):s.a.createElement(Nt.a,{rule:"products:edit",subject:o},s.a.createElement("form",{noValidate:!0,onSubmit:l},!r&&s.a.createElement("div",{className:xi},s.a.createElement("div",{className:Ti},s.a.createElement("div",{className:Mi},s.a.createElement("span",{className:p()(Ai,o.published?Ri:null)}),s.a.createElement("span",null,o.published?a("productEdit.active"):a("productEdit.inactive"))),s.a.createElement("div",null,s.a.createElement(Me.a,{checked:o.published,name:"published",onChange:u,disabled:c,styled:"toggle"}))),o.published&&s.a.createElement(Sn,{legacy:!0,clickable:!0,className:Fi,href:`${d}/p/${o.slug}`})),s.a.createElement("div",{className:Di},s.a.createElement("span",{className:Ki},a("productEdit.photo")),s.a.createElement("div",{className:Bi},s.a.createElement("div",{className:zi},o.photos&&s.a.createElement($i,{photos:o.photos,handlePhotoChange:m,removePhoto:g,axis:"xy",isUploading:b,isFetching:c,onSortEnd:f,helperClass:Wi,shouldCancelStart:e=>{if("remBtn"===e.target.dataset.id)return!0}}))),v.photos&&s.a.createElement("span",{className:Yi},v.photos)),s.a.createElement(Rc.a,{label:a("productEdit.title"),id:"product_name",name:"name",value:o.name,onChange:u,errors:v.name,maxLength:100,disabled:c}),s.a.createElement("div",{className:p()(Ti,Ii)},s.a.createElement("div",{className:p()(Mi,Li)},s.a.createElement("span",null,a("productEdit.price")))),E&&s.a.createElement(Wc,{name:"price",value:{currency:y,...o.price},onChange:u,errors:v.price,refAmount:O}),s.a.createElement(Rc.a,{component:_i.a,label:a("productEdit.description"),id:"product_description",name:"description",value:o.description,onChange:u,errors:v.description,maxLength:1e4,disabled:c}),j.length>0&&s.a.createElement(Rc.a,{component:wi.a,theme:_,styles:k,isMulti:!0,isClearable:!1,placeholder:a("PageProductCollections.noCollection"),options:w,label:a("collectionEdit.headerEditTitle"),name:"col",value:o.cols,onChange:N,errors:v.cols,disabled:c,isSearchable:!1,noOptionsMessage:()=>a("productEdit.noCategories")}),s.a.createElement("div",{className:p()(Ti,Ii)},s.a.createElement("div",{className:p()(Mi,Li)},s.a.createElement("span",null,a("productEdit.urlToggleLabel"))),s.a.createElement("div",null,s.a.createElement(Me.a,{checked:C,onChange:P,disabled:c,styled:"toggle"}))),C&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Rc.a,{id:"product_externalUrlTitle",name:"externalButton.title",value:o.externalButton.title,onChange:u,errors:null===(e=v.externalButton)||void 0===e?void 0:e.title,maxLength:50,disabled:c,placeholder:a("productEdit.urlTitlePlaceholder")}),s.a.createElement(Rc.a,{id:"product_externalUrl",name:"externalButton.url",value:o.externalButton.url,onChange:u,errors:null===(t=v.externalButton)||void 0===t?void 0:t.url,maxLength:500,disabled:c,placeholder:a("productEdit.urlPlaceholder")})),!r&&s.a.createElement("div",{className:Ui},s.a.createElement(M.a,{type:"button",onClick:S,btnStyle:"danger"},a("button.remove"))))))))},tl="_1mW1HQX1",al="_3FNjZsPb",nl="_3TOoUO7D";function rl(){return(rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const sl=[{path:"/p/share",component:function(){const{t:e}=Object(n.useTranslation)("cards"),{card:t}=Object(I.a)();return s.a.createElement(Se.h,null,s.a.createElement(c.d,null,s.a.createElement(c.b,{path:"/p/share/sign",exact:!0,render:()=>s.a.createElement(Er,null,s.a.createElement(re.a,{heading:e("pageShare.emailSign"),leftButton:s.a.createElement(Wt.a,{to:"/p/share"})}),s.a.createElement(un,{url:t.profile.absoluteUrl,photo:t.design.photoUrl,username:t.profile.fullname}))}),s.a.createElement(c.b,{path:"/p/share/qr",exact:!0,render:()=>s.a.createElement(Er,null,s.a.createElement(re.a,{heading:e("pageShare.share_qr"),leftButton:s.a.createElement(Wt.a,{to:"/p/share"})}),s.a.createElement(fn,{url:t.profile.qrUrl}))}),s.a.createElement(c.b,{path:"/p/share/widget",exact:!0,component:fr}),s.a.createElement(c.b,{path:"/p/share",exact:!0,render:()=>s.a.createElement(Er,null,s.a.createElement(re.a,{heading:e("pageShare.heading"),leftButton:s.a.createElement(Wt.a,{to:"/p"})}),s.a.createElement(Zn,{url:t.profile.absoluteUrl}))})))}},{path:"/p/edit",component:function(){const{t:e}=Object(n.useTranslation)("cards"),{generateUrl:t}=Object(Ut.a)(),a=qt(),{profile:{website:r,description:c,fullname:i},design:{photoUrl:l,background:o},messengers:u,links:d}=a,{isLinksDisplayed:m}=Object(Vt.a)(),g=r.url?Object(Dt.a)(r.url):null,h=g?g.hostname+("/"===g.pathname?"":g.pathname):null,b="color"===o.type?`linear-gradient(135deg, rgba(${Object(Bt.a)(o.color)}, 1) 0%, rgba(${Object(Bt.a)(o.color)}, .6) 100%)`:"none";return s.a.createElement(Se.h,null,s.a.createElement(re.a,{heading:e("PageEditMenu.title"),leftButton:s.a.createElement(Wt.a,{to:t("..")})}),s.a.createElement(ce.a,{className:Zt},s.a.createElement("ul",{className:Kt},s.a.createElement(ta,{to:t("avatar"),name:e("PageEditMenu.menu.avatar")},s.a.createElement("div",{className:Yt},s.a.createElement("img",{src:l,alt:i}))),s.a.createElement(ta,{to:t("cover"),name:e("PageEditMenu.menu.cover")},s.a.createElement("div",{className:p()(Yt,Xt),style:{backgroundImage:b}},"image"===o.type&&s.a.createElement("img",{src:o.imageUrl,alt:"cover"}))),s.a.createElement(ta,{to:t("title"),name:e("PageEditMenu.menu.title")},s.a.createElement("div",{className:ea},i||e("PageEditMenu.values.empty"))),s.a.createElement(ta,{to:t("description"),name:e("PageEditMenu.menu.description")},s.a.createElement("div",{className:ea},c||e("PageEditMenu.values.empty"))),s.a.createElement(ta,{to:t("messengers"),name:e("PageEditMenu.menu.messengers")},s.a.createElement("div",{className:ea},u.filter(e=>e.enabled).length)),m&&s.a.createElement(ta,{to:t("links"),name:e("PageEditMenu.menu.links")},s.a.createElement("div",{className:ea},d.filter(e=>e.enabled).length)),s.a.createElement(ta,{to:t("website"),name:e("PageEditMenu.menu.website")},s.a.createElement("div",{className:ea},r.enabled&&r.url&&h,!r.enabled&&r.url&&e("PageEditMenu.values.off"),!r.url&&e("PageEditMenu.values.empty"))))))},exact:!0},{path:"/p/edit/avatar",component:Ie,exact:!0},{path:"/p/edit/cover",component:mt,exact:!0},{path:"/p/edit/title",component:ca,exact:!0},{path:"/p/edit/description",component:_t,exact:!0},{path:"/p/edit/website",component:ha,exact:!0},{path:"/p/edit/category",component:jt,exact:!0},{path:"/p/edit/messengers/:platform",component:Hr,exact:!0},{path:"/p/edit/messengers",component:function(){const e=Object(I.a)(),t=Object(l.a)(),{t:a}=Object(n.useTranslation)("cards"),{resetPreview:c}=Object(Se.m)(),[i,o]=Object(r.useState)(e.card.messengers),[u,d]=Object(r.useState)(!1),m=s.a.createElement(Wt.a,{to:"/p/edit"});return s.a.createElement(Se.h,null,s.a.createElement(re.a,{heading:a("pageMessengers.heading"),leftButton:m}),s.a.createElement(ce.a,null,s.a.createElement(Rr,{t:a,messengers:i,axis:"y",lockAxis:"y",onSortEnd:async function(e){let{oldIndex:a,newIndex:n}=e;if(o(Or()(i,a,n)),d(!0),a!==n){const e=await t.api.card.messengers.sort({payload:{oldIndex:a,newIndex:n}});o(e),d(!1),c()}},helperClass:Fr,isFetching:u,shouldCancelStart:e=>{if("drag-handle"!==e.target.dataset.element)return!0}}),s.a.createElement(x.d,null,a("FieldTip.messengers"))))},exact:!0},{path:"/p/edit/links",component:as,exact:!0},{path:"/p/edit/links/new",component:is,exact:!0},{path:"/p/edit/links/:linkId",component:is,exact:!0},{path:"/p/settings",component:function(){const{t:e}=Object(n.useTranslation)("cards"),{generateUrl:t}=Object(Ut.a)(),a=qt(),{isTrial:r}=Object(ra.a)(),{profile:{url:c},design:{branding:i},domain:l,analytics:o,seo:u}=a,d=Object.entries(o).filter(e=>!!e[1]).map(e=>Object(aa.a)(e[0])),m=d.length>0?Object(na.a)(d,", "):e("PageSettingsMenu.values.empty"),p=u.title||u.description?e("PageSettingsMenu.values.custom"):e("PageSettingsMenu.values.default");return s.a.createElement(Se.h,null,s.a.createElement(re.a,{heading:e("PageSettingsMenu.title"),leftButton:s.a.createElement(Wt.a,{to:t("..")})}),s.a.createElement(ce.a,{className:Zt},s.a.createElement("ul",{className:Kt},s.a.createElement(ta,{to:t("url"),name:e("PageSettingsMenu.labels.url")},s.a.createElement("div",{className:ea},l.name&&l.resolved?l.name:"mssg.me/"+c)),!r&&s.a.createElement(ta,{to:t("branding"),name:e("PageSettingsMenu.labels.branding")},s.a.createElement("div",{className:ea},e(i?"PageSettingsMenu.values.enabled":"PageSettingsMenu.values.disabled"))),s.a.createElement(ta,{to:t("seo"),name:e("PageSettingsMenu.labels.seo")},s.a.createElement("div",{className:ea},p)),s.a.createElement(ta,{to:t("tracking"),name:e("PageSettingsMenu.labels.tracking")},s.a.createElement("div",{className:ea},m)))))},exact:!0},{path:"/p/settings/url",component:ma,exact:!0},{path:"/p/settings/url/domain/edit",component:function(){const e=kt();let t;return t=e.name&&e.resolved?"disconnect":e.name&&!e.resolved?"change-dns":"edit",s.a.createElement(c.d,null,s.a.createElement(c.b,{exact:!0,path:"/p/settings/url/domain/edit",component:Lt}),s.a.createElement(c.b,{exact:!0,path:"/p/settings/url/domain/change-dns",component:Ft}),s.a.createElement(c.b,{exact:!0,path:"/p/settings/url/domain/disconnect",component:Tt}),s.a.createElement(c.a,{to:"/p/settings/url/domain/"+t}))},exact:!0},{path:"/p/settings/branding",component:Ue,exact:!0},{path:"/p/settings/tracking",component:function(){const{t:e}=Object(n.useTranslation)("cards"),{generateUrl:t}=Object(Ut.a)(),a=qt(),{analytics:{facebook:r,google:c,yandex:i}}=a;return s.a.createElement(Se.h,null,s.a.createElement(re.a,{heading:e("PageTrackingMenu.title"),leftButton:s.a.createElement(Wt.a,{to:t("..")})}),s.a.createElement(ce.a,{className:Zt},s.a.createElement(Nt.a,{rule:"tracking"},s.a.createElement("ul",{className:Kt},s.a.createElement(ta,{to:t("facebook"),name:e("PageTrackingMenu.menu.facebook")},s.a.createElement("div",{className:ea},r||e("PageTrackingMenu.values.empty"))),s.a.createElement(ta,{to:t("google"),name:e("PageTrackingMenu.menu.google")},s.a.createElement("div",{className:ea},c||e("PageTrackingMenu.values.empty"))),s.a.createElement(ta,{to:t("yandex"),name:e("PageTrackingMenu.menu.yandex")},s.a.createElement("div",{className:ea},i||e("PageTrackingMenu.values.empty")))),s.a.createElement(x.d,{style:{marginTop:16}},e("FieldTip.tracking")))))},exact:!0},{path:"/p/settings/tracking/:platform",component:Hs,exact:!0},{path:"/p/settings/seo",component:sa,exact:!0},{path:"/p/reviews",component:function(){const e=Object(l.a)(),{t:t}=Object(n.useTranslation)("cards"),{card:a}=Object(I.a)(),{updatePreview:r}=Object(Se.m)(),c=s.a.createElement(F,{tag:T.c,to:"/p",styled:"backIcon"});return s.a.createElement(D.a,{initialValues:{reviews:{enabled:Object(u.a)(a,"reviews.enabled",!1)}},onSubmit:t=>e.api.card.update({payload:{...a,...t}}),onChange:r},e=>{let{values:a,setFieldValue:n,submitForm:r}=e;return s.a.createElement($,null,s.a.createElement("div",{className:Zs.root},s.a.createElement(re.a,{heading:t("reviewsEdit.header"),leftButton:c,rightButton:s.a.createElement(se.a,null)}),s.a.createElement(ce.a,null,s.a.createElement(Nt.a,{rule:"reviews",className:Zs.noaccess},s.a.createElement(o.a,{onSubmit:r},s.a.createElement(gt.a,null,s.a.createElement(Me.a,{name:"reviews.enabled",checked:a.reviews.enabled,placeholder:t("reviewsEdit.label"),onChange:e=>{n("design.branding",e.target.checked)}})))))))})},exact:!0},{path:"/p/analytics",component:function(){const{t:e}=Object(n.useTranslation)("cards"),t=Object(ls.d)(e=>e.cardStatistics),{generateUrl:a}=Object(Ut.a)(),c=Object(l.a)(),i=Object(r.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"now-7d",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"now";return c.api.card.statistics({query:{from:e,to:t}})}),[]),o=s.a.createElement(Wt.a,{to:a("..")});return s.a.createElement(Se.h,null,s.a.createElement(re.a,{heading:e("pageAnalytics.analytics"),leftButton:o}),s.a.createElement(ce.a,{style:{paddingTop:"10px"}},s.a.createElement(Nt.a,{rule:"analytics"},s.a.createElement(qs,{statistics:t,getCardStatistics:i}))))},exact:!0},{path:"/p/products/collections/new",component:ji,exact:!0},{path:"/p/products/collections/edit/:id",render:()=>s.a.createElement(ji,null),exact:!0},{path:"/p/products/all",component:gi,exact:!0},{path:"/p/products/collections/:id",render:()=>s.a.createElement(gi,null),exact:!0},{path:"/p/products/collections",component:vi,exact:!0},{path:"/p/products",component:ui,exact:!0},{path:"/p/products/new/:collectionId",render:()=>s.a.createElement(el,null),exact:!0},{path:"/p/products/new",component:el,exact:!0},{path:"/p/products/:productId",render:()=>s.a.createElement(el,null),exact:!0},{path:"/p",component:rn,exact:!0}];function cl(){return s.a.createElement("div",{className:tl},s.a.createElement("div",{className:nl},s.a.createElement(c.d,null,sl.map((e,t)=>s.a.createElement(c.b,rl({key:t},e))))),s.a.createElement(i.a,null,s.a.createElement("div",{className:al},s.a.createElement(c.d,null,s.a.createElement(c.b,{path:"/p/share/widget",component:Aa}),s.a.createElement(c.b,{path:"/p",component:Se.d})))))}function il(){return(il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var ll=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.561 0H5.44A5.439 5.439 0 000 5.439v9.122A5.439 5.439 0 005.439 20h9.122A5.439 5.439 0 0020 14.561V5.44A5.439 5.439 0 0014.561 0zM2.456 5.439A2.982 2.982 0 015.44 2.456h9.122a2.982 2.982 0 012.983 2.983v9.122a2.982 2.982 0 01-2.983 2.983H5.44a2.982 2.982 0 01-2.983-2.983V5.44z"}),ol=r.createElement("rect",{x:4.912,y:10.702,width:10.175,height:2.456,rx:1.228}),ul=r.createElement("rect",{x:4.912,y:6.842,width:6.667,height:2.456,rx:1.228});var dl=function(e){return r.createElement("svg",il({viewBox:"0 0 20 20",fill:"currentColor"},e),ll,ol,ul)}},RlQE:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("r0ML"),r=a("lkLo"),s=a("JuTl");function c(e){const{url:t}=Object(r.j)(),{pathname:a,state:c}=Object(r.h)();return{generateUrl:Object(n.useCallback)((n,r)=>{var c;return"/"!==n.charAt(0)?(r=e?{...e,...r}:r,Object(s.a)(null!==(c=r)&&void 0!==c&&c.useMatchUrl?t:a,n)):Object(s.a)(n)},[t,a,null==e?void 0:e.useMatchUrl]),pathname:a,url:t,state:c}}},RspG:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/onboarding/domain.svg"},S955:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a("Pc05"),r=a.n(n),s=a("r0ML"),c=a.n(s),i="OZk7uuFJ",l="_363P8L0L",o="_2TsJk87z",u="kpqTtSO0",d="_1PmvMDMx",m="_1bdgcwFw",p="DY8ghz_7";function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const h=e=>{let{color:t,inline:a,...n}=e;const s=t?{background:t}:null;return c.a.createElement("div",g({className:r()(i,a&&l)},n),c.a.createElement("div",{className:o},c.a.createElement("div",{className:r()(u,d),style:s}),c.a.createElement("div",{className:r()(u,m),style:s}),c.a.createElement("div",{className:r()(u,p),style:s})))}},SimP:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("r0ML"),r=a("yHpL");function s(){const{api:e}=Object(r.a)();return Object(n.useCallback)(async(t,a)=>{const{redirect_to:n}=await e.users.switchApp({payload:{app:t,...a}});n&&(window.location.href=n)},[e])}},Symy:function(e,t,a){"use strict";var n=a("r0ML"),r=a.n(n),s=a("Pc05"),c=a.n(s),i={root:"_4z_mD5Vn",item:"_2KNl4SKq",center:"_2sTZ_mVy",right:"_17fEb9d_",left:"TS0sTM8H",bordered:"_1tGOrLRK"};t.a=e=>{let{children:t,className:a,align:n,bordered:s}=e;return r.a.createElement("div",{className:c()(i.root,a,s?i.bordered:null,i[n])},r.a.Children.map(t,(e,t)=>r.a.createElement("div",{key:t,className:i.item},e)))}},"TM/7":function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/facebook2.svg"},TN6c:function(e,t,a){"use strict";const n=/^https?:\/\/(.*)$/;t.a=e=>e.replace(n,"$1")},TiNz:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a("r0ML"),r=a.n(n),s=a("iFO/"),c=a("vtB/"),i=a("Qg6Y");function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const o=e=>{let{renderNoAccess:t,children:a,componentNoAccess:n,...o}=e;const u=Object(i.a)(),{error:d}=Object(s.a)(()=>new Promise((e,t)=>{const a=Object(c.a)({...o,workspace:u},o.rule,o.subject);a?t(a):e()}),[u,o.subject,o.rule]);return d?n?r.a.createElement(n,l({reason:d},o)):t?t(d):null:a||null};var u=a("E8QZ");function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const m=e=>{let{component:t,children:a,...n}=e;return r.a.createElement(o,d({center:!0,componentNoAccess:u.a},n),a||t&&r.a.createElement(t,null))}},U2GZ:function(e,t,a){"use strict";a.r(t);var n=a("r0ML"),r=a.n(n),s=a("+Q0i"),c=a("pnxo"),i=a("QD+E"),l=a("bCRH"),o=a("Rkv1"),u=a("+9LL"),d="_1LgrRQyg";var m=function(e){let{basename:t,data:{card:a,mode:n},lang:s="en"}=e;return r.a.createElement(i.a,{basename:t},r.a.createElement(l.a.Provider,{value:s},r.a.createElement("div",{className:d},r.a.createElement(u.a,null),r.a.createElement(o.a,null,r.a.createElement(o.e,{data:a,widgetMode:"embed"===n,paths:{home:"/",collection:"/c/:collectionSlug",product:"/p/:productSlug"}})))))};c.b.extend(window.LOCALES);const p=window.INITIAL_DATA,g=window.BASENAME,{lang:h}=window.document.documentElement;setTimeout(()=>{Object(s.render)(r.a.createElement(m,{data:p,lang:h,basename:g}),document.getElementById("root"))},50)},Usj1:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("r0ML"),r=a("Wb+K");function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;const[,t]=Object(r.a)(),[a,s]=Object(n.useState)(!1),c=Object(n.useRef)();Object(n.useEffect)(()=>()=>{c.current&&clearTimeout(c.current)},[]);const i=Object(n.useCallback)(a=>{t(a),s(!0),c.current=setTimeout(()=>s(!1),e)},[e]);return{isCopied:a,copyText:i}}},W5Fm:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/ae_logo.png"},WDaW:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("g0xT"),r=a("6BW+");function s(){return Object(n.d)(r.b)}},"WMO/":function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/man.png"},WYuZ:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("jxal"),r=a("wYyU");const s={success:"success",danger:"danger"},c={closeDelay:0,notifyStyle:s.success,showClose:!1,isRaw:!1};class i extends n.EventEmitter{constructor(){super(),this.count=0,this.notifications=new Map}notify(e,t){const a=this.createNotification(e,{closeDelay:t.showClose?r.a:0,...t});return this.handleNotificationDelay(a),this.notifications.set(a.id,a),this.emit("notify",a),a.id}success(e,t){return this.notify(e,{notifyStyle:s.success,...t})}danger(e,t){return this.notify(e,{notifyStyle:s.danger,...t})}createNotification(e,t){return{id:this.getNotificationId(),message:e,options:{...c,...t}}}handleNotificationDelay(e){const t=e.options.closeDelay;t>0&&(e.timerId=setTimeout(()=>this.remove(e.id),t))}remove(e){const t=this.notifications.get(e);t&&(t.timerId&&clearTimeout(t.timerId),this.notifications.delete(e),this.emit("remove",t))}clear(){this.notifications.clear(),this.emit("clear")}getNotificationId(){return this.count++}getNotifications(){return Array.from(this.notifications.values())}static getInstance(){return i.instance||(i.instance=new i),i.instance}}var l,o,u,d;l=i,u=void 0,(o="symbol"==typeof(d=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o="instance","string"))?d:String(d))in l?Object.defineProperty(l,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[o]=u,t.b=i},X7QK:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/onboarding/link.svg"},Xoms:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n={};a.r(n),a.d(n,"messenger",(function(){return i})),a.d(n,"skype",(function(){return l})),a.d(n,"telegram",(function(){return u})),a.d(n,"viber",(function(){return m})),a.d(n,"vk",(function(){return g})),a.d(n,"whatsapp",(function(){return b})),a.d(n,"instagram",(function(){return f}));var r=a("Fz8S");class s{constructor(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._ua=e,this._name=t.name,this._bot="public"===t.type,this._secret="secret"===t.type,this._community="community"===t.type,this._redirectUrl=t.redirectUrl,this._params={},this._auto="auto"===t.type;for(let e in a)this.isSupported(e)&&this.addParam(e,a[e])}isSupported(e){return!1}addParam(e,t){if(!this.isSupported(e))throw new Error(`Unsupported param "${e}"`);this._params[e]=t}removeParam(e){delete this._params[e]}getUrl(){}getRedirectUrl(){return this._redirectUrl+Object(r.a)(this._params)}getPlatform(){}}const c=["ref"];class i extends s{isSupported(e){return!!(this._bot&&c.indexOf(e)>=0)}getUrl(){return this._auto?this._name:"https://m.me/"+(this._name+Object(r.a)(this._params))}getPlatform(){return"messenger"}}class l extends s{getUrl(){return`skype:${this._name}?chat`}getPlatform(){return"skype"}}const o=["start"];class u extends s{isSupported(e){return!!(this._bot&&o.indexOf(e)>=0)}getUrl(){return this._auto?this._name:this._secret?"tg://join?invite="+this._name:/^https?:\/\/t\.me\/(\+|joinchat\/).+$/i.test(this._name)?this._name.replace(/(^https?:\/\/t\.me\/(?:\+|joinchat\/))(.+)/,"tg://join?invite=$2"):"tg://resolve"+Object(r.a)(Object.assign({domain:this._name},this._params))}getPlatform(){return"telegram"}}const d=["context","text"];class m extends s{isSupported(e){return!!(this._bot&&d.indexOf(e)>=0)}getUrl(){if(this._bot)return"viber://pa"+Object(r.a)(Object.assign({chatURI:this._name},this._params));if(this._community)return this._name;{const e=this._ua.Android?this._name.replace("+",""):this._name;return"viber://chat"+Object(r.a)(Object.assign({number:e},this._params))}}getPlatform(){return"viber"}}const p=["ref","ref_source"];class g extends s{isSupported(e){return!!(this._bot&&p.indexOf(e)>=0)}getUrl(){return this._auto?this._name:"https://vk.me/"+(this._name+Object(r.a)(this._params))}getPlatform(){return"vk"}}const h=["text"];class b extends s{isSupported(e){return h.indexOf(e)>=0}getUrl(){if(this._auto||this._bot)return this._name;return"https://wa.me/"+(this._name.replace("+","")+Object(r.a)(this._params))}getPlatform(){return"whatsapp"}}class f extends s{getUrl(e){return e&&e.isMobile?this._name:"https://instagram.com/"+this._name.replace(/^https:\/\/ig\.me\/m\//i,"")}getPlatform(){return"instagram"}}var v=a("xUbJ");const E=(y=v.a,(e,t)=>{const a=e.messenger;if(!n[a])throw new Error("Unsupported platform");return new n[a](y,e,t)});var y},YpKG:function(e,t,a){"use strict";t.a=e=>{if(e<1024)return e+" B";const t=Math.floor(Math.log(e)/Math.log(1024)),a=e/Math.pow(1024,t),n=Math.round(a);return`${String(n<10?a.toFixed(2):n<100?a.toFixed(1):n).replace(/\.0+$/,"")} ${"KMGTPEZY"[t-1]}B`}},ZAuZ:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a("Pc05"),r=a.n(n),s=a("iHip"),c=a.n(s),i=a("r0ML"),l=a.n(i),o=a("bESJ"),u=a("63aL"),d=a("cpKZ"),m=a("r1xb"),p={root:"_2B3ofJ5E",counter:"_3-b9pfi-",input:"_2DRCzfDh",inlineEdit:"YPgCGw-v",error:"_1_PCEXDn",sizeNormal:"DzCEGuof",small:"hVVuxPYt",grey:"_2AB3cyPB",customNativeIcon:"gXrIPW3z",disabled:"jZa3dVTS",select:"_3ZdF5RHe","input-wrapper":"_1GswEJx-",inputWrapper:"_1GswEJx-",builderInput:"_2jRUtpby",hexInput:"_28ye7akn",contextBlock:"_28j5RRRN",clearAddon:"_26G-OSX_",icon:"_1AAPpJVf",root_grey:"rf7_RATV",rootGrey:"rf7_RATV",before:"_25tSvmqV",after:"_3GByWsk_",hasRightAddon:"_13_oLbQh",hidden:"_2zAg-NV4","padding-right":"_3o8wApXg",paddingRight:"_3o8wApXg",clearable:"_1NP8_n7i"};function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}b.defaultProps={containerClassName:"",hasError:!1,disabled:!1,type:"text",inputStyle:"default",builderInput:!1,autoFocus:!1,isSelectAddon:!0};const h=(e,t,a)=>{let n=Object(m.a)(e);return n&&("string"!=typeof n&&a?a&&(n=l.a.cloneElement(n,Object(d.a)(r()(n.props.className,p.select),n.props))):n=l.a.createElement("div",{className:r()(p.contextBlock,t)},n)),n};function b(e){var t;let{className:a,containerClassName:n,inputClassName:s,hasError:d,icon:m,size:b,beforeInput:f,afterInput:v,hexInput:E,hidden:y,maxLength:O,value:j,disabled:w,refInput:_,inputStyle:k,builderInput:N,autoFocus:C,isSelectAddon:P,clearable:S,type:x,...T}=e;const I=S&&!!j,M=Object(i.useCallback)(()=>{var e;return null===(e=T.onChange)||void 0===e?void 0:e.call(T,{target:{name:T.name,value:""}})},[T.name,T.onChange]),L=h(f,a,P),A=h(v,a,P),R=r()(p.root,{[p.icon]:m,[p.before]:L,[p.after]:A,[p.hidden]:y,[p.hexInput]:E,[p.disabled]:w,[p.builderInput]:N,[p.clearable]:I},k&&p["root_"+k],n),F=r()(a,p.input,{[p.error]:d,[p.paddingRight]:O,[p.small]:"small"===b,[p.sizeNormal]:"normal"===b},k&&p[k],s),D=j?String(j).trim().length:0,B=Object(i.useRef)();return Object(o.a)(()=>{C&&setTimeout(()=>{var e;return null===(e=B.current)||void 0===e?void 0:e.focus()},100)}),l.a.createElement("div",{className:R},m&&l.a.createElement(m,{size:25,color:"#C7C7CC"}),L,l.a.createElement("div",{className:p.inputWrapper,style:{color:null===(t=T.style)||void 0===t?void 0:t.color}},l.a.createElement("input",g({ref:c()(B,_),className:F,value:j,maxLength:O,disabled:w,type:x},T)),O&&l.a.createElement("span",{className:p.counter},O-D),I&&l.a.createElement("div",{className:r()(p.clearAddon,!A&&p.hasRightAddon),onClick:M},l.a.createElement(u.B,{size:14,style:{marginBottom:-1}})),"date"===x&&l.a.createElement(u.c,{className:p.customNativeIcon}),"time"===x&&l.a.createElement(u.i,{className:p.customNativeIcon})),A)}},ZmyB:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=e=>{if("#"===e.charAt(0)&&(e=e.substr(1)),e.length<2||e.length>6)return!1;const t=e.split("");let a,n,r;if(2===e.length)a=parseInt(t[0].toString()+t[1].toString(),16),n=a,r=a;else if(3===e.length)a=parseInt(t[0].toString()+t[0].toString(),16),n=parseInt(t[1].toString()+t[1].toString(),16),r=parseInt(t[2].toString()+t[2].toString(),16);else{if(6!==e.length)return!1;a=parseInt(t[0].toString()+t[1].toString(),16),n=parseInt(t[2].toString()+t[3].toString(),16),r=parseInt(t[4].toString()+t[5].toString(),16)}return[a,n,r]}},Zsls:function(e,t,a){"use strict";t.a=window.PLANS||{}},a2Wz:function(e,t,a){"use strict";(function(e){var n=a("UhZ4"),r=a.n(n),s=a("DC3q"),c=a("cGUp"),i=a.n(c);a("Hw9h");const l=new(a("Nphk").a)({baseUrl:e.env.REACT_APP_WEBAPP_API_URL||"/api",socketUrl:i.a.websocket_url});function o(){const e=Object(s.a)(l.aboutMe,"workspaces[0].workspace");l.param("workspaceId",e),r.a.set("currentWorkspace",e)}l.isAuthenticated&&o(),l.on("changeAccessToken",()=>{o()}),t.a=l}).call(this,a("TzVV"))},aEvj:function(e,t,a){"use strict";var n=a("r0ML"),r=a.n(n),s=a("Pc05"),c=a.n(s),i=a("cpKZ"),l={root:"AKW1LPJE",dot:"_2Duvgn6z",primary:"_1NDKtp6k",warning:"_3OUmTVyB",danger:"_2OyIKowr",success:"_2UZem5gx",flat:"_1xRtRqWy",inverse:"_1zQVDc1a"};t.a=e=>{let{as:t="span",badgeStyle:a,inverse:n,dot:s,...o}=e;return r.a.createElement(t,Object(i.a)(c()(l.root,l[a],s&&l.dot,n&&l.inverse),o))}},aFVI:function(e,t,a){var n={"./en/inbox.json":["vIfp",0],"./ru/inbox.json":["v2NG",1],"./uk/inbox.json":["s949",2]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a.t(r,3)}))}r.keys=function(){return Object.keys(n)},r.id="aFVI",e.exports=r},aH6V:function(e,t,a){"use strict";var n=a("r0ML"),r=a.n(n),s=a("QD+E"),c={root:"_1s0NwJtZ"};function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const l=e=>{let{children:t,tag:a,...n}=e;return r.a.createElement(a,i({},n,{className:c.root}),r.a.createElement("span",{className:c.label},t))};l.defaultProps={tag:s.c};var o=l;t.a=o},aoZX:function(e,t,a){"use strict";var n=a("Llc/");const r=/^(?:\w+:\/*)?([^:/$]+)(?::\d+)?(.*)$/i;t.a=e=>{const t=e.match(r);return t?`${t[1]}${t[2]}`:Object(n.a)(e)}},bCRH:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s}));var n=a("r0ML");const r=Object(n.createContext)("en");function s(){return Object(n.useContext)(r)}},bPZW:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=e=>{e=e||new Error("Unhandled error"),console.error(e),window.Sentry&&window.Sentry.captureException(e)}},c3l6:function(e,t,a){"use strict";t.a=e=>e&&String(e._id||e)},cGUp:function(e,t){e.exports=CONFIG},cpKZ:function(e,t,a){"use strict";var n=a("Pc05"),r=a.n(n),s=a("AcDw");const c=Object(s.a)((e,t)=>({...t,className:r()(e,t.className)}));t.a=c},dXwK:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n=a("Pc05"),r=a.n(n),s=a("r0ML"),c=a.n(s),i=a("QD+E"),l=a("63aL"),o=a("wUPD"),u=a("r1xb");var d="_3r7ykke3",m="_1tLNHSID",p="_2VB2Uwlo",g="_1l4Wj1ud",h="_22Y3aDGp",b="_1rdkEYpQ",f="_26m3xOVK";function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function E(e){let{title:t,closePath:a,rightButton:n,light:E,closeIcon:y=l.B,bottomContent:O,...j}=e;const[w,{width:_}]=Object(o.a)(),k=_>50?_:50,N="function"==typeof a,C=N?{onClick:()=>a()}:{to:a},P=N?"div":i.c;return function(e){Object(s.useEffect)(()=>{if("string"!=typeof e)return;const t=document.title;return document.title="Mssg.me - "+e,()=>{document.title=t}},[e])}(t),c.a.createElement(c.a.Fragment,null,!1!==t&&c.a.createElement("div",v({className:r()({[d]:!0,[m]:E,[p]:O||!t})},j),a&&c.a.createElement(P,v({className:b},C),c.a.createElement(y,{size:22,color:"#333"})),c.a.createElement("span",{className:g,style:{padding:`0 ${k}px`}},t),!!n&&c.a.createElement("div",{ref:w,className:h},Object(u.a)(n))),O&&c.a.createElement("div",{className:f},O))}},e66u:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/whatsapp.svg"},eGoJ:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("r0ML"),r=a.n(n),s=a("oZLZ"),c=a("Pc05"),i=a.n(c),l=a("cpKZ"),o=a("l2lW");function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function d(e){let{header:t,children:a,motionProps:n,padding:c=!0,...d}=e;const m=n?s.b.div:"div";return r.a.createElement(m,u({className:i()(o.a.sheetyPane,t&&o.a.hasHeader)},n),t&&r.a.createElement(m,{className:o.a.header},t),r.a.createElement(m,Object(l.a)([o.a.content,c&&o.a.padded],d),a))}},eI6h:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/icon-go-back.svg"},eRWQ:function(e,t,a){var n={"./en/cards.json":["0ObG",0],"./ru/cards.json":["DDKd",1],"./uk/cards.json":["Q6FX",2]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a.t(r,3)}))}r.keys=function(){return Object.keys(n)},r.id="eRWQ",e.exports=r},"fc//":function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/ic_check_circle_black_24px.svg"},"g+ST":function(e,t,a){"use strict";var n=a("alDB"),r=a.n(n);t.a=e=>r()(e||"",{remove:/[%=?\\/*+~.()'"!:@]/g,separator:"_",lower:!0})},gHcT:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/power.png"},goqe:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c}));var n=a("ZNIA");const r={desktop:{minWidth:1025},aboveMobile:{minWidth:601},belowDesktop:{maxWidth:1024},tablet:{maxWidth:1024,minWidth:768},mobile:{maxWidth:600}};function s(){return{isDesktop:Object(n.useMediaQuery)(r.desktop),isAboveMobile:Object(n.useMediaQuery)(r.aboveMobile),isBelowDesktop:Object(n.useMediaQuery)(r.belowDesktop),isTablet:Object(n.useMediaQuery)(r.tablet),isMobile:Object(n.useMediaQuery)(r.mobile)}}const c=()=>!!Object(n.useMediaQuery)(r.mobile)},gxZ5:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("r0ML"),r=a.n(n),s=a("Pc05"),c=a.n(s),i=a("udwx"),l={root:"_2M_1Ol43",disabled:"_39IPMV52",label:"v3GxyvsU",soon:"_2ovZTsiT",icon:"RtpShIgh",badge:"_26y6czIF",arrow:"rtv2K6C8",chevronData:"_2EfGiufa"};function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function u(e){let{tag:t="a",themeStyles:a=l,className:n,chevron:s=!0,soon:u=!1,disabled:d=!1,icon:m,children:p,...g}=e;return r.a.createElement(t,o({className:c()(a.root,n,u&&a.soon,d&&a.disabled)},g),m&&r.a.createElement("span",{className:a.icon},r.a.createElement(m,{size:20})),r.a.createElement("span",{className:a.label},p),u?r.a.createElement("i",{className:a.badge},"Soon"):!0===s?r.a.createElement(i.a,{className:a.arrow}):r.a.createElement("div",{className:a.chevronData},s,r.a.createElement(i.a,{className:a.arrow})))}u.styles=l},hJsr:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/onboarding/pixel.svg"},iVRF:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={};a.r(n),a.d(n,"applicationServerKey",(function(){return u})),a.d(n,"isNotificationSupport",(function(){return d})),a.d(n,"isPushManagerSupport",(function(){return m})),a.d(n,"isServiceWorkerSupport",(function(){return p})),a.d(n,"PushMessagingError",(function(){return g})),a.d(n,"handleError",(function(){return h})),a.d(n,"urlB64ToUint8Array",(function(){return b})),a.d(n,"getRegistration",(function(){return f})),a.d(n,"displayNotification",(function(){return v})),a.d(n,"requestPermission",(function(){return E})),a.d(n,"askPermission",(function(){return y})),a.d(n,"isSubscribed",(function(){return O})),a.d(n,"subscribe",(function(){return j})),a.d(n,"getSubscription",(function(){return w})),a.d(n,"unsubscribe",(function(){return _})),a.d(n,"init",(function(){return k}));a("2eij"),a("4zMh"),a("Xt4+"),a("I7zw"),a("Za0o"),a("ilaN"),a("YQvl"),a("AIWn"),a("sL2E"),a("E7T3");var r=a("ozdI"),s=a.n(r),c=a("UhZ4"),i=a.n(c),l=a("cGUp"),o=a.n(l);const u=()=>b(o.a.vapid_public_key),d="Notification"in window,m="PushManager"in window,p="serviceWorker"in navigator;class g extends Error{}function h(e){if(!(e instanceof g))throw e;"console"in window&&console.warn(e.message)}function b(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),a=atob(t),n=new Uint8Array(a.length);for(let e=0;e<a.length;++e)n[e]=a.charCodeAt(e);return n}async function f(){if(!p)throw new g("serviceWorker isn't supported");return await navigator.serviceWorker.getRegistration()}async function v(){if(d&&"granted"===Notification.permission){(await f()).showNotification(...arguments)}}function E(){return s()(Notification.requestPermission)?Notification.requestPermission():new Promise((e,t)=>{Notification.requestPermission(t=>{e(t)})})}async function y(){if(!d)throw new g("Notification isn't supported");const e=i.a.get("notification_requested_at",0)+12096e5<Date.now();if("granted"!==Notification.permission&&e){const e=await E();return i.a.set("notification_requested_at",Date.now()),"granted"===e}return"granted"===Notification.permission}async function O(){if(!m)throw new g("PushManager isn't supported");const e=await f();if(!e)throw new g("Empty serviceWorker registration");if(!e.pushManager)throw new g("PushManager isn't supported");return!!await e.pushManager.getSubscription()}async function j(){if(!m)throw new g("PushManager isn't supported");const e=await f();return await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:u()})}async function w(){if(!m)throw new g("PushManager isn't supported");const e=await f();if(!e)return;if(!e.pushManager)throw new g("PushManager isn't supported");return await e.pushManager.getSubscription()}async function _(){if(!m)throw new g("PushManager isn't supported");const e=await f();if(!e)return;if(!e.pushManager)throw new g("PushManager isn't supported");let t=await e.pushManager.getSubscription();return await t.unsubscribe(),JSON.stringify(t)}async function k(){try{const e=await y();let t=await w();if(t&&!e)return void await _();if(!e)return;return t||(t=await j()),t}catch(e){h(e)}}},j2AC:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"f",(function(){return l})),a.d(t,"e",(function(){return o})),a.d(t,"g",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return p}));var n=a("y3H7"),r=a("K6sN");function s(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class c extends n.a{constructor(e){super(),s(this,"name","ApiError"),s(this,"errors",{}),s(this,"status",500),Object.assign(this,e)}static is(e){return!!e&&(this.name===e.name||this.type===e.type||e instanceof this)}get type(){return this.name}}class i extends n.a{constructor(){super(...arguments),s(this,"name","NetworkError")}}class l extends c{constructor(){super(...arguments),s(this,"name","RequestError")}}class o extends c{constructor(e){super({status:404,message:"NotFound error",...e}),s(this,"name","NotFoundError")}}class u extends c{constructor(e){super({status:400,message:"Validation error",errors:Object(r.h)(e.json),...e}),s(this,"name","ValidationError")}}class d extends c{constructor(e){super({status:401,message:"Authorization error",...e}),s(this,"name","AuthorizationError");const t=e.json;null!=t&&t.permission&&(this.permission=t.permission,this.code=t.code,this.plan=t.plan,this.target=t.target)}isFeatureAccessError(){return!!this.permission}}class m extends c{constructor(e){let{status:t,message:a,json:{error:n}}=e;super({status:t||403,message:(null==n?void 0:n.message)||a||"Forbidden",permission:null==n?void 0:n.permission,code:null==n?void 0:n.code,...null==n?void 0:n.details}),s(this,"name","ForbiddenError")}static isPermissionBlock(e){return this.is(e)&&!!e.permission}}class p extends c{constructor(e){super({status:429,message:e.json.error||"Too Many Requests",within:e.json.within,...e}),s(this,"name","LimitRequestsError")}}},j68g:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return m}));var n=a("quq1"),r=a("Zsls");const s=()=>Object.values(r.a),c=e=>e.id,i=e=>e.paddle||e.liqpay,l=e=>!e.paddle&&!e.liqpay,o=e=>e.deprecated,u=e=>e.published,d=Object(n.default)(()=>{const e=s(),t=e.filter(i).map(c),a=["unlimited",...e.filter(l).map(c)],n=e.filter(o).map(c),r=e.filter(u).map(c);return{BASIC:"basic",UNLIMITED:"unlimited",UNPAID:a,PAID:t,UPGRADEABLE:["basic",...r],DEPRECATED:n,ACTUAL:r}}),m=e=>e&&s().find(t=>t.id===e)},jMR3:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("r0ML"),r=a.n(n);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function c(e){return r.a.createElement("a",s({target:"_blank",rel:"noopener noreferrer"},e))}},kGuf:function(e,t,a){"use strict";var n=a("r0ML");function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var s=n.createElement("path",{d:"M6.08 3.625v12.688c0 .75.629 1.359 1.404 1.359.775 0 1.403-.609 1.403-1.36V3.626c0-.75-.628-1.36-1.403-1.36s-1.403.61-1.403 1.36zm11.226 1.813v12.687c0 .75.629 1.36 1.404 1.36.775 0 1.403-.61 1.403-1.36V5.437c0-.75-.628-1.359-1.403-1.359s-1.404.609-1.404 1.36zm-5.612-3.625V14.5c0 .75.628 1.36 1.403 1.36s1.403-.61 1.403-1.36V1.812c0-.75-.628-1.359-1.403-1.359s-1.403.609-1.403 1.36zM26.52 19.619l-11.845 5.525c-3.956 1.845-8.708.234-10.614-3.599a7.504 7.504 0 01-.787-3.342V8.156c0-.75-.628-1.36-1.403-1.36s-1.403.61-1.403 1.36v10.047c0 1.566.364 3.111 1.065 4.521 2.577 5.187 9.007 7.366 14.36 4.87l11.845-5.525c.698-.326.992-1.139.655-1.815-.336-.676-1.174-.96-1.873-.635z",fillRule:"evenodd"});t.a=function(e){return n.createElement("svg",r({viewBox:"-10 -10 49 49"},e),s)}},kVuv:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("r0ML"),r=a.n(n),s=a("cpKZ"),c="_3YA81Jdb",i="_2bi22KEb",l="_25BULrdo";function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const u=e=>{let{nopadding:t,noHeader:a,onBottomScroll:u,...d}=e;const m=Object(n.useCallback)(e=>{let{target:t}=e;u&&t.scrollHeight-t.scrollTop<t.clientHeight+1&&u()},[u]);return r.a.createElement("div",o({onScroll:m},Object(s.a)([c,t&&i,a&&l],d)))}},kciy:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("r0ML"),r=a.n(n),s=a("kkZN"),c=a("hycj"),i=a("yW3b");function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function o(e){let{as:t=i.a,isInitialHidden:a=!1,onClick:s,...o}=e;const{submitForm:u,dirty:d,isSubmitting:m}=Object(c.d)(),p=!d&&a,g=Object(n.useCallback)(e=>{e.preventDefault(),u()});return p?null:r.a.createElement(t,l({isFetching:m,disabled:!d,onClick:s||g},o))}function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function d(e){let{children:t,isNew:a,...n}=e;const{t:c}=Object(s.useTranslation)("ui");return r.a.createElement(o,u({size:"small",noborder:!0,btnStyle:"primary",isInitialHidden:!0},n),t||c(a?"labels.add":"labels.save"))}},"ke/A":function(e,t,a){"use strict";var n=a("r0ML"),r=a.n(n),s=a("Pc05"),c=a.n(s),i={root:"_3OeczVzx",toggle:"_1Kjnejio",wrap:"XKD4Z1Pu",toggler:"_1_yClYAk",input:"_14R5w4Hn",builderInput:"_250ODmC7",label:"_3xK0PfpQ",checkMarkSquare:"iXMUFzqn",checkMark:"-qcRZlFE",checked:"Khl_0X4S",check:"_1m8NEHsv",disabled:"_1D49yJ8z"};function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const o=e=>{let{customStyle:t,checked:a}=e;const n=(null==t?void 0:t.backgroundColor)||"#FFFFFF",s=(null==t?void 0:t.color)||(a?"#007aff":"#c7c7cc"),c=a?(null==t?void 0:t.color)||"#007aff":"transparent";return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},r.a.createElement("rect",{className:i.checkMarkSquare,x:"0.75",y:"0.75",width:"16.5",height:"16.5",rx:"6",ry:"6",strokeWidth:"1.5px",fill:c,stroke:s}),r.a.createElement("path",{className:i.checkMark,d:"M5.35,8.89a.48.48,0,0,0-.71,0,.57.57,0,0,0,0,.76l2.5,2.69a.48.48,0,0,0,.71,0l5.5-5.92a.57.57,0,0,0,0-.76.48.48,0,0,0-.71,0L7.5,11.2Z",fill:n,stroke:n}))},u=e=>{let{className:t,hasError:a,placeholder:n,styled:s,disabled:u,builderInput:d,style:m,checked:p,...g}=e;return r.a.createElement("label",{className:c()(t,i.root,i[s],a&&i.error,u&&i.disabled,d&&i.builderInput,p&&i.checked)},r.a.createElement("div",{className:i.wrap},r.a.createElement("input",l({className:i.input,type:"checkbox",disabled:u,checked:p},g)),"toggle"===s?r.a.createElement("div",{className:i.toggler}):r.a.createElement(o,{customStyle:m,checked:p})),n&&r.a.createElement("div",{className:i.label},n))};u.defaultProps={hasError:!1,disabled:!1,styled:"default",builderInput:!1,checked:!1};t.a=u},kpO9:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/insta_share.png"},l2lW:function(e,t,a){"use strict";t.a={root:"_2J6H9Uai",rootLegacy:"HPbLG_dr",overlay:"_2U9gQNmk",sheet:"_3wOHCpsL",sheetLegacy:"_2ZuknIT0",fullWidth:"wm_Yk6OG",sheetPane:"_2aZksoJt",fullHeight:"_3JFIbH1s",hasHeader:"_39CX46wL",inverse:"_3J48lz6E",sheetyPane:"_3hSuDO2G",header:"_2THAEngG",padded:"_28jl8F8d",content:"_1MqPnkuD"}},l9gc:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));a("v2fZ");var n=a("Pc05"),r=a.n(n),s=a("r0ML"),c=a.n(s),i=a("lkLo"),l=a("oZLZ"),o=a("r1xb"),u=a("l2lW");function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const m={root:{visible:{pointerEvents:"auto"},hidden:{pointerEvents:"none"}},overlay:{visible:{backgroundColor:"rgba(0,0,0,.5)"},hidden:{backgroundColor:"rgba(0,0,0,0)"}},sheet:{visible:{y:0},hidden:{y:"calc(100% + 20px)"}}},p={overlay:{ease:"easeInOut"},sheet:{type:"spring",damping:40,stiffness:400},sheetPane:{type:"spring",damping:40,stiffness:400}};function g(e){let{children:t,isClosing:a,onClose:n,onExit:h,fullWidth:b=!0,fullHeight:f,inverse:v,paneMotionProps:E,sheetPaneProps:y,...O}=e;const j=Object(i.g)(),w=Object(s.useCallback)(()=>g.applyClose(n,j),[n,j]);return c.a.createElement(l.b.div,d({className:r()(u.a.root,{[u.a.rootLegacy]:!0}),variants:m.root,initial:"hidden",animate:a?"hidden":"visible",enter:"visible",exit:"hidden"},O),c.a.createElement(l.b.div,{className:u.a.overlay,variants:m.overlay,transition:p.overlay,initial:"hidden",animate:a?"hidden":"visible",exit:"hidden",enter:"visible",onClick:w,onAnimationComplete:a?h:void 0}),c.a.createElement(l.b.div,{className:r()({[u.a.sheet]:!0,[u.a.fullWidth]:!1,[u.a.fullHeight]:f,[u.a.sheetLegacy]:!0}),variants:m.sheet,transition:p.sheet,initial:"hidden",animate:a?"hidden":"visible",exit:"hidden",enter:"visible"},c.a.createElement(l.b.div,d({className:r()(u.a.sheetPane,v&&u.a.inverse),dragMomentum:!1,transition:p.sheetPane},E,y),Object(o.a)(t,w))))}g.applyClose=(e,t)=>{"function"==typeof e?e():e&&t.push(e)}},lblK:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("r0ML"),r=a.n(n),s=a("6Gxm"),c=a.n(s),i=a("Pc05"),l=a.n(i),o="aoRd5sZu";const u=["#e67e22","#2ecc71","#3498db","#8e44ad","#e74c3c","#1abc9c","#2c3e50"];function d(e){let{className:t,name:a,src:n,size:s,fontSize:i}=e;i||(i=Math.round(.3888*s));const d=a.split(" ").slice(0,2).join(" ");return r.a.createElement(c.a,{className:l()(o,t),style:{fontSize:i},size:s,name:d,src:n,title:a,colors:u})}d.defaultProps={size:36}},lhwe:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/onboarding/categories.svg"},lsIJ:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/viber2.svg"},nq71:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("r0ML"),r=a("LkJY"),s=a("hycj"),c=a("DC3q"),i=a("vMq5");function l(e){let{onChange:t,onSubmit:a,errorsPrefix:l,resetOnSuccess:o=!1,...u}=e;const d=Object(i.a)(a),m=Object(s.c)({onSubmit:function(){return d.run(...arguments)},...u}),p=l?Object(c.a)(d.validationErrors,l):d.validationErrors;return Object(n.useEffect)(()=>{d.fulfilled&&(m.setSubmitting(!1),m.setStatus("success"),o&&m.resetForm())},[d.fulfilled]),Object(n.useEffect)(()=>{d.rejected&&(m.setSubmitting(!1),m.setStatus("failure"))},[d.rejected]),Object(n.useEffect)(()=>m.setErrors(p||{}),[p]),Object(r.a)(()=>{null==t||t(m.values,m)},[m.values]),{submit:d,errorsPrefix:l,...m}}},o5DE:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/insta.svg"},o9yr:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/hand.png"},oaOZ:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));class n{constructor(){this.type="backend",this.resolvers={}}init(e,t,a){this.services=e,this.backendOptions=t,this.i18nextOptions=a}registerResolver(e,t){this.resolvers[e]=t}async read(e,t,a){try{const n=this.resolvers[t];if(!n)return a(new Error(`Localization resolver for namespace "${t}" not registered`),null);const r=await n(e);a(null,r.default||r)}catch(e){a(e,null)}}create(e,t,a,n){console.log(`languages=${e}, namespace=${t}, key=${a}, fallbackValue=${n}`)}}},okl4:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return l}));var n=a("wTxz"),r=a("5WIS"),s=a("y3Ab");const c=e=>Object.fromEntries(Object.entries(e).filter(e=>{let[,t]=e;return null!=t?t:""!==t})),i=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return e=>Object(n.a)(e,...t)},l=e=>i({_id:e}),o=e=>t=>e===t,u=e=>{const t=String(e).toLowerCase();return e=>String(e).toLowerCase().includes(t)},d=(e,t)=>a=>a[t]===e,m=(e,t)=>{const a=u(e);return e=>a(e[t]||"")},p={0:d,1:m},g=(e,t)=>{const a=Object.entries(e);return e=>!!(a.every(t=>{let[a,n]=t;return!n||e[a]===n})^!!t)};t.a={match:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=(e,a)=>{let[n,r]=a;const s=t[n];if(-1===s)return e;const c=("function"==typeof s?s:p[s]||d)(r,n);return e.every(c)?e:e.filter(c)};return t=>Object.entries(t).reduce(a,e)},isMatch:i,isMatchId:l,isExact:o,isSubstring:u,byEquality:d,bySubstring:m,byProps:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return a=>{const n=t(a);return t=>e.some(e=>n(t[e]))}},filterWithSpecifier:g,filterWithExclusion:(e,t)=>{if(!t)return e;const a=t.filter,n=t.exclude,c=!!a,i=!Object(r.a)(n),l=c||i?Object(s.a)(t,["filter","exclude"]):t;return c&&(e=e.filter(a)),i&&(e=e.filter(g(n,!0))),Object(r.a)(l)||(e=e.filter(g(l))),e}}},oxvr:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a("r0ML"),r=a.n(n),s=a("+Q0i"),c=a("r1xb"),i=a("l9gc"),l=a("eGoJ"),o=a("dXwK"),u=a("SVdZ");function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const m=e=>{let{title:t,render:a,portalTo:m,padding:p,onClosing:g,onClose:h,closeIcon:b,rightButton:f,children:v,className:E,...y}=e;const{isClosing:O,onClose:j,onExit:w}=(e=>{let{onClosing:t,onClose:a}=e;const[r,s]=Object(n.useState)(!1),[c,i]=Object(n.useState)(!1),l=Object(u.a)(),o=Object(n.useCallback)((async function(){if(!c&&l()){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];if(t){i(!0);try{if(!1===await t(...a))return}finally{l()&&i(!1)}}s(a)}}),[c,t]),d=Object(n.useCallback)(()=>{l()&&s(!1),a&&a(...r||[])},[r,a]);return{isClosing:!!r&&!c,onClose:o,onExit:d}})({onClosing:g,onClose:h}),_=Object(n.useCallback)(()=>{j(!0)},[j]),k=Object(n.useCallback)(()=>{j(!1)},[j]);return Object(s.createPortal)(r.a.createElement(i.a,d({isClosing:O,onClose:j,onExit:w},y),r.a.createElement(l.a,{className:E,padding:p,header:(t||b)&&r.a.createElement(o.a,{title:t,closePath:j,closeIcon:b,rightButton:Object(c.a)(f,j)})},Object(c.a)(a||v,{handleClose:j,handleTrue:_,handleFalse:k}))),document.querySelector(m))};m.defaultProps={padding:!0,portalTo:"#mainRoot"}},p4j6:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("r0ML");function r(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[t,a]=Object(n.useState)(e),r=Object(n.useCallback)(e=>{var t;"boolean"==typeof e?a(e):(null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),a(e=>!e))},[]),s=Object(n.useCallback)(e=>{var t;null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),a(!0)},[]),c=Object(n.useCallback)(e=>{var t;null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),a(!1)},[]),i={onClose:c,isOpen:t};return{isOpen:t,toggle:r,show:s,hide:c,props:i}}},"pmn+":function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/onboarding/analytics_integrations.svg"},pnxo:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return c}));var n=a("8EKQ"),r=a.n(n);const s=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.locales=e}extend(e){this.locales=Object.assign({},this.locales,e)}t(e,t){return this.locales[e]?r()(this.locales[e],t):e}},c=s.t.bind(s)},qEs3:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/mc_logo.png"},qFRm:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/onboarding/messengers.svg"},qNnD:function(e,t,a){"use strict";a("lFMf"),a("gOHk"),a("c9hT");t.a=e=>{try{return e&&new URL(e)}catch(e){return null}}},r1xb:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=(e,t)=>e&&"function"==typeof e?e(t):e||null},rIrL:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/messengers/icon-facebook.svg"},"rd+V":function(e,t,a){"use strict";var n=a("r0ML");function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var s=n.createElement("path",{d:"M6.01 5l3.78-3.78A.714.714 0 108.78.21L5 3.99 1.22.21A.714.714 0 00.21 1.22L3.99 5 .21 8.78a.714.714 0 001.01 1.01L5 6.01l3.78 3.78a.714.714 0 101.01-1.01L6.01 5z",fill:"currentColor",fillRule:"evenodd"});t.a=function(e){return n.createElement("svg",r({viewBox:"0 0 10 10"},e),s)}},rdQp:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/messengers/icon-whatsapp.svg"},sJC1:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/messengers/icon-telegram.svg"},sav8:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/telegram.png"},"t27/":function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/icon_share_three.png"},tSrR:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/woman.png"},tbzE:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/onboarding/cover.svg"},"td/u":function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/onboarding/googlepay.png"},tdCx:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return d}));var n=a("oGPa"),r=a.n(n),s=a("r0ML"),c=a("jxal"),i=a("vtB/"),l=a("Qg6Y"),o=a("6TEX");const{useWarning:u,useRestriction:d}=function(){const e=new c.EventEmitter;e.setMaxListeners(100);const t=function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return e.emit("show",...a)},a=()=>e.emit("hide");return{useWarning:function(){const[n,r]=Object(s.useState)({isPresented:!1,warning:null});return Object(s.useEffect)(()=>{const t=e=>r({isPresented:!0,warning:e}),a=()=>r(e=>({...e,isPresented:!1}));return e.on("show",t),e.on("hide",a),()=>{e.removeListener("show",t),e.removeListener("hide",a)}},[]),{...n,show:t,hide:a}},useRestriction:function(e,n,c){const u=Object(l.a)(),d=Object(s.useRef)(null),[m,p]=Object(s.useState)(null),g=Object(o.a)((e,t,a,n)=>{t?p(Object(i.a)({workspace:e,...n},t,a)):m&&p(null)}),h=Object(o.a)(e=>t(e||m)),b=Object(o.a)(()=>p(null)),f=Object(o.a)(e=>{null!=e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation()),t(m)});return!(d.current&&u===d.current[0]&&e===d.current[1]&&r()(n,d.current[2])&&r()(c,d.current[3]))&&(d.current=[u,e,n,c]),Object(s.useEffect)(()=>g(...d.current),d.current),{warning:m,hasWarning:!!m,showWarning:h,clearWarning:b,hideWarning:a,handleBlockedEvent:m?f:void 0}}}}()},tdNs:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("r0ML"),r=a.n(n),s=a("cpKZ"),c=a("ztfp"),i="_1qCNo7At",l="_1lrfYPcp";function o(e){let{as:t,children:a,disabled:n,...o}=e;return r.a.createElement(t,Object(s.a)([i,n&&l],Object(c.b)(t,o)),a)}o.defaultProps={as:"button"}},trqa:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/onboarding/support.svg"},udwx:function(e,t,a){"use strict";var n=a("r0ML");function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var s=n.createElement("path",{fill:"currentColor",d:"M5.6 7L.3 12.3c-.4.4-.4 1 0 1.4.4.4 1 .4 1.4 0l6-6c.4-.4.4-1 0-1.4l-6-6C1.3-.1.7-.1.3.3s-.4 1 0 1.4L5.6 7z"});t.a=function(e){return n.createElement("svg",r({width:8,height:14},e),s)}},uzfa:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/icon_we_use_mssgme_ru.svg"},v4jp:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/robot.png"},vFhw:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("r0ML"),r=a.n(n),s=a("Pc05"),c=a.n(s),i=a("rd+O"),l={container:"j05O8Kqk",root:"_1T-3Pm-I",counter:"_3JWkk3hT",error:"_1v3R6Nod","padding-right":"KVOrN3Dt",paddingRight:"KVOrN3Dt",builderInput:"_1lP6I7Pv",normal:"iJibajlA"};function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function u(e){var t;let{className:a,hasError:n,maxLength:s,value:u,size:d,builderInput:m=!1,minRows:p=2,maxRows:g=5,...h}=e;const b=c()(l.root,a,{[l.error]:n,[l.paddingRight]:s,[l[d]]:!!d,[l.builderInput]:m}),f=u||"";return r.a.createElement("div",{className:l.container,style:{color:null===(t=h.style)||void 0===t?void 0:t.color}},r.a.createElement(i.a,o({value:f,className:b,maxLength:s,minRows:p,maxRows:g},h)),s&&r.a.createElement("span",{className:l.counter},s-f.trim().length))}},vGY9:function(e,t,a){"use strict";function n(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class r{constructor(e,t,a){this.uid=e,this.history=t,this.process=a}check(e,t){if(!this.forbid||this.forbid(e,t,this.history.location))return!1}when(e){return this.forbid=e,this}}t.a=new class{constructor(){n(this,"off",null),this.observers={}}subscribe(e,t,a){return this.off||(this.off=e.block((e,t)=>{for(const[a,n]of Object.entries(this.observers))if(!1===n.check(e,t))return a})),this.observers[t]=new r(t,e,a)}unsubscribe(e){this.observers[e]&&(delete this.observers[e],Object.keys(this.observers).length||(this.off(),this.off=null))}notify(e,t){const a=this.observers[e];return a&&a.process(t),!!a}}},vMq5:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a("r0ML"),r=a("SVdZ"),s=a("DC3q"),c=a("j2AC"),i=a("tdCx");let l=0;const o={status:"idle",error:null,result:null},u={...o,requestId:-1,requestCount:0};function d(e,t){let{type:a,requestId:n,...r}=t;if(e.requestId>n)return e;switch(a){case"pending":return{...e,...o,requestId:n,status:"pending",requestCount:e.requestCount+1};case"fulfilled":return{...e,...o,requestId:n,status:"fulfilled",result:r.result};case"rejected":return{...e,...o,requestId:n,status:"rejected",error:r.error};default:throw new Error}}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const a=Object(n.useRef)(e),o=Object(r.a)(),[m,p]=Object(n.useReducer)(d,u),{show:g}=Object(i.b)();a.current=e;const h=Object(n.useCallback)((async function(){function e(){o()&&p(...arguments)}const t=l++;e({type:"pending",requestId:t});try{e({type:"fulfilled",requestId:t,result:await a.current(...arguments)})}catch(a){e({type:"rejected",requestId:t,error:a}),c.b.isPermissionBlock(a)&&g(a)}}),t);return Object(n.useMemo)(()=>{const e=c.g.is(m.error)?m.error.errors:{};return{...m,validationErrors:e,getValidationError:t=>Object(s.a)(e,t),run:h,idle:"idle"===m.status,rejected:"rejected"===m.status,fulfilled:"fulfilled"===m.status,pending:"pending"===m.status}},[m,h])}},"vtB/":function(e,t,a){"use strict";a.d(t,"a",(function(){return S}));var n=a("Nxtt"),r=a("Pfhs");class s extends Error{constructor(e,t,a,n,r){super(e),this.status=403,this.code=t,this.plan=a,this.permission=n,this.target=r}}class c{constructor(e,t){this.context=t,this.permissions=e,this.billing=this.workspace.billing||{},this.plan=this.billing.plan,this.assumePaid=Object(r.b)(this.billing,t.allowPastDue),this.subject=null,this.permission=null}get workspace(){return this.context.workspace||this.context}setPermission(e){return this.permission=e,this}setSubject(e){return this.subject=e,this}build(){const{context:e,plan:t,permission:a,subject:n}=this,r=this.assumePaid||this.permissions.isGranted(e,a,n,"basic"),c=this.permissions.isGranted(e,a,n),i=c?t:this.permissions.lookupUpgrade(e,a,n);if(c&&r)return null;return c&&!r?new s("Pay for "+t,"unpaid",t,a):i?new s("Upgrade to "+i,"upgrade",t,a,i):new s("Access forbidden","forbidden",t,a)}}var i=a("j68g"),l=a("RTFG"),o=a("DC3q"),u=a("c3l6");const d="*",m=["create","view","edit","delete"],p=new Set(["create","view","edit","delete",d,"?"]),g=Object(l.a)(e=>{const[t,a=d]=e.split(":"),n=new Set;if(a)for(const e of a.split(","))if(e===d)for(const e of m)n.add(e);else{if(!p.has(e))throw new Error(`Unknown action "${e}"`);n.add(e)}else for(const e of m)n.add(e);return{resource:t,actions:[...n]}});class h{constructor(e,t,a,n,r){var s;this.context=e,this.workspace=e.workspace||e,this.subject=t,this.role=a||(null===(s=this.workspace)||void 0===s||null===(s=s.billing)||void 0===s?void 0:s.plan),r?(this.resource=n,this.actions=r):this.fill(n)}get description(){return`[@${this.role} ${this.resource}${this.isEvery()?"":":"+this.actions.join(",")}]${this.subject?" @ "+JSON.stringify(this.subject):""}`}isBy(e){var t;return Object(u.a)(null===(t=this.workspace)||void 0===t?void 0:t.owner)===Object(u.a)(e)}get(e,t){return Object(o.a)(this.context,e,t)}fill(e){return Object.assign(this,g(e))}match(e){const{resource:t,actions:a}=g(e);return this.on(t)&&this.isEvery(a)}only(e){return new h(this.workspace,this.subject,this.role,this.resource,e)}on(e){return this.resource===e}includes(e){return this.actions.includes(e)}is(e){return 1===this.actions.length&&this.actions[0]===e}isAny(){return this.actions.includes("?")}isEvery(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:m).every(e=>this.actions.includes(e))}}a("v2fZ");var b=a("zl5+");class f{supports(e){return!1}supportsVersion(e,t){return Object(b.a)(e.workspace.projectVersion,t)}vote(e){}}class v extends f{static getLimitByRole(e){switch(e){case"basic":case"start400":case"pro400":return 1;case"business400":return 10;default:return 3}}supports(e){return"websites"===e.resource}vote(e){return!(e.includes("create")&&!this.canCreate(e))&&!("basic"===e.role&&e.includes("edit")&&!this.canEditBasic(e))}canCreate(e){return(e.workspace.quantities.websites||0)<v.getLimitByRole(e.role)}canEditBasic(e){e.subject;return!0}}class E extends f{static getLimitByRole(e){switch(e){case"basic":return 1;case"business400":return 50;case"start400":case"pro400":default:return 10}}supports(e){return"pages"===e.resource}vote(e){if(e.includes("create")&&!this.canCreate(e))return!1}canCreate(e){return e.get("website.counters.pages",0)<E.getLimitByRole(e.role)}}class y extends f{constructor(e){super(),this.acl=e}supports(e){return"page-blocks"===e.resource}vote(e){if((e.includes("create")||e.includes("edit"))&&!this.canEdit(e))return!1}canEdit(e){if(!e.subject)return!0;const t=e.subject.kind;return this.acl.grantsInArrayPayload(e,a=>"string"==typeof a?a===t:a.kind===t&&this.supportsVersion(e,a.version))}}const O=m.length,j={create:!0,view:!0,edit:!0,delete:!0};class w{constructor(e,t){this.name=e,this.access=t||{...j},this._any=null}merge(e){return Object.assign(this.access,e.access),this._any=null,this}get grantsAny(){if(null===this._any){let e=0;for(const t of Object.values(this.access))if(e++,t)return this._any=!0,!0;this._any=e!==O&&void 0}return this._any}isGranted(e){return"?"===e?this.grantsAny:this.access[e]}}class _{constructor(e,t){this.name=e,this.parent=t,this.resources=[]}getResourceIds(){return this.resources.map(e=>e.name)}addResource(e){const t=this.getResource(e.name);return t?t.merge(e):(this.resources.push(e),e)}getResource(e){return this.resources.find(t=>t.name===e)}isGranted(e){var t;let a,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=this.getResource(e.resource);if(r){let t;if(e.isAny()){if(t=r.isGranted("?"),void 0!==t)return t}else{a=new Set(e.actions);for(const t of e.actions){const e=r.isGranted(t);if(!1===e)return!1;!0===e&&a.delete(t)}if(!a.size)return!0;e=e.only([...a])}}return!n&&(null===(t=this.parent)||void 0===t?void 0:t.isGranted(e))||!1}}class k{constructor(){this.roles=[]}getRoleIds(){return this.roles.map(e=>e.name)}getRuleIds(){return[...new Set([].concat(...this.roles.map(e=>e.getResourceIds())))]}addRole(e){if(this.getRole(e.name))throw new Error(`Multiple definitions of "${e.name}" role`);return this.roles.push(e),e}getRole(e){return this.roles.find(t=>t.name===e)}isGranted(e){const t=this.getRole(e.role);return!!t&&t.isGranted(e)}}const N=(e,t)=>{if("object"==typeof e){const{rule:a,...n}=e,r=N(a,t);return r.payload=n,r}const{resource:a,actions:n}=g(e);return new w(a,n.reduce((e,a)=>(e[a]=t,e),{}))},C=new class extends f{constructor(e){super(),this.loader=e}get acl(){return this._acl||(this._acl=this.loader()),this._acl}supports(e){return!0}vote(e){return this.acl.isGranted(e)}grantsInArrayPayload(e,t){const a="function"==typeof t?t:e=>e===t;let n=this.acl.getRole(e.role);for(;n;){const t=n.getResource(e.resource);if(t)if(t.payload){const{grant:e,reject:n}=t.payload;if(e&&("*"===e||e.some(a)))return!0;if(n&&("*"===n||n.some(a)))return!1}else if(n.isGranted(e,!0))return!0;n=n.parent}return!1}}(()=>(e=>{const t=new k;for(const{id:a,rules:n}of e){const{extend:e,grant:r,reject:s}=n,c=e&&t.getRole(e),i=t.addRole(new _(a,c));for(const[e,t]of[[r,!0],[s,!1]])if(e)for(const a of e)i.addResource(N(a,t))}return t})(Object(i.c)())),P=new class extends class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.voters=e}addVoter(e){this.voters.push(e)}vote(e){for(const t of this.voters){if(!t.supports(e))continue;const a=t.vote(e);if(void 0!==a)return a}return!0}}{constructor(e,t){super([...t,e]),this.aclVoter=e}get acl(){return this.aclVoter.acl}isGranted(e,t,a,n){return this.vote(new h(e,a,n,t))}lookupUpgrade(e,t,a){var n;const{UPGRADEABLE:r}=Object(i.b)(),s=this.acl.getRoleIds(),c=null===(n=(e.workspace||e).billing)||void 0===n?void 0:n.plan;let l,o=!0,u=s.indexOf(c);for(;l=s[u++];){if(!o&&!r.includes(l))continue;if(this.vote(new h(e,a,l,t)))return l;o=!1}}}(C,[new class extends f{supports(e){return"unlimited"===e.role&&"page-templates"!==e.resource}vote(){return!0}},new class extends f{constructor(e){super(),this.constraints=e}supports(e){return!!this.constraints[e.resource]}vote(e){if(!this.supportsVersion(e,this.constraints[e.resource]))return!1}}({"ru-integrations":"<5.14"}),new class extends f{supports(e){return"collections"===e.resource}vote(e){if("basic"===e.role){if(e.includes("create"))return!1;if(e.includes("edit"))return!1}return!(e.includes("edit")&&!this.canEdit(e))&&!(e.includes("delete")&&!this.canDelete(e))}canEdit(e){return e.subject&&!e.subject.default}canDelete(e){return!e.subject.default}},new class extends f{supports(e){return"basic"===e.role&&"messengers"===e.resource&&this.supportsVersion(e,">=2.11")}vote(e){return!(e.includes("create")&&!this.canEdit(e))&&!(e.includes("edit")&&!this.canEdit(e))}canEdit(e){let{workspace:t,subject:a}=e;if(!a)return!0;const n=t.card.messengers.find(e=>e.enabled);return!(n&&n.messenger!==a.messenger)}},new class extends f{supports(e){return"basic"===e.role&&"products"===e.resource}vote(e){return!(e.includes("create")&&!this.canCreate(e))&&!(e.includes("edit")&&!this.canEdit(e))}canCreate(e){return this.canEdit(e)}canEdit(e){let{subject:t,workspace:a}=e;return!(null==t||!t.slug)||a.card.products.count<10}},new v,new E,new class extends E{supports(e){return"page-publish"===e.resource}vote(e){const t=E.getLimitByRole(e.role),a=e.get("website.pages",[]),n=e.subject;let r=t;for(const e of a){if(n&&Object(u.a)(n)===Object(u.a)(e))return!0;if(e.enabled&&r--,r<=0)return!1}}},new class extends f{supports(e){return"page-templates"===e.resource}vote(e){return!(e.includes("create")&&!this.canCreate(e))&&(!(e.includes("edit")&&!this.canEdit(e))&&(!(e.includes("delete")&&!this.canDelete(e))&&!(e.includes("view")&&!this.canView(e))))}canCreate(e){const t=e.workspace.quantities.templates||0;switch(e.role){case"unlimited":return t<20;default:return!1}}canDelete(e){return this.canEdit(e)}canEdit(e){var t;return null===(t=e.subject)||void 0===t||!t._id||e.isBy(e.subject.author)}canView(e){var t;return!(null!==(t=e.subject)&&void 0!==t&&t._id&&!e.subject.public)||e.isBy(e.subject.author)}},new class extends f{constructor(e){super(),this.acl=e}supports(e){return"page-themes"===e.resource}vote(e){if(e.includes("edit")&&!this.canEdit(e))return!1}canEdit(e){return!e.subject||this.acl.grantsInArrayPayload(e,e.subject.colorId)}}(C),new class extends f{constructor(e){super(),this.acl=e}supports(e){return"page-styling"===e.resource}vote(e){if(e.includes("edit")&&!this.canEdit(e))return!1}canEdit(e){return!e.subject||this.acl.grantsInArrayPayload(e,e.subject.type)}}(C),new y(C),new class extends y{supports(e){return"page-blocks-publish"===e.resource}}(C),new class extends f{supports(e){return"basic"===e.role&&"subscription-form-field"===e.resource}vote(e){if(e.includes("create")&&!this.canCreate(e))return!1}canCreate(e){var t;let{subject:a}=e;return!(null!=a&&null!==(t=a.items)&&void 0!==t&&t.some(e=>{let{type:t}=e;return"email"!==t}))}}]),S=(e,t,a,r)=>{Object(n.a)(!Array.isArray(t),`Permission should not be an array, got "${t}"`);let s=a;"function"==typeof s&&(r=s,s=null);const i=new c(P,e).setPermission(t);let l=null;if(s&&Array.isArray(s)){for(const e of s){const t=i.setSubject(e).build();if(r){if(!1!==r(t,e)){l=t;break}}else if(t)return t}r&&r(l)}else l=i.setSubject(s).build(),r&&r(l,s);return l}},w2nZ:function(e,t,a){"use strict";var n=a("r0ML"),r=a.n(n),s=a("QD+E"),c=a("yW3b");function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.a=e=>r.a.createElement(c.a,i({tag:s.c},e))},w5oC:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return s}));const n="accessToken",r="client_uuid",s={auth:"/auth",billing:"/workspaces/:workspaceId/billing",subscription:"/workspaces/:workspaceId/billing/subscription",bot:"/bot",bots:"/workspaces/:workspaceId/bots",card:"/workspaces/:workspaceId/card",collections:"/workspaces/:workspaceId/collections",contacts:"/workspaces/:workspaceId/contacts",conversations:"/workspaces/:workspaceId/conversations",integrations:"/workspaces/:workspaceId/integrations",messages:"/workspaces/:workspaceId/conversations/:contactId/messages",onboarding:"/workspaces/:workspaceId/onboarding",products:"/workspaces/:workspaceId/products",crm:"/workspaces/:workspaceId/crm",endpoints:"/workspaces/:workspaceId/endpoints",services:"/workspaces/:workspaceId/services",replies:"/workspaces/:workspaceId/replies",websites:"/workspaces/:workspaceId/websites",website:"/workspaces/:workspaceId/websites/:websiteId",pages:"/workspaces/:workspaceId/websites/:websiteId/pages",feedbacks:"/workspaces/:workspaceId/websites/:websiteId/feedback",blocks:"/workspaces/:workspaceId/websites/:websiteId/pages/:pageId/blocks",orders:"/workspaces/:workspaceId/orders",tags:"/workspaces/:workspaceId/tags",templates:"/workspaces/:workspaceId/templates",team:"/workspaces/:workspaceId/team",users:"/users",invites:"/workspaces/:workspaceId/invites",workspaces:"/workspaces"}},wYyU:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=2e3},wxgb:function(e,t,a){"use strict";var n=a("r0ML");function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var s=n.createElement("path",{d:"M2.138 6.357a.65.65 0 00-.943 0 .711.711 0 000 .979l3.334 3.461c.26.27.682.27.942 0l7.334-7.615a.711.711 0 000-.98.65.65 0 00-.943 0L5 9.33 2.138 6.357z",stroke:"currentColor",fill:"currentColor"});t.a=function(e){return n.createElement("svg",r({width:14,height:14},e),s)}},xUbJ:function(e,t,a){"use strict";var n,r=a("1jyU");t.a=Object(r.a)(null===(n=window.navigator)||void 0===n?void 0:n.userAgent)},xhNR:function(e,t,a){var n={"./en/bot.json":["/PTq",0],"./en/card.json":["yl3x",0],"./en/redirect.json":["BsNW",0],"./ru/bot.json":["Sn5o",1],"./ru/card.json":["SYKl",1],"./ru/redirect.json":["unWC",1],"./uk/bot.json":["dnOR",2],"./uk/card.json":["LjwJ",2],"./uk/redirect.json":["xRa8",2]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a.t(r,3)}))}r.keys=function(){return Object.keys(n)},r.id="xhNR",e.exports=r},xk1Y:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/messengers/icon-skype.svg"},"y/NB":function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/do.png"},y0Q8:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/messengers/icon-vk.svg"},yHpL:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("r0ML"),r=a("g0xT");var s=a("yiSu");function c(){const e=Object(r.c)();return Object(n.useMemo)(()=>function e(t,a){if("object"==typeof t){const n={};for(const[r,s]of Object.entries(t))n[r]=e(s,a);return n}if("function"==typeof t)return function(e,t){return function(){return t(e(...arguments))}}(t,a);throw new Error("Invalid actionCreators type")}(s.a,e),[e])}},yPYI:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return u}));a("v2fZ"),a("86Lb");var n=a("b9Gi"),r=(a("R6Hn"),a("9IQG"),a("okl4"));Object(n.b)();const s=function(e,t){const a=function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];if(t)return{type:e,...t(...n)};const[s,...c]=n;return{type:e,payload:s,meta:c}};return a.type=e,a.toString=()=>e,a};class c{constructor(e,t){t={immutable:!0,...t},this._state=e,this._immutable=t.immutable,this._cases={}}addCase(e,t){if(Array.isArray(e))for(let a of e)this._cases[String(a)]=t;else this._cases[String(e)]=t;return this}hasCase(e){return this._cases.hasOwnProperty(e)}runCase(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return this._cases[e](...a)}createReducer(){var e=this;let t;return t=this._immutable?function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e._state,a=arguments.length>1?arguments[1]:void 0;return Object(n.d)(t)&&e.hasCase(a.type)?e.runCase(a.type,t,a):Object(n.e)(t,t=>{if(e.hasCase(a.type))return e.runCase(a.type,t,a)})}:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e._state,a=arguments.length>1?arguments[1]:void 0;return e.hasCase(a.type)?e.runCase(a.type,t,a):t},t.builder=this,t}}function i(e,t,a){if("function"==typeof t&&2===t.length)return function(e,t){return function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return Object(n.e)(a,e=>t(e,r))}}(e,t);return function(e,t,a){const n=new c(e,a);if("function"==typeof t)t(n);else{if("object"!=typeof t)throw new Error("Invalid handler type");for(const e of Object.keys(t))n.addCase(e,t[e])}return n}(e,t,a).createReducer()}function l(e,t,a){const n=e.findIndex(t);return n>=0&&(e[n]=a),n>=0}function o(e,t){const a=e.findIndex(t);if(a>=0)return e.splice(a,1)[0]}function u(e){let{collection:t,match:a,result:n,prepend:s,onUpdate:c}=e;return(e,i)=>{const u=(null==t?void 0:t(e,i))||e,d=(null==n?void 0:n(i.result))||i.result,m=(null==d?void 0:d._id)||i[a],p=m&&Object(r.b)(m),g=!d,h=d&&p&&u.find(p),b=!(g||h);g?o(u,p):h?l(u,p,d):s?u.unshift(d):u.push(d),null==c||c({state:e,action:i,created:b&&d,updated:h&&d,deleted:g})}}},yW3b:function(e,t,a){"use strict";var n=a("r0ML"),r=a.n(n),s=a("Pc05"),c=a.n(s),i=a("S955"),l={root:"_14Cr09WO",disabled:"_1r7KFOqO",container:"_38ipXAfL",large:"_1DDLmGaP",standart:"_28sW77FH",small:"vJKOE1HZ",inline:"_2q5oeb0I","full-width":"_3-cEvdD1",fullWidth:"_3-cEvdD1",rounded:"_1_3Lg1WK",transparent:"_32haqqur",primary:"_8TaX8Vft",primaryOutline:"_19a_eEqA",primary2:"_36ZK8UKA",secondary:"_2Ixehd9l",secondary2:"_1DYsclgb",warning:"_1cdi78HV",danger:"_3UErwoyN",success:"HMuHD5d5",grey:"_2zVQBGJz",white:"_3ofjL6hh",link:"RjnLE1Zx",solid:"w7G2zjC2",secondaryOutline:"_3hJsbphS",nopadding:"WOcWrBrC",icon:"_5Skc7ISc",noborder:"_17xoryeh",socialBtnOnly:"_1cdRpsQj",socialBtnWithText:"_3AoURXnO",facebook:"_2H0RI3CX",iconFixedLeft:"_2iX8xFTL",iconFixedRight:"_2oJ51Vgu"};const o=e=>{let{className:t,contentClassName:a,tag:n="button",disabled:s,children:o,beforeIcon:u,afterIcon:d,fullWidth:m,outline:p,rounded:g,btnStyle:h,size:b,noborder:f,nopadding:v,socialStyle:E,isFetching:y,loaderColor:O,iconFixed:j,wrapContentStyle:w,..._}=e;const k=y?"transparent":p?h+"Outline":h,N="button"===n,C=e=>e?r.a.createElement("span",{className:l.icon},e):null,P=y||s,S={className:c()(l.root,t,f&&l.noborder,v&&l.nopadding,l[E],l[b],l[k],{[l.fullWidth]:m,[l.rounded]:g,[l.disabled]:!N&&(y||s),[l.iconFixedLeft]:"left"===j,[l.iconFixedRight]:"right"===j}),"data-element":"button",..._};N&&(S.disabled=P);const x=r.a.createElement(r.a.Fragment,null,C(u),r.a.createElement("span",{style:w},o),C(d));return r.a.createElement(n,S,r.a.createElement("span",{style:{opacity:y?0:1},className:c()(l.container,a)},x),y&&r.a.createElement(i.a,{color:O},x))};o.defaultProps={fullWidth:!1,btnStyle:"primary",outline:!1,rounded:!1,size:"standart",disabled:!1,wrapContentStyle:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"}};t.a=o},"yfn/":function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/ae_logo.svg"},yiSu:function(e,t,a){"use strict";var n=a("+rr2");a.d(t,"a",(function(){return n}))},zA3n:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/logo.svg"},zY6s:function(e,t,a){"use strict";a.r(t),t.default=a.p+"img/messengers/icon-viber.svg"},zbc8:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return s}));var n=a("Yr7G");const r={messenger:n.e,viber:n.n,telegram:n.m,vk:n.o,whatsapp:n.p,instagram:n.g,skype:n.j},s={whatsapp:{label:"WhatsApp",color:"#4FCE5D"},telegram:{label:"Telegram",color:"#0088CC"},viber:{label:"Viber",color:"#675CA8"},messenger:{label:"Facebook messenger",color:"#0084FF"},vk:{label:"Vkontakte",color:"#597BA0"},skype:{label:"Skype",color:"#00AFF0"},line:{label:"Line",color:"#00AFF0"},instagram:{label:"Instagram Direct",color:"#E1306C"}}},"zl5+":function(e,t,a){"use strict";var n=a("sosI"),r=a("RTFG");t.a=Object(r.a)((e,t)=>(e=e.includes("-")?e.split("-",2)[0]:e,Object(n.a)(e,t)),(e,t)=>`${e}${t}`)},zn5I:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("XLeO"),r=a("zl5+"),s=a("Pfhs");class c extends class{applicable(e,t){return!0}apply(e){return!1}}{applicable(e,t){return Object(s.a)(e,t)}apply(e){let{card:{links:t,reviews:a,design:n,products:s,profile:c,messengers:i},projectVersion:l="1.0.0"}=e,o=!1;if(Object(r.a)(l,">=2.11")){let e=0;for(const t of i)t.enabled&&(e>0&&(o=!0,t.enabled=!1),e++)}return c.website.enabled&&(c.website.enabled=!1,o=!0),n.branding||(n.branding=!0,o=!0),s.collectionsEnabled&&(s.collectionsEnabled=!1,o=!0),"color"!==n.background.type&&(n.background.type="color",o=!0),o}}const i=new class{get restrictors(){return this._restrictors||(this._restrictors=[new c]),this._restrictors}apply(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=e.billing||{};let r=!1;for(const e of this.restrictors)e.applicable(n,a)&&(r|=e.apply(t));return r}applyTo(e,t){return this.apply(e,e,t)}};var l=a("vtB/");const o=function(e,t){const a=Object(n.a)({products:{results:[]}},e),r={workspace:t,allowPastDue:!0};return i.applyTo({card:a,billing:t.billing,projectVersion:t.projectVersion}),Object(l.a)(r,"seo",e)&&(a.seo.title="",a.seo.description=""),Object.assign(a,{messengers:a.messengers.filter(e=>e.enabled),links:a.links.filter(e=>e.enabled),products:Object.assign({},a.products,{results:a.products.results.filter(e=>e.published)})})}},ztfp:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return o}));var n=a("r0ML"),r=a.n(n),s=a("Pc05"),c=a.n(s);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function l(e){let{as:t,className:a,startIcon:n,endIcon:s,children:l,styles:u,...d}=e;return r.a.createElement(t,i({className:c()(u.button,a)},o(t,d)),n&&r.a.createElement("span",{className:u.startIcon},n),l,s&&r.a.createElement("span",{className:u.endIcon},s))}function o(e,t){const{type:a,disabled:n,...r}=t,s={...r};return"button"===e?(s.type=a||"button",s.disabled=n):(s.role="button",s.tabIndex="0",n&&(s["aria-disabled"]=!0)),s}l.defaultProps={as:"button",styles:{}}}},[[2,3,4,5]]]);
//# sourceMappingURL=userpage.c92ab2178622ddf9b003.js.map