{"version":3,"sources":["webpack:////drone/src/packages/ui/src/components/Notification/NotificationsBag.scss","webpack:////drone/src/packages/ui/src/components/Notification/useNotificationCenter.js","webpack:////drone/src/packages/ui/src/components/Notification/NotificationsBag.js","webpack:////drone/src/packages/ui/src/components/Notification/NotificationsBagLegacy.scss","webpack:////drone/src/packages/ui/src/components/Notification/NotificationsBagLegacy.js","webpack:////drone/src/packages/i18n/src/formatters/date.js","webpack:////drone/src/packages/i18n/src/formatters/index.js","webpack:////drone/src/packages/i18n/src/formatters/currency.js","webpack:////drone/src/packages/i18n/src/formatters/phone.js","webpack:////drone/src/packages/i18n/src/formatters/platform.js","webpack:////drone/src/packages/i18n/src/formatters/plan.js","webpack:////drone/src/packages/i18n/src/formatters/fileSize.js","webpack:////drone/src/packages/store/src/actions/ui.js","webpack:////drone/src/packages/store/src/actions/checkout.js","webpack:////drone/src/packages/store/src/actions/products.js","webpack:////drone/src/packages/store/src/actions/bots.js","webpack:///./img/vk.svg","webpack:///./img/iconWhatsapp.svg","webpack:////drone/src/packages/ui/src/components/FormField/styles.scss","webpack:////drone/src/packages/ui/src/components/FormField/index.js","webpack:///./img/icon_share_one.png","webpack:////drone/src/packages/ui/src/components/Inputs/SelectSimple/styles.scss","webpack:////drone/src/packages/ui/icons/select_arrow.svg","webpack:////drone/src/packages/ui/src/components/Inputs/SelectSimple/index.js","webpack:///./img/logo_bot.svg","webpack:////drone/src/packages/ui/src/components/Spinner/Spinner.scss","webpack:////drone/src/packages/ui/src/components/Spinner/Spinner.js","webpack:////drone/src/packages/ui/src/components/Spinner/index.js","webpack:////drone/src/packages/shared/src/helpers/uaParser.js","webpack:///./img/aboutProPhone.png","webpack:///./img/powered_by_stripe_ol.svg","webpack:////drone/src/packages/i18n/src/hooks/useI18n.js","webpack:////drone/src/packages/ui/icons/drag.svg","webpack:///./img/facebook.png","webpack:///./img sync ^\\.\\/.*$","webpack:////drone/src/packages/lib/src/productsApi.js","webpack:////drone/src/packages/store/src/selectors/userSelectors.js","webpack:////drone/src/packages/shared/src/helpers/formatPhone.js","webpack:////drone/src/packages/ui/src/components/Label/styles.scss","webpack:////drone/src/packages/ui/src/components/Label/index.js","webpack:////drone/src/packages/hooks/src/useEventCallback.js","webpack:///./components/UI/ImagePreview/ImagePreview.scss?ee81","webpack:///./components/UI/ImagePreview/ImagePreview.js","webpack:///./components/UI/Inputs/ImageUploadCover/ImageUploadCover.scss?51e5","webpack:///./components/UI/Inputs/ImageUploadCover/ImageUploadCover.js","webpack:///./components/UI/Inputs/ImageUploadCover/index.js","webpack:///./components/UI/Inputs/ImageUploadAvatar/ImageUploadAvatar.scss?1f38","webpack:///./components/UI/Inputs/ImageUploadAvatar/ImageUploadAvatar.js","webpack:///./components/UI/Inputs/ImageUploadAvatar/index.js","webpack:////drone/src/packages/shared/src/validators/password.js","webpack:////drone/src/packages/shared/src/validators/index.js","webpack:///./components/UI/Inputs/PasswordWithStrength/styles.scss?1209","webpack:///./components/UI/Inputs/PasswordWithStrength/index.js","webpack:///./components/UI/Install/context.js","webpack:///./components/UI/Install/useDeferredPrompt.js","webpack:///./components/UI/Install/InstallButton.js","webpack:///./components/UI/Install/InstallDialog.js","webpack:///./components/UI/Install/InstallPromptProvider.js","webpack:///./components/UI/Install/InstallLink.js","webpack:///./components/UI/Install/useInstall.js","webpack:///./components/UI/Install/Install.js","webpack:///./components/UI/CheckUpdate/UpdateDialog.js","webpack:///./components/UI/CheckUpdate/CheckUpdate.js","webpack:///./components/UI/Header/styles.scss?d10f","webpack:///./icons/logo_text_white.svg","webpack:///./components/UI/Header/index.js","webpack:////drone/src/packages/icons/src/dist-icons/DeprecatedChatsIcon.js","webpack:////drone/src/packages/ui/icons/logo-legacy.svg","webpack:///./icons/settings_new.svg","webpack:///./icons/iconBurger.svg","webpack:///./components/UI/Sidebar/SidebarNavItem.scss?901e","webpack:///./components/UI/Sidebar/SidebarNavItem.js","webpack:///./components/UI/Sidebar/Sidebar.scss?03ae","webpack:///./components/UI/Sidebar/Backdrop.scss?af01","webpack:///./components/UI/Sidebar/Backdrop.js","webpack:///./components/UI/Sidebar/Sidebar.js","webpack:///./components/UI/SplashScreen/SplashScreen.js","webpack:///./components/UI/AccountBlocked/styles.scss?914f","webpack:///./components/UI/AccountBlocked/index.js","webpack:///./components/UI/Help/index.js","webpack:///./components/UI/FreeBanner/styles.scss?c601","webpack:///./components/UI/FreeBanner/index.js","webpack:///./components/UI/FieldTip/FieldTip.scss?73db","webpack:///./components/UI/FieldTip/FieldTip.js","webpack:///./components/UI/FieldTip/index.js","webpack:///./components/UI/ActionSheet/styles.scss?7dca","webpack:///./components/UI/ActionSheet/index.js","webpack:///./components/UI/MobileMenu/index.js","webpack:///./components/UI/MainLayout/MainLayout.scss?a141","webpack:///./components/UI/MainLayout/MainLayout.js","webpack:////drone/src/packages/store/src/actions/feedbacks.js","webpack:///./img/messengers/icon-facebook-login.svg","webpack:////drone/src/packages/hooks/src/useBilling.js","webpack:///./img/Avatar.svg","webpack:////drone/src/packages/ui/src/components/Notification/Notification.scss","webpack:////drone/src/packages/ui/src/components/Notification/Notification.js","webpack:////drone/src/packages/ui/src/components/Modal/Modal.scss","webpack:////drone/src/packages/ui/src/components/Modal/Modal.js","webpack:////drone/src/packages/store/src/actions/audience.js","webpack:////drone/src/packages/lib/src/baseApi.js","webpack:////drone/src/packages/ui/src/components/Scrollbar/Scrollbar.scss","webpack:////drone/src/packages/ui/src/components/Scrollbar/Scrollbar.js","webpack:////drone/src/packages/ui/src/components/Nav/Nav.scss","webpack:////drone/src/packages/ui/src/components/Nav/Nav.js","webpack:///./img/icon_arrow_grey.svg","webpack:////drone/src/packages/ui/src/components/SidebarHeader/SidebarHeader.scss","webpack:////drone/src/packages/ui/src/components/SidebarHeader/SidebarHeader.js","webpack:////drone/src/packages/ui/src/components/SidebarHeader/index.js","webpack:////drone/src/packages/ui/src/components/Form/Row.scss","webpack:////drone/src/packages/ui/src/components/Form/Row.js","webpack:////drone/src/packages/ui/src/components/Form/TextareaField.js","webpack:////drone/src/packages/inbox/src/locales/index.js","webpack:////drone/src/packages/inbox/src/hooks/useUnreadConversations.js","webpack:////drone/src/packages/icons/src/dist-icons/CloseIcon.js","webpack:////drone/src/packages/icons/src/dist-icons/PlayCircleIcon.js","webpack:////drone/src/packages/inbox/src/Integrations/IntegrationList/styles.scss","webpack:////drone/src/packages/inbox/src/Integrations/IntegrationList/index.js","webpack:////drone/src/packages/inbox/src/Integrations/Vendors/withApi.js","webpack:////drone/src/packages/inbox/src/Integrations/Vendors/useIntegration.js","webpack:////drone/src/packages/inbox/src/Integrations/Vendors/MessengerIntegration/useMessengerIntegration.js","webpack:////drone/src/packages/inbox/src/Integrations/Vendors/commonStyles.scss","webpack:////drone/src/packages/inbox/src/Integrations/Vendors/MessengerIntegration/MessengerIntegration.js","webpack:////drone/src/packages/inbox/src/Integrations/Vendors/MessengerIntegration/index.js","webpack:////drone/src/packages/inbox/src/Integrations/Vendors/TelegramIntegration/useTelegramIntegration.js","webpack:////drone/src/packages/inbox/src/Integrations/Vendors/TelegramIntegration/TelegramIntegration.js","webpack:////drone/src/packages/inbox/src/Integrations/Vendors/TelegramIntegration/index.js","webpack:////drone/src/packages/inbox/src/Integrations/Vendors/ViberIntegration/useViberIntegration.js","webpack:////drone/src/packages/inbox/src/Integrations/Vendors/ViberIntegration/ViberIntegration.js","webpack:////drone/src/packages/inbox/src/Integrations/Vendors/ViberIntegration/index.js","webpack:////drone/src/packages/inbox/src/Integrations/Vendors/VKIntegration/useVkIntegration.js","webpack:////drone/src/packages/inbox/src/Integrations/Vendors/VKIntegration/VKIntegration.js","webpack:////drone/src/packages/inbox/src/Integrations/Vendors/VKIntegration/index.js","webpack:////drone/src/packages/inbox/src/Integrations/IntegrationsPage/useIntegrationsPage.js","webpack:////drone/src/packages/inbox/src/Integrations/IntegrationsPage/styles.scss","webpack:////drone/src/packages/inbox/src/Integrations/IntegrationsPage/index.js","webpack:////drone/src/packages/inbox/src/Pages/OnboardPage.scss","webpack:////drone/src/packages/inbox/src/Pages/OnboardPage.js","webpack:////drone/src/packages/ui/src/components/Badging/index.js","webpack:////drone/src/packages/services/src/eventNotifier.js","webpack:////drone/src/packages/inbox/src/services/inboxEventNotifier.js","webpack:////drone/src/packages/inbox/src/UI/Observer/index.js","webpack:////drone/src/packages/ui/src/components/Transitions/createTransition.js","webpack:////drone/src/packages/ui/src/components/Transitions/Fade.scss","webpack:////drone/src/packages/ui/src/components/Transitions/Fade.js","webpack:////drone/src/packages/inbox/src/UI/Chat/MessageList/stream.js","webpack:////drone/src/packages/store/src/selectors/conversationSelectors.js","webpack:////drone/src/packages/inbox/src/UI/Chat/MessageList/DateBreak.scss","webpack:////drone/src/packages/inbox/src/UI/Chat/MessageList/DateBreak.js","webpack:////drone/src/packages/inbox/src/UI/Chat/MessageList/StartConversation.scss","webpack:////drone/src/packages/inbox/src/UI/Chat/MessageList/StartConversation.js","webpack:////drone/src/packages/inbox/src/UI/Chat/MessageList/MessageDecorate.js","webpack:////drone/src/packages/inbox/src/UI/Chat/MessageList/MessageDecorate.scss","webpack:////drone/src/packages/inbox/src/UI/Chat/MessageList/ImageMessage.scss","webpack:////drone/src/packages/inbox/src/UI/Chat/MessageList/ImageMessage.js","webpack:////drone/src/packages/inbox/src/UI/Chat/MessageList/TextMessage.scss","webpack:////drone/src/packages/inbox/src/UI/Chat/MessageList/TextMessage.js","webpack:////drone/src/packages/inbox/src/UI/Chat/MessageList/FileMessage.scss","webpack:////drone/src/packages/inbox/src/UI/Chat/MessageList/FileMessage.js","webpack:////drone/src/packages/inbox/src/UI/Chat/MessageList/MessageGroup.scss","webpack:////drone/src/packages/inbox/src/UI/Chat/MessageList/MessageGroup.js","webpack:////drone/src/packages/inbox/src/UI/Chat/MessageList/SystemMessage.scss","webpack:////drone/src/packages/inbox/src/UI/Chat/MessageList/SystemMessage.js","webpack:////drone/src/packages/inbox/src/UI/Chat/MessageList/MessageList.scss","webpack:////drone/src/packages/inbox/src/UI/Chat/MessageList/MessageList.js","webpack:////drone/src/packages/inbox/src/UI/Chat/MessageList/useMessageList.js","webpack:////drone/src/packages/ui/src/components/Inputs/GenderSelect/index.js","webpack:////drone/src/packages/ui/src/components/Inputs/InlineEdit/styles.scss","webpack:////drone/src/packages/ui/src/components/Inputs/InlineEdit/index.js","webpack:////drone/src/packages/ui/src/components/Inputs/TagsInput/TagsInput.scss","webpack:////drone/src/packages/ui/src/components/Inputs/TagsInput/TagsInput.js","webpack:////drone/src/packages/icons/src/dist-icons/ChevronDownIcon.js","webpack:////drone/src/packages/ui/src/components/Inputs/Buttons/TextButton.scss","webpack:////drone/src/packages/ui/src/components/Inputs/Buttons/TextButton.js","webpack:////drone/src/packages/inbox/src/UI/Chat/AssignTo/ToggleButton.scss","webpack:////drone/src/packages/inbox/src/UI/Chat/AssignTo/ToggleButton.js","webpack:////drone/src/packages/inbox/src/UI/Conversations/SearchConversation.scss","webpack:////drone/src/packages/inbox/src/UI/Conversations/SearchConversation.js","webpack:////drone/src/packages/inbox/src/UI/Conversations/ConversationItem.scss","webpack:////drone/src/packages/inbox/src/UI/Conversations/ConversationItem.js","webpack:////drone/src/packages/inbox/src/UI/Conversations/ConversationList.scss","webpack:////drone/src/packages/inbox/src/UI/Conversations/ConversationList.js","webpack:////drone/src/packages/ui/src/components/Transitions/DropDown.js","webpack:////drone/src/packages/ui/src/components/Transitions/DropDown.scss","webpack:////drone/src/packages/inbox/src/UI/Conversations/AssignOption.scss","webpack:////drone/src/packages/inbox/src/UI/Conversations/AssignOption.js","webpack:////drone/src/packages/icons/src/dist-icons/DeprecatedCloseIcon.js","webpack:////drone/src/packages/icons/src/dist-icons/DeprecatedSettingsIcon.js","webpack:////drone/src/packages/inbox/src/UI/Conversations/ToggleButton.scss","webpack:////drone/src/packages/inbox/src/UI/Conversations/ToggleButton.js","webpack:////drone/src/packages/inbox/src/UI/Conversations/AssignFilter.scss","webpack:////drone/src/packages/inbox/src/UI/Conversations/AssignFilter.js","webpack:////drone/src/packages/inbox/src/UI/Conversations/useFilter.js","webpack:////drone/src/packages/inbox/src/UI/Conversations/useAssignFilter.js","webpack:////drone/src/packages/inbox/src/UI/Conversations/ConversationsStatusSwitch.scss","webpack:////drone/src/packages/inbox/src/UI/Conversations/ConversationsStatusSwitch.js","webpack:////drone/src/packages/inbox/src/UI/Conversations/ConversationsBar.scss","webpack:////drone/src/packages/inbox/src/UI/Conversations/ConversationsBar.js","webpack:////drone/src/packages/inbox/src/UI/Conversations/useConversationList.js","webpack:////drone/src/packages/inbox/src/UI/Conversations/useSearchConversation.js","webpack:////drone/src/packages/inbox/src/UI/Conversations/useConversationsStatusSwitch.js","webpack:////drone/src/packages/inbox/src/UI/Chat/AssignTo/AssignTo.scss","webpack:////drone/src/packages/inbox/src/UI/Chat/AssignTo/AssignTo.js","webpack:////drone/src/packages/inbox/src/UI/Chat/ClientCard/ClientCard.scss","webpack:////drone/src/packages/inbox/src/UI/Chat/ClientCard/ClientCard.js","webpack:////drone/src/packages/ui/src/hooks/useAutoSave.js","webpack:////drone/src/packages/inbox/src/UI/Chat/ClientCard/useClientCard.js","webpack:////drone/src/packages/inbox/src/UI/Chat/AssignTo/useAssignTo.js","webpack:////drone/src/packages/inbox/src/UI/Chat/MessagesHeader/Contact.scss","webpack:////drone/src/packages/inbox/src/UI/Chat/MessagesHeader/Contact.js","webpack:////drone/src/packages/inbox/src/UI/Chat/MessagesHeader/MessagesHeader.scss","webpack:////drone/src/packages/icons/src/dist-icons/CheckIcon.js","webpack:////drone/src/packages/inbox/src/UI/Chat/MessagesHeader/ArchiveToggle.scss","webpack:////drone/src/packages/inbox/src/UI/Chat/MessagesHeader/ArchiveToggle.js","webpack:////drone/src/packages/inbox/src/UI/Chat/MessagesHeader/MessagesHeader.js","webpack:////drone/src/packages/inbox/src/UI/Chat/MessagesHeader/useMessagesHeader.js","webpack:////drone/src/packages/icons/src/dist-icons/DeprecatedQuickRepliesIcon.js","webpack:////drone/src/packages/ui/src/components/Inputs/Buttons/ElevatedButton.scss","webpack:////drone/src/packages/ui/src/components/Inputs/Buttons/ElevatedButton.js","webpack:////drone/src/packages/hooks/src/useBooleanHandler.js","webpack:////drone/src/packages/icons/src/dist-icons/DeprecatedArrowUpIcon.js","webpack:////drone/src/packages/inbox/src/UI/Chat/MessagesFooter/useHandleError.js","webpack:////drone/src/packages/inbox/src/UI/Chat/MessagesFooter/MessageInput.scss","webpack:////drone/src/packages/inbox/src/UI/Chat/MessagesFooter/MessageInput.js","webpack:////drone/src/packages/icons/src/dist-icons/DeprecatedPlusIcon.js","webpack:////drone/src/packages/inbox/src/UI/Chat/MessagesFooter/AttachFile.scss","webpack:////drone/src/packages/inbox/src/UI/Chat/MessagesFooter/AttachFile.js","webpack:////drone/src/packages/inbox/src/UI/Chat/MessagesFooter/MessagesFooter.scss","webpack:////drone/src/packages/inbox/src/UI/Chat/MessagesFooter/MessagesFooter.js","webpack:////drone/src/packages/ui/src/hooks/useAutoSubmit.js","webpack:////drone/src/packages/inbox/src/UI/Chat/MessagesFooter/useMessagesFooter.js","webpack:////drone/src/packages/ui/src/components/Transitions/DropUp.scss","webpack:////drone/src/packages/ui/src/components/Transitions/DropUp.js","webpack:////drone/src/packages/icons/src/dist-icons/DeprecatedEditIcon.js","webpack:////drone/src/packages/inbox/src/UI/Chat/QuickReplies/QuickReplyItem.scss","webpack:////drone/src/packages/inbox/src/UI/Chat/QuickReplies/QuickReplyItem.js","webpack:////drone/src/packages/inbox/src/UI/Chat/QuickReplies/QuickRepliesMatch.scss","webpack:////drone/src/packages/inbox/src/UI/Chat/QuickReplies/QuickRepliesMatch.js","webpack:////drone/src/packages/inbox/src/UI/Chat/QuickReplies/useQuickRepliesMatch.js","webpack:////drone/src/packages/icons/src/dist-icons/DeprecatedSaveIcon.js","webpack:////drone/src/packages/icons/src/dist-icons/DeprecatedTrashIcon.js","webpack:////drone/src/packages/inbox/src/UI/Chat/QuickReplies/QuickRepliesDialog.scss","webpack:////drone/src/packages/inbox/src/UI/Chat/QuickReplies/QuickRepliesDialog.js","webpack:////drone/src/packages/inbox/src/UI/Chat/QuickReplies/QuickReplyEdit.js","webpack:////drone/src/packages/inbox/src/UI/Chat/QuickReplies/useQuickReplyEdit.js","webpack:////drone/src/packages/inbox/src/UI/Chat/QuickReplies/QuickReplyList.scss","webpack:////drone/src/packages/inbox/src/UI/Chat/QuickReplies/QuickReplyList.js","webpack:////drone/src/packages/inbox/src/UI/Chat/QuickReplies/useQuickReplyList.js","webpack:////drone/src/packages/inbox/src/img/aquaman.png","webpack:////drone/src/packages/inbox/src/UI/NoConversation/styles.scss","webpack:////drone/src/packages/inbox/src/UI/NoConversation/index.js","webpack:////drone/src/packages/inbox/src/Pages/MessagesPage.scss","webpack:////drone/src/packages/inbox/src/Pages/MessagesPage.js","webpack:////drone/src/packages/inbox/src/Pages/ChatPage.js","webpack:////drone/src/packages/inbox/src/Pages/InboxPage.js","webpack:////drone/src/packages/inbox/src/Pages/usePushMessaging.js","webpack:///./img/telegram2.svg","webpack:///./img/onboarding/no_branding.svg","webpack:///./img/card/logo.svg","webpack:////drone/src/packages/ui/src/components/EventEmitter/EventEmitter.js","webpack:////drone/src/packages/ui/src/hooks/useExperiment.js","webpack:////drone/src/packages/cards/src/img/logo-white.svg","webpack:////drone/src/packages/cards/src/UI/Elements/CardTopBranding/Variants/BrandingTopPane/BrandingTopPane.scss","webpack:////drone/src/packages/cards/src/UI/Elements/CardTopBranding/Variants/BrandingTopPane/index.js","webpack:////drone/src/packages/cards/src/UI/Elements/CardHeaderBackground/styles.scss","webpack:////drone/src/packages/cards/src/UI/Elements/CardHeaderBackground/index.js","webpack:////drone/src/packages/cards/src/UI/Elements/Messengers/CardMessengers/styles.scss","webpack:////drone/src/packages/cards/src/UI/Elements/Messengers/CardMessengers/index.js","webpack:////drone/src/packages/ui/icons/messengers/viber.svg","webpack:////drone/src/packages/ui/icons/messengers/vk.svg","webpack:////drone/src/packages/ui/icons/messengers/telegram-new.svg","webpack:////drone/src/packages/ui/icons/messengers/skype.svg","webpack:////drone/src/packages/ui/icons/messengers/whatsapp.svg","webpack:////drone/src/packages/ui/icons/messengers/messenger_new.svg","webpack:////drone/src/packages/ui/icons/messengers/instagram.svg","webpack:////drone/src/packages/ui/src/messenger-icons.js","webpack:////drone/src/packages/cards/src/UI/Elements/Messengers/MessengerButton/styles.scss","webpack:////drone/src/packages/cards/src/UI/Elements/Messengers/MessengerButton/index.js","webpack:////drone/src/packages/cards/src/UI/Elements/Messengers/CardMessengersPane/styles.scss","webpack:////drone/src/packages/cards/src/UI/Elements/Messengers/CardMessengersPane/index.js","webpack:////drone/src/packages/cards/src/UI/Elements/CardLinks/styles.scss","webpack:////drone/src/packages/cards/src/UI/Elements/CardLinks/index.js","webpack:////drone/src/packages/cards/src/UI/Elements/Reviews/CardReviewNotificationModal/index.js","webpack:////drone/src/packages/cards/src/UI/Elements/Reviews/CardReviewRecommendModal/styles.scss","webpack:////drone/src/packages/cards/src/UI/Elements/Reviews/CardReviewRecommendModal/index.js","webpack:////drone/src/packages/cards/src/UI/Elements/Reviews/CardReviewsPaneHeader/styles.scss","webpack:////drone/src/packages/cards/src/UI/Elements/Reviews/CardReviewsPaneHeader/index.js","webpack:////drone/src/packages/cards/src/UI/Elements/Reviews/CardReviewRecommend/styles.scss","webpack:////drone/src/packages/cards/src/UI/Elements/Reviews/CardReviewRecommend/index.js","webpack:////drone/src/packages/cards/src/UI/Elements/Reviews/CardReviewsList/styles.scss","webpack:////drone/src/packages/cards/src/UI/Elements/Reviews/CardReviewsList/index.js","webpack:////drone/src/packages/cards/src/UI/Elements/CardMoreButton/styles.scss","webpack:////drone/src/packages/cards/src/UI/Elements/CardMoreButton/index.js","webpack:////drone/src/packages/cards/src/UI/Elements/Reviews/CardReviewItem/styles.scss","webpack:////drone/src/packages/cards/src/UI/Elements/Reviews/CardReviewItem/index.js","webpack:////drone/src/packages/cards/src/UI/Elements/Reviews/CardReviewMessageModal/styles.scss","webpack:////drone/src/packages/cards/src/UI/Elements/Reviews/CardReviewMessageModal/index.js","webpack:////drone/src/packages/cards/src/UI/Elements/Reviews/CardReviewsPane/styles.scss","webpack:////drone/src/packages/cards/src/UI/Elements/Reviews/CardReviewsPane/component.js","webpack:////drone/src/packages/cards/src/UI/Elements/Reviews/CardReviewsPane/container.js","webpack:////drone/src/packages/cards/src/UI/Elements/Products/CardProductsPage/CardProductsPage.scss","webpack:////drone/src/packages/cards/src/UI/Elements/Products/CardProductsPage/CardProductsPage.js","webpack:////drone/src/packages/cards/src/UI/Elements/Products/CardProductsList/styles.scss","webpack:////drone/src/packages/cards/src/UI/Elements/Products/CardProductsList/index.js","webpack:////drone/src/packages/icons/src/dist-icons/ImageIcon.js","webpack:////drone/src/packages/ui/src/components/LazyImage/Thumbnail.scss","webpack:////drone/src/packages/ui/src/components/LazyImage/Thumbnail.js","webpack:////drone/src/packages/ui/src/components/LazyImage/LazyImage.scss","webpack:////drone/src/packages/ui/src/components/LazyImage/LazyImage.js","webpack:////drone/src/packages/ui/src/components/LazyImage/useIntersect.js","webpack:////drone/src/packages/ui/src/components/LazyImage/useLoadImage.js","webpack:////drone/src/packages/cards/src/UI/Elements/Products/ProductItem/styles.scss","webpack:////drone/src/packages/cards/src/UI/Elements/Products/ProductItem/index.js","webpack:////drone/src/packages/cards/src/UI/Elements/ScrollableHorizontalCardMenu/ScrollableHorizontalCardMenu.scss","webpack:////drone/src/packages/cards/src/UI/Elements/ScrollableHorizontalCardMenu/index.js","webpack:////drone/src/packages/cards/src/UI/Elements/ScrollableHorizontalCardMenu/ScrollableHorizontalCardMenu.js","webpack:////drone/src/packages/cards/src/UI/Elements/Products/CardProductsContainer/CardProductsContainer.scss","webpack:////drone/src/packages/cards/src/UI/Elements/Products/CardProductsContainer/CardProductsContainer.js","webpack:////drone/src/packages/cards/src/UI/Elements/Products/ProductAdminItem/styles.scss","webpack:////drone/src/packages/cards/src/UI/Elements/Products/ProductAdminItem/index.js","webpack:////drone/src/packages/cards/src/UI/Elements/Card/styles.scss","webpack:////drone/src/packages/cards/src/UI/Elements/Card/index.js","webpack:////drone/src/packages/cards/src/UI/Elements/CardContainer/styles.scss","webpack:////drone/src/packages/cards/src/UI/Elements/CardContainer/index.js","webpack:////drone/src/packages/ui/src/components/ShareIconButton/styles.scss","webpack:////drone/src/packages/ui/src/components/ShareIconButton/index.js","webpack:////drone/src/packages/cards/src/UI/Elements/Modal/styles.scss","webpack:////drone/src/packages/cards/src/UI/Elements/Modal/index.js","webpack:////drone/src/packages/cards/src/UI/Elements/OpenMessengerModal/styles.scss","webpack:////drone/src/packages/cards/src/UI/Elements/OpenMessengerModal/index.js","webpack:////drone/src/packages/cards/src/UI/Elements/Share/index.js","webpack:////drone/src/packages/cards/src/UI/PreviewModal/styles.scss","webpack:////drone/src/packages/cards/src/UI/PreviewModal/index.js","webpack:////drone/src/packages/cards/src/UI/CardPreview/context.js","webpack:////drone/src/packages/cards/src/UI/CardPreview/hooks.js","webpack:////drone/src/packages/cards/src/UI/CardPreview/CardPreviewStore.js","webpack:///./components/Product/PageProductGallery/styles.scss?5e5f","webpack:///./components/Product/PageProductGallery/index.js","webpack:///./components/Product/PageProduct/styles.scss?01ca","webpack:///./components/Product/PageProduct/index.js","webpack:///./components/Product/PageProductContainer/styles.scss?5255","webpack:///./components/Product/PageProductContainer/index.js","webpack:////drone/src/packages/cards/src/UI/CardRoutes/index.js","webpack:////drone/src/packages/cards/src/UI/CardPreview/CardPreview.js","webpack:////drone/src/packages/cards/src/UI/SelectMessengerType/index.js","webpack:////drone/src/packages/cards/src/UI/PageLayout/PageLayout.scss","webpack:////drone/src/packages/cards/src/UI/PageLayout/PageLayout.js","webpack:///./img/icon_we_use_mssgme_en.svg","webpack:////drone/src/packages/ui/src/components/Features/NoAccess/styles.scss","webpack:////drone/src/packages/ui/src/components/Features/NoAccess/index.js","webpack:////drone/src/packages/ui/src/components/Modal/ModalDialog.scss","webpack:////drone/src/packages/ui/src/components/Modal/ModalDialog.js","webpack:////drone/src/packages/lib/src/facebookApi.js","webpack:////drone/src/packages/hooks/src/useAccessControl.js","webpack:///./img/aboutProLogo.svg","webpack:////drone/src/packages/shared/src/helpers/queryString.js","webpack:///./img/messengers/icon-line.svg","webpack:////drone/src/packages/ui/src/components/FormRow/styles.scss","webpack:////drone/src/packages/ui/src/components/FormRow/index.js","webpack:///./img/visa_logo.png","webpack:////drone/src/packages/api/src/media.js","webpack:////drone/src/packages/ui/src/components/Form/Label.scss","webpack:////drone/src/packages/ui/src/components/Form/Label.js","webpack:////drone/src/packages/ui/src/components/Form/FieldWarning.scss","webpack:////drone/src/packages/ui/src/components/Form/FieldWarning.js","webpack:////drone/src/packages/ui/src/components/Form/FieldRow.js","webpack:////drone/src/packages/ui/src/components/Form/utils.js","webpack:///./img/icon_share_two.png","webpack:////drone/src/packages/lib/src/reviewsApi.js","webpack:////drone/src/packages/hooks/src/useBrandingUrl.js","webpack:////drone/src/packages/helpers/src/resolvePathname.js","webpack:////drone/src/packages/api-client/src/core/helpers.js","webpack:///./img/choose.svg","webpack:///./img/onboarding/analytics.svg","webpack:////drone/src/packages/shared/src/helpers/formatPrice.js","webpack:////drone/src/packages/ui/src/components/Box/styles.scss","webpack:////drone/src/packages/ui/src/components/Box/index.js","webpack:////drone/src/packages/shared/src/helpers/removeUrlProtocol.js","webpack:////drone/src/packages/ui/src/components/Nav/NavItemLink.js","webpack:////drone/src/packages/store/src/actions/api.js","webpack:////drone/src/packages/ui/src/components/MediaQuery/index.js","webpack:////drone/src/packages/ui/src/components/FormErrors/styles.scss","webpack:////drone/src/packages/ui/src/components/FormErrors/index.js","webpack:///./img/aboutProBg.jpg","webpack:////drone/src/packages/hooks/src/useExperiments.js","webpack:////drone/src/packages/scss-basics/default.scss","webpack:///./img/blank.png","webpack:////drone/src/packages/api-client/src/core/middlewares.js","webpack:////drone/src/packages/api-client/src/core/client.js","webpack:////drone/src/packages/api/src/client.js","webpack:////drone/src/packages/ui/src/components/Form/FieldError.scss","webpack:////drone/src/packages/ui/src/components/Form/FieldError.js","webpack:////drone/src/packages/ui/src/components/Form/EnhancedFormik.js","webpack:////drone/src/node_modules/moment/locale sync \\.\\/(en|ru|uk)","webpack:////drone/src/packages/shared/src/restrictions/isPaid.js","webpack:////drone/src/packages/i18n/src/i18n-service.js","webpack:////drone/src/packages/lib/src/collectionsApi.js","webpack:///./img/viber.svg","webpack:////drone/src/packages/store/src/selectors/workspaceSelectors.js","webpack:////drone/src/packages/hooks/src/useWorkspace.js","webpack:///./img/stripe.png","webpack:////drone/src/packages/shared/src/helpers/wildcardRegexp.js","webpack:///./img/visa_light.svg","webpack:////drone/src/packages/cards/src/locales/index.js","webpack:////drone/src/packages/ui/src/components/ImagePreview/ImagePreview.scss","webpack:////drone/src/packages/ui/src/components/ImagePreview/ImagePreview.js","webpack:////drone/src/packages/ui/src/components/Inputs/ImageUpload/ImageUpload.scss","webpack:////drone/src/packages/ui/src/components/Inputs/ImageUpload/ImageUpload.js","webpack:////drone/src/packages/ui/src/components/Form/ImageField.js","webpack:////drone/src/packages/ui/src/components/Inputs/Buttons/CancelButton/style.scss","webpack:////drone/src/packages/ui/src/components/Inputs/Buttons/CancelButton/index.js","webpack:////drone/src/packages/ui/src/components/NavigationGuard/useNavigationGuard.js","webpack:////drone/src/packages/ui/src/components/NavigationGuard/NavigationGuardMessage/NavigationGuardMessage.scss","webpack:////drone/src/packages/ui/src/components/NavigationGuard/NavigationGuardMessage/NavigationGuardMessage.js","webpack:////drone/src/packages/ui/src/components/NavigationGuard/NavigationGuard.scss","webpack:////drone/src/packages/ui/src/components/NavigationGuard/NavigationGuard.js","webpack:////drone/src/packages/ui/src/components/NavigationGuard/EnhancedNavigationGuard.js","webpack:////drone/src/packages/ui/src/components/Notification/Notify.js","webpack:////drone/src/packages/ui/src/components/Notification/NotifyAndClose.js","webpack:////drone/src/packages/ui/src/components/PlanBadge/index.js","webpack:////drone/src/packages/ui/src/components/ContentOverlay/ContentOverlay.scss","webpack:////drone/src/packages/ui/src/components/ContentOverlay/ContentOverlay.js","webpack:////drone/src/packages/ui/src/components/Features/NoAccessOverlay/NoAccessOverlay.js","webpack:////drone/src/packages/ui/src/components/Features/BillingRestrictions/RestrictionScope.js","webpack:////drone/src/packages/cards/src/Pages/Editing/CardEditForm/CardEditForm.js","webpack:////drone/src/packages/cards/src/Pages/Editing/CardEditForm/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/AvatarEdit/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/AvatarEdit/AvatarEdit.js","webpack:////drone/src/packages/ui/src/components/Inputs/Toggle/Toggle.scss","webpack:////drone/src/packages/ui/src/components/Inputs/Toggle/index.js","webpack:////drone/src/packages/ui/src/components/Form/ToggleField.scss","webpack:////drone/src/packages/ui/src/components/Form/ToggleField.js","webpack:////drone/src/packages/cards/src/Pages/Editing/BrandingEdit/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/BrandingEdit/BrandingEdit.js","webpack:////drone/src/packages/ui/src/components/Inputs/ReactColorCustom/styles.scss","webpack:////drone/src/packages/ui/src/components/Inputs/ReactColorCustom/index.js","webpack:////drone/src/packages/ui/img/colors.png","webpack:////drone/src/packages/ui/src/components/Inputs/LegacyColorPicker/styles.scss","webpack:////drone/src/packages/ui/src/components/Inputs/LegacyColorPicker/index.js","webpack:////drone/src/packages/ui/src/components/Form/ColorField.js","webpack:////drone/src/packages/cards/src/Pages/Editing/CoverEdit/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/CoverEdit/CoverEdit.js","webpack:////drone/src/packages/cards/src/Pages/Editing/CategoryEdit/CategoryField.js","webpack:////drone/src/packages/cards/src/Pages/Editing/CategoryEdit/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/CategoryEdit/CategoryEdit.js","webpack:////drone/src/packages/cards/src/Pages/Editing/DescriptionEdit/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/DescriptionEdit/DescriptionEdit.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Domain/hooks.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Domain/DomainLayout.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Domain/Help.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/Domain/Help.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Domain/DomainDisconnect.js","webpack:////drone/src/packages/ui/src/components/Form/TextField.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Domain/DomainEdit.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Domain/ChangeDNS.js","webpack:////drone/src/packages/hooks/src/useRestrictedCard.js","webpack:////drone/src/packages/cards/src/Pages/Editing/PageMenu/styles.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/PageMenu/ListItem.js","webpack:////drone/src/packages/cards/src/Pages/Editing/SeoEdit/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/SeoEdit/SeoEdit.js","webpack:////drone/src/packages/cards/src/Pages/Editing/TitleEdit/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/TitleEdit/TitleEdit.js","webpack:////drone/src/packages/helpers/src/normalizeUrl.js","webpack:////drone/src/packages/cards/src/Pages/Editing/UrlEdit/UrlEdit.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/UrlEdit/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/UrlEdit/UrlEdit.js","webpack:////drone/src/packages/helpers/src/normalizeWebsiteUrl.js","webpack:////drone/src/packages/cards/src/Pages/Editing/WebsiteEdit/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/WebsiteEdit/WebsiteEdit.js","webpack:////drone/src/packages/cards/src/Pages/WidgetCard/styles.scss","webpack:////drone/src/packages/cards/src/Pages/WidgetCard/index.js","webpack:////drone/src/packages/cards/src/img/qr.svg","webpack:////drone/src/packages/cards/src/Pages/Editing/PageMain/PageMain.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/PageMain/PageMain.js","webpack:////drone/src/packages/cards/src/Pages/Editing/PageMain/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/PageShare/EmailSignature.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/PageShare/EmailSignature.js","webpack:////drone/src/packages/cards/src/Pages/Editing/PageShare/ShareQR.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/PageShare/ShareQR.js","webpack:////drone/src/packages/cards/src/Pages/Editing/PageShare/hooks.js","webpack:////drone/src/packages/ui/src/components/CopyContainer/CopyContainer.scss","webpack:////drone/src/packages/ui/src/components/CopyContainer/CopyContainer.js","webpack:////drone/src/packages/ui/src/components/CopyLink/CopyLink.js","webpack:////drone/src/packages/cards/src/img/copylink_img.svg","webpack:////drone/src/packages/cards/src/Pages/Editing/PageShare/InstaModalDialog.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/PageShare/InstaModalDialog.js","webpack:////drone/src/packages/cards/src/img/email.svg","webpack:////drone/src/packages/cards/src/img/embed.svg","webpack:////drone/src/packages/cards/src/img/link.svg","webpack:////drone/src/packages/cards/src/Pages/Editing/PageShare/MoreVisits.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/PageShare/MoreVisits.js","webpack:////drone/src/packages/ui/src/components/Features/BillingRestrictions/Restriction.js","webpack:////drone/src/packages/ui/src/components/Form/Fieldset.js","webpack:////drone/src/packages/helpers/src/fork.js","webpack:////drone/src/packages/ui/src/components/Form/Fieldset.scss","webpack:////drone/src/packages/ui/src/components/Inputs/RadioGroup/styles.scss","webpack:////drone/src/packages/ui/src/components/Inputs/RadioGroup/index.js","webpack:////drone/src/packages/ui/src/components/Form/RadioField.js","webpack:////drone/src/packages/ui/src/components/Form/CheckboxField.js","webpack:////drone/src/packages/cards/src/Pages/Editing/WidgetEdit/styles.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/WidgetEdit/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/PageShare/PageShare.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/PageShare/PageShare.js","webpack:////drone/src/packages/cards/src/Pages/Editing/PageMessengers/messengers.js","webpack:////drone/src/packages/cards/src/img/messengers/whatsapp-rounded.svg","webpack:////drone/src/packages/cards/src/img/messengers/telegram-rounded.svg","webpack:////drone/src/packages/cards/src/img/messengers/viber-rounded.svg","webpack:////drone/src/packages/cards/src/img/messengers/messenger-rounded.svg","webpack:////drone/src/packages/cards/src/img/messengers/vk-rounded.svg","webpack:////drone/src/packages/cards/src/img/messengers/skype-rounded.svg","webpack:////drone/src/packages/cards/src/Pages/Editing/PageMessengers/MessengerItem.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/PageMessengers/MessengerItem.js","webpack:////drone/src/packages/cards/src/Pages/Editing/PageMessengers/SortableList.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/PageMessengers/SortableList.js","webpack:////drone/src/packages/cards/src/Pages/Editing/PageMessengers/PageMessengers.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/MessengerEdit/helpers.js","webpack:////drone/src/packages/cards/src/Pages/Editing/MessengerEdit/NameField.js","webpack:////drone/src/packages/helpers/src/normalizePhone.js","webpack:////drone/src/packages/cards/src/Pages/Editing/MessengerEdit/MessengerEdit.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/MessengerEdit/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/MessengerEdit/MessengerEdit.js","webpack:////drone/src/packages/cards/src/hooks/useMessengerHelpHint.js","webpack:////drone/src/packages/ui/src/components/Toggleable/styles.scss","webpack:////drone/src/packages/ui/src/components/Toggleable/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/PageLinks/PageLinks.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/PageLinks/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/PageLinks/PageLinks.js","webpack:////drone/src/packages/cards/src/Pages/Editing/LinkEdit/LinkEdit.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/LinkEdit/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/LinkEdit/LinkEdit.js","webpack:////drone/src/packages/ui/src/components/Tabs/styles.scss","webpack:////drone/src/packages/ui/src/components/Tabs/Tabs.js","webpack:////drone/src/packages/ui/src/components/Tabs/Tab.js","webpack:////drone/src/packages/cards/src/Pages/Editing/PageAnalytics/StatsList.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/PageAnalytics/StatsList.js","webpack:////drone/src/packages/cards/src/Pages/Editing/PageAnalytics/CardStatistics.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/PageAnalytics/CardStatistics.js","webpack:////drone/src/packages/cards/src/Pages/Editing/PixelEdit/PixelEdit.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/PixelEdit/PixelEdit.js","webpack:////drone/src/packages/cards/src/Pages/Editing/PixelEdit/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/ReviewsEdit/styles.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/UI/ProductsListDraggable/ProductsListDraggable.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/UI/ProductsListDraggable/ProductsListDraggable.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/UI/ProductsListDraggable/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/UI/AdminHeaderSearch/AdminHeaderSearch.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/UI/AdminHeaderSearch/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/UI/AdminHeaderSearch/AdminHeaderSearch.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/UI/FilterMessage/FilterMessage.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/UI/FilterMessage/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/UI/FilterMessage/FilterMessage.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/UI/LoadMoreButton/LoadMoreButton.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/UI/LoadMoreButton/LoadMoreButton.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/UI/LoadMoreButton/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/UI/ProductsListFooter/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/UI/ProductsListFooter/ProductsListFooter.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/UI/CollectionsListDraggable/CollectionsListDraggable.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/UI/CollectionsListDraggable/CollectionsListDraggable.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/UI/CollectionsListDraggable/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/UI/ProductPriceInputs/styles.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/UI/ProductPriceInputs/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/UI/OldSaveButton/index.js","webpack:////drone/src/packages/helpers/src/keyHash.js","webpack:////drone/src/packages/hooks/src/useCollections.js","webpack:////drone/src/packages/hooks/src/useProducts.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/hooks/useProductsMain.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/ProductsMain/ProductsMain.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/ProductsMain/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/ProductsMain/ProductsMain.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/PageProducts/PageProducts.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/PageProducts/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/PageProducts/PageProducts.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/PageProductsCollections/PageProductsCollections.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/PageProductsCollections/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/PageProductsCollections/PageProductsCollections.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/ProductCollectionEdit/ProductCollectionEdit.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/ProductCollectionEdit/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/ProductCollectionEdit/ProductCollectionEdit.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/ProductCollectionEdit/useProductCollectionEdit.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/ProductEdit/useProductEdit.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/ProductEdit/ProductEdit.scss","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/ProductEdit/ProductEdit.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Products/ProductEdit/index.js","webpack:////drone/src/packages/cards/src/Pages/CardPage/CardPage.scss","webpack:////drone/src/packages/cards/src/Pages/CardPage/CardPage.js","webpack:////drone/src/packages/cards/src/Pages/Editing/PageMenu/PageEditMenu.js","webpack:////drone/src/packages/cards/src/Pages/Editing/PageMessengers/PageMessengers.js","webpack:////drone/src/packages/cards/src/Pages/Editing/PageMenu/PageSettingsMenu.js","webpack:////drone/src/packages/cards/src/Pages/Editing/Domain/Domain.js","webpack:////drone/src/packages/cards/src/Pages/Editing/PageMenu/PageTrackingMenu.js","webpack:////drone/src/packages/cards/src/Pages/Editing/ReviewsEdit/index.js","webpack:////drone/src/packages/cards/src/Pages/Editing/PageAnalytics/Analytics.js","webpack:////drone/src/packages/cards/src/icons/cardsIcon.svg","webpack:////drone/src/packages/hooks/src/useNavigationUtils.js","webpack:///./img/onboarding/domain.svg","webpack:////drone/src/packages/ui/src/components/LoadingIndicator/styles.scss","webpack:////drone/src/packages/ui/src/components/LoadingIndicator/index.js","webpack:////drone/src/packages/hooks/src/useSwitchApp.js","webpack:////drone/src/packages/ui/src/components/Inputs/Buttons/GroupButtons/styles.scss","webpack:////drone/src/packages/ui/src/components/Inputs/Buttons/GroupButtons/index.js","webpack:///./img/facebook2.svg","webpack:////drone/src/packages/helpers/src/removeUrlProtocol.js","webpack:////drone/src/packages/ui/src/components/Features/IsGranted/index.js","webpack:////drone/src/packages/ui/src/components/Features/Feature/index.js","webpack:///./components/Userpage/styles.scss?3991","webpack:///./components/Userpage/index.js","webpack:///./userpage.js","webpack:////drone/src/packages/hooks/src/useCopyText.js","webpack:///./img/ae_logo.png","webpack:////drone/src/packages/hooks/src/useUser.js","webpack:///./img/man.png","webpack:////drone/src/packages/ui/src/components/Notification/notification-center.js","webpack:///./img/onboarding/link.svg","webpack:////drone/src/packages/shared/src/deep-link-generator/links/link.js","webpack:////drone/src/packages/shared/src/deep-link-generator/links/messenger.js","webpack:////drone/src/packages/shared/src/deep-link-generator/links/skype.js","webpack:////drone/src/packages/shared/src/deep-link-generator/links/telegram.js","webpack:////drone/src/packages/shared/src/deep-link-generator/links/viber.js","webpack:////drone/src/packages/shared/src/deep-link-generator/links/vk.js","webpack:////drone/src/packages/shared/src/deep-link-generator/links/whatsapp.js","webpack:////drone/src/packages/shared/src/deep-link-generator/links/instagram.js","webpack:////drone/src/packages/helpers/src/generateDeepLink.js","webpack:////drone/src/packages/shared/src/deep-link-generator/index.js","webpack:////drone/src/packages/shared/src/helpers/fileSizeToHumanReadable.js","webpack:////drone/src/packages/ui/src/components/Inputs/Input/styles.scss","webpack:////drone/src/packages/ui/src/components/Inputs/Input/index.js","webpack:////drone/src/packages/lib/src/hex2rgb.js","webpack:////drone/src/packages/plans/src/index.browser.js","webpack:////drone/src/packages/api/src/index.js","webpack:////drone/src/packages/ui/src/components/Badge/styles.scss","webpack:////drone/src/packages/ui/src/components/Badge/index.js","webpack:////drone/src/packages/inbox/src/locales lazy ^\\.\\/.*\\/inbox\\.json$ include: \\.json$ namespace object","webpack:////drone/src/packages/ui/src/components/NavBackButton/NavBackButton.scss","webpack:////drone/src/packages/ui/src/components/NavBackButton/NavBackButton.js","webpack:////drone/src/packages/ui/src/components/NavBackButton/index.js","webpack:////drone/src/packages/shared/src/helpers/prettifyUrl.js","webpack:////drone/src/packages/hooks/src/useLanguage.js","webpack:////drone/src/packages/lib/src/handleError.js","webpack:////drone/src/packages/shared/src/helpers/toId.js","webpack:///external \"CONFIG\"","webpack:////drone/src/packages/helpers/src/cls.js","webpack:////drone/src/packages/ui/src/components/ModalSheet/ModalSheetHeader.scss","webpack:////drone/src/packages/ui/src/components/ModalSheet/ModalSheetHeader.js","webpack:////drone/src/packages/ui/src/hooks/useTitle.js","webpack:///./img/whatsapp.svg","webpack:////drone/src/packages/ui/src/components/ModalSheet/ModalSheetPane.js","webpack:///./img/icon-go-back.svg","webpack:////drone/src/packages/cards/src/locales lazy ^\\.\\/.*\\/cards\\.json$ include: \\.json$ namespace object","webpack:///./img/ic_check_circle_black_24px.svg","webpack:////drone/src/packages/helpers/src/urlSafeComponent.js","webpack:///./img/power.png","webpack:////drone/src/packages/ui/src/hooks/useBreakpoints.js","webpack:////drone/src/packages/ui/src/components/Nav/NavItem.scss","webpack:////drone/src/packages/ui/src/components/Nav/NavItem.js","webpack:///./img/onboarding/pixel.svg","webpack:////drone/src/packages/lib/src/pushMessaging.js","webpack:////drone/src/packages/api-client/src/core/errors.js","webpack:////drone/src/packages/shared/src/plans.js","webpack:////drone/src/packages/ui/src/components/LinkBlank/index.js","webpack:////drone/src/packages/ui/icons/logo.svg","webpack:////drone/src/packages/ui/src/components/ScrollableBox/ScrollableBox.scss","webpack:////drone/src/packages/ui/src/components/ScrollableBox/ScrollableBox.js","webpack:////drone/src/packages/ui/src/components/Form/SubmitButton.js","webpack:////drone/src/packages/ui/src/components/Form/SaveButton.js","webpack:////drone/src/packages/ui/src/components/Inputs/Checkbox/styles.scss","webpack:////drone/src/packages/ui/src/components/Inputs/Checkbox/index.js","webpack:///./img/insta_share.png","webpack:////drone/src/packages/ui/src/components/ModalSheet/ModalSheet.scss","webpack:////drone/src/packages/ui/src/components/ModalSheet/ModalSheet.js","webpack:////drone/src/packages/ui/src/components/Avatar/Avatar.scss","webpack:////drone/src/packages/ui/src/components/Avatar/Avatar.js","webpack:///./img/onboarding/categories.svg","webpack:///./img/viber2.svg","webpack:////drone/src/packages/ui/src/components/Form/useEnhancedFormik.js","webpack:///./img/insta.svg","webpack:///./img/hand.png","webpack:////drone/src/packages/i18n/src/i18next-backend-plugin.js","webpack:////drone/src/packages/helpers/src/filters.js","webpack:////drone/src/packages/ui/src/components/ModalSheet/PortalModalSheet.js","webpack:////drone/src/packages/ui/src/components/ModalSheet/useControlledModalSheet.js","webpack:////drone/src/packages/ui/src/components/Modal/useModal.js","webpack:///./img/onboarding/analytics_integrations.svg","webpack:////drone/src/packages/shared/src/trans.js","webpack:///./img/mc_logo.png","webpack:///./img/onboarding/messengers.svg","webpack:////drone/src/packages/helpers/src/parseUrl.js","webpack:////drone/src/packages/ui/src/helpers.js","webpack:///./img/messengers/icon-facebook.svg","webpack:////drone/src/packages/ui/icons/close.svg","webpack:///./img/messengers/icon-whatsapp.svg","webpack:///./img/messengers/icon-telegram.svg","webpack:///./img/telegram.png","webpack:///./img/icon_share_three.png","webpack:///./img/woman.png","webpack:///./img/onboarding/cover.svg","webpack:///./img/onboarding/googlepay.png","webpack:////drone/src/packages/hooks/src/useRestrictions.js","webpack:////drone/src/packages/ui/src/components/Inputs/Buttons/IconButton.scss","webpack:////drone/src/packages/ui/src/components/Inputs/Buttons/IconButton.js","webpack:///./img/onboarding/support.svg","webpack:////drone/src/packages/ui/icons/arrow-right.svg","webpack:///./img/icon_we_use_mssgme_ru.svg","webpack:///./img/robot.png","webpack:////drone/src/packages/ui/src/components/Inputs/Textarea/styles.scss","webpack:////drone/src/packages/ui/src/components/Inputs/Textarea/index.js","webpack:////drone/src/packages/services/src/navigationBlocker.js","webpack:////drone/src/packages/hooks/src/useFetching.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/requestError.js","webpack:////drone/src/packages/shared/src/restrictions/errorBuilder.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/request.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/voter.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/websites.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/pages.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/blocks.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/acl/resource.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/acl/role.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/acl/acl.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/acl/loader.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/index.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/acl.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/permissions.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/index.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/unlimited.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/version.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/collections.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/messengers.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/products.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/pagePublish.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/pageTemplates.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/themes.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/pageStyling.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/blocksPublish.js","webpack:////drone/src/packages/shared/src/restrictions/permissions/voters/impl/subscriptionFormField.js","webpack:////drone/src/packages/shared/src/restrictions/checkBillingRestrictions.js","webpack:////drone/src/packages/ui/src/components/Inputs/Buttons/LinkButton/index.js","webpack:////drone/src/packages/api/src/constants.js","webpack:////drone/src/packages/constants/src/es/notifications.js","webpack:////drone/src/packages/ui/icons/check.svg","webpack:////drone/src/packages/helpers/src/ua.js","webpack:///./locales lazy ^\\.\\/.*\\/.*\\.json$ include: \\.json$ namespace object","webpack:///./img/messengers/icon-skype.svg","webpack:///./img/do.png","webpack:///./img/messengers/icon-vk.svg","webpack:////drone/src/packages/hooks/src/useActions.js","webpack:////drone/src/packages/helpers/src/bindActionCreators.js","webpack:////drone/src/packages/store/src/helpers.js","webpack:////drone/src/packages/ui/src/components/Inputs/Buttons/Button/styles.scss","webpack:////drone/src/packages/ui/src/components/Inputs/Buttons/Button/index.js","webpack:///./img/ae_logo.svg","webpack:////drone/src/packages/store/src/index.js","webpack:///./img/logo.svg","webpack:///./img/messengers/icon-viber.svg","webpack:////drone/src/packages/constants/src/es/messengers.js","webpack:////drone/src/packages/shared/src/helpers/versionCheck.js","webpack:////drone/src/packages/shared/src/restrictions/apply/impl/basic.js","webpack:////drone/src/packages/shared/src/restrictions/apply/restrictionsApplier.js","webpack:////drone/src/packages/shared/src/restrictions/apply/index.js","webpack:////drone/src/packages/shared/src/restrictions/restrictCard.js","webpack:////drone/src/packages/ui/src/components/Inputs/Buttons/PureButton.js"],"names":["useNotificationCenter","setCount","useState","notificationCenter","NotificationCenter","getInstance","useEffect","handleEvent","prevCount","on","off","propTypes","notificationComponent","PropTypes","elementType","className","string","defaultProps","Notification","NotificationsBag","_ref","NotificationComponent","content","React","createElement","classNames","styles","getNotifications","map","notification","_extends","key","id","onClose","remove","options","message","ReactDOM","createPortal","document","body","NotificationsBagLegacy","formatters","value","format","locale","Date","moment","isMoment","formatRemainingDays","date","fromNow","formatDate","formatPrice","currency","amount","formatPhone","get","MESSENGERS","toUpperCase","plans","name","fileSizeToHumanReadable","arguments","length","undefined","navigator","language","formatter","result","toggleMobileMenu","createAction","toggleStylingMode","toggleMobileContainer","setMessage","setConversationsFilter","setPagePreview","setPageBlockPreview","setBackTrack","setAppTrackingStatus","completePayment","applyCoupon","removeCoupon","complete","changeCountry","applyPlan","load","selectPaymentMethod","error","reset","close","setProductsFilter","payload","type","clearProductsStore","setProductsSubFilter","clearProductsSubStore","selectBot","botId","bot","openDialogBranch","parentResponseID","nextResponseID","setDialogPath","path","labelStyle","paddingLeft","color","marginBottom","FormField","component","Component","Input","label","required","labelClassName","inputClassName","errorStyle","shakeError","errors","wrapAs","children","rest","FormRow","as","Label","style","builderInput","htmlFor","hasError","FormErrors","shake","Object","assign","bind","target","i","source","prototype","hasOwnProperty","call","apply","this","d","_ref2","fill","fillRule","transform","xlinkHref","props","width","height","SelectSimple","_rest$style","multiple","placeholder","size","disabled","wrapper","root","data-value","option","ArrowIcon","arrowIcon","POINTS","Spinner","borderWidth","duration","baseStyle","useMemo","normalized","normalizeSize","Math","round","animationDuration","WebkitAnimationDuration","MozAnimationDuration","cn","spinner","def","str","String","withPoints","find","points","indexOf","ua","toLowerCase","Android","includes","BlackBerry","iOS","test","OperaMini","IEMobile","Safari","WebView","isMobile","useI18n","namespace","loader","backend","registerResolver","useTranslation","cx","cy","r","_ref3","_ref4","_ref5","_ref6","viewBox","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","resolve","module","exports","ProductsApi","BaseApi","list","workspaceId","params","productId","loadBySlug","productSlug","collectionId","getUser","state","currentUser","user","getUpdateMarkers","markers","getUserRole","createSelector","getWorkspace","workspace","_user$workspaces$find","workspaces","item","_id","role","phone","m","replace","match","cc","operator","parts","local","join","useEventCallback","fn","ref","useRef","current","useCallback","ImagePreview","url","roundness","hasTip","isUploading","t","backgroundImage","uploading","emptyTip","FiCamera","ImageUploadCover","accept","onChange","buttonLabel","previewUrl","onApplyClick","active","src","alt","marginRight","Fragment","onClick","ImageUploadAvatar","accumulatedWeight","tests","reduce","acc","weight","LAZY_PATTERN","shortenThan","password","context","minLength","longerThan","maxLength","repetitive","noLowercase","noUppercase","noNumbers","noSymbols","lazyPassword","arguablySafeLength","SYMBOLS","pattern","symbol","index","part","filter","Boolean","PasswordValidator","constructor","config","optional","validate","entries","push","estimate","total","passwordValidator","validators","PasswordWithStrength","initialPassword","super","strength","warnings","handleChange","componentDidUpdate","prevProps","prevState","lazy","skipChecks","critical","setState","render","withLabel","Translation","strengthMeter","PromptContext","createContext","useDeferredPrompt","useContext","InstallButton","tag","onAccept","onDismiss","deferredPrompt","async","preventDefault","prompt","userChoice","outcome","InstallDialog","onInstall","ModalDialog","title","modal","Button","fullWidth","InstallPromptProvider","setDeferredPrompt","handlePrompt","window","addEventListener","removeEventListener","Provider","InstallLink","href","useInstall","isStandalone","useMedia","dismissAt","setDismissAt","useLocalStorage","isOpen","setOpen","now","dismiss","install","Install","UpdateDialog","location","reload","CheckUpdate","useModal","isExpired","useSelector","ui","isClientExpired","cacheNames","caches","Promise","all","cacheName","delete","reg","serviceWorker","getRegistration","update","prepareWorker","then","show","clipPath","clipRule","Header","button","main_url","Logo","Link","to","text","DeprecatedChatsIcon","svgRef","IconBase","ForwardRef","stroke","strokeWidth","strokeLinecap","strokeLinejoin","SidebarNavItem","soon","isMarked","componentProps","NavLink","activeClassName","transitionClassNames","enter","enterActive","exit","exitActive","Backdrop","CSSTransition","in","unmountOnExit","timeout","Sidebar","useLocation","hasUnreads","useUnreadConversations","isInboxDisplayed","useExperiments","useBreakpoints","toggle","useToggle","IconButton","IconBurger","LogoIcon","CardsIcon","FiHelpCircle","SettingsIcon","SplashScreen","position","left","top","marginLeft","marginTop","AccountBlocked","isBlockedByIp","i18n","helpUrl","messenger","redirectUrl","Help","mesProps","platform","generateDeepLink","getUrl","CardMessengers","MessengerButton","data-messenger","FreeBanner","plan","trialEndedAt","isUnpaid","isTrial","useBilling","bannerTill","compareDate","today","getDate","getMonth","getFullYear","isToday","backgroundColor","borderColor","padding","borderRadius","pathname","from","FieldTip","tipTitle","dangerouslySetInnerHTML","__html","ActionSheet","links","cancel","el","LinkBlank","data-id","data-title","data-element","data-event-name","urlSafeComponent","__t","visible","MobileMenu","MainLayout","useMount","documentElement","classList","add","useUnmount","setFeedbackItemsFilter","billing","useWorkspace","status","cancelAtPeriodEnd","trialEnd","pause","highRiskTransaction","transaction","hasBilling","isFree","isPastDue","isUnlimited","isUnsubscribed","hasTrialEnd","isPrePaused","isPaused","pausedFrom","utc","closeDelay","isRaw","notifyStyle","NOTIFY_STYLES","success","showClose","handleCloseClick","FiX","notify","center","_len","args","Array","_key","danger","appRoot","getElementById","Modal","portalRef","portal","createPortalElement","useLayoutEffect","handlePortalClick","appendChild","removeChild","func","isRequired","any","oneOf","setAudienceFilter","clearAudienceStore","defaults","baseUrl","process","env","REACT_APP_USERPAGE_API_URL","endpoint","request","post","method","put","isArray","obj","arr","prop","val","urlSearch","startsWith","isAbsolute","headers","response","fetch","Accept","JSON","stringify","ok","json","ValidationError","AuthorizationError","statusText","ApiError","Scrollbar","cloneElement","Nav","heading","Children","toArray","SidebarHeader","leftButton","rightButton","Row","align","cls","TextareaField","inputStyles","FieldRow","field","form","touched","setFieldValue","Textarea","i18nBackend","unreadConversationsObject","conversations","unread","unreadConversations","toPairs","contact","unreadMessages","unreadConversationsCount","unreadMessagesCount","sum","prev","setPrev","updateTimestamp","setUpdateTimestamp","useDeepCompareEffect","isEqual","messages","CloseIcon","PlayCircleIcon","IntegrationList","integrations","api","useActions","isFetching","setIsFetching","integration","logo","integrated","integrationId","alert","handleRemove","exact","whatsappImg","defaultProp","withApi","WrappedComponent","_class","errorMapper","paths","withTranslation","reject","promise","handleError","remapErrors","parseError","mapped","number","NOTIFICATIONS_DELAY","useIntegration","rootIntegrationsPath","useMessengerIntegration","history","useHistory","selectedPage","setSelectedPage","fbApi","plugError","setFbApi","setPlugError","facebookApiAdapter","catch","useFacebookApi","isLoggedIn","login","setIsLoggedIn","scope","useFacebookLogin","isLoaded","pages","username","loadPages","setIsLoaded","setPages","setUsername","fields","accounts","data","useFacebookPages","setErrors","handleSubmit","create","token","access_token","handleLoginClick","MessengerIntegration","apiErrors","onSubmit","rootContainer","buttonContainer","submitButton","select","ERROR_MESSAGES_MAP","Unauthorized","TelegramIntegration","setToken","err","useTelegramIntegration","input","ViberIntegration","useViberIntegration","useVkIntegration","isConnected","setIsConnected","vk","setVk","groups","setGroups","selectedGroup","setSelectedGroup","step","setStep","popup","setPopup","loadGroups","Api","extended","v","res","items","toString","onAuthorize","groupId","$script","VK","init","apiId","vk_app_id","onAuthorizeVK","Auth","session","first_name","last_name","trim","vk_callback_url","open","getGroupsOptions","VKIntegration","routesMap","facebookImg","tutorialSrc","ru","en","telegramImg","viberImg","vkImg","IntegrationsPage","routes","rootPath","useIntegrationsPage","types","useRouteMatch","Switch","route","Route","Redirect","frameBorder","allow","allowFullScreen","OnboardPage","hasIntegrations","LinkButton","Badging","count","setBadge","setAppBadge","clearBadge","clearAppBadge","EventMarker","mark","FaviconMarker","icon","selector","default","element","querySelector","SoundMarker","sources","_sound","Howl","preload","autoplay","loop","volume","sound","stop","playing","play","fade","InboxEventNotifier","debounce","marker","statics_url","InboxObserver","eventNotifier","reconnected","socket","listenConnect","listenDisconnect","listenReconnect","listenVerifyVersion","listenNewMessages","listenCreateConversation","listenUpdateConversation","listenPaymentSucceeded","listenSubscriptionCancelled","handleActivity","DURATION_MAP","fast","normal","slow","createTransition","displayName","Transition","inProp","appear","innerRest","transitionDuration","extractDays","timestamp","typesMap","UserMessage","SystemMessage","createChunk","kind","base","days","received","isDifferentGroup","stats","author","destination","abs","getConversation","contactId","byContactId","getConversationItems","ids","getConversationsFilter","conversationsFilter","getFilteredConversations","isStatusMatched","isAssignMatched","userId","isEmpty","assignTo","isNameMatched","searchValue","wildcardRegexp","getFilteredAndSortedConversations","sort","a","b","op","showNewFirst","lastMessageReceived","values","DateBreak","time","StartConversation","Icon","MESSENGERS_REACT_ICONS_MAP","MessageDecorate","reverse","memo","ImageMessage","mediaUrl","thumbnailUrl","TextMessage","Linkify","properties","FileMessage","filename","decodeURIComponent","URIError","extractFilename","FaDownload","MessageGroup","colorMap","client","organization","team","Avatar","avatarUrl","mediType","PureMessageList","hasMore","onScroll","conversation","rootRef","prevScrollHeightRef","isStick","setIsStick","groupedMessages","allMessages","showInitialDate","chunk","pos","differ","processMessages","scrollTo","scrollTop","scrollHeight","scrollBottom","handleScroll","clientHeight","started","Fade","FiChevronDown","MessageList","useParams","refHate","actions","next","hasNext","getConversationMessages","pending","run","useFetching","query","useMessageList","GenderSelect","InlineEdit","Tag","indicatorPosition","successfully","autoComplete","readOnly","indicator","IoIosWarning","IoIosCheckmark","inputContainer","random","renderReadonly","tagComponents","TagsInput","onBlur","BasicTagsInput","tagProps","classNameRemove","inputProps","addOnBlur","addOnPaste","onlyUnique","renderLayout","ChevronDownIcon","TextButton","PureButton","ToggleButton","isPressed","onToggle","aria-pressed","SearchConversation","IoIosSearch","PLATFORM_ICONS_MAP","whatsapp","IoLogoWhatsapp","telegram","FaTelegramPlane","viber","FaViber","FaVk","FaFacebookMessenger","ConversationItem","avatar","lastMessage","lastActivity","isMessageUpcoming","isNew","isBlocked","PlatformIcon","ConversationList","AssignOption","Element","onSelect","isSelected","meta","prefix","fontSize","BaseIcon","DeprecatedCloseIcon","DeprecatedSettingsIcon","AssignFilter","hide","currentOption","handleSelect","DropDown","useFilter","useAssignFilter","useUser","members","statistics","getTeamMembers","my","FiUser","unassigned","FiInbox","useAssignFilterOptions","setFilter","loadStatistics","ConversationsStatusSwitch","choices","checked","ConversationsBar","isFaded","setIsFaded","conversationListState","loadConversations","filterList","blocked","read","authorKind","messageType","messageText","max","useConversationList","filterState","searchState","useSearchConversation","statusState","useConversationsStatusSwitch","faded","header","searchBlock","AssignTo","selectedOption","useClickAway","FIELDS","PureClientCard","initialValues","getDefaultValue","getInitialValues","formik","useEnhancedFormik","getFieldProps","setTouched","setSuccess","handleBlur","handleEnter","_e$target$blur","_e$target","stopPropagation","blur","dirty","submitForm","newSuccess","resetForm","timer","setTimeout","newState","clearTimeout","getFieldMeta","onKeyDown","useAutoSave","nav","backBtn","IoIosArrowBack","userName","sectionHeading","infoList","tagsMap","gender","tags","notes","TextareaAutosize","maxRows","Infinity","ClientCard","contacts","useClientCard","setValue","useAssignTo","Contact","caption","contactName","CheckIcon","ArchiveToggle","isActive","PureMessagesHeader","isArchivedConversation","onArchiveToggle","openClientCard","handleContactClick","MessagesHeader","changeStatus","useMessagesHeader","DeprecatedQuickRepliesIcon","ElevatedButton","useBooleanHandler","initial","set","handleTrue","handleFalse","handleToggle","arg","old","DeprecatedArrowUpIcon","useHandleError","MessageInput","onEnterPress","onSubmitClick","isFocused","onFocus","handleKeyPress","shiftKey","which","isFilled","filled","focused","onKeyPress","tabIndex","btnWrap","btn","DeprecatedPlusIcon","AttachFile","PureMessagesFooter","isAssigned","onSendMessage","onSendAttachment","onAssign","attachFormik","attachment","resetOnSuccess","messageFormik","delay","shouldAutoSubmit","submit","debouncedSubmit","useUpdateEffect","useAutoSubmit","ee","useEventEmitter","handleReplySelect","removeListener","emit","send","files","quickReplyBtn","startIcon","FiUserPlus","MessagesFooter","sendMessage","sendAttachment","file","assignMe","useMessagesFooter","DeprecatedEditIcon","shape","shortcut","QuickReplyItem","isEdit","data-replyid","PureQuickRepliesMatch","onSelectItem","DropUp","QuickRepliesMatch","setIsOpen","RegExp","escapeStringRegexp","replies","useQuickRepliesMatch","DeprecatedSaveIcon","DeprecatedTrashIcon","QuickRepliesDialog","buttons","footer","headerBefore","headerAfter","PureQuickReplyEdit","onRemove","enableReinitialize","fulfilled","QuickReplyEdit","replyId","redirectTo","setRedirectTo","reply","resolvePathname","useQuickReplyEdit","PureQuickReplyList","QuickReplyList","useQuickReplyList","NoConversation","aquamanImage","MessagesPage","isBelowDesktop","isClientCardOpen","openCard","closeCard","readConversation","retrieve","onRead","onMouseMove","hidden","ChatPage","AboveMobile","Mobile","InboxPage","shouldSubscribe","isGranted","pushMessaging","askPermission","subscription","getSubscription","unsubscribe","subscribe","users","saveMySubscription","usePushMessaging","Feature","rule","reason","EventEmitterContext","EventEmitter","EventEmitterProvider","ExperimentsContext","uid","experiments","useExperiment","experiment","raw","override","queryString","parse","search","readVariant","exp","variants","variant","getVariant","cohort","crc32","BrandingTopPane","animated","brandingUrl","useBrandingUrl","lang","useLanguage","expId","buttonText","slideDown","data-experiment","logoSrc","CardHeaderBackground","background","hex2rgb","imageUrl","placement","line","skype","instagram","handleClick","currentTarget","messengerIcons","rel","CardMessengersPane","toggleDescription","excerpt","description","photo","fullName","category","messengers","CardLinks","showActionSheet","website","isMenuBtn","isSingleCustomLink","urlObj","enabled","parseUrl","prettifyUrl","CardReviewRecommendModal","recommend","componentDidMount","componentWillUnmount","closeModalFn","normalizedMessage","IoIosClose","data-btn","btnStyle","CardReviewsPaneHeader","reviewsCountAll","reviewsCountPositive","reviewsCountNegative","CardReviewRecommend","fbLoggedIn","fbUserHasComment","onRecommend","data-recommend","CardReviewsList","CardMoreButton","CardReviewsItem","review","onDelete","dateFormat","createdAt","FaRegTrashAlt","CardReviewMessageModal","CardReviewsPane","confirmIsOpen","confirmCallback","confirm","callback","confirmMessage","onCancel","onConfirm","reviews","myReviews","recommends","_reviews","loadMore","outline","normalize","updatedAt","CardReviewsPaneContainer","isAuthenticated","facebookId","showModals","checkStatus","handleAuthRequest","getLoginStatus","loadMyReviews","showModal","authResponse","reviewsApi","accessToken","expiresIn","userID","loadReviews","urlSearchParams","withRecommends","concat","results","closeModal","newShowModals","previewMode","beforeIcon","IoLogoFacebook","iconFixed","CardProductsPage","card","setLastCollectionSlug","firstLoad","setFirstLoad","collectionSlug","collections","currentCollection","col","slug","publishedProductsCount","products","setProducts","publishedCount","backPath","unmountTimeout","scrollRef","y","useScroll","getProducts","collection","published","resetStore","productsStore","productsApi","prevProducts","initProducts","unmount","FiChevronLeft","CardProductsList","itemClassName","ProductItem","product","fromCollection","ImageIcon","Thumbnail","LazyImage","mode","containerClassName","isIntersecting","isIntersect","setIsIntersecting","setIsIntersect","observer","IntersectionObserver","entry","rootBounds","rootMargin","threshold","observe","unobserve","useIntersect","onLoad","onError","useLoadImage","img","componentStyle","thumbnail","photoUrl","emptyPlaceholder","IoMdImage","price","formattedDiscount","discountPrice","lineThrough","formatted","ScrollableHorizontalCardMenu","collectionsItems","hasLeftBtn","moveLeft","hasRightBtn","moveRight","activeLinkIndex","setActiveLinkIndex","useMeasure","windowWidth","useWindowSize","x","listScrollX","isDesktop","listScrollWidth","scrollWidth","hasScroll","menuItems","querySelectorAll","slice","itemsWidth","forEach","clientWidth","scrollLeft","prevActiveLinkIndex","useMenuScroll","FiChevronRight","CardProductsContainer","collectionsEnabled","defaultCollection","hasCollections","lastRequest","ProductAdminItem","hasDragHandle","DragIcon","Card","toggleActionSheet","actionSheetVisible","productsFetched","messengersPane","createRef","_isMounted","profile","fullname","innerText","widgetMode","design","widget","enabledLinks","hasActionSheet","productsVisible","allPublishedProductsCount","components","pointerEvents","inner","branding","CardTopBranding","slideUp","cardContent","userUrl","isAdmin","CardContainer","ShareIconButton","hasShadow","thing","showSocials","data-modal-btn","FiShare","OpenMessengerModal","selection","getSelection","range","createRange","selectNodeContents","templateRef","removeAllRanges","addRange","execCommand","data-product-messenger","PreviewModal","isShowing","pageUrl","NavBackButton","FiExternalLink","share","PreviewContext","useLocales","setLoaded","locales","loadLocales","trans","extend","previewReducer","action","merge","draft","usePreview","preview","updateDraft","resetDraft","updatePreview","resetPreview","CardPreviewStore","initialState","dispatch","useReducer","updateInitial","restrictCard","usePreviewStore","PageProductGallery","activePhotoIndex","handleSwipes","photos","toIndex","dir","moveSliderTo","backUrl","prevProductLink","nextProductLink","Swipeable","onSwiped","PageProducts","lastCollectionSlug","cardMessengers","addUrl","encodeURIComponent","absoluteUrl","openDialog","link","isSupported","addParam","getRedirectUrl","hasExternalUrl","externalUrl","externalButton","externalUrlObj","gauge","storeUrl","hostname","PageProductContainer","setProduct","getProduct","PageProduct","unmountAll","CardRoutes","home","CardPreview","HashRouter","LanguageContext","SelectMessengerType","messengerTypes","PageLayout","NoAccess","referrer","useAccessControl","buttonTo","getUpdateRedirect","permission","Container","PortalModalSheet","console","warn","data-button","data-event","data-variant","closeButton","container","iconBtn","IconClose","FacebookAPIAdapter","FB","instance","appId","facebook_app_id","cookie","xfbml","version","adapter","hasAccess","allowedRoles","isOwner","isManager","fragment","pairs","split","pair","trimmed","idx","filters","makeGet","FormData","append","makePost","deleteFiles","getHeaders","JSON_CONTENT_TYPE","Authorization","getAccessToken","store","ACCESS_TOKEN_KEY","URL","isForm","isFormData","isJsonContentType","URLSearchParams","media_url","requiredMark","optionalMark","builderStyle","FieldWarning","FieldError","row","errorClassName","restrictRule","rowProps","control","controlProps","getProps","hasWarning","showWarning","useRestriction","useFormikContext","formName","warning","replaceAll","isCustomRender","makeLabel","ReviewsApi","reviewId","_window$navigator","uaParser","userAgent","resultUrl","branding_url","fallback_language","main_hostname","finalTarget","utm_source","utm_medium","utm_campaign","utm_content","leadSlash","charAt","pop","isObject","ct","contentType","normalizeUrl","isAbsoluteUrl","origin","asyncify","parseErrors","logError","extras","Sentry","withScope","setExtras","captureException","createActionCreator","actionCreator","createSocketListener","socketFactory","eventName","transformPayload","createSocket","ignore","clientId","socketId","createActionCreators","createThunkActionCreator","apiCall","rejected","thunkActionCreator","arg0","_params","getState","is","requestType","successType","failure","failureType","deepPenetration","parentPath","resources","CURRENCY_SYMBOL","Map","resolveFormatter","memoize","has","Intl","NumberFormat","currencyDisplay","minimumFractionDigits","useGrouping","l","c","Box","regex","NavItemLink","NavItem","actionCreators","createListener","me","details","prices","websites","contactProduce","feedbackProduce","feedbackId","listenUserUpdated","event","listenSubscriptionCreated","listenSubscriptionUpdated","listenPaymentInitialSucceeded","listenPaymentFailed","listenPaymentRetryFailed","listenHighRiskTransactionUpdated","listenCreateFeedback","listenUpdateFeedback","createThunkAction","cancelUrl","Responsive","MEDIA_BREAKPOINTS","msg","_card$links","projectVersion","isLinksDisplayed","versionCheck","isOldVersionDisplayed","REACT_APP_TARGET","isSavingUtm","setContentType","preparePayload","originalPayload","ApiRequest","ApiClient","middlewares","_baseUrl","_headers","_middlewares","addMiddleware","addHeaders","param","generateUrl","compiledPath","compile","toPath","searchParams","vKey","vValue","createApiRequest","credentials","NetworkError","isJson","ForbiddenError","NotFoundError","LimitRequestsError","RequestError","opts","execRequest","patch","memJwtDecode","memoizeOne","jwtDecode","PERMANENT_KEYS","CLIENT_UUID_KEY","MssgApiClient","_socket","auth","getToken","tokenRequest","PATHS","logout","each","changePlan","previewPlanChange","changeCreditCard","getCoupon","renew","changeCard","payNow","donate","bots","upload","domain","connect","disconnect","uploadAvatar","uploadType","uploadCover","onboarding","block","uploadAttachment","mime","fileName","fileSize","sublist","migrate","listByCollection","retrieveBySlug","uploadPhoto","_ref7","websiteId","media","uploadImage","getWorkspaceId","uploadPhotos","payloads","_ref8","_ref9","failed","_ref10","checkInvite","checkRegistrationInvite","recoveryPassword","deleteAccount","_accessToken","clearAll","updateMyAccount","changeMyPassword","sendFeedback","updateUtm","_ref11","invites","switchApp","connectTelegram","addApnToken","_ref12","scaffold","updateHomePage","_ref13","uploadFavicon","_ref14","uploadIcon","uploadMany","_ref15","_ref16","_ref17","deleteUpload","_ref18","crm","settings","audience","downloadUrl","services","requestABlock","clone","applyTemplate","feedbacks","perWebsiteCount","recent","orders","blocks","convert","group","deleteMany","pageTemplates","templates","uploadThumbnail","_ref19","endpoints","sample","_socketUrl","socketUrl","_storeClientId","uuid","_closeSocket","_createSocket","io","transports","EnhancedFormik","formikConfig","FormikProvider","renderNode","isPaid","allowPastDue","paid","isBasic","BackendPlugin","DETECTION_ORDER","use","LanguageDetector","initReactI18next","supportedLngs","languages","fallbackLng","lowerCaseLng","cleanCode","ns","defaultNS","debug","REACT_APP_I18N_DEBUG","interpolation","escapeValue","detection","order","lookupQuerystring","lookupCookie","lookupLocalStorage","react","transKeepBasicHtmlNodesFor","lng","CollectionsApi","REPLACES","flags","pre","substitute","repeater","FiImage","ImageUpload","innerLabel","removable","handleDelete","opacity","FiTrash2","ImageField","previewName","setFieldError","setFieldTouched","formError","getValidationError","uploaded","useUploadCallback","CancelButton","styled","noborder","GUID","NavigationGuardMessage","leave","NavigationGuard","forbid","overlay","isBlocking","wasBlocking","setCallback","setWasBlocking","isMounted","useMountedState","navigationBlocker","when","confirmed","useNavigationGuard","EnhancedNavigationGuard","Notify","NotifyAndClose","PlanBadge","_getPlanDefinition","Badge","badgeStyle","getPlanDefinition","ContentOverlay","striped","dashed","NoAccessOverlay","FaLock","RestrictionContext","RestrictionScope","noVisuals","isPresented","useWarning","nested","isAlreadyPresented","upgradePath","canUseOverlay","overlayWarning","showedWarning","AnimatePresence","CardEditForm","successRedirectPath","image","analytics","facebook","google","yandex","seo","formikProps","SaveButton","ScrollableBox","Form","AvatarEdit","textAlign","Toggle","Checkbox","ToggleField","parentChange","BrandingEdit","customPointer","cursor","boxShadow","CustomPicker","inputChange","hexValid","Hue","direction","h","s","pointer","substr","LegacyColorPicker","hexShown","showHexinput","handleCustomChange","defaultColors","regexp","getAttribute","hex","noHex","isCustom","hexImage","ReactColorCustom","ColorField","CoverEdit","CATEGORIES","CategoryChoice","categories","CategoryField","extra","isPredefined","some","CategoryEdit","DescriptionEdit","useDomain","resolved","secured","DomainLayout","returnTo","DomainDisconnect","domainDisconnect","TextField","mask","unmask","DomainEdit","autoFocus","ChangeDNS","subdomain","cname","useRestrictedCard","ListItem","ArrowRightIcon","SeoEdit","TitleEdit","UrlEdit","domainValue","domainButtonText","beforeInput","re","normalizeWebsiteUrl","proto","protocol","host","WebsiteEdit","margin","WidgetCard","setIsPresented","GroupButtons","bordered","welcome","headline","IconHand","useBreakpoint","createBreakpoint","mobile","tablet","desktop","PageMain","breakpoint","isCopied","copyText","useCopyText","useSwitchApp","noHeader","nopadding","removeUrlProtocol","FiEye","FiLink","FiCheck","iconQr","FiEdit2","FiShoppingBag","FiBarChart","FiSliders","border","fontWeight","EmailSignature","onCopy","setIsCopied","useCopyElement","data-success","data-block","textDecoration","float","fontFamily","display","ShareQR","base64Url","setBase64Url","QRCode","toDataURL","generateQRCode","useQRCode","download","CopyContainer","copiable","copyTitle","legacy","tagClassName","buttonClassName","copiedClassName","CopyLink","noUrlLabel","clickable","useIsMobile","isNativeShare","handleCopy","InstaModalDialog","imgModal","MoreVisits","expired","setExpired","useExpired","Section","iconLink","SectionLink","iconEmail","iconEmbed","FaChevronRight","Restriction","subject","Fieldset","withProps","RadioIcon","xmlns","rx","RadioGroup","pane","RadioField","CheckboxField","hasTopLabel","POSITION_OPTIONS","DEVICE_OPTIONS","useTransOptions","WidgetEdit","positionOptions","deviceOptions","device","Layout","MessengerItem","definition","rounded","getMessengerName","SortableItem","SortableElement","SortableContainer","ordered","MESSENGER_DEFINITIONS","collectMessengers","messengersList","fetching","LABELS","NameField","lenient","len","normalizePhone","MessengerEdit","messengerId","onSuccess","help","useMessengerHelpHint","getPlaceholder","wrapContentStyle","overflow","Toggleable","classes","PageLinks","LinkEdit","linkId","deleteLink","isMatchId","useLink","Tabs","isControlled","selected","defaultSelected","prevSelected","isNil","_children","newEl","Tab","StatsHeader","StatsMore","expanded","stat","StatsList","toggleList","curr","TAB_DAY_MAP","NavButton","CardStatistics","interval","getPreviousDate","getNextDate","generateDateRange","handleLeftClick","handleRightClick","getCardStatistics","views","viewsAmount","FaAngleLeft","FaAngleRight","expandable","dateTime","startOf","endOf","min","getMinMaxDates","subtract","PLATFORMS","PixelEdit","pageTitle","draggable","SortableList","ProductsListDraggable","axis","lockAxis","onSortEnd","oldIndex","newIndex","product1Id","product2Id","prevItems","arrayMove","limit","helperClass","shouldCancelStart","dataset","AdminHeaderSearch","FiSearch","FilterMessage","LoadMoreButton","ProductsListFooter","isEmptyCollection","ProductsCountTextTail","CollectionsListDraggable","setCollections","col1Id","col2Id","currenciesObjectsArray","strToFloat","parseFloat","normalizePrice","discount","initState","evalDiscount","hasDiscount","normalizedValue","ProductPriceInputs","newValue","toggleDiscount","pick","prevValue","refAmount","priceContainer","priceInput","inputMode","refInput","currencySelect","publishedContainer","priceTogglerContainer","publishedLabel","priceLabel","OldSaveButton","keyHash","getCollections","useCollections","specifier","filterWithExclusion","useProductsMain","collectionPredicate","useProducts","guid","ProductsMain","activeCollectionsWithPublishedProductsCount","activeCollectionsWithPublishedProductsCountTextTail","IoIosAdd","onBottomScroll","IoMdCreate","PageProductsCollections","collectionsWithoutDefault","ProductCollectionEdit","hasChanges","handleRemoveClick","useProductCollectionEdit","setHasChanges","setCollection","handleErrors","prevCollection","noValidate","ACCEPT_IMAGES","selectStyles","provided","minHeight","multiValueLabel","paddingRight","isFixed","multiValueRemove","selectThemeOverride","theme","colors","primary","neutral20","neutral30","useProductEdit","baseurl","defaultCurrency","hasPrice","setHasPrice","initialProductCols","cols","setHasExternalUrl","originalCols","setOriginalCols","setIsUploading","isLoadingProduct","collectionsOptions","collectionsApi","loadProduct","newProduct","goBack","handlePhotoChange","currentImagesCount","images","urls","removePhoto","handleCollectionChange","removedValue","toggleLink","FiPlus","ProductEdit","_errors$externalButto","_errors$externalButto2","Select","isMulti","isClearable","isSearchable","noOptionsMessage","ROUTES","qrUrl","useNavigationUtils","restrictedCard","parsedWebsiteUrl","noProtocolWebsiteUrl","bgColor","page_messengers","setPageMessengers","sorted","activeAnalyticsPlatforms","capitalize","activeAnalyticsPlatformsPreview","seoPreview","noaccess","cardStatistics","paddingTop","CardPage","_options","useMatchUrl","LoadingIndicator","inline","dotStyle","switchTo","redirect_to","app","IsGranted","renderNoAccess","componentNoAccess","useAsync","checkRestrictions","Userpage","basename","Router","LOCALES","INITIAL_DATA","BASENAME","App","copyToClipboard","useCopyToClipboard","setCopied","timerRef","defaultOptions","notifications","createNotification","handleNotificationDelay","getNotificationId","timerId","clear","_ua","_name","_bot","_secret","_community","_redirectUrl","_auto","removeParam","getPlatform","BOT_SUPPORT","MessengerLink","WhatsAppLink","TelegramLink","ViberLink","chatURI","VKLink","SUPPORT","InstagramLink","floor","log","num","pow","toFixed","inputStyle","isSelectAddon","renderAddon","node","isSelect","addon","contextBlock","afterInput","hexInput","clearable","handleClear","_rest$onChange","_beforeInput","_afterInput","_rootClassName","before","after","_inputClassName","small","sizeNormal","valueLength","_ref$current","focus","inputWrapper","composeRefs","counter","clearAddon","hasRightAddon","FiCalendar","customNativeIcon","FiClock","g","parseInt","PLANS","REACT_APP_WEBAPP_API_URL","websocket_url","setDefaultWorkspace","aboutMe","inverse","dot","webpackAsyncContext","entityOrId","CONFIG","curry","ModalSheetHeader","closePath","light","closeIcon","bottomContent","rBtn","isCloseFunction","closeProps","CloseTag","saved","useTitle","ModalSheetPane","motionProps","motion","div","sheetyPane","hasHeader","padded","slugify","separator","lower","minWidth","aboveMobile","belowDesktop","maxWidth","useMediaQuery","isAboveMobile","isTablet","themeStyles","chevron","badge","arrow","chevronData","applicationServerKey","urlB64ToUint8Array","vapid_public_key","isNotificationSupport","isPushManagerSupport","isServiceWorkerSupport","PushMessagingError","base64String","base64","repeat","rawData","atob","outputArray","Uint8Array","charCodeAt","displayNotification","showNotification","requestPermission","isPromise","isSubscribed","registration","pushManager","userVisibleOnly","ExtendableError","isFeatureAccessError","within","getPlans","getId","paddle","liqpay","isDeprecated","deprecated","isPublished","getPlanTypes","unpaid","actual","BASIC","UNLIMITED","UNPAID","PAID","UPGRADEABLE","DEPRECATED","ACTUAL","SubmitButton","isInitialHidden","isSubmitting","isHidden","CheckboxIcon","customStyle","checkMarkColor","checkMarkSquareBorderColor","checkMarkSquareFillColor","checkMarkSquare","ry","checkMark","wrap","toggler","sheet","transitions","ease","damping","stiffness","sheetPane","ModalSheet","isClosing","onExit","fullHeight","paneMotionProps","sheetPaneProps","handleClosed","applyClose","rootLegacy","__LEGACY__","animate","transition","onAnimationComplete","sheetLegacy","dragMomentum","normalName","BasicAvatar","errorsPrefix","useFormik","validationErrors","setSubmitting","setStatus","resolvers","backendOptions","i18nextOptions","resolver","localization","fallbackValue","tidyFilter","fromEntries","isMatch","_isMatch","isExact","isSubstring","byEquality","bySubstring","cmp","mapping","0","1","filterWithSpecifier","invert","every","matchers","reducer","mapKey","predicate","byProps","exclude","hasFilter","hasExclusion","omit","portalTo","onClosing","onClose2","closing","setClosing","probing","setProbing","handleClose","useControlledModalSheet","_e$preventDefault","prevIsOpen","_e$preventDefault2","_e$preventDefault3","setMaxListeners","onShow","onHide","setWarning","checkRule","w","clearWarning","handleBlockedEvent","deepEqual","hideWarning","createHooks","minRows","_className","_value","NavigationObserver","check","observers","lastRequestId","defaultState","requestId","requestCount","deps","safeDispatch","isPermissionBlock","idle","AccessRequestError","AccessRequestErrorBuilder","permissions","assumePaid","setPermission","setSubject","build","granted","upgrade","lookupUpgrade","ACTION_EVERY","ACTION_ALL","actionsSet","Set","resource","rawActions","AccessPermissionRequest","resourceOrPermission","_this$workspace","_this$workspace$billi","isEvery","isBy","_this$workspace2","toId","owner","only","isAny","Voter","supports","supportsVersion","vote","WebsitesVoter","canCreate","canEditBasic","quantities","getLimitByRole","PagesVoter","PageBlocksVoter","acl","canEdit","grantsInArrayPayload","kindOrDescriptor","TOTAL_ACTIONS","ALL_ACCESS","Resource","access","_any","grantsAny","Role","parent","getResourceIds","addResource","existing","getResource","_this$parent","examine","strict","got","ACL","roles","getRoleIds","getRuleIds","addRole","getRole","layer","parseRuleDefinition","parsed","aclVoter","_acl","matches","grant","definitions","rules","loadACL","voters","addVoter","voter","_workspace$billing","constraints","canDelete","roleLimit","allowed","page","canView","_request$subject","_request$subject2","public","colorId","_subject$items","subjectOrCallback","invariant","builder","itemError","useDispatch","deepBindActionCreators","boundActionCreators","bindActionCreator","enableMapSet","produceAction","creator","_len2","_key2","ReducerBuilder","immutable","_state","_immutable","_cases","addCase","handler","hasCase","runCase","_len3","_key3","createReducer","_this","isDraft","produce","handle","createFuncReducer","createReducerBuilder","updateIn","cond","findIndex","deleteIn","splice","updateResource","collectionSelector","entityProp","resultSelector","prepend","onUpdate","entityId","deleted","updated","created","unshift","contentClassName","afterIcon","socialStyle","loaderColor","styleClassName","isButton","renderIcon","_disabled","rootProps","iconFixedLeft","iconFixedRight","textOverflow","FaWhatsapp","FaInstagram","FaSkype","satisfies","versionString","BasicRestrictionsApplier","applicable","applied","restrictionsApplier","_restrictors","restrictor","restrictors","applyTo","newObj","p","endIcon","out"],"mappings":"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IAiBzC,OAJAmnB,aAAqB,KACjBkmD,EAAev4B,IAChB,CAACA,IAGAzzC,IAAAC,cAAA,OAAKT,UAAWkK,IAAG,CAAE,CAACvJ,KAAc,EAAM,CAACA,IAAkBomB,KACzDvmB,IAAAC,cAACwqE,GAAY,CACTh3B,YAAannB,EACbq+C,KAAK,IACLC,SAAS,IACTC,UArBMv2D,UAAkC,IAA3B,SAAEw2D,EAAQ,SAAEC,GAAUt/D,EAC3C,MAAMwgE,EAAS3/C,EAAMw+C,GAAUrqE,GACzByrE,EAAS5/C,EAAMy+C,GAAUtqE,GAE/BurE,EAAgBd,GAAcC,KAAUD,EAAWJ,EAAUC,IAEzDD,IAAaC,SACPxyC,EAAQlS,IAAIotB,YAAYhf,KAAK,CAAEpwB,QAAS,CAAE4nE,SAAQC,aAepDb,YAAalrE,GACbkP,EAAGA,EACHm7D,UAAWA,EACXc,kBAAoBp/D,IAChB,GAAiC,gBAA7BA,EAAElF,OAAOukE,QAAQ17C,QACjB,OAAO,MAc/Bk8C,GAAyBrsE,aAAe,CACpC8qE,WAAW,GC1GAuB,U,uCCDA,IAAC,eAAiB,YAAY,WAAa,YAAY,eAAiB,WAAW,mBAAqB,WAAW,sBAAwB,YAAY,eAAiB,YAAY,WAAa,YCShN,MAoKMI,GApKkB,CACpB,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,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","file":"userpage.56b054c5dafdc4deb406.js","sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"root\":\"h9s4vVcI\"};","import { useState, useEffect } from 'react';\nimport NotificationCenter from './notification-center';\n\nfunction useNotificationCenter() {\n    const [, setCount] = useState(0);\n    const notificationCenter = NotificationCenter.getInstance();\n\n    useEffect(() => {\n        const handleEvent = () => setCount((prevCount) => prevCount + 1);\n        notificationCenter.on('notify', handleEvent);\n        notificationCenter.on('remove', handleEvent);\n        notificationCenter.on('clear', handleEvent);\n\n        return () => {\n            notificationCenter.off('notify', handleEvent);\n            notificationCenter.off('remove', handleEvent);\n            notificationCenter.off('clear', handleEvent);\n        };\n    }, []);\n\n    return notificationCenter;\n}\n\nexport default useNotificationCenter;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Notification from './Notification';\nimport styles from './NotificationsBag.scss';\nimport useNotificationCenter from './useNotificationCenter';\n\nconst propTypes = {\n    notificationComponent: PropTypes.elementType,\n    className: PropTypes.string,\n};\n\nconst defaultProps = {\n    notificationComponent: Notification,\n};\n\nfunction NotificationsBag({ className, notificationComponent: NotificationComponent }) {\n    const notificationCenter = useNotificationCenter();\n\n    const content = (\n        <div className={classNames(styles.root, className)}>\n            {notificationCenter.getNotifications().map((notification) => (\n                <NotificationComponent\n                    key={notification.id}\n                    onClose={() => notificationCenter.remove(notification.id)}\n                    {...notification.options}\n                >\n                    {notification.message}\n                </NotificationComponent>\n            ))}\n        </div>\n    );\n\n    return ReactDOM.createPortal(content, document.body);\n}\n\nNotificationsBag.propTypes = propTypes;\nNotificationsBag.defaultProps = defaultProps;\n\nexport default NotificationsBag;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_12nUQSGH\"};","import React from 'react';\nimport NotificationsBag from './NotificationsBag';\nimport styles from './NotificationsBagLegacy.scss';\n\nfunction NotificationsBagLegacy() {\n    return <NotificationsBag className={styles.root} />;\n}\n\nexport default NotificationsBagLegacy;\n","import moment from 'moment';\n\nexport const formatDate = (date, format, locale) =>\n    moment(date)\n        .locale(locale)\n        .format(format);\nexport const formatRemainingDays = (date, locale) =>\n    moment(date)\n        .locale(locale)\n        .fromNow();\n\nexport default (value, format, locale) => {\n    if (value instanceof Date || moment.isMoment(value)) {\n        return format === 'remaining' ? formatRemainingDays(value, locale) : formatDate(value, format, locale);\n    }\n};\n","import date from './date';\nimport currency from './currency';\nimport phone from './phone';\nimport platform from './platform';\nimport plan from './plan';\nimport fileSize from './fileSize';\n\nconst formatters = [\n    //\n    date,\n    currency,\n    phone,\n    platform,\n    plan,\n    fileSize,\n];\n\nexport const format = (value, format, locale = navigator.language, options) => {\n    for (const formatter of formatters) {\n        const result = formatter(value, format, locale, options);\n\n        if (result !== undefined) {\n            return result;\n        }\n    }\n\n    return value;\n};\n","import { formatPrice } from '@mssgme/shared';\n\n// TODO: redo, Trans component do not support options\nexport default (value, format, locale, options) => {\n    if (format === 'currency') {\n        if (typeof value === 'number') {\n            return formatPrice(value, options.currency, locale);\n        } else {\n            return formatPrice(value.amount, value.currency, locale);\n        }\n    }\n};\n","import { formatPhone } from '@mssgme/shared';\n\n// TODO: remove formatter, do simpler\nexport default (value, format, locale, options) => {\n    if (format === 'phone') {\n        return formatPhone(value, locale);\n    }\n};\n","import { MESSENGERS } from '@mssgme/constants';\nimport { get } from 'lodash';\n\n// TODO: remove this formatter, do simpler\nexport default (value, format, locale) => {\n    if (format === 'platform') {\n        return get(MESSENGERS, `${value}.label`, value.toUpperCase());\n    }\n};\n","import plans from '@mssgme/plans';\n\n// TODO: remove, @mssgme/plans will be remove in the future\nexport default (value, format, locale) => {\n    if (format === 'plan') {\n        return plans[value] ? plans[value].name : (value || '').toUpperCase();\n    }\n};\n","import { fileSizeToHumanReadable } from '@mssgme/shared';\n\n// TODO: remove formatter, do simpler\nexport default (value, format, locale) => {\n    if (format === 'filesize') {\n        return fileSizeToHumanReadable(+value);\n    }\n};\n","import { createAction } from '../helpers';\n\nexport const toggleMobileMenu = createAction('TOGGLE_MOBILE_MENU');\nexport const toggleStylingMode = createAction('TOGGLE_STYLING_MODE');\nexport const toggleMobileContainer = createAction('TOGGLE_MOBILE_CONTAINER');\n\nexport const setMessage = createAction('SET_MESSAGE');\n\nexport const setConversationsFilter = createAction('SET_CONVERSATIONS_FILTER');\n\n// todo: remove deprecated\n/** @deprecated */\nexport const setPagePreview = createAction('SET_PAGE_PREVIEW');\n/** @deprecated */\nexport const setPageBlockPreview = createAction('SET_PAGE_BLOCK_PREVIEW');\n\nexport const setBackTrack = createAction('SET_BACK_TRACK');\n\nexport const setAppTrackingStatus = createAction('SET_APP_TRACKING_STATUS');\n","import { createAction } from '../helpers';\n\nexport const completePayment = createAction('CHECKOUT/COMPLETE_PAYMENT');\nexport const applyCoupon = createAction('CHECKOUT/APPLY_COUPON');\nexport const removeCoupon = createAction('CHECKOUT/REMOVE_COUPON');\nexport const complete = createAction('CHECKOUT/COMPLETE_CHECKOUT');\nexport const changeCountry = createAction('CHECKOUT/CHANGE_COUNTRY');\nexport const applyPlan = createAction('CHECKOUT/APPLY_PLAN');\nexport const load = createAction('CHECKOUT/LOAD');\nexport const selectPaymentMethod = createAction('CHECKOUT/SELECT_PAYMENT_METHOD');\nexport const error = createAction('CHECKOUT/ERROR');\nexport const reset = createAction('CHECKOUT/RESET');\nexport const close = createAction('CHECKOUT/CLOSE');\n","export const setProductsFilter = (payload) => ({\n    type: 'SET_PRODUCTS_FILTER',\n    payload,\n});\n\nexport const clearProductsStore = () => ({\n    type: 'CLEAR_PRODUCTS_STORE',\n});\n\nexport const setProductsSubFilter = (payload) => ({\n    type: 'SET_PRODUCTS_SUB_FILTER',\n    payload,\n});\n\nexport const clearProductsSubStore = () => ({\n    type: 'CLEAR_PRODUCTS_SUB_STORE',\n});\n","export const selectBot = (botId, bot) => ({\n    type: 'SELECT_BOT',\n    botId,\n    bot,\n});\n\nexport const openDialogBranch = ({ parentResponseID, nextResponseID, content }) => ({\n    type: 'OPEN_DIALOG_BRANCH',\n    parentResponseID,\n    nextResponseID,\n    content,\n});\n\nexport const setDialogPath = (path) => ({\n    type: 'SET_DIALOG_PATH',\n    path,\n});\n","export default __webpack_public_path__ + \"img/vk.svg\";","export default __webpack_public_path__ + \"img/iconWhatsapp.svg\";","// extracted by mini-css-extract-plugin\nexport default {\"label-container\":\"_3JlfBHF5\",\"labelContainer\":\"_3JlfBHF5\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Input } from '../Inputs';\nimport FormRow from '../FormRow';\nimport Label from '../Label';\nimport FormErrors from '../FormErrors';\n\nimport styles from './styles.scss';\n\nconst labelStyle = { paddingLeft: 10, color: '#333', marginBottom: 4 };\nexport default function FormField({\n    component: Component = Input,\n    id,\n    label,\n    required,\n    labelClassName,\n    inputClassName,\n    errorStyle,\n    shakeError,\n    errors,\n    wrapAs,\n    children,\n    ...rest\n}) {\n    return (\n        <FormRow as={wrapAs}>\n            {label && (\n                <div className={styles.labelContainer}>\n                    <Label\n                        style={rest.builderInput ? labelStyle : null}\n                        htmlFor={id}\n                        hasError={!!errors}\n                        className={labelClassName}\n                    >\n                        {label} {required && <span>*</span>}\n                    </Label>\n                </div>\n            )}\n            <Component id={id} className={inputClassName} hasError={!!errors} {...rest} />\n            {children}\n            {errors && <FormErrors error={errors} errorStyle={errorStyle} shake={shakeError} />}\n        </FormRow>\n    );\n}\n\nFormField.propTypes = {\n    component: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n    wrapAs: PropTypes.oneOfType([PropTypes.string, PropTypes.elementType, PropTypes.func]),\n    label: PropTypes.string,\n    id: PropTypes.string,\n    labelClassName: PropTypes.string,\n    inputClassName: PropTypes.string,\n    errorStyle: PropTypes.object,\n    children: PropTypes.node,\n    placeholder: PropTypes.string,\n    required: PropTypes.bool,\n    shakeError: PropTypes.bool,\n    errors: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.array]),\n};\n","export default __webpack_public_path__ + \"img/icon_share_one.png\";","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"_11fX_eXS\",\"root\":\"_1DOGLKoC\",\"builderInput\":\"_16xArOy0\",\"error\":\"_2bRd8mVk\",\"normal\":\"_24IoT-_t\",\"small\":\"RqyvhRYB\",\"placeholder\":\"_3e-pxhXl\",\"disabled\":\"_1fGrxhiW\",\"arrowIcon\":\"_1rcUa1JO\"};","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar _ref = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M396.991 2042.5l-3.308 3.025a.537.537 0 000 .808c.244.223.64.223.884 0l3.75-3.429a.537.537 0 000-.808l-3.75-3.429a.667.667 0 00-.884 0 .537.537 0 000 .808l3.308 3.025z\",\n  id: \"select_arrow_svg__a\"\n}));\nvar _ref2 = /*#__PURE__*/React.createElement(\"use\", {\n  fill: \"currentColor\",\n  fillRule: \"nonzero\",\n  transform: \"matrix(0 1 1 0 -2038.5 -393.5)\",\n  xlinkHref: \"#select_arrow_svg__a\"\n});\nfunction SvgSelectArrow(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 8,\n    height: 5\n  }, props), _ref, _ref2);\n}\nexport default SvgSelectArrow;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './styles.scss';\n\nimport ArrowIcon from '../../../../icons/select_arrow.svg';\n\nconst SelectSimple = ({\n    className,\n    multiple,\n    placeholder,\n    options,\n    hasError,\n    size,\n    value,\n    builderInput,\n    disabled,\n    ...rest\n}) => (\n    <div className={styles.wrapper}>\n        <select\n            className={classNames(className, styles.root, {\n                [styles.error]: hasError,\n                [styles[size]]: !!styles[size],\n                [styles.placeholder]: placeholder && !value,\n                [styles.disabled]: disabled,\n                [styles.builderInput]: builderInput,\n            })}\n            multiple={multiple}\n            value={value}\n            disabled={disabled}\n            data-value={value}\n            {...rest}\n        >\n            {placeholder && <option value=\"\">{placeholder}</option>}\n            {options.map((option) => (\n                <option key={option.value} value={option.value} disabled={option.disabled}>\n                    {option.label}\n                </option>\n            ))}\n        </select>\n        <ArrowIcon color={rest.style?.color} className={styles.arrowIcon} />\n    </div>\n);\n\nSelectSimple.propTypes = {\n    options: PropTypes.arrayOf(\n        PropTypes.shape({\n            label: PropTypes.string,\n            value: PropTypes.string,\n        })\n    ).isRequired,\n    value: PropTypes.string,\n    placeholder: PropTypes.string,\n    className: PropTypes.string,\n    hasError: PropTypes.bool,\n    multiple: PropTypes.bool,\n    disabled: PropTypes.bool,\n    elementStyle: PropTypes.string,\n    size: PropTypes.oneOf(['normal', 'small']),\n    builderInput: PropTypes.bool,\n};\n\nSelectSimple.defaultProps = {\n    builderInput: false,\n    hasError: false,\n    multiple: false,\n};\n\nexport default SelectSimple;\n","export default __webpack_public_path__ + \"img/logo_bot.svg\";","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3Pb-B5RH\",\"spinner\":\"_2S9bt9mk\",\"rotate\":\"_11rFdkOa\",\"black\":\"_2du6YMP-\",\"gray\":\"_20M_pSzf\",\"white\":\"_3-o3pxPo\"};","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useMemo } from 'react';\n\nimport styles from './Spinner.scss';\n\nexport const POINTS = ['%', 'px', 'pt', 'em'];\nexport const COLORS = ['black', 'white', 'gray'];\n\nSpinner.propTypes = {\n    className: PropTypes.string,\n    style: PropTypes.object,\n    size: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    borderWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    color: PropTypes.oneOf(COLORS),\n    duration: PropTypes.number,\n};\n\nSpinner.defaultProps = {\n    size: 40,\n    duration: 0.8,\n    color: 'black',\n};\n\nexport default function Spinner({ className, borderWidth, size, duration, color, style: baseStyle, ...rest }) {\n    const style = useMemo(() => {\n        const normalized = normalizeSize(size);\n        const normalizedBorderWidth = normalizeSize(borderWidth || Math.round(+normalized * 0.05));\n\n        return {\n            width: normalized,\n            height: normalized,\n            borderWidth: normalizedBorderWidth,\n            animationDuration: `${duration}s`,\n            WebkitAnimationDuration: `${duration}s`,\n            MozAnimationDuration: `${duration}s`,\n        };\n    }, [size, duration, borderWidth]);\n\n    return (\n        <div className={cn(styles.root, className)} style={baseStyle}>\n            <div className={cn(styles.spinner, styles[color])} style={style} {...rest} />\n        </div>\n    );\n}\n\nexport function normalizeSize(size, def = 'px') {\n    if (!size) return;\n\n    const str = String(size);\n    const withPoints = POINTS.find((points) => str.indexOf(points) > 0);\n\n    return withPoints ? size : `${size}${def}`;\n}\n","import Spinner from './Spinner';\n\nexport default Spinner;\n","export default function(ua) {\n    const normalized = (ua || '').toLowerCase();\n\n    const Android = normalized.includes('android');\n    const BlackBerry = normalized.includes('blackberry');\n    const iOS = /iphone|ipad|ipod/i.test(normalized);\n    const OperaMini = normalized.includes('opera mini');\n    const IEMobile = normalized.includes('iemobile');\n    const Safari = normalized.includes('safari');\n    const WebView = normalized.includes('wv');\n    const isMobile = Android || BlackBerry || iOS || OperaMini || IEMobile;\n\n    return {\n        Android,\n        BlackBerry,\n        iOS,\n        OperaMini,\n        IEMobile,\n        Safari,\n        WebView,\n        isMobile,\n    };\n}\n","export default __webpack_public_path__ + \"img/aboutProPhone.png\";","export default __webpack_public_path__ + \"img/powered_by_stripe_ol.svg\";","import { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { backend } from '../i18n-service';\n\nexport function useI18n(namespace, loader) {\n    useState(() => backend.registerResolver(namespace, loader));\n\n    return useTranslation(namespace);\n}\n","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar _ref = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 1,\n  cy: 1,\n  r: 1,\n  fill: \"currentColor\"\n});\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 5,\n  cy: 1,\n  r: 1,\n  fill: \"currentColor\"\n});\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 1,\n  cy: 6,\n  r: 1,\n  fill: \"currentColor\"\n});\nvar _ref4 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 5,\n  cy: 6,\n  r: 1,\n  fill: \"currentColor\"\n});\nvar _ref5 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 1,\n  cy: 11,\n  r: 1,\n  fill: \"currentColor\"\n});\nvar _ref6 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 5,\n  cy: 11,\n  r: 1,\n  fill: \"currentColor\"\n});\nfunction SvgDrag(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 6 12\",\n    fill: \"none\"\n  }, props), _ref, _ref2, _ref3, _ref4, _ref5, _ref6);\n}\nexport default SvgDrag;","export default __webpack_public_path__ + \"img/facebook.png\";","var map = {\n\t\"./Avatar.svg\": \"8Fnn\",\n\t\"./aboutProBg.jpg\": \"Mh6W\",\n\t\"./aboutProLogo.svg\": \"Fgr5\",\n\t\"./aboutProPhone.png\": \"2xW5\",\n\t\"./ae_logo.png\": \"W5Fm\",\n\t\"./ae_logo.svg\": \"yfn/\",\n\t\"./blank.png\": \"Ng9b\",\n\t\"./card/logo.svg\": \"DSsC\",\n\t\"./choose.svg\": \"KDbz\",\n\t\"./do.png\": \"y/NB\",\n\t\"./facebook.png\": \"5Ay2\",\n\t\"./facebook2.svg\": \"TM/7\",\n\t\"./hand.png\": \"o9yr\",\n\t\"./ic_check_circle_black_24px.svg\": \"fc//\",\n\t\"./icon-go-back.svg\": \"eI6h\",\n\t\"./iconWhatsapp.svg\": \"/jrZ\",\n\t\"./icon_arrow_grey.svg\": \"9hqQ\",\n\t\"./icon_share_one.png\": \"0MO7\",\n\t\"./icon_share_three.png\": \"t27/\",\n\t\"./icon_share_two.png\": \"IfAq\",\n\t\"./icon_we_use_mssgme_en.svg\": \"DkyN\",\n\t\"./icon_we_use_mssgme_ru.svg\": \"uzfa\",\n\t\"./insta.svg\": \"o5DE\",\n\t\"./insta_share.png\": \"kpO9\",\n\t\"./logo.svg\": \"zA3n\",\n\t\"./logo_bot.svg\": \"17jI\",\n\t\"./man.png\": \"WMO/\",\n\t\"./mc_logo.png\": \"qEs3\",\n\t\"./messengers/icon-facebook-login.svg\": \"7Sa5\",\n\t\"./messengers/icon-facebook.svg\": \"rIrL\",\n\t\"./messengers/icon-line.svg\": \"FzdF\",\n\t\"./messengers/icon-skype.svg\": \"xk1Y\",\n\t\"./messengers/icon-telegram.svg\": \"sJC1\",\n\t\"./messengers/icon-viber.svg\": \"zY6s\",\n\t\"./messengers/icon-vk.svg\": \"y0Q8\",\n\t\"./messengers/icon-whatsapp.svg\": \"rdQp\",\n\t\"./onboarding/analytics.svg\": \"KZ4r\",\n\t\"./onboarding/analytics_integrations.svg\": \"pmn+\",\n\t\"./onboarding/categories.svg\": \"lhwe\",\n\t\"./onboarding/cover.svg\": \"tbzE\",\n\t\"./onboarding/domain.svg\": \"RspG\",\n\t\"./onboarding/googlepay.png\": \"td/u\",\n\t\"./onboarding/link.svg\": \"X7QK\",\n\t\"./onboarding/messengers.svg\": \"qFRm\",\n\t\"./onboarding/no_branding.svg\": \"C4Pa\",\n\t\"./onboarding/pixel.svg\": \"hJsr\",\n\t\"./onboarding/support.svg\": \"trqa\",\n\t\"./power.png\": \"gHcT\",\n\t\"./powered_by_stripe_ol.svg\": \"3ai1\",\n\t\"./robot.png\": \"v4jp\",\n\t\"./stripe.png\": \"Qlef\",\n\t\"./telegram.png\": \"sav8\",\n\t\"./telegram2.svg\": \"BHCP\",\n\t\"./viber.svg\": \"QJGC\",\n\t\"./viber2.svg\": \"lsIJ\",\n\t\"./visa_light.svg\": \"RbiZ\",\n\t\"./visa_logo.png\": \"H8+p\",\n\t\"./vk.svg\": \"/GFi\",\n\t\"./whatsapp.svg\": \"e66u\",\n\t\"./woman.png\": \"tSrR\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"5WF1\";","import { BaseApi } from './baseApi';\n\nexport class ProductsApi extends BaseApi {\n    list(workspaceId, params) {\n        return this.get([`/workspaces/${workspaceId}/products`, params]);\n    }\n\n    load(workspaceId, productId) {\n        return this.get([`/workspaces/${workspaceId}/products/${productId}`]);\n    }\n\n    loadBySlug(workspaceId, productSlug, collectionId) {\n        return this.get([`/workspaces/${workspaceId}/products/${collectionId}/${productSlug}`]);\n    }\n}\n\nexport default new ProductsApi();\n","import { createSelector } from 'reselect';\nimport { getWorkspace } from './workspaceSelectors';\n\nexport const getUser = (state) => state.currentUser.user;\nexport const getUpdateMarkers = (state) => state.currentUser.markers;\n\nexport const getUserRole = createSelector(\n    getUser,\n    getWorkspace,\n    (user, workspace) => (\n        user.workspaces.find((item) => item.workspace === workspace._id)?.role\n    )\n);\n","const formatPhone = (phone, locale) => {\n    const clean = (phone || '').replace(/\\D/g, '');\n    const m = clean.match(/^(?:(\\d*?)(\\d{1,3}))?(\\d{3})(\\d{2})(\\d{2})$/);\n\n    if (m) {\n        const [, cc, operator, ...parts] = m;\n        let local = parts.join(cc ? ' ' : '-');\n\n        if (operator) {\n            local = (cc ? operator : `(${operator})`) + ' ' + local;\n        }\n\n        if (cc) {\n            local = `+${cc} ` + local;\n        }\n\n        return local;\n    }\n\n    return phone || '';\n};\n\nexport function normalizePhone(value, maxLength = 18, lenient = true) {\n    const len = (value && value.length) || 0;\n\n    if (len === 0) return '';\n\n    const phone = (lenient || value.indexOf('+') >= 0 ? '+' : '') + value.replace(/\\D/g, '');\n\n    return phone.slice(0, maxLength);\n}\n\nexport default formatPhone;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3bntFHH4\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './styles.scss';\n\nconst Label = ({ className, hasError, children, ...rest }) => (\n    <label className={classNames(styles.root, className)} {...rest}>\n        {children}\n    </label>\n);\n\nLabel.propTypes = {\n    className: PropTypes.string,\n    hasError: PropTypes.bool,\n    children: PropTypes.any,\n};\n\nLabel.defaultProps = {\n    hasError: false,\n};\n\nexport default Label;\n","import { useCallback, useRef } from 'react';\n\nexport function useEventCallback(fn) {\n    const ref = useRef(fn);\n\n    ref.current = fn;\n\n    return useCallback((...args) => ref.current(...args), []);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1IRW7PNg\",\"spinner\":\"wFhA8qbn\",\"rounded\":\"_2ZAkVmfU\",\"emptyTip\":\"_26Je8_j2\",\"noUrl\":\"_29HnrfZt\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { FiCamera } from 'react-icons/fi';\nimport { useTranslation } from 'react-i18next';\n\nimport { Spinner } from '@mssgme/ui';\nimport styles from './ImagePreview.scss';\n\nexport default function ImagePreview({ className, url, width, height, roundness, hasTip, isUploading }) {\n    const { t } = useTranslation();\n    const style = {\n        width: `${width}px`,\n        height: `${height}px`,\n    };\n\n    if (url) {\n        style.backgroundImage = `url(\"${url}\")`;\n    }\n\n    return (\n        <div\n            className={classNames(className, [styles.root], styles[roundness], isUploading && styles.uploading)}\n            style={style}\n        >\n            {!url && hasTip && (\n                <div className={styles.emptyTip}>\n                    <FiCamera size=\"24\" />\n                    <span>{t('imagePreview.placeholder')}</span>\n                </div>\n            )}\n\n            {isUploading && (\n                <div className={styles.spinner}>\n                    <Spinner />\n                </div>\n            )}\n        </div>\n    );\n}\n\nImagePreview.propTypes = {\n    className: PropTypes.string,\n    url: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    roundness: PropTypes.oneOf(['circle', 'rounded']),\n    hasTip: PropTypes.bool,\n    isUploading: PropTypes.bool,\n};\n\nImagePreview.defaultProps = {\n    width: 40,\n    height: 40,\n    roundness: 'circle',\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1yCqpQbN\",\"coverPreview\":\"_3Mc4O1Cf\",\"buttons\":\"_30a8qjRo\",\"button\":\"_32IB7zUI\",\"fileInput\":\"_15HvNXWX\",\"emptyMessage\":\"_1TIUub5Y\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport { Spinner } from '@mssgme/ui';\n\nimport styles from './ImageUploadCover.scss';\n\nexport default function ImageUploadCover({\n    className,\n    accept,\n    name,\n    onChange,\n    buttonLabel,\n    previewUrl,\n    isUploading,\n    onApplyClick,\n    active,\n}) {\n    const { t } = useTranslation('ui');\n\n    return (\n        <div className={className}>\n            <div className={styles.root}>\n                <div className={styles.coverPreview}>\n                    {previewUrl && <img src={previewUrl} alt=\"Cover\" />}\n                    {!previewUrl && <span className={styles.emptyMessage}>{t('ImageUploadCover.empty')}</span>}\n                    <div className={styles.buttons}>\n                        <div className={styles.button} style={{ marginRight: 'auto' }}>\n                            {isUploading && <Spinner size={16} color=\"black\" />}\n                            {!isUploading && (\n                                <>\n                                    {buttonLabel}\n                                    <input\n                                        type=\"file\"\n                                        className={styles.fileInput}\n                                        accept={accept}\n                                        name={name}\n                                        onChange={onChange}\n                                    />\n                                </>\n                            )}\n                        </div>\n                        {!active && !!previewUrl && (\n                            <div className={styles.button} onClick={onApplyClick}>\n                                {t('ImageUploadCover.enable')}\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nImageUploadCover.propTypes = {\n    className: PropTypes.string,\n    name: PropTypes.string.isRequired,\n    accept: PropTypes.string,\n    onChange: PropTypes.func.isRequired,\n    previewUrl: PropTypes.any,\n    isUploading: PropTypes.bool.isRequired,\n    buttonLabel: PropTypes.string,\n    onApplyClick: PropTypes.func.isRequired,\n    active: PropTypes.bool.isRequired,\n};\n\nImageUploadCover.defaultProps = {\n    className: '',\n    buttonLabel: 'Upload',\n    previewUrl: null,\n};\n","import ImageUploadCover from './ImageUploadCover';\n\nexport default ImageUploadCover;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1XH8c6Lf\",\"avatarPreview\":\"_3J0pfKab\",\"button\":\"uUp29eyC\",\"fileInput\":\"_36Zl3dVC\",\"errorsContainer\":\"_1_HHK_W5\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Spinner } from '@mssgme/ui';\n\nimport styles from './ImageUploadAvatar.scss';\n\nexport default function ImageUploadAvatar({ className, accept, name, onChange, buttonLabel, previewUrl, isUploading }) {\n    return (\n        <div className={className}>\n            <div className={styles.root}>\n                <div className={styles.avatarPreview}>\n                    <img src={previewUrl} alt=\"Avatar\" />\n                </div>\n                <div className={styles.button}>\n                    {isUploading && <Spinner size={16} color=\"black\" />}\n                    {!isUploading && (\n                        <>\n                            {buttonLabel}\n                            <input\n                                type=\"file\"\n                                className={styles.fileInput}\n                                accept={accept}\n                                name={name}\n                                onChange={onChange}\n                            />\n                        </>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nImageUploadAvatar.propTypes = {\n    className: PropTypes.string,\n    name: PropTypes.string.isRequired,\n    accept: PropTypes.string,\n    onChange: PropTypes.func.isRequired,\n    previewUrl: PropTypes.any.isRequired,\n    isUploading: PropTypes.bool.isRequired,\n    buttonLabel: PropTypes.string,\n};\n\nImageUploadAvatar.defaultProps = {\n    className: '',\n    buttonLabel: 'Upload',\n};\n","import ImageUploadAvatar from './ImageUploadAvatar';\n\nexport default ImageUploadAvatar;\n","const accumulatedWeight = (tests) => tests.reduce((acc, test) => acc + (test.weight || 0), 0);\nconst LAZY_PATTERN = /^([A-Z]+)?([a-z]*)(\\d*)([^\\w\\d]*)$/;\n\nexport const shortenThan = (password, context) =>\n    password.length < context.minLength && {\n        error: 'too-short',\n        message: 'The password should not be shorter than {{length}} characters.',\n        length: context.minLength,\n    };\nexport const longerThan = (password, context) =>\n    password.length > context.maxLength && {\n        error: 'too-long',\n        message: 'The password should not be longer than {{length}} characters.',\n        length: context.maxLength,\n    };\nexport const repetitive = (password, context) =>\n    password.match(/(.)\\1{2,}/) && {\n        error: 'too-repetitive',\n        message: 'The password should not contain sequences of same characters.',\n    };\nexport const noLowercase = (password, context) =>\n    !password.match(/[a-z]/) && {\n        error: 'no-lowercase',\n        message: 'The password should contain at least one lowercase character.',\n    };\nexport const noUppercase = (password, context) =>\n    !password.match(/[A-Z]/) && {\n        error: 'no-uppercase',\n        message: 'The password should contain at least one uppercase character.',\n    };\nexport const noNumbers = (password, context) =>\n    !password.match(/\\d/) && {\n        error: 'no-numbers',\n        message: 'The password should contain any number.',\n    };\nexport const noSymbols = (password, context) =>\n    !password.match(/[A-Za-z\\d]/) && {\n        error: 'no-symbols',\n        message: 'The password should contain at least one special character.',\n    };\n\nexport const lazyPassword = (password, context) => {\n    if (!(password.length && password.length < context.arguablySafeLength)) {\n        return;\n    }\n\n    const SYMBOLS = ['', 'uppercase', 'lowercase', 'numbers', 'symbols'];\n    const match = password.match(LAZY_PATTERN);\n\n    if (!match) {\n        return;\n    }\n\n    const parts = SYMBOLS.map((symbol, index) => symbol && match[index]);\n    const pattern = parts\n        .map((part, index) => part && SYMBOLS[index])\n        .filter(Boolean)\n        .join('+');\n\n    return {\n        error: 'too-easy',\n        message:\n            'The password should not conform to easily guessable pattern \"{{pattern}}\", or it should be long enough ({{length}}+ symbols).',\n        pattern,\n        length: context.arguablySafeLength,\n    };\n};\n\nexport class PasswordValidator {\n    required = [];\n    optional = [];\n\n    constructor(config = {}) {\n        Object.assign(this, config);\n    }\n\n    validate(password) {\n        const errors = [];\n\n        for (const [index, tests] of [this.required, this.optional].entries()) {\n            for (const { fn, ...rest } of tests) {\n                const result = fn(password, this);\n\n                if (result) {\n                    errors.push(Object.assign(result, { required: !index, ...rest }));\n                }\n            }\n        }\n\n        return errors;\n    }\n\n    estimate(errors) {\n        const total = accumulatedWeight([...this.required, ...this.optional]);\n        const exclusive = errors.find((e) => e.required);\n        const weight = exclusive ? 0 : total - accumulatedWeight(errors);\n\n        return {\n            total,\n            weight,\n        };\n    }\n}\n\nexport const passwordValidator = (config) =>\n    new PasswordValidator({\n        minLength: 10,\n        maxLength: 100,\n        arguablySafeLength: 20,\n        required: [{ weight: 50, fn: shortenThan }, { weight: 0, fn: longerThan }],\n        optional: [\n            { weight: 25, fn: lazyPassword },\n            { weight: 5, fn: repetitive },\n            { weight: 5, fn: noLowercase },\n            { weight: 5, fn: noUppercase },\n            { weight: 5, fn: noNumbers },\n            { weight: 5, fn: noSymbols },\n        ],\n        ...config,\n    });\n","import * as passwordValidator from './password';\n\nexport const validators = {\n    // todo: deprecated, remove when legacy app is removed\n    ...passwordValidator,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"strengthMeter\":\"_2bKzr0pF\",\"withLabel\":\"CUFETq6D\",\"strength-0\":\"_1cEpIdUZ\",\"strength0\":\"_1cEpIdUZ\",\"strength-1\":\"_3bcRcfx3\",\"strength1\":\"_3bcRcfx3\",\"strength-2\":\"R0pQddQX\",\"strength2\":\"R0pQddQX\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Translation } from 'react-i18next';\n\nimport { validators } from '@mssgme/shared';\nimport { FormErrors, FormField } from '@mssgme/ui';\n\nimport styles from './styles.scss';\n\nconst password = validators.passwordValidator({\n    minLength: 6,\n    maxLength: 40,\n    arguablySafeLength: 20,\n    required: [\n        { weight: 50, fn: validators.shortenThan, message: 'password_length' },\n        { weight: 0, fn: validators.longerThan, message: 'password_length' },\n    ],\n    optional: [{ weight: 50, fn: validators.lazyPassword, message: 'password_complexity' }],\n});\n\nexport default class PasswordWithStrength extends React.Component {\n    static propTypes = {\n        label: PropTypes.string,\n        value: PropTypes.string,\n        id: PropTypes.string,\n        name: PropTypes.string,\n        placeholder: PropTypes.string,\n        className: PropTypes.string,\n        error: PropTypes.string,\n        onChange: PropTypes.func,\n        withLabel: PropTypes.bool,\n        lazy: PropTypes.bool,\n    };\n\n    static getDerivedStateFromProps(props, state) {\n        if (props.value !== state.initialPassword) {\n            return {\n                initialPassword: props.value,\n                password: props.value || '',\n            };\n        }\n\n        return null;\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            initialPassword: props.value,\n            password: props.value || '',\n            strength: 0,\n            errors: null,\n            warnings: [],\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const value = this.state.password;\n\n        if (value !== prevState.password) {\n            const { error, lazy } = this.props;\n            const skipChecks = lazy && !value;\n            const errors = skipChecks ? [] : password.validate(value);\n            const { total, weight } = password.estimate(errors);\n            const strength = weight <= 0 || skipChecks ? 0 : weight >= total ? 2 : 1;\n            const critical = errors.filter((e) => e.required);\n            const warnings = errors.filter((e) => !e.required);\n\n            this.setState(() => ({\n                errors: (critical.length || error) && [error, ...critical].filter(Boolean),\n                warnings,\n                strength,\n            }));\n        }\n    }\n\n    handleChange(e) {\n        this.setState({\n            password: e.target.value,\n        });\n\n        if (this.props.onChange) {\n            this.props.onChange(e);\n        }\n    }\n\n    render() {\n        const { className, withLabel, error, lazy, ...rest } = this.props;\n        const { password, strength, errors, warnings } = this.state;\n\n        return (\n            <Translation>\n                {(t) => (\n                    <FormField\n                        {...rest}\n                        value={password}\n                        errors={\n                            errors && errors.map((e) => (typeof e === 'string' ? e : t(`errorsList.${e.message}`, e)))\n                        }\n                        type=\"password\"\n                        className={classNames(styles.root, className, styles[`strength-${strength}`])}\n                        onChange={this.handleChange}\n                    >\n                        <div\n                            className={classNames(styles.strengthMeter, styles[`strength-${strength}`], {\n                                [styles.withLabel]: withLabel,\n                            })}\n                        >\n                            {withLabel && t(`passwordStrength.${strength}`)}\n                        </div>\n                        {warnings.length ? (\n                            <FormErrors error={warnings.map((e) => t(`errorsList.${e.message}`, e))} critical={false} />\n                        ) : null}\n                    </FormField>\n                )}\n            </Translation>\n        );\n    }\n}\n","import React from 'react';\n\nexport const PromptContext = React.createContext(null);\n","import { useContext } from 'react';\nimport { PromptContext } from './context';\n\nexport default function useDeferredPrompt() {\n    return useContext(PromptContext);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useDeferredPrompt from './useDeferredPrompt';\n\nexport default function InstallButton({ tag: Component = 'button', onAccept, onDismiss, children, ...rest }) {\n    const deferredPrompt = useDeferredPrompt();\n\n    if (!deferredPrompt) return null;\n\n    async function onClick(e) {\n        e.preventDefault();\n        deferredPrompt.prompt();\n\n        const choiceResult = await deferredPrompt.userChoice;\n\n        if (choiceResult.outcome !== 'accepted') {\n            onAccept && onAccept();\n        } else {\n            onDismiss && onDismiss();\n        }\n    }\n\n    return (\n        <Component onClick={onClick} {...rest}>\n            {children}\n        </Component>\n    );\n}\n\nInstallButton.propTypes = {\n    tag: PropTypes.oneOfType([PropTypes.node, PropTypes.element]),\n    children: PropTypes.any,\n    onAccept: PropTypes.func,\n    onDismiss: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport { ModalDialog, Button } from '@mssgme/ui';\n\nexport default function InstallDialog({ onInstall, ...rest }) {\n    const { t } = useTranslation();\n    const name = 'mssg.me';\n\n    return (\n        <ModalDialog title={t('InstallDialog.heading', { name })} modal={{ size: 'small' }} {...rest}>\n            <p>{t('InstallDialog.content', { name })}</p>\n            <p>\n                <Button fullWidth onClick={onInstall}>\n                    {t('InstallDialog.install')}\n                </Button>\n            </p>\n        </ModalDialog>\n    );\n}\n\nInstallDialog.propTypes = {\n    ...ModalDialog.propTypes,\n    onInstall: PropTypes.func.isRequired,\n};\n","import React, { useEffect, useState } from 'react';\nimport { PromptContext } from './context';\n\n// TODO: remove, add to Install instead\nexport default function InstallPromptProvider(props) {\n    const [deferredPrompt, setDeferredPrompt] = useState(null);\n\n    useEffect(() => {\n        function handlePrompt(e) {\n            e.preventDefault && e.preventDefault();\n            setDeferredPrompt(e);\n        }\n\n        window.addEventListener('beforeinstallprompt', handlePrompt);\n\n        return () => window.removeEventListener('beforeinstallprompt', handlePrompt);\n    });\n\n    return <PromptContext.Provider value={deferredPrompt} {...props} />;\n}\n","import React from 'react';\nimport InstallButton from './InstallButton';\n\nexport default function InstallLink(props) {\n    return <InstallButton tag=\"a\" href=\"#\" {...props} />;\n}\n","import { useState } from 'react';\nimport { useMedia, useLocalStorage } from 'react-use';\nimport useDeferredPrompt from './useDeferredPrompt';\n\nconst EXPIRED = 1000 * 60 * 60 * 24 * 14;\n\nexport default function useInstall() {\n    const deferredPrompt = useDeferredPrompt();\n    const isStandalone = useMedia('(display-mode: standalone)');\n    const [dismissAt, setDismissAt] = useLocalStorage('install_dismiss_at', 0);\n    const [isOpen, setOpen] = useState(dismissAt + EXPIRED < Date.now());\n\n    function dismiss() {\n        setOpen(false);\n        setDismissAt(Date.now());\n    }\n\n    function accept() {\n        setOpen(false);\n    }\n\n    async function install(e) {\n        e.preventDefault();\n        deferredPrompt.prompt();\n\n        const choiceResult = await deferredPrompt.userChoice;\n        if (choiceResult.outcome === 'accepted') {\n            accept();\n        } else {\n            dismiss();\n        }\n    }\n\n    return {\n        isOpen: !isStandalone && deferredPrompt && isOpen,\n        dismiss,\n        install,\n    };\n}\n","import React from 'react';\nimport InstallDialog from './InstallDialog';\nimport useInstall from './useInstall';\n\nexport default function Install() {\n    const { isOpen, install, dismiss } = useInstall();\n    return <InstallDialog isOpen={isOpen} onClose={dismiss} onInstall={install} />;\n}\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { ModalDialog, Button } from '@mssgme/ui';\n\nexport default function UpdateDialog(props) {\n    const { t } = useTranslation();\n\n    async function onClick(e) {\n        e.preventDefault();\n        window.location.reload();\n    }\n\n    return (\n        <ModalDialog {...props} title={t('UpdateDialog.heading')} modal={{ size: 'small' }}>\n            <p>{t('UpdateDialog.content')}</p>\n            <p>\n                <Button fullWidth onClick={onClick}>\n                    {t('UpdateDialog.update')}\n                </Button>\n            </p>\n        </ModalDialog>\n    );\n}\n","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { useModal } from '@mssgme/ui';\n\nimport UpdateDialog from './UpdateDialog';\n\nasync function prepareWorker() {\n    if ('caches' in window) {\n        const cacheNames = await caches.keys();\n        await Promise.all(cacheNames.map((cacheName) => caches.delete(cacheName)));\n    }\n\n    if ('serviceWorker' in navigator) {\n        const reg = await navigator.serviceWorker.getRegistration();\n        if (!reg) return;\n        await reg.update();\n    }\n}\n\nexport default function CheckUpdate() {\n    const modal = useModal();\n    const isExpired = useSelector((state) => state.ui.isClientExpired);\n\n    useEffect(() => {\n        if (isExpired) {\n            prepareWorker().then(() => {\n                modal.show();\n            });\n        }\n    }, [isExpired]);\n\n    return <UpdateDialog {...modal.props} />;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1xGBoevf\",\"logo\":\"_39oq4P6F\",\"link\":\"_1k34zDiH\"};","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar _ref = /*#__PURE__*/React.createElement(\"g\", {\n  clipPath: \"url(#logo_text_white_svg__clip0)\",\n  fill: \"#F2F5FA\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.112 4.55c0-.72.573-1.305 1.278-1.305.706 0 1.279.584 1.279 1.306v12.186c0 .721-.573 1.306-1.279 1.306-.705 0-1.278-.585-1.278-1.306V4.551zm10.225 1.741c0-.72.572-1.305 1.278-1.305.706 0 1.278.584 1.278 1.305v12.187c0 .721-.572 1.306-1.278 1.306-.706 0-1.278-.585-1.278-1.306V6.291zM10.225 2.81c0-.722.572-1.306 1.278-1.306.706 0 1.278.584 1.278 1.306v12.186c0 .721-.572 1.306-1.278 1.306-.706 0-1.278-.585-1.278-1.306V2.81zM23.73 19.913c.635-.313 1.4-.04 1.705.61.307.65.04 1.43-.597 1.743L14.05 27.573C9.174 29.97 3.318 27.877.97 22.896A10.19 10.19 0 010 18.553v-9.65c0-.721.572-1.306 1.278-1.306.706 0 1.278.585 1.278 1.306v9.65c0 1.112.245 2.209.717 3.21 1.735 3.682 6.064 5.23 9.668 3.457l10.789-5.307z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M47.922 9.772c1.106 0 1.87.344 2.295 1.03.425.686.637 1.636.637 2.849v4.355c0 .295-.095.541-.285.74a.954.954 0 01-.72.297c-.29 0-.53-.099-.72-.297a1.028 1.028 0 01-.286-.74V13.65c0-.624-.12-1.114-.36-1.471-.24-.358-.661-.536-1.264-.536-.626 0-1.114.19-1.466.57-.352.38-.528.858-.528 1.437v4.355c0 .295-.095.541-.285.74a.954.954 0 01-.72.297c-.29 0-.53-.099-.72-.297a1.028 1.028 0 01-.285-.74V13.65c0-.624-.12-1.114-.36-1.471-.24-.358-.662-.536-1.265-.536-.626 0-1.114.19-1.466.57-.352.38-.528.858-.528 1.437v4.355c0 .295-.095.541-.285.74a.954.954 0 01-.72.297c-.29 0-.53-.099-.72-.297a1.029 1.029 0 01-.285-.74V10.98c0-.295.095-.541.285-.74a.954.954 0 01.72-.297c.29 0 .53.099.72.297.19.199.285.445.285.74v.272a4.114 4.114 0 011.148-1.046c.463-.289.98-.434 1.55-.434 1.407 0 2.306.624 2.696 1.872.257-.477.645-.908 1.165-1.293a2.889 2.889 0 011.767-.579zm4.8 7.86a.836.836 0 01-.151-.51c0-.296.145-.545.435-.75a.877.877 0 01.486-.152c.235 0 .458.107.67.323.335.351.684.612 1.047.782.363.17.801.256 1.315.256.871-.035 1.307-.37 1.307-1.004 0-.33-.148-.579-.444-.749-.296-.17-.757-.34-1.382-.51a11.867 11.867 0 01-1.583-.544 2.808 2.808 0 01-1.055-.825c-.296-.369-.444-.865-.444-1.489 0-.544.153-1.018.46-1.42.307-.403.71-.715 1.206-.936a3.852 3.852 0 011.584-.332 4.8 4.8 0 011.708.324c.57.215 1.017.533 1.34.952a.955.955 0 01.218.613c0 .26-.106.476-.318.646a.836.836 0 01-.536.187.81.81 0 01-.603-.238 2.131 2.131 0 00-.78-.595 2.543 2.543 0 00-1.08-.221c-.849 0-1.273.311-1.273.935 0 .25.078.45.235.604.156.153.354.272.594.357.24.085.578.19 1.014.315.603.17 1.105.346 1.508.527.402.182.742.46 1.021.834.28.374.42.867.42 1.48 0 .555-.163 1.04-.487 1.454a3.08 3.08 0 01-1.248.944 3.975 3.975 0 01-1.566.323 5.597 5.597 0 01-2.06-.374 3.43 3.43 0 01-1.559-1.207zm8.283 0a.836.836 0 01-.15-.51c0-.296.145-.545.435-.75a.877.877 0 01.486-.152c.235 0 .458.107.67.323.335.351.684.612 1.047.782.363.17.801.256 1.315.256.871-.035 1.307-.37 1.307-1.004 0-.33-.148-.579-.444-.749-.296-.17-.757-.34-1.382-.51a11.874 11.874 0 01-1.583-.544 2.808 2.808 0 01-1.056-.825c-.295-.369-.444-.865-.444-1.489 0-.544.154-1.018.461-1.42.307-.403.71-.715 1.206-.936a3.852 3.852 0 011.584-.332c.569 0 1.139.108 1.708.324.57.215 1.016.533 1.34.952a.955.955 0 01.218.613c0 .26-.106.476-.318.646a.836.836 0 01-.536.187.81.81 0 01-.603-.238 2.132 2.132 0 00-.78-.595 2.542 2.542 0 00-1.08-.221c-.849 0-1.273.311-1.273.935 0 .25.078.45.235.604.156.153.354.272.594.357.24.085.578.19 1.014.315.603.17 1.106.346 1.508.527.401.182.742.46 1.021.834.28.374.42.867.42 1.48 0 .555-.163 1.04-.487 1.454a3.08 3.08 0 01-1.248.944 3.975 3.975 0 01-1.566.323 5.596 5.596 0 01-2.06-.374 3.43 3.43 0 01-1.559-1.207zm16.225-7.86c.29 0 .53.097.72.29.19.192.285.442.285.748v7.57c0 1.384-.421 2.407-1.265 3.07-.843.664-1.912.996-3.208.996-.335 0-.795-.057-1.382-.17-.586-.114-1.002-.227-1.248-.34-.547-.239-.82-.568-.82-.987 0-.08.016-.17.05-.273.067-.25.181-.439.343-.57a.824.824 0 01.528-.195c.111 0 .218.017.318.051.045.011.321.116.83.315.507.198.968.297 1.381.297.827 0 1.444-.167 1.852-.502.407-.334.61-.807.61-1.42v-.816c-.245.351-.616.669-1.113.952a3.177 3.177 0 01-1.6.425 3.94 3.94 0 01-2.136-.603 4.207 4.207 0 01-1.516-1.676c-.368-.714-.553-1.525-.553-2.433 0-.907.182-1.72.545-2.44.363-.72.86-1.282 1.49-1.685a3.828 3.828 0 012.103-.604c.57 0 1.1.12 1.591.358.492.238.888.527 1.19.867v-.187c0-.295.095-.541.285-.74a.955.955 0 01.72-.298zm-3.468 7.57c.749 0 1.36-.269 1.835-.808.474-.538.712-1.216.712-2.032 0-.817-.238-1.498-.712-2.042-.475-.544-1.086-.816-1.835-.816-.748 0-1.357.272-1.826.816-.469.544-.703 1.225-.703 2.041 0 .817.234 1.495.703 2.033.47.539 1.078.808 1.826.808zm7.748 1.684c-.324 0-.572-.087-.745-.263-.173-.176-.26-.428-.26-.757v-.29c0-.328.087-.58.26-.757.173-.175.421-.263.745-.263h.218c.324 0 .572.088.746.263.173.176.26.429.26.758v.289c0 .329-.087.581-.26.757-.174.175-.422.263-.746.263h-.218zm13.83-9.254c1.105 0 1.87.344 2.294 1.03.425.686.637 1.636.637 2.849v4.355c0 .295-.095.541-.285.74a.954.954 0 01-.72.297c-.29 0-.53-.099-.72-.297a1.028 1.028 0 01-.286-.74V13.65c0-.624-.12-1.114-.36-1.471-.24-.358-.661-.536-1.265-.536-.625 0-1.113.19-1.465.57-.352.38-.528.858-.528 1.437v4.355c0 .295-.095.541-.285.74a.954.954 0 01-.72.297c-.29 0-.53-.099-.72-.297a1.029 1.029 0 01-.285-.74V13.65c0-.624-.12-1.114-.36-1.471-.24-.358-.662-.536-1.265-.536-.626 0-1.114.19-1.466.57-.352.38-.528.858-.528 1.437v4.355c0 .295-.095.541-.285.74a.954.954 0 01-.72.297c-.29 0-.53-.099-.72-.297a1.029 1.029 0 01-.285-.74V10.98c0-.295.095-.541.285-.74a.954.954 0 01.72-.297c.29 0 .53.099.72.297.19.199.285.445.285.74v.272a4.115 4.115 0 011.148-1.046c.463-.289.98-.434 1.55-.434 1.407 0 2.306.624 2.697 1.872.256-.477.644-.908 1.164-1.293a2.889 2.889 0 011.767-.579zm13.359 4.508a.877.877 0 01-.318.664c-.201.17-.436.255-.704.255h-5.528c.134.669.441 1.193.921 1.573.481.38 1.022.57 1.625.57.458 0 .816-.042 1.072-.127.257-.085.461-.176.612-.272.151-.097.254-.162.31-.196.201-.102.391-.153.569-.153.235 0 .436.085.603.255a.82.82 0 01.252.595c0 .307-.157.584-.469.834-.313.26-.732.482-1.257.663a4.838 4.838 0 01-1.591.273c-.938 0-1.756-.199-2.454-.596a4.128 4.128 0 01-1.617-1.641c-.38-.698-.57-1.483-.57-2.356 0-.976.201-1.832.603-2.57.403-.736.933-1.3 1.592-1.692a4.065 4.065 0 012.111-.587c.737 0 1.432.205 2.085.613a4.545 4.545 0 011.567 1.65c.391.692.586 1.44.586 2.245zm-4.238-2.636c-1.296 0-2.061.618-2.295 1.854h4.389v-.12c-.045-.476-.274-.884-.687-1.224a2.153 2.153 0 00-1.407-.51z\"\n}));\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n  id: \"logo_text_white_svg__clip0\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M0 0h108.75v30H0z\"\n})));\nfunction SvgLogoTextWhite(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 109,\n    height: 30,\n    fill: \"none\"\n  }, props), _ref, _ref2);\n}\nexport default SvgLogoTextWhite;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport styles from './styles.scss';\nimport Logo from '@mssgme/app/icons/logo_text_white.svg';\nimport config from 'config';\n\nconst Header = ({ button }) => (\n    <div className={styles.root}>\n        <a href={config.main_url} className={styles.logo}>\n            <Logo />\n        </a>\n        {button && (\n            <Link to={button.to} className={styles.link}>\n                {button.text}\n            </Link>\n        )}\n    </div>\n);\n\nHeader.propTypes = {\n    button: PropTypes.shape({\n        to: PropTypes.string.isRequired,\n        text: PropTypes.string.isRequired,\n    }),\n};\n\nexport default Header;\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction DeprecatedChatsIcon(props, svgRef) {\n    return (\n        <IconBase viewBox=\"0 0 20 20\" fill=\"currentColor\" ref={svgRef} {...props}>\n            <path\n                fillRule=\"evenodd\"\n                clipRule=\"evenodd\"\n                d=\"M14.561 0H5.44A5.439 5.439 0 000 5.439V18.42C0 19.293.707 20 1.579 20H14.56A5.439 5.439 0 0020 14.561V5.44A5.439 5.439 0 0014.561 0zm0 17.544H2.456V5.439A2.982 2.982 0 015.44 2.456h9.122a2.982 2.982 0 012.983 2.983v9.122a2.982 2.982 0 01-2.983 2.983z\"\n            />\n            <path\n                fillRule=\"evenodd\"\n                clipRule=\"evenodd\"\n                d=\"M13.86 11.228a1.228 1.228 0 100-2.456 1.228 1.228 0 000 2.456zM10 11.228a1.228 1.228 0 100-2.456 1.228 1.228 0 000 2.456zM6.14 11.228a1.228 1.228 0 100-2.456 1.228 1.228 0 000 2.456z\"\n            />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(DeprecatedChatsIcon);\nexport default ForwardRef;\n","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar _ref = /*#__PURE__*/React.createElement(\"g\", {\n  fillRule: \"nonzero\",\n  fill: \"currentColor\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.08 3.625v12.688c0 .75.629 1.359 1.404 1.359.775 0 1.403-.609 1.403-1.36V3.626c0-.75-.628-1.36-1.403-1.36s-1.403.61-1.403 1.36zM17.306 5.438v12.687c0 .75.629 1.36 1.404 1.36.775 0 1.403-.61 1.403-1.36V5.437c0-.75-.628-1.359-1.403-1.359s-1.404.609-1.404 1.36zM11.694 1.813V14.5c0 .75.628 1.36 1.403 1.36s1.403-.61 1.403-1.36V1.812c0-.75-.628-1.359-1.403-1.359s-1.403.609-1.403 1.36z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M26.52 19.619l-11.845 5.525c-3.956 1.845-8.708.234-10.614-3.599a7.504 7.504 0 01-.787-3.342V8.156c0-.75-.628-1.36-1.403-1.36s-1.403.61-1.403 1.36v10.047c0 1.566.364 3.111 1.065 4.521 2.577 5.187 9.007 7.366 14.36 4.87l11.845-5.525c.698-.326.992-1.139.655-1.815-.336-.676-1.174-.96-1.873-.635z\"\n}));\nfunction SvgLogoLegacy(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 29 29\"\n  }, props), _ref);\n}\nexport default SvgLogoLegacy;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20.3 8.7c.1.2.3.3.5.3h.2c1.7 0 3 1.3 3 3s-1.3 3-3 3h-.1c-.3 0-.5.2-.6.4-.1.3-.1.5.1.7l.1.1c.6.6.9 1.3.9 2.1s-.3 1.6-.9 2.1c-.6.6-1.3.9-2.1.9s-1.6-.3-2.1-.9l-.1-.1c-.2-.2-.5-.2-.7-.1s-.4.3-.4.6v.2c0 1.7-1.3 3-3 3s-3-1.3-3-3c0-.3-.2-.6-.5-.7-.2-.1-.5-.1-.7.1l-.1.1c-.6.6-1.3.9-2.1.9s-1.6-.3-2.1-.9c-.6-.6-.9-1.3-.9-2.1s.3-1.6.9-2.1l.1-.1c.2-.2.2-.5.1-.7-.1-.2-.3-.4-.6-.4H3c-1.7 0-3-1.3-3-3s1.3-3 3-3c.3 0 .6-.2.7-.5.1-.2.1-.5-.1-.7l-.1-.1c-.6-.5-.9-1.3-.9-2.1s.3-1.6.9-2.1c.6-.6 1.3-.9 2.1-.9s1.6.3 2.1.9l.1.1c.2.1.5.2.7.1.1 0 .1 0 .2-.1.2-.1.3-.3.3-.5V3c0-1.7 1.3-3 3-3s3 1.3 3 3v.1c0 .3.2.5.4.6s.5.1.7-.1l.1-.1c.6-.6 1.3-.9 2.1-.9s1.6.3 2.1.9c.6.6.9 1.3.9 2.1s-.3 1.6-.9 2.1l-.1.1c-.2.2-.2.5-.1.7.1.1.1.1.1.2zm-11.2-3c-.9.3-2 .1-2.7-.6L6.3 5c-.2-.2-.4-.3-.7-.3s-.5.1-.7.3c-.2.2-.3.4-.3.7 0 .3.1.5.3.7l.1.1c.8.8 1 1.9.6 2.9s-1.3 1.7-2.4 1.7H3c-.6 0-1 .4-1 1s.4 1 1 1h.2c1.1 0 2 .6 2.4 1.6.4 1 .2 2.1-.5 2.9l-.1.1c-.2.2-.3.4-.3.7s.1.5.3.7c.2.2.4.3.7.3.3 0 .5-.1.7-.3l.1-.1c.8-.8 1.9-1 2.9-.6s1.7 1.3 1.7 2.4v.2c0 .6.4 1 1 1s1-.4 1-1v-.2c0-1.1.6-2 1.6-2.4s2.1-.2 2.9.5l.1.1c.2.2.4.3.7.3s.5-.1.7-.3c.2-.2.3-.4.3-.7s-.1-.5-.3-.7l-.1-.1c-.8-.8-1-1.9-.5-2.9.4-1 1.4-1.6 2.4-1.6h.1c.6 0 1-.4 1-1s-.4-1-1-1h-.2c-1.1 0-2-.6-2.4-1.6 0-.1-.1-.2-.1-.3-.3-.9-.1-2 .6-2.7l.1-.1c.2-.2.3-.4.3-.7s-.1-.5-.3-.7-.4-.3-.7-.3-.5.1-.7.3l-.1.1c-.8.8-1.9 1-2.9.5-1-.4-1.6-1.4-1.6-2.4V3c0-.6-.4-1-1-1s-1 .4-1 1v.2c0 1.1-.6 2-1.6 2.4-.1 0-.2.1-.3.1zM12 16c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4zm0-2c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z\",\n  fill: \"currentColor\"\n});\nfunction SvgSettingsNew(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), _ref);\n}\nexport default SvgSettingsNew;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 12h18M3 6h18M3 18h18\"\n});\nfunction SvgIconBurger(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"iconBurger_svg__feather iconBurger_svg__feather-menu\"\n  }, props), _ref);\n}\nexport default SvgIconBurger;","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_4f2mvJRZ\",\"marked\":\"_94hMt30F\",\"soon\":\"_3sJcAJ-2\",\"active\":\"_2uQ6ngW3\",\"iconContainer\":\"_1PI1JOmK\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { NavLink } from 'react-router-dom';\n\nimport styles from './SidebarNavItem.scss';\n\nSidebarNavItem.propTypes = {\n    soon: PropTypes.bool,\n    isMarked: PropTypes.bool,\n    label: PropTypes.string,\n    title: PropTypes.string,\n    as: PropTypes.elementType,\n};\n\nSidebarNavItem.defaultProps = {\n    soon: false,\n    as: NavLink,\n};\n\nexport default function SidebarNavItem({ as: Component, soon, isMarked, title, label, children, ...rest }) {\n    const componentProps = {\n        className: classNames(styles.root, {\n            [styles.soon]: soon,\n            [styles.marked]: isMarked,\n        }),\n        'data-nav': title || label,\n        title: title || label,\n        ...rest,\n    };\n\n    if (Component === NavLink) {\n        componentProps.activeClassName = styles.active;\n    }\n\n    return (\n        <Component {...componentProps}>\n            <div className={styles.iconContainer}>{children}</div>\n            {label && (\n                <span>\n                    {label}\n                    {soon && <i> (soon)</i>}\n                </span>\n            )}\n        </Component>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1kvk2wcu\",\"hidden\":\"_15Po6C9d\",\"header\":\"_3dTVRjD7\",\"nav\":\"a0hG0Bv9\",\"visible\":\"_2WvuLeKR\",\"logo\":\"_1rpcSVL1\",\"menuBtn\":\"_1euF0FA0\",\"marked\":\"_3ZrH0oyT\",\"menuIcon\":\"_2aWHXjiB\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"i2TwS6Hh\",\"enter\":\"_1oCZOe0f\",\"enterActive\":\"JPzq_6k_\",\"exit\":\"_2cSp_Rch\",\"exitActive\":\"_3TQT7TmW\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { CSSTransition } from 'react-transition-group';\n\nimport styles from './Backdrop.scss';\n\nconst transitionClassNames = {\n    enter: styles.enter,\n    enterActive: styles.enterActive,\n    exit: styles.exit,\n    exitActive: styles.exitActive,\n};\n\nBackdrop.propTypes = {\n    isOpen: PropTypes.bool,\n    onClose: PropTypes.func,\n};\n\nBackdrop.defaultProps = {\n    isOpen: false,\n};\n\nexport default function Backdrop({ isOpen, onClose }) {\n    return (\n        <CSSTransition classNames={transitionClassNames} in={isOpen} unmountOnExit timeout={600}>\n            <div className={styles.root} onClick={onClose} />\n        </CSSTransition>\n    );\n}\n","import React, { useEffect } from 'react';\nimport cn from 'classnames';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport { FiHelpCircle } from 'react-icons/fi';\nimport { useTranslation } from 'react-i18next';\nimport { useToggle } from 'react-use';\n\nimport { IconButton, useBreakpoints } from '@mssgme/ui';\nimport { CardsIcon } from '@mssgme/cards';\nimport { useUnreadConversations } from '@mssgme/inbox';\nimport { DeprecatedChatsIcon, GitBranchIcon } from '@mssgme/icons';\nimport { useExperiments, useSwitchApp } from '@mssgme/hooks';\nimport LogoIcon from '@mssgme/ui/icons/logo-legacy.svg';\nimport BotsIcon from '@mssgme/app/icons/botIcon.svg';\nimport SettingsIcon from '@mssgme/app/icons/settings_new.svg';\nimport IconBurger from '@mssgme/app/icons/iconBurger.svg';\n\nimport SidebarNavItem from './SidebarNavItem';\n\nimport styles from './Sidebar.scss';\nimport Backdrop from './Backdrop';\n\n// don't know why need\n// const pageActiveFn = (match, location) => match && match.url.startsWith('/p') && !location.pathname.startsWith('/help');\n\n// const SWITCH_TO = 'next';\n\nexport default function Sidebar() {\n    const { t } = useTranslation();\n    const location = useLocation();\n    const { hasUnreads } = useUnreadConversations();\n    const { isInboxDisplayed } = useExperiments();\n    const { isMobile } = useBreakpoints();\n    const [isOpen, toggle] = useToggle(false);\n    // const switchApp = useSwitchApp();\n\n    // const onSwitch = (e) => {\n    //     e.preventDefault();\n    //     switchApp(SWITCH_TO);\n    // };\n\n    useEffect(() => {\n        toggle(false);\n    }, [isMobile, location]);\n\n    return (\n        <aside className={cn(styles.root)}>\n            <header className={styles.header}>\n                <IconButton className={cn(styles.menuBtn, { [styles.marked]: hasUnreads })} onClick={toggle}>\n                    <IconBurger className={styles.menuIcon} />\n                </IconButton>\n            </header>\n            <nav className={cn(styles.nav, { [styles.visible]: isOpen })}>\n                <div>\n                    <NavLink className={styles.logo} to=\"/\">\n                        <LogoIcon />\n                    </NavLink>\n                    <SidebarNavItem to=\"/p\" label={isMobile ? t('MobileMenu.page') : 'Page'}>\n                        <CardsIcon />\n                    </SidebarNavItem>\n                    {isInboxDisplayed && (\n                        <SidebarNavItem\n                            to=\"/i\"\n                            label={isMobile ? t('MobileMenu.chats') : 'Chats'}\n                            isMarked={hasUnreads}\n                        >\n                            <DeprecatedChatsIcon />\n                        </SidebarNavItem>\n                    )}\n                    {/*<SidebarNavItem as=\"a\" href=\"#\" label=\"Sites\" onClick={onSwitch}>*/}\n                    {/*    <GitBranchIcon />*/}\n                    {/*</SidebarNavItem>*/}\n                </div>\n                <div>\n                    <SidebarNavItem to=\"/help\" title=\"Help\" label={isMobile ? t('MobileMenu.help') : null}>\n                        <FiHelpCircle />\n                    </SidebarNavItem>\n                    <SidebarNavItem to=\"/s\" title=\"Settings\" label={isMobile ? t('MobileMenu.settings') : null}>\n                        <SettingsIcon />\n                    </SidebarNavItem>\n                </div>\n            </nav>\n            {isMobile && <Backdrop isOpen={isOpen} onClose={() => toggle(false)} />}\n        </aside>\n    );\n}\n","import React from 'react';\n\nexport default function SplashScreen() {\n    return (\n        <svg\n            viewBox=\"0 0 305 305\"\n            style={{\n                width: '100px',\n                height: '100px',\n                position: 'absolute',\n                left: '50%',\n                top: '50%',\n                marginLeft: '-50px',\n                marginTop: '-50px',\n            }}\n        >\n            <g fill=\"#D8D8D8\">\n                <path d=\"m60.983 34.249v137c0 8.1066 6.8257 14.678 15.246 14.678 8.4199 0 15.246-6.5717 15.246-14.678v-137c0-8.1066-6.8257-14.678-15.246-14.678-8.4199 0-15.246 6.5717-15.246 14.678z\" />\n                <path d=\"m182.95 53.821v137c0 8.1066 6.8257 14.678 15.246 14.678 8.4199 0 15.246-6.5717 15.246-14.678v-137c0-8.1066-6.8257-14.678-15.246-14.678-8.4199 0-15.246 6.5717-15.246 14.678z\" />\n                <path d=\"m121.97 14.678v137c0 8.1066 6.8257 14.678 15.246 14.678s15.246-6.5717 15.246-14.678v-137c0-8.1066-6.8257-14.678-15.246-14.678s-15.246 6.5717-15.246 14.678z\" />\n                <path d=\"m283.05 206.95l-128.69 59.657c-42.99 19.928-94.619 2.5305-115.32-38.859-5.6294-11.257-8.5527-23.59-8.5527-36.084v-108.49c0-8.1066-6.8257-14.678-15.246-14.678-8.4199 0-15.246 6.5717-15.246 14.678l-3.6109e-14 108.49c2.2568e-15 16.903 3.955 33.589 11.571 48.819 28.004 55.998 97.856 79.536 156.02 52.574l128.69-59.657c7.5864-3.5168 10.775-12.289 7.1226-19.593-3.6527-7.3041-12.764-10.374-20.35-6.8575z\" />\n            </g>\n        </svg>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1Tbq22DP\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport { Button } from '@mssgme/ui';\nimport styles from './styles.scss';\n\nexport default function AccountBlocked({ isBlockedByIp }) {\n    const { t, i18n } = useTranslation();\n    const helpUrl = i18n.language === 'ru' ? 'https://mssg.me/help' : 'https://mssg.me/mssgmeen';\n\n    return (\n        <div className={styles.root}>\n            {isBlockedByIp ? (\n                <>\n                    <h1>{t('AccountBlocked.ip')}</h1>\n                </>\n            ) : (\n                <>\n                    <h1>{t('AccountBlocked.heading')}</h1>\n                </>\n            )}\n            <p>{t('AccountBlocked.description')}</p>\n            <p>\n                <Button tag=\"a\" href={helpUrl}>\n                    {t('AccountBlocked.button')}\n                </Button>\n            </p>\n        </div>\n    );\n}\n\nAccountBlocked.defaultProps = {\n    isBlockedByIp: false,\n};\n\nAccountBlocked.propTypes = {\n    isBlockedByIp: PropTypes.bool,\n};\n","import React from 'react';\n\nimport { ua, generateDeepLink } from '@mssgme/helpers';\nimport { CardMessengers, MessengerButton } from '@mssgme/cards';\n\nconst MESSENGERS = [\n    {\n        messenger: 'telegram',\n        name: 'mssgmebot',\n        redirectUrl: 'https://mssg.me/r/m/5e5fb1e519a0b30013ae1d81',\n    },\n    {\n        messenger: 'viber',\n        name: 'mssgmesupport',\n        redirectUrl: 'https://mssg.me/r/m/5c157205409b90000aa4f611',\n        type: 'public',\n    },\n    {\n        messenger: 'messenger',\n        name: 'mssg.me',\n        redirectUrl: 'https://mssg.me/r/m/618271a1a43f580040c07e3e',\n    },\n    {\n        messenger: 'vk',\n        name: 'mssgmeapp',\n        redirectUrl: 'https://mssg.me/r/m/61530428b28e45001fcab76e',\n    },\n    {\n        messenger: 'whatsapp',\n        name: '380508450362',\n        redirectUrl: 'https://mssg.me/r/m/5f338f6b7a03670028138cca',\n    },\n];\n\nexport default function Help() {\n    const mesProps = MESSENGERS.map((m) => ({\n        platform: m.messenger,\n        href: ua.isMobile ? generateDeepLink(m).getUrl() : m.redirectUrl,\n    }));\n\n    return (\n        <>\n            <CardMessengers>\n                {mesProps.map(({ platform, ...rest }) => (\n                    <MessengerButton key={platform} platform={platform} data-messenger={platform} {...rest} />\n                ))}\n            </CardMessengers>\n        </>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"freeBanner\":\"_2zrnP2tM\",\"trial\":\"_1h_yj6D-\",\"btn\":\"o01IXCsz\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { useBilling } from '@mssgme/hooks';\n\nimport styles from './styles.scss';\n\nconst isToday = (compareDate) => {\n    const today = new Date();\n\n    return (\n        compareDate.getDate() >= today.getDate() &&\n        compareDate.getMonth() >= today.getMonth() &&\n        compareDate.getFullYear() >= today.getFullYear()\n    );\n};\n\nexport default function FreeBanner() {\n    const { t, i18n } = useTranslation();\n    const location = useLocation();\n    const { plan, trialEndedAt, isUnpaid, isTrial } = useBilling();\n    const path = isUnpaid ? '/s/billing/pay' : '/s/billing/plans';\n\n    const bannerTill = new Date('2020-03-09');\n\n    return (\n        <>\n            {isToday(bannerTill) && i18n.language === 'ru' && (\n                <div style={{ color: 'black' }}>\n                    <div className={styles.freeBanner}>\n                        <h3>\n                            Скидка <span style={{ backgroundColor: '#dc5960', borderColor: '#dc5960' }}>30%</span> в\n                            честь 8 марта 💐\n                        </h3>\n                        <p>\n                            Используйте промокод{' '}\n                            <span\n                                style={{\n                                    backgroundColor: '#dc5960',\n                                    borderColor: '#dc5960',\n                                    padding: '1px 3px',\n                                    borderRadius: '4px',\n                                    marginLeft: '2px',\n                                    color: 'white',\n                                }}\n                            >\n                                8march\n                            </span>{' '}\n                            во время оформления подписки.\n                        </p>\n                    </div>\n                </div>\n            )}\n\n            <Link to={{ pathname: path, state: { from: location.pathname } }} style={{ color: 'black' }}>\n                <div className={styles.freeBanner}>\n                    {isUnpaid ? (\n                        <>\n                            <h3>{t('NoAccess.unpaid.heading', { plan })}</h3>\n                            <p>{t('NoAccess.unpaid.description', { plan })}</p>\n                            <span>{t('NoAccess.unpaid.button', { plan })}</span>\n                        </>\n                    ) : isTrial ? (\n                        <>\n                            <h3 className={styles.trial}>\n                                {t('CardMain.banner.trial')} <span>PRO</span>\n                            </h3>\n                            <p>{t('CardMain.banner.till', { date: trialEndedAt })}</p>\n                            <span className={styles.btn}>{t('CardMain.banner.upgrade')}</span>\n                        </>\n                    ) : (\n                        <>\n                            <h3>\n                                {t('CardMain.banner.title')} <span>PRO</span>\n                            </h3>\n                            <p>{t('CardMain.banner.description')}</p>\n                            <span>{t('CardMain.banner.link')}</span>\n                        </>\n                    )}\n                </div>\n            </Link>\n        </>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1NBHJtEo\",\"title\":\"_2-o2ZTD5\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport { useTranslation } from 'react-i18next';\n\nimport styles from './FieldTip.scss';\n\nexport default function FieldTip({ className, title, children, ...props }) {\n    const { t } = useTranslation();\n    const tipTitle = title ? title : t('FieldTip.defaultLabel');\n\n    return (\n        <div className={cn(styles.root, className)} {...props}>\n            <div className={styles.title}>\n                <span>{tipTitle}</span>\n            </div>\n            <div dangerouslySetInnerHTML={{ __html: children }} />\n        </div>\n    );\n}\n\nFieldTip.propTypes = {\n    className: PropTypes.string,\n    title: PropTypes.string,\n    children: PropTypes.any.isRequired,\n};\n\nFieldTip.defaultProps = {\n    className: '',\n};\n","import FieldTip from './FieldTip';\n\nexport default FieldTip;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2cFNCExK\",\"bg\":\"A62YyrAE\",\"revealOpacity\":\"_27JJAhKx\",\"content\":\"Sgn32Btt\",\"revealTransform\":\"_3n14YKlq\",\"cancel\":\"_37FZOYqE\",\"listContainer\":\"_2FYCoT4I\",\"heading\":\"_2RflT2bP\",\"linksList\":\"_3dfdU7nM\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { __t } from '@mssgme/shared';\nimport { urlSafeComponent } from '@mssgme/helpers';\nimport { LinkBlank } from '@mssgme/ui';\nimport styles from './styles.scss';\n\nclass ActionSheet extends Component {\n    static propTypes = {\n        title: PropTypes.string.isRequired,\n        links: PropTypes.array.isRequired,\n        cancel: PropTypes.func.isRequired,\n        visible: PropTypes.bool.isRequired,\n    };\n\n    static defaultProps = {\n        visible: false,\n    };\n\n    render() {\n        const { title, links, cancel } = this.props;\n\n        return (\n            <div className={styles.root}>\n                <div className={styles.bg} onClick={cancel} />\n                <div className={styles.content}>\n                    <div className={styles.listContainer}>\n                        <span className={styles.heading}>{title}</span>\n                        <ul className={styles.linksList} id=\"card_list\">\n                            {links.map((el, index) => (\n                                <li key={index}>\n                                    <LinkBlank\n                                        href={el.redirectUrl}\n                                        target=\"_blank\"\n                                        data-id={el._id}\n                                        data-title={el.title}\n                                        data-element=\"custom-link\"\n                                        data-event-name={urlSafeComponent(el.url)}\n                                    >\n                                        {el.title}\n                                    </LinkBlank>\n                                </li>\n                            ))}\n                        </ul>\n                    </div>\n                    <span className={styles.cancel} onClick={cancel}>\n                        {__t('cancel')}\n                    </span>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default ActionSheet;\n","import MobileMenu from './MobileMenu';\n\nexport default MobileMenu;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_34KjsxEs\",\"container\":\"agaDhVdK\",\"html\":\"_32RBVo5D\"};","import React from 'react';\nimport { useMount, useUnmount } from 'react-use';\n\nimport styles from './MainLayout.scss';\n\nexport default function MainLayout({ children }) {\n    useMount(() => {\n        document.documentElement.classList.add(styles.html);\n    });\n\n    useUnmount(() => {\n        document.documentElement.classList.remove(styles.html);\n    });\n\n    return (\n        <div className={styles.root}>\n            <div className={styles.container}>{children}</div>\n        </div>\n    );\n}\n","import { createAction } from '../helpers';\n\nexport const setFeedbackItemsFilter = createAction('SET_FEEDBACK_ITEMS_FILTER');\n","export default __webpack_public_path__ + \"img/messengers/icon-facebook-login.svg\";","import { useMemo } from 'react';\nimport moment from 'moment';\nimport { useWorkspace } from './useWorkspace';\n\nexport function useBilling() {\n    const { billing = {} } = useWorkspace();\n    const result = useMemo(() => {\n        const {\n            plan,\n            status,\n            cancelAtPeriodEnd,\n            trialEnd,\n            pause,\n            highRiskTransaction: transaction,\n        } = billing;\n        const hasBilling = !!billing;\n        const isFree = plan === 'basic';\n        const isTrial = status === 'trialing';\n        const isUnpaid = status === 'unpaid';\n        const isPastDue = status === 'past_due';\n        const isUnlimited = plan === 'unlimited';\n        const isUnsubscribed = !!cancelAtPeriodEnd;\n        const trialEndedAt = isTrial && trialEnd ? new Date(billing.trialEnd) : null;\n        const hasTrialEnd = !!trialEnd;\n        const isPrePaused = pause && status === 'active';\n        const isPaused = status === 'paused';\n        const pausedFrom = pause?.pausedFrom && moment.utc(pause.pausedFrom).format('LL');\n        const highRiskTransaction = isFree && ['pending', 'rejected'].includes(transaction?.status) && transaction;\n\n        return {\n            hasBilling,\n            isFree,\n            isTrial,\n            trialEndedAt,\n            plan,\n            hasTrialEnd,\n            isUnpaid,\n            isUnlimited,\n            isUnsubscribed,\n            billing,\n            isPastDue,\n            isPrePaused,\n            isPaused,\n            pausedFrom,\n            highRiskTransaction,\n        };\n    }, [billing]);\n\n    return result;\n}\n","export default __webpack_public_path__ + \"img/Avatar.svg\";","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2JS7fyOu\",\"reveal\":\"_2EUwceGt\",\"closing\":\"vQIQPdOi\",\"hide\":\"_2ZlzBuLO\",\"success\":\"_1u0n0f_6\",\"danger\":\"_147Ab1oC\",\"close\":\"_2Valn5vr\"};","import classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\nimport { FiX } from 'react-icons/fi';\n\nimport NotificationCenter, { NOTIFY_STYLES } from './notification-center';\nimport styles from './Notification.scss';\n\nconst propTypes = {\n    className: PropTypes.string,\n    onClose: PropTypes.func,\n    children: PropTypes.node,\n    notifyStyle: PropTypes.oneOf(Object.values(NOTIFY_STYLES)),\n    isRaw: PropTypes.bool,\n    showClose: PropTypes.bool,\n};\n\nconst defaultProps = {\n    closeDelay: 0,\n    isRaw: false,\n    notifyStyle: NOTIFY_STYLES.success,\n    showClose: false,\n};\n\nfunction Notification({ className, notifyStyle, showClose, isRaw, onClose, children }) {\n    const handleCloseClick = useCallback(\n        (e) => {\n            e.preventDefault();\n            onClose && onClose();\n        },\n        [onClose]\n    );\n\n    return (\n        <div className={classNames(styles.root, className, styles[notifyStyle])}>\n            {isRaw ? (\n                <div className={styles.content} dangerouslySetInnerHTML={{ __html: children }} />\n            ) : (\n                <div className={styles.content}>{children}</div>\n            )}\n            {showClose && (\n                <a className={styles.close} href=\"#\" onClick={handleCloseClick}>\n                    <FiX size={20} color=\"#fff\" />\n                </a>\n            )}\n        </div>\n    );\n}\n\n/**\n * @param {'notify'|'success'|'danger'} type Notification type\n * @returns {function(message: string, options: { showClose: boolean; closeDelay?: number }): number} Show notification\n */\nfunction notify(type) {\n    return (...args) => {\n        const center = NotificationCenter.getInstance();\n\n        return center[type].apply(center, args);\n    };\n}\n\nNotification.propTypes = propTypes;\nNotification.defaultProps = defaultProps;\n\n/** @deprecated Use NotificationCenter.getInstance().notify() instead. */\nNotification.notify = notify('notify');\n/** @deprecated Use NotificationCenter.getInstance().success() instead. */\nNotification.success = notify('success');\n/** @deprecated Use NotificationCenter.getInstance().danger() instead. */\nNotification.danger = notify('danger');\n\nexport default Notification;\n","// extracted by mini-css-extract-plugin\nexport default {\"portal\":\"_2_WUly6l\",\"reveal\":\"_2x4UxCWs\",\"root\":\"_2Hd3gxLT\",\"revealUp\":\"_1DtVJcmY\",\"small\":\"i4jqTAtK\",\"medium\":\"V4Cm4PZH\",\"large\":\"_9QDMzEGE\"};","import React, { useRef, useLayoutEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './Modal.scss';\n\nconst appRoot = document.getElementById('root');\n\nModal.propTypes = {\n    className: PropTypes.string,\n    onClose: PropTypes.func.isRequired,\n    children: PropTypes.any,\n    size: PropTypes.oneOf(['small', 'medium', 'large']),\n};\n\nModal.defaultProps = {\n    size: 'medium',\n};\n\nexport default function Modal({ className, children, size, onClose }) {\n    const portalRef = useRef(createPortalElement());\n\n    useLayoutEffect(() => {\n        function handlePortalClick(e) {\n            if (e.target === portalRef.current) {\n                onClose && onClose();\n            }\n        }\n\n        appRoot.appendChild(portalRef.current);\n        portalRef.current.addEventListener('click', handlePortalClick);\n\n        return () => {\n            portalRef.current.removeEventListener('click', handlePortalClick);\n            appRoot.removeChild(portalRef.current);\n        };\n    }, []);\n\n    const content = (\n        <div className={classNames(styles.root, className, styles[size])}>\n            <div className={styles.content}>{children}</div>\n        </div>\n    );\n\n    return ReactDOM.createPortal(content, portalRef.current);\n}\n\nfunction createPortalElement() {\n    const el = document.createElement('div');\n    el.className = styles.portal;\n    return el;\n}\n","import { createAction } from '../helpers';\n\nexport const setAudienceFilter = createAction('SET_AUDIENCE_FILTER');\nexport const clearAudienceStore = createAction('CLEAR_AUDIENCE_STORE');\n","const defaults = {\n    baseUrl: process.env.REACT_APP_USERPAGE_API_URL || '/api',\n};\n\n// const meta = document.querySelector('meta[name=\"csrf-token\"]');\n// const csrfToken = meta ? meta.content : undefined;\n\nconst ApiError = (status, statusText) => {\n    const error = Error(statusText);\n    error.status = status;\n    error.type = 'api';\n    return error;\n};\n\nfunction urlSearch(obj) {\n    if (typeof obj !== 'object') return '';\n    const arr = [];\n\n    for (let prop in obj) {\n        const val = obj[prop];\n        if (val !== null && val !== undefined) arr.push(`${prop}=${val}`);\n    }\n\n    return arr.length > 0 ? '?' + arr.join('&') : '';\n}\n\nconst ValidationError = (errors) => {\n    const error = new Error('Validation error');\n    error.type = 'validation';\n    error.errors = errors;\n    return error;\n};\n\nconst AuthorizationError = (message) => {\n    const error = new Error(message);\n    error.type = 'authorization';\n    return error;\n};\n\nfunction isAbsolute(endpoint) {\n    return endpoint.startsWith('http://') || endpoint.startsWith('https://');\n}\n\nexport class BaseApi {\n    constructor(options) {\n        this.options = { ...defaults, ...options };\n    }\n\n    get(endpoint) {\n        return this.request(endpoint);\n    }\n\n    post(endpoint, body) {\n        return this.request(endpoint, { method: 'POST', body });\n    }\n\n    put(endpoint, body) {\n        return this.request(endpoint, { method: 'PUT', body });\n    }\n\n    delete(endpoint) {\n        return this.request(endpoint, { method: 'DELETE' });\n    }\n\n    async request(endpoint, options) {\n        if (Array.isArray(endpoint)) {\n            let params;\n            [endpoint, params] = endpoint;\n            endpoint = endpoint + urlSearch(params);\n        }\n\n        if (!isAbsolute(endpoint)) endpoint = this.options.baseUrl + endpoint;\n\n        const { method, headers, body, ...rest } = { method: 'GET', ...options };\n\n        const response = await fetch(endpoint, {\n            method: ['PUT', 'DELETE'].includes(method.toUpperCase()) ? 'POST' : method,\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                'X-HTTP-Method-Override': method.toUpperCase(),\n                // 'X-CSRF-Token': csrfToken,\n                ...headers,\n            },\n            body: body ? JSON.stringify(body) : undefined,\n            ...rest,\n        });\n\n        if (!response.ok) {\n            switch (response.status) {\n                case 400: {\n                    const { errors } = await response.json();\n                    throw ValidationError(errors);\n                }\n                case 401:\n                case 403:\n                    throw AuthorizationError(response.statusText);\n                default:\n                    throw ApiError(response.status, response.statusText);\n            }\n        }\n\n        if (response.status !== 204) {\n            return response.json();\n        }\n    }\n}\n\nexport default (options) => new BaseApi(options);\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3YljcX9V\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n\nimport styles from './Scrollbar.scss';\n\nScrollbar.propTypes = {\n    children: PropTypes.element.isRequired,\n};\n\nexport default function Scrollbar({ children }) {\n    const { className, ...rest } = children.props;\n\n    return React.cloneElement(\n        children,\n        {\n            className: cn(styles.root, className),\n            ...rest,\n        },\n        rest.children\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_34hpiuv7\",\"heading\":\"NtDe4YsW\",\"list\":\"B-AQXapM\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './Nav.scss';\n\nexport default function Nav({ heading, className, children }) {\n    const list = React.Children.toArray(children);\n\n    return (\n        <div className={classNames(styles.root, className)}>\n            {heading && <h2 className={styles.heading}>{heading}</h2>}\n            <ul className={styles.list}>\n                {list.map((item, index) => (\n                    <li key={index}>{item}</li>\n                ))}\n            </ul>\n        </div>\n    );\n}\n\nNav.propTypes = {\n    className: PropTypes.string,\n    children: PropTypes.node,\n    heading: PropTypes.string,\n};\n","export default __webpack_public_path__ + \"img/icon_arrow_grey.svg\";","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3sEDzXOF\"};","import cn from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './SidebarHeader.scss';\n\nconst SidebarHeader = ({ leftButton, heading, rightButton, className, ...rest }) => (\n    <div className={cn(styles.root, className)} {...rest}>\n        {leftButton}\n        <h2>{heading}</h2>\n        {rightButton}\n    </div>\n);\n\nSidebarHeader.propTypes = {\n    className: PropTypes.string,\n    heading: PropTypes.string,\n    leftButton: PropTypes.any,\n    rightButton: PropTypes.any,\n};\n\nexport default SidebarHeader;\n","import SidebarHeader from './SidebarHeader';\n\nexport default SidebarHeader;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2ut3VK2F\",\"right\":\"_33M482TC\"};","import React from 'react';\n\nimport { cls } from '@mssgme/helpers';\nimport { RowProps } from './types';\n\nimport styles from './Row.scss';\n\nexport default function Row({ align, ...rest }) {\n    return <div {...cls([styles.root, { [styles.right]: align === 'right' }], rest)} />;\n}\n\nRow.propTypes = RowProps;\n","import React from 'react';\nimport FieldRow from './FieldRow';\nimport { Textarea } from '../Inputs';\nimport { TextareaFieldProps } from './types';\n\nexport default function TextareaField({ onChange, inputStyles, ...props }) {\n    return (\n        <FieldRow {...props}>\n            {({ field: { name, value, ...field }, form: { errors, touched, setFieldValue } }) => (\n                <Textarea\n                    name={name}\n                    value={value}\n                    {...field}\n                    style={inputStyles}\n                    hasError={errors[name] && touched[name]}\n                    onChange={\n                        onChange ||\n                        ((e) => {\n                            setFieldValue(name, e.target.value, false);\n                        })\n                    }\n                />\n            )}\n        </FieldRow>\n    );\n}\n\nTextareaField.propTypes = TextareaFieldProps;\n","import { i18nBackend } from '@mssgme/i18n';\n\nfunction resolver(language) {\n    return import(\n        /* webpackInclude: /\\.json$/ */\n        `./${language}/inbox.json`\n    );\n}\n\ni18nBackend.registerResolver('inbox', resolver);\n","import { toPairs, sum, isEqual } from 'lodash';\nimport { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useDeepCompareEffect } from 'react-use';\n\nexport const useUnreadConversations = () => {\n    const unreadConversationsObject = useSelector((state) => state.conversations.unread);\n    const unreadConversations = toPairs(unreadConversationsObject)\n        .map((i) => ({\n            contact: i[0],\n            unreadMessages: i[1],\n        }))\n        .filter((i) => i.unreadMessages > 0);\n    const unreadConversationsCount = unreadConversations.length;\n    const unreadMessagesCount = sum(unreadConversations.map((i) => i.unreadMessages));\n    const hasUnreads = unreadConversationsCount > 0;\n    const [prev, setPrev] = useState(() => unreadConversationsObject);\n    const [updateTimestamp, setUpdateTimestamp] = useState(0);\n\n    useDeepCompareEffect(() => {\n        if (isEqual(unreadConversationsObject, prev)) {\n            return;\n        }\n\n        setPrev(unreadConversationsObject);\n\n        for (const [id, messages] of Object.entries(unreadConversationsObject)) {\n            const delta = messages - (prev[id] || 0);\n\n            if (delta > 0) {\n                setUpdateTimestamp(Date.now());\n\n                break;\n            }\n        }\n    }, [prev, unreadConversationsObject]);\n\n    return {\n        unreadConversations,\n        unreadConversationsCount,\n        unreadMessagesCount,\n        updateTimestamp,\n        hasUnreads,\n    };\n};\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction CloseIcon(props, svgRef) {\n    return (\n        <IconBase fill=\"none\" viewBox=\"0 0 24 24\" ref={svgRef} {...props}>\n            <path\n                d=\"M18 6L6 18M6 6l12 12\"\n                stroke=\"currentColor\"\n                strokeWidth={2}\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(CloseIcon);\nexport default ForwardRef;\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction PlayCircleIcon(props, svgRef) {\n    return (\n        <IconBase fill=\"none\" viewBox=\"0 0 24 24\" ref={svgRef} {...props}>\n            <path\n                d=\"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z\"\n                stroke=\"currentColor\"\n                strokeWidth={2}\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n            <path\n                d=\"M10 8l6 4-6 4V8z\"\n                stroke=\"currentColor\"\n                strokeWidth={2}\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(PlayCircleIcon);\nexport default ForwardRef;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1f8GzvWD\",\"integration\":\"_3CymbAWY\",\"label\":\"_w7TQU9O\",\"labelsContainer\":\"JnSSWrV1\",\"status\":\"_3p60J21x\",\"logo\":\"xMKJnu4Z\",\"button\":\"_2u7IKBV3\",\"red\":\"Zqis1YhQ\",\"isFetching\":\"VjG6jWpt\",\"soonLabel\":\"_854_kX7i\",\"spinner\":\"_3EUOpMBQ\"};","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport { NavLink } from 'react-router-dom';\nimport classNames from 'classnames';\n\nimport whatsappImg from '@mssgme/app/img/iconWhatsapp.svg';\nimport instagramImg from '@mssgme/app/img/insta.svg';\nimport { Spinner } from '@mssgme/ui';\nimport { useActions } from '@mssgme/hooks';\n\nimport styles from './styles.scss';\n\nexport default function IntegrationList({ className, integrations }) {\n    const { api } = useActions();\n    const { t } = useTranslation();\n    const [isFetching, setIsFetching] = useState(false); // todo: use 'useFetching'\n\n    const handleRemove = async (id, type) => {\n        setIsFetching(type);\n\n        try {\n            await api.integrations.delete({ integrationId: id });\n        } catch (e) {\n            alert(e);\n        }\n\n        setIsFetching(false);\n    };\n\n    return (\n        <div className={classNames(styles.root, className)}>\n            {integrations.map((integration) => (\n                <div className={styles.integration} key={integration.type}>\n                    <img className={styles.logo} src={integration.logo} alt={integration.label} />\n                    <div className={styles.labelsContainer}>\n                        <span className={styles.label}>{integration.label}</span>\n                        {integration.integrated && (\n                            <span className={styles.status}>{t('IntegrationList.connected')}</span>\n                        )}\n                    </div>\n                    {integration.integrated ? (\n                        <span\n                            className={classNames(styles.button, styles.red, { [styles.isFetching]: isFetching })}\n                            onClick={() => handleRemove(integration.id, integration.type)}\n                        >\n                            {isFetching && isFetching === integration.type ? (\n                                <Spinner size=\"14\" color=\"white\" className={styles.spinner} />\n                            ) : (\n                                t('IntegrationList.remove')\n                            )}\n                        </span>\n                    ) : (\n                        <NavLink exact to={integration.path} className={styles.button}>\n                            {t('IntegrationList.add')}\n                        </NavLink>\n                    )}\n                </div>\n            ))}\n            <div className={styles.integration} key=\"whatsapp\">\n                <img className={styles.logo} src={whatsappImg} alt=\"whatsapp\" />\n                <span className={styles.label}>WhatsApp</span>\n                <span className={classNames(styles.button, styles.soonLabel)}>{t('IntegrationList.soon')}</span>\n            </div>\n            {/* <div className={styles.integration} key=\"instagram\">\n                <img className={styles.logo} src={instagramImg} alt=\"instagram\" />\n                <span className={styles.label}>Instagram</span>\n                <span className={classNames(styles.button, styles.soonLabel)}>{t('IntegrationList.soon')}</span>\n            </div> */}\n        </div>\n    );\n}\n\nIntegrationList.propTypes = {\n    className: PropTypes.string,\n    integrations: PropTypes.array.isRequired,\n};\n\nIntegrationList.defaultProp = {\n    integrations: [],\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { get } from 'lodash';\nimport { withTranslation } from 'react-i18next';\n\nimport { Notification } from '@mssgme/ui';\nimport { NOTIFICATIONS_DELAY } from '@mssgme/constants';\n\n// TODO: rewrite into hook\n/**\n * @param WrappedComponent\n * @param def\n * @param errorMapper\n * @param paths\n * @deprecated\n */\nexport const withApi = (\n    WrappedComponent,\n    def,\n    errorMapper = () => undefined,\n    paths = ['json.message', 'json.error.message', 'json.errors.message', 'json.type', 'message']\n) => {\n    return withTranslation()(\n        class ApiRequestHandler extends React.Component {\n            static propTypes = {\n                t: PropTypes.func.isRequired,\n                closeDelay: PropTypes.number,\n            };\n\n            static defaultProps = {\n                closeDelay: NOTIFICATIONS_DELAY,\n            };\n\n            state = {\n                isFetching: false,\n                errors: {},\n            };\n\n            request = async (promise) => {\n                this.setState({ isFetching: true });\n\n                // todo: fixit or migrate to hooks\n                // eslint-disable-next-line no-async-promise-executor\n                return new Promise(async (resolve, reject) => {\n                    try {\n                        const result = await promise;\n\n                        this.setState({ errors: {} }, () => {\n                            resolve(result);\n                        });\n                    } catch (e) {\n                        this.setState({ errors: this.handleError(e) }, () => {\n                            reject(this.state.errors);\n                        });\n                    } finally {\n                        this.setState({ isFetching: false });\n                    }\n                });\n            };\n\n            handleError(e) {\n                switch (e.type) {\n                    case 'validation':\n                        return this.remapErrors(e.errors);\n\n                    // case 'api':\n                    default: {\n                        const message = this.parseError(e);\n\n                        Notification.danger(this.props.t(message) || message, { showClose: true });\n\n                        return { message };\n                    }\n                }\n            }\n\n            parseError(error) {\n                let message;\n\n                for (const path of paths) {\n                    if ((message = get(error, path))) {\n                        break;\n                    }\n                }\n\n                if (message) {\n                    return errorMapper(message) || def;\n                }\n\n                return def;\n            }\n\n            remapErrors(errors) {\n                const result = {};\n\n                for (const [key, value] of Object.entries(errors)) {\n                    const mapped = errorMapper(value);\n\n                    if (mapped) {\n                        result[key] = mapped;\n                    } else if (def || value) {\n                        result[key] = def || value;\n                    }\n                }\n\n                return result;\n            }\n\n            render() {\n                return <WrappedComponent {...this.state} {...this.props} request={this.request} />;\n            }\n        }\n    );\n};\n","import { useTranslation } from 'react-i18next';\nimport { useLocation } from 'react-router';\n\nexport const useIntegration = () => {\n    const { t } = useTranslation();\n    const location = useLocation();\n    const rootIntegrationsPath = location.pathname.startsWith('/i/onboard') ? '/i/onboard' : '/s/integrations';\n\n    return {\n        t,\n        rootIntegrationsPath,\n    };\n};\n","import { useEffect, useState, useMemo, useCallback } from 'react';\nimport { useHistory } from 'react-router';\n\nimport { facebookApiAdapter } from '@mssgme/lib';\nimport { useActions } from '@mssgme/hooks';\nimport { useIntegration } from '../useIntegration';\n\n// const SCOPE = 'email,public_profile,pages_manage_metadata,pages_messaging,instagram_basic,instagram_manage_messages';\nconst SCOPE = 'email,public_profile,pages_manage_metadata,pages_messaging';\nconst FIELDS = 'accounts.limit(1000){access_token,id,name},name,id';\n\nfunction useFacebookPages(fbApi) {\n    const [isLoaded, setIsLoaded] = useState(false);\n    const [pages, setPages] = useState([]);\n    const [username, setUsername] = useState('');\n\n    const loadPages = useCallback(() => {\n        fbApi.api('/me', { fields: FIELDS }).then((response) => {\n            setIsLoaded(true);\n            setPages((response.accounts && response.accounts.data) || []);\n            setUsername(response.name);\n        });\n    }, [fbApi]);\n\n    const options = useMemo(() => pages.map(({ id, name }) => ({ value: id, label: name })), [pages]);\n\n    return { loadPages, pages, options, username, isLoaded };\n}\n\nfunction useFacebookApi() {\n    const [fbApi, setFbApi] = useState(null);\n    const [plugError, setPlugError] = useState(null);\n\n    useEffect(() => {\n        facebookApiAdapter()\n            .then((fbApi) => setFbApi(fbApi))\n            .catch(() => {\n                setPlugError('messengerIntegration.errors.plug_failed');\n            });\n    }, []);\n\n    return { fbApi, plugError };\n}\n\nfunction useFacebookLogin(fbApi) {\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n    const login = useCallback(async () => {\n        const { status } = await fbApi.login({ scope: SCOPE });\n        if (status === 'connected') {\n            setIsLoggedIn(true);\n        } else {\n            throw new Error('Not connected');\n        }\n    }, [fbApi]);\n\n    return { isLoggedIn, login };\n}\n\nexport const useMessengerIntegration = ({ request }) => {\n    const { api } = useActions();\n    const { t, rootIntegrationsPath } = useIntegration();\n    const history = useHistory();\n    const [selectedPage, setSelectedPage] = useState(null);\n    const { fbApi, plugError } = useFacebookApi();\n    const { isLoggedIn, login } = useFacebookLogin(fbApi);\n    const { isLoaded, pages, options, username, loadPages } = useFacebookPages(fbApi);\n    const [errors, setErrors] = useState({});\n\n    const handleLoginClick = async (e) => {\n        e.preventDefault();\n        try {\n            await login();\n            loadPages();\n        } catch (e) {\n            // skip\n        }\n    };\n\n    const handleChange = (e) => {\n        const value = e.target.value;\n        const selectedPage = pages.find((item) => item.id === value);\n        setSelectedPage(selectedPage);\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        try {\n            await request(\n                api.integrations.create({ payload: { type: 'messenger', token: selectedPage.access_token, username } })\n            );\n            history.push(rootIntegrationsPath);\n        } catch (e) {\n            // errors handled by request()\n        }\n    };\n\n    return {\n        t,\n        fbApi,\n        plugError,\n        handleSubmit,\n        isLoggedIn,\n        handleLoginClick,\n        isLoaded,\n        username,\n        selectedPage,\n        options,\n        handleChange,\n        errors,\n    };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"rootContainer\":\"_36zFkfPf\",\"list\":\"l8AdHd2s\",\"input\":\"_191EoLAd\",\"buttonContainer\":\"GKCzf2Js\",\"submitButton\":\"_3EhC8bP7\",\"active\":\"_1TGTA5g2\",\"isFetching\":\"ZvtNpCFc\",\"error\":\"_1Cooo30A\",\"spinner\":\"_1D2Rb87e\",\"select\":\"_12dF5pwU\"};","import cn from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { SelectSimple, FormErrors, Spinner, FormField } from '@mssgme/ui';\nimport { withApi } from '../withApi';\nimport { useMessengerIntegration } from './useMessengerIntegration';\n\nimport styles from '../commonStyles.scss';\n\nfunction MessengerIntegrationNew({ errors: apiErrors, isFetching, request }) {\n    const {\n        t,\n        fbApi,\n        plugError,\n        handleSubmit,\n        isLoggedIn,\n        handleLoginClick,\n        isLoaded,\n        username,\n        selectedPage,\n        options,\n        handleChange,\n        errors,\n    } = useMessengerIntegration({ request });\n\n    if (!fbApi) {\n        return plugError && <FormErrors error={t(plugError)} />;\n    }\n\n    return (\n        <form onSubmit={handleSubmit} className={styles.rootContainer}>\n            {!isLoggedIn && (\n                <>\n                    <p>{t('messengerIntegration.connect_facebook')}</p>\n                    <div className={styles.buttonContainer}>\n                        <button className={cn(styles.submitButton, styles.active)} onClick={handleLoginClick}>\n                            {t('messengerIntegration.sign_in_fb')}\n                        </button>\n                    </div>\n                </>\n            )}\n            {isLoaded && (\n                <>\n                    <p style={{ marginBottom: 10 }}>\n                        {t('messengerIntegration.signed_in_as')}&nbsp;<strong>{username}</strong>\n                    </p>\n                    <p style={{ marginBottom: 20 }}>{t('messengerIntegration.choose_page')}</p>\n                    <FormField\n                        component={SelectSimple}\n                        inputClassName={styles.select}\n                        placeholder={t('messengerIntegration.select_page')}\n                        value={(selectedPage && selectedPage.id) || ''}\n                        options={options}\n                        onChange={handleChange}\n                        errors={errors.selectedPage}\n                    />\n                    <div className={styles.buttonContainer}>\n                        <button\n                            type=\"submit\"\n                            className={cn(styles.submitButton, {\n                                [styles.active]: !!selectedPage,\n                                [styles.isFetching]: isFetching,\n                            })}\n                        >\n                            {isFetching ? (\n                                <Spinner size=\"16\" color=\"white\" className={styles.spinner} />\n                            ) : (\n                                t('messengerIntegration.connect')\n                            )}\n                        </button>\n                    </div>\n                </>\n            )}\n        </form>\n    );\n}\n\nMessengerIntegrationNew.propTypes = {\n    isFetching: PropTypes.bool.isRequired,\n    errors: PropTypes.object.isRequired,\n    request: PropTypes.func.isRequired,\n};\n\nexport default withApi(MessengerIntegrationNew, 'errorsList.create_integration');\n","import MessengerIntegration from './MessengerIntegration';\n\nexport default MessengerIntegration;\n","import { useState } from 'react';\nimport { useHistory } from 'react-router';\n\nimport { useIntegration } from '../useIntegration';\nimport { useActions } from '@mssgme/hooks';\n\nexport const ERROR_MESSAGES_MAP = {\n    'Not Found': 'telegramIntegration.errors.not_found',\n    Unauthorized: 'telegramIntegration.errors.unauthorized',\n    'errors.create_integration.telegram.not_a_token': 'telegramIntegration.errors.wrong_token',\n};\n\nexport const useTelegramIntegration = ({ request }) => {\n    const { api } = useActions();\n    const { t, rootIntegrationsPath } = useIntegration();\n    const history = useHistory();\n    const [token, setToken] = useState('');\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        try {\n            await request(api.integrations.create({ payload: { type: 'telegram', token } }));\n            setToken('');\n            history.push(rootIntegrationsPath);\n        } catch (err) {\n            // errors handled by request()\n        }\n    };\n\n    return {\n        handleSubmit,\n        t,\n        token,\n        setToken,\n    };\n};\n","import cn from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Spinner } from '@mssgme/ui';\nimport { withApi } from '../withApi';\nimport { ERROR_MESSAGES_MAP, useTelegramIntegration } from './useTelegramIntegration';\n\nimport styles from '../commonStyles.scss';\n\nfunction TelegramIntegration({ isFetching, errors, request }) {\n    const { handleSubmit, t, token, setToken } = useTelegramIntegration({ request });\n\n    return (\n        <form onSubmit={handleSubmit} className={styles.rootContainer}>\n            <ol className={styles.list}>\n                <li\n                    dangerouslySetInnerHTML={{\n                        __html: t('telegramIntegration.how_to.step1'),\n                    }}\n                />\n                <li\n                    dangerouslySetInnerHTML={{\n                        __html: t('telegramIntegration.how_to.step2'),\n                    }}\n                />\n                <li\n                    dangerouslySetInnerHTML={{\n                        __html: t('telegramIntegration.how_to.step3'),\n                    }}\n                />\n                <li\n                    dangerouslySetInnerHTML={{\n                        __html: t('telegramIntegration.how_to.step4'),\n                    }}\n                />\n                <li>{t('telegramIntegration.how_to.step5')}</li>\n                <li\n                    dangerouslySetInnerHTML={{\n                        __html: t('telegramIntegration.how_to.step6'),\n                    }}\n                />\n            </ol>\n            <input\n                type=\"text\"\n                placeholder={t('telegramIntegration.placeholder')}\n                value={token}\n                onChange={(e) => setToken(e.target.value)}\n                disabled={isFetching}\n                className={styles.input}\n            />\n            {errors.token && <span className={styles.error}>{t(errors.token)}</span>}\n            <div className={styles.buttonContainer}>\n                <button\n                    type=\"submit\"\n                    className={cn(styles.submitButton, { [styles.active]: !!token, [styles.isFetching]: isFetching })}\n                >\n                    {isFetching ? (\n                        <Spinner size=\"16\" color=\"white\" className={styles.spinner} />\n                    ) : (\n                        t('telegramIntegration.connect')\n                    )}\n                </button>\n            </div>\n        </form>\n    );\n}\n\nTelegramIntegration.propTypes = {\n    isFetching: PropTypes.bool.isRequired,\n    errors: PropTypes.object.isRequired,\n    request: PropTypes.func.isRequired,\n};\n\nexport default withApi(TelegramIntegration, 'errorsList.create_integration', (message) => ERROR_MESSAGES_MAP[message]);\n","import TelegramIntegration from './TelegramIntegration';\n\nexport default TelegramIntegration;\n","import { useState } from 'react';\nimport { useHistory } from 'react-router';\n\nimport { useIntegration } from '../useIntegration';\nimport { useActions } from '@mssgme/hooks';\n\nexport const ERROR_MESSAGES_MAP = {\n    'errors.create_integration.viber.not_a_token': 'viberIntegration.errors.wrong_token',\n};\n\nexport const useViberIntegration = ({ request }) => {\n    const { api } = useActions();\n    const { t, rootIntegrationsPath } = useIntegration();\n    const history = useHistory();\n    const [token, setToken] = useState('');\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        try {\n            await request(api.integrations.create({ payload: { type: 'viber', token } }));\n            setToken('');\n            history.push(rootIntegrationsPath);\n        } catch (err) {\n            // errors handled by request()\n        }\n    };\n\n    return {\n        t,\n        handleSubmit,\n        token,\n        setToken,\n    };\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n\nimport { Spinner } from '@mssgme/ui';\nimport { withApi } from '../withApi';\nimport { ERROR_MESSAGES_MAP, useViberIntegration } from './useViberIntegration';\n\nimport styles from '../commonStyles.scss';\n\nfunction ViberIntegration({ isFetching, errors, request }) {\n    const { t, handleSubmit, token, setToken } = useViberIntegration({ request });\n\n    return (\n        <form onSubmit={handleSubmit} className={styles.rootContainer}>\n            <ol className={styles.list}>\n                <li\n                    dangerouslySetInnerHTML={{\n                        __html: t('viberIntegration.how_to_2.step1'),\n                    }}\n                />\n                <li\n                    dangerouslySetInnerHTML={{\n                        __html: t('viberIntegration.how_to_2.step2'),\n                    }}\n                />\n                <li\n                    dangerouslySetInnerHTML={{\n                        __html: t('viberIntegration.how_to_2.step3'),\n                    }}\n                />\n            </ol>\n            <input\n                type=\"text\"\n                placeholder={t('viberIntegration.input.placeholder')}\n                value={token}\n                onChange={(e) => setToken(e.target.value)}\n                disabled={isFetching}\n                className={styles.input}\n            />\n            {errors.token && <span className={styles.error}>{t(errors.token)}</span>}\n            <div className={styles.buttonContainer}>\n                <button\n                    type=\"submit\"\n                    className={cn(styles.submitButton, { [styles.active]: !!token, [styles.isFetching]: isFetching })}\n                >\n                    {isFetching ? (\n                        <Spinner size=\"16\" color=\"white\" className={styles.spinner} />\n                    ) : (\n                        t('viberIntegration.connect')\n                    )}\n                </button>\n            </div>\n        </form>\n    );\n}\n\nViberIntegration.propTypes = {\n    isFetching: PropTypes.bool.isRequired,\n    errors: PropTypes.object.isRequired,\n    request: PropTypes.func.isRequired,\n};\n\nexport default withApi(ViberIntegration, 'errorsList.create_integration', (message) => ERROR_MESSAGES_MAP[message]);\n","import ViberIntegration from './ViberIntegration';\n\nexport default ViberIntegration;\n","import { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport $script from 'scriptjs';\n\nimport config from 'config';\n\nimport { handleError } from '@mssgme/lib';\nimport { useActions } from '@mssgme/hooks';\nimport { useIntegration } from '../useIntegration';\n\nexport const useVkIntegration = () => {\n    const { api } = useActions();\n    const { t, rootIntegrationsPath } = useIntegration();\n    const history = useHistory();\n    const [isFetching, setIsFetching] = useState(false); // TODO: remove\n    const [isConnected, setIsConnected] = useState(false); // TODO: remove\n    const [vk, setVk] = useState(null);\n    const [groups, setGroups] = useState([]);\n    const [selectedGroup, setSelectedGroup] = useState(null);\n    const [username, setUsername] = useState('');\n    const [step, setStep] = useState(1);\n    const [errors, setErrors] = useState({}); // TODO: remove\n    const [plugError, setPlugError] = useState(null);\n    const [popup, setPopup] = useState(null);\n\n    const initVk = () => {\n        $script('https://vk.com/js/api/openapi.js?158', () => {\n            const vk = window.VK;\n\n            if (vk) {\n                vk.init({\n                    apiId: config.vk_app_id,\n                });\n\n                setVk(vk);\n            } else {\n                setPlugError('vkIntegration.errors.plug_failed');\n            }\n        });\n    };\n\n    const handleLoginClick = (e) => {\n        e.preventDefault();\n\n        vk.Auth.login((res) => {\n            const isConnected = res.status === 'connected';\n\n            if (isConnected) {\n                const user = res.session.user;\n                const username = `${user.first_name} ${user.last_name}`.trim();\n\n                setIsConnected(isConnected);\n                setStep(2);\n                setUsername(username);\n\n                loadGroups();\n            }\n        }, 262144);\n    };\n\n    const getGroupsOptions = () => {\n        return groups.map(({ id, name }) => ({ value: id, label: name }));\n    };\n\n    const loadGroups = () => {\n        vk.Api.call('groups.get', { filter: 'admin', extended: 1, v: '5.81' }, (res) => {\n            setGroups(res.response.items.map((item) => ({ ...item, id: item.id.toString() })));\n        });\n    };\n\n    const handleChange = (e) => {\n        const value = e.target.value;\n        const selectedGroup = groups.find((item) => item.id === value);\n\n        setSelectedGroup(selectedGroup);\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        const url = `https://oauth.vk.com/authorize?client_id=${config.vk_app_id}&display=popup&redirect_uri=${\n            config.vk_callback_url\n        }&group_ids=${selectedGroup.id}&scope=manage,messages,photos,docs&response_type=code&v=5.81`;\n        setPopup(window.open(url, '_blank', 'height=400,width=300'));\n    };\n\n    const onAuthorize = async (res) => {\n        const token = res[`access_token_${selectedGroup.id}`];\n\n        try {\n            await api.integrations.create({ payload: { type: 'vk', token, groupId: selectedGroup.id } });\n\n            popup.close();\n            history.push(rootIntegrationsPath);\n        } catch (e) {\n            handleError(e);\n        }\n    };\n\n    useEffect(() => {\n        initVk();\n        window.onAuthorizeVK = onAuthorize;\n    }, []);\n\n    useEffect(() => {\n        window.onAuthorizeVK = onAuthorize;\n    }, [selectedGroup, popup]);\n\n    return {\n        t,\n        vk,\n        plugError,\n        step,\n        handleLoginClick,\n        handleSubmit,\n        username,\n        selectedGroup,\n        getGroupsOptions,\n        handleChange,\n        errors,\n        isFetching,\n    };\n};\n","import cn from 'classnames';\nimport React from 'react';\n\nimport { SelectSimple, FormErrors, Spinner, FormField } from '@mssgme/ui';\nimport { useVkIntegration } from './useVkIntegration';\n\nimport styles from '../commonStyles.scss';\n\nfunction VKIntegration() {\n    const {\n        t,\n        vk,\n        plugError,\n        step,\n        handleLoginClick,\n        handleSubmit,\n        username,\n        selectedGroup,\n        getGroupsOptions,\n        handleChange,\n        errors,\n        isFetching,\n    } = useVkIntegration();\n\n    if (!vk) {\n        return plugError && <FormErrors error={t(plugError)} />;\n    }\n\n    switch (step) {\n        case 1:\n            return (\n                <div className={styles.rootContainer}>\n                    <p>{t('vkIntegration.step1.heading')}</p>\n                    <div className={styles.buttonContainer}>\n                        <button className={cn(styles.submitButton, styles.active)} onClick={handleLoginClick}>\n                            {t('vkIntegration.step1.sign_in_vk')}\n                        </button>\n                    </div>\n                </div>\n            );\n        case 2:\n            return (\n                <form onSubmit={handleSubmit} className={styles.root}>\n                    <p style={{ marginBottom: 10 }}>\n                        {t('vkIntegration.step2.status')}&nbsp;<strong>{username}</strong>\n                    </p>\n                    <p style={{ marginBottom: 20 }}>{t('vkIntegration.step2.heading')}</p>\n                    <FormField\n                        component={SelectSimple}\n                        inputClassName={styles.groups}\n                        placeholder={t('vkIntegration.step2.select_group')}\n                        value={(selectedGroup && selectedGroup.id) || ''}\n                        options={getGroupsOptions()}\n                        onChange={handleChange}\n                        errors={errors.selectedPage}\n                    />\n                    <div className={styles.buttonContainer}>\n                        <button\n                            type=\"submit\"\n                            className={cn(styles.submitButton, {\n                                [styles.active]: !!selectedGroup,\n                                [styles.isFetching]: isFetching,\n                            })}\n                        >\n                            {isFetching ? (\n                                <Spinner size=\"16\" color=\"white\" className={styles.spinner} />\n                            ) : (\n                                t('vkIntegration.step2.connect')\n                            )}\n                        </button>\n                    </div>\n                </form>\n            );\n    }\n}\n\nexport default VKIntegration;\n","import VKIntegration from './VKIntegration';\n\nexport default VKIntegration;\n","import { useTranslation } from 'react-i18next';\nimport { useSelector } from 'react-redux';\nimport { useLocation, useRouteMatch } from 'react-router';\n\nimport { getWorkspace } from '@mssgme/store';\nimport facebookImg from '@mssgme/app/img/facebook2.svg';\nimport telegramImg from '@mssgme/app/img/telegram2.svg';\nimport viberImg from '@mssgme/app/img/viber2.svg';\nimport vkImg from '@mssgme/app/img/vk.svg';\nimport MessengerIntegration from '../Vendors/MessengerIntegration';\nimport TelegramIntegration from '../Vendors/TelegramIntegration';\nimport ViberIntegration from '../Vendors/ViberIntegration';\nimport VKIntegration from '../Vendors/VKIntegration';\n\nconst routesMap = [\n    {\n        type: 'messenger',\n        label: 'Messenger',\n        logo: facebookImg,\n        component: MessengerIntegration,\n        tutorialSrc: {\n            ru: 'https://www.youtube.com/embed/G0dcj6XLgAI?rel=0&modestbranding=1',\n            en: 'https://www.youtube.com/embed/nQuFiYfktCw?rel=0&modestbranding=1',\n        },\n    },\n    {\n        type: 'telegram',\n        label: 'Telegram',\n        logo: telegramImg,\n        component: TelegramIntegration,\n        tutorialSrc: {\n            ru: 'https://www.youtube.com/embed/oT7wfIUiaqg?rel=0&modestbranding=1',\n            en: 'https://www.youtube.com/embed/qmDWl4Fz6Ps?rel=0&modestbranding=1',\n        },\n    },\n    {\n        type: 'viber',\n        label: 'Viber',\n        logo: viberImg,\n        component: ViberIntegration,\n        tutorialSrc: {\n            ru: 'https://www.youtube.com/embed/kW28FFcrvVI?rel=0&modestbranding=1',\n            en: 'https://www.youtube.com/embed/JOmI_Adg0h0?rel=0&modestbranding=1',\n        },\n    },\n    {\n        type: 'vk',\n        label: 'VK',\n        logo: vkImg,\n        component: VKIntegration,\n        tutorialSrc: {\n            ru: 'https://www.youtube.com/embed/-SaCgQvvlxs?rel=0&modestbranding=1',\n            en: 'https://www.youtube.com/embed/A-GYreJ6nR4?rel=0&modestbranding=1',\n        },\n    },\n];\n\nexport const useIntegrationsPage = () => {\n    const integrations = useSelector((state) => getWorkspace(state).integrations);\n    const types = integrations.map((i) => i.type);\n    const { t, i18n } = useTranslation();\n    const match = useRouteMatch();\n    const location = useLocation();\n    const routes = routesMap.map((item) => ({\n        ...item,\n        path: `${match.path}/${item.type}`,\n        integrated: types.includes(item.type),\n        id: integrations.find((integration) => integration.type === item.type)\n            ? integrations.find((integration) => integration.type === item.type)._id\n            : null,\n    }));\n    const rootPath = location.pathname.startsWith('/i/onboard') ? '/i/onboard' : '/s/integrations';\n\n    return {\n        t,\n        routes,\n        rootPath,\n        match,\n        i18n,\n    };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_4GhAcIFk\",\"content\":\"Rpnvokoz\",\"heading\":\"wiyF_5g7\",\"subHeading\":\"_305XtJXx\",\"integrations\":\"_3rRCf1Sq\",\"modalContainer\":\"_2Yc7ZYMT\",\"revealBg\":\"HBcK6sds\",\"modal\":\"_2X41D6zm\",\"revealModal\":\"_3Fev8Plw\",\"closeModalBtn\":\"_2vzRiypK\",\"modalHeader\":\"_9dRRhS1C\",\"modalLogo\":\"_1H4cYpOo\",\"modalTitle\":\"_1UcrcRgO\",\"modalSubTitle\":\"_1ghkh9Vv\",\"playButton\":\"_1FT-VaEx\",\"iconPlay\":\"Wt_7-wJa\",\"videoModalContainer\":\"_1qtGkWqR\",\"videoModal\":\"_3yHiW_D8\",\"closeVideoModalBtn\":\"LFAU4tTA\",\"videoModalFrame\":\"_3gfOb3H0\",\"videoModalTitle\":\"_1PCUUay5\"};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Link, NavLink, Redirect, Route, Switch } from 'react-router-dom';\n\nimport { PlayCircleIcon, CloseIcon } from '@mssgme/icons';\n\nimport IntegrationList from '../IntegrationList';\nimport { useIntegrationsPage } from './useIntegrationsPage';\n\nimport styles from './styles.scss';\n\nexport default function IntegrationsPage({ children }) {\n    const { t, routes, rootPath, match, i18n } = useIntegrationsPage();\n\n    return (\n        <div className={styles.root}>\n            <div className={styles.content}>\n                <h1 className={styles.heading}>{t('IntegrationsPage.heading')}</h1>\n                <p className={styles.subHeading}>{t('IntegrationsPage.subHeading')}</p>\n                <IntegrationList className={styles.integrations} integrations={routes} />\n                {children}\n            </div>\n            <Switch>\n                {routes.map((route) => (\n                    <Route\n                        key={route.type}\n                        path={route.path}\n                        render={(props) =>\n                            ReactDOM.createPortal(\n                                <div className={styles.modalContainer}>\n                                    <div className={styles.modal}>\n                                        <NavLink to={rootPath} className={styles.closeModalBtn}>\n                                            <CloseIcon size={24} />\n                                        </NavLink>\n                                        <div className={styles.modalHeader}>\n                                            <img src={route.logo} alt=\"route.type\" className={styles.modalLogo} />\n                                            <h2 className={styles.modalTitle}>\n                                                {t('IntegrationsPage.modal.connect')} {route.label}\n                                            </h2>\n                                            <p className={styles.modalSubTitle}>\n                                                {t('IntegrationsPage.modal.subHeading')}\n                                            </p>\n                                            <NavLink\n                                                to={`${rootPath}/${route.type}/video`}\n                                                className={styles.playButton}\n                                            >\n                                                <PlayCircleIcon className={styles.iconPlay} />\n                                                {t('IntegrationsPage.modal.videoTutorial')}\n                                            </NavLink>\n                                        </div>\n                                        <route.component {...props} />\n                                    </div>\n                                </div>,\n                                document.body\n                            )\n                        }\n                    />\n                ))}\n                <Redirect to={match.path} />\n            </Switch>\n            <Switch>\n                {routes.map((route) => (\n                    <Route\n                        key={route.type + '_video'}\n                        exact\n                        path={route.path + '/video'}\n                        render={() =>\n                            ReactDOM.createPortal(\n                                <div className={styles.videoModalContainer}>\n                                    <div className={styles.videoModal}>\n                                        <Link to={route.path} className={styles.closeVideoModalBtn}>\n                                            <CloseIcon size={24} />\n                                        </Link>\n                                        <div className={styles.videoModalFrame}>\n                                            <iframe\n                                                src={\n                                                    i18n.language === 'ru' ? route.tutorialSrc.ru : route.tutorialSrc.en\n                                                }\n                                                frameBorder=\"0\"\n                                                allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n                                                allowFullScreen\n                                            />\n                                        </div>\n                                        <h3 className={styles.videoModalTitle}>\n                                            {t('IntegrationsPage.modal.connecting')} {route.label}\n                                        </h3>\n                                    </div>\n                                </div>,\n                                document.body\n                            )\n                        }\n                    />\n                ))}\n            </Switch>\n        </div>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2a8hJZd5\",\"content\":\"Ao6Pu9Md\",\"description\":\"_2zbH1AUp\",\"heading\":\"_1w8D4sYD\",\"footer\":\"_79buttuJ\",\"badge\":\"_2kTAGV6a\"};","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { useWorkspace } from '@mssgme/hooks';\nimport { LinkButton, Scrollbar } from '@mssgme/ui';\nimport IntegrationsPage from '../Integrations/IntegrationsPage';\n\nimport styles from './OnboardPage.scss';\n\nexport default function OnboardPage() {\n    const { t } = useTranslation('inbox');\n    const workspace = useWorkspace();\n    const hasIntegrations = workspace.integrations.length > 0;\n\n    return (\n        <Scrollbar>\n            <div className={styles.root}>\n                <IntegrationsPage>\n                    <div className={styles.footer}>\n                        <LinkButton disabled={!hasIntegrations} to=\"/i\">\n                            {t('OnboardPage.complete')}\n                        </LinkButton>\n                    </div>\n                </IntegrationsPage>\n            </div>\n        </Scrollbar>\n    );\n}\n","import PropTypes from 'prop-types';\nimport React, { useEffect, useCallback } from 'react';\n\nexport default function Badging({ count }) {\n    const setBadge = useCallback(async (...args) => {\n        if ('setAppBadge' in navigator) {\n            await navigator.setAppBadge(...args);\n        }\n    }, []);\n\n    const clearBadge = useCallback(async () => {\n        if ('clearAppBadge' in navigator) {\n            await navigator.clearAppBadge();\n        }\n    }, []);\n\n    useEffect(() => {\n        setBadge(count);\n\n        return () => {\n            clearBadge();\n        };\n    }, [count]);\n\n    return null;\n}\n\nBadging.propTypes = {\n    count: PropTypes.number,\n};\n","import { debounce } from 'lodash';\nimport { Howl } from 'howler';\n\nconst DEBOUNCE = 100;\n\nexport class EventMarker {\n    mark() {}\n\n    dismiss() {}\n}\n\nexport class FaviconMarker extends EventMarker {\n    constructor(icon, selector = 'link[rel=\"icon\"]') {\n        super();\n        this.icon = icon;\n        this.selector = selector;\n        this.default = this.element.href;\n    }\n\n    get element() {\n        return document.querySelector(this.selector);\n    }\n\n    mark() {\n        this.element.href = this.icon;\n    }\n\n    dismiss() {\n        this.element.href = this.default;\n    }\n}\n\nexport class SoundMarker extends EventMarker {\n    constructor(sources, options) {\n        super();\n        this.sources = sources;\n        this.options = options || {};\n    }\n\n    get sound() {\n        if (!this._sound) {\n            this._sound = new Howl({\n                src: this.sources,\n                preload: true,\n                autoplay: false,\n                loop: false,\n                volume: 1.0,\n                ...this.options,\n            });\n            this._sound.on('fade', () => {\n                this.sound.stop();\n            });\n        }\n\n        return this._sound;\n    }\n\n    get volume() {\n        return this.options.volume || 1.0;\n    }\n\n    get duration() {\n        return this.options.duration || 0;\n    }\n\n    mark() {\n        if (this.sound.playing()) {\n            return;\n        }\n\n        this.sound\n            .stop()\n            .volume(this.volume)\n            .play();\n\n        if (this.duration) {\n            this.sound.fade(this.volume, 0.0, this.duration);\n        }\n    }\n}\n\nexport class EventNotifier {\n    constructor(markers) {\n        this.markers = markers;\n    }\n\n    notify = debounce(() => {\n        for (const marker of this.markers) {\n            marker.mark();\n        }\n    }, DEBOUNCE);\n\n    dismiss() {\n        for (const marker of this.markers) {\n            marker.dismiss();\n        }\n    }\n}\n","import config from 'config';\nimport { EventNotifier, FaviconMarker, SoundMarker } from '@mssgme/services';\n\n// TODO: remove, create components\nexport class InboxEventNotifier extends EventNotifier {\n    constructor() {\n        super([\n            // new FaviconMarker('/favicon_dot32.png', 'link[data-icon=\"fav16\"]'),\n            new FaviconMarker('/favicon_dot32.png', 'link[data-icon=\"fav32\"]'),\n            // new FaviconMarker('/favicon_dot32.png', 'link[data-icon=\"favIco\"]'),\n            new SoundMarker(\n                [\n                    `${config.statics_url}/webapp-legacy/sound/inbox.ogg`,\n                    `${config.statics_url}/webapp-legacy/sound/inbox.mp3`,\n                    `${config.statics_url}/webapp-legacy/sound/inbox.wav`,\n                ],\n                { duration: 4000 }\n            ),\n        ]);\n    }\n}\n","import React, { useEffect, useState, Fragment } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { useActions } from '@mssgme/hooks';\nimport { Badging } from '@mssgme/ui';\n\nimport { useUnreadConversations } from '../../hooks';\nimport { InboxEventNotifier } from '../../services';\n\nexport const InboxObserver = ({ children }) => {\n    const { api } = useActions();\n    const { updateTimestamp, unreadConversationsCount } = useUnreadConversations();\n    const [eventNotifier] = useState(() => new InboxEventNotifier());\n    const reconnected = useSelector((state) => state.socket.reconnected);\n\n    useEffect(() => {\n        api.listenConnect();\n        api.listenDisconnect();\n        api.listenReconnect();\n        api.listenVerifyVersion(); // TODO: remove\n        api.listenNewMessages();\n        api.listenCreateConversation();\n        api.listenUpdateConversation();\n        api.listenPaymentSucceeded();\n        api.listenSubscriptionCancelled();\n    }, []);\n\n    useEffect(() => {\n        function handleActivity() {\n            eventNotifier.dismiss();\n            document.removeEventListener('mousemove', handleActivity);\n        }\n\n        if (updateTimestamp) {\n            eventNotifier.notify();\n            document.addEventListener('mousemove', handleActivity);\n        }\n    }, [updateTimestamp, eventNotifier]);\n\n    return (\n        <Fragment key={`c-${reconnected}`}>\n            {unreadConversationsCount > 0 && <Badging count={unreadConversationsCount} />}\n            {children}\n        </Fragment>\n    );\n};\n\nInboxObserver.propTypes = {};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { CSSTransition } from 'react-transition-group';\n\nexport const DURATION_MAP = {\n    'extra-fast': 100,\n    fast: 200,\n    normal: 300,\n    slow: 500,\n    'extra-slow': 800,\n};\n\nexport default function createTransition(displayName, classNames) {\n    function Transition({ in: inProp, appear, duration, children, ...innerRest }) {\n        const timeout = duration in DURATION_MAP ? DURATION_MAP[duration] : duration;\n\n        const content = React.cloneElement(\n            children,\n            {\n                ...children.props,\n                style: {\n                    ...children.props.style,\n                    transitionDuration: `${timeout}ms`,\n                },\n            },\n            children.props.children\n        );\n\n        return (\n            <CSSTransition\n                unmountOnExit\n                in={inProp}\n                appear={appear}\n                timeout={timeout}\n                classNames={classNames}\n                {...innerRest}\n            >\n                {content}\n            </CSSTransition>\n        );\n    }\n\n    Transition.propTypes = {\n        in: PropTypes.bool,\n        appear: PropTypes.bool,\n        duration: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf(Object.keys(DURATION_MAP))]),\n    };\n\n    Transition.defaultProps = {\n        in: false,\n        appear: false,\n        duration: 'slow',\n    };\n\n    Transition.displayName = displayName;\n\n    return Transition;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"appear\":\"_32enWlY6\",\"enter\":\"_3PKh3JN6\",\"appearActive\":\"DQAGI999\",\"enterActive\":\"_2ZrdWXif\",\"exit\":\"_3x6BX_AB\",\"exitActive\":\"_2zI1LOuA\"};","import createTransition from './createTransition';\nimport styles from './Fade.scss';\n\nexport default createTransition('Fade', styles);\n","const extractMinutes = (timestamp) => ~~(timestamp / 60000);\nconst extractDays = (timestamp) => ~~(timestamp / (60000 * 60 * 24));\n\nconst typesMap = {\n    UserMessage: 'group',\n    SystemMessage: 'system',\n};\n\nconst createChunk = (message, type = typesMap[message.kind]) => {\n    if (!type) {\n        throw new Error(`Don't know how to handle \"${message.kind}\" messages`);\n    }\n\n    return {\n        type,\n        base: message,\n        messages: [message],\n        days: extractDays(message.received),\n    };\n};\n\nconst isDifferentGroup = (stats, message) => {\n    if (extractDays(message.received) !== stats.days) {\n        return 'date';\n    }\n\n    if (\n        message.kind !== stats.base.kind ||\n        message.author !== stats.base.author ||\n        message.destination !== stats.base.destination ||\n        extractMinutes(Math.abs(message.received - stats.base.received)) > 0\n    ) {\n        return true;\n    }\n};\n\nexport const processMessages = function*(allMessages, showInitialDate) {\n    let pos = allMessages.length - 1;\n    let chunk;\n    let message;\n\n    if (showInitialDate && allMessages[pos]) {\n        // account for pagination\n        yield createChunk(allMessages[pos], 'date');\n    }\n\n    while ((message = allMessages[pos])) {\n        if (chunk) {\n            const differ = isDifferentGroup(chunk, message);\n\n            if (differ) {\n                yield chunk;\n\n                if (differ === 'date') {\n                    yield createChunk(message, 'date');\n                }\n\n                // new group, reset chunk\n                chunk = undefined;\n            }\n        }\n\n        // first iteration of the loop or start of new group\n        if (!chunk) {\n            chunk = createChunk(message);\n        } else {\n            chunk.messages.push(message);\n        }\n\n        pos--;\n    }\n\n    if (chunk) {\n        // final chunk\n        yield chunk;\n    }\n};\n","import { isEmpty } from 'lodash';\nimport { createSelector } from 'reselect';\nimport { wildcardRegexp } from '@mssgme/shared';\nimport { getUser } from './userSelectors';\n\nexport const getConversation = (state, contactId) => state.conversations.list.byContactId[contactId];\n\nexport const getConversationItems = createSelector(\n    (state) => state.conversations.list.ids,\n    (state) => state.conversations.list.byContactId,\n    (ids, byContactId) => ids.map((id) => byContactId[id])\n);\n\nexport const getConversationMessages = (state, contactId) => state.conversations.messages[contactId];\n\nconst isStatusMatched = (item, status) => item.status === status;\n\nconst isAssignMatched = (item, assign, userId) => {\n    switch (assign) {\n        case 'all':\n            return true;\n        case 'unassigned':\n            return isEmpty(item.assignTo);\n        case 'my':\n            return item.assignTo === userId;\n        default:\n            return assign === item.assignTo;\n    }\n};\n\nconst isNameMatched = (item, searchValue) => {\n    const name = searchValue.trim();\n    if (name.length === 0) return true;\n    const regex = wildcardRegexp(name);\n    return regex.test(item.contact.name);\n};\n\nexport const getConversationsFilter = (state) => state.ui.conversationsFilter;\n\nexport const getFilteredConversations = createSelector(\n    getConversationItems,\n    getConversationsFilter,\n    getUser,\n    (conversations, filter, currentUser) =>\n        conversations.filter(\n            (item) =>\n                isStatusMatched(item, filter.status) &&\n                isAssignMatched(item, filter.assign, currentUser._id) &&\n                isNameMatched(item, filter.searchValue)\n        )\n);\n\nexport const getFilteredAndSortedConversations = createSelector(\n    getFilteredConversations,\n    getConversationsFilter,\n    (conversations, filter) =>\n        conversations.sort((a, b) => {\n            const op = filter.showNewFirst ? 1 : -1;\n            if (a.lastMessageReceived > b.lastMessageReceived) return -1 * op;\n            if (a.lastMessageReceived < b.lastMessageReceived) return 1 * op;\n            return 0;\n        })\n);\n\nexport const countUnreadConversations = createSelector(\n    (state) => state.conversations.unread,\n    (unread) => {\n        let count = 0;\n\n        for (const value of Object.values(unread)) {\n            if (value > 0) {\n                count++;\n            }\n        }\n\n        return count;\n    }\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3rz-yaI0\",\"content\":\"_1x9khfTq\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './DateBreak.scss';\n\nexport default function DateBreak({ time }) {\n    return (\n        <div className={styles.root}>\n            <div className={styles.content}>{time.format('dddd, MMMM Do YYYY')}</div>\n        </div>\n    );\n}\n\nDateBreak.propTypes = {\n    time: PropTypes.object.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3TelIj6I\",\"heading\":\"_3Fqe4F5A\",\"icon\":\"UUiP9AfC\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n\nimport { MESSENGERS_REACT_ICONS_MAP } from '@mssgme/constants';\nimport DateBreak from './DateBreak';\n\nimport styles from './StartConversation.scss';\n\nexport default function StartConversation({ className, platform, title, time }) {\n    const Icon = MESSENGERS_REACT_ICONS_MAP[platform];\n\n    return (\n        <>\n            <div className={cn(styles.root, className)}>\n                <div className={styles.heading}>\n                    <Icon key={platform} className={styles.icon} size={24} color=\"#8E8E8E\" /> {title}\n                </div>\n            </div>\n            <DateBreak time={time} />\n        </>\n    );\n}\n\nStartConversation.propTypes = {\n    className: PropTypes.string,\n    title: PropTypes.string,\n    time: PropTypes.object.isRequired,\n    platform: PropTypes.oneOf(['messenger', 'viber', 'telegram', 'vk', 'whatsapp']).isRequired,\n};\n\nStartConversation.defaultProps = {\n    title: '',\n    className: '',\n};\n","import React, { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames/bind';\n\nimport defaultStyles from './MessageDecorate.scss';\n\nconst cx = classNames.bind(defaultStyles);\n\nfunction MessageDecorate({ children, timestamp, reverse, color = 'default', styles = {} }) {\n    return (\n        <div className={cx('root', color, { reverse }, styles.root)}>\n            <div className={cx('message', styles.message)}>\n                {children}\n                <span className={cx('timestamp', styles.timestamp)}>{timestamp.format('HH:mm')}</span>\n            </div>\n        </div>\n    );\n}\n\nMessageDecorate.propTypes = {\n    color: PropTypes.oneOf(['default', 'secondary', 'warning']),\n    timestamp: PropTypes.object.isRequired,\n    styles: PropTypes.shape({\n        root: PropTypes.string,\n        message: PropTypes.string,\n        timestamp: PropTypes.string,\n    }),\n    reverse: PropTypes.bool,\n};\n\nexport default memo(MessageDecorate);\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1NnaIV5K\",\"reverse\":\"_2gedrkVo\",\"message\":\"GLSDldgr\",\"default\":\"TjTwRPGM\",\"secondary\":\"tXeAKBgl\",\"warning\":\"_1ieqTdx3\",\"timestamp\":\"_3YpTfike\"};","// extracted by mini-css-extract-plugin\nexport default {\"image\":\"_2_u5KBdW\",\"link\":\"_1o4lbwT8\",\"message\":\"_1EQM8WWF\",\"timestamp\":\"_2069BIDg\",\"text\":\"_1QYd6zri\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport MessageDecorate from './MessageDecorate';\nimport styles from './ImageMessage.scss';\n\nImageMessage.propTypes = {\n    ...MessageDecorate.propTypes,\n    text: PropTypes.string,\n    thumbnailUrl: PropTypes.string,\n    mediaUrl: PropTypes.string.isRequired,\n};\n\nexport default function ImageMessage({ text, mediaUrl, thumbnailUrl, ...rest }) {\n    return (\n        <MessageDecorate\n            styles={{\n                message: styles.message,\n                timestamp: styles.timestamp,\n            }}\n            {...rest}\n        >\n            <a className={styles.link} href={mediaUrl} target=\"__blank\">\n                <img className={styles.image} src={thumbnailUrl || mediaUrl} alt={text} />\n            </a>\n            {text && <p className={styles.text}>{text}</p>}\n        </MessageDecorate>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"text\":\"_8s61yRv6\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Linkify from 'react-linkify';\n\nimport MessageDecorate from './MessageDecorate';\nimport styles from './TextMessage.scss';\n\nTextMessage.propTypes = {\n    ...MessageDecorate.propTypes,\n    text: PropTypes.string.isRequired,\n};\n\nexport default function TextMessage({ text, ...rest }) {\n    return (\n        <MessageDecorate {...rest}>\n            <div className={styles.text}>\n                <Linkify properties={{ target: '_blank' }}>{text}</Linkify>\n            </div>\n        </MessageDecorate>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"_1ae-QdBX\",\"icon\":\"_26lbvf_L\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FaDownload } from 'react-icons/fa';\n\nimport MessageDecorate from './MessageDecorate';\nimport styles from './FileMessage.scss';\n\nFileMessage.propTypes = {\n    ...MessageDecorate.propTypes,\n    mediaUrl: PropTypes.string.isRequired,\n};\n\nexport default function FileMessage({ mediaUrl, ...rest }) {\n    const filename = extractFilename(mediaUrl);\n\n    return (\n        <MessageDecorate {...rest}>\n            <a className={styles.link} href={mediaUrl} target=\"__blank\">\n                <FaDownload className={styles.icon} />\n                {' ' + filename}\n            </a>\n        </MessageDecorate>\n    );\n}\n\nfunction extractFilename(url) {\n    if (!url) return 'Broken file url';\n\n    const re = /\\/([^/?#]+)([?#].*)?$/;\n    const match = url.match(re);\n\n    try {\n        if (match) return decodeURIComponent(match[1]);\n    } catch (err) {\n        if (err instanceof URIError) {\n            return match[1];\n        }\n        throw err;\n    }\n\n    return url;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"VuZtj0fO\",\"reverse\":\"_1ojZ5W2g\",\"avatar\":\"_2NVP2Moj\",\"messages\":\"_34dEwJaP\"};","import React, { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport moment from 'moment';\n\nimport ImageMessage from './ImageMessage';\nimport TextMessage from './TextMessage';\nimport FileMessage from './FileMessage';\nimport styles from './MessageGroup.scss';\nimport { Avatar } from '@mssgme/ui';\n\nMessageGroup.propTypes = {\n    messages: PropTypes.arrayOf(PropTypes.object).isRequired,\n    author: PropTypes.shape({\n        name: PropTypes.string.isRequired,\n        avatarUrl: PropTypes.string,\n    }),\n    destination: PropTypes.oneOf(['client', 'organization', 'team']),\n};\n\nMessageGroup.defaultProps = {\n    destination: 'client',\n};\n\nconst colorMap = {\n    client: 'default',\n    organization: 'secondary',\n    team: 'warning',\n};\n\nfunction MessageGroup({ messages, author, destination }) {\n    const reverse = destination !== 'organization';\n    const color = colorMap[destination];\n\n    const renderMessage = (m) => {\n        switch (m.type) {\n            case 'image':\n                return (\n                    <ImageMessage\n                        key={m._id}\n                        text={m.text}\n                        thumbnailUrl={m.thumbnailUrl}\n                        mediaUrl={m.mediaUrl}\n                        timestamp={moment(m.received)}\n                        color={color}\n                        reverse={reverse}\n                    />\n                );\n            case 'text':\n                return (\n                    <TextMessage\n                        key={m._id}\n                        text={m.text}\n                        timestamp={moment(m.received)}\n                        color={color}\n                        reverse={reverse}\n                    />\n                );\n            case 'audio':\n            case 'video':\n            case 'file':\n                return (\n                    <FileMessage\n                        key={m._id}\n                        mediaUrl={m.mediaUrl}\n                        mediType={m.mediType}\n                        timestamp={moment(m.received)}\n                        color={color}\n                        reverse={reverse}\n                    />\n                );\n            default:\n                throw new Error('Invalid message type');\n        }\n    };\n\n    return (\n        <div className={cn(styles.root, { [styles.reverse]: reverse })}>\n            {author && <Avatar className={styles.avatar} size={36} name={author.name} src={author.avatarUrl} />}\n            <div className={styles.messages}>{messages.map(renderMessage)}</div>\n        </div>\n    );\n}\n\nexport default memo(MessageGroup);\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"nqHx5-2J\",\"body\":\"_3R0KQWFO\",\"text\":\"_3emDXLxf\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport styles from './SystemMessage.scss';\n\nexport default function SystemMessage({ type, time, payload }) {\n    const { t } = useTranslation('inbox');\n    const text =\n        type === 'assign' ? (\n            <>\n                {t('systemMessage.assign_to')} <strong>{payload.username}</strong> {time.format('HH:mm')}\n            </>\n        ) : (\n            type\n        );\n\n    return (\n        <div className={styles.root}>\n            <div className={styles.body}>\n                <div className={styles.text}>{text}</div>\n            </div>\n        </div>\n    );\n}\n\nSystemMessage.propTypes = {\n    type: PropTypes.string,\n    time: PropTypes.object,\n    payload: PropTypes.object,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3KyKr0QZ\",\"list\":\"_1iAhHvq7\",\"downBtn\":\"_27-NHPHC\",\"downBtnWrap\":\"_3NjNjAQN\"};","import moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React, { useRef, useMemo, useState, useEffect, useCallback } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { FiChevronDown } from 'react-icons/fi';\n\nimport { Spinner, Scrollbar, IconButton, Fade } from '@mssgme/ui';\n\nimport { processMessages } from './stream';\nimport useMessageList from './useMessageList';\nimport StartConversation from './StartConversation';\nimport MessageGroup from './MessageGroup';\nimport DateBreak from './DateBreak';\nimport SystemMessage from './SystemMessage';\n\nimport styles from './MessageList.scss';\n\nPureMessageList.propTypes = {\n    items: PropTypes.array.isRequired,\n    hasMore: PropTypes.bool,\n    conversation: PropTypes.object.isRequired,\n    onScroll: PropTypes.func,\n};\n\nPureMessageList.defaultProps = {\n    hasMore: false,\n    onScroll: () => {},\n};\n\nexport function PureMessageList({ items, hasMore, onScroll, conversation }) {\n    const rootRef = useRef();\n    const prevScrollHeightRef = useRef(0);\n    const [isStick, setIsStick] = useState(true);\n\n    const groupedMessages = useMemo(() => Array.from(processMessages(items, hasMore)), [items, hasMore]);\n\n    const scrollTo = (to = 0) => {\n        rootRef.current.scrollTop = rootRef.current.scrollHeight + to;\n    };\n\n    const scrollBottom = useCallback(() => scrollTo(0), []);\n\n    useEffect(() => {\n        if (isStick) {\n            scrollBottom();\n        } else {\n            scrollTo(-prevScrollHeightRef.current);\n        }\n    }, [items.length]);\n\n    useEffect(() => {\n        prevScrollHeightRef.current = rootRef.current.scrollHeight;\n    });\n\n    const handleScroll = useCallback(\n        (e) => {\n            setIsStick(rootRef.current.scrollHeight - rootRef.current.scrollTop === rootRef.current.clientHeight);\n            onScroll(e);\n        },\n        [onScroll]\n    );\n\n    const renderItem = ({ type, messages, base }) => {\n        switch (type) {\n            case 'group': {\n                const author =\n                    base.destination === 'organization'\n                        ? { name: conversation.contact.name, avatarUrl: conversation.contact.avatarUrl }\n                        : { name: messages[0].name };\n\n                return (\n                    <MessageGroup\n                        key={`group-${messages[0]._id}`}\n                        destination={base.destination}\n                        messages={messages}\n                        author={author}\n                    />\n                );\n            }\n            case 'date':\n                return <DateBreak key={`${base._id}-date-break-${base.received}`} time={moment(base.received)} />;\n            case 'system':\n                return messages.map((m) => (\n                    <SystemMessage key={m._id} type={m.type} time={moment(m.received)} payload={m.payload} />\n                ));\n            default:\n                throw new Error('Invalid item type');\n        }\n    };\n\n    return (\n        <div className={styles.root}>\n            <Scrollbar>\n                <div className={styles.list} ref={rootRef} onScroll={handleScroll}>\n                    {hasMore ? (\n                        <Spinner size={26} />\n                    ) : (\n                        <StartConversation\n                            platform={conversation.contact.client.platform}\n                            time={moment(conversation.started)}\n                        />\n                    )}\n\n                    {groupedMessages.map(renderItem)}\n                </div>\n            </Scrollbar>\n            <Fade in={!isStick}>\n                <div className={styles.downBtnWrap}>\n                    <IconButton className={styles.downBtn} onClick={scrollBottom}>\n                        <FiChevronDown />\n                    </IconButton>\n                </div>\n            </Fade>\n        </div>\n    );\n}\n\nexport default function MessageList(props) {\n    const { contactId } = useParams();\n    const state = useMessageList(contactId);\n\n    return <PureMessageList {...state} {...props} />;\n}\n","import { useSelector } from 'react-redux';\nimport { useCallback, useEffect, useRef } from 'react';\n\nimport { useActions, useFetching } from '@mssgme/hooks';\nimport { getConversation, getConversationMessages } from '@mssgme/store';\n\nexport default function useMessageList(contactId) {\n    const refHate = useRef();\n    const actions = useActions();\n    const { conversation, items, next, hasNext } = useSelector((state) => {\n        const conversation = getConversation(state, contactId);\n        const messages = getConversationMessages(state, contactId);\n\n        return {\n            conversation,\n            ...(messages || { items: [], hasNext: true, next: null }),\n        };\n    });\n    const { pending, run } = useFetching((query) => actions.api.conversations.messages({ contactId, query }));\n\n    useEffect(() => void run(), [contactId]);\n\n    const onScroll = useCallback(\n        async ({ target }) => {\n            if (refHate.current) {\n                return;\n            }\n\n            if (target.scrollTop <= 200) {\n                refHate.current = true;\n\n                try {\n                    await run({ next });\n                } finally {\n                    refHate.current = false;\n                }\n            }\n        },\n        [contactId, next]\n    );\n\n    return {\n        items,\n        conversation,\n        hasMore: hasNext,\n        onScroll: hasNext && !pending ? onScroll : undefined,\n    };\n}\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport SelectSimple from '../SelectSimple';\n\nconst GenderSelect = (props) => {\n    const { t } = useTranslation('ui');\n\n    return (\n        <SelectSimple\n            options={[\n                { label: t('GenderSelect.man'), value: 'male' },\n                { label: t('GenderSelect.woman'), value: 'female' },\n            ]}\n            {...props}\n        />\n    );\n};\n\nexport default GenderSelect;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"GglBXp-4\",\"label\":\"_2KgRhha6\",\"inputContainer\":\"_3njEQV81\",\"input\":\"HVZjkBLt\",\"icon\":\"KNaaxG9L\",\"start\":\"D_1ky7fO\",\"end\":\"_3g1Q6svO\",\"danger\":\"_2O94Pfmp\",\"success\":\"_2JkjBsEb\",\"readOnly\":\"_32qqcN_y\"};","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { IoIosCheckmark, IoIosWarning } from 'react-icons/io';\n\nimport Input from '../Input';\n\nimport styles from './styles.scss';\n\nexport default function InlineEdit({\n    tag: Tag = Input,\n    id,\n    label,\n    error,\n    indicatorPosition = 'start',\n    successfully,\n    autoComplete,\n    className,\n    readOnly,\n    ...rest\n}) {\n    const indicator = (error || successfully) && (\n        <div className={cn(styles.icon, styles.success, styles[indicatorPosition])}>\n            {error && <IoIosWarning />}\n            {successfully && <IoIosCheckmark />}\n        </div>\n    );\n\n    return (\n        <div className={cn(styles.root, readOnly && styles.readOnly, className)}>\n            {label && (\n                <label htmlFor={id} className={styles.label}>\n                    {label}\n                </label>\n            )}\n            <div className={styles.inputContainer}>\n                <Tag\n                    id={id}\n                    className={styles.input}\n                    size=\"normal\"\n                    type=\"text\"\n                    autoComplete={autoComplete === 'off' ? Math.random() * 10 + '_autocomplete' : autoComplete}\n                    readOnly={readOnly}\n                    {...rest}\n                />\n                {indicator}\n            </div>\n        </div>\n    );\n}\n\nInlineEdit.propTypes = {\n    id: PropTypes.string,\n    label: PropTypes.string,\n    tag: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    readOnly: PropTypes.bool,\n    error: PropTypes.any,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func,\n    className: PropTypes.string,\n    indicatorPosition: PropTypes.oneOf(['start', 'end']),\n    successfully: PropTypes.bool,\n    autoComplete: PropTypes.oneOf(['on', 'off']),\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"tag\":\"_1rzSnE82\",\"tagRemove\":\"_1RnXjvWm\",\"input\":\"_31cmTFsF\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport BasicTagsInput from 'react-tagsinput';\nimport { useTranslation } from 'react-i18next';\n\nimport styles from './TagsInput.scss';\n\nTagsInput.propTypes = {\n    id: PropTypes.string,\n    placeholder: PropTypes.string,\n    value: PropTypes.arrayOf(PropTypes.string).isRequired,\n    disabled: PropTypes.bool,\n    onChange: PropTypes.func.isRequired,\n    onBlur: PropTypes.func,\n};\n\nconst renderReadonly = (tagComponents) => <span>{tagComponents}</span>;\n\nexport default function TagsInput({ id, placeholder, value, disabled, onChange, onBlur }) {\n    const { t } = useTranslation('ui');\n\n    return (\n        <BasicTagsInput\n            tagProps={{ className: styles.tag, classNameRemove: styles.tagRemove }}\n            inputProps={{ className: styles.input, id, placeholder: placeholder || t('ui:labels.addTag'), onBlur }}\n            value={value}\n            addOnBlur\n            addOnPaste\n            onlyUnique\n            disabled={disabled}\n            renderLayout={disabled ? renderReadonly: undefined}\n            onChange={onChange}\n        />\n    );\n}\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction ChevronDownIcon(props, svgRef) {\n    return (\n        <IconBase fill=\"none\" viewBox=\"0 0 24 24\" ref={svgRef} {...props}>\n            <path d=\"M6 9l6 6 6-6\" stroke=\"currentColor\" strokeWidth={2} strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(ChevronDownIcon);\nexport default ForwardRef;\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"_1cheHu2s\",\"startIcon\":\"_3QTRIM5a\",\"endIcon\":\"bgPcNmEE\"};","import React from 'react';\nimport PureButton from './PureButton';\n\nimport styles from './TextButton.scss';\n\nexport default function TextButton(props) {\n    return <PureButton styles={styles} {...props} />;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"WK6cJRTJ\",\"label\":\"_3MzTnH7r\",\"arrow\":\"_2jCv7cQc\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { ChevronDownIcon } from '@mssgme/icons';\nimport { TextButton } from '@mssgme/ui';\n\nimport styles from './ToggleButton.scss';\n\nToggleButton.propTypes = {\n    isPressed: PropTypes.bool,\n    onToggle: PropTypes.func,\n    children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n};\n\nToggleButton.defaultProps = {\n    isPressed: false,\n};\n\nexport default function ToggleButton({ isPressed, children, onToggle }) {\n    return (\n        <TextButton aria-pressed={isPressed} className={styles.root} onClick={onToggle}>\n            <span className={styles.label}>\n                {typeof children === 'function' ? children({ isPressed, onToggle }) : children}\n            </span>\n            <ChevronDownIcon size={14} className={styles.arrow} />\n        </TextButton>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3eXTZrMO\",\"input\":\"_1v5TCzoz\",\"icon\":\"_33dvJPRt\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport { IoIosSearch } from 'react-icons/io';\n\nimport styles from './SearchConversation.scss';\n\nexport default function SearchConversation({ className, value, placeholder, onChange }) {\n    return (\n        <div className={cn(styles.root, className)}>\n            <IoIosSearch size={20} color=\"#8E8E93\" className={styles.icon} />\n            <input\n                type=\"text\"\n                value={value}\n                onChange={(e) => onChange(e.target.value)}\n                placeholder={placeholder}\n                className={styles.input}\n            />\n        </div>\n    );\n}\n\nSearchConversation.propTypes = {\n    className: PropTypes.string,\n    value: PropTypes.string,\n    onChange: PropTypes.func.isRequired,\n    placeholder: PropTypes.string,\n};\n\nSearchConversation.defaultProps = {\n    value: '',\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2FH8m9p4\",\"active\":\"_2pLlzFtA\",\"body\":\"_2zmUKgp9\",\"bodyRight\":\"_2cDjm3WU\",\"content\":\"DgJmS7lN\",\"head\":\"_1VA8NUcF\",\"avatar\":\"_2I-QyIMJ\",\"username\":\"_4TJiQ-Gr\",\"time\":\"_1ZrAzzoG\",\"message\":\"_2WD_oHCG\",\"blockedClient\":\"_2FInbQPZ\",\"status\":\"_2q3NSwjL\",\"done\":\"GxRliZSf\",\"snooze\":\"_3jIolD6j\",\"newDot\":\"G2Q9yBqI\",\"platformIcon\":\"_3WOSR9pT\"};","import React from 'react';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { NavLink, useRouteMatch } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { IoLogoWhatsapp } from 'react-icons/io';\nimport { FaTelegramPlane, FaViber, FaVk, FaFacebookMessenger } from 'react-icons/fa';\n\nimport { Avatar } from '@mssgme/ui';\nimport styles from './ConversationItem.scss';\n\nexport const PLATFORMS = ['whatsapp', 'telegram', 'viber', 'messenger', 'vk'];\n\nexport const PLATFORM_ICONS_MAP = {\n    whatsapp: IoLogoWhatsapp,\n    telegram: FaTelegramPlane,\n    viber: FaViber,\n    messenger: FaVk,\n    vk: FaFacebookMessenger,\n};\n\nConversationItem.propTypes = {\n    id: PropTypes.string.isRequired,\n    avatar: PropTypes.string,\n    username: PropTypes.string.isRequired,\n    lastMessage: PropTypes.string.isRequired,\n    lastActivity: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    isNew: PropTypes.bool,\n    isBlocked: PropTypes.bool,\n    isMessageUpcoming: PropTypes.bool,\n    platform: PropTypes.oneOf(PLATFORMS).isRequired,\n};\n\nConversationItem.defaultProps = {\n    isNew: false,\n    isBlocked: false,\n    isMessageUpcoming: false,\n};\n\nexport default function ConversationItem({\n    id,\n    avatar,\n    username,\n    lastMessage,\n    lastActivity,\n    isMessageUpcoming,\n    isNew,\n    isBlocked,\n    platform,\n    ...rest\n}) {\n    const { t } = useTranslation('inbox');\n    const PlatformIcon = PLATFORM_ICONS_MAP[platform];\n    const { url } = useRouteMatch();\n\n    return (\n        <NavLink to={`${url}/${id}`} className={styles.root} activeClassName={styles.active} {...rest}>\n            <div className={styles.body}>\n                <Avatar className={styles.avatar} src={avatar} name={username} size={40} />\n                <div className={styles.bodyRight}>\n                    <div className={styles.head}>\n                        <div className={styles.username}>{username}</div>\n                        <div className={styles.time}>{moment(lastActivity).fromNow()}</div>\n                    </div>\n                    <div className={styles.content}>\n                        <p className={classNames(styles.message, { [styles.blockedClient]: isBlocked })}>\n                            {isBlocked ? (\n                                t('uiConversation.blocked')\n                            ) : (\n                                <>\n                                    {isMessageUpcoming && t('uiConversation.you')}\n                                    {lastMessage}\n                                </>\n                            )}\n                        </p>\n                        {isNew && <span className={styles.newDot} />}\n                        {!isNew && <PlatformIcon size={14} color=\"#8E8E8E\" className={styles.platformIcon} />}\n                    </div>\n                </div>\n            </div>\n        </NavLink>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"uwIvntTo\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Spinner, Scrollbar } from '@mssgme/ui';\n\nimport ConversationItem from './ConversationItem';\nimport styles from './ConversationList.scss';\n\nConversationList.propTypes = {\n    items: PropTypes.array.isRequired,\n    hasMore: PropTypes.bool,\n    onScroll: PropTypes.func,\n};\n\nConversationList.defaultProps = {\n    hasMore: false,\n};\n\nexport default function ConversationList({ items, hasMore, onScroll, children }) {\n    return (\n        <Scrollbar>\n            <div className={styles.root} onScroll={onScroll}>\n                {items.map((item) => (\n                    <ConversationItem key={`conversation-${item.id}`} {...item} />\n                ))}\n                {hasMore && <Spinner color=\"white\" />}\n                {children}\n            </div>\n        </Scrollbar>\n    );\n}\n","import createTransition from './createTransition';\nimport styles from './DropDown.scss';\n\nexport default createTransition('DropDown', styles);\n","// extracted by mini-css-extract-plugin\nexport default {\"appear\":\"_1iRL7IJP\",\"enter\":\"_1ZdbNOAI\",\"appearActive\":\"_1ysPK14i\",\"enterActive\":\"_6at7aC07\",\"exit\":\"_38-BBB0T\",\"exitActive\":\"utVVrrLg\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1Ewm6noJ\",\"prefix\":\"_3fyd_hRF\",\"active\":\"_1SvNJAbQ\",\"avatar\":\"lMlUbShp\",\"label\":\"_13ocjs2K\",\"count\":\"_2c0ebXSh\"};","import React from 'react';\nimport cn from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport { Avatar } from '@mssgme/ui';\n\nimport styles from './AssignOption.scss';\n\nconst AvatarType = PropTypes.shape({\n    name: PropTypes.string,\n    src: PropTypes.string,\n});\n\nconst MetaType = PropTypes.shape({\n    avatar: AvatarType,\n    icon: PropTypes.elementType,\n    count: PropTypes.number,\n});\n\nAssignOption.propTypes = {\n    className: PropTypes.string,\n    as: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    value: PropTypes.string.isRequired,\n    label: PropTypes.string.isRequired,\n    isSelected: PropTypes.bool,\n    onSelect: PropTypes.func.isRequired,\n    meta: MetaType,\n};\n\nAssignOption.defaultProps = {\n    isSelected: false,\n    as: 'li',\n    meta: {},\n};\n\nexport default function AssignOption({ className, as: Element, value, label, onSelect, isSelected, meta }) {\n    const { avatar, icon, count } = meta;\n\n    const handleClick = (e) => {\n        e.preventDefault();\n        onSelect(value);\n    };\n\n    let prefix;\n\n    if (avatar) {\n        prefix = <Avatar className={styles.avatar} fontSize={12} size={24} {...avatar} />;\n    } else if (icon) {\n        prefix = <BaseIcon className={styles.icon} icon={icon} size={22} />;\n    }\n\n    return (\n        <Element\n            className={cn(styles.root, className, {\n                [styles.active]: isSelected,\n            })}\n            onClick={handleClick}\n            role=\"button\"\n        >\n            {prefix && <div className={styles.prefix}>{prefix}</div>}\n            <div className={styles.label}>{label}</div>\n            {count != null && <div className={styles.count}>{count}</div>}\n        </Element>\n    );\n}\n\n// eslint-disable-next-line react/prop-types\nfunction BaseIcon({ icon: Component, ...props }) {\n    return <Component {...props} />;\n}\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction DeprecatedCloseIcon(props, svgRef) {\n    return (\n        <IconBase fill=\"currentColor\" viewBox=\"0 0 14 14\" ref={svgRef} {...props}>\n            <path\n                fillRule=\"evenodd\"\n                clipRule=\"evenodd\"\n                d=\"M7 5.586L12.293.293a1 1 0 111.414 1.414L8.414 7l5.293 5.293a1 1 0 01-1.414 1.414L7 8.414l-5.293 5.293a1 1 0 01-1.414-1.414L5.586 7 .293 1.707A1 1 0 011.707.293L7 5.586z\"\n            />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(DeprecatedCloseIcon);\nexport default ForwardRef;\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction DeprecatedSettingsIcon(props, svgRef) {\n    return (\n        <IconBase fill=\"currentColor\" viewBox=\"0 0 14 13\" ref={svgRef} {...props}>\n            <path d=\"M1 10h12\" stroke=\"currentColor\" strokeWidth={2} strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n            <path d=\"M9 12a2 2 0 100-4 2 2 0 000 4z\" fill=\"#F2F2F2\" stroke=\"currentColor\" strokeWidth={2} />\n            <path d=\"M1 3h12\" stroke=\"currentColor\" strokeWidth={2} strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n            <path d=\"M5 5a2 2 0 100-4 2 2 0 000 4z\" fill=\"#F2F2F2\" stroke=\"currentColor\" strokeWidth={2} />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(DeprecatedSettingsIcon);\nexport default ForwardRef;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1_uYBnFr\",\"settings\":\"_2qcnL_BL\",\"close\":\"lXy_Qdac\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n\nimport { DeprecatedCloseIcon, DeprecatedSettingsIcon } from '@mssgme/icons';\n\nimport { IconButton } from '@mssgme/ui';\n\nimport styles from './ToggleButton.scss';\n\nToggleButton.propTypes = {\n    isPressed: PropTypes.bool,\n    onToggle: PropTypes.func.isRequired,\n};\n\nexport default function ToggleButton({ isPressed = false, onToggle }) {\n    return (\n        <IconButton\n            aria-pressed={isPressed}\n            className={cn(styles.root, {\n                [styles.close]: isPressed,\n                [styles.settings]: !isPressed,\n            })}\n            onClick={onToggle}\n        >\n            {isPressed ? <DeprecatedCloseIcon size={14} /> : <DeprecatedSettingsIcon size={14} />}\n        </IconButton>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3_PybuVi\",\"toggle\":\"_2JmwZPMj\",\"label\":\"_1kE2WuSs\",\"menu\":\"_3n-DnLHq\",\"visible\":\"_3MYnwVQ1\"};","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { useModal, DropDown } from '@mssgme/ui';\n\nimport AssignOption from './AssignOption';\nimport ToggleButton from './ToggleButton';\n\nimport styles from './AssignFilter.scss';\n\nAssignFilter.propTypes = {\n    onChange: PropTypes.func.isRequired,\n    onToggle: PropTypes.func,\n    value: PropTypes.string.isRequired,\n    options: PropTypes.array.isRequired,\n};\n\nexport default function AssignFilter({ onChange, onToggle, options, value }) {\n    const { isOpen, toggle, hide } = useModal();\n    const currentOption = options.find((o) => o.value === value);\n\n    useEffect(() => {\n        onToggle && onToggle(isOpen);\n    }, [isOpen]);\n\n    const handleSelect = (v) => {\n        onChange(v);\n        hide();\n    };\n\n    return (\n        <div className={styles.root}>\n            <div className={styles.toggle}>\n                <h1 className={styles.label}>\n                    {currentOption.label + ' '}\n                    {currentOption.meta.count != null && <span>({currentOption.meta.count})</span>}\n                </h1>\n                <ToggleButton isPressed={isOpen} onToggle={toggle} />\n            </div>\n            <DropDown in={isOpen}>\n                <ul className={styles.menu}>\n                    {options.map((option, key) => (\n                        <AssignOption\n                            key={key}\n                            isSelected={option.value === value}\n                            onSelect={handleSelect}\n                            {...option}\n                        />\n                    ))}\n                </ul>\n            </DropDown>\n        </div>\n    );\n}\n","import { useActions } from '@mssgme/hooks';\nimport { useSelector } from 'react-redux';\n\nexport function useFilter() {\n    const { ui } = useActions();\n    const filter = useSelector((state) => state.ui.conversationsFilter);\n\n    const setFilter = (filter) => ui.setConversationsFilter(filter);\n\n    return [filter, setFilter];\n}\n","import { useSelector } from 'react-redux';\nimport { useEffect, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { FiInbox, FiUser } from 'react-icons/fi';\n\nimport { useActions, useFetching, useUser } from '@mssgme/hooks';\nimport { getTeamMembers } from '@mssgme/store';\nimport { useFilter } from './useFilter';\n\nexport function useAssignFilterOptions() {\n    const { t } = useTranslation('inbox');\n    const user = useUser();\n    const { members, statistics } = useSelector((state) => ({\n        members: getTeamMembers(state),\n        statistics: state.conversations.statistics,\n    }));\n\n    const options = useMemo(() => {\n        const extractOption = ({ id, name, avatarUrl }) => ({\n            label: name,\n            value: id,\n            meta: {\n                avatar: { name: name, src: avatarUrl },\n            },\n        });\n\n        const notCurrentUser = ({ id }) => id !== user.id;\n\n        return [\n            {\n                label: t('assignFilter.label.my'),\n                value: 'my',\n                meta: {\n                    avatar: { name: user.name, src: user.avatarUrl },\n                    count: statistics.my,\n                },\n            },\n            {\n                label: t('assignFilter.label.unassigned'),\n                value: 'unassigned',\n                meta: {\n                    icon: FiUser,\n                    count: statistics.unassigned,\n                },\n            },\n            {\n                label: t('assignFilter.label.all'),\n                value: 'all',\n                meta: {\n                    icon: FiInbox,\n                    count: statistics.all,\n                },\n            },\n            ...members.filter(notCurrentUser).map(extractOption),\n        ];\n    }, [members, statistics]);\n\n    return options;\n}\n\nexport default function useAssignFilter() {\n    const options = useAssignFilterOptions();\n    const [filter, setFilter] = useFilter();\n    const { api } = useActions();\n\n    const loadStatistics = useFetching(api.conversations.statistics);\n\n    useEffect(() => {\n        loadStatistics.run({ query: { status: filter.status } });\n    }, []);\n\n    const onChange = (assign) => setFilter({ assign });\n\n    return { onChange, options, value: filter.assign };\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2SoSoX9o\",\"label\":\"_3CfGgkKz\",\"text\":\"_3ZSKUoR_\",\"input\":\"_2d_-Iuzs\"};","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ConversationsStatusSwitch.scss';\n\nConversationsStatusSwitch.propTypes = {\n    name: PropTypes.string.isRequired,\n    value: PropTypes.string,\n    choices: PropTypes.arrayOf(\n        PropTypes.shape({\n            label: PropTypes.string.isRequired,\n            value: PropTypes.string.isRequired,\n        })\n    ).isRequired,\n    onChange: PropTypes.func.isRequired,\n};\n\nexport default function ConversationsStatusSwitch({ name, value, onChange, choices }) {\n    const handleChange = useCallback(\n        (e) => {\n            onChange(e.target.value);\n        },\n        [onChange]\n    );\n\n    return (\n        <div className={styles.root}>\n            {choices.map((item, key) => (\n                <label key={key} className={styles.label}>\n                    <input\n                        className={styles.input}\n                        type=\"radio\"\n                        name={name}\n                        value={item.value}\n                        checked={value === item.value}\n                        onChange={handleChange}\n                    />\n                    <span className={styles.text}>{item.label}</span>\n                </label>\n            ))}\n        </div>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2dKIHuTy\",\"faded\":\"_3GAVHRdg\",\"header\":\"_2Ed4p3o1\"};","import cn from 'classnames';\nimport React, { useState } from 'react';\n\nimport SearchConversation from './SearchConversation';\nimport ConversationList from './ConversationList';\nimport AssignFilter from './AssignFilter';\nimport useConversationList from './useConversationList';\nimport useAssignFilter from './useAssignFilter';\nimport useSearchConversation from './useSearchConversation';\nimport ConversationsStatusSwitch from './ConversationsStatusSwitch';\nimport useConversationsStatusSwitch from './useConversationsStatusSwitch';\n\nimport styles from './ConversationsBar.scss';\n\nexport default function ConversationsBar() {\n    const [isFaded, setIsFaded] = useState(false);\n\n    const conversationListState = useConversationList();\n    const filterState = useAssignFilter();\n    const searchState = useSearchConversation();\n    const statusState = useConversationsStatusSwitch();\n\n    return (\n        <div className={cn(styles.root, { [styles.faded]: isFaded })}>\n            <header className={styles.header}>\n                <AssignFilter onToggle={setIsFaded} {...filterState} />\n                <SearchConversation className={styles.searchBlock} {...searchState} />\n                <ConversationsStatusSwitch {...statusState} />\n            </header>\n            <ConversationList {...conversationListState} />\n        </div>\n    );\n}\n","import { useSelector } from 'react-redux';\nimport { useMemo, useEffect } from 'react';\nimport { get } from 'lodash';\n\nimport { useUser, useActions, useFetching } from '@mssgme/hooks';\nimport { getFilteredAndSortedConversations } from '@mssgme/store';\n\nexport default function useConversationList() {\n    const { api } = useActions();\n    const user = useUser();\n    const { conversations, hasMore, next } = useSelector((state) => {\n        const { hasNext, next } = state.conversations.list;\n\n        return {\n            conversations: getFilteredAndSortedConversations(state),\n            hasMore: hasNext,\n            next,\n        };\n    });\n\n    const loadConversations = useFetching(api.conversations.filterList);\n\n    useEffect(() => {\n        loadConversations.run();\n    }, []);\n\n    const items = useMemo(\n        () =>\n            conversations.map(({ contact, blocked, read, lastMessage }) => {\n                const isMessageUpcoming =\n                    lastMessage && lastMessage.authorKind === 'User' && lastMessage.author === user._id;\n                const messageType = get(lastMessage, 'type');\n                const messageText = get(lastMessage, 'text', '');\n\n                let text;\n\n                switch (messageType) {\n                    case 'image':\n                        text = 'Image';\n                        break;\n                    case 'file':\n                        text = 'File';\n                        break;\n                    case 'text':\n                        text = messageText;\n                        break;\n                    default:\n                        text = 'Unsupported';\n                }\n\n                return {\n                    id: contact.id,\n                    avatar: contact.avatarUrl,\n                    username: contact.name,\n                    lastMessage: text,\n                    lastActivity: lastMessage.received,\n                    isMessageUpcoming: isMessageUpcoming,\n                    isNew: !read,\n                    isBlocked: !!blocked,\n                    platform: contact.client.platform,\n                };\n            }),\n        [conversations]\n    );\n\n    const onScroll = ({ target }) => {\n        const max = target.scrollHeight - target.clientHeight - 200;\n\n        if (hasMore && target.scrollTop >= max) {\n            loadConversations.run({ query: { next } });\n        }\n    };\n\n    return { items, hasMore, onScroll };\n}\n","import { useTranslation } from 'react-i18next';\nimport { useMemo } from 'react';\n\nimport { useFilter } from './useFilter';\n\nexport default function useSearchConversation() {\n    const { t } = useTranslation('inbox');\n    const [{ assign, searchValue }, setFilter] = useFilter();\n\n    const placeholder = useMemo(() => {\n        switch (assign) {\n            case 'unassigned':\n                return t('conversationBar.searchPlaceholder.unassigned');\n            case 'my':\n                return t('conversationBar.searchPlaceholder.my');\n            case 'all':\n                return t('conversationBar.searchPlaceholder.all');\n            default:\n                return t('searchConversation.search');\n        }\n    }, [assign]);\n\n    const onChange = (v) => setFilter({ searchValue: v });\n\n    return { placeholder, value: searchValue, onChange };\n}\n","import { useTranslation } from 'react-i18next';\nimport { useFilter } from './useFilter';\n\nexport default function useConversationsStatusSwitch() {\n    const { t } = useTranslation('inbox');\n    const [filter, setFilter] = useFilter();\n\n    const choices = [\n        { value: 'open', label: t('ConversationsStatusSwitch.open') },\n        { value: 'close', label: t('ConversationsStatusSwitch.close') },\n    ];\n\n    const onChange = (status) => {\n        setFilter({ status });\n    };\n\n    return { name: 'conversationsStatusName', value: filter.status, choices, onChange };\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_34qtuScN\",\"dropdown\":\"_20XKsAfR\"};","import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { useClickAway, useToggle } from 'react-use';\n\nimport { Fade } from '@mssgme/ui';\n\nimport ToggleButton from './ToggleButton';\nimport { AssignOption } from '../../Conversations';\nimport styles from './AssignTo.scss';\n\nAssignTo.propTypes = {\n    options: PropTypes.array.isRequired,\n    placeholder: PropTypes.string,\n    value: PropTypes.string,\n    onChange: PropTypes.func.isRequired,\n};\n\nexport default function AssignTo({ options, placeholder, value, onChange }) {\n    const rootRef = useRef();\n    const [isOpen, toggle] = useToggle();\n    const selectedOption = options.find((o) => o.value === value);\n\n    useClickAway(rootRef, () => {\n        toggle(false);\n    });\n\n    const handleSelect = (v) => {\n        onChange(v);\n        toggle(false);\n    };\n\n    return (\n        <div className={styles.root} ref={rootRef}>\n            <ToggleButton isPressed={isOpen} onToggle={toggle}>\n                {selectedOption ? selectedOption.label : placeholder}\n            </ToggleButton>\n            <Fade in={isOpen}>\n                <div className={styles.dropdown}>\n                    {options.map((option, key) => (\n                        <AssignOption\n                            as=\"a\"\n                            href=\"#\"\n                            key={key}\n                            isSelected={option.value === value}\n                            onSelect={handleSelect}\n                            {...option}\n                        />\n                    ))}\n                </div>\n            </Fade>\n        </div>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1AD-jjIe\",\"content\":\"knOPd4QE\",\"header\":\"_3XSfXdo6\",\"sectionHeading\":\"DfxFfXSx\",\"userName\":\"_36ZlDNjM\",\"infoList\":\"_3fd5mQ_8\",\"nav\":\"ZtJtqFe6\"};","import PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useParams } from 'react-router';\nimport { IoIosArrowBack } from 'react-icons/io';\nimport TextareaAutosize from 'react-textarea-autosize';\n\nimport {\n    Avatar,\n    ConversationTypes,\n    GenderSelect,\n    IconButton,\n    InlineEdit,\n    Input,\n    Scrollbar,\n    TagsInput,\n    useAutoSave,\n    useBreakpoints,\n    useEnhancedFormik,\n} from '@mssgme/ui';\n\nimport { AssignTo, useAssignTo } from '../AssignTo';\nimport useClientCard from './useClientCard';\n\nimport styles from './ClientCard.scss';\n\nconst FIELDS = ['name', 'email', 'phone', 'gender', 'address', 'notes', 'tags'];\n\nPureClientCard.defaultProps = {\n    visible: false,\n};\n\nPureClientCard.propTypes = {\n    className: PropTypes.string,\n    assignTo: PropTypes.shape(AssignTo.propTypes).isRequired,\n    contact: ConversationTypes.contact.isRequired,\n    onSubmit: PropTypes.func.isRequired,\n    onClose: PropTypes.func,\n};\n\n// TODO: refactor\nexport function PureClientCard({ className, assignTo, contact, onSubmit, onClose }) {\n    const { t } = useTranslation('inbox');\n    const { isMobile } = useBreakpoints();\n    const initialValues = useMemo(() => getInitialValues(contact), [contact]);\n    const formik = useEnhancedFormik({\n        initialValues,\n        onSubmit,\n    });\n\n    const { success, getFieldProps } = useAutoSave(formik);\n\n    const handleTagsChange = (value) => {\n        formik.setFieldValue('tags', value);\n        formik.submitForm();\n    };\n\n    return (\n        <Scrollbar>\n            <div className={classNames(styles.root, className)}>\n                {isMobile && (\n                    <header className={styles.nav}>\n                        <IconButton onClick={onClose} className={styles.backBtn}>\n                            <IoIosArrowBack size={24} />\n                        </IconButton>\n                    </header>\n                )}\n                <form>\n                    <section className={styles.header}>\n                        <Avatar className={styles.avatar} size={100} name={contact.name} src={contact.avatarUrl} />\n                        <h4 className={styles.userName}>{contact.name}</h4>\n                    </section>\n                    <section className={styles.content}>\n                        <h6 className={styles.sectionHeading}>{t('ClientCard.headings.infoHeading')}</h6>\n                        <ul className={styles.infoList}>\n                            {FIELDS.filter((name) => name !== 'notes' && name !== 'tags').map((name) => {\n                                const tagsMap = {\n                                    gender: GenderSelect,\n                                    // country: CountrySelect,\n                                };\n\n                                return (\n                                    <li key={name}>\n                                        <InlineEdit\n                                            {...getFieldProps(name)}\n                                            id={`client_${name}`}\n                                            tag={tagsMap[name] || Input}\n                                            successfully={success[name]}\n                                            label={t(`ClientCard.inputs.${name}.label`)}\n                                            placeholder={t(`ClientCard.inputs.${name}.placeholder`)}\n                                            autoComplete=\"off\"\n                                        />\n                                    </li>\n                                );\n                            })}\n                        </ul>\n                    </section>\n                    <section className={styles.content}>\n                        <h6 className={styles.sectionHeading}>{t('ClientCard.headings.assignTo')}</h6>\n                        <AssignTo {...assignTo} />\n                    </section>\n                    <section className={styles.content}>\n                        <h6 className={styles.sectionHeading}>{t('ClientCard.headings.tags')}</h6>\n                        <TagsInput value={formik.values.tags} onChange={handleTagsChange} error={formik.errors.tags} />\n                    </section>\n                    <section className={styles.content}>\n                        <h6 className={styles.sectionHeading}>{t('ClientCard.headings.notesHeading')}</h6>\n                        <InlineEdit\n                            {...getFieldProps('notes')}\n                            successfully={success.notes}\n                            tag={TextareaAutosize}\n                            placeholder={t('ClientCard.inputs.notes.placeholder')}\n                            autoComplete=\"off\"\n                            indicatorPosition=\"end\"\n                            maxRows={Infinity}\n                        />\n                    </section>\n                </form>\n            </div>\n        </Scrollbar>\n    );\n}\n\nfunction getInitialValues(contact) {\n    const getDefaultValue = (name) => (name === 'tags' ? [] : '');\n\n    return FIELDS.reduce((acc, name) => {\n        acc[name] = contact[name] || getDefaultValue(name);\n        return acc;\n    }, {});\n}\n\nexport default function ClientCard(props) {\n    const { contactId } = useParams();\n    const state = useClientCard(contactId);\n    const assignTo = useAssignTo(contactId);\n\n    return <PureClientCard {...state} assignTo={assignTo} {...props} />;\n}\n","import { useEffect, useState } from 'react';\nimport { useEventCallback } from '@mssgme/hooks';\n\n/**\n * @param {import('formik').FormikProps} formik\n */\nexport function useAutoSave(formik) {\n    const [touched, setTouched] = useState(null);\n    const [success, setSuccess] = useState({});\n\n    const handleBlur = useEventCallback((e) => {\n        setTouched((prev) => ({ ...prev, [e.target.name]: true }));\n        formik.handleBlur(e);\n    });\n\n    const handleEnter = useEventCallback((e) => {\n        if (e.key === 'Escape'|| e.key === 'Enter') {\n            e.preventDefault();\n            e.stopPropagation();\n            e.target.blur?.();\n        }\n    });\n\n    const getFieldProps = (name) => {\n        const { error } = formik.getFieldMeta(name);\n\n        return {\n            ...formik.getFieldProps(name),\n            onBlur: handleBlur,\n            onKeyDown: handleEnter,\n            error,\n        };\n    };\n\n    useEffect(() => {\n        if (formik.dirty && touched && Object.keys(touched).length) {\n            void formik.submitForm();\n        }\n    }, [touched]);\n\n    useEffect(() => {\n        if (formik.status !== 'success') {\n            return;\n        }\n\n        setTouched(null);\n\n        const newSuccess = { ...touched };\n        setSuccess((prev) => ({ ...prev, ...touched }));\n\n        formik.resetForm({ values: formik.values });\n\n        const timer = setTimeout(() => {\n            setSuccess((prev) => {\n                const newState = { ...prev };\n\n                for (let prop in newSuccess) {\n                    newState[prop] = false;\n                }\n\n                return newState;\n            });\n        }, 3000);\n\n        return () => {\n            clearTimeout(timer);\n        };\n    }, [formik.status]);\n\n    return { getFieldProps, success };\n}\n","import { useSelector } from 'react-redux';\n\nimport { useActions } from '@mssgme/hooks';\nimport { getConversation } from '@mssgme/store';\n\nexport default function useClientCard(contactId) {\n    const actions = useActions();\n    const contact = useSelector((state) => getConversation(state, contactId).contact);\n\n    const onSubmit = (payload) => actions.api.contacts.update({ contactId, payload });\n\n    return {\n        contact,\n        onSubmit,\n    };\n}\n","import { useMemo, useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector } from 'react-redux';\n\nimport { useUser, useActions } from '@mssgme/hooks';\nimport { getConversation, getTeamMembers } from '@mssgme/store';\n\nexport function useAssignTo(contactId) {\n    const { t } = useTranslation('inbox');\n    const { api } = useActions();\n    const { id: userId } = useUser();\n    const { members, assignTo } = useSelector((state) => ({\n        members: getTeamMembers(state),\n        assignTo: getConversation(state, contactId).assignTo,\n    }));\n    const [value, setValue] = useState(assignTo);\n\n    useEffect(() => {\n        setValue(assignTo);\n    }, [assignTo]);\n\n    const placeholder = t('assignTo.unassigned');\n\n    const onChange = (v) => {\n        if (value !== v) {\n            setValue(v);\n            api.conversations.assign({ contactId, userId: v });\n        }\n    };\n\n    const options = useMemo(\n        () =>\n            members.map(({ id, name, avatarUrl }) => ({\n                label: userId === id ? t('assignTo.me') : name,\n                value: id,\n                meta: {\n                    avatar: { name: name, src: avatarUrl },\n                },\n            })),\n        [members, userId, t]\n    );\n\n    return { value, onChange, placeholder, options };\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"cuwYGulf\",\"caption\":\"_2k7JWnv6\",\"contactName\":\"_1d8f5r3e\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Avatar } from '@mssgme/ui';\n\nimport styles from './Contact.scss';\n\nContact.propTypes = {\n    name: PropTypes.string.isRequired,\n    avatarUrl: PropTypes.string,\n};\n\nexport default function Contact({ name, avatarUrl, children, ...rest }) {\n    return (\n        <figure className={styles.root} {...rest}>\n            <Avatar className={styles.avatar} name={name} src={avatarUrl} size={36} />\n            <figcaption className={styles.caption}>\n                <div className={styles.contactName}>{name}</div>\n                {children}\n            </figcaption>\n        </figure>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2s5Dj-Nd\",\"content\":\"VVidEssJ\",\"buttons\":\"_1ydxEdLo\",\"backBtn\":\"_3gOwl-p0\"};","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction CheckIcon(props, svgRef) {\n    return (\n        <IconBase fill=\"none\" viewBox=\"0 0 24 24\" ref={svgRef} {...props}>\n            <path\n                d=\"M20 6L9 17l-5-5\"\n                stroke=\"currentColor\"\n                strokeWidth={2}\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(CheckIcon);\nexport default ForwardRef;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2X8YFGsz\",\"active\":\"hHNmYlv0\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n\nimport { CheckIcon } from '@mssgme/icons';\nimport { IconButton } from '@mssgme/ui';\n\nimport styles from './ArchiveToggle.scss';\n\nArchiveToggle.propTypes = {\n    isActive: PropTypes.bool,\n    onToggle: PropTypes.func,\n};\n\nexport default function ArchiveToggle({ isActive, onToggle }) {\n    return (\n        <IconButton onClick={onToggle} className={cn({ [styles.active]: isActive })}>\n            <CheckIcon size={24} />\n        </IconButton>\n    );\n}\n","import PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport React, { useCallback } from 'react';\nimport { IoIosArrowBack } from 'react-icons/io';\nimport { Link, useParams } from 'react-router-dom';\n\nimport { useBreakpoints, IconButton } from '@mssgme/ui';\n\nimport Contact from './Contact';\nimport useMessagesHeader from './useMessagesHeader';\n\nimport styles from './MessagesHeader.scss';\nimport ArchiveToggle from './ArchiveToggle';\n\nPureMessagesHeader.propTypes = {\n    isArchivedConversation: PropTypes.bool,\n    contact: PropTypes.shape(Contact.propTypes).isRequired,\n    openClientCard: PropTypes.func,\n    onArchiveToggle: PropTypes.func,\n};\n\nexport function PureMessagesHeader({ isArchivedConversation, contact, onArchiveToggle, openClientCard, children }) {\n    const { isMobile } = useBreakpoints();\n\n    const handleContactClick = useCallback(\n        (e) => {\n            e.preventDefault();\n            openClientCard && openClientCard();\n        },\n        [openClientCard]\n    );\n\n    return (\n        <header className={styles.root}>\n            {isMobile && (\n                <IconButton as={Link} to=\"/i\" className={styles.backBtn}>\n                    <IoIosArrowBack size={24} />\n                </IconButton>\n            )}\n            <Contact onClick={isMobile ? handleContactClick : null} name={contact.name} avatarUrl={contact.avatarUrl} />\n            <div className={styles.content}>{children}</div>\n            <div className={cn(styles.buttons)}>\n                <ArchiveToggle isActive={isArchivedConversation} onToggle={onArchiveToggle} />\n            </div>\n        </header>\n    );\n}\n\nexport default function MessagesHeader(props) {\n    const { contactId } = useParams();\n    const state = useMessagesHeader(contactId);\n\n    return <PureMessagesHeader {...state} {...props} />;\n}\n","import { useSelector } from 'react-redux';\n\nimport { useActions } from '@mssgme/hooks';\nimport { getConversation } from '@mssgme/store';\n\nexport default function useMessagesHeader(contactId) {\n    const { api } = useActions();\n    const { isArchivedConversation, contact } = useSelector((state) => {\n        const { status, contact } = getConversation(state, contactId);\n\n        return {\n            isArchivedConversation: status === 'close',\n            contact,\n        };\n    });\n\n    const onArchiveToggle = (e) => {\n        e.preventDefault();\n        api.conversations.changeStatus({ contactId, status: isArchivedConversation ? 'open' : 'close' });\n    };\n\n    return { isArchivedConversation, contact, onArchiveToggle };\n}\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction DeprecatedQuickRepliesIcon(props, svgRef) {\n    return (\n        <IconBase fill=\"none\" viewBox=\"0 0 20 20\" ref={svgRef} {...props}>\n            <path d=\"M6 6h4\" stroke=\"currentColor\" strokeWidth={2} strokeLinecap=\"round\" className=\"prefix__line-1\" />\n            <path d=\"M6 10h8\" stroke=\"currentColor\" strokeWidth={2} strokeLinecap=\"round\" className=\"prefix__line-2\" />\n            <path d=\"M6 14h2\" stroke=\"currentColor\" strokeWidth={2} strokeLinecap=\"round\" className=\"prefix__line-3\" />\n            <path\n                fillRule=\"evenodd\"\n                clipRule=\"evenodd\"\n                d=\"M17 0H3a3 3 0 00-3 3v14a3 3 0 003 3h14a3 3 0 003-3V3a3 3 0 00-3-3zM2 3a1 1 0 011-1h14a1 1 0 011 1v14a1 1 0 01-1 1H3a1 1 0 01-1-1V3z\"\n                fill=\"currentColor\"\n            />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(DeprecatedQuickRepliesIcon);\nexport default ForwardRef;\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"BEA8r__9\",\"startIcon\":\"nzwsV0xy\",\"endIcon\":\"_3Kb3Br1Z\"};","import React from 'react';\nimport PureButton from './PureButton';\n\nimport styles from './ElevatedButton.scss';\n\nexport default function ElevatedButton(props) {\n    return <PureButton styles={styles} {...props} />;\n}\n","import { useCallback, useState } from 'react';\n\n/**\n * @param {boolean} [initial] Initial state\n * @returns {[boolean, Function<void>, Function<void>, Function<void>]} State and handlers (<code>[state, true, false, toggle]</code>)\n */\nexport function useBooleanHandler(initial = false) {\n    const [state, set] = useState(initial);\n\n    const handleTrue = useCallback(() => set(true), []);\n    const handleFalse = useCallback(() => set(false), []);\n    const handleToggle = useCallback((arg) => set(typeof arg === 'boolean' ? arg : (old) => !old), []);\n\n    return [state, handleTrue, handleFalse, handleToggle];\n}\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction DeprecatedArrowUpIcon(props, svgRef) {\n    return (\n        <IconBase fill=\"none\" viewBox=\"0 0 14 18\" ref={svgRef} {...props}>\n            <path\n                d=\"M8 3.414l4.293 4.293a1 1 0 101.414-1.414l-6-6a1 1 0 00-1.414 0l-6 6a1 1 0 001.414 1.414L6 3.414v13.642c0 .521.448.944 1 .944s1-.423 1-.944V3.414z\"\n                fill=\"currentColor\"\n            />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(DeprecatedArrowUpIcon);\nexport default ForwardRef;\n","import { useEffect } from 'react';\n\nimport { Notification } from '@mssgme/ui';\n\nexport default function useHandleError(error) {\n    useEffect(() => {\n        if (error) {\n            Notification.danger(error, { showClose: true });\n        }\n    }, [error]);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"Moo7hMjw\",\"input\":\"_1X5SEB6i\",\"inputContainer\":\"_3m9hdbjq\",\"btn\":\"_1WbacLs2\",\"btnWrap\":\"_1XzSfpir\",\"filled\":\"ujQkPXw2\",\"children\":\"_3gDhv8uj\"};","import React, { useCallback, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport TextareaAutosize from 'react-textarea-autosize';\n\nimport { useBooleanHandler } from '@mssgme/hooks';\nimport { Scrollbar, IconButton, Spinner } from '@mssgme/ui';\nimport { DeprecatedArrowUpIcon } from '@mssgme/icons';\n\nimport useHandleError from './useHandleError';\n\nimport styles from './MessageInput.scss';\n\nMessageInput.propTypes = {\n    className: PropTypes.string,\n    value: PropTypes.string.isRequired,\n    isFetching: PropTypes.bool,\n    error: PropTypes.string,\n    onChange: PropTypes.func.isRequired,\n    onEnterPress: PropTypes.func,\n    onSubmitClick: PropTypes.func,\n};\n\nMessageInput.defaultProps = {\n    isFetching: false,\n};\n\nexport default function MessageInput({\n    className,\n    value,\n    isFetching,\n    onChange,\n    onEnterPress,\n    onSubmitClick,\n    children,\n    error,\n    ...rest\n}) {\n    const [isFocused, onFocus, onBlur] = useBooleanHandler(false);\n    useHandleError(error);\n\n    const handleKeyPress = useCallback(\n        (e) => {\n            if (!e.shiftKey && e.which === 13) {\n                e.preventDefault();\n                onEnterPress && onEnterPress(e);\n            }\n        },\n        [onEnterPress]\n    );\n\n    const isFilled = !!value.trim();\n\n    return (\n        <div className={cn(styles.root, className, { [styles.filled]: isFilled, [styles.focused]: isFocused })}>\n            <div className={styles.inputContainer}>\n                <Scrollbar>\n                    <TextareaAutosize\n                        className={styles.input}\n                        onChange={onChange}\n                        onKeyPress={handleKeyPress}\n                        tabIndex=\"0\"\n                        value={value}\n                        maxLength={2000}\n                        onFocus={onFocus}\n                        onBlur={onBlur}\n                        name=\"message\"\n                        {...rest}\n                    />\n                </Scrollbar>\n                <div className={styles.children}>{children}</div>\n            </div>\n            <div className={cn(styles.btnWrap)}>\n                <IconButton className={styles.btn} type=\"submit\" disabled={isFetching} onClick={onSubmitClick}>\n                    {isFetching ? (\n                        <Spinner color=\"white\" size={24} borderWidth={2} />\n                    ) : (\n                        <DeprecatedArrowUpIcon size={20} />\n                    )}\n                </IconButton>\n            </div>\n        </div>\n    );\n}\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction DeprecatedPlusIcon(props, svgRef) {\n    return (\n        <IconBase fill=\"none\" viewBox=\"0 0 17 16\" ref={svgRef} {...props}>\n            <path\n                fillRule=\"evenodd\"\n                clipRule=\"evenodd\"\n                d=\"M7.154 7V1c0-.552.454-1 1.014-1s1.014.448 1.014 1v6h6.085c.56 0 1.014.448 1.014 1s-.454 1-1.014 1H9.182v6c0 .552-.454 1-1.014 1s-1.014-.448-1.014-1V9H1.07C.51 9 .056 8.552.056 8S.51 7 1.07 7h6.084z\"\n                fill=\"currentColor\"\n            />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(DeprecatedPlusIcon);\nexport default ForwardRef;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3mo-wRdf\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport { Spinner, IconButton } from '@mssgme/ui';\nimport { DeprecatedPlusIcon } from '@mssgme/icons';\n\nimport useHandleError from './useHandleError';\n\nimport styles from './AttachFile.scss';\n\nAttachFile.propTypes = {\n    isFetching: PropTypes.bool,\n    error: PropTypes.string,\n};\n\nAttachFile.defaultProps = {\n    isFetching: false,\n};\n\nexport default function AttachFile({ isFetching, error, ...rest }) {\n    const { t } = useTranslation('inbox');\n    useHandleError(error);\n\n    return (\n        <IconButton className={styles.root} as=\"label\" disabled={isFetching}>\n            {/* TODO: use reset. Key is temporary solution */}\n            <input key={String(isFetching)} name=\"attachment\" type=\"file\" {...rest} />\n            {isFetching ? <Spinner size={22} /> : <DeprecatedPlusIcon size={16} title={t('AttachFileButton.tip')} />}\n        </IconButton>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3jXAjtDm\",\"input\":\"_1yUSEa9p\",\"send\":\"_1EeBNq5H\",\"assign\":\"u9-PuNNc\"};","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport { FiUserPlus } from 'react-icons/fi';\nimport { Link, useParams, useRouteMatch } from 'react-router-dom';\n\nimport { DeprecatedQuickRepliesIcon } from '@mssgme/icons';\nimport { IconButton, ElevatedButton, useEnhancedFormik, useEventEmitter, useAutoSubmit } from '@mssgme/ui';\n\nimport MessageInput from './MessageInput';\nimport AttachFile from './AttachFile';\nimport useMessagesFooter from './useMessagesFooter';\n\nimport styles from './MessagesFooter.scss';\n\nPureMessagesFooter.propTypes = {\n    isAssigned: PropTypes.bool,\n    onSendMessage: PropTypes.func,\n    onSendAttachment: PropTypes.func,\n    onAssign: PropTypes.func,\n    isFetching: PropTypes.bool,\n};\n\nPureMessagesFooter.defaultProps = {\n    isAssigned: false,\n    message: '',\n};\n\nexport function PureMessagesFooter({ isAssigned, isFetching, onSendMessage, onSendAttachment, onAssign }) {\n    const { t } = useTranslation('inbox');\n    const { url } = useRouteMatch();\n\n    const attachFormik = useEnhancedFormik({\n        initialValues: { attachment: null },\n        onSubmit: onSendAttachment,\n        resetOnSuccess: true,\n    });\n    const messageFormik = useEnhancedFormik({\n        initialValues: { message: '' },\n        onSubmit: onSendMessage,\n        resetOnSuccess: true,\n    });\n\n    useAutoSubmit(attachFormik, 200);\n\n    const ee = useEventEmitter();\n\n    useEffect(() => {\n        const handleReplySelect = (value) => messageFormik.setFieldValue('message', value);\n\n        ee.on('inbox:replySelect', handleReplySelect);\n        return () => ee.removeListener('inbox:replySelect', handleReplySelect);\n    }, [messageFormik.setFieldValue]);\n\n    useEffect(() => {\n        ee.emit('inbox:messageChange', messageFormik.values.message);\n    }, [messageFormik.values.message]);\n\n    return (\n        <footer className={styles.root}>\n            {isAssigned ? (\n                <div className={styles.send}>\n                    <form onSubmit={attachFormik.handleSubmit}>\n                        <AttachFile\n                            isFetching={isFetching}\n                            onChange={(e) => attachFormik.setFieldValue('attachment', e.target.files[0])}\n                            error={attachFormik.errors.attachment}\n                        />\n                    </form>\n                    <form className={styles.input} onSubmit={messageFormik.handleSubmit}>\n                        <MessageInput\n                            placeholder={t('messagesFooter.placeholder')}\n                            onChange={messageFormik.handleChange}\n                            value={messageFormik.values.message}\n                            onEnterPress={() => messageFormik.submitForm()}\n                            error={messageFormik.errors.message}\n                        >\n                            <IconButton as={Link} to={`${url}/replies`} className={styles.quickReplyBtn}>\n                                <DeprecatedQuickRepliesIcon title={t('SendMessage.quickRepliesTip')} />\n                            </IconButton>\n                        </MessageInput>\n                    </form>\n                </div>\n            ) : (\n                <div className={styles.assign}>\n                    <ElevatedButton onClick={onAssign} startIcon={<FiUserPlus size={24} />}>\n                        {t('messagesFooter.button.assign')}\n                    </ElevatedButton>\n                </div>\n            )}\n        </footer>\n    );\n}\n\nexport default function MessagesFooter(props) {\n    const { contactId } = useParams();\n    const state = useMessagesFooter(contactId);\n\n    return <PureMessagesFooter {...state} {...props} />;\n}\n","import { debounce } from 'lodash';\nimport { useMemo } from 'react';\nimport { useUpdateEffect } from 'react-use';\nimport { useEventCallback } from '@mssgme/hooks';\n\nexport const useAutoSubmit = (formik, delay = 400) => {\n    const shouldAutoSubmit = formik.dirty;\n\n    const submit = useEventCallback(() => formik.submitForm());\n    const debouncedSubmit = useMemo(() => debounce(submit, delay), [delay]);\n\n    useUpdateEffect(() => {\n        if (shouldAutoSubmit) {\n            void debouncedSubmit();\n        }\n    }, [debouncedSubmit, shouldAutoSubmit]);\n};\n","import { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { useActions, useFetching } from '@mssgme/hooks';\nimport { getConversation } from '@mssgme/store';\n\nexport default function useMessagesFooter(contactId) {\n    const { api } = useActions();\n    const isAssigned = useSelector((state) => !!getConversation(state, contactId).assignTo);\n\n    const onSendMessage = useCallback(\n        ({ message }) =>\n            message &&\n            api.conversations.sendMessage({\n                contactId,\n                payload: { text: message },\n            }),\n        [contactId, api]\n    );\n    const { run: onSendAttachment, pending: isFetching } = useFetching(\n        ({ attachment }) =>\n            attachment && api.conversations.sendAttachment({ contactId, payload: { file: attachment } }),\n        [contactId, api]\n    );\n    const onAssign = useCallback(() => api.conversations.assignMe({ contactId }), [contactId, api]);\n\n    return {\n        isAssigned,\n        isFetching,\n        onSendMessage,\n        onSendAttachment,\n        onAssign,\n    };\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"appear\":\"xBSYrJ9T\",\"enter\":\"_276QvmZP\",\"appearActive\":\"_2t-ePl1g\",\"enterActive\":\"_8mVQuzDX\",\"exit\":\"csi60zsV\",\"exitActive\":\"_2_XbwVAR\"};","import createTransition from './createTransition';\nimport styles from './DropUp.scss';\n\nexport default createTransition('DropUp', styles);\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction DeprecatedEditIcon(props, svgRef) {\n    return (\n        <IconBase\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth={1.5}\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            ref={svgRef}\n            {...props}\n        >\n            <path d=\"M17 3a2.828 2.828 0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z\" />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(DeprecatedEditIcon);\nexport default ForwardRef;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2t6dA-UU\",\"left\":\"_2OB6to60\",\"right\":\"_1I5ouIZT\",\"edit\":\"_3cRMQhlT\",\"shortcut\":\"_3_DCekfu\",\"message\":\"_3GdoSigS\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useRouteMatch } from 'react-router-dom';\n\nimport { useTranslation } from '@mssgme/i18n';\nimport { DeprecatedEditIcon } from '@mssgme/icons';\nimport { IconButton } from '@mssgme/ui';\n\nimport styles from './QuickReplyItem.scss';\n\nexport const replyType = PropTypes.shape({\n    _id: PropTypes.string.isRequired,\n    shortcut: PropTypes.string.isRequired,\n    message: PropTypes.string.isRequired,\n});\n\nQuickReplyItem.propTypes = {\n    data: replyType.isRequired,\n    onSelect: PropTypes.func,\n    isEdit: PropTypes.bool,\n};\n\nQuickReplyItem.defaultProps = {\n    isEdit: false,\n};\n\nexport default function QuickReplyItem({ data, isEdit, onSelect, ...rest }) {\n    const { t } = useTranslation('inbox');\n    const { url } = useRouteMatch();\n\n    const handleClick = (e) => {\n        e.preventDefault();\n        onSelect && onSelect(data);\n    };\n\n    return (\n        <li className={styles.root} data-replyid={data.shortcut} {...rest}>\n            <div className={styles.left} onClick={handleClick}>\n                <h4 className={styles.shortcut}>{data.shortcut}</h4>\n                <p className={styles.message}>{data.message}</p>\n            </div>\n            {isEdit && (\n                <div className={styles.right}>\n                    <IconButton as={Link} to={`${url}/${data._id}`} className={styles.edit}>\n                        <DeprecatedEditIcon size={24} title={t('QuickRepliesPopup.editTip')} />\n                    </IconButton>\n                </div>\n            )}\n        </li>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"backdrop\":\"_2mkChHOy\",\"root\":\"_2Y3Nuf6C\",\"header\":\"_1qTlQw_X\",\"content\":\"jq-TTVyt\",\"title\":\"O6Jy7geQ\",\"list\":\"_38EmaREO\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport { DropUp, Scrollbar, Fade } from '@mssgme/ui';\nimport QuickReplyItem, { replyType } from './QuickReplyItem';\nimport useQuickRepliesMatch from './useQuickRepliesMatch';\n\nimport styles from './QuickRepliesMatch.scss';\n\nPureQuickRepliesMatch.propTypes = {\n    isOpen: PropTypes.bool,\n    items: PropTypes.arrayOf(replyType).isRequired,\n    onSelectItem: PropTypes.func,\n};\n\nPureQuickRepliesMatch.defaultProps = {\n    isOpen: false,\n};\n\nexport function PureQuickRepliesMatch({ isOpen, items, onSelectItem }) {\n    const { t } = useTranslation('inbox');\n\n    return (\n        <>\n            <Fade in={isOpen} duration=\"normal\">\n                <div className={styles.backdrop} />\n            </Fade>\n            <DropUp in={isOpen} duration=\"normal\">\n                <div className={styles.root}>\n                    <header className={styles.header}>\n                        <h3 className={styles.title}>{t('QuickRepliesMatchPopup.title')}</h3>\n                    </header>\n                    <Scrollbar>\n                        <div className={styles.content}>\n                            <ul className={styles.list}>\n                                {items.map((item) => (\n                                    <QuickReplyItem data={item} key={item._id} onSelect={onSelectItem} />\n                                ))}\n                            </ul>\n                        </div>\n                    </Scrollbar>\n                </div>\n            </DropUp>\n        </>\n    );\n}\n\nexport default function QuickRepliesMatch(props) {\n    const state = useQuickRepliesMatch();\n\n    return <PureQuickRepliesMatch {...state} {...props} />;\n}\n","import { useState, useEffect, useCallback } from 'react';\nimport { useWorkspace } from '@mssgme/hooks';\nimport escapeStringRegexp from 'escape-string-regexp';\n\nimport { useEventEmitter } from '@mssgme/ui';\n\nexport default function useQuickRepliesMatch() {\n    const workspace = useWorkspace();\n    const [isOpen, setIsOpen] = useState();\n    const [value, setValue] = useState('');\n    const ee = useEventEmitter();\n\n    useEffect(() => {\n        ee.on('inbox:messageChange', setValue);\n        return () => ee.removeListener('inbox:messageChange', setValue);\n    }, []);\n\n    let items = [];\n\n    if (value) {\n        const reg = new RegExp(`^${escapeStringRegexp(value)}`, 'i');\n        items = workspace.replies.filter(({ shortcut }) => reg.test(shortcut));\n    }\n\n    useEffect(() => {\n        setIsOpen(items.length > 0);\n    }, [items.length]);\n\n    const onSelectItem = useCallback(({ message }) => {\n        ee.emit('inbox:replySelect', message);\n    }, []);\n\n    return {\n        isOpen,\n        items,\n        onSelectItem,\n    };\n}\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction DeprecatedSaveIcon(props, svgRef) {\n    return (\n        <IconBase\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth={2}\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            ref={svgRef}\n            {...props}\n        >\n            <path d=\"M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z\" />\n            <path d=\"M17 21v-8H7v8M7 3v5h8\" />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(DeprecatedSaveIcon);\nexport default ForwardRef;\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction DeprecatedTrashIcon(props, svgRef) {\n    return (\n        <IconBase\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth={2}\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            ref={svgRef}\n            {...props}\n        >\n            <path d=\"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2M10 11v6M14 11v6\" />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(DeprecatedTrashIcon);\nexport default ForwardRef;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"M_dBmKw1\",\"header\":\"ecVKX-Gc\",\"title\":\"_3Iay4TaO\",\"content\":\"_2dWVLgCM\",\"body\":\"SVvQ5mqd\",\"footer\":\"_1vvKkZTI\",\"headerAfter\":\"_1jEt7c0x\",\"headerBefore\":\"_1e0H5tEg\"};","import React from 'react';\nimport cn from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport { Scrollbar, IconButton } from '@mssgme/ui';\nimport { DeprecatedCloseIcon } from '@mssgme/icons';\n\nimport styles from './QuickRepliesDialog.scss';\n\nQuickRepliesDialog.propTypes = {\n    title: PropTypes.node.isRequired,\n    buttons: PropTypes.node,\n    footer: PropTypes.node,\n    children: PropTypes.node,\n    onClose: PropTypes.func,\n};\n\nexport default function QuickRepliesDialog({ onClose, title, buttons, children, footer }) {\n    return (\n        <div className={cn(styles.root)}>\n            <header className={styles.header}>\n                <div className={styles.headerBefore}>\n                    <IconButton className={cn(styles.close)} onClick={onClose}>\n                        <DeprecatedCloseIcon size={15} />\n                    </IconButton>\n                </div>\n                <h4 className={styles.title}>{title}</h4>\n                <div className={styles.headerAfter}>{buttons}</div>\n            </header>\n            <Scrollbar>\n                <div className={styles.content}>{children}</div>\n            </Scrollbar>\n            {footer && <footer className={styles.footer}>{footer}</footer>}\n        </div>\n    );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport { get } from 'lodash';\nimport { useParams } from 'react-router';\n\nimport { Textarea, FormField, useEnhancedFormik, IconButton } from '@mssgme/ui';\nimport { DeprecatedSaveIcon, DeprecatedTrashIcon } from '@mssgme/icons';\nimport { useFetching } from '@mssgme/hooks';\n\nimport QuickRepliesDialog from './QuickRepliesDialog';\nimport { replyType } from './QuickReplyItem';\nimport useQuickReplyEdit from './useQuickReplyEdit';\n\n// import styles from './QuickReplyEdit.scss';\n\nPureQuickReplyEdit.propTypes = {\n    data: replyType,\n    onSubmit: PropTypes.func,\n    onRemove: PropTypes.func,\n    onClose: PropTypes.func,\n};\n\nexport function PureQuickReplyEdit({ data, onSubmit, onRemove, onClose, ...rest }) {\n    const { t } = useTranslation('inbox');\n    const remove = useFetching(onRemove);\n\n    const formik = useEnhancedFormik({\n        initialValues: {\n            shortcut: get(data, 'shortcut', ''),\n            message: get(data, 'message', ''),\n        },\n        enableReinitialize: true,\n        onSubmit,\n    });\n\n    if (formik.status === 'success' || remove.fulfilled) {\n        onClose && onClose();\n    }\n\n    const isNew = !(data && data._id);\n    const title = isNew ? t('QuickReplyEditPopup.title') : data.shortcut;\n    const buttons = (\n        <>\n            {formik.dirty && (\n                <IconButton onClick={formik.submitForm}>\n                    <DeprecatedSaveIcon size={22} title={t('ui:button.save')} />\n                </IconButton>\n            )}\n            {!isNew && (\n                <IconButton color=\"#dc5960\" onClick={() => remove.run()}>\n                    <DeprecatedTrashIcon size={22} title={t('ui:button.remove')} />\n                </IconButton>\n            )}\n        </>\n    );\n\n    return (\n        <QuickRepliesDialog title={title} buttons={buttons} onClose={onClose} {...rest}>\n            <form onSubmit={formik.handleSubmit}>\n                <FormField\n                    label={t('QuickReplyEditPopup.shortcut.label')}\n                    placeholder={t('QuickReplyEditPopup.shortcut.placeholder')}\n                    maxLength={20}\n                    errors={formik.errors.shortcut}\n                    {...formik.getFieldProps('shortcut')}\n                />\n                <FormField\n                    component={Textarea}\n                    label={t('QuickReplyEditPopup.message.label')}\n                    placeholder={t('QuickReplyEditPopup.message.placeholder')}\n                    maxLength={2000}\n                    errors={formik.errors.message}\n                    {...formik.getFieldProps('message')}\n                />\n            </form>\n        </QuickRepliesDialog>\n    );\n}\n\nexport default function QuickReplyEdit(props) {\n    const { replyId } = useParams();\n    const state = useQuickReplyEdit(replyId);\n\n    return <PureQuickReplyEdit {...state} {...props} />;\n}\n","import { useEffect, useState } from 'react';\nimport { useHistory, useRouteMatch } from 'react-router';\n\nimport { useActions, useWorkspace } from '@mssgme/hooks';\nimport { resolvePathname } from '@mssgme/helpers';\n\nexport default function useQuickReplyEdit(replyId) {\n    const history = useHistory();\n    const { url } = useRouteMatch();\n    const { api } = useActions();\n    const workspace = useWorkspace();\n    const [redirectTo, setRedirectTo] = useState();\n\n    useEffect(() => {\n        if (redirectTo) {\n            history.push(redirectTo);\n        }\n    }, [redirectTo]);\n\n    const onClose = () => setRedirectTo(resolvePathname(url, '..'));\n\n    let data;\n    let onSubmit;\n    let onRemove;\n\n    if (replyId) {\n        data = workspace.replies.find((reply) => reply._id === replyId);\n        onSubmit = (payload) => api.replies.update({ replyId, payload });\n        onRemove = () => api.replies.delete({ replyId });\n    } else {\n        onSubmit = (payload) => api.replies.create({ payload });\n    }\n\n    return {\n        data,\n        onSubmit,\n        onRemove,\n        onClose,\n    };\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"_9D7d20qF\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport { useRouteMatch, Link } from 'react-router-dom';\n\nimport { DeprecatedPlusIcon } from '@mssgme/icons';\nimport { IconButton } from '@mssgme/ui';\n\nimport QuickRepliesDialog from './QuickRepliesDialog';\nimport QuickReplyItem, { replyType } from './QuickReplyItem';\nimport useQuickReplyList from './useQuickReplyList';\n\nimport styles from './QuickReplyList.scss';\n\nPureQuickReplyList.propTypes = {\n    items: PropTypes.arrayOf(replyType).isRequired,\n    onSelectItem: PropTypes.func,\n    onClose: PropTypes.func,\n};\n\nexport function PureQuickReplyList({ items, onSelectItem, onClose, ...rest }) {\n    const { t } = useTranslation('inbox');\n    const { url } = useRouteMatch();\n\n    const handleSelect = (...args) => {\n        onSelectItem && onSelectItem(...args);\n        onClose && onClose();\n    };\n\n    return (\n        <QuickRepliesDialog\n            title={t('QuickRepliesPopup.title')}\n            buttons={\n                <IconButton as={Link} to={`${url}/new`}>\n                    <DeprecatedPlusIcon size={18} title={t('QuickRepliesPopup.addTip')} />\n                </IconButton>\n            }\n            footer={t('QuickRepliesPopup.footerText')}\n            onClose={onClose}\n            {...rest}\n        >\n            {items.length > 0 && (\n                <ul className={styles.list}>\n                    {items.map((item) => (\n                        <QuickReplyItem data={item} key={item._id} isEdit onSelect={handleSelect} />\n                    ))}\n                </ul>\n            )}\n        </QuickRepliesDialog>\n    );\n}\n\nexport default function QuickReplyList(props) {\n    const state = useQuickReplyList();\n\n    return <PureQuickReplyList {...state} {...props} />;\n}\n","import { useState, useEffect, useCallback } from 'react';\nimport { useRouteMatch, useHistory } from 'react-router-dom';\n\nimport { useWorkspace } from '@mssgme/hooks';\nimport { resolvePathname } from '@mssgme/helpers';\nimport { useEventEmitter } from '@mssgme/ui';\n\nexport default function useQuickReplyList() {\n    const workspace = useWorkspace();\n    const history = useHistory();\n    const { url } = useRouteMatch();\n    const [redirectTo, setRedirectTo] = useState();\n    const ee = useEventEmitter();\n\n    useEffect(() => {\n        if (redirectTo) {\n            history.push(redirectTo);\n        }\n    }, [redirectTo]);\n\n    const items = workspace.replies;\n\n    const onClose = () => setRedirectTo(resolvePathname(url, '..'));\n\n    const onSelectItem = useCallback(({ message }) => {\n        ee.emit('inbox:replySelect', message);\n    }, []);\n\n    return {\n        items,\n        onClose,\n        onSelectItem,\n    };\n}\n","export default __webpack_public_path__ + \"inbox/img/aquaman.png\";","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_11sw18TV\",\"img\":\"_1p_JrHZP\",\"title\":\"_9AwEj8Rn\",\"description\":\"_3OjsScVA\"};","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport aquamanImage from '../../img/aquaman.png';\nimport styles from './styles.scss';\n\nexport const NoConversation = () => {\n    const { t } = useTranslation('inbox');\n\n    return (\n        <div className={styles.root}>\n            <img className={styles.img} src={aquamanImage} alt=\"No Conversations Selected\" />\n            <h2 className={styles.title}>{t('noConversation.heading')}</h2>\n            <p className={styles.description}>{t('noConversation.description')}</p>\n        </div>\n    );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3DkkSk37\",\"main\":\"_2JmjmC7i\"};","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useParams, useRouteMatch, Switch, Route } from 'react-router-dom';\n\nimport { getConversation } from '@mssgme/store';\nimport { useActions, useBooleanHandler, useFetching } from '@mssgme/hooks';\nimport { useBreakpoints } from '@mssgme/ui';\n\nimport {\n    MessageList,\n    MessagesHeader,\n    MessagesFooter,\n    ClientCard,\n    QuickReplyEdit,\n    QuickReplyList,\n    QuickRepliesMatch,\n} from '../UI';\n\nimport styles from './MessagesPage.scss';\n\nexport default function MessagesPage() {\n    const { path } = useRouteMatch();\n    const { contactId } = useParams();\n    const { api } = useActions();\n    const { isBelowDesktop } = useBreakpoints();\n    const [isClientCardOpen, openCard, closeCard] = useBooleanHandler();\n    const conversation = useSelector((state) => getConversation(state, contactId));\n    const readConversation = useFetching(api.conversations.read);\n\n    useEffect(() => {\n        if (!conversation) {\n            void api.conversations.retrieve({ contactId });\n        }\n    }, [conversation]);\n\n    if (!conversation) return null;\n\n    function onRead() {\n        if (!conversation.read) {\n            void readConversation.run({ contactId });\n        }\n    }\n\n    return (\n        <div\n            className={styles.root}\n            key={`contact-${contactId}`}\n            onMouseMove={onRead}\n            onClick={onRead}\n            onKeyPress={onRead}\n        >\n            <Switch>\n                <Route path={path}>\n                    <div className={styles.main} hidden={isClientCardOpen}>\n                        <Switch>\n                            <Route path={`${path}/replies/new`} exact>\n                                <QuickReplyEdit />\n                            </Route>\n                            <Route path={`${path}/replies/:replyId`} exact>\n                                <QuickReplyEdit />\n                            </Route>\n                            <Route path={`${path}/replies`} exact>\n                                <QuickReplyList />\n                            </Route>\n                        </Switch>\n                        <QuickRepliesMatch />\n                        <MessagesHeader openClientCard={openCard} />\n                        <MessageList />\n                        <MessagesFooter />\n                    </div>\n                    {(!isBelowDesktop || isClientCardOpen) && <ClientCard onClose={closeCard} />}\n                </Route>\n            </Switch>\n        </div>\n    );\n}\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport { AboveMobile, Mobile } from '@mssgme/ui';\n\nimport { NoConversation, ConversationsBar } from '../UI';\nimport MessagesPage from './MessagesPage';\n\nexport default function ChatPage() {\n    return (\n        <>\n            <AboveMobile>\n                <ConversationsBar />\n            </AboveMobile>\n            <Switch>\n                <Route path=\"/i/:contactId\" component={MessagesPage} />\n                <Route\n                    render={() => (\n                        <>\n                            <AboveMobile>\n                                <NoConversation />\n                            </AboveMobile>\n                            <Mobile>\n                                <ConversationsBar />\n                            </Mobile>\n                        </>\n                    )}\n                />\n            </Switch>\n        </>\n    );\n}\n","import React from 'react';\nimport { Route, Switch, Redirect, useRouteMatch } from 'react-router-dom';\n\nimport { useWorkspace } from '@mssgme/hooks';\nimport { Feature } from '@mssgme/ui';\n\nimport OnboardPage from './OnboardPage';\nimport ChatPage from './ChatPage';\nimport usePushMessaging from './usePushMessaging';\n\nexport default function InboxPage() {\n    const workspace = useWorkspace();\n    const match = useRouteMatch();\n\n    const hasIntegrations = workspace.integrations.length > 0;\n    const reason = { code: 'inbox', plan: 'pro' };\n\n    usePushMessaging(hasIntegrations);\n\n    return (\n        <Feature rule=\"inbox\" reason={reason} center>\n            <Switch>\n                <Route path={`${match.path}/onboard`} component={OnboardPage} />\n                {hasIntegrations ? (\n                    <Route path={`${match.path}`} component={ChatPage} />\n                ) : (\n                    <Redirect to={`${match.path}/onboard`} />\n                )}\n            </Switch>\n        </Feature>\n    );\n}\n","import { useEffect } from 'react';\nimport { pushMessaging } from '@mssgme/lib';\nimport { useActions } from '@mssgme/hooks';\n\nexport default function usePushMessaging(shouldSubscribe = false) {\n    const { api } = useActions();\n\n    useEffect(() => {\n        async function subscribe() {\n            try {\n                const isGranted = await pushMessaging.askPermission();\n                let subscription = await pushMessaging.getSubscription();\n\n                if (subscription && !isGranted) {\n                    await pushMessaging.unsubscribe();\n                    return;\n                }\n                if (!isGranted) return;\n                if (!subscription) {\n                    subscription = await pushMessaging.subscribe();\n                }\n                if (subscription) {\n                    await api.users.saveMySubscription({ payload: subscription });\n                }\n            } catch (err) {\n                pushMessaging.handleError(err);\n            }\n        }\n\n        if (shouldSubscribe) {\n            subscribe();\n        }\n    }, [shouldSubscribe]);\n}\n","export default __webpack_public_path__ + \"img/telegram2.svg\";","export default __webpack_public_path__ + \"img/onboarding/no_branding.svg\";","export default __webpack_public_path__ + \"img/card/logo.svg\";","import React, { createContext, useState, useContext } from 'react';\nimport { EventEmitter } from 'events';\n\nexport const EventEmitterContext = createContext(new EventEmitter());\n\nexport function EventEmitterProvider({ children }) {\n    const [ee] = useState(() => new EventEmitter());\n\n    return <EventEmitterContext.Provider value={ee}>{children}</EventEmitterContext.Provider>;\n}\n\nexport function useEventEmitter() {\n    return useContext(EventEmitterContext);\n}\n","import uuid from 'uuid/v4';\nimport PropTypes from 'prop-types';\nimport React, { useContext, useMemo, useEffect } from 'react';\nimport { useCookie } from 'react-use';\nimport { str as crc32 } from 'crc-32';\n\nimport { queryString } from '@mssgme/shared';\n\nconst key = '_msab';\nconst expiration = 30;\nconst generateUid = () => `MSAB_${uuid()}`;\n\nexport const ExperimentsContext = React.createContext({ uid: '', experiments: [] });\n\nconst getVariant = (variants, uid) => {\n    if (variants.length > 1) {\n        const sum = variants.reduce((acc, { weight }) => acc + weight, 0);\n        let cohort = Math.abs(crc32(uid)) % sum;\n\n        for (const variant of variants) {\n            cohort -= variant.weight;\n\n            if (cohort < 0) {\n                return variant;\n            }\n        }\n    }\n\n    return variants[0];\n};\n\nconst readVariant = (experiment) => {\n    return queryString.parse(window.location.search)[`_ab_${experiment}`];\n};\n\nexport function useExperiment({ id, experiment: raw }) {\n    const { uid, experiments } = useContext(ExperimentsContext);\n\n    return useMemo(() => {\n        const override = readVariant(raw?.id || id);\n        const experiment = raw || (id && experiments.find((exp) => exp.id === id));\n\n        if (!experiment) {\n            return override;\n        }\n\n        if (override && experiment.variants.find(({ id }) => id === override)) {\n            return override;\n        }\n\n        const variant = getVariant(experiment.variants, uid);\n\n        return variant?.id;\n    }, [uid, experiments]);\n}\n\nexport const ExperimentsProvider = ({ config, children }) => {\n    const [uidCookie, setUid] = useCookie(key);\n    const value = useMemo(() => {\n        const uid = uidCookie || generateUid();\n\n        return {\n            ...config,\n            uid,\n        };\n    }, []);\n\n    useEffect(() => {\n        if (uidCookie !== value.uid) {\n            setUid(value.uid, { expires: expiration });\n        }\n    }, [uidCookie, value.uid]);\n\n    return <ExperimentsContext.Provider value={value}>{children}</ExperimentsContext.Provider>;\n};\n\nExperimentsProvider.propTypes = {\n    config: PropTypes.shape({\n        uid: PropTypes.string,\n        experiments: PropTypes.arrayOf(\n            PropTypes.shape({\n                id: PropTypes.string.isRequired,\n                variants: PropTypes.arrayOf(\n                    PropTypes.shape({\n                        id: PropTypes.string.isRequired,\n                        weight: PropTypes.number.isRequired,\n                    }).isRequired\n                ).isRequired,\n            }).isRequired\n        ).isRequired,\n    }).isRequired,\n};\n","export default __webpack_public_path__ + \"cards/img/logo-white.svg\";","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3RVSwz7L\",\"logo\":\"_1N6CPspF\",\"button\":\"TZdhPGGG\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { useBrandingUrl, useLanguage } from '@mssgme/hooks';\nimport { LinkBlank, useExperiment } from '@mssgme/ui';\nimport logoSrc from '../../../../../img/logo-white.svg';\n\nimport styles from './BrandingTopPane.scss';\n\nexport function BrandingTopPane({ className, animated = false }) {\n    const brandingUrl = useBrandingUrl();\n    const lang = useLanguage();\n    const expId = useExperiment({ id: 'branding' });\n    const buttonText = lang === 'ru' ? 'Создать страницу' : 'Make your page';\n\n    return (\n        <div className={classNames(styles.root, className, styles.slideDown, animated ? styles.animated : null)}>\n            <LinkBlank\n                id=\"legacy-card-branding-logo\"\n                data-experiment={expId}\n                href={brandingUrl}\n                className={styles.logo}\n            >\n                <img src={logoSrc} alt=\"mssg.me logo\" />\n            </LinkBlank>\n            <LinkBlank\n                id=\"legacy-card-branding-link\"\n                data-experiment={expId}\n                href={brandingUrl}\n                className={styles.button}\n            >\n                {buttonText}\n            </LinkBlank>\n        </div>\n    );\n}\n\nBrandingTopPane.propTypes = {\n    className: PropTypes.string,\n    animated: PropTypes.bool,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_17hyIrJX\",\"cover\":\"_1nw4iph5\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { hex2rgb } from '@mssgme/lib';\nimport styles from './styles.scss';\n\nexport const CardHeaderBackground = ({ background }) => {\n    let backgroundImage;\n\n    if (background.type === 'color') {\n        backgroundImage = `linear-gradient(135deg, rgba(${hex2rgb(background.color)}, 1) 0%, rgba(${hex2rgb(\n            background.color\n        )}, .6) 100%)`;\n    } else {\n        backgroundImage = `url(${background.imageUrl})`;\n    }\n\n    return (\n        <div\n            className={classNames(styles.root, { [styles.cover]: background.type === 'image' })}\n            style={{ backgroundImage }}\n        />\n    );\n};\n\nCardHeaderBackground.propTypes = {\n    background: PropTypes.shape({\n        type: PropTypes.oneOf(['color', 'image']).isRequired,\n        color: PropTypes.string,\n        image: PropTypes.string,\n        imageUrl: PropTypes.string,\n    }).isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1i2LOWZW\",\"messengers-list\":\"_3K1476ou\",\"messengersList\":\"_3K1476ou\"};","/* eslint-disable react/no-unknown-property */\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './styles.scss';\n\nexport const CardMessengers = ({ children, placement = 'card' }) => {\n    const arr = React.Children.toArray(children);\n\n    return (\n        <div className={styles.root}>\n            <ul className={styles.messengersList} count={children.length} id={`${placement}_messengers`}>\n                {arr.map((item, index) => (\n                    <li key={index}>{item}</li>\n                ))}\n            </ul>\n        </div>\n    );\n};\n\nCardMessengers.propTypes = {\n    children: PropTypes.any,\n    placement: PropTypes.string,\n};\n","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18.2 11.3c-.5-.5-2.7-2.1-7.5-2.1 0 0-5.7-.3-8.5 2.2C.6 13 .1 15.2 0 18c0 2.8-.1 8.1 5 9.5v2.2s0 .9.5 1.1c.7.2 1.1-.5 1.8-1.2.4-.4.9-1 1.3-1.4 3.5.3 6.1-.4 6.4-.5.7-.2 4.7-.7 5.3-6 .7-5.4-.3-8.9-2.1-10.4m.6 10c-.5 4.4-3.8 4.7-4.4 4.9-.3.1-2.6.7-5.5.5 0 0-2.2 2.6-2.9 3.3-.1.1-.2.2-.3.1-.1 0-.2-.2-.1-.4v-3.6c-4.3-1.2-4-5.7-4-8s.5-4.3 1.8-5.6c2.4-2.1 7.2-1.8 7.2-1.8 4.1 0 6 1.2 6.5 1.7 1.5 1.3 2.2 4.4 1.7 8.9\"\n});\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.6 18.2c-.1 0-.3-.1-.3-.3 0-.9-.5-1.4-1.4-1.4-.2 0-.3-.1-.3-.3 0-.2.1-.3.3-.3 1.2.1 1.8.7 1.9 1.9.1.2 0 .4-.2.4\"\n});\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14 18.7c-.2 0-.3-.1-.3-.3 0-.9-.2-1.7-.8-2.3-.6-.6-1.3-1-2.4-1-.2 0-.3-.1-.3-.3 0-.2.1-.3.3-.3 1.2.1 2.1.5 2.7 1.2.7.7 1 1.6 1 2.7.1.1 0 .3-.2.3\"\n});\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.5 19.2c-.1 0-.3-.1-.3-.3 0-1.7-.5-2.9-1.5-3.9-1-.9-2.2-1.4-3.6-1.4-.2 0-.3-.1-.3-.3 0-.2.1-.3.3-.3 1.6 0 2.9.5 4 1.6 1.1 1 1.6 2.5 1.6 4.3 0 .2-.1.3-.2.3zM11.1 21.6s.4 0 .6-.2l.4-.5c.2-.3.7-.4 1.1-.2.3.1.7.4 1 .6.3.2.9.7.9.7.3.3.4.6.2 1s-.5.7-.8 1c-.3.2-.6.4-.9.4h-.1c-.1 0-.2 0-.4-.1-.4-.1-1.1-.4-2.3-1.1-.8-.4-1.4-.9-2-1.3-.3-.2-.6-.5-.9-.8-.3-.3-.6-.6-.8-.9-.4-.5-.9-1.2-1.3-2-.7-1.2-1-1.9-1.1-2.3 0-.1-.1-.2-.1-.4v-.1c0-.3.2-.6.4-.9.3-.4.7-.6 1-.8.4-.2.8-.1 1 .2 0 0 .5.6.7.9.2.3.5.7.6 1 .3.5.1.9-.2 1.1l-.5.4c-.1.3-.1.7-.1.7s.7 2.9 3.6 3.6\"\n});\nfunction SvgViber(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"-0.7 9 22 22\"\n  }, props), _ref, _ref2, _ref3, _ref4);\n}\nexport default SvgViber;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18.3 10.9s2.9-4.1 3.2-5.4c.1-.5-.1-.7-.6-.7h-2.5c-.6 0-.8.2-1 .6 0 0-1.4 2.9-3 4.7-.5.6-.8.8-1.1.8-.2 0-.3-.2-.3-.7V5.5c0-.7-.1-.8-.6-.8h-4c-.3 0-.5.2-.5.4 0 .6.9.8.9 2.4v3.4c0 .7 0 1-.4 1-.9 0-2.9-3-4.1-6.4-.2-.7-.5-.9-1.1-.9H.6c-.4 0-.6.2-.6.6 0 .7.8 3.8 3.9 7.9 2.1 2.8 4.8 4.3 7.3 4.3 1.5 0 1.9-.2 1.9-.9v-2.2c0-.5.2-.8.5-.8s1 .1 2.4 1.5c1.7 1.6 1.8 2.3 2.7 2.3h2.8c.3 0 .6-.1.6-.6 0-.6-.8-1.8-2.1-3.1-.5-.7-1.4-1.4-1.6-1.8-.5 8.7-.4 8.5-.1 8.1\"\n});\nfunction SvgVk(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 22 22\"\n  }, props), _ref);\n}\nexport default SvgVk;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.57 10.532l7.034 5.197c.802.443 1.382.214 1.582-.745l2.863-13.493C19.342.316 18.6-.217 17.833.131L1.02 6.616C-.128 7.075-.121 7.715.81 8l4.315 1.347 9.99-6.302c.47-.286.903-.132.548.183\"\n});\nfunction SvgTelegramNew(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"-0.5 -2 20 20\"\n  }, props), _ref);\n}\nexport default SvgTelegramNew;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21.2 21.8v.1-.2.1c.1-.6.2-1.3.2-1.9 0-1.4-.3-2.8-.8-4-.5-1.2-1.3-2.3-2.2-3.3-1-1-2.1-1.7-3.3-2.2-1.3-.5-2.6-.8-4-.8-.7 0-1.3.1-2 .2 0 0 .1 0 .1.1H9h.1C8.2 9.3 7.2 9 6.2 9c-1.7 0-3.2.7-4.4 1.8C.6 12 0 13.5 0 15.2c0 1 .3 2.1.8 3v-.1.2s0-.1-.1-.1c-.1.6-.2 1.2-.2 1.8 0 1.4.3 2.8.8 4 .5 1.2 1.3 2.3 2.2 3.3 1 1 2.1 1.7 3.3 2.2 1.3.5 2.6.8 4 .8.6 0 1.2-.1 1.8-.2 0 0-.1 0-.1-.1h.1c.9.5 2 .8 3 .8 1.6 0 3.2-.6 4.3-1.8 1.2-1.2 1.8-2.7 1.8-4.3.3-.9 0-2-.5-2.9zM11 26.3c-3.7 0-5.3-1.8-5.3-3.2 0-.7.5-1.2 1.2-1.2 1.6 0 1.2 2.3 4.1 2.3 1.5 0 2.3-.8 2.3-1.7 0-.5-.2-1.1-1.2-1.3l-3.3-.8c-2.6-.7-3.1-2.1-3.1-3.4 0-2.8 2.6-3.8 5.1-3.8 2.3 0 5 1.3 5 2.9 0 .7-.6 1.1-1.3 1.1-1.3 0-1.1-1.9-3.8-1.9-1.3 0-2.1.6-2.1 1.5s1.1 1.1 2 1.4l2.4.5c2.7.6 3.3 2.1 3.3 3.6 0 2.3-1.7 4-5.3 4zm1.7 3.8s.1 0 .1.1h.1l-.2-.1zm8.5-8.2v-.1s0-.1-.1-.1l.1.2zM.8 18v.1s0 .1.1.1L.8 18zm8.3-8.2s-.1 0-.1-.1h-.1l.2.1z\"\n});\nfunction SvgSkype(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"-0.1 8.9 22 22\"\n  }, props), _ref);\n}\nexport default SvgSkype;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.2 28.8c-2.8 0-5-1.5-5-1.5l-3.4 1.1 1.1-3.3s-1.8-2.5-1.8-5.4c0-5 4.1-9.1 9.1-9.1s9.1 4.1 9.1 9.1-4.1 9.1-9.1 9.1zm0-19.9C5.2 8.9.4 13.8.4 19.7c0 3 1.6 5.6 1.6 5.6l-2 5.8 5.9-1.9s2.2 1.3 5.2 1.3c6 0 10.8-4.9 10.8-10.8S17.1 8.9 11.2 8.9z\"\n});\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 15s.3-.2.4-.2h.9s.2 0 .3.3c.1.2.8 1.9.9 2.1.1.1.2.5 0 .7-.2.3-.7.8-.7.8s-.2.2 0 .4c.2.3.7 1.1 1.5 1.8.7.7 1.6 1.2 2.1 1.3.5.1.6 0 .7-.3.2-.2.7-.9.7-.9s.2-.3.6-.1c.4.2 2.1 1 2.1 1s.2 0 .2.3c0 .2.2 1-.5 1.7-.6.7-2 1-2.7.8-.6-.2-2.8-.7-4.2-2-1.4-1.3-2.5-2.7-3-3.7-.4-1-.3-1.6-.3-1.8 0-.3.2-1.6 1-2.2\"\n});\nfunction SvgWhatsapp(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 9 22 22\"\n  }, props), _ref, _ref2);\n}\nexport default SvgWhatsapp;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.7 9.8c-1.7.1-3.3.5-4.6 1.2-.2.1-.3.2-.3.2l-1.2.8c-4.5 3.6-4.9 10.6-.8 14.7l.4.4c.3.3.3.4.3 1.4 0 1.3 0 1.4.3 1.6.3.3.6.3 1.2.1.4-.2 1.8-.8 1.9-.8.2-.1.3 0 .7 0 2.3.6 4.7.4 6.9-.4 4.4-1.8 6.8-6.2 6-11-1-5.1-5.5-8.5-10.8-8.2m6.6 6.9c.4.2.3.3-.4 1.6-.3.5-.7 1.2-1 1.5-.2.3-.5.8-.6.9-.4.6-.6 1-.8 1.2-.4.6-.8.9-1.4.9-.6 0-.5 0-2-1.1s-1.4-1.1-1.6-1.1c-.3-.1-.3-.1-1.3.7-2.4 1.9-2.5 1.9-2.6 1.9-.3 0-.6-.2-.6-.5 0-.2 0-.2.3-.6.2-.1.3-.3.7-.9.1-.1.2-.3.3-.4.1-.1.2-.3.3-.4.1-.1.3-.4.4-.7.2-.3.4-.7.6-.9.1-.3.3-.7.4-.8.4-.6.8-.8 1.4-.8.5 0 .5 0 2.1 1.2 1.4 1 1.4 1 1.6 1 .2 0 .1.1 2.5-1.8 1.3-1 1.4-1.1 1.7-.9\"\n});\nfunction SvgMessengerNew(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"-0.7 9 22 22\"\n  }, props), _ref);\n}\nexport default SvgMessengerNew;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.345 11.865c2.762 0 3.09.01 4.181.06 2.804.128 4.113 1.458 4.24 4.24.05 1.091.06 1.419.06 4.18 0 2.764-.01 3.09-.06 4.181-.128 2.78-1.434 4.113-4.24 4.24-1.091.05-1.417.061-4.181.061-2.762 0-3.09-.01-4.18-.06-2.81-.129-4.113-1.465-4.24-4.242-.05-1.09-.061-1.417-.061-4.18 0-2.762.011-3.089.06-4.18.129-2.782 1.435-4.113 4.24-4.24 1.092-.05 1.419-.06 4.181-.06zm0-1.865c-2.81 0-3.161.012-4.265.062C2.323 10.235.235 12.32.063 16.08.013 17.184 0 17.535 0 20.345s.012 3.162.062 4.266c.172 3.756 2.257 5.845 6.017 6.017 1.105.05 1.456.062 4.266.062s3.162-.012 4.266-.062c3.753-.172 5.846-2.257 6.016-6.017.05-1.104.063-1.457.063-4.266 0-2.81-.012-3.161-.062-4.265-.169-3.753-2.256-5.845-6.017-6.017-1.104-.05-1.457-.063-4.266-.063zm0 5.033a5.312 5.312 0 100 10.625 5.312 5.312 0 000-10.625zm0 8.76a3.448 3.448 0 110-6.896 3.448 3.448 0 010 6.896zm5.522-10.211a1.242 1.242 0 100 2.484 1.242 1.242 0 000-2.484z\"\n});\nfunction SvgInstagram(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"-0.7 9.4 22 22\"\n  }, props), _ref);\n}\nexport default SvgInstagram;","import viber from '../icons/messengers/viber.svg';\nimport vk from '../icons/messengers/vk.svg';\nimport telegram from '../icons/messengers/telegram-new.svg';\nimport line from '../icons/messengers/skype.svg';\nimport skype from '../icons/messengers/skype.svg';\nimport whatsapp from '../icons/messengers/whatsapp.svg';\nimport messenger from '../icons/messengers/messenger_new.svg';\nimport instagram from '../icons/messengers/instagram.svg';\n\nexport default {\n    viber,\n    vk,\n    telegram,\n    line,\n    skype,\n    whatsapp,\n    messenger,\n    instagram,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1z9n_2jR\",\"messenger\":\"_2jHQlwMo\",\"whatsapp\":\"_3WurcoaT\",\"telegram\":\"_305wydrI\",\"vk\":\"_2Fi6oBbw\",\"skype\":\"_20c5-Sc-\",\"viber\":\"_2bUQepOh\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { ua } from '@mssgme/helpers';\nimport { MESSENGERS } from '@mssgme/shared';\nimport { messengerIcons } from '@mssgme/ui';\nimport styles from './styles.scss';\n\nexport class MessengerButton extends React.Component {\n    static propTypes = {\n        platform: PropTypes.oneOf(MESSENGERS).isRequired,\n        onClick: PropTypes.func,\n        className: PropTypes.string,\n    };\n\n    handleClick = (e) => {\n        const { onClick } = this.props;\n\n        if (onClick) return onClick(e);\n\n        if (ua.Android) {\n            e.preventDefault();\n\n            const { currentTarget } = e;\n            const href = currentTarget.href;\n\n            window.open(href);\n        }\n    };\n\n    render() {\n        const { platform, className, ...rest } = this.props;\n        const Icon = messengerIcons[platform];\n\n        return (\n            <a\n                className={classNames(styles.root, styles[platform], className)}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                {...rest}\n                onClick={this.handleClick}\n            >\n                <Icon />\n                <span />\n            </a>\n        );\n    }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1sx8vp36\",\"slideDown\":\"_2lxLLtfL\",\"animated\":\"_2up6UFXG\",\"user-info-container\":\"_6qClcIco\",\"userInfoContainer\":\"_6qClcIco\",\"user-photo\":\"_35Pu2Bti\",\"userPhoto\":\"_35Pu2Bti\",\"user-name-category\":\"_1aduFP8G\",\"userNameCategory\":\"_1aduFP8G\",\"description\":\"_3XIHxQX0\",\"expandBtn\":\"_3FsO9GRV\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { ua, generateDeepLink } from '@mssgme/helpers';\nimport { __t } from '@mssgme/shared';\nimport { CardMessengers } from '../CardMessengers';\nimport { MessengerButton } from '../MessengerButton';\n\nimport styles from './styles.scss';\n\nconst excerptLength = 90;\nconst getExcerpt = (string) => (string.length > excerptLength ? `${string.slice(0, excerptLength)}...` : string);\n\nexport class CardMessengersPane extends Component {\n    static propTypes = {\n        photo: PropTypes.string,\n        fullName: PropTypes.string,\n        category: PropTypes.string,\n        messengers: PropTypes.array,\n        animated: PropTypes.bool,\n        description: PropTypes.string,\n    };\n\n    constructor(props) {\n        super(props);\n        const { description } = this.props;\n\n        this.state = {\n            excerpt: description.length > excerptLength,\n        };\n    }\n\n    toggleDescription = () => {\n        this.setState({\n            excerpt: !this.state.excerpt,\n        });\n    };\n\n    render() {\n        const { photo, fullName, category, messengers, animated, description } = this.props;\n        const mesProps = messengers.map((m) => ({\n            platform: m.messenger,\n            href: ua.isMobile ? generateDeepLink(m).getUrl() : m.redirectUrl,\n        }));\n\n        return (\n            <div className={classNames(styles.root, styles.slideDown, animated ? styles.animated : null)}>\n                <div className={styles.userInfoContainer}>\n                    <div className={styles.userPhoto}>\n                        <img src={photo} alt={fullName} />\n                    </div>\n                    <div className={styles.userNameCategory}>\n                        <div>\n                            <h1>{fullName}</h1>\n                            {/* {category !== 'category_not_business' && <p>{__t(category)}</p>} */}\n                        </div>\n                    </div>\n                </div>\n                {description && (\n                    <div className={styles.description} onClick={this.toggleDescription}>\n                        <p>{description}</p>\n                    </div>\n                )}\n                {messengers.length > 0 && (\n                    <CardMessengers>\n                        {mesProps.map((props) => (\n                            <MessengerButton key={props.platform} data-messenger={props.platform} {...props} />\n                        ))}\n                    </CardMessengers>\n                )}\n            </div>\n        );\n    }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"sHSpJqEd\",\"slideDown\":\"zf-7yuVy\",\"animated\":\"_3Ec8iWmI\",\"links-list\":\"_3zCqEmUk\",\"linksList\":\"_3zCqEmUk\",\"heading\":\"hE_Bg_Fd\",\"burger\":\"_2XV8vJVy\",\"iconLink\":\"LY_dHjLp\",\"iconGlobe\":\"_1Y5jA5l1\",\"linkEllipsis\":\"_100juL6J\",\"linkTip\":\"_2Y0mzX8d\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { parseUrl, urlSafeComponent } from '@mssgme/helpers';\nimport { __t, prettifyUrl } from '@mssgme/shared';\nimport { LinkBlank } from '@mssgme/ui';\nimport styles from './styles.scss';\n\nexport class CardLinks extends Component {\n    static propTypes = {\n        links: PropTypes.array.isRequired,\n        animated: PropTypes.bool,\n        showActionSheet: PropTypes.func,\n        website: PropTypes.object,\n    };\n\n    render() {\n        const { links, animated, showActionSheet, website } = this.props;\n        const isMenuBtn = links.length > 1;\n        const isSingleCustomLink = links.length === 1;\n        const urlObj = website && website.enabled && parseUrl(website.url);\n\n        return (\n            <div className={classNames(styles.root, styles.slideDown, animated ? styles.animated : null)}>\n                <ul className={styles.linksList} id=\"card_list\">\n                    {!!urlObj && (\n                        <li>\n                            <LinkBlank\n                                href={website.url}\n                                data-id=\"website_link\"\n                                data-title={__t('website_link_title')}\n                                data-element=\"custom-link\"\n                                data-event-name={urlSafeComponent(website.url)}\n                            >\n                                <div>\n                                    {website.title || __t('visit_website')}\n                                    <span className={styles.linkTip}>{prettifyUrl(website.url)}</span>\n                                </div>\n                            </LinkBlank>\n                        </li>\n                    )}\n                    {isMenuBtn && (\n                        <li onClick={showActionSheet}>\n                            <span>\n                                <span className={styles.linkEllipsis}>{__t('menu_links')}</span>\n                                <div className={styles.burger}>\n                                    <div />\n                                    <div />\n                                    <div />\n                                </div>\n                            </span>\n                        </li>\n                    )}\n                    {isSingleCustomLink &&\n                        links.map(({ _id, redirectUrl, title, url }) => (\n                            <li key={_id}>\n                                <LinkBlank\n                                    href={redirectUrl}\n                                    data-id={_id}\n                                    data-title={title}\n                                    data-element=\"custom-link\"\n                                    data-event-name={urlSafeComponent(url)}\n                                >\n                                    <span className={styles.linkEllipsis}>{title}</span>\n                                    {/*<LinkIcon className={styles.iconLink}/>*/}\n                                </LinkBlank>\n                            </li>\n                        ))}\n                </ul>\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport { Notification } from '@mssgme/ui';\nimport styles from './styles.scss';\n\nexport class CardReviewNotificationModal extends React.Component {\n    el = document.createElement('div');\n\n    static propTypes = {\n        closeModalFn: PropTypes.func.isRequired,\n        message: PropTypes.string.isRequired,\n        btnStyle: PropTypes.string.isRequired,\n    };\n\n    componentDidMount() {\n        const modalRoot = document.getElementById('cardRoot');\n        modalRoot.appendChild(this.el);\n    }\n\n    componentWillUnmount() {\n        const modalRoot = document.getElementById('cardRoot');\n        modalRoot.removeChild(this.el);\n    }\n\n    render() {\n        const { closeModalFn, message, btnStyle } = this.props;\n\n        return ReactDOM.createPortal(\n            <div className={styles.root}>\n                <div className={styles.content}>\n                    <Notification notifyStyle={btnStyle} showClose closeDelay={3000} onClose={closeModalFn}>\n                        {message}\n                    </Notification>\n                </div>\n            </div>,\n            this.el\n        );\n    }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3Zu8nPmY\",\"opacity\":\"_2A9X2lka\",\"modalPane\":\"_2_cGBWbV\",\"reveal\":\"_1IyGuaHR\",\"header\":\"_3ruYpCoi\",\"green\":\"_2CbEBJV_\",\"red\":\"_2Lwdrshj\",\"commentArea\":\"hwNEDYxk\",\"footer\":\"b9vYw7Sc\",\"footerMeta\":\"A0vbuxVg\",\"closeButton\":\"F6VAyLRi\"};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { IoIosClose } from 'react-icons/io';\n\nimport { Button } from '@mssgme/ui';\nimport { __t } from '@mssgme/shared';\nimport styles from './styles.scss';\n\nexport class CardReviewRecommendModal extends React.Component {\n    el = document.createElement('div');\n\n    static propTypes = {\n        recommend: PropTypes.bool.isRequired,\n        fullName: PropTypes.string.isRequired,\n        closeModalFn: PropTypes.func.isRequired,\n        onSubmit: PropTypes.func,\n        minLength: PropTypes.number,\n        maxLength: PropTypes.number,\n    };\n\n    static defaultProps = {\n        minLength: 25,\n        maxLength: 2000,\n    };\n\n    state = {\n        message: '',\n    };\n\n    handleChange = (e) => {\n        const value = e.target.value;\n\n        this.setState({ message: value });\n    };\n\n    componentDidMount() {\n        const modalRoot = document.getElementById('cardRoot');\n        modalRoot.appendChild(this.el);\n    }\n\n    componentWillUnmount() {\n        const modalRoot = document.getElementById('cardRoot');\n        modalRoot.removeChild(this.el);\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        const { onSubmit, recommend } = this.props;\n        const { message } = this.state;\n\n        onSubmit({ recommend, message });\n    };\n\n    render() {\n        const { recommend, fullName, closeModalFn, maxLength, minLength } = this.props;\n        const { message } = this.state;\n        const normalizedMessage = message.trim();\n\n        return ReactDOM.createPortal(\n            <div className={styles.root}>\n                <form className={styles.modalPane} onSubmit={this.handleSubmit}>\n                    <div className={classNames(styles.header, recommend ? styles.green : styles.red)}>\n                        <h1>{fullName}</h1>\n                        <span className={styles.closeButton} onClick={closeModalFn}>\n                            <IoIosClose size={32} color=\"#fff\" />\n                        </span>\n                    </div>\n                    <textarea\n                        className={styles.commentArea}\n                        name=\"message\"\n                        onChange={this.handleChange}\n                        value={message}\n                        maxLength={maxLength}\n                        placeholder={__t('what_recommend', [fullName])}\n                    />\n                    <div className={styles.footer}>\n                        <span className={styles.footerMeta}>\n                            {__t('minimum_characters', [normalizedMessage.length])}\n                        </span>\n                        <Button\n                            data-btn=\"sendReviewButton\"\n                            type=\"submit\"\n                            disabled={normalizedMessage.length < minLength}\n                            size=\"small\"\n                            btnStyle=\"primary\"\n                        >\n                            {__t('send')}\n                        </Button>\n                    </div>\n                </form>\n            </div>,\n            this.el\n        );\n    }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"uPKAViLu\",\"heading\":\"_2pnMnhRy\",\"counterBlock\":\"RIAW4QfJ\",\"counter\":\"_14oSbjuc\",\"green\":\"_2Q-iTf6H\",\"red\":\"_1POV42yd\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { __t } from '@mssgme/shared';\nimport styles from './styles.scss';\n\nexport const CardReviewsPaneHeader = ({ reviewsCountAll, reviewsCountPositive, reviewsCountNegative }) => (\n    <div className={styles.root}>\n        <h6 className={styles.heading}>{__t('reviews', [reviewsCountAll])}</h6>\n        <div className={styles.counterBlock}>\n            <span className={classNames(styles.counter, styles.green)}>{reviewsCountPositive}</span>\n            <span className={classNames(styles.counter, styles.red)}>{reviewsCountNegative}</span>\n        </div>\n    </div>\n);\n\nCardReviewsPaneHeader.propTypes = {\n    reviewsCountAll: PropTypes.number.isRequired,\n    reviewsCountPositive: PropTypes.number.isRequired,\n    reviewsCountNegative: PropTypes.number.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"eE6Tc1jS\",\"heading\":\"t2c1u8kn\",\"buttonsContainer\":\"F5GfKszI\",\"button\":\"_332hQ89W\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { __t } from '@mssgme/shared';\nimport styles from './styles.scss';\n\nexport class CardReviewRecommend extends React.Component {\n    static propTypes = {\n        fullName: PropTypes.string.isRequired,\n        onRecommend: PropTypes.func,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            fbLoggedIn: false,\n            fbUserHasComment: false,\n        };\n    }\n\n    handleClick(value, e) {\n        e.preventDefault();\n\n        const { onRecommend } = this.props;\n        onRecommend && onRecommend(value);\n    }\n\n    render() {\n        const { fullName } = this.props;\n\n        return (\n            <div className={styles.root}>\n                <span className={styles.heading}>{__t('reviews_recommend', [fullName])}</span>\n                <div className={styles.buttonsContainer}>\n                    <span onClick={this.handleClick.bind(this, true)} className={styles.button} data-recommend>\n                        {__t('yes')}\n                    </span>\n                    <span onClick={this.handleClick.bind(this, false)} className={styles.button} data-recommend={false}>\n                        {__t('no')}\n                    </span>\n                </div>\n            </div>\n        );\n    }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1zPBayRs\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './styles.scss';\n\nexport const CardReviewsList = ({ children }) => <ul className={styles.root}>{children}</ul>;\n\nCardReviewsList.propTypes = {\n    children: PropTypes.any,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3eLc1XgJ\",\"disabled\":\"eY1JJ0SK\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { __t } from '@mssgme/shared';\nimport styles from './styles.scss';\n\nexport const CardMoreButton = ({ disabled, className, ...rest }) => (\n    <span className={classNames(styles.root, { [styles.disabled]: disabled }, className)} {...rest}>\n        {__t('show_more')}\n    </span>\n);\n\nCardMoreButton.propTypes = {\n    disabled: PropTypes.bool.isRequired,\n    className: PropTypes.string,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3Ubd572U\",\"avatarContainer\":\"_4N02b_ci\",\"commentContent\":\"_1bJNWsVF\",\"name\":\"_16Ct-Vl5\",\"date\":\"_38rCC854\",\"green\":\"_1K_cbrmy\",\"red\":\"_2W5YsS-K\",\"comment\":\"_3SB33aqP\",\"deleteButton\":\"_27o2orrE\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport dateFormat from 'dateformat';\nimport { FaRegTrashAlt } from 'react-icons/fa';\n\nimport styles from './styles.scss';\n\nexport class CardReviewsItem extends React.Component {\n    static propTypes = {\n        review: PropTypes.object.isRequired,\n        onDelete: PropTypes.func,\n    };\n\n    render() {\n        const { review, onDelete } = this.props;\n\n        return (\n            <li className={styles.root}>\n                <div className={styles.avatarContainer}>\n                    <img src={review.author.avatarUrl} alt={review.author.name} />\n                </div>\n                <div className={styles.commentContent}>\n                    <span className={styles.name}>{review.author.name}</span>\n                    <span className={classNames(styles.date, review.recommend ? styles.green : styles.red)}>\n                        {dateFormat(review.createdAt, 'dd.mm.yyyy HH:MM')}\n                    </span>\n                    <p className={styles.comment}>{review.message}</p>\n                    {onDelete && (\n                        <span className={styles.deleteButton} onClick={onDelete}>\n                            <FaRegTrashAlt size={16} color=\"#8E8E93\" />\n                        </span>\n                    )}\n                </div>\n            </li>\n        );\n    }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1vsLlLAa\",\"opacity\":\"_3l-LfrE-\",\"pane\":\"_1B9KO0nB\",\"reveal\":\"HrPCoha_\",\"closeButton\":\"_1-aK0I6F\"};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { IoIosClose } from 'react-icons/io';\nimport styles from './styles.scss';\n\nexport class CardReviewMessageModal extends React.Component {\n    el = document.createElement('div');\n\n    static propTypes = {\n        closeModalFn: PropTypes.func.isRequired,\n        children: PropTypes.any.isRequired,\n    };\n\n    componentDidMount() {\n        const modalRoot = document.getElementById('cardRoot');\n        modalRoot.appendChild(this.el);\n    }\n\n    componentWillUnmount() {\n        const modalRoot = document.getElementById('cardRoot');\n        modalRoot.removeChild(this.el);\n    }\n\n    render() {\n        const { closeModalFn, children } = this.props;\n\n        return ReactDOM.createPortal(\n            <div className={styles.root}>\n                <div className={styles.pane}>\n                    {children}\n                    <span className={styles.closeButton} onClick={closeModalFn}>\n                        <IoIosClose size={32} color=\"#000\" />\n                    </span>\n                </div>\n            </div>,\n            this.el\n        );\n    }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2NV4CR3z\",\"slideDown\":\"_3zuNj_GH\",\"animated\":\"_2dn2HwUt\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { handleError } from '@mssgme/lib';\nimport { __t } from '@mssgme/shared';\nimport { Spinner, Button } from '@mssgme/ui';\n\nimport { CardReviewsPaneHeader } from '../CardReviewsPaneHeader';\nimport { CardReviewRecommend } from '../CardReviewRecommend';\nimport { CardReviewsList } from '../CardReviewsList';\nimport { CardMoreButton } from '../../CardMoreButton';\nimport { CardReviewsItem } from '../CardReviewItem';\nimport { CardReviewMessageModal } from '../CardReviewMessageModal';\n\nimport styles from './styles.scss';\n\nexport default class CardReviewsPane extends React.Component {\n    static propTypes = {\n        animated: PropTypes.bool,\n        reviews: PropTypes.array.isRequired,\n        myReviews: PropTypes.array,\n        recommends: PropTypes.array,\n        fullName: PropTypes.string.isRequired,\n        isFetching: PropTypes.bool.isRequired,\n        hasNext: PropTypes.bool.isRequired,\n        children: PropTypes.any,\n        isLoaded: PropTypes.bool,\n        actions: PropTypes.shape({\n            loadMore: PropTypes.func,\n            onDelete: PropTypes.func,\n            onRecommend: PropTypes.func,\n        }),\n    };\n\n    static defaultProps = {\n        isLoaded: true,\n        actions: {},\n    };\n\n    state = {\n        confirmIsOpen: false,\n        confirmCallback: null,\n    };\n\n    confirm = (message, callback) => (e) => {\n        e.preventDefault();\n\n        this.setState({\n            confirmMessage: message,\n            confirmIsOpen: true,\n            confirmCallback: callback,\n        });\n    };\n\n    onCancel = (e) => {\n        e.preventDefault();\n\n        this.setState({ confirmIsOpen: false });\n    };\n\n    onConfirm = async (e) => {\n        e.preventDefault();\n\n        try {\n            await this.state.confirmCallback();\n            this.setState({ confirmIsOpen: false });\n        } catch (err) {\n            handleError(err);\n        }\n    };\n\n    render() {\n        const {\n            animated,\n            reviews,\n            myReviews,\n            fullName,\n            isFetching,\n            hasNext,\n            recommends,\n            actions,\n            children,\n            isLoaded,\n        } = this.props;\n        const { confirmIsOpen, confirmMessage } = this.state;\n\n        let content;\n\n        if (isLoaded) {\n            const ids = myReviews.map(({ _id }) => _id);\n            const _reviews = reviews.reduce((list, review) => {\n                if (ids.indexOf(review._id) === -1) {\n                    list.push(<CardReviewsItem key={review._id} review={review} />);\n                }\n                return list;\n            }, []);\n\n            content = (\n                <>\n                    {recommends && (\n                        <CardReviewsPaneHeader\n                            reviewsCountAll={recommends[0] + recommends[1]}\n                            reviewsCountPositive={recommends[0]}\n                            reviewsCountNegative={recommends[1]}\n                        />\n                    )}\n                    {myReviews.length === 0 && (\n                        <>\n                            <CardReviewRecommend onRecommend={actions.onRecommend} fullName={fullName} />\n                        </>\n                    )}\n                    <CardReviewsList>\n                        <>\n                            {myReviews.map((review) => (\n                                <CardReviewsItem\n                                    key={review._id}\n                                    review={review}\n                                    onDelete={this.confirm(__t('want_delete_review'), () => actions.onDelete(review))}\n                                />\n                            ))}\n                            {_reviews}\n                        </>\n                    </CardReviewsList>\n                    {reviews.length > 0 && <CardReviewsList items={reviews} />}\n                    {hasNext && <CardMoreButton onClick={actions.loadMore} disabled={isFetching} />}\n                    {confirmIsOpen && (\n                        <CardReviewMessageModal closeModalFn={this.onCancel}>\n                            <h1>{confirmMessage}</h1>\n                            <Button btnStyle=\"secondary\" outline size=\"small\" onClick={this.onCancel}>\n                                {__t('cancel')}\n                            </Button>\n                            <Button btnStyle=\"danger\" size=\"small\" onClick={this.onConfirm}>\n                                {__t('delete')}\n                            </Button>\n                        </CardReviewMessageModal>\n                    )}\n                    {children}\n                </>\n            );\n        } else {\n            content = <Spinner />;\n        }\n\n        return (\n            <div className={classNames(styles.root, styles.slideDown, animated ? styles.animated : null)}>\n                {content}\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { IoLogoFacebook } from 'react-icons/io';\n\nimport { __t } from '@mssgme/shared';\nimport { handleError, facebookApiAdapter, reviewsApi } from '@mssgme/lib';\nimport { Button, Notification } from '@mssgme/ui';\n\nimport { CardReviewRecommendModal } from '../CardReviewRecommendModal';\nimport { CardReviewMessageModal } from '../CardReviewMessageModal';\nimport CardReviewsPane from './component';\n\nfunction normalize(review) {\n    review.createdAt = new Date(review.createdAt);\n    review.updatedAt = new Date(review.updatedAt);\n\n    return review;\n}\n\nexport default class CardReviewsPaneContainer extends React.Component {\n    static propTypes = {\n        workspaceId: PropTypes.string.isRequired,\n        previewMode: PropTypes.bool,\n        fullName: PropTypes.string,\n    };\n\n    state = {\n        reviews: [],\n        next: null,\n        isFetching: true,\n        isLoaded: false,\n        hasNext: false,\n        recommends: null,\n        recommend: true,\n        isAuthenticated: false,\n        facebookId: null,\n        myReviews: [],\n        showModals: {\n            review: false,\n            login: false,\n            notify: false,\n            confirm: false,\n            success: false,\n        },\n    };\n\n    async componentDidMount() {\n        await this.init();\n    }\n\n    async init() {\n        try {\n            this.fbApi = await facebookApiAdapter();\n\n            await this.checkStatus();\n            await Promise.all([this.loadReviews(), this.loadMyReviews()]);\n\n            this.setState({ isLoaded: true });\n        } catch (e) {\n            handleError(e);\n        }\n    }\n\n    checkStatus = async () => {\n        const json = await this.handleAuthRequest(this.fbApi.getLoginStatus());\n        this.setState(json);\n    };\n\n    handleLoginClick = async (e) => {\n        e.preventDefault();\n\n        try {\n            let json = await this.handleAuthRequest(this.fbApi.login({ scope: 'public_profile,email' }));\n            this.setState({ json });\n\n            if (json.isAuthenticated) {\n                json = await this.loadMyReviews();\n\n                this.showModal(json.length > 0 ? 'notify' : 'review');\n            }\n        } catch (e) {\n            handleError(e);\n        }\n    };\n\n    handleAuthRequest = async (promise) => {\n        let { status, authResponse } = await promise;\n\n        if (status === 'connected') {\n            reviewsApi.accessToken = authResponse.accessToken;\n            setTimeout(this.checkStatus, authResponse.expiresIn * 1000);\n\n            return { isAuthenticated: true, facebookId: authResponse.userID };\n        } else {\n            reviewsApi.accessToken = null;\n            return { isAuthenticated: false, facebookId: null };\n        }\n    };\n\n    loadReviews = async () => {\n        const { next, hasNext, recommends } = this.state;\n        const { workspaceId } = this.props;\n        const urlSearchParams = {};\n\n        if (next && hasNext) urlSearchParams.next = next;\n        if (!recommends) {\n            urlSearchParams.withRecommends = true;\n        }\n\n        this.setState({ isFetching: true });\n\n        const json = await reviewsApi.list(workspaceId, urlSearchParams);\n\n        this.setState((state) => {\n            const newState = {\n                isFetching: false,\n                hasNext: json.hasNext,\n                next: json.next,\n                reviews: state.reviews.concat(json.results.map(normalize)),\n            };\n\n            if (json.recommends) newState.recommends = json.recommends;\n\n            return newState;\n        });\n    };\n\n    loadMyReviews = async () => {\n        if (reviewsApi.accessToken) {\n            const { workspaceId } = this.props;\n            const json = await reviewsApi.my(workspaceId);\n\n            this.setState({ myReviews: json });\n\n            return json;\n        } else {\n            return [];\n        }\n    };\n\n    onRecommend = (recommend) => {\n        this.setState({ recommend });\n        this.showModal(this.state.isAuthenticated ? 'review' : 'login');\n    };\n\n    closeModal = (target) => {\n        this.setState((state) => ({\n            showModals: {\n                ...state.showModals,\n                [target]: false,\n            },\n        }));\n    };\n\n    showModal = (target) => {\n        this.setState((state) => {\n            const newShowModals = {};\n            for (let prop in state.showModals) {\n                newShowModals[prop] = prop === target;\n            }\n\n            return {\n                showModals: newShowModals,\n            };\n        });\n    };\n\n    onDelete = async (review) => {\n        try {\n            const { workspaceId } = this.props;\n\n            await reviewsApi.delete(workspaceId, review._id);\n\n            this.setState((state) => {\n                const recommends = [...state.recommends];\n                const index = review.recommend ? 0 : 1;\n\n                recommends[index]--;\n\n                return {\n                    recommends,\n                    reviews: state.reviews.filter(({ _id }) => _id !== review._id),\n                    myReviews: state.myReviews.filter(({ _id }) => _id !== review._id),\n                };\n            });\n\n            Notification.danger(__t('review_deleted'), { showClose: true });\n        } catch (e) {\n            handleError(e);\n        }\n    };\n\n    onSubmit = async (values) => {\n        try {\n            const { workspaceId } = this.props;\n            const json = await reviewsApi.create(workspaceId, values);\n            const review = normalize(json);\n\n            this.setState((state) => {\n                const recommends = [...state.recommends];\n                const index = review.recommend ? 0 : 1;\n\n                recommends[index]++;\n\n                return {\n                    recommends,\n                    myReviews: [review].concat(state.myReviews),\n                };\n            });\n\n            this.closeModal('review');\n\n            Notification.notify(__t('review_published'), { showClose: true });\n        } catch (e) {\n            handleError(e);\n        }\n    };\n\n    render() {\n        const {\n            reviews,\n            isFetching,\n            hasNext,\n            recommends,\n            isAuthenticated,\n            facebookId,\n            showModals,\n            recommend,\n            isLoaded,\n            myReviews,\n        } = this.state;\n        const { previewMode, fullName } = this.props;\n\n        return (\n            <CardReviewsPane\n                isLoaded={isLoaded}\n                recommends={recommends}\n                reviews={reviews}\n                myReviews={myReviews}\n                isFetching={isFetching}\n                hasNext={hasNext}\n                previewMode={previewMode}\n                actions={{\n                    loadMore: this.loadReviews,\n                    onRecommend: this.onRecommend,\n                    onDelete: this.onDelete,\n                }}\n                fullName={fullName}\n                facebookId={isAuthenticated && facebookId}\n                {...this.props}\n            >\n                {showModals.review && (\n                    <CardReviewRecommendModal\n                        recommend={recommend}\n                        fullName={fullName}\n                        closeModalFn={this.closeModal.bind(this, 'review')}\n                        onSubmit={this.onSubmit}\n                    />\n                )}\n                {showModals.login && (\n                    <CardReviewMessageModal closeModalFn={this.closeModal.bind(this, 'login')}>\n                        <h1>{__t('review_login')}</h1>\n                        <Button\n                            onClick={this.handleLoginClick}\n                            btnStyle=\"facebook\"\n                            fullWidth\n                            beforeIcon={<IoLogoFacebook size={40} />}\n                            iconFixed=\"left\"\n                        >\n                            {__t('continue_dacebook')}\n                        </Button>\n                    </CardReviewMessageModal>\n                )}\n                {showModals.notify && (\n                    <CardReviewMessageModal closeModalFn={this.closeModal.bind(this, 'notify')}>\n                        <h1>{__t('have_review')}</h1>\n                        <p>{__t('only_one_review')}</p>\n                    </CardReviewMessageModal>\n                )}\n            </CardReviewsPane>\n        );\n    }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2KHRahsd\",\"loaded\":\"_1Y-furOW\",\"noAnimation\":\"_28WslXh2\",\"header\":\"_2k1ygKWy\",\"shadow\":\"_2Qr1lH-D\",\"backButton\":\"_3eEBWyiO\",\"heading\":\"_3fsy1tGd\",\"content\":\"YZo6wHiB\",\"moreBtnContainer\":\"CVrLFRx4\",\"moreBtn\":\"_3Kz02uAH\",\"productItem\":\"_2ULXYqPk\",\"revealItem\":\"EY676Eht\"};","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { FiChevronLeft } from 'react-icons/fi';\nimport { useHistory } from 'react-router';\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport { useDeepCompareEffect, useScroll, useUnmount } from 'react-use';\n\nimport { resolvePathname } from '@mssgme/helpers';\nimport { productsApi } from '@mssgme/lib';\nimport { Spinner } from '@mssgme/ui';\nimport { CardMoreButton } from '../../CardMoreButton';\nimport { CardProductsList, ProductItem } from '../../Products';\nimport styles from './CardProductsPage.scss';\n\nfunction CardProductsPage({ card, setLastCollectionSlug, firstLoad, setFirstLoad, collectionSlug }) {\n    const match = useRouteMatch();\n    const history = useHistory();\n    const { workspaceId, collections } = card;\n    const currentCollection = collections.items.find((col) => col.slug === collectionSlug);\n    const publishedProductsCount = (currentCollection && currentCollection.publishedProductsCount) || 0;\n    const [products, setProducts] = useState({ hasNext: false, next: null, publishedCount: 0, results: [] });\n    const { hasNext, next, results } = products;\n    const [isFetching, setIsFetching] = useState(false);\n    const [isLoaded, setIsLoaded] = useState(false);\n    const backPath = resolvePathname(match.url, '../../');\n    let unmountTimeout;\n    const scrollRef = React.useRef(null);\n    const { y } = useScroll(scrollRef);\n\n    const getProducts = async (next, collection, published, resetStore) => {\n        setIsFetching(true);\n        const productsStore = await productsApi.list(workspaceId, { next, collection, published });\n        setProducts((prevProducts) => ({\n            ...productsStore,\n            results: resetStore ? productsStore.results : prevProducts.results.concat(productsStore.results),\n        }));\n        setIsFetching(false);\n    };\n\n    const unmount = (e, backPath) => {\n        e.preventDefault();\n\n        setLastCollectionSlug(false);\n        setIsLoaded(false);\n\n        unmountTimeout = setTimeout(() => {\n            history.push(backPath);\n        }, 610);\n    };\n\n    useDeepCompareEffect(() => {\n        const initProducts = async () => {\n            await getProducts(null, currentCollection._id, true, true);\n            setIsLoaded(true);\n            setFirstLoad(false);\n        };\n\n        initProducts();\n    }, [publishedProductsCount, collections]);\n\n    useEffect(() => {\n        setLastCollectionSlug(currentCollection.slug);\n    }, []);\n\n    useUnmount(() => {\n        clearTimeout(unmountTimeout);\n    });\n\n    return (\n        <div className={cn({ [styles.root]: true, [styles.loaded]: isLoaded, [styles.noAnimation]: firstLoad })}>\n            <div className={cn({ [styles.header]: true, [styles.shadow]: y > 0 })}>\n                <Link onClick={(e) => unmount(e, backPath)} to={backPath} className={styles.backButton}>\n                    <FiChevronLeft size={22} color=\"#000\" />\n                </Link>\n                <h1 className={styles.heading}>{currentCollection && currentCollection.name}</h1>\n            </div>\n            <div className={styles.content} ref={scrollRef}>\n                {results.length > 0 && (\n                    <CardProductsList itemClassName={styles.productItem}>\n                        {results.map((item) => (\n                            <ProductItem\n                                key={item._id}\n                                tag={Link}\n                                product={item}\n                                to={{\n                                    pathname: resolvePathname(match.url, '../../p/', item.slug),\n                                    state: {\n                                        fromCollection: currentCollection._id,\n                                    },\n                                }}\n                            />\n                        ))}\n                    </CardProductsList>\n                )}\n                {isFetching && <Spinner />}\n                {hasNext && !isFetching && (\n                    <div className={styles.moreBtnContainer}>\n                        <CardMoreButton\n                            className={styles.moreBtn}\n                            onClick={() => getProducts(next, currentCollection._id, true)}\n                            disabled={isFetching}\n                        />\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\nCardProductsPage.propTypes = {\n    card: PropTypes.object.isRequired,\n    isAdmin: PropTypes.bool,\n    setLastCollectionSlug: PropTypes.func.isRequired,\n    firstLoad: PropTypes.bool.isRequired,\n    setFirstLoad: PropTypes.func.isRequired,\n    collectionSlug: PropTypes.string.isRequired,\n};\n\nexport default CardProductsPage;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1S2SczHq\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './styles.scss';\n\nexport function CardProductsList({ children, itemClassName }) {\n    children = React.Children.toArray(children);\n\n    return (\n        <ul className={styles.root}>\n            {children.map((item, key) => (\n                <li className={itemClassName ? itemClassName : ''} key={key}>\n                    {item}\n                </li>\n            ))}\n        </ul>\n    );\n}\n\nCardProductsList.propTypes = {\n    children: PropTypes.node,\n    itemClassName: PropTypes.string,\n};\n","import * as React from 'react';\nimport { IconBase } from 'react-icons';\nfunction ImageIcon(props, svgRef) {\n    return (\n        <IconBase fill=\"none\" viewBox=\"0 0 24 24\" ref={svgRef} {...props}>\n            <path\n                d=\"M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2z\"\n                stroke=\"currentColor\"\n                strokeWidth={2}\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n            <path\n                d=\"M8.5 10a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM21 15l-5-5L5 21\"\n                stroke=\"currentColor\"\n                strokeWidth={2}\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n        </IconBase>\n    );\n}\nconst ForwardRef = React.forwardRef(ImageIcon);\nexport default ForwardRef;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"DGSQtavY\"};","import React from 'react';\n\nimport { ImageIcon } from '@mssgme/icons';\n\nimport styles from './Thumbnail.scss';\n\nexport default function Thumbnail() {\n    return <ImageIcon className={styles.root} />;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_xoBULhV\",\"img\":\"_1pWoQkAV\",\"fit\":\"XCY58nZg\",\"spinner\":\"_2f8_zoFb\",\"visible\":\"_1Z20qEZ1\",\"inline\":\"_3-n_7lQl\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { cls } from '@mssgme/helpers';\nimport Spinner from '../Spinner';\nimport useLoadImage from './useLoadImage';\nimport useIntersect from './useIntersect';\nimport Thumbnail from './Thumbnail';\n\nimport styles from './LazyImage.scss';\n\nexport default function LazyImage({ mode, src, alt, containerClassName, ...rest }) {\n    const { ref, isIntersecting, isIntersect } = useIntersect();\n    const { isFetching, isLoaded, onLoad, onError, error } = useLoadImage();\n\n    return (\n        <div ref={ref} className={classNames(styles.root, styles[mode], containerClassName)}>\n            {isFetching && mode !== 'inline' && <Spinner size=\"50%\" color=\"gray\" className={styles.spinner} />}\n            {error && <Thumbnail />}\n            <img\n                src={isIntersect ? src : null}\n                alt={alt}\n                onLoad={onLoad}\n                onError={onError}\n                {...cls([styles.img, isLoaded && isIntersecting && styles.visible], rest)}\n            />\n        </div>\n    );\n}\n\nLazyImage.propTypes = {\n    className: PropTypes.string,\n    containerClassName: PropTypes.string,\n    mode: PropTypes.oneOf(['fit', 'inline']),\n    src: PropTypes.string.isRequired,\n    alt: PropTypes.string,\n};\n\nLazyImage.defaultProps = {\n    mode: 'fit',\n};\n","import { useRef, useEffect, useMemo, useState } from 'react';\n\nexport default function useIntersect() {\n    const ref = useRef(null);\n    const [isIntersecting, setIsIntersecting] = useState(false);\n    const [isIntersect, setIsIntersect] = useState(false);\n\n    const observer = useMemo(\n        () =>\n            new IntersectionObserver(\n                function onIntersect([entry]) {\n                    if (entry?.isIntersecting) {\n                        setIsIntersecting(true);\n                        setIsIntersect(true);\n                    } else if (entry.rootBounds) {\n                        setIsIntersecting(false);\n                    }\n                },\n                {\n                    root: null,\n                    rootMargin: '100px 0px 100px 0px',\n                    threshold: 0.01,\n                }\n            ),\n        []\n    );\n\n    useEffect(() => {\n        const element = ref.current;\n\n        if (!element) {\n            return;\n        }\n\n        observer.observe(element);\n\n        return () => {\n            observer.unobserve(element);\n        };\n    }, [ref.current]);\n\n    return {\n        ref,\n        isIntersecting,\n        isIntersect,\n    };\n}\n","import { useCallback, useState } from 'react';\n\nexport default function useLoadImage() {\n    const [state, setState] = useState({ isFetching: true, isLoaded: false, error: null });\n\n    const onLoad = useCallback(() => setState({ isFetching: false, isLoaded: true, error: null }), []);\n    const onError = useCallback((error) => setState({ isFetching: false, isLoaded: false, error }), []);\n\n    return {\n        ...state,\n        onLoad,\n        onError,\n    };\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_23qBGGw8\",\"disabled\":\"_1DjvDaFG\",\"thumbnail\":\"_1swLRv6V\",\"emptyPlaceholder\":\"_2aRShO3p\",\"meta\":\"_2SnBnDH9\",\"title\":\"_1CgrQjOm\",\"price\":\"qiq9A_Vr\",\"discountPrice\":\"Qxxe8cvZ\",\"lineThrough\":\"_16wiODoM\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { IoMdImage } from 'react-icons/io';\n\nimport { __t } from '@mssgme/shared';\nimport { LazyImage } from '@mssgme/ui';\n\nimport styles from './styles.scss';\n\nexport const ProductItem = ({ tag: Tag, product, componentStyle, ...rest }) => (\n    <Tag\n        className={classNames(styles.root, styles[componentStyle], { [styles.disabled]: !product.published })}\n        {...rest}\n    >\n        <div className={styles.thumbnail}>\n            {product.photoUrl && <LazyImage src={product.photoUrl} alt={product.name} />}\n            {!product.photoUrl && (\n                <div className={styles.emptyPlaceholder}>\n                    <IoMdImage size=\"40%\" color=\"#fff\" />\n                </div>\n            )}\n        </div>\n        <div className={styles.meta}>\n            <span className={styles.title}>{product.name}</span>\n            {product.price && (\n                <span className={styles.price}>\n                    {product.price.formattedDiscount && (\n                        <span className={styles.discountPrice}>{product.price.formattedDiscount}</span>\n                    )}\n                    {product.price.amount === 0 ? (\n                        __t('free')\n                    ) : (\n                        <span className={product.price.formattedDiscount ? styles.lineThrough : null}>\n                            {product.price.formatted}\n                        </span>\n                    )}\n                </span>\n            )}\n        </div>\n    </Tag>\n);\n\nProductItem.propTypes = {\n    product: PropTypes.object.isRequired,\n    componentStyle: PropTypes.string,\n    tag: PropTypes.any,\n};\n\nProductItem.defaultProps = {\n    tag: 'div',\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_85pAlRYc\",\"list\":\"LHSRoOb7\",\"item\":\"_2tfpZ0xO\",\"controlContainerLeft\":\"_1iiY7cAK\",\"control\":\"_3_GRxOqo\",\"controlContainerRight\":\"_1hdPDWbC\"};","import ScrollableHorizontalCardMenu from './ScrollableHorizontalCardMenu';\n\nexport default ScrollableHorizontalCardMenu;\n","import React, { useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { FiChevronLeft, FiChevronRight } from 'react-icons/fi';\nimport { Link } from 'react-router-dom';\nimport { useMeasure, useScroll, useWindowSize } from 'react-use';\n\nimport { resolvePathname } from '@mssgme/helpers';\nimport styles from './ScrollableHorizontalCardMenu.scss';\n\nfunction useMenuScroll(collectionsItems) {\n    const list = useRef(null);\n    const [activeLinkIndex, setActiveLinkIndex] = useState(0);\n    const [root, { width }] = useMeasure();\n    const { width: windowWidth } = useWindowSize();\n    const { x: listScrollX } = useScroll(list);\n\n    // TODO: create hook\n    const isDesktop = windowWidth > 1024;\n    const listScrollWidth = (list.current && list.current.scrollWidth) || width;\n    const hasScroll = listScrollWidth > width;\n    const hasLeftBtn = hasScroll && isDesktop && listScrollX > 0;\n    const hasRightBtn = hasScroll && isDesktop && listScrollX + width < listScrollWidth;\n\n    function moveLeft() {\n        if (activeLinkIndex > 0) {\n            const menuItems = Array.from(list.current.querySelectorAll('li')).slice(0, activeLinkIndex - 1);\n            let itemsWidth = 0;\n            menuItems.forEach((item) => {\n                itemsWidth += item.clientWidth + 6;\n            });\n            list.current.scrollLeft = itemsWidth - 22;\n            setActiveLinkIndex((prevActiveLinkIndex) => prevActiveLinkIndex - 1);\n        } else {\n            list.current.scrollLeft = 0;\n        }\n    }\n\n    function moveRight() {\n        if (activeLinkIndex < collectionsItems.length - 1) {\n            const menuItems = Array.from(list.current.querySelectorAll('li')).slice(0, activeLinkIndex + 1);\n            let itemsWidth = 0;\n            menuItems.forEach((item) => {\n                itemsWidth += item.clientWidth + 6;\n            });\n            list.current.scrollLeft = itemsWidth - 22;\n            setActiveLinkIndex((prevActiveLinkIndex) => prevActiveLinkIndex + 1);\n        } else {\n            list.current.scrollLeft = listScrollWidth;\n        }\n    }\n\n    return { root, hasLeftBtn, moveLeft, list, hasRightBtn, moveRight };\n}\n\nexport default function ScrollableHorizontalCardMenu({ collectionsItems, baseUrl }) {\n    const { root, hasLeftBtn, moveLeft, list, hasRightBtn, moveRight } = useMenuScroll(collectionsItems);\n\n    return (\n        <div className={styles.root} ref={root}>\n            {hasLeftBtn && (\n                <div className={styles.controlContainerLeft} onClick={moveLeft}>\n                    <div className={styles.control}>\n                        <FiChevronLeft size={20} />\n                    </div>\n                </div>\n            )}\n            <ul className={styles.list} ref={list}>\n                {collectionsItems.map((col) => (\n                    <li key={col.id} className={styles.item}>\n                        <Link to={resolvePathname(baseUrl, '/c/', col.slug)}>{col.name}</Link>\n                    </li>\n                ))}\n            </ul>\n            {hasRightBtn && (\n                <div className={styles.controlContainerRight} onClick={moveRight}>\n                    <div className={styles.control}>\n                        <FiChevronRight size={20} />\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n\nScrollableHorizontalCardMenu.propTypes = {\n    collectionsItems: PropTypes.array.isRequired,\n    baseUrl: PropTypes.string.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2hhhKF9v\",\"slideDown\":\"_3kA-i2jp\",\"animated\":\"_3klf_Vwm\",\"hasCollections\":\"_3UJQ7w5L\",\"moreBtnContainer\":\"_1FRrpE-v\",\"moreBtn\":\"_1n8GM2xc\",\"heading\":\"_2R3rdELl\",\"productsContainer\":\"_36M_SDdW\",\"reveal\":\"_11trZPJ_\"};","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { useRouteMatch } from 'react-router';\nimport { Link } from 'react-router-dom';\n\nimport { resolvePathname } from '@mssgme/helpers';\nimport { productsApi } from '@mssgme/lib';\nimport { Spinner } from '@mssgme/ui';\nimport { CardMoreButton } from '../../CardMoreButton';\nimport { CardProductsList } from '../CardProductsList';\nimport { ProductItem } from '../ProductItem';\nimport ScrollableHorizontalCardMenu from '../../ScrollableHorizontalCardMenu';\nimport styles from './CardProductsContainer.scss';\n\nexport function CardProductsContainer({ workspaceId, collections, animated, collectionsEnabled }) {\n    const match = useRouteMatch();\n    const defaultCollection = collections.items.find((col) => col.default);\n    const fromCollection = defaultCollection?._id;\n    const collectionsItems = collections.items.filter(\n        (col) => !col.default && col.publishedProductsCount > 0 && col.published\n    );\n    const hasCollections = collectionsEnabled && collectionsItems.length > 0;\n    const [{ hasNext, next, results }, setProducts] = useState({\n        hasNext: false,\n        next: null,\n        publishedCount: 0,\n        results: [],\n    });\n    const [isFetching, setIsFetching] = useState(false);\n    const getProducts = async (next, collection, published, resetStore) => {\n        setIsFetching(true);\n        const productsStore = await productsApi.list(workspaceId, { next, collection, published });\n        setProducts((prevProducts) => ({\n            ...productsStore,\n            results: resetStore ? productsStore.results : prevProducts.results.concat(productsStore.results),\n        }));\n        setIsFetching(false);\n    };\n\n    useEffect(() => {\n        const initProducts = async () => {\n            await getProducts(null, fromCollection, true, true);\n        };\n\n        void initProducts();\n    }, [collections.lastRequest]);\n\n    return (\n        <div\n            className={classNames(styles.root, styles.slideDown, {\n                [styles.animated]: animated,\n                [styles.hasCollections]: hasCollections,\n            })}\n        >\n            {hasCollections && <ScrollableHorizontalCardMenu collectionsItems={collectionsItems} baseUrl={match.url} />}\n\n            {results.length > 0 && (\n                <div className={styles.productsContainer}>\n                    <CardProductsList>\n                        {results.map((item) => (\n                            <ProductItem\n                                key={item._id}\n                                tag={Link}\n                                product={item}\n                                to={{\n                                    pathname: resolvePathname(match.url, '/p/', item.slug),\n                                    state: {\n                                        fromCollection,\n                                    },\n                                }}\n                            />\n                        ))}\n                    </CardProductsList>\n                </div>\n            )}\n            {isFetching && <Spinner />}\n            {hasNext && !isFetching && (\n                <div className={styles.moreBtnContainer}>\n                    <CardMoreButton\n                        className={styles.moreBtn}\n                        onClick={() => getProducts(next, fromCollection, true)}\n                        disabled={isFetching}\n                    />\n                </div>\n            )}\n        </div>\n    );\n}\n\nCardProductsContainer.propTypes = {\n    workspaceId: PropTypes.string.isRequired,\n    collections: PropTypes.object.isRequired,\n    userUrl: PropTypes.string.isRequired,\n    animated: PropTypes.bool,\n    isAdmin: PropTypes.bool,\n    collectionsEnabled: PropTypes.bool.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1Q3SKgiT\",\"disabled\":\"_3eKutKNI\",\"productRoot\":\"z9enbLZj\",\"fullWidth\":\"_3i9q2JaE\",\"title\":\"_2OxmWyZs\",\"thumbnail\":\"_2mf3zulN\",\"emptyPlaceholder\":\"_26N1wGHB\",\"meta\":\"_24aGRpy0\",\"price\":\"_3eDW4JRC\",\"discountPrice\":\"eTVxAbNs\",\"lineThrough\":\"_1L6IrMwR\",\"dragHandle\":\"_2u7ginVg\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { IoMdImage } from 'react-icons/io';\nimport { useTranslation } from 'react-i18next';\n\nimport { __t } from '@mssgme/shared';\nimport { LazyImage } from '@mssgme/ui';\nimport DragIcon from '@mssgme/ui/icons/drag.svg';\n\nimport styles from './styles.scss';\n\n// todo: reuse ProductItem here\nexport function ProductAdminItem({ tag: Tag = 'div', product, to, hasDragHandle = false }) {\n    const { t } = useTranslation('cards');\n\n    return (\n        <div className={classNames({ [styles.root]: true, [styles.disabled]: !product.published })}>\n            <Tag\n                className={classNames({ [styles.productRoot]: true, [styles.fullWidth]: !hasDragHandle })}\n                to={to}\n                title={product.name}\n            >\n                <div className={styles.thumbnail}>\n                    {product.photoUrl && <LazyImage src={product.photoUrl} alt={product.name} />}\n                    {!product.photoUrl && (\n                        <div className={styles.emptyPlaceholder}>\n                            <IoMdImage size=\"40%\" color=\"#fff\" />\n                        </div>\n                    )}\n                </div>\n                <div className={styles.meta}>\n                    <span className={styles.title}>{product.name}</span>\n                    {product.price && (\n                        <span className={styles.price}>\n                            {product.price.formattedDiscount && (\n                                <span className={styles.discountPrice}>{product.price.formattedDiscount}</span>\n                            )}\n                            {product.price.amount === 0 ? (\n                                __t('free')\n                            ) : (\n                                <span\n                                    className={classNames({\n                                        [styles.lineThrough]: product.price.formattedDiscount,\n                                    })}\n                                >\n                                    {product.price.formatted}\n                                </span>\n                            )}\n                        </span>\n                    )}\n                </div>\n            </Tag>\n\n            {/*todo: reuse DragHandle here*/}\n            {hasDragHandle && (\n                <div className={styles.dragHandle} title={t('common:labels.dragTip')} data-element=\"drag-handle\">\n                    <DragIcon width=\"6\" />\n                </div>\n            )}\n        </div>\n    );\n}\n\nProductAdminItem.propTypes = {\n    product: PropTypes.object.isRequired,\n    tag: PropTypes.any,\n    hasDragHandle: PropTypes.bool,\n    to: PropTypes.string,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"MmbkqJO_\",\"widgetPreview\":\"_22NfMRbj\",\"inner\":\"_2u4IXlYg\",\"background\":\"UH9lT3cu\",\"slideUp\":\"_3vLKxx_m\",\"slideDown\":\"_21RY2QVj\",\"animated\":\"_3EbiGWZa\",\"footerMessengers\":\"_1cI2jvmb\",\"visible\":\"_3Zvc0AUc\",\"overlayBg\":\"zEmRYgzN\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { __t } from '@mssgme/shared';\nimport { ActionSheet } from '@mssgme/app/components/UI';\nimport { CardTopBranding } from '../CardTopBranding';\nimport { CardHeaderBackground } from '../CardHeaderBackground';\nimport { CardMessengersPane } from '../Messengers';\nimport { CardLinks } from '../CardLinks';\nimport { CardReviewsPaneContainer } from '../Reviews';\nimport { CardProductsContainer } from '../Products';\nimport styles from './styles.scss';\n\nexport class Card extends React.Component {\n    static propTypes = {\n        data: PropTypes.object.isRequired,\n        className: PropTypes.string,\n        widgetMode: PropTypes.bool,\n        previewMode: PropTypes.bool,\n        firstLoad: PropTypes.bool.isRequired,\n        setFirstLoad: PropTypes.func.isRequired,\n    };\n    static defaultProps = {\n        className: '',\n        widgetMode: false,\n        previewMode: false,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            animated: false,\n            productsFetched: false,\n            actionSheetVisible: false,\n        };\n        this.messengersPane = React.createRef();\n    }\n\n    toggleActionSheet = () => {\n        this.setState((state) => ({\n            actionSheetVisible: !state.actionSheetVisible,\n        }));\n    };\n\n    componentDidMount() {\n        this._isMounted = true;\n\n        setTimeout(() => {\n            if (this._isMounted) {\n                this.setState({\n                    animated: true,\n                });\n            }\n        });\n\n        const {\n            previewMode,\n            data: {\n                profile: { fullname },\n            },\n        } = this.props;\n\n        if (!previewMode) {\n            const pageTitle = document.querySelector('title');\n            pageTitle.innerText = fullname;\n        }\n\n        setTimeout(() => {\n            this.props.setFirstLoad(false);\n        }, 700);\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n\n    render() {\n        const { data, className, previewMode, widgetMode, firstLoad } = this.props;\n        const { design, profile, messengers, links, reviews, workspaceId, collections, products, widget } = data;\n        const { animated, actionSheetVisible } = this.state;\n        const enabledLinks = links.filter((i) => i.enabled);\n        const hasActionSheet = enabledLinks.length > 1;\n        const hasProducts = collections.allPublishedProductsCount > 0;\n        const productsVisible = hasProducts && !(widgetMode && !widget.components.products);\n\n        return (\n            <div\n                className={classNames(styles.root, className)}\n                id=\"cardRoot\"\n                style={{ pointerEvents: firstLoad ? 'none' : 'auto' }}\n            >\n                <div\n                    className={styles.inner}\n                    style={{\n                        height: !design.branding ? '100%' : null,\n                        top: !design.branding ? '0' : null,\n                    }}\n                >\n                    {design.branding && <CardTopBranding animated={animated} />}\n                    <div className={classNames(styles.background, styles.slideUp, animated ? styles.animated : null)}>\n                        <CardHeaderBackground background={design.background} />\n                        {/*{design.background.type === 'image' && design.background.image && (*/}\n                        {/*    <CardHeaderBackground background={design.background}/>*/}\n                        {/*)}*/}\n                    </div>\n                    <div className={styles.cardContent}>\n                        <div ref={this.messengersPane}>\n                            <CardMessengersPane\n                                animated={animated}\n                                photo={design.photoUrl}\n                                fullName={profile.fullname}\n                                category={profile.category}\n                                messengers={messengers.filter((i) => i.enabled)}\n                                description={profile.description}\n                            />\n                        </div>\n                        {(!!links.find((i) => i.enabled) || !!profile.website.enabled) && (\n                            <CardLinks\n                                animated={animated}\n                                links={links.filter((i) => i.enabled)}\n                                website={profile.website}\n                                showActionSheet={this.toggleActionSheet}\n                            />\n                        )}\n                        {productsVisible && (\n                            <CardProductsContainer\n                                workspaceId={workspaceId}\n                                collections={collections}\n                                animated={animated}\n                                userUrl={profile.url}\n                                isAdmin={previewMode}\n                                collectionsEnabled={products.collectionsEnabled}\n                            />\n                        )}\n                        {reviews.enabled && (\n                            <CardReviewsPaneContainer\n                                workspaceId={workspaceId}\n                                animated={animated}\n                                fullName={profile.fullname}\n                                previewMode={previewMode}\n                            />\n                        )}\n                    </div>\n                    {/*{design.branding && <CardBottomBranding animated={animated} />}*/}\n                </div>\n                {hasActionSheet && actionSheetVisible && (\n                    <ActionSheet title={__t('menu_links')} links={enabledLinks} cancel={this.toggleActionSheet} />\n                )}\n            </div>\n        );\n    }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"N41q3_Zq\",\"widgetPreview\":\"_3qOg9_bW\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './styles.scss';\n\nexport function CardContainer({ children, widgetMode = false, className }) {\n    return (\n        <div\n            className={classNames(styles.root, className, {\n                [styles.widgetPreview]: widgetMode,\n            })}\n        >\n            {children}\n        </div>\n    );\n}\n\nCardContainer.propTypes = {\n    children: PropTypes.node,\n    widgetMode: PropTypes.bool,\n    className: PropTypes.string,\n};\n\nCardContainer.defaultProps = {\n    children: null,\n    widgetMode: false,\n    className: undefined,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1x2pOzvy\",\"messenger\":\"_2EPdBnlF\",\"facebook\":\"_1Iw3f4jo\",\"whatsapp\":\"_3Re3QnW8\",\"telegram\":\"hqZEzHw8\",\"viber\":\"NtecOOrD\",\"btn\":\"gulnjTcO\",\"instaContainer\":\"_3xhAqway\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FiShare } from 'react-icons/fi';\n\nimport styles from './styles.scss';\n\nexport class ShareIconButton extends React.Component {\n    static propTypes = {\n        showSocials: PropTypes.func,\n        color: PropTypes.string,\n        thing: PropTypes.string,\n        hasShadow: PropTypes.bool,\n    };\n\n    static defaultProps = {\n        color: '#000',\n        hasShadow: false,\n        thing: 'product',\n    };\n\n    render() {\n        const { color, hasShadow, thing, showSocials } = this.props;\n\n        return (\n            <div className={styles.btn} data-modal-btn={`share${thing}`} onClick={showSocials}>\n                <FiShare\n                    size={24}\n                    color={color}\n                    style={{ filter: hasShadow ? 'drop-shadow(0 1px 3px rgba(0,0,0,0.3))' : null }}\n                />\n            </div>\n        );\n    }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"modal\":\"_330P23kx\",\"visible\":\"spVWMGWk\",\"title\":\"_2PTlj8kn\",\"overlay\":\"_3YEUXqGA\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './styles.scss';\n\nexport const Modal = ({ children, title, onClose, visible = false }) => (\n    <>\n        <div className={classNames(styles.modal, { [styles.visible]: visible })}>\n            {title && <div className={styles.title}>{title}</div>}\n            <div>{children}</div>\n        </div>\n        <div className={classNames(styles.overlay, { [styles.visible]: visible })} onClick={onClose} />\n    </>\n);\n\nModal.propTypes = {\n    title: PropTypes.string,\n    children: PropTypes.any,\n    visible: PropTypes.bool,\n    onClose: PropTypes.func,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"copy\":\"_1rRRaz_T\",\"button\":\"_2hX1dqpl\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { __t } from '@mssgme/shared';\nimport { ua } from '@mssgme/helpers';\nimport { Modal } from '../Modal';\nimport styles from './styles.scss';\n\nexport class OpenMessengerModal extends React.Component {\n    static propTypes = {\n        message: PropTypes.any.isRequired,\n        url: PropTypes.string.isRequired,\n        platform: PropTypes.string,\n    };\n\n    static defaultProps = {\n        visible: false,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.templateRef = React.createRef();\n    }\n\n    handleClick = (e) => {\n        const selection = window.getSelection();\n        const range = document.createRange();\n        range.selectNodeContents(this.templateRef.current);\n        selection.removeAllRanges();\n        selection.addRange(range);\n        document.execCommand('copy');\n\n        if (ua.Android) {\n            e.preventDefault();\n\n            const href = e.target.href;\n\n            window.open(href);\n        }\n    };\n\n    render() {\n        const { message, url, platform, ...rest } = this.props;\n\n        return (\n            <Modal title={__t('product_copy_heading')} {...rest}>\n                <div className={styles.copy} ref={this.templateRef}>\n                    {message}\n                </div>\n                <a href={url} className={styles.button} onClick={this.handleClick} data-product-messenger={platform}>\n                    {__t('products_copy_open')} <span>{platform}</span>\n                </a>\n            </Modal>\n        );\n    }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { FaWhatsapp, FaTelegram, FaViber, FaFacebookMessenger, FaFacebookSquare } from 'react-icons/fa';\n\nimport styles from './styles.scss';\n\nexport class Share extends React.Component {\n    static propTypes = {\n        link: PropTypes.string,\n        className: PropTypes.string,\n    };\n\n    handleShareClick = (e) => {\n        e.preventDefault();\n        const { target } = e;\n        const url = target.href;\n\n        const width = 500;\n        const height = 500;\n        const left = screen.width / 2 - width / 2;\n        const top = screen.height / 2 - height / 2;\n\n        window.open(\n            url,\n            '',\n            'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,width=' +\n                width +\n                ',height=' +\n                height +\n                ',top=' +\n                top +\n                ',left=' +\n                left\n        );\n    };\n\n    render() {\n        const { className } = this.props;\n        let shareLinks;\n\n        if (window.outerWidth < 768) {\n            shareLinks = {\n                whatsapp: {\n                    title: 'WhatsApp',\n                    icon: <FaWhatsapp size={20} />,\n                    style: styles.whatsapp,\n                    link: `whatsapp://send?text=${this.props.link}`,\n                },\n                telegram: {\n                    title: 'Telegram',\n                    icon: <FaTelegram size={20} />,\n                    style: styles.telegram,\n                    link: `tg://msg?text=${this.props.link}`,\n                },\n                viber: {\n                    title: 'Viber',\n                    icon: <FaViber size={20} />,\n                    style: styles.viber,\n                    link: `viber://forward?text=${this.props.link}`,\n                },\n                messenger: {\n                    title: 'Messenger',\n                    icon: <FaFacebookMessenger size={20} />,\n                    style: styles.messenger,\n                    link: `fb-messenger://share/?link=${this.props.link}`,\n                },\n                facebook: {\n                    title: 'Share on Facebook',\n                    icon: <FaFacebookSquare size={20} />,\n                    style: styles.facebook,\n                    link: `https://www.facebook.com/sharer/sharer.php?u=${this.props.link}`,\n                },\n            };\n        } else {\n            shareLinks = {\n                whatsapp: {\n                    title: 'WhatsApp',\n                    icon: <FaWhatsapp size={20} />,\n                    style: styles.whatsapp,\n                    link: `https://web.whatsapp.com/send?text=${this.props.link}`,\n                },\n                telegram: {\n                    title: 'Telegram',\n                    icon: <FaTelegram size={20} />,\n                    style: styles.telegram,\n                    link: `https://telegram.me/share/url?url=${this.props.link}`,\n                },\n                facebook: {\n                    title: 'Share on Facebook',\n                    icon: <FaFacebookSquare size={20} />,\n                    style: styles.facebook,\n                    link: `https://www.facebook.com/sharer/sharer.php?u=${this.props.link}`,\n                },\n            };\n        }\n\n        return (\n            <ul className={classNames(styles.root, className)}>\n                {Object.keys(shareLinks).map((item, key) => (\n                    <li key={key}>\n                        <a\n                            onClick={this.handleShareClick}\n                            className={shareLinks[item].style}\n                            href={shareLinks[item].link}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            data-link=\"share-product\"\n                            data-name={shareLinks[item].title}\n                        >\n                            {shareLinks[item].icon}\n                            {shareLinks[item].title}\n                        </a>\n                    </li>\n                ))}\n            </ul>\n        );\n    }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1BfKI5WI\",\"content\":\"_3VjnFAkq\",\"iframe\":\"_3O5Fu-8V\",\"headerBtns\":\"_2C5uq6yL\",\"headerLink\":\"_12-UKYGS\"};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { useTranslation } from 'react-i18next';\nimport { FiExternalLink, FiShare } from 'react-icons/fi';\n\nimport { NavBackButton, SidebarHeader } from '@mssgme/ui';\nimport styles from './styles.scss';\n\nexport const PreviewModal = ({ isShowing, toggle, pageUrl }) => {\n    const { t } = useTranslation('cards');\n\n    if (isShowing) {\n        return ReactDOM.createPortal(\n            <div className={styles.root}>\n                <SidebarHeader\n                    heading={t('PreviewModal.heading')}\n                    leftButton={<NavBackButton tag=\"div\" onClick={toggle} />}\n                    rightButton={\n                        <div className={styles.headerBtns}>\n                            <a className={styles.headerLink} href={pageUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n                                <FiExternalLink size={22} color=\"#000\" />\n                            </a>\n                            {'share' in navigator && (\n                                <div className={styles.headerLink}>\n                                    <FiShare size={22} color=\"#000\" onClick={() => navigator.share({ url: pageUrl })} />\n                                </div>\n                            )}\n                        </div>\n                    }\n                />\n                <div className={styles.content}>\n                    <iframe className={styles.iframe} src={pageUrl} frameBorder=\"0\" />\n                </div>\n            </div>,\n            document.body\n        );\n    }\n\n    return null;\n};\n","import { createContext } from 'react';\n\nexport const PreviewContext = createContext();\n","import { useEffect, useState, useContext, useMemo, useReducer, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useLocation } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { isEqual, merge } from 'lodash';\n\nimport { trans, restrictCard } from '@mssgme/shared';\nimport { useWorkspace } from '@mssgme/hooks';\nimport { PreviewContext } from './context';\n\nconst loadLocales = async (lang = 'en', namespace) => {\n    const { default: locales } = await import(\n        /* webpackInclude: /\\.json$/ */\n        /* webpackChunkName: \"locale.\" */\n        `@mssgme/locales/${lang}/${namespace}.json`\n    );\n\n    return locales;\n};\n\nexport function useLocales(namespace) {\n    const { i18n } = useTranslation('cards');\n    const [isLoaded, setLoaded] = useState(false);\n\n    useEffect(() => {\n        async function load() {\n            try {\n                const locales = await loadLocales(i18n.language, namespace);\n                trans.extend(locales);\n            } finally {\n                setLoaded(true);\n            }\n        }\n\n        void load();\n    }, [i18n.language]);\n\n    return { isLoaded, i18n };\n}\n\nfunction previewReducer(state, action) {\n    switch (action.type) {\n        case 'UPDATE_DRAFT':\n            return merge({}, state, { draft: action.payload });\n        case 'UPDATE_INITIAL':\n            return { initial: action.payload, draft: action.payload };\n        case 'RESET_DRAFT':\n            return { ...state, draft: state.initial };\n        default:\n            throw new Error(`\"${action.type}\" is invalid action`);\n    }\n}\n\nexport function usePreviewStore() {\n    const workspace = useWorkspace();\n    const location = useLocation();\n    const collections = useSelector((state) => state.collections);\n    const { card, id: workspaceId } = workspace;\n    const initialState = useMemo(() => ({ ...card, workspaceId, collections }), [card, workspaceId, collections]);\n    const [state, dispatch] = useReducer(previewReducer, { initial: initialState, draft: initialState });\n\n    const updateDraft = useCallback((payload) => dispatch({ type: 'UPDATE_DRAFT', payload }), [dispatch]);\n    const updateInitial = useCallback((payload) => dispatch({ type: 'UPDATE_INITIAL', payload }), [dispatch]);\n    const resetDraft = useCallback(() => dispatch({ type: 'RESET_DRAFT' }), [dispatch]);\n\n    const dirty = useMemo(() => !isEqual(state.draft, state.initial), [state.draft, state.initial]);\n\n    useEffect(() => {\n        updateInitial(initialState);\n    }, [initialState]);\n\n    // reset only when changed location\n    useEffect(() => {\n        if (dirty && location) {\n            resetDraft();\n        }\n    }, [location]);\n\n    const preview = useMemo(() => restrictCard(state.draft, workspace), [state.draft, workspace]);\n\n    return {\n        preview,\n        updateDraft,\n        updateInitial,\n        resetDraft,\n    };\n}\n\nexport function usePreview() {\n    const { preview, updateDraft, resetDraft } = useContext(PreviewContext);\n\n    return { preview, updatePreview: updateDraft, resetPreview: resetDraft };\n}\n","import React from 'react';\nimport { PreviewContext } from './context';\nimport { usePreviewStore } from './hooks';\n\nexport function CardPreviewStore(props) {\n    const value = usePreviewStore();\n\n    return <PreviewContext.Provider value={value} {...props} />;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"photoContainer\":\"_2qsTfz_z\",\"photo\":\"_3C3J6KnJ\",\"photoContent\":\"_3FRdueQR\",\"productImgContainer\":\"_28k04XrY\",\"photoPlaceholder\":\"_1dHnjDC3\",\"controls\":\"REjvdotI\",\"nextLink\":\"_2tkpMfR9\",\"paginationControl\":\"_1KlyrL6t\",\"closeBtn\":\"_1PPAwZ0o\",\"imagesList\":\"_1B8orliH\",\"dotsContainer\":\"Dh0PyGaL\",\"dot\":\"Xp912f6N\",\"active\":\"_1WiBEW94\"};","import classNames from 'classnames';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { FiChevronLeft, FiChevronRight, FiX } from 'react-icons/fi';\nimport { IoMdImage } from 'react-icons/io';\nimport { Link } from 'react-router-dom';\nimport { Swipeable } from 'react-swipeable';\nimport styles from '../PageProductGallery/styles.scss';\n\nclass PageProductGallery extends Component {\n    static propTypes = {\n        backUrl: PropTypes.string.isRequired,\n        photos: PropTypes.array.isRequired,\n        prevProductLink: PropTypes.any,\n        nextProductLink: PropTypes.any,\n        unmount: PropTypes.func.isRequired,\n    };\n\n    state = {\n        activePhotoIndex: 0,\n    };\n\n    handleSwipes = (e) => {\n        const { photos } = this.props;\n        const { activePhotoIndex } = this.state;\n        let toIndex;\n\n        if (e.dir === 'Left') {\n            toIndex = photos[activePhotoIndex + 1] ? activePhotoIndex + 1 : 0;\n        } else if (e.dir === 'Right') {\n            toIndex = photos[activePhotoIndex - 1] ? activePhotoIndex - 1 : 0;\n        }\n\n        this.moveSliderTo(toIndex)();\n    };\n\n    moveSliderTo = (index) => () => {\n        this.setState({\n            activePhotoIndex: index,\n        });\n    };\n\n    render() {\n        const { backUrl, photos, prevProductLink, nextProductLink, unmount } = this.props;\n        const { activePhotoIndex } = this.state;\n\n        return (\n            <Swipeable onSwiped={this.handleSwipes} className={styles.photoContainer}>\n                <div className={styles.photo}>\n                    <div className={styles.photoContent}>\n                        {photos && photos.length > 0 && (\n                            <div className={styles.productImgContainer}>\n                                <ul\n                                    className={styles.imagesList}\n                                    style={{ transform: `translateX(-${activePhotoIndex * 16.666666}%)` }}\n                                >\n                                    {photos.map((url, index) => (\n                                        <li key={index}>\n                                            <img src={url} alt={url} />\n                                        </li>\n                                    ))}\n                                </ul>\n                            </div>\n                        )}\n                        {(!photos || photos.length === 0) && (\n                            <div className={styles.photoPlaceholder}>\n                                <IoMdImage size=\"40%\" color=\"#fff\" />\n                            </div>\n                        )}\n                    </div>\n                    <div className={styles.controls}>\n                        {nextProductLink && (\n                            <Link to={nextProductLink}>\n                                <div className={styles.paginationControl}>\n                                    <FiChevronLeft size={16} />\n                                </div>\n                            </Link>\n                        )}\n                        {prevProductLink && (\n                            <Link to={prevProductLink} className={styles.nextLink}>\n                                <div className={styles.paginationControl}>\n                                    <FiChevronRight size={16} />\n                                </div>\n                            </Link>\n                        )}\n                        {photos && photos.length > 1 && (\n                            <div className={styles.dotsContainer}>\n                                {photos.map((filename, index) => (\n                                    <div\n                                        key={filename + index}\n                                        className={classNames(styles.dot, {\n                                            [styles.active]: activePhotoIndex === index,\n                                        })}\n                                        onClick={this.moveSliderTo(index)}\n                                    />\n                                ))}\n                            </div>\n                        )}\n                    </div>\n                    <Link onClick={(e) => unmount(e, backUrl)} to={backUrl} className={styles.closeBtn}>\n                        <div>\n                            <FiX size={16} />\n                        </div>\n                    </Link>\n                </div>\n            </Swipeable>\n        );\n    }\n}\n\nexport default PageProductGallery;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3D49av_4\",\"inner\":\"_3R5Q0wlD\",\"productInfo\":\"_1jcFxSX0\",\"content\":\"_1J3bv_SF\",\"productInfoHeaderPane\":\"_15uaNz4U\",\"productInfoHeaderPaneMeta\":\"_2VdoWGma\",\"priceContainer\":\"vlIftsB6\",\"oldPrice\":\"uAXuhFqe\",\"productInfoHeaderPaneShare\":\"_2PWRydv7\",\"productInfoDescription\":\"_1DsyTR6I\",\"storePane\":\"_3Xu5psCI\",\"storePaneContent\":\"_3WBpY4oT\",\"storePaneMeta\":\"eqd1Hfm3\",\"storePaneAvatar\":\"_3_z4NIKJ\",\"storePaneInfo\":\"am_7u5Qa\",\"storePaneIcon\":\"_2aE3MSY9\",\"sharingPane\":\"_2DRkPG4C\",\"visible\":\"_3l4BPLHA\",\"share-list\":\"WDKGpLXm\",\"shareList\":\"WDKGpLXm\",\"twitter\":\"_1Jhp8Qe2\",\"facebook\":\"_1ikn4Yiv\",\"vkontakte\":\"_6YmkPrsL\",\"overlayBg\":\"A8-KAwUP\",\"modal\":\"I6lglOUL\",\"modalTitle\":\"_2TUfUY5L\",\"copyText\":\"_3t1udOtg\",\"messengerBtn\":\"_2CSgiHmP\",\"websiteLinkContainer\":\"_6Rqat2jy\",\"linkDomain\":\"_2ohsRkQO\",\"linkName\":\"_2n9Rnkah\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FiChevronRight } from 'react-icons/fi';\nimport { useLocation, useRouteMatch } from 'react-router';\nimport { Link } from 'react-router-dom';\n\nimport { __t } from '@mssgme/shared';\nimport { ua, parseUrl, generateDeepLink, resolvePathname } from '@mssgme/helpers';\nimport { CardMessengers, MessengerButton } from '@mssgme/cards';\nimport PageProductGallery from '../PageProductGallery';\n\nimport styles from './styles.scss';\n\nconst addUrl = (product, card) => {\n    const text = encodeURIComponent(\n        `${__t('buy_template')} ${product.name} - ${card.profile.absoluteUrl}/p/${product.slug}`\n    );\n    const ref = `buy_${product._id}_${Date.now()}_${document.documentElement.lang}`;\n\n    return (messenger) => {\n        let openDialog = true;\n\n        const link = generateDeepLink(messenger);\n\n        if (link.isSupported('text')) {\n            link.addParam('text', text);\n            openDialog = false;\n        } else if (link.isSupported('ref')) {\n            link.addParam('ref', ref);\n            openDialog = false;\n        } else if (link.isSupported('start')) {\n            link.addParam('start', ref);\n            openDialog = false;\n        }\n\n        const url = ua.isMobile ? link.getUrl() : link.getRedirectUrl();\n\n        return { ...messenger, url, openDialog };\n    };\n};\n\nexport default function PageProducts({ card, product, unmount, lastCollectionSlug }) {\n    const match = useRouteMatch();\n    const location = useLocation();\n\n    const cardMessengers = card.messengers.map(addUrl(product, card));\n    const hasExternalUrl = product.externalUrl || (product.externalButton && product.externalButton.url);\n    const externalUrlObj =\n        (product.externalButton && product.externalButton.url && parseUrl(product.externalButton.url)) ||\n        (product.externalUrl && parseUrl(product.externalUrl)) ||\n        {};\n    const defaultCollection = card.collections.items.find((col) => col.default);\n    const fromCollection = (location.state && location.state.fromCollection) || defaultCollection._id;\n\n    const prevProductLink = product.gauge.prev\n        ? { pathname: resolvePathname(match.url, '..', product.gauge.prev.slug), state: { fromCollection } }\n        : null;\n    const nextProductLink = product.gauge.next\n        ? { pathname: resolvePathname(match.url, '..', product.gauge.next.slug), state: { fromCollection } }\n        : null;\n    const backUrl = resolvePathname(match.url, lastCollectionSlug ? `../../c/${lastCollectionSlug}` : '../..');\n    const storeUrl = resolvePathname(match.url, '../..');\n\n    return (\n        <div className={styles.root}>\n            <div className={styles.inner}>\n                <PageProductGallery\n                    key={product.slug}\n                    backUrl={backUrl}\n                    photos={product.photos}\n                    nextProductLink={nextProductLink}\n                    prevProductLink={prevProductLink}\n                    unmount={unmount}\n                />\n                <div className={styles.productInfo}>\n                    <div className={styles.content}>\n                        <div className={styles.productInfoHeaderPane}>\n                            <div className={styles.productInfoHeaderPaneMeta}>\n                                <div className={styles.productInfoHeaderPaneMeta}>\n                                    <h1>{product.name}</h1>\n                                    {product.price && (\n                                        <div className={styles.priceContainer}>\n                                            {product.price.formattedDiscount && product.price.formattedDiscount}\n                                            {product.price.amount === 0 ? (\n                                                __t('free')\n                                            ) : (\n                                                <span\n                                                    className={product.price.formattedDiscount ? styles.oldPrice : null}\n                                                >\n                                                    {product.price.formatted}\n                                                </span>\n                                            )}\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                            {cardMessengers.length > 0 && (\n                                <CardMessengers placement=\"product\">\n                                    {cardMessengers.map((m) => (\n                                        <MessengerButton\n                                            key={m.messenger}\n                                            href={m.url}\n                                            platform={m.messenger}\n                                            data-product-messenger={m.messenger}\n                                        />\n                                    ))}\n                                </CardMessengers>\n                            )}\n                        </div>\n                        {hasExternalUrl && (\n                            <a\n                                data-id=\"product_website_link\"\n                                href={(product.externalButton && product.externalButton.url) || product.externalUrl}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                                className={styles.websiteLinkContainer}\n                            >\n                                <span className={styles.linkName}>\n                                    {product.externalButton && product.externalButton.title\n                                        ? product.externalButton.title\n                                        : __t('visit_website')}\n                                </span>\n                                <span className={styles.linkDomain}>{externalUrlObj.hostname}</span>\n                            </a>\n                        )}\n                        {product.description && (\n                            <div className={styles.productInfoDescription}>\n                                <h2>{__t('product_details')}</h2>\n                                <p>{product.description}</p>\n                            </div>\n                        )}\n                    </div>\n                    <Link onClick={(e) => unmount(e, storeUrl, true)} to={storeUrl} className={styles.storePane}>\n                        <div className={styles.storePaneContent}>\n                            <div className={styles.storePaneMeta}>\n                                <div className={styles.storePaneAvatar}>\n                                    <img src={card.design.photoUrl} alt={card.profile.fullname} />\n                                </div>\n                                <div className={styles.storePaneInfo}>\n                                    <h3>{card.profile.fullname}</h3>\n                                    {card.profile.category && card.profile.category !== 'category_not_business' && (\n                                        <span>{__t(card.profile.category)}</span>\n                                    )}\n                                </div>\n                            </div>\n                            <div className={styles.storePaneIcon}>\n                                <FiChevronRight size={20} />\n                            </div>\n                        </div>\n                    </Link>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nPageProducts.propTypes = {\n    card: PropTypes.object.isRequired,\n    product: PropTypes.object.isRequired,\n    unmount: PropTypes.func.isRequired,\n    isFetching: PropTypes.bool.isRequired,\n    lastCollectionSlug: PropTypes.any.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"rootContainer\":\"_2CHp8St7\",\"root\":\"zcI1X9zF\",\"loaded\":\"_3VnLD9L_\",\"noAnimation\":\"bXlSTByx\"};","import PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport React, { useState } from 'react';\nimport { useHistory, useRouteMatch } from 'react-router';\nimport { useDeepCompareEffect, useUnmount } from 'react-use';\n\nimport { productsApi } from '@mssgme/lib';\nimport PageProduct from '../PageProduct';\nimport styles from './styles.scss';\n\nexport default function PageProductContainer({\n    card,\n    firstLoad,\n    setFirstLoad,\n    setLastCollectionSlug,\n    lastCollectionSlug,\n    ...props\n}) {\n    const { workspaceId, collections } = card;\n    const match = useRouteMatch();\n    const { productSlug } = match.params;\n    const history = useHistory();\n    const [product, setProduct] = useState(false);\n    const [isFetching, setIsFetching] = useState(false);\n    const defaultCollection = collections.items.find((col) => col.default);\n    const [isLoaded, setIsLoaded] = useState(false);\n    let unmountTimeout;\n\n    const getProduct = async () => {\n        const fromCollection =\n            (history.location.state && history.location.state.fromCollection) || defaultCollection._id;\n\n        setIsFetching(true);\n\n        const json = await productsApi.loadBySlug(workspaceId, productSlug, fromCollection);\n\n        setProduct(json);\n        setIsFetching(false);\n        setIsLoaded(true);\n        setFirstLoad(false);\n    };\n\n    const unmount = (e, backPath, unmountAll) => {\n        e.preventDefault();\n\n        if (unmountAll) {\n            setLastCollectionSlug(false);\n        }\n        setIsLoaded(false);\n\n        unmountTimeout = setTimeout(() => {\n            history.push(backPath);\n        }, 610);\n    };\n\n    useDeepCompareEffect(() => {\n        if (defaultCollection) {\n            void getProduct();\n        }\n    }, [productSlug, defaultCollection && defaultCollection._id, card.products]);\n\n    useUnmount(() => {\n        clearTimeout(unmountTimeout);\n    });\n\n    return (\n        <div className={styles.rootContainer}>\n            <div className={cn({ [styles.root]: true, [styles.loaded]: isLoaded, [styles.noAnimation]: firstLoad })}>\n                {product && (\n                    <PageProduct\n                        {...props}\n                        card={card}\n                        product={product}\n                        isFetching={isFetching}\n                        unmount={unmount}\n                        lastCollectionSlug={lastCollectionSlug}\n                    />\n                )}\n            </div>\n        </div>\n    );\n}\n\nPageProductContainer.propTypes = {\n    card: PropTypes.object.isRequired,\n    firstLoad: PropTypes.bool.isRequired,\n    setFirstLoad: PropTypes.func.isRequired,\n    setLastCollectionSlug: PropTypes.func.isRequired,\n    lastCollectionSlug: PropTypes.any.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { Route } from 'react-router';\n\nimport PageProductContainer from '@mssgme/app/components/Product/PageProductContainer';\nimport { CardProductsPage } from '../Elements';\nimport { Card } from '../../UI';\n\nexport function CardRoutes({ data, widgetMode, paths }) {\n    const [lastCollectionSlug, setLastCollectionSlug] = useState(false);\n    const [firstLoad, setFirstLoad] = useState(true);\n\n    return (\n        <>\n            <Route\n                path={paths.home}\n                render={(props) => (\n                    <Card\n                        {...props}\n                        data={data}\n                        previewMode\n                        widgetMode={widgetMode}\n                        firstLoad={firstLoad}\n                        setFirstLoad={setFirstLoad}\n                    />\n                )}\n            />\n            <Route\n                path={paths.product}\n                render={(props) => (\n                    <PageProductContainer\n                        {...props}\n                        card={data}\n                        firstLoad={firstLoad}\n                        setFirstLoad={setFirstLoad}\n                        setLastCollectionSlug={setLastCollectionSlug}\n                        lastCollectionSlug={lastCollectionSlug}\n                    />\n                )}\n            />\n            <Route\n                path={[paths.collection, paths.product]}\n                render={({ match }) => {\n                    if (!match.params.collectionSlug && !lastCollectionSlug) {\n                        return null;\n                    }\n\n                    return (\n                        <CardProductsPage\n                            collectionSlug={match.params.collectionSlug || lastCollectionSlug}\n                            card={data}\n                            setLastCollectionSlug={setLastCollectionSlug}\n                            firstLoad={firstLoad}\n                            setFirstLoad={setFirstLoad}\n                        />\n                    );\n                }}\n            />\n        </>\n    );\n}\n\nCardRoutes.propTypes = {\n    data: PropTypes.object.isRequired,\n    paths: PropTypes.object.isRequired,\n    widgetMode: PropTypes.bool,\n};\n\nCardRoutes.defaultProps = {\n    widgetMode: false,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { HashRouter } from 'react-router-dom';\n\nimport { LanguageContext } from '@mssgme/hooks';\nimport { CardRoutes } from '../CardRoutes';\nimport { CardContainer } from '../Elements';\nimport { useLocales, usePreview } from './hooks';\n\nexport function CardPreview({ widgetMode = false, ...rest }) {\n    const { i18n, isLoaded } = useLocales('card');\n    const { preview } = usePreview();\n\n    return isLoaded ? (\n        <HashRouter>\n            <LanguageContext.Provider value={i18n.language}>\n                <CardContainer widgetMode={widgetMode} {...rest}>\n                    <CardRoutes\n                        data={preview}\n                        widgetMode={widgetMode}\n                        paths={{ home: '/', collection: '/c/:collectionSlug', product: '/p/:productSlug' }}\n                    />\n                </CardContainer>\n            </LanguageContext.Provider>\n        </HashRouter>\n    ) : null;\n}\n\nCardPreview.propTypes = {\n    widgetMode: PropTypes.bool,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport { SelectSimple } from '@mssgme/ui';\n\nexport function SelectMessengerType({ platform, ...props }) {\n    const { t } = useTranslation('cards');\n    let messengerTypes = [];\n\n    if (platform === 'whatsapp') {\n        messengerTypes.push(\n            {\n                label: t('selectMessengerType.phone'),\n                value: 'private',\n            },\n            {\n                label: t('selectMessengerType.chat'),\n                value: 'public',\n            }\n        );\n    }\n\n    if (platform === 'viber') {\n        messengerTypes.push(\n            {\n                label: t('selectMessengerType.phone'),\n                value: 'private',\n            },\n            {\n                label: t('selectMessengerType.public'),\n                value: 'public',\n            },\n            {\n                label: t('selectMessengerType.community'),\n                value: 'community',\n            }\n        );\n    }\n\n    return <SelectSimple {...props} options={messengerTypes} />;\n}\n\nSelectMessengerType.propTypes = {\n    platform: PropTypes.string.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"__bVYP8W\"};","import React from 'react';\nimport cn from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport styles from './PageLayout.scss';\n\nPageLayout.propTypes = {\n    className: PropTypes.string,\n};\n\nexport default function PageLayout({ className, children, ...rest }) {\n    return (\n        <div className={cn(styles.root, className)} {...rest}>\n            {children}\n        </div>\n    );\n}\n","export default __webpack_public_path__ + \"img/icon_we_use_mssgme_en.svg\";","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2CHW2mBj\",\"title\":\"_3B06uJeN\",\"text\":\"_3nr695qz\",\"center\":\"_2C-uDjHO\",\"spaced\":\"_84l_sYyV\"};","import React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport { cls } from '@mssgme/helpers';\nimport { useAccessControl } from '@mssgme/hooks';\nimport { RestrictAccessTypes } from '../../../domainTypes';\nimport { Button, LinkButton } from '../../Inputs';\nimport { PortalModalSheet } from '../../ModalSheet';\n\nimport styles from './styles.scss';\n\nconst getUpdateRedirect = ({ code, plan, target }) => {\n    if (code === 'forbidden') {\n        return;\n    }\n\n    const baseUrl = __LEGACY__ ? '/s' : '';\n    const path = [baseUrl, 'billing'];\n\n    if (code !== 'unpaid') {\n        path.push('plans');\n\n        if (code === 'upgrade') {\n            path.push(target);\n        }\n        // todo: plan quantity is not used for now, uncomment the following if it's changed\n        // else if (code === 'upgradeTeamLimit') {\n        //     path.push(plan);\n        //     path.push('quantity');\n        // }\n    }\n\n    return path.join('/');\n};\n\nconst permissionToTranslationKey = (permission) => permission ? permission.replace(':', '.') : '';\n\n/**\n * @param {string} className\n * @param {*} [children]\n * @param {*} [referrer]\n * @param {import('@mssgme/shared').AccessRequestError} reason\n * @param {boolean} [center]\n * @param {Function} onCancel\n * @param modal\n * @param rest\n * @returns {JSX.Element}\n */\nexport function NoAccess({ className, children, referrer, reason, center = false, onCancel, modal, ...rest }) {\n    const { t } = useTranslation('ui');\n    const { isAdmin } = useAccessControl();\n    const buttonTo = useMemo(() => (isAdmin && getUpdateRedirect(reason)), [isAdmin, reason]);\n    const title = t(`NoAccess.${reason.code}.heading`, reason);\n    const description =\n        t(`NoAccess.${reason.code}.features.${permissionToTranslationKey(reason.permission)}`, '', reason) ||\n        t(`NoAccess.${reason.code}.description`, reason);\n\n    const Container = modal ? PortalModalSheet : 'div';\n\n    if (!reason.code) {\n        console.warn(reason);\n    }\n\n    return (\n        <Container {...cls([styles.root, center && styles.center, className], rest)}>\n            <h2 className={styles.title}>{title}</h2>\n            <p className={styles.text}>{description}</p>\n            {referrer && (\n                <LinkButton fullWidth btnStyle=\"secondary2\" className={styles.spaced} to={referrer}>\n                    {t('NoAccess.cancel')}\n                </LinkButton>\n            )}\n            {onCancel && (\n                <Button fullWidth btnStyle=\"secondary2\" className={styles.spaced} onClick={onCancel}>\n                    {t('NoAccess.cancel')}\n                </Button>\n            )}\n            {buttonTo && (\n                <LinkButton\n                    fullWidth\n                    btnStyle=\"primary\"\n                    to={buttonTo}\n                    onClick={onCancel}\n                    data-button={`upgrade-to-${reason.target}`}\n                    data-event=\"click-upgrade\"\n                    data-variant=\"restrict\"\n                >\n                    {t(`NoAccess.${reason.code}.button`, reason)}\n                </LinkButton>\n            )}\n            {children}\n        </Container>\n    );\n}\n\nNoAccess.propTypes = {\n    className: PropTypes.string,\n    reason: RestrictAccessTypes.reason.isRequired,\n    onCancel: PropTypes.func,\n    referrer: PropTypes.string,\n    center: PropTypes.bool,\n    children: PropTypes.any,\n    modal: PropTypes.bool,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1uwtQmqU\",\"header\":\"_3PnVmsFA\",\"title\":\"_3NR09vXe\",\"icon\":\"_3AHPyKVT\",\"iconBtn\":\"_3DEC1Lzz\"};","import classNames from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Modal from './Modal';\nimport IconClose from '../../../icons/close.svg';\n\nimport styles from './ModalDialog.scss';\n\nModalDialog.propTypes = {\n    closeButton: PropTypes.bool,\n    title: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    children: PropTypes.node,\n    className: PropTypes.string,\n    onClose: PropTypes.func,\n    modal: PropTypes.object,\n    isOpen: PropTypes.bool,\n};\n\nModalDialog.defaultProps = {\n    closeButton: true,\n    isOpen: false,\n};\n\nexport default function ModalDialog({ isOpen, className, onClose, children, title, closeButton, modal }) {\n    if (!isOpen) return null;\n\n    return (\n        <Modal {...modal} onClose={onClose} className={styles.container}>\n            <div className={classNames(styles.root, className)}>\n                {closeButton && (\n                    <div className={styles.iconBtn} onClick={onClose}>\n                        <IconClose className={styles.icon} />\n                    </div>\n                )}\n                {title && (\n                    <div className={styles.header}>\n                        <div className={styles.title}>{typeof title !== 'function' ? title : title()}</div>\n                    </div>\n                )}\n                <div className={styles.content}>{children}</div>\n            </div>\n        </Modal>\n    );\n}\n","import $script from 'scriptjs';\n\nimport config from 'config';\n\nfunction ApiError(response) {\n    const message = response.error && typeof response.error === 'string' ? response.error : 'Api error';\n    const error = new Error(message);\n    error.response = response;\n    error.type = 'facebookApiError';\n    return error;\n}\n\nclass FacebookAPIAdapter {\n    getLoginStatus() {\n        return new Promise((resolve, reject) => {\n            window.FB.getLoginStatus((response) => {\n                if (response) {\n                    resolve(response);\n                } else {\n                    reject(ApiError('Error'));\n                }\n            });\n        });\n    }\n\n    api(...args) {\n        return new Promise((resolve, reject) => {\n            window.FB.api(...args, (response) => {\n                if (!response || response.error) {\n                    reject(ApiError(response));\n                } else {\n                    resolve(response);\n                }\n            });\n        });\n    }\n\n    login(options) {\n        return new Promise((resolve, reject) => {\n            window.FB.login((response) => {\n                if (response) {\n                    resolve(response);\n                } else {\n                    reject(ApiError(response));\n                }\n            }, options);\n        });\n    }\n}\n\nconst FB_SDK_URL =\n    process.env.NODE_ENV === 'production'\n        ? 'https://connect.facebook.net/en_US/sdk.js'\n        : 'https://connect.facebook.net/en_US/sdk/debug.js';\n\nlet instance;\n\nexport default () => {\n    if (!instance) {\n        instance = new Promise((resolve, reject) => {\n            $script(FB_SDK_URL, () => {\n                if (!window.FB) {\n                    const err = new Error('Not initialized');\n                    return reject(err);\n                }\n\n                window.FB.init({\n                    appId: config.facebook_app_id,\n                    cookie: true,\n                    xfbml: false,\n                    status: true,\n                    version: 'v12.0',\n                });\n\n                const adapter = new FacebookAPIAdapter();\n\n                resolve(adapter);\n            });\n        });\n    }\n\n    return instance;\n};\n","import { useSelector } from 'react-redux';\nimport { getUserRole } from '@mssgme/store';\n\nexport function useAccessControl() {\n    const role = useSelector(getUserRole);\n\n    function hasAccess(...allowedRoles) {\n        return allowedRoles.includes(role);\n    }\n\n    const isAdmin = hasAccess('owner', 'admin');\n    const isOwner = hasAccess('owner');\n    const isManager = hasAccess('manager');\n\n    return { hasAccess, role, isAdmin, isOwner, isManager };\n}\n","export default __webpack_public_path__ + \"img/aboutProLogo.svg\";","function hasOwnProperty(obj, prop) {\n    return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nexport default function queryString(obj) {\n    let arr = [];\n\n    for (let prop in obj) {\n        if (hasOwnProperty(obj, prop)) {\n            const fragment = [prop, obj[prop]].join('=');\n            arr.push(fragment);\n        }\n    }\n\n    return arr.length > 0 ? `?${arr.join('&')}` : '';\n}\n\nqueryString.parse = function parse(str) {\n    const pairs = (str || '').replace('?', '').split('&');\n    const result = {};\n\n    for (const pair of pairs) {\n        const trimmed = pair.replace(/\\+/g, '%20');\n        const idx = trimmed.indexOf('=');\n\n        if (idx <= 0) {\n            continue;\n        }\n\n        const key = decodeURIComponent(trimmed.slice(0, idx));\n        const value = decodeURIComponent(trimmed.slice(idx + 1));\n\n        if (!hasOwnProperty(result, key)) {\n            result[key] = value;\n        } else if (Array.isArray(result[key])) {\n            result[key].push(value);\n        } else {\n            result[key] = [result[key], value];\n        }\n    }\n\n    return result;\n};\n","export default __webpack_public_path__ + \"img/messengers/icon-line.svg\";","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"JbT8d0t8\",\"right\":\"_3fbTNNoe\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './styles.scss';\n\nconst FormRow = ({ className, hasError, align, children, as: Tag = 'div', ...rest }) => (\n    <Tag className={classNames(className, styles.root, { [styles.right]: align === 'right' })} {...rest}>\n        {children}\n    </Tag>\n);\n\nFormRow.propTypes = {\n    className: PropTypes.string,\n    hasError: PropTypes.bool,\n    children: PropTypes.any,\n    as: PropTypes.oneOfType([PropTypes.string, PropTypes.elementType, PropTypes.func]),\n    align: PropTypes.oneOf(['left', 'right']),\n};\n\nFormRow.defaultProps = {\n    hasError: false,\n};\n\nexport default FormRow;\n","export default __webpack_public_path__ + \"img/visa_logo.png\";","import store from 'store2';\n\nimport config from 'config';\nimport { isFormData, isJsonContentType, JSON_CONTENT_TYPE } from '@mssgme/api-client';\nimport { ACCESS_TOKEN_KEY } from './constants';\n\nconst IMAGE_VARIANT = 'normal';\nconst ICON_VARIANT = 'icon_192';\n\nexport class Media {\n    constructor(baseUrl) {\n        this.baseUrl = baseUrl;\n    }\n\n    async listFiles(filters) {\n        return this.makeGet('/files', filters);\n    }\n\n    async uploadFile({ file, workspace, website, destination }) {\n        const form = new FormData();\n        form.append('file', file);\n        form.append('workspace', workspace);\n        form.append('website', website);\n        form.append('destination', destination);\n        return this.makePost('/api/files', form);\n    }\n\n    async uploadImage({ file, workspace, website, destination }) {\n        const form = new FormData();\n        form.append('file', file);\n        form.append('variant', IMAGE_VARIANT);\n        form.append('workspace', workspace);\n        if (website) form.append('website', website);\n        form.append('destination', destination);\n        return this.makePost('/api/images', form);\n    }\n\n    async uploadIcon({ file, workspace, website, destination }) {\n        const form = new FormData();\n        form.append('file', file);\n        form.append('variant', ICON_VARIANT);\n        form.append('format', 'png');\n        form.append('workspace', workspace);\n        form.append('website', website);\n        form.append('destination', destination);\n        return this.makePost('/api/images', form);\n    }\n\n    // example payload: { path: ['/images/photo1.jpg', '/images/photo2.jpg'] }\n    deleteFiles(payload) {\n        return this.makePost('/api/files/delete', payload);\n    }\n\n    getHeaders() {\n        return {\n            Accept: JSON_CONTENT_TYPE,\n            Authorization: `Bearer ${this.getAccessToken()}`,\n        };\n    }\n\n    getAccessToken() {\n        return store.get(ACCESS_TOKEN_KEY);\n    }\n\n    async makePost(endpoint, payload) {\n        const urlObj = new URL(endpoint, this.baseUrl);\n        const isForm = isFormData(payload);\n        const headers = this.getHeaders();\n\n        if (!isForm) {\n            headers['Content-Type'] = JSON_CONTENT_TYPE;\n        }\n\n        const response = await fetch(urlObj, {\n            method: 'POST',\n            body: isForm ? payload : JSON.stringify(payload),\n            headers,\n        });\n        if (response.status === 204) return;\n\n        return isJsonContentType(response.headers) ? response.json() : response.text();\n    }\n\n    async makeGet(endpoint, filters) {\n        const urlObj = new URL(endpoint, this.baseUrl);\n        urlObj.search = new URLSearchParams(filters);\n        const response = await fetch(urlObj, { headers: this.getHeaders() });\n\n        return isJsonContentType(response.headers) ? response.json() : response.text();\n    }\n}\n\nexport default new Media(config.media_url);\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"hcOCh6Da\",\"disabled\":\"_3TBIVTem\",\"requiredMark\":\"_3WtuGYA0\",\"optionalMark\":\"_2PTbVhmm\",\"builderStyle\":\"Gj3y1KB5\"};","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { cls } from '@mssgme/helpers';\nimport { LabelProps } from './types';\n\nimport styles from './Label.scss';\n\nexport default function Label({ disabled, required, optional, builderInput, children, ...props }) {\n    const { t } = useTranslation('ui');\n    const mark = required ? (\n        <span className={styles.requiredMark} title={t('labels.field_required')}>\n            *\n        </span>\n    ) : (\n        optional && (\n            <span className={styles.optionalMark} title={t('labels.field_optional')}>\n                {t('labels.optional')}\n            </span>\n        )\n    );\n\n    return (\n        <label {...cls([styles.root, builderInput && styles.builderStyle, disabled && styles.disabled], props)}>\n            {children}\n            {mark}\n        </label>\n    );\n}\n\nLabel.propTypes = LabelProps;\n\nLabel.styles = styles;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1Mx-SGW9\"};","import React from 'react';\n\nimport { cls } from '@mssgme/helpers';\nimport FieldError from './FieldError';\nimport styles from './FieldWarning.scss';\n\nexport default function FieldWarning(props) {\n    return <FieldError {...cls(styles.root, props)} />;\n}\n","import React, { createElement, useCallback } from 'react';\nimport { useFormikContext } from 'formik';\nimport { useTranslation } from 'react-i18next';\n\nimport { cls } from '@mssgme/helpers';\nimport { useRestriction } from '@mssgme/hooks';\n\nimport { getProps } from './utils';\nimport { FieldRowProps } from './types';\nimport Row from './Row';\nimport Label from './Label';\nimport FieldError from './FieldError';\nimport FieldWarning from './FieldWarning';\n\nconst isObject = (value) => value && typeof value === 'object';\n\nexport default function FieldRow({ as: element, id, children, tag: Tag = Row, builderInput, ...props }) {\n    const {\n        row: { name, label, labelClassName, errorClassName, restrictRule, required, optional, ...rowProps },\n        control: controlProps,\n    } = getProps(props);\n    const { t } = useTranslation();\n    const { hasWarning, showWarning } = useRestriction(restrictRule);\n    const formik = useFormikContext();\n\n    const handleClick = (e) => {\n        e.preventDefault();\n        showWarning();\n    };\n\n    const { name: formName, warning, getFieldProps, getFieldMeta } = formik;\n    const meta = getFieldMeta(name);\n\n    if (!id) {\n        id = `${formName || 'form'}_${name}`.replaceAll('.', '_');\n    }\n\n    const isCustomRender = typeof children === 'function';\n    const field = (isCustomRender || !children) && Object.assign(getFieldProps(name), controlProps, {\n        id,\n        builderInput,\n    });\n\n    const makeLabel = useCallback(\n        (label, props) => (\n            <Label\n                required={required}\n                optional={optional}\n                disabled={controlProps.disabled}\n                htmlFor={id}\n                builderInput={builderInput}\n                {...(props ? cls(labelClassName, props) : { className: labelClassName })}\n            >\n                {label}\n            </Label>\n        ),\n        [labelClassName, required, optional, controlProps.disabled, id, builderInput]\n    );\n    let control;\n\n    if (isCustomRender) {\n        control = children({\n            form: formik,\n            field,\n            meta,\n            makeLabel,\n        });\n    } else {\n        control = children || createElement(element || 'input', field);\n    }\n\n    return (\n        <Tag {...rowProps} onClick={hasWarning ? handleClick : null}>\n            {label && makeLabel(label)}\n            {control}\n            {warning && <FieldWarning>{t(warning)}</FieldWarning>}\n            {meta.error && meta.touched && !isObject(meta.error) && (\n                <FieldError className={errorClassName}>{t(meta.error)}</FieldError>\n            )}\n        </Tag>\n    );\n}\n\nFieldRow.propTypes = FieldRowProps;\n","export function getProps(props) {\n    const {\n        style,\n        className,\n        name,\n        label,\n        labelClassName,\n        errorClassName,\n        restrictRule,\n        required,\n        optional,\n        disabled,\n        controlProps,\n        ...rest\n    } = props;\n    const row = {\n        required,\n        optional,\n        style,\n        className,\n        name,\n        label,\n        labelClassName,\n        errorClassName,\n        restrictRule,\n        disabled,\n    };\n    const control = { name, disabled, required, ...controlProps, ...rest };\n\n    return { row, control };\n}\n","export default __webpack_public_path__ + \"img/icon_share_two.png\";","import { BaseApi } from './baseApi';\n\nexport class ReviewsApi extends BaseApi {\n    constructor(options) {\n        super(options);\n\n        this.accessToken = null;\n    }\n\n    request(endpoint, options) {\n        let params = {};\n        if (Array.isArray(endpoint)) [endpoint, params] = endpoint;\n        if (this.accessToken) params.accessToken = this.accessToken;\n\n        return super.request([endpoint, params], options);\n    }\n\n    list(workspaceId, params) {\n        return super.get([`/workspaces/${workspaceId}/reviews`, params]);\n    }\n\n    my(workspaceId) {\n        return super.get(`/workspaces/${workspaceId}/reviews/my`);\n    }\n\n    create(workspaceId, body) {\n        return super.post(`/workspaces/${workspaceId}/reviews`, body);\n    }\n\n    delete(workspaceId, reviewId) {\n        return super.delete(`/workspaces/${workspaceId}/reviews/${reviewId}`);\n    }\n}\n\nexport default new ReviewsApi();\n","import { useMemo } from 'react';\nimport { uaParser } from '@mssgme/shared';\nimport { useLanguage } from './useLanguage';\nimport { branding_url, main_hostname, fallback_language } from 'config';\n\nexport function useBrandingUrl({ target, url } = {}) {\n    const lang = useLanguage();\n    const { isMobile } = useMemo(() => uaParser(window.navigator?.userAgent), []);\n    const resultUrl = useMemo(() => {\n        const baseUrl = (url || branding_url).replace('{lang}', lang === fallback_language ? '' : `/${lang}`);\n        const target = isMobile ? 'mobile' : 'desktop';\n        const content =\n            window.location.hostname === main_hostname\n                ? window.location.pathname.split('/')[1]\n                : window.location.hostname;\n        const urlObj = new URL(baseUrl);\n        const finalTarget = target || (isMobile ? 'mobile' : 'desktop');\n\n        urlObj.search = new URLSearchParams({\n            utm_source: 'userpage_branding_logo',\n            utm_medium: `userpage_branding_${finalTarget}`,\n            utm_campaign: `userpage_branding_${finalTarget}`,\n            utm_content: content,\n        });\n\n        return urlObj.toString();\n    }, [lang, target, url]);\n\n    return resultUrl;\n}\n","export default function resolvePathname(...args) {\n    const path = args.join('/');\n    const leadSlash = path.charAt(0) === '/' ? '/' : '';\n    const parts = path.split('/');\n    const res = [];\n\n    for (let i = 0; i < parts.length; i++) {\n        if (typeof parts[i] !== 'string' || !parts[i] || parts[i] === '.') {\n            continue;\n        } else if (parts[i] === '..') {\n            res.pop();\n        } else {\n            res.push(parts[i]);\n        }\n    }\n\n    return leadSlash + res.join('/');\n}\n","/*global Sentry*/\nimport isAbsoluteUrl from 'is-absolute-url';\nimport contentType from 'content-type';\nimport { set } from 'lodash';\n\nimport { ValidationError } from './errors';\n\nexport const JSON_CONTENT_TYPE = 'application/json';\n\nexport function isFormData(form) {\n    return form instanceof FormData;\n}\n\nexport function isObject(obj) {\n    return typeof obj === 'object';\n}\n\nexport function isJsonContentType(headers) {\n    const ct = headers.get('Content-Type');\n\n    if (!ct) {\n        return false;\n    }\n\n    return contentType.parse(ct).type === JSON_CONTENT_TYPE;\n}\n\nexport function normalizeUrl(url) {\n    return isAbsoluteUrl(url) ? url : window.location.origin + url;\n}\n\nexport const asyncify = (fn) => async (...args) => fn(...args);\n\nexport function parseErrors(json) {\n    const errors = {};\n\n    if (json?.errors) {\n        for (let name in json.errors) {\n            set(errors, name, json.errors[name]);\n        }\n    }\n\n    return errors;\n}\n\nfunction logError(error, extras) {\n    if (process.env.NODE_ENV !== 'production') {\n        // eslint-disable-next-line no-console\n        console.error(error, extras);\n    } else if ('Sentry' in window) {\n        Sentry.withScope((scope) => {\n            scope.setExtras(extras);\n\n            Sentry.captureException(error);\n        });\n    }\n}\n\nexport function createActionCreator(type) {\n    type = `@API/${type}`;\n\n    function actionCreator(data) {\n        return { type, ...data };\n    }\n\n    actionCreator.type = type;\n    actionCreator.toString = () => type;\n\n    return actionCreator;\n}\n\nexport function createSocketListener(socketFactory, eventName, transformPayload) {\n    const type = `@API/SOCKET/${eventName}`;\n\n    if (!transformPayload) {\n        transformPayload = (payload) => ({ payload });\n    }\n\n    const actionCreator = () => (dispatch) => {\n        const socket = socketFactory.createSocket();\n\n        socket.on(eventName, (payload, meta = {}) => {\n            const ignore = meta.clientId === socketFactory.clientId;\n\n            if (ignore) {\n                return;\n            }\n\n            dispatch({\n                type,\n                socketId: socket.id,\n                ...meta,\n                ...transformPayload(...(Array.isArray(payload) ? payload : [payload])),\n                ignore: false,\n            });\n        });\n    };\n    actionCreator.type = type;\n    actionCreator.toString = () => type;\n\n    return actionCreator;\n}\n\nexport function createActionCreators(api, target = {}) {\n    function createThunkActionCreator(name, apiCall) {\n        apiCall = asyncify(apiCall);\n\n        const pending = createActionCreator(name);\n        const fulfilled = createActionCreator(`${name}/SUCCESS`);\n        const rejected = createActionCreator(`${name}/FAILURE`);\n\n        function thunkActionCreator(arg0 = {}) {\n            arg0 = { ...api._params, ...arg0 };\n\n            return async (dispatch, getState) => {\n                dispatch(pending(arg0));\n\n                try {\n                    const result = await apiCall(arg0);\n                    dispatch(fulfilled({ ...arg0, result }));\n\n                    return result;\n                } catch (error) {\n                    dispatch(rejected({ ...arg0, error }));\n\n                    if (!ValidationError.is(error)) {\n                        logError(error, {\n                            action: rejected.toString(),\n                            state: getState(),\n                        });\n                    }\n\n                    throw error;\n                }\n            };\n        }\n\n        thunkActionCreator.request = pending;\n        thunkActionCreator.requestType = pending.type;\n        thunkActionCreator.success = fulfilled;\n        thunkActionCreator.successType = fulfilled.type;\n        thunkActionCreator.failure = rejected;\n        thunkActionCreator.failureType = rejected.type;\n        thunkActionCreator.toString = pending.toString;\n        thunkActionCreator.type = pending.type;\n\n        return thunkActionCreator;\n    }\n\n    function deepPenetration(obj, parentPath, result = {}) {\n        for (const [prop, value] of Object.entries(obj)) {\n            if (prop.startsWith('_')) {\n                continue;\n            }\n\n            const path = parentPath ? `${parentPath}.${prop}` : prop;\n\n            if (typeof value === 'object') {\n                result[prop] = deepPenetration(value, path);\n            } else if (typeof value === 'function') {\n                result[prop] = createThunkActionCreator(path, value);\n            }\n        }\n\n        return result;\n    }\n\n    return deepPenetration(api.resources, null, target);\n}\n","export default __webpack_public_path__ + \"img/choose.svg\";","export default __webpack_public_path__ + \"img/onboarding/analytics.svg\";","import { memoize } from 'lodash';\n\nconst CURRENCY_SYMBOL = new Map([['USD', 'en-US'], ['EUR', 'de-DE']]);\n\nconst resolveFormatter = memoize(\n    (locale, currency) => {\n        if (CURRENCY_SYMBOL.has(currency)) {\n            locale = CURRENCY_SYMBOL.get(currency);\n        }\n\n        return new Intl.NumberFormat(locale, {\n            style: 'currency',\n            currency: currency,\n            currencyDisplay: CURRENCY_SYMBOL.has(currency) ? 'symbol' : 'code',\n            minimumFractionDigits: 0,\n            useGrouping: false,\n        });\n    },\n    (l, c) => `${l}${c}`\n);\n\nconst formatPrice = (amount, currency, locale) => {\n    return resolveFormatter(locale, currency).format(amount);\n};\n\nexport default formatPrice;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3bEucP4S\",\"fullWidth\":\"_3feTH91h\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './styles.scss';\n\nconst Box = ({ className, fullWidth, children, ...rest }) => (\n    <div className={classNames(styles.root, fullWidth && styles.fullWidth, className)} {...rest}>\n        {children}\n    </div>\n);\n\nBox.propTypes = {\n    fullWidth: PropTypes.bool,\n    children: PropTypes.any,\n    className: PropTypes.string,\n};\n\nexport default Box;\n","const regex = /^[^:]*:\\/*/;\n\nexport default (str) => str.replace(regex, '');\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport NavItem from './NavItem';\n\nexport default function NavItemLink(props) {\n    return <NavItem tag={NavLink} activeClassName={NavItem.styles.active} {...props} />;\n}\n","import { createActionCreators, createSocketListener } from '@mssgme/api-client';\nimport api from '@mssgme/api';\n\nconst actionCreators = createActionCreators(api);\n\nactionCreators.init = () => async (dispatch) => {\n    if (!api.isAuthenticated) {\n        return;\n    }\n\n    const batch = (arr) => Promise.all(arr.map((item) => dispatch(item)));\n\n    return batch([\n        actionCreators.users.me(),\n        actionCreators.workspaces.retrieve(),\n        actionCreators.billing.details(),\n        actionCreators.billing.products.prices(),\n        actionCreators.websites.list(),\n        actionCreators.collections.list(),\n        // actionCreators.products.list(),\n        // actionCreators.conversations.unread(),\n    ]);\n};\n\nfunction createListener(eventName, transformPayload) {\n    return createSocketListener(api, eventName, transformPayload);\n}\n\nconst contactProduce = (contactId, payload) => ({ contactId, payload });\nconst feedbackProduce = (feedbackId, result) => ({ feedbackId, result });\nconst userUpdatedProduce = (event) => event;\n\n// SocketObserver\nactionCreators.listenConnect = createListener('connect');\nactionCreators.listenDisconnect = createListener('disconnect');\nactionCreators.listenReconnect = createListener('reconnect');\nactionCreators.listenVerifyVersion = createListener('verifyVersion'); // TODO: remove\n\n// AppObserver\nactionCreators.listenUserUpdated = createListener('user_updated', userUpdatedProduce);\n\n// InboxObserver\nactionCreators.listenNewMessages = createListener('newMessages', contactProduce);\nactionCreators.listenCreateConversation = createListener('createConversation', contactProduce);\nactionCreators.listenUpdateConversation = createListener('updateConversation', contactProduce);\n\n// BillingObserver\nactionCreators.listenSubscriptionCreated = createListener('subscription_created');\nactionCreators.listenSubscriptionUpdated = createListener('subscription_updated');\nactionCreators.listenSubscriptionCancelled = createListener('subscription_cancelled');\n\nactionCreators.listenPaymentSucceeded = createListener('subscription_payment_succeeded');\nactionCreators.listenPaymentInitialSucceeded = createListener('initial_subscription_payment_succeeded');\nactionCreators.listenPaymentFailed = createListener('subscription_payment_failed');\nactionCreators.listenPaymentRetryFailed = createListener('retry_subscription_payment_failed');\nactionCreators.listenHighRiskTransactionUpdated = createListener('high_risk_transaction_updated');\n\n// FeedbackObserver\nactionCreators.listenCreateFeedback = createListener('createFeedback', feedbackProduce);\nactionCreators.listenUpdateFeedback = createListener('updateFeedback', feedbackProduce);\n\nactionCreators.conversations.filterList = ({ query, ...rest } = {}) => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const { status, assign, searchValue, showNewFirst } = state.ui.conversationsFilter;\n\n        query = {\n            status,\n            assign,\n            searchValue,\n            sort: showNewFirst ? 'new' : 'old',\n            ...query,\n        };\n\n        return dispatch(actionCreators.conversations.list({ query, ...rest }));\n    };\n};\n\nfunction createThunkAction(type, callback) {\n    type = `@API/${type}`;\n    const actionCreator = (payload) => async (dispatch) => {\n        dispatch({ type, payload });\n        await callback(payload);\n    };\n    actionCreator.type = type;\n    actionCreator.toString = () => type;\n\n    return actionCreator;\n}\n\nactionCreators.unsubscribe = createThunkAction('unsubscribe', ({ cancelUrl }) => {\n    window.open(cancelUrl);\n});\n\nexport default actionCreators;\n","import React from 'react';\nimport Responsive from 'react-responsive';\n\nimport { MEDIA_BREAKPOINTS } from '../../hooks';\n\nexport const Desktop = (props) => <Responsive {...props} {...MEDIA_BREAKPOINTS['desktop']} />;\nexport const AboveMobile = (props) => <Responsive {...props} {...MEDIA_BREAKPOINTS['aboveMobile']} />;\nexport const BelowDesktop = (props) => <Responsive {...props} {...MEDIA_BREAKPOINTS['belowDesktop']} />;\nexport const Tablet = (props) => <Responsive {...props} {...MEDIA_BREAKPOINTS['tablet']} />;\nexport const Mobile = (props) => <Responsive {...props} {...MEDIA_BREAKPOINTS['mobile']} />;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1cnTjnAM\",\"nonCritical\":\"_3hRipkpF\",\"shake\":\"_3QPDy911\",\"animated\":\"_2GF_HvGn\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport styles from './styles.scss';\n\nFormErrors.propTypes = {\n    error: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n    critical: PropTypes.bool,\n    shake: PropTypes.bool,\n    errorStyle: PropTypes.object,\n};\n\nexport default function FormErrors({ error, critical = true, shake, errorStyle }) {\n    if (!error) return null;\n\n    const errors = Array.isArray(error) ? error : [error];\n\n    return (\n        <ul\n            className={classNames(styles.root, {\n                [styles.nonCritical]: !critical,\n                [styles.shake]: shake,\n                [styles.animated]: shake,\n            })}\n            style={errorStyle}\n        >\n            {errors.map((msg, index) => (\n                <li key={index}>{msg}</li>\n            ))}\n        </ul>\n    );\n}\n","export default __webpack_public_path__ + \"img/aboutProBg.jpg\";","import { versionCheck } from '@mssgme/shared';\nimport { useWorkspace } from './useWorkspace';\n\nexport function useExperiments() {\n    const { card, projectVersion } = useWorkspace();\n    const isLinksDisplayed = !!card?.links?.length;\n    const isInboxDisplayed = versionCheck(projectVersion, '<=2.9');\n    const isOldVersionDisplayed = process.env.REACT_APP_TARGET !== 'mobile' && versionCheck(projectVersion, '<4.0.0');\n    const isSavingUtm = versionCheck(projectVersion, '>=5.12.0');\n\n    return {\n        isInboxDisplayed,\n        isLinksDisplayed,\n        isSavingUtm,\n        isOldVersionDisplayed,\n    };\n}\n","// extracted by mini-css-extract-plugin\nexport default {};","export default __webpack_public_path__ + \"img/blank.png\";","import { isFormData, isObject, JSON_CONTENT_TYPE } from './helpers';\n\nexport function setContentType(request) {\n    if (isFormData(request.payload)) {\n        delete request.headers['Content-Type'];\n    } else {\n        request.headers['Content-Type'] = JSON_CONTENT_TYPE;\n    }\n}\n\nexport function preparePayload(request) {\n    request.originalPayload = request.payload;\n\n    if (!isFormData(request.payload) && isObject(request.payload)) {\n        request.payload = JSON.stringify(request.payload);\n    }\n}\n","import { compile } from 'path-to-regexp';\nimport { EventEmitter } from 'events';\n\nimport { isJsonContentType, JSON_CONTENT_TYPE, normalizeUrl } from './helpers';\nimport {\n    ValidationError,\n    RequestError,\n    LimitRequestsError,\n    AuthorizationError,\n    ForbiddenError,\n    NotFoundError,\n    NetworkError,\n} from './errors';\nimport { preparePayload, setContentType } from './middlewares';\n\nexport class ApiRequest {\n    constructor({ method, url, payload, headers = {} }) {\n        this.method = method;\n        this.url = url;\n        this.payload = payload;\n        this.headers = headers;\n    }\n}\n\nexport class ApiClient extends EventEmitter {\n    constructor({ baseUrl = '/api', headers, middlewares = [setContentType, preparePayload] }) {\n        super();\n        this._baseUrl = normalizeUrl(baseUrl);\n        this._headers = { Accept: JSON_CONTENT_TYPE, ...headers };\n        this._params = {};\n        this._middlewares = middlewares;\n\n        this.addMiddleware(this.addHeaders);\n    }\n\n    addMiddleware(fn) {\n        this._middlewares.push(fn);\n    }\n\n    /**\n     * @param {{ headers: object }} request Request object to modify\n     * @private\n     */\n    addHeaders(request) {\n        request.headers['Accept-Language'] = navigator.language;\n    }\n\n    param(...args) {\n        if (args.length === 0) {\n            throw new Error('key argument is required');\n        }\n\n        if (args.length === 1) {\n            return this._params[args[0]];\n        }\n\n        const [key, value] = args;\n\n        if (value == null) {\n            delete this._params[key];\n        } else {\n            this._params[key] = value;\n        }\n    }\n\n    /**\n     * @param {object} param0 Options\n     * @param {string} param0.endpoint Endpoint URI pattern\n     * @param {object} [param0.params] Optional endpoint parameters\n     * @param {object} [param0.query] Optional search query\n     * @returns {URL} Resulting URL\n     */\n    generateUrl({ endpoint, params = {}, query = {} }) {\n        try {\n            const toPath = compile(endpoint);\n            const compiledPath = toPath({ ...this._params, ...params });\n            const url = new URL(this._baseUrl + compiledPath);\n\n            for (const [key, value] of Object.entries(query)) {\n                if (Array.isArray(value)) {\n                    value.forEach((item) => url.searchParams.append(key, item));\n                } else if (value && typeof value === 'object') {\n                    for (const [vKey, vValue] of Object.entries(value)) {\n                        url.searchParams.append(`${key}[${vKey}]`, vValue);\n                    }\n                } else {\n                    url.searchParams.append(key, value);\n                }\n            }\n\n            return url;\n        } catch (e) {\n            throw new Error(`Failed to generate URL for endpoint \"${endpoint}\": ${e.message}`);\n        }\n    }\n\n    /**\n     *\n     * @param {'GET'|'POST'|'PUT'|'DELETE'|'OPTIONS'} method Request method\n     * @param {URL} url Request URL\n     * @param {object} [payload] Request payload\n     * @returns {ApiRequest} Resulting request descriptor\n     */\n    createApiRequest(method, url, payload) {\n        const request = new ApiRequest({\n            method: method.toUpperCase(),\n            url,\n            payload,\n            headers: { ...this._headers },\n        });\n\n        this._middlewares.forEach((fn) => {\n            fn.call(this, request);\n        });\n\n        return request;\n    }\n\n    /**\n     * @param {ApiRequest} request Request descriptor\n     * @param {boolean} [raw=false] Return raw response object\n     * @returns {Promise<object|string>} Response result\n     */\n    async execRequest(request, raw) {\n        let response;\n\n        try {\n            response = await fetch(request.url, {\n                credentials: 'same-origin',\n                mode: 'cors',\n                method: request.method,\n                body: request.payload,\n                headers: request.headers,\n            });\n        } catch (e) {\n            throw new NetworkError(`${e.message}\\n\\tat \"${request.url}\"`);\n        }\n\n        const isJson = isJsonContentType(response.headers);\n\n        if (response.ok) {\n            if (isJson) {\n                return await response.json();\n            }\n\n            return raw ? response : await response.text();\n        }\n\n        const json = isJson ? await response.json() : undefined;\n\n        switch (response.status) {\n            case 400:\n            case 422:\n                throw new ValidationError({ url: response.url.toString(), status: response.status, json });\n            case 401:\n                throw new AuthorizationError({ url: response.url.toString(), status: response.status, json });\n            case 403:\n                throw new ForbiddenError({ url: response.url.toString(), status: response.status, json });\n            case 404:\n                throw new NotFoundError({ url: response.url.toString(), status: response.status, json });\n            case 429:\n                throw new LimitRequestsError({ url: response.url.toString(), status: response.status, json });\n            default:\n                throw new RequestError({\n                    url: response.url.toString(),\n                    status: response.status,\n                    message: response.statusText,\n                    json,\n                });\n        }\n    }\n\n    /**\n     * @param {'GET'|'POST'|'PUT'|'DELETE'|'OPTIONS'} method Request method\n     * @param {string} endpoint Endpoint pattern\n     * @param {{ payload?: object; query?: object; raw?: boolean } | object} [opts] Optional endpoint options\n     * @returns {Promise<object|string>} Call result\n     */\n    async apiCall(method, endpoint, opts = {}) {\n        const { raw, payload, query, ...params } = opts;\n        const url = this.generateUrl({ endpoint, params, query });\n        const request = this.createApiRequest(method, url, payload);\n\n        return this.execRequest(request, raw);\n    }\n\n    /**\n     * @param {'GET'|'POST'|'PUT'|'DELETE'|'OPTIONS'} method Request method\n     * @param {string} endpoint Endpoint pattern\n     * @returns {(opts: { payload?: object; query?: object; raw?: boolean } | object) => Promise<object|string>} Callback\n     */\n    method(method, endpoint) {\n        return (opts) => this.apiCall(method, endpoint, opts);\n    }\n\n    get(endpoint) {\n        return this.method('GET', endpoint);\n    }\n\n    put(endpoint) {\n        return this.method('PUT', endpoint);\n    }\n\n    patch(endpoint) {\n        return this.method('PATCH', endpoint);\n    }\n\n    post(endpoint) {\n        return this.method('POST', endpoint);\n    }\n\n    delete(endpoint) {\n        return this.method('DELETE', endpoint);\n    }\n}\n","import store from 'store2';\nimport memoizeOne from 'memoize-one';\nimport jwtDecode from 'jwt-decode';\nimport io from 'socket.io-client';\nimport uuid from 'uuid/v1';\n\nimport i18n from '@mssgme/i18n';\nimport { ApiClient } from '@mssgme/api-client';\n\nimport { ACCESS_TOKEN_KEY, CLIENT_UUID_KEY, PATHS } from './constants';\nimport media from './media';\n\nconst memJwtDecode = memoizeOne(jwtDecode);\n\nconst PERMANENT_KEYS = [CLIENT_UUID_KEY];\n\nfunction clearStore() {\n    store.each((key) => {\n        if (!PERMANENT_KEYS.includes(key)) {\n            store.remove(key);\n        }\n    });\n}\n\n/** @typedef {import('@mssgme/api-client').ApiGetMethod} ApiGetMethod */\n/** @typedef {import('@mssgme/api-client').ApiPutMethod} ApiPutMethod */\n/** @typedef {import('@mssgme/api-client').ApiDeleteMethod} ApiDeleteMethod */\n\n/** @typedef {{ new: number; processing: number; rejected: number; accepted: number }} FeedbackCounts */\n/**\n * @template {{ payload?: object, query?: object }} O\n * @typedef {(options: O) => Promise<{ token: string }>} TokenRequestMethod<O>\n */\n\nexport class MssgApiClient extends ApiClient {\n    _params = {\n        workspaceId: '',\n    };\n\n    _socket = null;\n\n    /**\n     * @param {{ baseUrl?: string, socketUrl: string, headers: object, middlewares: Function[] }} opts Client options\n     */\n    constructor(opts = {}) {\n        super(opts);\n        this._socketUrl = opts.socketUrl;\n\n        this._accessToken = store.get(ACCESS_TOKEN_KEY);\n        this._storeClientId();\n    }\n\n    // TODO: add clientId to JWT\n    _storeClientId() {\n        let clientId = store.get(CLIENT_UUID_KEY);\n        if (!clientId) {\n            clientId = uuid();\n            store.set(CLIENT_UUID_KEY, clientId);\n        }\n        this.clientId = clientId;\n    }\n\n    addHeaders(request) {\n        if (this._accessToken) {\n            request.headers['Authorization'] = `Bearer \"${this._accessToken}\"`;\n        }\n\n        request.headers['Accept-Language'] = i18n.language;\n        request.headers['X-Client-Id'] = this.clientId;\n    }\n\n    get isAuthenticated() {\n        return !!this._accessToken;\n    }\n\n    get accessToken() {\n        return this._accessToken;\n    }\n\n    set accessToken(token) {\n        this._accessToken = token;\n\n        if (token) {\n            store.set(ACCESS_TOKEN_KEY, token);\n        } else {\n            store.remove(ACCESS_TOKEN_KEY);\n            this._closeSocket();\n        }\n\n        this.emit('changeAccessToken');\n    }\n\n    get aboutMe() {\n        return this._accessToken ? memJwtDecode(this._accessToken) : null;\n    }\n\n    _createSocket() {\n        const socket = io(this._socketUrl, {\n            transports: __DEV__ ? ['polling', 'websocket'] : ['websocket'],\n            query: {\n                token: this._accessToken,\n                clientId: this.clientId,\n            },\n        });\n\n        socket.on('connect', () => {\n            socket.emit('start');\n        });\n\n        return socket;\n    }\n\n    _closeSocket() {\n        if (this._socket) {\n            this._socket.close();\n            this._socket = null;\n        }\n    }\n\n    createSocket() {\n        if (!this._socket) this._socket = this._createSocket();\n        return this._socket;\n    }\n\n    async execRequest(...args) {\n        try {\n            return await super.execRequest(...args);\n        } catch (e) {\n            // 403 Forbidden (Unauthorized), and not a blocked feature request, just a regular request\n            if (e.status === 403 && !e.permission) {\n                this.accessToken = null;\n            }\n\n            throw e;\n        }\n    }\n\n    getWorkspaceId() {\n        return this._params.workspaceId;\n    }\n\n    /**\n     * @param {'GET'|'POST'} method Request method\n     * @param {string} path Request path\n     * @returns {TokenRequestMethod<O>} Response\n     */\n    tokenRequest(method, path) {\n        return async (options) => {\n            const res = await this.apiCall(method, path, options);\n            this.accessToken = res.token;\n            return res;\n        };\n    }\n\n    // resources\n\n    resources = {\n        auth: {\n            /** @member {TokenRequestMethod<{ code: string }>} */\n            getToken: this.tokenRequest('GET', `${PATHS.auth}/token/:code`),\n            /** @member {TokenRequestMethod<{ payload: { username: string; password: string } }>} */\n            login: this.tokenRequest('POST', `${PATHS.auth}/login`),\n            logout: async () => {\n                this.accessToken = null;\n                clearStore();\n            },\n        },\n\n        billing: {\n            update: this.put(PATHS.billing) /** TODO: remove */,\n            changePlan: this.post(`${PATHS.billing}/change-plan`),\n            previewPlanChange: this.post(`${PATHS.billing}/preview-plan-change`),\n            changeCreditCard: this.put(`${PATHS.billing}/card`) /** TODO: remove */,\n            applyCoupon: this.put(`${PATHS.billing}/apply-coupon`) /** TODO: remove */,\n            getCoupon: this.get(`${PATHS.billing}/coupons/:couponId`) /** TODO: remove */,\n            details: this.get(`${PATHS.billing}/details`),\n            subscription: {\n                create: this.post(`${PATHS.subscription}/create`),\n                cancel: this.post(`${PATHS.subscription}/cancel`),\n                pause: this.post(`${PATHS.subscription}/pause`), // TODO: remove\n                renew: this.post(`${PATHS.subscription}/renew`),\n                changeCard: this.post(`${PATHS.subscription}/change-card`),\n                payNow: this.post(`${PATHS.subscription}/pay-now`),\n            },\n            products: {\n                prices: this.get(`${PATHS.billing}/products/prices`),\n            },\n        },\n\n        bot: {\n            donate: this.post(`${PATHS.bot}/donate`),\n            subscribe: this.post(`${PATHS.bot}/subscribe`),\n        },\n\n        bots: {\n            create: this.post(`${PATHS.bots}`),\n            update: this.put(`${PATHS.bots}/:botId`),\n            delete: this.delete(`${PATHS.bots}/:botId`),\n            upload: async ({ payload, botId, field = 'file' }) => {\n                const form = new FormData();\n                form.append(field, payload);\n\n                return this.apiCall('POST', `${PATHS.bots}/:botId/upload`, {\n                    botId,\n                    payload: form,\n                    query: { field },\n                });\n            },\n        },\n\n        card: {\n            update: this.put(`${PATHS.card}`),\n            patch: this.patch(`${PATHS.card}`),\n            statistics: this.get(`${PATHS.card}/statistics`),\n            // updateCategory: this.put(`${PATHS.card}/category`),\n            // updateUrl: this.put(`${PATHS.card}/url`),\n            // updateName: this.put(`${PATHS.card}/name`),\n            // updateDescription: this.put(`${PATHS.card}/description`),\n            // updateAvatar: this.put(`${PATHS.card}/photo`),\n            // updateCover: this.put(`${PATHS.card}/cover`),\n            messengers: {\n                create: this.post(`${PATHS.card}/messengers`),\n                sort: this.put(`${PATHS.card}/messengers/sort`),\n                update: this.put(`${PATHS.card}/messengers/:messengerId`),\n                delete: this.delete(`${PATHS.card}/messengers/:messengerId`),\n            },\n            links: {\n                /** @member {ApiPutMethod<{}, LinkInterface>} create */\n                create: this.post(`${PATHS.card}/links`),\n                /** @member {ApiPutMethod<{ linkId: string }, LinkInterface>} */\n                update: this.put(`${PATHS.card}/links/:linkId`),\n                /** @member {ApiDeleteMethod<{ linkId: string }, LinkInterface>} */\n                delete: this.delete(`${PATHS.card}/links/:linkId`),\n            },\n            domain: {\n                connect: this.put(`${PATHS.card}/domain`),\n                disconnect: this.delete(`${PATHS.card}/domain`),\n            },\n            uploadAvatar: ({ payload }) => {\n                return this.resources.workspaces.upload({\n                    payload,\n                    uploadType: 'photo',\n                    field: 'design.photo',\n                });\n            },\n            uploadCover: ({ payload }) => {\n                return this.resources.workspaces.upload({\n                    payload,\n                    uploadType: 'background',\n                    field: 'design.background.image',\n                });\n            },\n        },\n\n        onboarding: {\n            update: this.put(PATHS.onboarding),\n        },\n\n        collections: {\n            list: this.get(PATHS.collections),\n            /** @member {ApiPutMethod<{}, ProductCollection>} */\n            create: this.post(PATHS.collections),\n            retrieve: this.get(`${PATHS.collections}/:collectionId`),\n            sort: this.put(`${PATHS.collections}/sort`),\n            /** @member {ApiPutMethod<{ collectionId: string }, ProductCollection>} */\n            update: this.put(`${PATHS.collections}/:collectionId`),\n            /** @member {ApiDeleteMethod<{ collectionId: string }>} */\n            delete: this.delete(`${PATHS.collections}/:collectionId`),\n            products: {\n                get: this.get(`${PATHS.collections}/:collectionId/products`),\n                update: this.put(`${PATHS.collections}/:collectionId/products`),\n            },\n        },\n\n        contacts: {\n            list: this.get(PATHS.contacts),\n            update: this.put(`${PATHS.contacts}/:contactId`),\n            delete: this.delete(`${PATHS.contacts}/:contactId`),\n        },\n\n        conversations: {\n            /** @member {ApiGetMethod<{ next?: string }, { next?: string, assign: string, status: string, sort: string, searchValue: string }>} */\n            list: this.get(PATHS.conversations),\n            retrieve: this.get(`${PATHS.conversations}/:contactId`),\n            /** @member {ApiPutMethod<{ contactId: string }>} */\n            read: this.put(`${PATHS.conversations}/:contactId/read`),\n            /** @member {ApiPutMethod<{ contactId: string, userId: string }>} */\n            assign: this.put(`${PATHS.conversations}/:contactId/assign/:userId`),\n            /** @member {ApiPutMethod<{ contactId: string }>} */\n            assignMe: this.put(`${PATHS.conversations}/:contactId/assign/me`),\n            /** @member {ApiPutMethod<{ contactId: string, status: 'open'|'close' }>} */\n            changeStatus: this.put(`${PATHS.conversations}/:contactId/status/:status`),\n            /** @member {ApiPutMethod<{ contactId: string }>} */\n            block: this.put(`${PATHS.conversations}/:contactId/block`),\n            uploadAttachment: async ({ payload, contactId }) => {\n                const form = new FormData();\n                form.append('file', payload);\n\n                return this.apiCall('POST', `${PATHS.conversations}/:contactId/uploads/attachment`, {\n                    contactId,\n                    payload: form,\n                    query: { field: 'file' },\n                });\n            },\n            sendAttachment: async ({ contactId, payload }) => {\n                const { file, ...rest } = payload;\n                const { url, filename, mime, size } = await this.resources.conversations.uploadAttachment({\n                    contactId,\n                    payload: file,\n                });\n\n                return this.resources.messages.create({\n                    contactId,\n                    payload: {\n                        type: mime === 'image/png' || mime === 'image/jpeg' ? 'image' : 'file',\n                        mediaUrl: url,\n                        fileName: filename,\n                        fileSize: size,\n                        destination: 'client',\n                        ...rest,\n                    },\n                });\n            },\n            /** @member {ApiPutMethod<{ contactId: string }, { text: string }>} */\n            sendMessage: ({ contactId, payload }) => {\n                return this.apiCall('POST', PATHS.messages, {\n                    contactId,\n                    payload: { type: 'text', destination: 'client', ...payload },\n                });\n            },\n            messages: this.get(PATHS.messages),\n            /** @member {ApiGetMethod<{}, { status: string }>} */\n            statistics: this.get(`${PATHS.conversations}/statistics`),\n            unread: this.get(`${PATHS.conversations}/unread`),\n        },\n\n        integrations: {\n            create: this.post(PATHS.integrations),\n            /** @member {ApiDeleteMethod<{ integrationId: string }>} */\n            delete: this.delete(`${PATHS.integrations}/:integrationId`),\n        },\n\n        messages: {\n            list: this.get(PATHS.messages),\n            create: this.post(PATHS.messages),\n        },\n\n        products: {\n            list: this.get(PATHS.products),\n            sublist: this.get(PATHS.products),\n            create: this.post(PATHS.products),\n            retrieve: this.get(`${PATHS.products}/:productId`),\n            update: this.put(`${PATHS.products}/:productId`),\n            delete: this.delete(`${PATHS.products}/:productId`),\n            sort: this.put(`${PATHS.products}/sort`),\n            migrate: this.post(`${PATHS.products}/migrate`),\n            /** @member {ApiGetMethod<{ collectionId: string }, { next?: string, filter?: string }, { next?: string, results: *[] }>} load */\n            listByCollection: this.get(`${PATHS.products}/:collectionId/sorted`),\n            retrieveBySlug: this.get(`${PATHS.products}/:collectionId/:productSlug`),\n            uploadPhoto: ({ payload, websiteId }) => {\n                return media.uploadImage({\n                    file: payload,\n                    workspace: this.getWorkspaceId(),\n                    website: websiteId,\n                    destination: `w/${this.getWorkspaceId()}/websites/${websiteId}/products`,\n                });\n            },\n            uploadPhotos: async ({ payloads, websiteId }) => {\n                const results = await Promise.all(\n                    payloads.map(async (file) => {\n                        try {\n                            const { url } = await this.resources.products.uploadPhoto({\n                                payload: file,\n                                websiteId,\n                            });\n\n                            return { file: file.name, result: url };\n                        } catch (error) {\n                            return { file: file.name, error: (error.errors && error.errors.photos) || error.message };\n                        }\n                    })\n                );\n                const success = results.filter(({ result }) => result);\n                const failed = results.filter(({ error }) => error);\n\n                return {\n                    success,\n                    failed,\n                };\n            },\n        },\n\n        replies: {\n            list: this.get(PATHS.replies),\n            create: this.post(PATHS.replies),\n            update: this.put(`${PATHS.replies}/:replyId`),\n            delete: this.delete(`${PATHS.replies}/:replyId`),\n        },\n\n        reviews: {\n            list: this.get(PATHS.reviews),\n            create: this.post(PATHS.reviews),\n            delete: this.delete(`${PATHS.reviews}/:reviewId`),\n            my: this.get(`${PATHS.reviews}/my`),\n        },\n\n        team: {\n            create: this.post(PATHS.team),\n            update: this.put(`${PATHS.team}/:memberId`),\n            delete: this.delete(`${PATHS.team}/:memberId`),\n        },\n\n        users: {\n            create: async (options) => {\n                const res = await this.apiCall('POST', `${PATHS.users}`, options);\n                this.accessToken = res.token;\n                return res;\n            },\n            // validate: this.post(`${PATHS.users}/validate`),\n            // validateCode: this.post(`${PATHS.users}/validate/code`),\n            // validateEmail: this.post(`${PATHS.users}/validate/email`),\n            // validateUrl: this.post(`${PATHS.users}/validate/url`),\n            // validatePassword: this.post(`${PATHS.users}/validate/password`),\n            checkInvite: this.post(`${PATHS.users}/check-invite`),\n            checkRegistrationInvite: this.post(`${PATHS.users}/check-reg-invite`),\n            recoveryPassword: this.post(`${PATHS.users}/recovery-password`),\n            join: async (options) => {\n                const res = await this.apiCall('POST', `${PATHS.users}/join`, options);\n                this.accessToken = res.token;\n                return res;\n            },\n            me: this.get(`${PATHS.users}/me`),\n            deleteAccount: () => {\n                const res = this.apiCall('DELETE', `${PATHS.users}/me`);\n\n                // Clear store after redirect\n                setTimeout(() => {\n                    this._accessToken = null;\n                    store.clearAll();\n                }, 100);\n                return res;\n            },\n            updateMyAccount: this.put(`${PATHS.users}/me`),\n            changeMyPassword: this.put(`${PATHS.users}/me/change-password`),\n            sendFeedback: this.put(`${PATHS.users}/me/feedback`),\n            saveMySubscription: this.put(`${PATHS.users}/me/save-subscription`),\n            /** @member {ApiPutMethod<{}, Record<string, string>, void>} */\n            updateUtm: this.post(`${PATHS.users}/me/utm`),\n            uploadAvatar: ({ payload, field }) => {\n                return this.resources.workspaces.upload({\n                    uploadType: 'photo',\n                    payload,\n                    field,\n                });\n            },\n            invites: {\n                list: this.get(PATHS.invites),\n                create: this.post(PATHS.invites),\n                delete: this.delete(`${PATHS.invites}/:inviteId`),\n            },\n            switchApp: this.put(`${PATHS.users}/me/switch-app`),\n            connectTelegram: this.post(`${PATHS.users}/me/connect-telegram`),\n            addApnToken: this.post(`${PATHS.users}/me/apn-tokens`),\n        },\n\n        workspaces: {\n            my: this.get(`${PATHS.workspaces}/my`),\n            create: this.post(PATHS.workspaces),\n            retrieve: this.get(`${PATHS.workspaces}/:workspaceId`),\n            update: this.put(`${PATHS.workspaces}/:workspaceId`),\n            delete: this.delete(`${PATHS.workspaces}/:workspaceId`),\n            upload: async ({ payload, field, uploadType }) => {\n                const form = new FormData();\n                form.append(field, payload);\n\n                return this.apiCall('POST', `${PATHS.workspaces}/:workspaceId/uploads/:uploadType`, {\n                    payload: form,\n                    query: { field },\n                    uploadType,\n                });\n            },\n        },\n\n        websites: {\n            list: this.method('GET', PATHS.websites),\n            create: this.method('POST', PATHS.websites),\n            scaffold: this.method('POST', `${PATHS.websites}/scaffold`),\n            retrieveBySlug: this.method('GET', `${PATHS.websites}/slug/:websiteSlug`),\n            retrieve: this.method('GET', PATHS.website),\n            update: this.method('PUT', PATHS.website),\n            delete: this.method('DELETE', PATHS.website),\n            updateHomePage: this.method('POST', `${PATHS.website}/homepage`),\n            domain: {\n                update: this.method('PUT', `${PATHS.website}/domain`),\n                delete: this.method('DELETE', `${PATHS.website}/domain`),\n                get: this.method('GET', `${PATHS.website}/domain`),\n            },\n            upload: async ({ websiteId, payload }) => {\n                return media.uploadImage({\n                    file: payload,\n                    workspace: this.getWorkspaceId(),\n                    website: websiteId,\n                    destination: `w/${this.getWorkspaceId()}/websites/${websiteId}`,\n                });\n            },\n            uploadFavicon: async ({ websiteId, payload }) => {\n                return media.uploadIcon({\n                    file: payload,\n                    workspace: this.getWorkspaceId(),\n                    website: websiteId,\n                    destination: `w/${this.getWorkspaceId()}/websites/${websiteId}`,\n                });\n            },\n            uploadMany: async ({ websiteId, payloads, field = 'files' }) => {\n                const results = await Promise.all(\n                    payloads.map(async (file) => {\n                        try {\n                            const result = await this.resources.websites.upload({\n                                websiteId,\n                                field,\n                                payload: file,\n                            });\n\n                            return { file: file.name, result };\n                        } catch (error) {\n                            return { file: file.name, error: (error.errors && error.errors[field]) || error.message };\n                        }\n                    })\n                );\n                const success = results.filter(({ result }) => result);\n                const failed = results.filter(({ error }) => error);\n\n                return {\n                    success,\n                    failed,\n                };\n            },\n            deleteUpload: async ({ path }) => media.deleteFiles({ path: [path] }),\n            crm: {\n                settings: {\n                    update: this.post(`${PATHS.website}/crm/settings`),\n                },\n            },\n            audience: {\n                /** @member {ApiGetMethod<{ websiteId: string }, { next: string }, Array<*>>} */\n                list: this.get(`${PATHS.website}/audience`),\n                /** @member {ApiGetMethod<{ websiteId: string }, {}, void>} */\n                downloadUrl: this.get(`${PATHS.website}/audience/download-url`),\n            },\n            services: {\n                /** @member {ApiPutMethod<{ websiteId: string }, { message: string }>} */\n                requestABlock: this.post(`${PATHS.website}/request-a-block`),\n            },\n            /** @member {ApiGetMethod<{ websiteId: string }, { from: string, to: string }, Array<{  }>>} */\n            statistics: this.get(`${PATHS.website}/statistics`),\n        },\n\n        pages: {\n            list: this.method('GET', PATHS.pages),\n            create: this.method('POST', PATHS.pages),\n            retrieve: this.method('GET', `${PATHS.pages}/:pageId`),\n            update: this.method('PUT', `${PATHS.pages}/:pageId`),\n            delete: this.method('DELETE', `${PATHS.pages}/:pageId`),\n            retrieveBySlug: this.method('GET', `${PATHS.pages}/slug/:pageSlug`),\n            clone: this.method('POST', `${PATHS.pages}/:pageId/clone`),\n            /** @member {ApiPutMethod<{ websiteId: string, pageId: string, templateId: string }>} */\n            applyTemplate: this.post(`${PATHS.pages}/:pageId/apply-template/:templateId`),\n        },\n\n        feedbacks: {\n            list: this.method('GET', PATHS.feedbacks),\n            create: this.method('POST', PATHS.feedbacks),\n            /** @member {ApiGetMethod<{ websiteId: string }, {}, FeedbackCounts>} */\n            count: this.method('GET', `${PATHS.feedbacks}/count`),\n            /** @member {ApiPutMethod<{}, { websiteIds: string[]; types?: Array<'new'|'processing'|'rejected'|'accepted'> }, Record.<string, FeedbackCounts>>} */\n            perWebsiteCount: this.post(`${PATHS.websites}/feedback/count`),\n            /** @member {ApiGetMethod<{ websiteId: string }, {}, { new: number }>} */\n            recent: this.method('GET', `${PATHS.feedbacks}/recent`),\n            /** @member {ApiGetMethod<{ websiteId: string, feedbackId: string }, {}, { _id: string }>} */\n            retrieve: this.method('GET', `${PATHS.feedbacks}/:feedbackId`),\n            update: this.method('PUT', `${PATHS.feedbacks}/:feedbackId`),\n            delete: this.method('DELETE', `${PATHS.feedbacks}/:feedbackId`),\n        },\n\n        orders: {\n            list: this.method('GET', PATHS.orders),\n            update: this.method('PUT', `${PATHS.orders}/:orderId`),\n        },\n\n        blocks: {\n            create: this.post(PATHS.blocks),\n            /** @member {ApiPutMethod<{ websiteId: string, pageId: string, blockId: string }, { blocks: Array<*>}>} */\n            update: this.put(`${PATHS.blocks}/:blockId`),\n            /** @member {ApiPutMethod<{ websiteId: string, pageId: string, blockId: string }, { to: string }>} */\n            convert: this.put(`${PATHS.blocks}/:blockId/convert`),\n            /** @member {ApiDeleteMethod<{ websiteId: string, pageId: string, blockId: string }>} */\n            delete: this.delete(`${PATHS.blocks}/:blockId`),\n            /** @member {ApiPutMethod<{ websiteId: string, pageId: string }, { blockId: string[], enable: boolean }>} */\n            toggle: this.put(`${PATHS.blocks}/toggle`),\n            /** @member {ApiPutMethod<{ websiteId: string, pageId: string }, { blockId: string[], group: boolean }>} */\n            group: this.put(`${PATHS.blocks}/group`),\n            /** @member {ApiPutMethod<{ websiteId: string, pageId: string }, { blockId: string[] }>} */\n            clone: this.put(`${PATHS.blocks}/clone`),\n            /** @member {ApiPutMethod<{ websiteId: string, pageId: string }, { blockId: string[] }>} */\n            deleteMany: this.put(`${PATHS.blocks}/deleteMany`),\n            /** @member {ApiPutMethod<{ websiteId: string, pageId: string }, { oldIndex: number, newIndex: number }>} */\n            sort: this.put(`${PATHS.blocks}/sort`),\n        },\n\n        tags: {\n            list: this.get(PATHS.tags),\n            create: this.post(PATHS.tags),\n            retrieve: this.get(`${PATHS.tags}/:tagId`),\n            update: this.put(`${PATHS.tags}/:tagId`),\n            delete: this.delete(`${PATHS.tags}/:tagId`),\n        },\n\n        pageTemplates: {\n            /** @member {ApiGetMethod<{}, { title?: string, primaryTags: string[], secondaryTags: string[] }, { results: Array<{ name: string, blocks: Array }>, next?: string }>} */\n            list: this.get(PATHS.templates),\n            /** @member {ApiPutMethod<{}, { public: boolean, name: string, primaryTags: string[], secondaryTags: string[], blocks: Array }>} */\n            create: this.post(PATHS.templates),\n            /** @member {ApiGetMethod<{ templateId: string }, {}, { _id: string, name: string, blocks: Array }>} */\n            retrieve: this.get(`${PATHS.templates}/:templateId`),\n            /** @member {ApiPutMethod<{ templateId: string }, { name: string, primaryTags: string[], secondaryTags: string[], blocks: Array }>} */\n            update: this.put(`${PATHS.templates}/:templateId`),\n            /** @member {ApiDeleteMethod<{ templateId: string }>} */\n            delete: this.delete(`${PATHS.templates}/:templateId`),\n            uploadThumbnail: ({ payload, field }) => {\n                return this.resources.workspaces.upload({\n                    uploadType: 'template',\n                    payload,\n                    field,\n                });\n            },\n        },\n\n        crm: {\n            settings: {\n                update: this.post(`${PATHS.crm}/settings`),\n            },\n        },\n\n        endpoints: {\n            /** @member {ApiGetMethod<{}, { withPurchase: boolean }, { status: 'ok'|'error' }>} */\n            sample: this.get(`${PATHS.endpoints}/test`),\n            /** @member {ApiPutMethod<{}, { endpoint: string; feedback: object }, { status: 'ok'|'error' }>} */\n            test: this.post(`${PATHS.endpoints}/test`),\n        },\n    };\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"SKZRHG0g\"};","import React from 'react';\n\nimport { cls } from '@mssgme/helpers';\nimport styles from './FieldError.scss';\n\nexport default function FieldError(props) {\n    return <div {...cls(styles.root, props)} />;\n}\n","import React from 'react';\nimport { FormikProvider } from 'formik';\n\nimport { renderNode } from '../../helpers';\nimport { EnhancedFormikProps } from './types';\nimport useEnhancedFormik from './useEnhancedFormik';\n\nexport default function EnhancedFormik({ children, ...formikConfig }) {\n    const formik = useEnhancedFormik(formikConfig);\n\n    return <FormikProvider value={formik}>{renderNode(children, formik)}</FormikProvider>;\n}\n\nEnhancedFormik.propTypes = EnhancedFormikProps;\n","var map = {\n\t\"./en-au\": \"4ztU\",\n\t\"./en-au.js\": \"4ztU\",\n\t\"./en-ca\": \"Vj0R\",\n\t\"./en-ca.js\": \"Vj0R\",\n\t\"./en-gb\": \"blmW\",\n\t\"./en-gb.js\": \"blmW\",\n\t\"./en-ie\": \"oC32\",\n\t\"./en-ie.js\": \"oC32\",\n\t\"./en-il\": \"LdJM\",\n\t\"./en-il.js\": \"LdJM\",\n\t\"./en-nz\": \"LhZT\",\n\t\"./en-nz.js\": \"LhZT\",\n\t\"./ru\": \"dcup\",\n\t\"./ru.js\": \"dcup\",\n\t\"./uk\": \"iaX5\",\n\t\"./uk.js\": \"iaX5\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"OzhK\";","/**\n * @param {{ plan: string, status: string; paid: boolean }} billing Workspace billing\n * @param {boolean} [allowPastDue] Allow paid functionality if status is 'past_due'\n * @returns {boolean} True, if paid functionality access should be allowed\n */\nexport const isPaid = (billing, allowPastDue = false) => {\n    const { plan, status, paid } = billing;\n\n    if (plan && (status === 'trialing' || plan === 'basic' || plan === 'unlimited')) {\n        return true;\n    }\n\n    return paid || (allowPastDue && status === 'past_due');\n};\n\n/**\n * @param {{ plan, status, paid }} billing Workspace billing\n * @param {boolean} [allowPastDue] Allow paid functionality if status is 'past_due'\n * @returns {boolean} True, if paid functionality access should be forbidden\n */\nexport const isBasic = (billing, allowPastDue = false) => billing.plan === 'basic' || !isPaid(billing, allowPastDue);\n","import i18n from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport moment from 'moment';\nimport { initReactI18next } from 'react-i18next';\n\nimport config from 'config';\nimport { BackendPlugin } from './i18next-backend-plugin';\nimport { format } from './formatters';\n\nconst backend = new BackendPlugin();\n\nconst DETECTION_ORDER =  process.env.REACT_APP_TARGET === 'mobile' ?\n    ['navigator'] :\n    ['querystring', 'cookie', 'localStorage', 'navigator'];\n\ni18n\n    .use(backend)\n    .use(LanguageDetector)\n    .use(initReactI18next)\n    .init({\n        supportedLngs: config.languages,\n        fallbackLng: config.fallback_language,\n        lowerCaseLng: true,\n        cleanCode: true,\n        ns: ['common'],\n        defaultNS: 'common',\n        debug: process.env.REACT_APP_I18N_DEBUG === 'true',\n        interpolation: {\n            escapeValue: false,\n            format,\n        },\n        detection: {\n            order: DETECTION_ORDER,\n            lookupQuerystring: 'lang',\n            lookupCookie: 'lang',\n            lookupLocalStorage: 'lang',\n            caches: ['localStorage', 'cookie'],\n        },\n        react: {\n            transKeepBasicHtmlNodesFor: ['br', 'strong', 'i', 'p', 'b'],\n        },\n    });\n\ni18n.on('languageChanged', (lng) => {\n    moment.locale(lng);\n});\n\nexport { backend, i18n };\n","import { BaseApi } from './baseApi';\n\nexport class CollectionsApi extends BaseApi {\n    list(workspaceId, params) {\n        return this.get([`/workspaces/${workspaceId}/collections`, params]);\n    }\n}\n\nexport default new CollectionsApi();\n","export default __webpack_public_path__ + \"img/viber.svg\";","import { createSelector } from 'reselect';\n\nexport const getWorkspace = (state) => state.workspace;\n\nexport const findIntegration = createSelector(\n    getWorkspace,\n    (workspace, type) => workspace.integrations.find((i) => i.type === type)\n);\n\nexport const getTeamMembers = createSelector(\n    getWorkspace,\n    (workspace) => workspace.team.filter((i) => i.kind === 'Member').map((i) => i.user)\n);\n\nexport const findMessenger = createSelector(\n    getWorkspace,\n    (workspace, platform) => workspace.card.messengers.find((i) => i.messenger === platform)\n);\n","import { useSelector } from 'react-redux';\n\nexport function useWorkspace() {\n    return useSelector((state) => state.workspace);\n}\n","export default __webpack_public_path__ + \"img/stripe.png\";","import escapeStringRegexp from 'escape-string-regexp';\n\nconst REPLACES = [['PATTERN_REPLACE_ANY', '*', '.*?'], ['PATTERN_REPLACE_ONE', '?', '.']];\n\nexport default function(pattern, flags = 'i', pre = '') {\n    let substitute = pattern;\n\n    for (const [key, repeater] of REPLACES) {\n        substitute = substitute.replaceAll(repeater, key);\n    }\n\n    substitute = escapeStringRegexp(substitute);\n\n    for (const [key, , pattern] of REPLACES) {\n        substitute = substitute.replaceAll(key, pattern);\n    }\n\n    return new RegExp(pre + substitute, flags);\n}\n","export default __webpack_public_path__ + \"img/visa_light.svg\";","import { i18nBackend } from '@mssgme/i18n';\n\nfunction resolver(language) {\n    return import(\n        /* webpackInclude: /\\.json$/ */\n        `./${language}/cards.json`\n    );\n}\n\ni18nBackend.registerResolver('cards', resolver);\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_22Yfu2Gg\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { FiImage } from 'react-icons/fi';\n\nimport { cls } from '@mssgme/helpers';\nimport styles from './ImagePreview.scss';\n\nexport function ImagePreview({ url, ...rest }) {\n    return (\n        <div {...cls(styles.root, rest)}>\n            {url ? <img src={url} alt=\"preview\" /> : <FiImage size={20} color=\"#999\" />}\n        </div>\n    );\n}\n\nImagePreview.propTypes = {\n    url: PropTypes.string,\n};\n\nImagePreview.defaultProps = {\n    url: null,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2qYNvg0w\",\"actions\":\"_3JRXcQAC\",\"button\":\"_2Jg2ySsJ\",\"remove\":\"_4t1czwm9\",\"fileInput\":\"_3yUdUDaU\",\"spinner\":\"xn9q95jq\",\"label\":\"_262LsC6D\"};","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { FiTrash2 } from 'react-icons/fi';\n\nimport Spinner from '../../Spinner';\nimport { ImagePreview } from '../../ImagePreview';\n\nimport styles from './ImageUpload.scss';\n\nexport function ImageUpload({\n    accept,\n    name,\n    onChange,\n    onDelete,\n    preview,\n    previewUrl,\n    isUploading,\n    innerLabel,\n    removable,\n    actions,\n    style,\n}) {\n    const { t } = useTranslation('ui');\n    const handleDelete = useCallback(() => onChange(null, {}), [onChange]);\n\n    return (\n        <div className={styles.root} style={style}>\n            {preview || <ImagePreview url={previewUrl} />}\n\n            <div className={styles.label}>{innerLabel}</div>\n\n            <div className={styles.actions}>\n                <div className={styles.button} style={{ pointerEvents: isUploading ? 'none' : 'auto' }}>\n                    <div style={{ opacity: isUploading ? 0 : 1 }}>\n                        <span>{previewUrl ? t('labels.change') : t('labels.upload')}</span>\n                        <input\n                            type=\"file\"\n                            className={styles.fileInput}\n                            accept={accept}\n                            name={name}\n                            onChange={onChange}\n                        />\n                    </div>\n\n                    {isUploading && (\n                        <div className={styles.spinner}>\n                            <Spinner color=\"white\" size={14} />\n                        </div>\n                    )}\n                </div>\n\n                {actions}\n\n                {((previewUrl && removable) || removable === 'force') && (\n                    <div className={cn(styles.button, styles.remove)} onClick={onDelete || handleDelete}>\n                        <FiTrash2 size={14} />\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\nImageUpload.propTypes = {\n    className: PropTypes.string,\n    name: PropTypes.string.isRequired,\n    accept: PropTypes.string,\n    onChange: PropTypes.func.isRequired,\n    onDelete: PropTypes.func,\n    previewUrl: PropTypes.string,\n    isUploading: PropTypes.bool,\n    innerLabel: PropTypes.string,\n    preview: PropTypes.any,\n    actions: PropTypes.any,\n    style: PropTypes.object,\n    removable: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['force'])]),\n};\n\nImageUpload.defaultProps = {\n    className: '',\n    accept: 'image/png,image/x-png,image/jpeg',\n    isUploading: false,\n    previewUrl: null,\n    innerLabel: 'Image',\n    removable: false,\n    preview: null,\n    actions: null,\n    onDelete: null,\n};\n","import React, { useCallback, useEffect } from 'react';\nimport { useFormikContext } from 'formik';\nimport { get } from 'lodash';\n\nimport { useFetching } from '@mssgme/hooks';\nimport { ImageFieldProps } from './types';\nimport { ImageUpload } from '../Inputs';\nimport FieldRow from './FieldRow';\n\nexport const useUploadCallback = ({ name, upload, onChange }) => {\n    return useFetching(async (e, uploaded) => {\n        const file = get(e, 'target.files.0');\n\n        if (file) {\n            onChange(await upload({ payload: file, field: name }));\n        } else if (uploaded) {\n            onChange(uploaded);\n        }\n    });\n};\n\nexport default function ImageField({ as: Component, upload, name, previewName, onChange, children, ...rest }) {\n    const { setFieldError, setFieldValue, setFieldTouched, getFieldMeta } = useFormikContext();\n    const { error: formError } = getFieldMeta(name);\n\n    const { run: handleChange, pending: isFetching, getValidationError } = useUploadCallback({\n        name,\n        upload,\n        onChange: useCallback(\n            (upload) => {\n                if (onChange) {\n                    onChange(upload);\n                } else {\n                    setFieldValue(name, upload.filename || '');\n                    previewName && setFieldValue(previewName, upload.url || '');\n                    setFieldTouched(name, true, false);\n                }\n            },\n            [name, previewName, onChange]\n        ),\n    });\n    const error = getValidationError(name) || formError;\n\n    useEffect(() => {\n        if (error && error !== formError) {\n            setFieldError(name, error);\n            setFieldTouched(name, true, false);\n        }\n    }, [error, formError]);\n\n    return (\n        <FieldRow name={name} {...rest}>\n            {({ field }) => (\n                <Component\n                    {...field}\n                    isUploading={isFetching}\n                    preview={typeof children === 'function' ? children({ isFetching }) : children}\n                    onChange={handleChange}\n                />\n            )}\n        </FieldRow>\n    );\n}\n\nImageField.propTypes = ImageFieldProps;\n\nImageField.defaultProps = {\n    as: ImageUpload,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"backButton\":\"_33hV2cir\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport Button from '../Button';\nimport styles from './style.scss';\n\nconst CancelButton = ({ styled, ...rest }) => {\n    const { t } = useTranslation('ui');\n\n    if (styled === 'button') {\n        return (\n            <Button size=\"small\" noborder btnStyle=\"transparent\" {...rest}>\n                {t('button.cancel')}\n            </Button>\n        );\n    }\n\n    if (styled === 'backIcon') {\n        return (\n            <div className={styles.backButton}>\n                <Button size=\"small\" noborder btnStyle=\"transparent\" {...rest} />\n            </div>\n        );\n    }\n\n    return null;\n};\n\nCancelButton.propTypes = {\n    styled: PropTypes.string,\n};\n\nCancelButton.defaultProps = {\n    styled: 'button',\n};\n\nexport default CancelButton;\n","import { useCallback, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useMountedState } from 'react-use';\n\nimport { navigationBlocker } from '@mssgme/services';\n\nconst GUID = {\n    id: 0,\n};\n\nexport const useNavigationGuard = ({ blocked, forbid }) => {\n    const history = useHistory();\n    const [callback, setCallback] = useState(null);\n    const [wasBlocking, setWasBlocking] = useState(false);\n    const [uid] = useState(() => `blocker-${++GUID.id}`);\n    const isMounted = useMountedState();\n    const isBlocking = !!callback;\n\n    useEffect(() => {\n        if (!blocked) {\n            return;\n        }\n\n        navigationBlocker\n            .subscribe(history, uid, (callback) => {\n                if (isMounted()) {\n                    // '() => callback' to circumvent 'setCallback' updater treating 'callback' as a lazy initializer\n                    setCallback(() => callback);\n                    setWasBlocking(true);\n                } else {\n                    navigationBlocker.unsubscribe(uid);\n                }\n            })\n            .when(forbid);\n\n        return () => {\n            navigationBlocker.unsubscribe(uid);\n        };\n    }, [uid, blocked, forbid]);\n\n    const confirmed = useCallback(\n        (allow) => {\n            callback(allow);\n\n            if (allow) {\n                navigationBlocker.unsubscribe(uid);\n            }\n\n            if (isMounted()) {\n                setCallback(null);\n\n                if (!allow) {\n                    setWasBlocking(false);\n                }\n            }\n        },\n        [callback]\n    );\n\n    const cancel = useCallback(() => confirmed(false), [confirmed]);\n    const leave = useCallback(() => confirmed(true), [confirmed]);\n\n    return {\n        isBlocking,\n        wasBlocking,\n        uid,\n        cancel,\n        leave,\n    };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"_3uxagRdW\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport { Button } from '../../Inputs';\nimport styles from './NavigationGuardMessage.scss';\n\nexport function NavigationGuardMessage({ cancel, leave }) {\n    const { t } = useTranslation('ui');\n\n    return (\n        <div className={styles.root}>\n            <div className={styles.content}>\n                <p>{t('NavigationGuardMessage.message')}</p>\n            </div>\n            <div>\n                <Button type=\"button\" fullWidth btnStyle=\"secondary2\" onClick={cancel} style={{ marginBottom: 12 }}>\n                    {t('NavigationGuardMessage.buttons.goBack')}\n                </Button>\n                <Button type=\"button\" fullWidth btnStyle=\"danger\" onClick={leave}>\n                    {t('NavigationGuardMessage.buttons.exitNoSave')}\n                </Button>\n            </div>\n        </div>\n    );\n}\n\nNavigationGuardMessage.propTypes = {\n    cancel: PropTypes.func.isRequired,\n    leave: PropTypes.func.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1JTINM45\",\"content\":\"tmuRH_jv\",\"overlay\":\"_1lhYpV-D\",\"prompt\":\"LZLoelqH\",\"box\":\"_2wImQsXV\",\"footer\":\"_3gWPk2pM\"};","import PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Box from '../Box';\nimport { useNavigationGuard } from './useNavigationGuard';\nimport { NavigationGuardMessage } from './NavigationGuardMessage';\n\nimport styles from './NavigationGuard.scss';\n\nconst preventDefault = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n};\n\nexport function NavigationGuard({ blocked, forbid, children, overlay }) {\n    const { isBlocking, wasBlocking, cancel, leave } = useNavigationGuard({ blocked, forbid });\n\n    if (!isBlocking) {\n        return children;\n    }\n\n    return (\n        <div className={styles.root}>\n            <div className={styles.content}>{children}</div>\n            <div className={styles.overlay} onClick={cancel}>\n                {overlay ? (\n                    overlay({ cancel, leave, wasBlocking })\n                ) : (\n                    <div className={styles.prompt} onClick={preventDefault}>\n                        <Box className={styles.box}>\n                            <NavigationGuardMessage cancel={cancel} leave={leave} />\n                        </Box>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\nNavigationGuard.propTypes = {\n    children: PropTypes.node.isRequired,\n    overlay: PropTypes.func,\n    forbid: PropTypes.func,\n    blocked: PropTypes.bool,\n};\n","import React from 'react';\nimport { useFormikContext } from 'formik';\n\nimport { NavigationGuard } from './NavigationGuard';\n\nexport default function EnhancedNavigationGuard(props) {\n    const { dirty, status } = useFormikContext();\n    const blocked = status !== 'success' && dirty;\n\n    return <NavigationGuard blocked={blocked} {...props} />;\n}\n","import { useEffect } from 'react';\nimport NotificationCenter from './notification-center';\n\n/**\n * @param {*} children Notification contents.\n * @param {{ showClose?: boolean, closeDelay?: number }} props Notification options.\n * @returns {null} Renders nothing in-place.\n * @deprecated Use `NotificationCenter.getInstance().notify()` directly instead\n */\nexport default function Notify({ children, ...props }) {\n    useEffect(() => {\n        NotificationCenter.getInstance().notify(children, props);\n    }, [children, props]); // todo: this will potentially always cause effect to fire, as `props` will always be a new object\n\n    return null;\n}\n","import React from 'react';\nimport Notify from './Notify';\n\n/**\n * @param props\n * @deprecated Use `NotificationCenter.getInstance().notify()` directly instead\n */\nexport default function NotifyAndClose(props) {\n    return <Notify showClose {...props} />;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { getPlanDefinition } from '@mssgme/shared';\nimport Badge from '../Badge';\n\nexport const PlanBadge = ({ plan, children, ...rest }) => (\n    <Badge badgeStyle=\"primary\" {...rest}>\n        {children}\n        {getPlanDefinition(plan)?.name || 'PRO'}\n    </Badge>\n);\n\nPlanBadge.propTypes = {\n    ...Badge.propTypes,\n    plan: PropTypes.string.isRequired,\n};\n\nexport default PlanBadge;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2Vv1oXD_\",\"blockedContent\":\"_3gKMPKOt\",\"blockedOverlay\":\"sAI1bh56\",\"striped\":\"EIpqgJnL\",\"blockedWrapper\":\"_37s0qJ_e\",\"dashed\":\"_1MKzTlyH\",\"wrappedContent\":\"RhhAmBsv\"};","import cn from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { cls } from '@mssgme/helpers';\nimport styles from './ContentOverlay.scss';\n\nexport const ContentOverlay = ({ children, overlay, striped, dashed, ...rest }) => {\n    return (\n        <div className={cn(styles.root, striped && styles.striped, dashed && styles.dashed)}>\n            <div {...cls(styles.blockedContent, rest)}>\n                {children && <div className={styles.wrappedContent}>{children}</div>}\n            </div>\n\n            <div className={styles.blockedOverlay}>\n                <div className={styles.blockedWrapper}>{overlay}</div>\n            </div>\n        </div>\n    );\n};\n\nContentOverlay.propTypes = {\n    children: PropTypes.any,\n    overlay: PropTypes.any,\n    striped: PropTypes.bool,\n    dashed: PropTypes.bool,\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { FaLock } from 'react-icons/fa';\nimport { useTranslation } from 'react-i18next';\n\nimport { PlanBadge } from '../../PlanBadge';\nimport { ContentOverlay } from '../../ContentOverlay';\n\nexport const NoAccessOverlay = ({ children, warning }) => {\n    const { t } = useTranslation('ui');\n\n    if (!warning) {\n        return children || null;\n    }\n\n    return (\n        <ContentOverlay\n            overlay={\n                <>\n                    <PlanBadge plan={warning.target}>\n                        <FaLock size={8} />{' '}\n                    </PlanBadge>\n                    <div>{t(`NoAccess.${warning.code}.heading`, { target: warning.target || 'pro' })}</div>\n                </>\n            }\n        >\n            {children}\n        </ContentOverlay>\n    );\n};\n\nNoAccessOverlay.propTypes = {\n    warning: PropTypes.shape({\n        code: PropTypes.string.isRequired,\n        plan: PropTypes.string.isRequired,\n        target: PropTypes.string.isRequired,\n    }),\n};\n","import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { Redirect } from 'react-router-dom';\nimport { AnimatePresence } from 'framer-motion';\n\nimport { useWarning } from '@mssgme/hooks';\nimport { NoAccess } from '../NoAccess';\nimport { NoAccessOverlay } from '../NoAccessOverlay';\nimport { PortalModalSheet } from '../../ModalSheet';\n\nconst RestrictionContext = React.createContext();\n\n// todo: split into RestrictionScope, OverlayRestrictionScope and ModalRestrictionScope\nexport default function RestrictionScope({ children, overlay, noVisuals, fullWidth = true, modal = true, ...rest }) {\n    const { isPresented, warning, hide } = useWarning();\n    const nested = useContext(RestrictionContext);\n    const isAlreadyPresented = isPresented && nested === warning;\n    const upgradePath = warning?.target && `/billing/plans/${warning?.target}`;\n    const canUseOverlay = overlay && !modal;\n    const overlayWarning = overlay?.code ? overlay : warning;\n    const showedWarning = canUseOverlay ? overlayWarning : warning;\n\n    if (isPresented && canUseOverlay && showedWarning) {\n        return (\n            <NoAccessOverlay warning={showedWarning} {...rest}>\n                {children}\n            </NoAccessOverlay>\n        );\n    }\n\n    if (modal) {\n        return (\n            <>\n                {noVisuals && upgradePath && <Redirect to={upgradePath} />}\n\n                {/* this is the only place we care to wrap into RestrictionContext, as other\n                    wouldn't have trouble with nesting */}\n                <RestrictionContext.Provider value={showedWarning}>{children}</RestrictionContext.Provider>\n\n                <AnimatePresence>\n                    {isPresented && !isAlreadyPresented && (\n                        <PortalModalSheet fullWidth={fullWidth} onClose={hide} padding={false}>\n                            <NoAccess reason={showedWarning} onCancel={hide} {...rest} />\n                        </PortalModalSheet>\n                    )}\n                </AnimatePresence>\n            </>\n        );\n    }\n\n    return isPresented ? <NoAccess reason={showedWarning} onCancel={hide} {...rest} /> : children;\n}\n\nRestrictionScope.propTypes = {\n    children: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n    overlay: PropTypes.any,\n    fullWidth: PropTypes.bool,\n    noVisuals: PropTypes.bool,\n    modal: PropTypes.bool,\n};\n","import React, { useCallback, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { get } from 'lodash';\nimport { useTranslation } from 'react-i18next';\nimport { Link, Redirect } from 'react-router-dom';\n\nimport { useActions, useWorkspace } from '@mssgme/hooks';\nimport {\n    CancelButton,\n    EnhancedFormik,\n    EnhancedNavigationGuard,\n    RestrictionScope,\n    Form,\n    NotifyAndClose,\n    renderNode,\n    SaveButton,\n    ScrollableBox,\n    SidebarHeader,\n} from '@mssgme/ui';\nimport { PageLayout, usePreview } from '../../../UI';\n\n// TODO: show popup on profile.url field blur\nexport default function CardEditForm({ children, title, backPath, successRedirectPath }) {\n    const { api } = useActions();\n    const { t } = useTranslation('cards');\n    const { card } = useWorkspace();\n    const { updatePreview } = usePreview();\n\n    const initialValues = useMemo(\n        () => ({\n            profile: {\n                fullname: get(card, 'profile.fullname', ''),\n                website: {\n                    enabled: get(card, 'profile.website.enabled', false),\n                    title: get(card, 'profile.website.title', ''),\n                    url: get(card, 'profile.website.url', ''),\n                },\n                description: get(card, 'profile.description', ''),\n                category: get(card, 'profile.category', ''),\n                url: get(card, 'profile.url', ''),\n            },\n            design: {\n                photo: get(card, 'design.photo'),\n                photoUrl: get(card, 'design.photoUrl'),\n                background: {\n                    type: get(card, 'design.background.type', 'color'),\n                    color: get(card, 'design.background.color', '#2F3542'),\n                    image: get(card, 'design.background.image'),\n                    imageUrl: get(card, 'design.background.imageUrl'),\n                },\n                branding: get(card, 'design.branding', false),\n            },\n            analytics: {\n                facebook: get(card, 'analytics.facebook', ''),\n                google: get(card, 'analytics.google', ''),\n                yandex: get(card, 'analytics.yandex', ''),\n            },\n            seo: {\n                title: get(card, 'seo.title', ''),\n                description: get(card, 'seo.description', ''),\n            },\n        }),\n        [card]\n    );\n    const handleSubmit = useCallback((values) => api.card.update({ payload: { ...card, ...values } }), [card]);\n\n    const leftButton = <CancelButton tag={Link} to={backPath} styled=\"backIcon\" />;\n\n    return (\n        <EnhancedFormik initialValues={initialValues} onSubmit={handleSubmit} onChange={updatePreview}>\n            {(formikProps) => (\n                <EnhancedNavigationGuard>\n                    {formikProps.status === 'success' && (\n                        <>\n                            <NotifyAndClose>{t('CardEditor.saved')}</NotifyAndClose>\n                            <Redirect to={successRedirectPath} />\n                        </>\n                    )}\n                    <PageLayout>\n                        <SidebarHeader heading={title} leftButton={leftButton} rightButton={<SaveButton />} />\n                        <ScrollableBox>\n                            <RestrictionScope modal={false}>\n                                <Form>{renderNode(children, formikProps)}</Form>\n                            </RestrictionScope>\n                        </ScrollableBox>\n                    </PageLayout>\n                </EnhancedNavigationGuard>\n            )}\n        </EnhancedFormik>\n    );\n}\n\nCardEditForm.propTypes = {\n    children: PropTypes.any.isRequired,\n    title: PropTypes.string.isRequired,\n    backPath: PropTypes.string,\n    successRedirectPath: PropTypes.string,\n};\n\nCardEditForm.defaultProps = {\n    backPath: '/p/edit',\n    successRedirectPath: '/p/edit',\n};\n","import CardEditForm from './CardEditForm';\n\nexport default CardEditForm;\n","import AvatarEdit from './AvatarEdit';\n\nexport default AvatarEdit;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { useActions } from '@mssgme/hooks';\nimport { ImageField } from '@mssgme/ui';\nimport { FieldTip, ImageUploadAvatar } from '@mssgme/app/components/UI';\nimport CardEditForm from '../CardEditForm';\n\nexport default function AvatarEdit() {\n    const { t } = useTranslation('cards');\n    const actions = useActions();\n\n    return (\n        <CardEditForm title={t('AvatarEdit.title')}>\n            {({ values }) => (\n                <div style={{ textAlign: 'center' }}>\n                    <ImageField\n                        accept=\"image/png,image/x-png,image/jpeg\"\n                        as={ImageUploadAvatar}\n                        name=\"design.photo\"\n                        previewName=\"design.photoUrl\"\n                        previewUrl={values.design.photoUrl}\n                        buttonLabel={t('designEdit.change_photo')}\n                        upload={actions.api.card.uploadAvatar}\n                    />\n                    <FieldTip>{t('FieldTip.avatar')}</FieldTip>\n                </div>\n            )}\n        </CardEditForm>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_15nFQ69B\"};","import PropTypes from 'prop-types';\nimport React from 'react';\n\nimport { cls } from '@mssgme/helpers';\nimport Checkbox from '../Checkbox';\n\nimport styles from './Toggle.scss';\n\nexport default function Toggle(props) {\n    return <Checkbox styled=\"toggle\" {...cls(styles.root, props)} />;\n}\n\nToggle.propTypes = {\n    className: PropTypes.string,\n    placeholder: PropTypes.any,\n    hasError: PropTypes.bool,\n    disabled: PropTypes.bool,\n    builderInput: PropTypes.bool,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"label\":\"_9175EaG4\"};","import React from 'react';\n\nimport FieldRow from './FieldRow';\nimport { Toggle } from '../Inputs';\nimport { ToggleFieldProps } from './types';\n\nimport styles from './ToggleField.scss';\n\nexport default function ToggleField({ label, onChange: parentChange, ...props }) {\n    return (\n        <FieldRow {...props}>\n            {({ field: { value, name, ...rest }, form: { setFieldValue }, makeLabel }) => (\n                <Toggle\n                    {...rest}\n                    name={name}\n                    checked={value}\n                    placeholder={makeLabel(label, { className: styles.label })}\n                    onChange={(e) => {\n                        const normalized = !!e.target.checked;\n\n                        setFieldValue(name, normalized);\n\n                        parentChange && parentChange(name, normalized);\n                    }}\n                />\n            )}\n        </FieldRow>\n    );\n}\n\nToggleField.propTypes = ToggleFieldProps;\n","import BrandingEdit from './BrandingEdit';\n\nexport default BrandingEdit;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { ToggleField } from '@mssgme/ui';\nimport { FieldTip } from '@mssgme/app/components/UI';\nimport CardEditForm from '../CardEditForm';\n\nexport default function BrandingEdit() {\n    const { t } = useTranslation('cards');\n\n    return (\n        <CardEditForm title={t('BrandingEdit.title')} backPath=\"/p/settings\" successRedirectPath=\"/p/settings\">\n            <ToggleField name=\"design.branding\" label={t('BrandingEdit.labels.enabled')} restrictRule=\"brand:edit\" />\n            <FieldTip>{t('FieldTip.branding')}</FieldTip>\n        </CardEditForm>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1QZh1Pqt\",\"hueContainer\":\"_1c2bN5Jp\",\"inputContainer\":\"_1lyP1KAA\",\"invalidInput\":\"_10b7KaKw\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Hue from 'react-color/lib/components/common/Hue';\nimport CustomPicker from 'react-color/lib/components/common/ColorWrap';\nimport styles from './styles.scss';\n\nconst customPointer = () => {\n    return (\n        <div\n            style={{\n                height: '36px',\n                width: '12px',\n                cursor: 'pointer',\n                backgroundColor: '#fff',\n                position: 'relative',\n                top: '-2px',\n                left: '-6px',\n                borderRadius: '6px',\n                boxShadow: '0 1px 4px rgba(0, 0, 0, 0.37)',\n            }}\n        />\n    );\n};\n\nfunction ReactColorCustom({ color, inputChange, hexValid, onChange, ...rest }) {\n    function handleHue(data) {\n        onChange({ a: 1, h: data.h, l: 0.5, s: 1 });\n    }\n\n    return (\n        <div className={styles.root}>\n            <div className={styles.hueContainer}>\n                <style>{'.hue-horizontal {border-radius: 6px}'}</style>\n                <Hue {...rest} direction=\"horizontal\" onChange={handleHue} pointer={customPointer} />\n            </div>\n            <div className={styles.inputContainer}>\n                <input\n                    className={!hexValid ? styles.invalidInput : null}\n                    style={{ backgroundColor: color, borderColor: color }}\n                    type=\"text\"\n                    maxLength={6}\n                    placeholder=\"HEX\"\n                    value={color.substr(1)}\n                    onChange={inputChange}\n                    name=\"hexInput\"\n                />\n            </div>\n        </div>\n    );\n}\n\nReactColorCustom.propTypes = {\n    color: PropTypes.string,\n    inputChange: PropTypes.func,\n    hexValid: PropTypes.bool,\n    onChange: PropTypes.func,\n};\n\nexport default CustomPicker(ReactColorCustom);\n","export default __webpack_public_path__ + \"ui/img/colors.png\";","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3JADH_bJ\",\"colors-list\":\"_1-zLR4g3\",\"colorsList\":\"_1-zLR4g3\",\"input\":\"_1BZPl12E\",\"customColorBtn\":\"_2OE1lhPr\",\"hex-input-container\":\"_23sLVmAl\",\"hexInputContainer\":\"_23sLVmAl\",\"check\":\"JxzIVIqB\",\"disabled\":\"_3XtPgiIA\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport ReactColorCustom from '../ReactColorCustom';\nimport CheckIcon from '../../../../icons/check.svg';\nimport hexImage from '../../../../img/colors.png';\nimport styles from './styles.scss';\n\nexport default class LegacyColorPicker extends React.Component {\n    static propTypes = {\n        defaultColors: PropTypes.array,\n        className: PropTypes.string,\n        value: PropTypes.string,\n        name: PropTypes.string,\n        disabled: PropTypes.bool,\n        onChange: PropTypes.func.isRequired,\n        noHex: PropTypes.bool,\n    };\n\n    static defaultProps = {\n        color: '#51B3F7',\n        defaultColors: ['#51B3F7', '#903671', '#6D68CB', '#53CEC6', '#F9BC73', '#2F3542'],\n        noHex: false,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            hexShown: false,\n            hexValid: true,\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.showHexinput = this.showHexinput.bind(this);\n        this.handleCustomChange = this.handleCustomChange.bind(this);\n    }\n\n    handleChange(e) {\n        const { onChange, defaultColors, disabled } = this.props;\n\n        if (disabled) {\n            return;\n        }\n\n        const target = e.target;\n        const value = target.value[0] !== '#' ? '#' + target.value : target.value;\n        const regexp = /^[0-9A-Fa-f]+$/;\n\n        this.setState({\n            hexValid: hexValid(defaultColors, value),\n        });\n\n        if (target.getAttribute('name') === 'hexInput') {\n            if (target.value === '' || regexp.test(target.value)) {\n                onChange('#' + target.value);\n            }\n        } else {\n            this.setState({\n                hexShown: false,\n            });\n\n            onChange(target.value);\n        }\n    }\n\n    handleCustomChange(color, event) {\n        const { onChange } = this.props;\n\n        onChange(color.hex);\n    }\n\n    showHexinput(e) {\n        e.preventDefault();\n\n        const { onChange } = this.props;\n\n        onChange('#0087ff');\n\n        this.setState({\n            hexShown: true,\n        });\n    }\n\n    render() {\n        const { defaultColors, value, className, noHex, disabled } = this.props;\n        const { hexShown, hexValid } = this.state;\n        const isCustom = !defaultColors.includes(value);\n\n        return (\n            <div className={classNames(styles.root, disabled && styles.disabled, className)}>\n                <div className={styles.colorsList}>\n                    {defaultColors.map((index) => (\n                        <label key={index} style={{ background: index }}>\n                            <input type=\"radio\" value={index} checked={value === index} onChange={this.handleChange} />\n                            {value === index && !hexShown && <CheckIcon className={styles.check} />}\n                        </label>\n                    ))}\n                    {!noHex && (\n                        <>\n                            <div className={styles.customColorBtn}>\n                                <img src={hexImage} alt=\"HEX button\" onClick={this.showHexinput} />\n                                {(hexShown || isCustom) && value !== null && <CheckIcon className={styles.check} />}\n                            </div>\n                            {value && isCustom && (\n                                <ReactColorCustom\n                                    color={value}\n                                    onChange={this.handleCustomChange}\n                                    inputChange={this.handleChange}\n                                    hexValid={hexValid}\n                                />\n                            )}\n                        </>\n                    )}\n                </div>\n            </div>\n        );\n    }\n}\n\nconst hexValid = (defaultColors, value) => {\n    const regexp = /(^#[0-9A-Fa-f]{6}$)|(^#[0-9A-Fa-f]{3}$)/i;\n    return defaultColors.includes(value) || regexp.test(value);\n};\n","import React from 'react';\n\nimport FieldRow from './FieldRow';\nimport { LegacyColorPicker } from '../Inputs';\nimport { ColorFieldProps } from './types';\n\nexport default function ColorField({ as: Tag, onChange, ...props }) {\n    return (\n        <FieldRow {...props}>\n            {({ field: { name, ...field }, form: { setFieldValue, setFieldTouched } }) => (\n                <Tag\n                    {...field}\n                    name={name}\n                    onChange={(value) => {\n                        setFieldValue(name, value);\n                        setFieldTouched(name, true, false);\n\n                        if (onChange) {\n                            onChange(value);\n                        }\n                    }}\n                />\n            )}\n        </FieldRow>\n    );\n}\n\nColorField.propTypes = ColorFieldProps;\n\nColorField.defaultProps = {\n    as: LegacyColorPicker,\n};\n","import CoverEdit from './CoverEdit';\n\nexport default CoverEdit;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { useActions } from '@mssgme/hooks';\nimport { ColorField, ImageField } from '@mssgme/ui';\nimport { FieldTip, ImageUploadCover } from '@mssgme/app/components/UI';\nimport CardEditForm from '../CardEditForm';\n\nexport default function CoverEdit() {\n    const { t } = useTranslation('cards');\n    const actions = useActions();\n\n    return (\n        <CardEditForm title={t('CoverEdit.title')}>\n            {({ values: { design }, setFieldValue }) => (\n                <>\n                    <ImageField\n                        accept=\"image/png,image/x-png,image/jpeg\"\n                        as={ImageUploadCover}\n                        name=\"design.background.image\"\n                        label={t('CoverEdit.labels.photo')}\n                        restrictRule=\"background.image:edit\"\n                        buttonLabel={t(design.background.imageUrl ? 'designEdit.change_bg_image' : 'CoverEdit.upload')}\n                        upload={actions.api.card.uploadCover}\n                        previewUrl={design.background.imageUrl}\n                        onChange={({ filename, url }) => {\n                            setFieldValue('design.background.type', 'image');\n                            setFieldValue('design.background.image', filename);\n                            setFieldValue('design.background.imageUrl', url);\n                        }}\n                        onApplyClick={() => setFieldValue('design.background.type', 'image')}\n                        active={design.background.type === 'image'}\n                    />\n                    <ColorField\n                        label={t('designEdit.bg_color')}\n                        name=\"design.background.color\"\n                        value={design.background.type === 'color' ? design.background.color : null}\n                        onChange={() => setFieldValue('design.background.type', 'color')}\n                    />\n                    <FieldTip style={{ marginTop: 30 }}>{t('FieldTip.cover')}</FieldTip>\n                </>\n            )}\n        </CardEditForm>\n    );\n}\n","import PropTypes from 'prop-types';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { SelectSimple, Input, Row, Label, useFormikContext, FieldError } from '@mssgme/ui';\n\nexport const CATEGORIES = [\n    {\n        label: 'categoriesList.category_not_business',\n        value: 'category_not_business',\n    },\n    {\n        label: 'categoriesList.category_auto',\n        value: 'category_auto',\n    },\n    {\n        label: 'categoriesList.category_meal',\n        value: 'category_meal',\n    },\n    {\n        label: 'categoriesList.category_health',\n        value: 'category_health',\n    },\n    {\n        label: 'categoriesList.category_noncommercial',\n        value: 'category_noncommercial',\n    },\n    {\n        label: 'categoriesList.category_education',\n        value: 'category_education',\n    },\n    {\n        label: 'categoriesList.category_social_services',\n        value: 'category_social_services',\n    },\n    {\n        label: 'categoriesList.category_cloth',\n        value: 'category_cloth',\n    },\n    {\n        label: 'categoriesList.category_events_organization',\n        value: 'category_events_organization',\n    },\n    {\n        label: 'categoriesList.category_hotels_rent',\n        value: 'category_hotels_rent',\n    },\n    {\n        label: 'categoriesList.category_sales',\n        value: 'category_sales',\n    },\n    {\n        label: 'categoriesList.category_pro_services',\n        value: 'category_pro_services',\n    },\n    {\n        label: 'categoriesList.category_travel_logistics',\n        value: 'category_travel_logistics',\n    },\n    {\n        label: 'categoriesList.category_entertainment',\n        value: 'category_entertainment',\n    },\n    {\n        label: 'categoriesList.category_restaurants',\n        value: 'category_restaurants',\n    },\n    {\n        label: 'categoriesList.category_beauty_spa',\n        value: 'category_beauty_spa',\n    },\n    {\n        label: 'categoriesList.category_finance',\n        value: 'category_finance',\n    },\n];\n\nexport function CategoryChoice({ value, ...rest }) {\n    // todo: move translations into @mssgme/cards package when Onboarding is removed\n    const { t } = useTranslation();\n\n    const options = useMemo(() => {\n        const categories = CATEGORIES.map((c) => ({ ...c, label: t(c.label) })).sort((a, b) =>\n            a === b ? 0 : a > b ? -1 : 1\n        );\n        categories.push({ label: t('categoriesList.category_other'), value: '' });\n        return categories;\n    }, [t]);\n\n    return <SelectSimple options={options} value={value} {...rest} />;\n}\n\nCategoryChoice.propTypes = {\n    value: PropTypes.string,\n};\n\nexport function CategoryField({ id, name, label, extra = {}, ...rest }) {\n    const { t } = useTranslation('cards');\n    const { getFieldProps, getFieldMeta } = useFormikContext(name);\n    const { value, onChange, onBlur } = getFieldProps(name);\n    const { error } = getFieldMeta(name);\n    const isPredefined = useMemo(() => CATEGORIES.some((o) => o.value === value), [value]);\n\n    return (\n        <>\n            <Row>\n                {label && <Label htmlFor={id}>{label}</Label>}\n                <CategoryChoice\n                    id={id}\n                    name={name}\n                    value={isPredefined ? value : ''}\n                    onChange={onChange}\n                    onBlur={onBlur}\n                    {...rest}\n                />\n                {isPredefined && error && <FieldError>{t(error)}</FieldError>}\n            </Row>\n            {!isPredefined && (\n                <Row>\n                    {extra.label && <Label htmlFor={`${id}_custom`}>{extra.label}</Label>}\n                    <Input\n                        id={`${id}_custom`}\n                        name={name}\n                        value={value}\n                        onChange={onChange}\n                        onBlur={onBlur}\n                        {...extra}\n                    />\n                    {error && <FieldError>{t(error)}</FieldError>}\n                </Row>\n            )}\n        </>\n    );\n}\n\nCategoryField.propTypes = {\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    label: PropTypes.string,\n    extra: PropTypes.shape({\n        label: PropTypes.string,\n    }),\n};\n","import CategoryEdit from './CategoryEdit';\n\nexport default CategoryEdit;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport CardEditForm from '../CardEditForm';\nimport { CategoryField } from './CategoryField';\n\nexport default function CategoryEdit() {\n    const { t } = useTranslation('cards');\n\n    return (\n        <CardEditForm title={t('profileEdit.label.category')}>\n            {() => (\n                <CategoryField\n                    id=\"profile_category\"\n                    label={t('profileEdit.label.category')}\n                    name=\"profile.category\"\n                    extra={{\n                        label: t('profileEdit.label.categoryCustom'),\n                        placeholder: t('profileEdit.placeholder.categoryCustom'),\n                        maxLength: 30,\n                    }}\n                />\n            )}\n        </CardEditForm>\n    );\n}\n","import DescriptionEdit from './DescriptionEdit';\n\nexport default DescriptionEdit;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { TextareaField } from '@mssgme/ui';\nimport { FieldTip } from '@mssgme/app/components/UI';\nimport CardEditForm from '../CardEditForm';\n\nexport default function DescriptionEdit() {\n    const { t } = useTranslation('cards');\n\n    return (\n        <CardEditForm title={t('DescriptionEdit.title')}>\n            {() => (\n                <>\n                    <TextareaField\n                        name=\"profile.description\"\n                        placeholder={t('profileEdit.placeholder.description')}\n                        maxLength={400}\n                        maxRows={2}\n                    />\n                    <FieldTip>{t('FieldTip.description')}</FieldTip>\n                </>\n            )}\n        </CardEditForm>\n    );\n}\n","import { useWorkspace } from '@mssgme/hooks';\n\nexport function useDomain() {\n    const { card } = useWorkspace();\n    const domain = card.domain || {};\n\n    return {\n        name: '',\n        resolved: false,\n        secured: false,\n        ...domain,\n    };\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport { SidebarHeader, ScrollableBox, CancelButton, Feature } from '@mssgme/ui';\n\nimport { PageLayout } from '../../../UI';\n\nexport default function DomainLayout({ rightButton, children }) {\n    const { t } = useTranslation('cards');\n    const location = useLocation();\n    const returnTo = (location.state && location.state.returnTo) || '/p/settings/url';\n    const leftButton = <CancelButton tag={Link} to={returnTo} styled=\"backIcon\" />;\n\n    return (\n        <PageLayout>\n            <SidebarHeader heading={t('domain.heading')} leftButton={leftButton} rightButton={rightButton} />\n            <ScrollableBox>\n                <Feature rule=\"domain\">{children}</Feature>\n            </ScrollableBox>\n        </PageLayout>\n    );\n}\n\nDomainLayout.propTypes = {\n    blocked: PropTypes.bool,\n    rightButton: PropTypes.node,\n    children: PropTypes.node,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2y2B4dAS\"};","import React from 'react';\nimport styles from './Help.scss';\n\nconst Help = (props) => <div className={styles.root} {...props} />;\n\nexport default Help;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect } from 'react-router-dom';\n\nimport { useActions, useFetching } from '@mssgme/hooks';\nimport { Input, Button } from '@mssgme/ui';\nimport { useDomain } from './hooks';\nimport DomainLayout from './DomainLayout';\nimport Help from './Help';\n\nexport default function DomainDisconnect() {\n    const { t } = useTranslation('cards');\n    const actions = useActions();\n    const domain = useDomain();\n    const domainDisconnect = useFetching(actions.card.domain.disconnect);\n\n    if (domainDisconnect.fulfilled) {\n        return <Redirect to=\"/p/settings/domain\" />;\n    }\n\n    return (\n        <DomainLayout>\n            <Input value={domain.name} disabled />\n            <Help>\n                <p>{t('domain.resolved')}</p>\n            </Help>\n            <p>\n                <Button btnStyle=\"danger\" fullWidth onClick={() => domainDisconnect.run()}>\n                    {t('domain.disconnect')}\n                </Button>\n            </p>\n        </DomainLayout>\n    );\n}\n","import React from 'react';\n\nimport FieldRow from './FieldRow';\nimport { Input } from '../Inputs';\nimport { TextFieldProps } from './types';\n\nexport default function TextField({ mask, unmask, onChange, ...props }) {\n    return (\n        <FieldRow {...props}>\n            {({ field: { name, value, ...field }, form: { errors, touched, setFieldValue } }) => (\n                <Input\n                    {...field}\n                    name={name}\n                    value={unmask ? unmask(value) : value}\n                    hasError={errors[name] && touched[name]}\n                    onChange={\n                        onChange ||\n                        ((e) => {\n                            setFieldValue(name, mask ? mask(e.target.value) : e.target.value);\n                        })\n                    }\n                />\n            )}\n        </FieldRow>\n    );\n}\n\nTextField.propTypes = TextFieldProps;\n","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect } from 'react-router-dom';\n\nimport { useActions } from '@mssgme/hooks';\nimport { EnhancedNavigationGuard, EnhancedFormik, Form, TextField, SaveButton } from '@mssgme/ui';\nimport { useDomain } from './hooks';\nimport DomainLayout from './DomainLayout';\nimport Help from './Help';\n\nexport default function DomainEdit() {\n    const { t } = useTranslation('cards');\n    const domain = useDomain();\n    const actions = useActions();\n    const [redirectTo, setRedirectTo] = useState();\n\n    return (\n        <EnhancedFormik\n            initialValues={{ name: domain.name }}\n            onSubmit={async (values) => {\n                if (domain.name && !values.name) {\n                    await actions.api.card.domain.disconnect();\n                    setRedirectTo('/p/settings');\n                } else {\n                    await actions.api.card.domain.connect({\n                        payload: values,\n                    });\n                    setRedirectTo('/p/settings/url/domain/change-dns');\n                }\n            }}\n        >\n            <EnhancedNavigationGuard>\n                {redirectTo && <Redirect to={redirectTo} />}\n                <DomainLayout rightButton={<SaveButton />}>\n                    <Form>\n                        <TextField id=\"domain.name\" name=\"name\" placeholder=\"www.example.com\" autoFocus />\n                        <Help>\n                            <p dangerouslySetInnerHTML={{ __html: t('domain.enter_domain') }} />\n                        </Help>\n                    </Form>\n                </DomainLayout>\n            </EnhancedNavigationGuard>\n        </EnhancedFormik>\n    );\n}\n","import React from 'react';\nimport { Link, Redirect, useLocation } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport { Input } from '@mssgme/ui';\nimport { useDomain } from './hooks';\nimport DomainLayout from './DomainLayout';\nimport Help from './Help';\nimport config from 'config';\n\nexport default function ChangeDNS() {\n    const { t } = useTranslation('cards');\n    const location = useLocation();\n    const domain = useDomain();\n\n    if (domain.resolved) {\n        return <Redirect to=\"/p/settings/domain/disconnect\" />;\n    }\n\n    return (\n        <DomainLayout>\n            <Input value={domain.name} disabled />\n            <p style={{ marginBottom: 0 }}>\n                <Link to={{ pathname: '/p/settings/domain/edit', state: { returnTo: location.pathname } }}>\n                    {t('domain.change')}\n                </Link>\n            </p>\n            <Help>\n                <p>{t('domain.change_dns')}</p>\n                <ol>\n                    <li>{t('domain.step_one')}</li>\n                    <li>{t('domain.step_two')}</li>\n                    <li dangerouslySetInnerHTML={{ __html: t('domain.step_tree') }} />\n                </ol>\n                <table>\n                    <tbody>\n                        <tr>\n                            <th>{t('domain.th_name')}</th>\n                            <td>{domain.subdomain || '@'}</td>\n                        </tr>\n                        <tr>\n                            <th>{t('domain.th_type')}</th>\n                            <td>CNAME</td>\n                        </tr>\n                        <tr>\n                            <th>{t('domain.th_value')}</th>\n                            <td>{config.cname}.</td>\n                        </tr>\n                    </tbody>\n                </table>\n                <p>\n                    {t('domain.any_questions') + ' '}\n                    <Link to={{ pathname: '/help', state: { returnTo: location.pathname } }}>\n                        {t('domain.contact_us')}\n                    </Link>\n                </p>\n            </Help>\n        </DomainLayout>\n    );\n}\n","import { restrictCard } from '@mssgme/shared';\nimport { useWorkspace } from './useWorkspace';\n\nexport const useRestrictedCard = () => {\n    const workspace = useWorkspace();\n    return restrictCard(workspace.card, workspace);\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"scrollBox\":\"_2X7BCWc2\",\"list\":\"ORKZJkg8\",\"listItem\":\"Q-wxWXBK\",\"listItemName\":\"YrNqyqFB\",\"listItemRight\":\"J954huU7\",\"previewImg\":\"_1Sy6wqB6\",\"square\":\"_1Q8n7WHF\",\"iconArrow\":\"INvjZNgW\",\"textPreview\":\"D34ih-TR\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nimport ArrowRightIcon from '@mssgme/ui/icons/arrow-right.svg';\n\nimport styles from './styles.scss';\n\nListItem.propTypes = {\n    to: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    children: PropTypes.node,\n};\n\nexport default function ListItem({ to, name, children }) {\n    return (\n        <li className={styles.listItem}>\n            <Link to={to}>\n                <span className={styles.listItemName}>{name}</span>\n                <div className={styles.listItemRight}>\n                    {children}\n                    <ArrowRightIcon className={styles.iconArrow} />\n                </div>\n            </Link>\n        </li>\n    );\n}\n","import SeoEdit from './SeoEdit';\n\nexport default SeoEdit;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { Feature, TextareaField, TextField } from '@mssgme/ui';\nimport { FieldTip } from '@mssgme/app/components/UI';\nimport CardEditForm from '../CardEditForm';\n\nexport default function SeoEdit() {\n    const { t } = useTranslation('cards');\n\n    return (\n        <CardEditForm title={t('SeoEdit.title')} backPath=\"/p/settings\" successRedirectPath=\"/p/settings\">\n            {({ values }) => (\n                <Feature rule=\"seo\">\n                    <TextField\n                        label={t('SeoEdit.labels.title')}\n                        name=\"seo.title\"\n                        placeholder={values.profile.fullname}\n                        maxLength={80}\n                        autoFocus\n                    />\n                    <TextareaField\n                        label={t('SeoEdit.labels.description')}\n                        name=\"seo.description\"\n                        placeholder={values.profile.description}\n                        maxLength={200}\n                        maxRows={4}\n                    />\n                    <FieldTip>{t('FieldTip.seo')}</FieldTip>\n                </Feature>\n            )}\n        </CardEditForm>\n    );\n}\n","import TitleEdit from './TitleEdit';\n\nexport default TitleEdit;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { TextField } from '@mssgme/ui';\nimport { FieldTip } from '@mssgme/app/components/UI';\nimport CardEditForm from '../CardEditForm';\n\nexport default function TitleEdit() {\n    const { t } = useTranslation('cards');\n\n    return (\n        <CardEditForm title={t('TitleEdit.title')}>\n            {() => (\n                <>\n                    <TextField\n                        name=\"profile.fullname\"\n                        placeholder={t('profileEdit.placeholder.fullname')}\n                        maxLength={30}\n                        autoFocus\n                    />\n                    <FieldTip>{t('FieldTip.title')}</FieldTip>\n                </>\n            )}\n        </CardEditForm>\n    );\n}\n","export default function normalizeUrl(value) {\n    return value.toLowerCase().replace(/[^a-z0-9_.-]/gi, '');\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"fieldLabel\":\"_1d8rZ_pQ\",\"domainPreview\":\"_1FPIw6QA\",\"domainValue\":\"Me9ZpX-e\",\"domainButton\":\"_115WnT39\"};","import UrlEdit from './UrlEdit';\n\nexport default UrlEdit;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nimport { normalizeUrl } from '@mssgme/helpers';\nimport { useRestrictedCard } from '@mssgme/hooks';\nimport { TextField } from '@mssgme/ui';\nimport { FieldTip } from '@mssgme/app/components/UI';\nimport CardEditForm from '../CardEditForm';\n\nimport styles from './UrlEdit.scss';\n\nexport default function UrlEdit() {\n    const { t } = useTranslation('cards');\n    const { domain } = useRestrictedCard();\n    const domainValue =\n        domain.name && domain.resolved\n            ? domain.name\n            : domain.name && !domain.resolved\n                ? t('UrlEdit.values.resolving')\n                : t('UrlEdit.values.notConnected');\n    const domainButtonText = domain.name ? t('UrlEdit.button.edit') : t('UrlEdit.button.connect');\n\n    return (\n        <CardEditForm title={t('UrlEdit.title')} backPath=\"/p/settings\" successRedirectPath=\"/p/settings\">\n            {() => (\n                <>\n                    <TextField\n                        label={t('UrlEdit.labels.slug')}\n                        name=\"profile.url\"\n                        placeholder={t('profileEdit.placeholder.link')}\n                        beforeInput=\"mssg.me/\"\n                        mask={normalizeUrl}\n                    />\n                    <span className={styles.fieldLabel}>{t('UrlEdit.labels.domain')}</span>\n                    <div className={styles.domainPreview}>\n                        <span className={styles.domainValue}>{domainValue}</span>\n                        <Link to=\"/p/settings/url/domain/edit\" className={styles.domainButton}>\n                            {domainButtonText}\n                        </Link>\n                    </div>\n                    <FieldTip style={{ marginTop: 30 }}>{t('FieldTip.url')}</FieldTip>\n                </>\n            )}\n        </CardEditForm>\n    );\n}\n","const re = /^([^\\s]+:\\/\\/)*([^/?]+)(.*)$/i;\n\nexport default function normalizeWebsiteUrl(value, proto = 'https://') {\n    const match = value?.trim().match(re);\n\n    if (match) {\n        const protocol = match[1] || proto;\n        const host = match[2];\n        const rest = match[3];\n\n        return protocol.toLowerCase() + host.toLowerCase() + rest;\n    }\n\n    return value;\n}\n","import WebsiteEdit from './WebsiteEdit';\n\nexport default WebsiteEdit;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { normalizeWebsiteUrl } from '@mssgme/helpers';\nimport { TextField, ToggleField } from '@mssgme/ui';\nimport { FieldTip } from '@mssgme/app/components/UI';\nimport CardEditForm from '../CardEditForm';\n\nexport default function WebsiteEdit() {\n    const { t } = useTranslation('cards');\n\n    return (\n        <CardEditForm title={t('WebsiteEdit.title')}>\n            {() => (\n                <>\n                    <ToggleField\n                        label={t('WebsiteEdit.labels.enabled')}\n                        name=\"profile.website.enabled\"\n                        restrictRule=\"website:edit\"\n                        style={{ marginBottom: '20px' }}\n                    />\n                    <div style={{ height: 1, backgroundColor: 'rgba(0,0,0,.1)', margin: '-12px 0 14px 0' }} />\n                    <TextField\n                        label={t('WebsiteEdit.labels.linkTitle')}\n                        style={{ marginBottom: '10px' }}\n                        name=\"profile.website.title\"\n                        placeholder={t('profileEdit.placeholder.default_website_title')}\n                        maxLength={100}\n                    />\n                    <TextField\n                        label={t('WebsiteEdit.labels.linkUrl')}\n                        name=\"profile.website.url\"\n                        placeholder={t('profileEdit.placeholder.website')}\n                        maxLength={255}\n                        mask={normalizeWebsiteUrl}\n                    />\n                    <FieldTip>{t('FieldTip.website')}</FieldTip>\n                </>\n            )}\n        </CardEditForm>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2iWyJApg\",\"wrapper\":\"_2yrZae7B\",\"group-buttons-container\":\"IYkPFPPl\",\"groupButtonsContainer\":\"IYkPFPPl\",\"widget-button-container\":\"_2qYKrvK-\",\"widgetButtonContainer\":\"_2qYKrvK-\",\"right\":\"_1XZvSiiJ\",\"left\":\"_1zRvkK3N\",\"widget-button\":\"_3tTPtcAB\",\"widgetButton\":\"_3tTPtcAB\",\"hand\":\"_1D0Lj7Ro\",\"hand_wave\":\"MhgOA6pb\",\"handWave\":\"MhgOA6pb\",\"icon\":\"_1C3NSkqx\",\"close\":\"_1Maj8rsX\",\"visible\":\"_5dTJnBV6\",\"content\":\"WhFatDhp\",\"cardContainer\":\"_10fIUIAo\",\"cardVisible\":\"_18Ixx69X\",\"welcome\":\"_2naUIRQf\",\"visibleWelcome\":\"_75B19aJT\"};","import classNames from 'classnames';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { GroupButtons, Button } from '@mssgme/ui';\nimport { CardPreview, usePreview } from '../../UI';\nimport IconClose from '@mssgme/ui/icons/close.svg';\nimport IconHand from '@mssgme/ui/icons/logo.svg';\n\nimport styles from './styles.scss';\n\nexport default function WidgetCard() {\n    const { t } = useTranslation('cards');\n    const { preview } = usePreview();\n\n    const [isPresented, setIsPresented] = useState(false);\n\n    return (\n        <div className={styles.root}>\n            <div className={styles.wrapper}>\n                <div className={styles.groupButtonsContainer}>\n                    <GroupButtons align=\"center\" bordered>\n                        <Button\n                            btnStyle={isPresented ? 'primary' : 'transparent'}\n                            size=\"small\"\n                            noborder\n                            onClick={() => setIsPresented(true)}\n                        >\n                            {t('widgetCard.opened')}\n                        </Button>\n                        <Button\n                            btnStyle={isPresented ? 'transparent' : 'primary'}\n                            size=\"small\"\n                            noborder\n                            onClick={() => setIsPresented(false)}\n                        >\n                            {t('widgetCard.closed')}\n                        </Button>\n                    </GroupButtons>\n                </div>\n                <div className={styles.content}>\n                    <div\n                        className={classNames(styles.cardContainer, {\n                            [styles.cardVisible]: isPresented,\n                        })}\n                    >\n                        <CardPreview widgetMode />\n                    </div>\n                    {!isPresented && preview.widget.welcome.enabled && (\n                        <div\n                            className={classNames(styles.welcome, {\n                                [styles.left]: preview.widget.position === 'left',\n                                [styles.right]: preview.widget.position === 'right',\n                            })}\n                        >\n                            <h6>{preview.widget.welcome.headline}</h6>\n                            <p>{preview.widget.welcome.description}</p>\n                        </div>\n                    )}\n                </div>\n                <div\n                    className={classNames(styles.widgetButtonContainer, {\n                        [styles.left]: preview.widget.position === 'left',\n                        [styles.right]: preview.widget.position === 'right',\n                    })}\n                >\n                    <div\n                        className={classNames(styles.welcome, {\n                            [styles.left]: preview.widget.position === 'left',\n                            [styles.right]: preview.widget.position === 'right',\n                            [styles.visibleWelcome]: !isPresented && preview.widget.welcome.enabled,\n                        })}\n                    >\n                        <h6>{preview.widget.welcome.headline}</h6>\n                        <p>{preview.widget.welcome.description}</p>\n                    </div>\n\n                    <span\n                        className={styles.widgetButton}\n                        style={{ backgroundColor: preview.widget.color }}\n                        onClick={() => setIsPresented(!isPresented)}\n                    >\n                        <IconClose\n                            className={classNames(styles.icon, styles.close, {\n                                [styles.visible]: isPresented,\n                            })}\n                        />\n                        <IconHand\n                            className={classNames(styles.icon, styles.hand, {\n                                [styles.visible]: !isPresented,\n                            })}\n                        />\n                    </span>\n                </div>\n            </div>\n        </div>\n    );\n}\n","export default __webpack_public_path__ + \"cards/img/qr.svg\";","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"BZfftecH\",\"navContainer\":\"_1S82xmDI\",\"personal-link-container\":\"_1sC7y1Jn\",\"personalLinkContainer\":\"_1sC7y1Jn\",\"user-link-container\":\"_3k67LmXl\",\"userLinkContainer\":\"_3k67LmXl\",\"user-link\":\"_20FksBuv\",\"userLink\":\"_20FksBuv\",\"bottomShare\":\"_1Jy-4kag\",\"shadowed\":\"xLbpzG18\",\"topNav\":\"_1qneRTGJ\",\"topNavItem\":\"_3wTTmWjS\",\"topNavItemIcon\":\"_2VPkU4eE\",\"topNavItemLabel\":\"_2kMHqHvT\",\"topNavItemEn\":\"_1nFP6A2m\",\"copied\":\"_381aekYA\",\"checkIcon\":\"_1RCvxGre\",\"revealCheck\":\"_2ImfloZq\",\"elToSelect\":\"_1wwZRyr-\",\"previewBtn\":\"_18a7Tatz\"};","import cn from 'classnames';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\nimport { FiLink, FiShoppingBag, FiBarChart, FiShare, FiCheck, FiEye, FiEdit2, FiSliders } from 'react-icons/fi';\nimport { createBreakpoint } from 'react-use';\n\nimport { removeUrlProtocol } from '@mssgme/helpers';\nimport { useBilling, useCopyText, useSwitchApp, useWorkspace } from '@mssgme/hooks';\nimport { ScrollableBox, Nav, NavItemLink, useModal, Button } from '@mssgme/ui';\nimport { FreeBanner } from '@mssgme/app/components/UI';\nimport { PreviewModal, PageLayout } from '../../../UI';\nimport iconQr from '../../../img/qr.svg';\n\nimport styles from './PageMain.scss';\n\nconst useBreakpoint = createBreakpoint({ mobile: 0, tablet: 768, desktop: 1280 });\nconst SWITCH_TO = 'next';\n\nexport default function PageMain() {\n    const breakpoint = useBreakpoint();\n    const { t, i18n } = useTranslation('cards');\n    const { isCopied, copyText } = useCopyText();\n    const switchApp = useSwitchApp();\n\n    const { card } = useWorkspace();\n    const modal = useModal();\n    const { isFree, isUnpaid, isTrial } = useBilling();\n\n    const url = card.profile.absoluteUrl;\n\n    const onSwitch = (e) => {\n        e.preventDefault();\n        switchApp(SWITCH_TO);\n    };\n\n    return (\n        <PageLayout>\n            <ScrollableBox noHeader nopadding>\n                <div className={styles.personalLinkContainer}>\n                    <h2>{t('CardMain.personal_link')}</h2>\n                    <div className={styles.userLinkContainer}>\n                        <a href={url} target=\"_blank\" rel=\"noopener noreferrer\" className={styles.userLink}>\n                            <span className={styles.elToSelect}>{url}</span>\n                            {removeUrlProtocol(url)}\n                        </a>\n                        {breakpoint === 'mobile' && (\n                            <span onClick={modal.toggle} className={styles.previewBtn}>\n                                <FiEye size={20} color=\"#000\" />\n                            </span>\n                        )}\n                    </div>\n                    <div className={styles.topNav}>\n                        <div\n                            style={{ pointerEvents: isCopied ? 'none' : 'auto' }}\n                            className={cn({\n                                [styles.topNavItem]: true,\n                                [styles.topNavItemEn]: i18n.language === 'en',\n                                [styles.copied]: isCopied,\n                            })}\n                            onClick={() => copyText(url)}\n                        >\n                            <div className={styles.topNavItemIcon}>\n                                {!isCopied && <FiLink size={24} color=\"#000\" />}\n                                {isCopied && <FiCheck className={styles.checkIcon} size={24} color=\"#fff\" />}\n                            </div>\n                            <span className={styles.topNavItemLabel}>\n                                {isCopied ? t('CardMain.copied') : t('CardMain.copyLink')}\n                            </span>\n                        </div>\n                        <Link\n                            className={cn({ [styles.topNavItem]: true, [styles.topNavItemEn]: i18n.language === 'en' })}\n                            to=\"/p/share/qr\"\n                        >\n                            <div className={styles.topNavItemIcon}>\n                                <img src={iconQr} alt=\"\" />\n                            </div>\n                            <span className={styles.topNavItemLabel}>{t('CardMain.qrCode')}</span>\n                        </Link>\n                        <Link\n                            className={cn({ [styles.topNavItem]: true, [styles.topNavItemEn]: i18n.language === 'en' })}\n                            to=\"/p/share\"\n                        >\n                            <div className={styles.topNavItemIcon}>\n                                <FiShare size={24} color=\"#000\" />\n                            </div>\n                            <span className={styles.topNavItemLabel}>{t('common:labels.share')}</span>\n                        </Link>\n                    </div>\n                </div>\n                <div className={styles.navContainer}>\n                    <Nav>\n                        <NavItemLink to=\"/p/edit\" icon={FiEdit2}>\n                            {t('CardMain.pageEdit')}\n                        </NavItemLink>\n                        <NavItemLink to=\"/p/products\" icon={FiShoppingBag}>\n                            {t('CardMain.products')}\n                        </NavItemLink>\n                        <NavItemLink to=\"/p/analytics\" icon={FiBarChart}>\n                            {t('CardMain.analytics')}\n                        </NavItemLink>\n                        <NavItemLink to=\"/p/settings\" icon={FiSliders}>\n                            {t('CardMain.pageSettings')}\n                        </NavItemLink>\n                    </Nav>\n                </div>\n                <div style={{ padding: '0 16px', marginBottom: 20 }}>\n                    <Button\n                        fullWidth\n                        outline\n                        style={{\n                            border: '1px solid #2979FF',\n                            borderRadius: 8,\n                            backgroundColor: 'rgba(41, 121, 255, 0.05)',\n                            fontWeight: 700,\n                            fontSize: 16,\n                        }}\n                        onClick={onSwitch}\n                    >\n                        {t('CardMain.new_version')}\n                    </Button>\n                </div>\n                {(isFree || isUnpaid || isTrial) && <FreeBanner />}\n            </ScrollableBox>\n            <PreviewModal isShowing={modal.isOpen} toggle={modal.toggle} pageUrl={url} />\n        </PageLayout>\n    );\n}\n","import PageMain from './PageMain';\n\nexport default PageMain;\n","// extracted by mini-css-extract-plugin\nexport default {\"headingTitle\":\"_2HnB4UMr\",\"headingInstruction\":\"pmJQwxJ0\",\"sectionBlock\":\"_1q6CDPqY\",\"copy\":\"_3rjAcoKZ\",\"copied\":\"oKBi394I\"};","import React, { useState, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './EmailSignature.scss';\n\nfunction useCopyElement() {\n    const [isCopied, setIsCopied] = useState(false);\n    const ref = useRef();\n\n    function onCopy(e) {\n        e.preventDefault();\n\n        const selection = window.getSelection();\n        const range = document.createRange();\n        range.selectNodeContents(ref.current);\n        selection.removeAllRanges();\n        selection.addRange(range);\n        document.execCommand('copy');\n\n        setIsCopied(true);\n\n        selection.removeAllRanges();\n\n        setTimeout(() => setIsCopied(false), 2000);\n    }\n\n    return { ref, isCopied, onCopy };\n}\n\nexport default function EmailSignature({ url, photo, username }) {\n    const { t } = useTranslation('cards');\n    const { ref, isCopied, onCopy } = useCopyElement();\n\n    return (\n        <div>\n            <div className={styles.sectionBlock}>\n                <p className={styles.headingInstruction}>{t('pageShare.emailSign_info')}</p>\n                <div\n                    onClick={onCopy}\n                    ref={ref}\n                    data-success={t('common:labels.copied')}\n                    data-block=\"copy_signature\"\n                    className={classNames(styles.copy, { [styles.copied]: isCopied })}\n                >\n                    <a href={url} style={{ color: 'black', textDecoration: 'none', pointerEvents: 'none' }}>\n                        <img\n                            src={photo}\n                            style={{\n                                width: '45px',\n                                height: '45px',\n                                borderRadius: '45px',\n                                float: 'left',\n                                marginRight: '16px',\n                                marginTop: '-5px',\n                            }}\n                        />\n                        <span\n                            style={{\n                                fontFamily: 'sans-serif',\n                                background: 'transparent',\n                                fontSize: '14px',\n                                fontWeight: '500',\n                            }}\n                        >\n                            {username}\n                        </span>\n                        <span\n                            style={{\n                                fontFamily: 'sans-serif',\n                                background: 'transparent',\n                                fontSize: '12px',\n                                fontWeight: '300',\n                                color: '#3897F0',\n                                marginTop: '6px',\n                                display: 'block',\n                            }}\n                        >\n                            {url}\n                        </span>\n                    </a>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nEmailSignature.propTypes = {\n    url: PropTypes.string.isRequired,\n    photo: PropTypes.string,\n    username: PropTypes.string,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"qr-image\":\"_1qKdujQh\",\"qrImage\":\"_1qKdujQh\",\"headingInstruction\":\"KbSVnI1I\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport { Button } from '@mssgme/ui';\nimport { useQRCode } from './hooks';\nimport styles from './ShareQR.scss';\n\nexport default function ShareQR({ url }) {\n    const { t } = useTranslation('cards');\n    const base64Url = useQRCode(url, { width: 1000 });\n\n    return (\n        <div>\n            <p className={styles.headingInstruction}>{t('pageShare.qr_info')}</p>\n            <div className={styles.qrImage}>\n                <img src={base64Url} />\n                <Button tag=\"a\" href={base64Url} download=\"my_mssgme_qr.png\">\n                    {t('pageShare.qr_download')}\n                </Button>\n            </div>\n        </div>\n    );\n}\n\nShareQR.propTypes = {\n    url: PropTypes.string.isRequired,\n};\n","import QRCode from 'qrcode';\nimport { useEffect, useState, useCallback } from 'react';\nimport { useLocalStorage, useMountedState } from 'react-use';\n\nimport { handleError } from '@mssgme/lib';\n\nexport function useQRCode(data, options) {\n    const isMounted = useMountedState();\n    const [base64Url, setBase64Url] = useState();\n\n    useEffect(() => {\n        async function generateQRCode() {\n            try {\n                const res = await QRCode.toDataURL(data, options);\n\n                if (isMounted()) {\n                    setBase64Url(res);\n                }\n            } catch (error) {\n                handleError(error);\n            }\n        }\n\n        generateQRCode();\n    }, [data, options]);\n\n    return base64Url;\n}\n\nexport function useExpired(key, days) {\n    const [expired, setExpired] = useLocalStorage(key, 0);\n    const isExpired = Date.now() >= expired;\n\n    const renew = useCallback(() => {\n        setExpired(Date.now() + 864e5 * days);\n    }, [days]);\n\n    return [isExpired, renew];\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3uigoR-q\",\"tag\":\"_34ObI6Rc\",\"copied\":\"_1zkIvY7j\",\"button\":\"_3NDnp4Xh\",\"legacy\":\"_1HJ5Grla\"};","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { cls } from '@mssgme/helpers';\nimport { useCopyText } from '@mssgme/hooks';\n\nimport styles from './CopyContainer.scss';\n\nCopyContainer.propTypes = {\n    as: PropTypes.elementType,\n    text: PropTypes.string,\n    copyTitle: PropTypes.oneOfType([PropTypes.bool, PropTypes.any]),\n    legacy: PropTypes.bool,\n    copiable: PropTypes.bool,\n    className: PropTypes.any,\n    tagClassName: PropTypes.any,\n    buttonClassName: PropTypes.any,\n    copiedClassName: PropTypes.any,\n    onCopy: PropTypes.func,\n};\n\nexport function CopyContainer({\n    as: Tag = 'i',\n    onCopy,\n    text,\n    copiable = true,\n    copyTitle,\n    legacy,\n    children,\n    className,\n    tagClassName,\n    buttonClassName,\n    copiedClassName,\n    ...rest\n}) {\n    const { t } = useTranslation('ui');\n    const { isCopied, copyText } = useCopyText();\n\n    const handleClick = useCallback(\n        (e) => {\n            e.preventDefault();\n\n            if (false !== (onCopy && onCopy(e))) {\n                copyText(text);\n            }\n        },\n        [text, onCopy]\n    );\n\n    return (\n        <div className={cn([styles.root, legacy && styles.legacy], className)}>\n            <Tag\n                data-success={t('labels.copied')}\n                {...cls([styles.tag, tagClassName, isCopied && styles.copied, isCopied && copiedClassName], rest)}\n            >\n                {children}\n            </Tag>\n\n            {copiable && text && (\n                <span\n                    data-button=\"user-link-copy-button\"\n                    className={cn(styles.button, buttonClassName)}\n                    onClick={handleClick}\n                >\n                    {copyTitle || t('labels.copy')}\n                </span>\n            )}\n        </div>\n    );\n}\n","import PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { removeUrlProtocol } from '@mssgme/shared';\nimport { useIsMobile } from '../../hooks';\nimport { CopyContainer } from '../CopyContainer';\nimport { LinkBlank } from '../LinkBlank';\n\nCopyLink.propTypes = {\n    onCopy: PropTypes.func,\n    href: PropTypes.string,\n    noUrlLabel: PropTypes.string,\n    share: PropTypes.bool,\n    clickable: PropTypes.bool,\n    legacy: PropTypes.bool,\n    className: PropTypes.any,\n    tagClassName: PropTypes.any,\n    buttonClassName: PropTypes.any,\n    copiedClassName: PropTypes.any,\n};\n\nexport function CopyLink({ href = '', noUrlLabel, clickable, share = false, onCopy, ...rest }) {\n    const { t } = useTranslation('ui');\n    const isMobile = useIsMobile();\n    const isNativeShare = share && 'share' in navigator && isMobile;\n\n    const handleCopy = useCallback(\n        (e) => {\n            if (isNativeShare) {\n                void navigator.share({ url: href });\n\n                return false;\n            } else {\n                onCopy && onCopy(e);\n            }\n        },\n        [isNativeShare, href, onCopy]\n    );\n\n    if (clickable && href) {\n        rest.as = LinkBlank;\n        rest.href = href;\n    }\n\n    return (\n        <CopyContainer text={href} copyTitle={isNativeShare && t('labels.share')} onCopy={handleCopy} {...rest}>\n            {href ? removeUrlProtocol(href) : noUrlLabel}\n        </CopyContainer>\n    );\n}\n","export default __webpack_public_path__ + \"cards/img/copylink_img.svg\";","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"Dz8p27Hi\",\"header\":\"_26Z1B3lA\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport { ModalDialog } from '@mssgme/ui';\nimport imgModal from '../../../img/copylink_img.svg';\nimport styles from './InstaModalDialog.scss';\n\nInstaModalDialog.propTypes = {\n    onClose: PropTypes.func.isRequired,\n};\n\nexport default function InstaModalDialog({ onClose, ...rest }) {\n    const { t } = useTranslation('cards');\n\n    const handleClick = (e) => {\n        e.preventDefault();\n        window.open('https://www.instagram.com/accounts/edit/', '_blank');\n        onClose();\n    };\n\n    return (\n        <ModalDialog className={styles.root} closeButton={false} modal={{ size: 'small' }} onClose={onClose} {...rest}>\n            <div className={styles.header}>{t('pageShare.link_copied')}</div>\n            <p>{t('pageShare.link_copied_step1')}</p>\n            <img src={imgModal} alt=\"\" />\n            <p>{t('pageShare.link_copied_step2')}</p>\n            <a href=\"#\" onClick={handleClick}>\n                {t('pageShare.openInstagram')}\n            </a>\n        </ModalDialog>\n    );\n}\n","export default __webpack_public_path__ + \"cards/img/email.svg\";","export default __webpack_public_path__ + \"cards/img/embed.svg\";","export default __webpack_public_path__ + \"cards/img/link.svg\";","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1Gt_gA-f\",\"heading\":\"_1e_hKe8g\",\"bio\":\"_2dfiucfO\",\"tip\":\"_1viXa-Yt\",\"qr-image\":\"_3jQK4jb6\",\"qrImage\":\"_3jQK4jb6\",\"share-list\":\"_2-a_JYiE\",\"shareList\":\"_2-a_JYiE\",\"twitter\":\"_2uNNhilT\",\"facebook\":\"V4Zpk8GV\",\"vkontakte\":\"_3zh_prFf\",\"instagram\":\"_3VeFYjhA\",\"widgetSection\":\"_3ASihifG\",\"section\":\"_3J5eWPeq\",\"label\":\"_2F9UTXXf\",\"section-heading\":\"_18cnxl9F\",\"sectionHeading\":\"_18cnxl9F\",\"code-block\":\"LQGNQymw\",\"codeBlock\":\"LQGNQymw\",\"copied\":\"_3q6oQ_dV\",\"tipCode\":\"_2uNsdAJZ\",\"sectionBlock\":\"_34xIHJJS\",\"headingTitle\":\"_1i1bfA4B\",\"headingInstruction\":\"x5bCVSdJ\",\"userLink\":\"KSeyLgse\",\"instagramTipImg\":\"UnlUMzvC\",\"instagramSettingsLink\":\"cSd9eH6E\",\"socialsTab\":\"_307IVBhO\",\"chevronRight\":\"_1NF4XJN3\",\"mainIcon\":\"_3uCtkE1V\",\"Badge\":\"lPAfhVjn\",\"badge\":\"lPAfhVjn\",\"modalDialog\":\"_19KgPYYK\",\"header\":\"_1o0JeTL7\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { FaChevronRight } from 'react-icons/fa';\nimport { useTranslation } from 'react-i18next';\n\nimport { useModal, CopyLink } from '@mssgme/ui';\nimport { useExpired } from './hooks';\nimport InstaModalDialog from './InstaModalDialog';\n\nimport iconEmail from '../../../img/email.svg';\nimport iconEmbed from '../../../img/embed.svg';\nimport iconLink from '../../../img/link.svg';\nimport iconQr from '../../../img/qr.svg';\n\nimport styles from './MoreVisits.scss';\n\nMoreVisits.propTypes = {\n    url: PropTypes.string.isRequired,\n};\n\nexport default function MoreVisits({ url }) {\n    const { t } = useTranslation('cards');\n    const [isExpired, renew] = useExpired('insta_share_expire', 14);\n    const modal = useModal();\n\n    const handleCopy = () => {\n        if (isExpired) {\n            modal.show();\n            renew();\n        }\n    };\n\n    return (\n        <div>\n            <InstaModalDialog {...modal.props} />\n            <Section>\n                <img src={iconLink} className={styles.mainIcon} alt=\"\" />\n                <p className={styles.headingTitle}>{t('pageShare.my_link')}</p>\n                <CopyLink legacy share className={styles.userLink} href={url} onCopy={handleCopy} />\n                <p className={styles.headingInstruction}>{t('pageShare.add_link')}</p>\n            </Section>\n            <SectionLink to=\"/p/share/qr\">\n                <img src={iconQr} className={styles.mainIcon} alt=\"\" />\n                <p className={styles.headingTitle}>{t('pageShare.my_qr')}</p>\n                <p className={styles.headingInstruction}>{t('pageShare.copy_qr')}</p>\n            </SectionLink>\n            <SectionLink to=\"/p/share/sign\">\n                <img src={iconEmail} className={styles.mainIcon} alt=\"\" />\n                <p className={styles.headingTitle}>{t('pageShare.emailSign')}</p>\n                <p className={styles.headingInstruction}>{t('pageShare.emailSign_descr')}</p>\n            </SectionLink>\n            <SectionLink to=\"/p/share/widget\">\n                <img src={iconEmbed} className={styles.mainIcon} alt=\"\" />\n                <p className={styles.headingTitle}>{t('pageShare.my_widget')}</p>\n                <p className={styles.headingInstruction}>{t('pageShare.widget_settings')}</p>\n            </SectionLink>\n        </div>\n    );\n}\n\n// eslint-disable-next-line react/prop-types\nfunction Section({ as: Component = 'div', ...rest }) {\n    return <Component className={styles.sectionBlock} {...rest} />;\n}\n\n// eslint-disable-next-line react/prop-types\nfunction SectionLink({ to, children }) {\n    return (\n        <Section as={Link} to={to}>\n            {children}\n            <FaChevronRight size={16} className={styles.chevronRight} />\n        </Section>\n    );\n}\n","import { useEffect } from 'react';\n\nimport { useRestriction } from '@mssgme/hooks';\n\nexport default function Restriction({ rule, subject, children }) {\n    const { showWarning } = useRestriction(rule, subject);\n\n    useEffect(() => {\n        showWarning();\n    }, []);\n\n    return children || null;\n}\n","import { fork, cls } from '@mssgme/helpers';\nimport styles from './Fieldset.scss';\n\nconst Fieldset = fork('fieldset', cls(styles.root));\nFieldset.displayName = 'Fieldset';\n\nexport default Fieldset;\n","import { createElement } from 'react';\n\nexport default function fork(element, withProps) {\n    // eslint-disable-next-line react/display-name, react/prop-types\n    return ({ children, ...props }) => createElement(element, withProps(props), children);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1ORnnAoh\"};","// extracted by mini-css-extract-plugin\nexport default {\"pane\":\"_3qwvKJdU\",\"radio\":\"_3M-OICMF\",\"radioDot\":\"_1WsCkYdb\",\"active\":\"_3niUZvmH\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { cls } from '@mssgme/helpers';\n\nimport styles from './styles.scss';\n\nconst RadioIcon = ({ color = '#007AFF' }) => (\n    <svg\n        version=\"1.1\"\n        viewBox=\"0 0 18 18\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"18\"\n        height=\"18\"\n    >\n        <g fill=\"none\" fillRule=\"evenodd\">\n            <g transform=\"translate(-568 -3567)\">\n                <g transform=\"translate(568 3567)\">\n                    <rect\n                        x=\".75\"\n                        y=\".75\"\n                        width=\"16.5\"\n                        height=\"16.5\"\n                        rx=\"8.25\"\n                        stroke={color}\n                        strokeWidth=\"1.5\"\n                    />\n                    <rect className={styles.radioDot} x=\"3\" y=\"3\" width=\"12\" height=\"12\" rx=\"6\" fill={color} />\n                </g>\n            </g>\n        </g>\n    </svg>\n);\n\nRadioIcon.propTypes = {\n    color: PropTypes.string,\n};\n\nconst RadioGroup = ({ options, value, name, onChange, pane, hasError, ...rest }) =>\n    (\n        <div {...cls([pane && styles.pane], rest)}>\n            {options.map((option, index) => {\n                const isSelected = value === option.value;\n\n                return (\n                    <div key={name + index} className={classNames(styles.radio, isSelected && styles.active)}>\n                        <label>\n                            <RadioIcon color={rest.style?.color} />\n                            <input type=\"radio\" name={name} value={option.value} checked={isSelected} onChange={onChange} />\n                            <span dangerouslySetInnerHTML={{ __html: option.label }} />\n                        </label>\n                    </div>\n                );\n            })}\n        </div>\n    );\n\nRadioGroup.propTypes = {\n    value: PropTypes.string,\n    name: PropTypes.string,\n    options: PropTypes.arrayOf(PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })).isRequired,\n    onChange: PropTypes.func.isRequired,\n    pane: PropTypes.bool,\n    hasError: PropTypes.bool,\n};\n\nexport default RadioGroup;\n","import React from 'react';\nimport FieldRow from './FieldRow';\nimport { RadioGroup } from '../Inputs';\nimport { RadioFieldProps } from './types';\n\nexport default function RadioField({ mask, unmask, ...props }) {\n    return (\n        <FieldRow {...props}>\n            {({ field: { name, value, ...field }, form: { setFieldValue } }) => (\n                <RadioGroup\n                    {...field}\n                    name={name}\n                    value={unmask ? unmask(value) : value}\n                    onChange={(e) => {\n                        setFieldValue(name, mask ? mask(e.target.value) : e.target.value);\n                    }}\n                />\n            )}\n        </FieldRow>\n    );\n}\n\nRadioField.propTypes = RadioFieldProps;\n","import React from 'react';\nimport FieldRow from './FieldRow';\nimport { Checkbox } from '../Inputs';\nimport { CheckboxFieldProps } from './types';\n\nexport default function CheckboxField({ placeholder, label, ...props }) {\n    const hasTopLabel = label && placeholder;\n\n    return (\n        <FieldRow {...props} label={hasTopLabel ? label : ''}>\n            {({\n                field: { value, name, onChange, builderInput, ...field },\n                form: { setFieldValue, setFieldTouched },\n            }) => (\n                <Checkbox\n                    name={name}\n                    checked={!!value}\n                    placeholder={hasTopLabel ? placeholder : label}\n                    onChange={(e) => {\n                        setFieldValue(name, !!e.target.checked);\n                        setFieldTouched(name, true, false);\n                    }}\n                    {...field}\n                />\n            )}\n        </FieldRow>\n    );\n}\n\nCheckboxField.propTypes = CheckboxFieldProps;\n","// extracted by mini-css-extract-plugin\nexport default {\"noaccess\":\"_1E-qiHqU\",\"section\":\"_2yBWnbsa\",\"label\":\"_1uGiZHwl\",\"section-heading\":\"_36JJXQE0\",\"sectionHeading\":\"_36JJXQE0\",\"form-field\":\"Q6i--DAZ\",\"formField\":\"Q6i--DAZ\",\"code-block\":\"_1G4aGaTq\",\"codeBlock\":\"_1G4aGaTq\",\"copied\":\"_24W2na3a\",\"tip\":\"_38xn8FTx\"};","import React, { useMemo } from 'react';\nimport classNames from 'classnames';\nimport { Link, Redirect } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { get } from 'lodash';\n\nimport config from 'config';\nimport { useActions, useWorkspace, useCopyText } from '@mssgme/hooks';\nimport {\n    SidebarHeader,\n    ScrollableBox,\n    EnhancedNavigationGuard,\n    EnhancedFormik,\n    RestrictionScope,\n    Restriction,\n    SaveButton,\n    CancelButton,\n    Form,\n    Label,\n    Fieldset,\n    ColorField,\n    RadioField,\n    CheckboxField,\n    TextField,\n    TextareaField,\n} from '@mssgme/ui';\nimport { usePreview } from '../../../UI';\nimport styles from './styles.scss';\n\nconst POSITION_OPTIONS = [\n    {\n        label: 'widgetEdit.position.right',\n        value: 'right',\n    },\n    {\n        label: 'widgetEdit.position.left',\n        value: 'left',\n    },\n];\n\nconst DEVICE_OPTIONS = [\n    {\n        label: 'widgetEdit.deviceOptions.all',\n        value: 'all',\n    },\n    {\n        label: 'widgetEdit.deviceOptions.desktop',\n        value: 'desktop',\n    },\n    {\n        label: 'widgetEdit.deviceOptions.mobile',\n        value: 'mobile',\n    },\n];\n\nfunction useTransOptions(options) {\n    const { t } = useTranslation('cards');\n\n    return useMemo(() => options.map((o) => ({ ...o, label: t(o.label) })), [t]);\n}\n\nexport default function WidgetEdit() {\n    const { t } = useTranslation('cards');\n    const { isCopied, copyText } = useCopyText();\n\n    const actions = useActions();\n    const { card } = useWorkspace();\n    const { updatePreview } = usePreview();\n\n    const positionOptions = useTransOptions(POSITION_OPTIONS);\n    const deviceOptions = useTransOptions(DEVICE_OPTIONS);\n\n    const code = `<script src=\"${config.main_url}/widget/${card._id}\" async></script>`;\n\n    return (\n        <EnhancedFormik\n            initialValues={{\n                widget: {\n                    color: get(card, 'widget.color', '#51B3F7'),\n                    position: get(card, 'widget.position', 'right'),\n                    welcome: {\n                        enabled: get(card, 'widget.welcome.enabled', true),\n                        headline: get(card, 'widget.welcome.headline', ''),\n                        description: get(card, 'widget.welcome.description', ''),\n                        device: get(card, 'widget.welcome.device', 'all'),\n                    },\n                    device: get(card, 'widget.device', 'all'),\n                    components: {\n                        products: get(card, 'widget.components.products', false),\n                    },\n                },\n            }}\n            onSubmit={(values) => actions.api.card.update({ payload: { ...card, ...values } })}\n            onChange={updatePreview}\n        >\n            {({ values, status }) => (\n                <EnhancedNavigationGuard>\n                    {status === 'success' && <Redirect to=\"/p/share\" />}\n                    <SidebarHeader\n                        heading={t('widgetEdit.heading')}\n                        leftButton={<CancelButton tag={Link} to=\"/p/share\" styled=\"backIcon\" />}\n                        rightButton={<SaveButton />}\n                    />\n                    <ScrollableBox nopadding>\n                        <RestrictionScope className={styles.noaccess} modal={false}>\n                            <Restriction rule=\"widget\" />\n                            <Form>\n                                <Fieldset>\n                                    <ColorField name=\"widget.color\" label={t('widgetEdit.label.choose_color')} />\n                                    <RadioField\n                                        name=\"widget.position\"\n                                        label={t('widgetEdit.label.choose_position')}\n                                        options={positionOptions}\n                                    />\n                                </Fieldset>\n                                <Fieldset>\n                                    <CheckboxField\n                                        name=\"widget.welcome.enabled\"\n                                        label={t('widgetEdit.placeholder.welcome_message')}\n                                    />\n                                    {values.widget.welcome.enabled && (\n                                        <>\n                                            <TextField\n                                                name=\"widget.welcome.headline\"\n                                                label={t('widgetEdit.label.headline')}\n                                                placeholder={t('widgetEdit.placeholder.headline')}\n                                                maxLength={30}\n                                            />\n                                            <TextareaField\n                                                name=\"widget.welcome.description\"\n                                                label={t('widgetEdit.label.description')}\n                                                placeholder={t('widgetEdit.placeholder.description')}\n                                                maxLength={140}\n                                            />\n                                            <RadioField name=\"widget.welcome.device\" options={deviceOptions} />\n                                        </>\n                                    )}\n                                </Fieldset>\n                                <Fieldset>\n                                    <CheckboxField\n                                        name=\"widget.components.products\"\n                                        label={t('widgetEdit.placeholder.components.products')}\n                                    />\n                                </Fieldset>\n                                <Fieldset>\n                                    <Label>{t('widgetEdit.label.embed_code')}</Label>\n                                    <div\n                                        className={classNames(styles.codeBlock, {\n                                            [styles.copied]: isCopied,\n                                        })}\n                                        onClick={() => copyText(code)}\n                                        data-success={t('widgetEdit.copied')}\n                                        data-block=\"widget\"\n                                    >\n                                        {code}\n                                    </div>\n                                    <p className={styles.tip}>{t('widgetEdit.tip')}</p>\n                                </Fieldset>\n                            </Form>\n                        </RestrictionScope>\n                    </ScrollableBox>\n                </EnhancedNavigationGuard>\n            )}\n        </EnhancedFormik>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"heading\":\"_29bZbsQH\",\"bio\":\"_27OKbgMJ\",\"userLink\":\"_6ShOsRFI\",\"copied\":\"V3M2wOba\",\"tip\":\"_2D0KdRYK\",\"share-list\":\"_3xWtM1dv\",\"shareList\":\"_3xWtM1dv\",\"twitter\":\"_34SItKOe\",\"facebook\":\"_1v3iPD5m\",\"vkontakte\":\"_26Dft8MD\",\"instagram\":\"wMJdZosT\",\"widgetSection\":\"_24UMmm2A\",\"section\":\"_1abuBVO6\",\"label\":\"_3jgAoLd-\",\"section-heading\":\"_3TOC9wZE\",\"sectionHeading\":\"_3TOC9wZE\",\"code-block\":\"_2_TOVYr1\",\"codeBlock\":\"_2_TOVYr1\",\"tipCode\":\"_1NQcAnZc\",\"sectionBlock\":\"UTNEL5kw\",\"headingTitle\":\"_13lQSp-y\",\"headingInstruction\":\"_2i3OUW6G\",\"instagramTipImg\":\"_1FWdmduJ\",\"instagramSettingsLink\":\"_886tFqyp\",\"socialsTab\":\"_3LPVLhJh\",\"chevronRight\":\"_3ojMFq7o\",\"mainIcon\":\"_3v-V6S3y\",\"Badge\":\"XYI7cyOc\",\"badge\":\"XYI7cyOc\"};","import React from 'react';\nimport { Route, Switch } from 'react-router';\nimport { useTranslation } from 'react-i18next';\n\nimport { useWorkspace } from '@mssgme/hooks';\nimport { SidebarHeader, ScrollableBox, NavBackButton } from '@mssgme/ui';\n\nimport EmailSignature from './EmailSignature';\nimport ShareQR from './ShareQR';\nimport MoreVisits from './MoreVisits';\nimport WidgetEdit from '../WidgetEdit';\nimport { PageLayout } from '../../../UI';\n\nimport styles from './PageShare.scss';\n\n// eslint-disable-next-line react/prop-types\nfunction Layout({ children }) {\n    const [header, ...rest] = React.Children.toArray(children);\n\n    return (\n        <>\n            {header}\n            <ScrollableBox>\n                <div className={styles.content}>{rest}</div>\n            </ScrollableBox>\n        </>\n    );\n}\n\n// TODO: refactor\nexport default function PageShare() {\n    const { t } = useTranslation('cards');\n    const { card } = useWorkspace();\n\n    return (\n        <PageLayout>\n            <Switch>\n                <Route\n                    path=\"/p/share/sign\"\n                    exact\n                    render={() => (\n                        <Layout>\n                            <SidebarHeader\n                                heading={t('pageShare.emailSign')}\n                                leftButton={<NavBackButton to=\"/p/share\" />}\n                            />\n                            <EmailSignature\n                                url={card.profile.absoluteUrl}\n                                photo={card.design.photoUrl}\n                                username={card.profile.fullname}\n                            />\n                        </Layout>\n                    )}\n                />\n                <Route\n                    path=\"/p/share/qr\"\n                    exact\n                    render={() => (\n                        <Layout>\n                            <SidebarHeader\n                                heading={t('pageShare.share_qr')}\n                                leftButton={<NavBackButton to=\"/p/share\" />}\n                            />\n                            <ShareQR url={card.profile.qrUrl} />\n                        </Layout>\n                    )}\n                />\n                <Route path=\"/p/share/widget\" exact component={WidgetEdit} />\n                <Route\n                    path=\"/p/share\"\n                    exact\n                    render={() => (\n                        <Layout>\n                            <SidebarHeader heading={t('pageShare.heading')} leftButton={<NavBackButton to=\"/p\" />} />\n                            <MoreVisits url={card.profile.absoluteUrl} />\n                        </Layout>\n                    )}\n                />\n            </Switch>\n        </PageLayout>\n    );\n}\n","import WhatsappIcon from '../../../img/messengers/whatsapp-rounded.svg';\nimport TelegramIcon from '../../../img/messengers/telegram-rounded.svg';\nimport ViberIcon from '../../../img/messengers/viber-rounded.svg';\nimport MessengerIcon from '../../../img/messengers/messenger-rounded.svg';\nimport VkIcon from '../../../img/messengers/vk-rounded.svg';\nimport SkypeIcon from '../../../img/messengers/skype-rounded.svg';\n\nexport default [\n    {\n        messenger: 'whatsapp',\n        name: 'WhatsApp',\n        icon: WhatsappIcon,\n    },\n    {\n        messenger: 'telegram',\n        name: 'Telegram',\n        icon: TelegramIcon,\n    },\n    {\n        messenger: 'viber',\n        name: 'Viber',\n        icon: ViberIcon,\n    },\n    {\n        messenger: 'messenger',\n        name: 'Facebook Messenger',\n        icon: MessengerIcon,\n    },\n    {\n        messenger: 'vk',\n        name: 'Vkontakte',\n        icon: VkIcon,\n    },\n    {\n        messenger: 'skype',\n        name: 'Skype',\n        icon: SkypeIcon,\n    },\n];\n","export default __webpack_public_path__ + \"cards/img/messengers/whatsapp-rounded.svg\";","export default __webpack_public_path__ + \"cards/img/messengers/telegram-rounded.svg\";","export default __webpack_public_path__ + \"cards/img/messengers/viber-rounded.svg\";","export default __webpack_public_path__ + \"cards/img/messengers/messenger-rounded.svg\";","export default __webpack_public_path__ + \"cards/img/messengers/vk-rounded.svg\";","export default __webpack_public_path__ + \"cards/img/messengers/skype-rounded.svg\";","// extracted by mini-css-extract-plugin\nexport default {\"listItem\":\"KZ4K6CD4\",\"messengerPane\":\"_3DEijECa\",\"messenger-link\":\"_3uitjAdU\",\"messengerLink\":\"_3uitjAdU\",\"messenger-link-active\":\"_1qDqtIFU\",\"messengerLinkActive\":\"_1qDqtIFU\",\"messenger-label\":\"_11iBSPKW\",\"messengerLabel\":\"_11iBSPKW\",\"dragHandle\":\"_2q7wmxVG\",\"button\":\"Ue81JtWX\"};","import classNames from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nimport { Button } from '@mssgme/ui';\nimport DragIcon from '@mssgme/ui/icons/drag.svg';\nimport styles from './MessengerItem.scss';\n\nexport default function MessengerItem({ data, definition, t }) {\n    return (\n        <li className={styles.listItem}>\n            <div className={styles.messengerPane}>\n                <Link\n                    className={classNames(styles.messengerLink, { [styles.messengerLinkActive]: data && data.enabled })}\n                    to={`/p/edit/messengers/${definition.messenger}`}\n                >\n                    <img src={definition.icon} alt={`${definition.name} icon`} />\n                    <span className={styles.messengerLabel}>{definition.name}</span>\n                </Link>\n                {data && data.enabled ? (\n                    <div\n                        className={styles.dragHandle}\n                        title={t('common:labels.dragTip')}\n                        data-element=\"drag-handle\"\n                        style={{ pointerEvents: data ? 'auto' : 'none' }}\n                    >\n                        <DragIcon width=\"6\" color={data ? '#000' : '#ccc'} />\n                    </div>\n                ) : (\n                    <Button\n                        tag={Link}\n                        size=\"small\"\n                        rounded\n                        to={`/p/edit/messengers/${definition.messenger}`}\n                        className={styles.button}\n                    >\n                        {t('pageMessengers.add')}\n                    </Button>\n                )}\n            </div>\n        </li>\n    );\n}\n\nMessengerItem.propTypes = {\n    data: PropTypes.object,\n    definition: PropTypes.object.isRequired,\n    t: PropTypes.func.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"messengersList\":\"_2_gsDFNA\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\n\nimport MESSENGER_DEFINITIONS from './messengers.js';\nimport MessengerItem from './MessengerItem';\n\nimport styles from './SortableList.scss';\n\nconst getMessengerName = (item) => item.messenger;\n\nconst SortableItem = SortableElement(({ definition, data, t }) => (\n    <MessengerItem definition={definition} data={data} t={t} />\n));\n\nfunction SortableList({ messengers, t, isFetching }) {\n    const collectMessengers = (messengers) => {\n        const shortHand = (messenger) => messengers.find((x) => x.messenger === messenger);\n        const has = messengers.map(getMessengerName);\n        const rest = MESSENGER_DEFINITIONS.map(getMessengerName).filter((messenger) => has.indexOf(messenger) < 0);\n\n        return [...has, ...rest]\n            .map((messenger) => MESSENGER_DEFINITIONS.find((d) => d.messenger === messenger))\n            .filter(Boolean)\n            .map((definition) => ({\n                definition,\n                data: shortHand(definition.messenger),\n            }));\n    };\n\n    const ordered = collectMessengers(messengers);\n    return (\n        <ul className={classNames({ [styles.messengersList]: true, [styles.fetching]: isFetching })}>\n            {ordered\n                .filter(({ data }) => !!data)\n                .map(({ data, definition }, index) => (\n                    <SortableItem\n                        key={definition.messenger}\n                        index={index}\n                        data={data}\n                        definition={definition}\n                        t={t}\n                        disabled={!data}\n                    />\n                ))}\n            {ordered\n                .filter(({ data }) => !data)\n                .map(({ data, definition }) => (\n                    <MessengerItem key={definition.messenger} definition={definition} data={data} t={t} />\n                ))}\n        </ul>\n    );\n}\n\nSortableList.propTypes = {\n    messengers: PropTypes.array,\n    t: PropTypes.func.isRequired,\n    isFetching: PropTypes.bool,\n};\n\nexport default SortableContainer(SortableList);\n","// extracted by mini-css-extract-plugin\nexport default {\"sortable\":\"_2MvBtZUH\",\"fetching\":\"_3S3HN3hi\"};","export function getPlaceholder(messenger, t) {\n    switch (messenger.messenger) {\n        case 'whatsapp':\n            return messenger.type === 'private'\n                ? t('messengerEdit.placeholder.whatsapp.private')\n                : t('messengerEdit.placeholder.whatsapp.public');\n        case 'viber':\n            return messenger.type === 'private'\n                ? t('messengerEdit.placeholder.viber.private')\n                : messenger.type === 'public'\n                    ? t('messengerEdit.placeholder.viber.public')\n                    : t('messengerEdit.placeholder.viber.community');\n        case 'telegram':\n        case 'messenger':\n        case 'vk':\n        case 'skype':\n            return t('messengerEdit.placeholder.telegram');\n    }\n}\n\nexport function regexResult(messenger) {\n    return messenger.messenger === 'telegram'\n        ? messenger.name.match(/^https?:\\/\\/([^/]+)+\\/([^/]+)\\/([^/]+).*$/)\n        : messenger.name.match(/^https?:\\/\\/([^/]+)+\\/([^/]+).*$/);\n}\n\nexport function validateUrl(messenger) {\n    const result = regexResult(messenger);\n    switch (messenger.messenger) {\n        case 'whatsapp':\n            if (result && result[1] === 'chat.whatsapp.com') {\n                messenger.name = result[2];\n            }\n            return messenger;\n        case 'viber':\n            if (result && result[1] === 'invite.viber.com') {\n                messenger.name = result[2];\n            }\n            return messenger;\n        case 'telegram':\n            if (result && result[2] === 'joinchat') {\n                messenger.name = result[3];\n                messenger.type = 'secret';\n            }\n            return messenger;\n        default:\n            return messenger;\n    }\n}\n\nexport const LABELS = {\n    whatsapp: 'WhatsApp',\n    telegram: 'Telegram',\n    viber: 'Viber',\n    messenger: 'Messenger',\n    vk: 'Vkontakte',\n    skype: 'Skype',\n};\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { normalizePhone } from '@mssgme/helpers';\nimport { FieldRow, Input, useFormikContext } from '@mssgme/ui';\nimport { SelectMessengerType } from '../../../UI';\n\nexport default function NameField({ name, ...rest }) {\n    const {\n        getFieldProps,\n        setFieldValue,\n        setFieldTouched,\n        values: { type, messenger },\n    } = useFormikContext();\n\n    const handleChange = useCallback(\n        (e) => {\n            let { value } = e.target;\n            if ((messenger === 'viber' || messenger === 'whatsapp') && type === 'private') {\n                value = normalizePhone(value);\n            }\n            setFieldValue(name, value);\n            setFieldTouched(name, true, false);\n        },\n        [setFieldValue, setFieldTouched, type, messenger]\n    );\n\n    let beforeInput;\n    switch (messenger) {\n        case 'messenger':\n            beforeInput = 'm.me/';\n            break;\n        case 'vk':\n            beforeInput = 'vk.me/';\n            break;\n        case 'viber':\n        case 'whatsapp':\n            beforeInput = <SelectMessengerType platform={messenger} {...getFieldProps('type')} />;\n            break;\n    }\n\n    return <FieldRow as={Input} name={name} onChange={handleChange} beforeInput={beforeInput} {...rest} />;\n}\n\nNameField.propTypes = {\n    name: PropTypes.string.isRequired,\n};\n","export default function normalizePhone(value, maxLength = 18, lenient = true) {\n    const len = (value && value.length) || 0;\n\n    if (len === 0) return '';\n\n    const phone = (lenient || value.indexOf('+') >= 0 ? '+' : '') + value.replace(/\\D/g, '');\n\n    return phone.slice(0, maxLength);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"help\":\"iZnyx3hS\",\"actions\":\"_2XIB1lpH\",\"groupedElements\":\"_2LkVv9bg\",\"form-new\":\"_2ozRldcM\",\"formNew\":\"_2ozRldcM\"};","import MessengerEdit from './MessengerEdit';\n\nexport default MessengerEdit;\n","import classNames from 'classnames';\nimport React from 'react';\nimport { get } from 'lodash';\nimport { Link, useHistory, useParams } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { FiX } from 'react-icons/fi';\n\nimport { useWorkspace, useActions } from '@mssgme/hooks';\nimport {\n    SidebarHeader,\n    ScrollableBox,\n    Button,\n    Notification,\n    EnhancedNavigationGuard,\n    FormikProvider,\n    Form,\n    useEnhancedFormik,\n    CancelButton,\n    SaveButton,\n    Feature,\n} from '@mssgme/ui';\n\nimport { useMessengerHelpHint } from '../../../hooks';\nimport { PageLayout } from '../../../UI';\nimport { LABELS, getPlaceholder } from './helpers';\nimport NameField from './NameField';\n\nimport styles from './MessengerEdit.scss';\n\nexport default function MessengerEdit() {\n    const history = useHistory();\n    const actions = useActions();\n    const { t } = useTranslation('cards');\n    const { card } = useWorkspace();\n    const { platform } = useParams();\n\n    const messenger = card.messengers.find((item) => item.messenger === platform);\n    const isNew = !messenger;\n\n    const formik = useEnhancedFormik({\n        initialValues: {\n            type: get(messenger, 'type', 'private'),\n            name: get(messenger, 'name', ''),\n            messenger: platform,\n            enabled: true,\n        },\n        onSubmit: async (payload) => {\n            isNew\n                ? await actions.api.card.messengers.create({ payload })\n                : await actions.api.card.messengers.update({ messengerId: messenger._id, payload });\n            onSuccess('CardEditor.saved');\n        },\n    });\n    const help = useMessengerHelpHint(formik.values);\n\n    async function handleDelete(e) {\n        e.preventDefault();\n        await actions.api.card.messengers.delete({ messengerId: messenger._id });\n        onSuccess('CardEditor.removed');\n    }\n\n    function onSuccess(message) {\n        setTimeout(() => {\n            Notification.notify(t(message), { showClose: true });\n\n            history.push('/p/edit/messengers');\n        }, 10);\n    }\n\n    const placeholder = getPlaceholder(formik.values, t);\n    const label = LABELS[platform];\n\n    const leftButton = <CancelButton tag={Link} to=\"/p/edit/messengers\" styled=\"backIcon\" />;\n\n    return (\n        <FormikProvider value={formik}>\n            <EnhancedNavigationGuard>\n                <PageLayout>\n                    <SidebarHeader heading={label} leftButton={leftButton} rightButton={<SaveButton />} />\n                    <ScrollableBox>\n                        <Feature rule=\"messengers:edit\" subject={formik.values}>\n                            <Form className={classNames({ [styles.formNew]: !isNew })}>\n                                <NameField name=\"name\" label={label} placeholder={placeholder} autoFocus />\n\n                                {!isNew && (\n                                    <Button\n                                        wrapContentStyle={{ overflow: 'visible' }}\n                                        btnStyle=\"danger\"\n                                        size=\"small\"\n                                        type=\"button\"\n                                        onClick={handleDelete}\n                                    >\n                                        <FiX />\n                                    </Button>\n                                )}\n\n                                {help && <div className={styles.help}>{help}</div>}\n                            </Form>\n                        </Feature>\n                    </ScrollableBox>\n                </PageLayout>\n            </EnhancedNavigationGuard>\n        </FormikProvider>\n    );\n}\n","import { useTranslation } from 'react-i18next';\n\nexport function useMessengerHelpHint(messenger) {\n    const { t } = useTranslation('cards');\n\n    switch (messenger.messenger) {\n        case 'whatsapp':\n            return messenger.type === 'private'\n                ? t('messengerEdit.help.whatsapp.private')\n                : t('messengerEdit.help.whatsapp.public');\n        case 'telegram':\n            return t('messengerEdit.help.telegram');\n        case 'messenger':\n            return t('messengerEdit.help.messenger');\n        case 'vk':\n            return t('messengerEdit.help.vk');\n        case 'skype':\n            return t('messengerEdit.help.skype');\n        case 'viber':\n            return messenger.type === 'private'\n                ? t('messengerEdit.help.viber.private')\n                : messenger.type === 'public'\n                    ? t('messengerEdit.help.viber.public')\n                    : t('messengerEdit.help.viber.community');\n    }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1MqO3yxZ\",\"enabled\":\"_2jD3OpW2\",\"right\":\"zcuvmY-t\",\"left\":\"cleGpAUZ\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport styles from './styles.scss';\n\nexport default class Toggleable extends React.Component {\n    static propTypes = {\n        className: PropTypes.string,\n        type: PropTypes.oneOf(['left', 'right']),\n        enabled: PropTypes.bool,\n        children: PropTypes.node,\n        tag: PropTypes.any,\n    };\n\n    static defaultProps = {\n        type: 'right',\n        enabled: false,\n        tag: 'div',\n    };\n\n    render() {\n        const { tag: Element, children, enabled, type, className, ...rest } = this.props;\n        const classes = classNames(styles.root, className, styles[type], {\n            [styles.enabled]: enabled,\n        });\n\n        return (\n            <Element className={classes} {...rest}>\n                {children}\n            </Element>\n        );\n    }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"no-links-message\":\"_3oEMo3MX\",\"noLinksMessage\":\"_3oEMo3MX\",\"full-width\":\"_3IdulwYs\",\"fullWidth\":\"_3IdulwYs\",\"links-container\":\"_1QgQvPTZ\",\"linksContainer\":\"_1QgQvPTZ\",\"link\":\"_1ok-qvg4\",\"title\":\"_1H6NlHyR\",\"value\":\"_2ox12PvG\"};","import PageLinks from './PageLinks';\n\nexport default PageLinks;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport { useWorkspace } from '@mssgme/hooks';\nimport { SidebarHeader, LinkButton, ScrollableBox, NavBackButton, Toggleable, Feature } from '@mssgme/ui';\n\nimport { PageLayout } from '../../../UI';\n\nimport styles from './PageLinks.scss';\n\nexport default function PageLinks() {\n    const { t } = useTranslation('cards');\n    const {\n        card: { links },\n    } = useWorkspace();\n\n    const leftButton = <NavBackButton to=\"/p/edit\" />;\n\n    return (\n        <PageLayout>\n            <SidebarHeader heading={t('pageLinks.links')} leftButton={leftButton} />\n            <ScrollableBox>\n                <Feature rule=\"links:?\">\n                    {links.length === 0 && <p className={styles.noLinksMessage}>{t('pageLinks.description')}</p>}\n                    {links.length > 0 && (\n                        <div className={styles.linksContainer}>\n                            {links.map((link) => (\n                                <div key={link._id} className={styles.link}>\n                                    <span className={styles.title}>{link.title}</span>\n                                    <Toggleable\n                                        className={styles.value}\n                                        tag={Link}\n                                        to={`/p/edit/links/${link._id}`}\n                                        enabled={link.enabled}\n                                    >\n                                        {link.url}\n                                    </Toggleable>\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                    <LinkButton to=\"/p/edit/links/new\" className={styles.fullWidth}>\n                        {t('pageLinks.add_link')}\n                    </LinkButton>\n                </Feature>\n            </ScrollableBox>\n        </PageLayout>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3D93i_EQ\",\"no-links-message\":\"_2eCGsdps\",\"noLinksMessage\":\"_2eCGsdps\",\"full-width\":\"qNezEs2Z\",\"fullWidth\":\"qNezEs2Z\",\"links-container\":\"ZIOkMWA0\",\"linksContainer\":\"ZIOkMWA0\",\"title\":\"OBWvWwr2\",\"value\":\"_3t2VaZDs\",\"groupedElements\":\"Nh0X-F-A\",\"actions\":\"_30zqYshC\"};","import LinkEdit from './LinkEdit';\n\nexport default LinkEdit;\n","import React, { useRef } from 'react';\nimport { get } from 'lodash';\nimport { Link, useParams, Redirect } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport { normalizeWebsiteUrl } from '@mssgme/helpers';\nimport { useWorkspace, useActions, useFetching } from '@mssgme/hooks';\nimport { isMatchId } from '@mssgme/store';\nimport {\n    SidebarHeader,\n    ScrollableBox,\n    Button,\n    NotifyAndClose,\n    EnhancedNavigationGuard,\n    EnhancedFormik,\n    Form,\n    SaveButton,\n    CancelButton,\n    Row,\n    TextField,\n    CheckboxField,\n    Feature,\n} from '@mssgme/ui';\n\nimport styles from './LinkEdit.scss';\n\nfunction useLink(linkId) {\n    const { card } = useWorkspace();\n    const link = linkId ? card.links.find(isMatchId(linkId)) : null;\n    const ref = useRef(link);\n\n    return ref.current;\n}\n\nexport default function LinkEdit() {\n    const { t } = useTranslation('cards');\n    const { linkId } = useParams();\n    const actions = useActions();\n    const deleteLink = useFetching(actions.api.card.links.delete);\n    const link = useLink(linkId);\n\n    const isNew = !linkId;\n\n    if (!isNew && !link) throw new Error('No link');\n\n    const leftButton = <CancelButton tag={Link} to=\"/p/edit/links\" styled=\"backIcon\" />;\n\n    return (\n        <EnhancedFormik\n            initialValues={{\n                title: get(link, 'title', ''),\n                url: get(link, 'url', ''),\n                enabled: get(link, 'enabled', true),\n            }}\n            onSubmit={(payload) => {\n                return isNew\n                    ? actions.api.card.links.create({ payload })\n                    : actions.api.card.links.update({ linkId, payload });\n            }}\n        >\n            {({ values, status, setFieldValue }) => (\n                <EnhancedNavigationGuard>\n                    {status === 'success' && (\n                        <>\n                            <NotifyAndClose>{t('CardEditor.saved')}</NotifyAndClose>\n                            <Redirect to=\"/p/edit/links\" />\n                        </>\n                    )}\n                    {deleteLink.fulfilled && (\n                        <>\n                            <NotifyAndClose>{t('CardEditor.removed')}</NotifyAndClose>\n                            <Redirect to=\"/p/edit/links\" />\n                        </>\n                    )}\n                    <div className={styles.root}>\n                        <SidebarHeader\n                            heading={t('linkEdit.new_link')}\n                            leftButton={leftButton}\n                            rightButton={<SaveButton />}\n                        />\n                        <ScrollableBox>\n                            <Feature rule={isNew ? 'links:create' : 'links:edit'} subject={link}>\n                                <Form>\n                                    <TextField\n                                        name=\"title\"\n                                        label={t('linkEdit.title')}\n                                        placeholder={t('linkEdit.title_placeholder')}\n                                        maxLength={100}\n                                        autoFocus\n                                    />\n                                    <TextField\n                                        name=\"url\"\n                                        label={t('linkEdit.link')}\n                                        placeholder={t('linkEdit.link_placeholder')}\n                                        onBlur={() => {\n                                            setFieldValue('url', normalizeWebsiteUrl(values.url));\n                                        }}\n                                    />\n                                    <Row className={styles.groupedElements}>\n                                        <CheckboxField name=\"enabled\" label={t('linkEdit.enabled')} />\n                                        {!isNew && (\n                                            <div className={styles.actions}>\n                                                <Button\n                                                    btnStyle=\"danger\"\n                                                    size=\"small\"\n                                                    type=\"button\"\n                                                    onClick={() => deleteLink.run({ linkId })}\n                                                >\n                                                    {t('linkEdit.delete')}\n                                                </Button>\n                                            </div>\n                                        )}\n                                    </Row>\n                                </Form>\n                            </Feature>\n                        </ScrollableBox>\n                    </div>\n                </EnhancedNavigationGuard>\n            )}\n        </EnhancedFormik>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"tabs\":\"XTTvjyrq\",\"tab\":\"_1btONEpx\",\"active\":\"_2iws8coi\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { isNil } from 'lodash';\nimport styles from './styles.scss';\n\nclass Tabs extends React.Component {\n    static propTypes = {\n        className: PropTypes.string,\n        selected: PropTypes.number,\n        defaultSelected: PropTypes.number,\n        children: PropTypes.array.isRequired,\n        onSelect: PropTypes.func,\n    };\n\n    static defaultProps = {\n        defaultSelected: 0,\n    };\n\n    static getDerivedStateFromProps(props, state) {\n        if (props.selected !== state.prevSelected) {\n            const isControlled = !isNil(props.selected);\n\n            return {\n                isControlled,\n                selected: isControlled ? props.selected : props.defaultSelected,\n                prevSelected: props.selected,\n            };\n        }\n\n        return null;\n    }\n\n    state = {\n        isControlled: false,\n        selected: this.props.defaultSelected,\n    };\n\n    handleClick(index, e) {\n        e.preventDefault();\n        const { isControlled } = this.state;\n        const { onSelect } = this.props;\n\n        !isControlled && this.setState({ selected: index });\n        onSelect && onSelect(index);\n    }\n\n    render() {\n        const { selected } = this.state;\n        const { className, children } = this.props;\n        let index = 0;\n        const _children = React.Children.map(children, (el) => {\n            if (el.type.role === 'Tab') {\n                const newEl = React.cloneElement(el, {\n                    ...el.props,\n                    isSelected: index === selected,\n                    onClick: this.handleClick.bind(this, index),\n                });\n\n                index++;\n                return newEl;\n            }\n\n            return el;\n        });\n\n        return <div className={classNames(styles.tabs, className)}>{_children}</div>;\n    }\n}\n\nTabs.role = 'Tabs';\n\nexport default Tabs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './styles.scss';\n\nconst Tab = ({ isSelected, children, onClick }) => (\n    <div className={classNames(styles.tab, { [styles.active]: isSelected })} onClick={onClick}>\n        <span>{children}</span>\n    </div>\n);\n\nTab.propTypes = {\n    isSelected: PropTypes.bool,\n    children: PropTypes.any,\n    onClick: PropTypes.func,\n};\n\nTab.role = 'Tab';\n\nexport default Tab;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2oafkPiY\",\"total\":\"_12ZB01mX\",\"button\":\"_1f4GJwJL\",\"expanded\":\"_1F5LCL4S\",\"list\":\"_1NH-7hdB\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { useTranslation } from 'react-i18next';\n\nimport styles from './StatsList.scss';\n\nconst StatsHeader = ({ heading, amount }) => (\n    <div className={styles.total}>\n        <span>{heading}</span>\n        <span>{amount}</span>\n    </div>\n);\n\nStatsHeader.propTypes = {\n    heading: PropTypes.string.isRequired,\n    amount: PropTypes.number.isRequired,\n};\n\nconst StatsMore = ({ stats, expanded, onToggle }) => {\n    const { t } = useTranslation('cards');\n\n    return (\n        <>\n            {expanded && (\n                <ul className={styles.list}>\n                    {stats.map((stat) => (\n                        <li key={stat.key}>\n                            <span>{stat.label}</span>\n                            <span>{stat.value}</span>\n                        </li>\n                    ))}\n                </ul>\n            )}\n            {stats.length > 0 && (\n                <span className={classNames(styles.button, { [styles.expanded]: expanded })} onClick={onToggle}>\n                    {expanded ? t('statsList.hide') : t('statsList.show')}\n                </span>\n            )}\n        </>\n    );\n};\n\nStatsMore.propTypes = {\n    stats: PropTypes.array.isRequired,\n    expanded: PropTypes.bool.isRequired,\n    onToggle: PropTypes.func.isRequired,\n};\n\nexport default class StatsList extends React.Component {\n    static propTypes = {\n        heading: PropTypes.string,\n        stats: PropTypes.oneOfType([PropTypes.array, PropTypes.number]),\n    };\n\n    static defaultProps = {\n        heading: 'Actions',\n        stats: [],\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            expanded: false,\n        };\n    }\n\n    toggleList = () => {\n        this.setState((state) => ({\n            expanded: !state.expanded,\n        }));\n    };\n\n    render() {\n        const { heading, stats } = this.props;\n        const { expanded } = this.state;\n        const isArray = Array.isArray(stats);\n        const total = isArray ? stats.reduce((prev, curr) => prev + curr.value, 0) : stats;\n\n        return (\n            <div className={styles.root}>\n                <StatsHeader heading={heading} amount={total} />\n                {isArray && <StatsMore stats={stats} expanded={expanded} onToggle={this.toggleList} />}\n            </div>\n        );\n    }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"_3jNtFAWh\",\"nav-button\":\"XtsN5yB1\",\"navButton\":\"XtsN5yB1\",\"disabled\":\"_3U4K4aNw\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport moment from 'moment';\nimport { withTranslation } from 'react-i18next';\nimport { FaAngleLeft, FaAngleRight } from 'react-icons/fa';\n\nimport { handleError } from '@mssgme/lib';\nimport { Tab, Tabs } from '@mssgme/ui';\nimport StatsList from './StatsList';\nimport styles from './CardStatistics.scss';\n\nconst DAY_TAB = 0;\nconst WEEK_TAB = 1;\nconst MONTH_TAB = 2;\n\nconst MONTH_MAX_INTERVAL = 2;\n\nconst TAB_DAY_MAP = {\n    [DAY_TAB]: 'day',\n    [WEEK_TAB]: 'week',\n    [MONTH_TAB]: 'month',\n};\n\nconst NavButton = ({ disabled = false, ...rest }) => (\n    <a href=\"#\" className={classNames(styles.navButton, { [styles.disabled]: disabled })} {...rest} />\n);\n\nNavButton.propTypes = {\n    disabled: PropTypes.bool,\n};\n\nconst Header = (props) => <div className={styles.header} {...props} />;\n\nclass CardStatistics extends React.Component {\n    static propTypes = {\n        statistics: PropTypes.array.isRequired,\n        getCardStatistics: PropTypes.func.isRequired,\n        t: PropTypes.func.isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n\n        const tabIndex = WEEK_TAB;\n        const interval = TAB_DAY_MAP[tabIndex];\n        const now = moment();\n\n        this.state = {\n            tabIndex,\n            prev: getPreviousDate(now, interval),\n            next: getNextDate(now, interval),\n            ...generateDateRange(now, interval),\n        };\n    }\n\n    componentDidMount() {\n        const { from, to } = this.state;\n\n        this.props.getCardStatistics(+from, +to).catch(handleError);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const { from, to } = this.state;\n\n        if (from != prevState.from || to != prevState.to) {\n            this.props.getCardStatistics(+from, +to).catch(handleError);\n        }\n    }\n\n    handleSelect = (tabIndex) => {\n        const interval = TAB_DAY_MAP[tabIndex];\n        const now = moment();\n\n        this.setState({\n            tabIndex,\n            prev: getPreviousDate(now, interval),\n            next: getNextDate(now, interval),\n            ...generateDateRange(now, interval),\n        });\n    };\n\n    handleLeftClick = (e) => {\n        e.preventDefault();\n\n        this.setState((state) => {\n            const interval = TAB_DAY_MAP[state.tabIndex];\n\n            if (state.prev) {\n                return {\n                    prev: getPreviousDate(state.prev, interval),\n                    next: getNextDate(state.prev, interval),\n                    ...generateDateRange(state.prev, interval),\n                };\n            }\n        });\n    };\n\n    handleRightClick = (e) => {\n        e.preventDefault();\n\n        this.setState((state) => {\n            const interval = TAB_DAY_MAP[state.tabIndex];\n\n            if (state.next) {\n                return {\n                    prev: getPreviousDate(state.next, interval),\n                    next: getNextDate(state.next, interval),\n                    ...generateDateRange(state.next, interval),\n                };\n            }\n        });\n    };\n\n    render() {\n        const { statistics, t } = this.props;\n        const { tabIndex, from, to, prev, next } = this.state;\n        const views = statistics.find((item) => item.action === 'page.view');\n        const messengers = statistics.filter((item) => item.action === 'messenger.click');\n        const links = statistics.filter((item) => item.action === 'link.click');\n        const viewsAmount = (views && views.value) || 0;\n\n        return (\n            <div>\n                <Tabs selected={tabIndex} onSelect={this.handleSelect}>\n                    <Tab>{t('CardStatistics.day')}</Tab>\n                    <Tab>{t('CardStatistics.week')}</Tab>\n                    <Tab>{t('CardStatistics.month')}</Tab>\n                </Tabs>\n                <Header>\n                    <NavButton disabled={!prev} onClick={this.handleLeftClick}>\n                        <FaAngleLeft />\n                    </NavButton>\n                    <p>\n                        {tabIndex === DAY_TAB\n                            ? from.format('MMM DD')\n                            : from.format('MMM DD') + ' - ' + to.format('MMM DD')}\n                    </p>\n                    <NavButton disabled={!next} onClick={this.handleRightClick}>\n                        <FaAngleRight />\n                    </NavButton>\n                </Header>\n                <StatsList expandable={false} stats={viewsAmount} heading={t('pageAnalytics.visits')} />\n                <StatsList expandable={false} stats={messengers} heading={t('pageAnalytics.clicks_messengers')} />\n                <StatsList expandable={false} stats={links} heading={t('pageAnalytics.clicks_links')} />\n            </div>\n        );\n    }\n}\n\nfunction generateDateRange(dateTime, interval) {\n    let from = dateTime.clone().startOf(interval);\n    let to = dateTime.clone().endOf(interval);\n\n    return { from, to };\n}\n\nfunction getPreviousDate(dateTime, interval) {\n    const { min } = getMinMaxDates(interval);\n    let prev = dateTime.clone().subtract(1, interval);\n\n    return prev > min ? prev : null;\n}\n\nfunction getNextDate(dateTime, interval) {\n    const { max } = getMinMaxDates(interval);\n    let next = dateTime.clone().add(1, interval);\n\n    return next < max ? next : null;\n}\n\nfunction getMinMaxDates(interval) {\n    let max = moment().endOf('day');\n    let min = moment()\n        .subtract(MONTH_MAX_INTERVAL, 'month')\n        .startOf('month');\n\n    if (interval !== 'month') min = min.startOf('week');\n\n    return { min, max };\n}\n\nexport default withTranslation('cards')(CardStatistics);\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_18d8Ft1z\",\"help\":\"_24uNsqBV\"};","import React, { useMemo } from 'react';\nimport { useParams } from 'react-router';\nimport { useTranslation } from 'react-i18next';\nimport { get } from 'lodash';\n\nimport { TextField } from '@mssgme/ui';\nimport CardEditForm from '../CardEditForm';\n\nimport styles from './PixelEdit.scss';\n\nconst PLATFORMS = {\n    facebook: {\n        label: 'Facebook pixel ID',\n        help: 'pixelEdit.help.facebook',\n    },\n    google: {\n        label: 'Google PageAnalytics tracking ID',\n        help: 'pixelEdit.help.google',\n    },\n    yandex: {\n        label: 'Yandex Metrika tracking ID',\n        help: 'pixelEdit.help.yandex',\n    },\n};\n\nexport default function PixelEdit() {\n    const { t } = useTranslation('cards');\n    const { platform } = useParams();\n\n    const { help } = useMemo(\n        () => ({\n            label: get(PLATFORMS, `${platform}.label`, ''),\n            help: t(get(PLATFORMS, `${platform}.help`, '')),\n        }),\n        [platform]\n    );\n\n    const pageTitle = platform.charAt(0).toUpperCase() + platform.slice(1);\n\n    return (\n        <CardEditForm title={pageTitle} backPath=\"/p/settings/tracking\" successRedirectPath=\"/p/settings/tracking\">\n            {() => (\n                <>\n                    <TextField\n                        id=\"card_pixel\"\n                        name={`analytics.${platform}`}\n                        placeholder={t('pixelEdit.placeholder')}\n                    />\n                    {help && <div className={styles.help}>{help}</div>}\n                </>\n            )}\n        </CardEditForm>\n    );\n}\n","import PixelEdit from './PixelEdit';\n\nexport default PixelEdit;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2aSrsAKP\",\"form-field\":\"zFksAHVP\",\"formField\":\"zFksAHVP\",\"form-field-label\":\"_2csXkXbg\",\"formFieldLabel\":\"_2csXkXbg\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2u3Kgz27\",\"fetching\":\"adpzAog0\",\"productsList\":\"_37SUECNi\",\"listItem\":\"rTrs7jx2\",\"sortable\":\"_2M3sBqeJ\"};","import arrayMove from 'array-move';\nimport cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\n\nimport { useActions } from '@mssgme/hooks';\nimport { ProductAdminItem } from '../../../../../UI';\nimport styles from './ProductsListDraggable.scss';\n\nconst SortableItem = SortableElement(({ product, draggable }) => (\n    <li key={product._id} className={styles.listItem}>\n        <ProductAdminItem\n            tag={Link}\n            product={product}\n            to={`/p/products/${product._id}`}\n            title={product.name}\n            hasDragHandle={draggable}\n        />\n    </li>\n));\n\nconst SortableList = SortableContainer(({ products, draggable }) => (\n    <ul className={styles.productsList}>\n        {products.map((product, index) => (\n            <SortableItem\n                key={product.id}\n                index={index}\n                product={product}\n                disabled={!draggable}\n                draggable={draggable}\n            />\n        ))}\n    </ul>\n));\n\nexport default function ProductsListDraggable({ products, collectionId, draggable }) {\n    const actions = useActions();\n    const [items, setProducts] = useState([]);\n    const [isFetching, setIsFetching] = useState(false);\n\n    const onSortEnd = async ({ oldIndex, newIndex }) => {\n        const product1Id = items[oldIndex].id;\n        const product2Id = items[newIndex].id;\n\n        setProducts((prevItems) => arrayMove(prevItems, oldIndex, newIndex));\n\n        if (oldIndex !== newIndex) {\n            await actions.api.products.sort({\n                payload: { product1Id, product2Id, collectionId, limit: products.length },\n            });\n        }\n\n        setIsFetching(false);\n    };\n\n    useEffect(() => {\n        setProducts(products);\n    }, [products]);\n\n    return (\n        <div className={cn({ [styles.root]: true, [styles.fetching]: isFetching })}>\n            <SortableList\n                products={items}\n                axis=\"y\"\n                lockAxis=\"y\"\n                onSortEnd={onSortEnd}\n                helperClass={styles.sortable}\n                draggable={draggable}\n                shouldCancelStart={(e) => {\n                    if (e.target.dataset.element !== 'drag-handle') {\n                        return true;\n                    }\n                }}\n            />\n        </div>\n    );\n}\n\nProductsListDraggable.propTypes = {\n    products: PropTypes.array.isRequired,\n    collectionId: PropTypes.string.isRequired,\n    draggable: PropTypes.bool.isRequired,\n};\n\nProductsListDraggable.defaultProps = {\n    draggable: true,\n};\n","import ProductsListDraggable from './ProductsListDraggable';\n\nexport default ProductsListDraggable;\n","// extracted by mini-css-extract-plugin\nexport default {\"searchHeader\":\"_2MPEIXUj\",\"searchInputContainer\":\"CJO7mXC-\",\"searchInput\":\"_2J9FyVLq\",\"searchIcon\":\"_2EGqai5J\"};","import AdminHeaderSearch from './AdminHeaderSearch';\n\nexport default AdminHeaderSearch;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { FiSearch } from 'react-icons/fi';\n\nimport styles from './AdminHeaderSearch.scss';\n\nexport default function AdminHeaderSearch({ ...props }) {\n    const { t } = useTranslation('cards');\n\n    return (\n        <div className={styles.searchHeader}>\n            <div className={styles.searchInputContainer}>\n                <input\n                    className={styles.searchInput}\n                    type=\"text\"\n                    name=\"name\"\n                    placeholder={t('PageProductsMain.search')}\n                    {...props}\n                />\n                <div className={styles.searchIcon}>\n                    <FiSearch size={16} color=\"#8E8E93\" />\n                </div>\n            </div>\n        </div>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2lUxWtKJ\"};","import FilterMessage from './FilterMessage';\n\nexport default FilterMessage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport styles from './FilterMessage.scss';\n\nexport default function FilterMessage({ className, title, description, ...props }) {\n    return (\n        <div className={cn(styles.root, className)} {...props}>\n            <h3>{title}</h3>\n            <p>{description}</p>\n        </div>\n    );\n}\n\nFilterMessage.propTypes = {\n    className: PropTypes.string,\n    title: PropTypes.string.isRequired,\n    description: PropTypes.string.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2FY99N_4\",\"button\":\"_2oSIBL4M\",\"disabled\":\"_1lVS-4es\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport { useTranslation } from 'react-i18next';\nimport styles from './LoadMoreButton.scss';\n\nexport default function LoadMoreButton({ children, disabled, ...rest }) {\n    const { t } = useTranslation('cards');\n\n    return (\n        <div className={styles.root}>\n            <span className={cn({ [styles.button]: true, [styles.disabled]: disabled })} {...rest}>\n                {children ? children : t('PageProductsMain.loadMore')}\n            </span>\n        </div>\n    );\n}\n\nLoadMoreButton.propTypes = {\n    children: PropTypes.node,\n    disabled: PropTypes.bool,\n};\n\nLoadMoreButton.defaultProps = {\n    disabled: false,\n};\n","import LoadMoreButton from './LoadMoreButton';\n\nexport default LoadMoreButton;\n","import ProductsListFooter from './ProductsListFooter';\n\nexport default ProductsListFooter;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { Spinner } from '@mssgme/ui';\nimport LoadMoreButton from '../LoadMoreButton';\nimport FilterMessage from '../FilterMessage';\n\nexport default function ProductsListFooter({ products, loadMore }) {\n    const { t } = useTranslation('cards');\n\n    if (products.isFetching) {\n        return <Spinner />;\n    }\n\n    const isEmptyCollection = products.items.length === 0;\n\n    return (\n        <>\n            {products.next && <LoadMoreButton onClick={loadMore} />}\n\n            {isEmptyCollection &&\n                (products.filter.name ? (\n                    <FilterMessage\n                        title={t('pageProducts.filterEmptyHeading')}\n                        description={t('pageProducts.filterEmptyDescription')}\n                    />\n                ) : (\n                    <FilterMessage\n                        title={t('pageProducts.emptyHeading')}\n                        description={t('pageProducts.emptyDescription')}\n                    />\n                ))}\n        </>\n    );\n}\n\nProductsListFooter.propTypes = {\n    products: PropTypes.shape({\n        items: PropTypes.array.isRequired,\n        isFetching: PropTypes.bool,\n        next: PropTypes.string,\n        filter: PropTypes.shape({\n            name: PropTypes.string,\n        }).isRequired,\n    }).isRequired,\n    loadMore: PropTypes.func.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3TJRTQsJ\",\"fetching\":\"_2u4cpXRM\",\"list\":\"_2B_PCrw_\",\"listItem\":\"_2CWqH6Pm\",\"label\":\"_2-JuitfJ\",\"hiddenItem\":\"_1cRgi8pe\",\"status\":\"_2g2-yNaO\",\"active\":\"p3Bd2RLt\",\"sortable\":\"_34SAjLI0\",\"dragHandle\":\"_3polc_uw\",\"sortableList\":\"_2JXMcRLq\",\"isFetching\":\"_3iJ-cT4i\",\"counter\":\"_3H7QIcJT\"};","import arrayMove from 'array-move';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport { useDeepCompareEffect } from 'react-use';\n\nimport { useActions } from '@mssgme/hooks';\nimport DragIcon from '@mssgme/ui/icons/drag.svg';\nimport styles from './CollectionsListDraggable.scss';\n\nconst SortableItem = SortableElement(({ col, t, draggable }) => {\n    const ProductsCountTextTail = t(\n        col.publishedProductsCount === 1\n            ? 'PageProductsMain.productsSingle'\n            : col.publishedProductsCount > 1 && col.publishedProductsCount < 5\n                ? 'PageProductsMain.products24'\n                : 'PageProductsMain.productsMany'\n    );\n\n    return (\n        <li className={styles.listItem}>\n            <Link to={`/p/products/collections/${col.id}`}>\n                <div\n                    className={cn(styles.status, {\n                        [styles.active]: col.published && col.publishedProductsCount > 0,\n                    })}\n                />\n                <span className={styles.label}>{col.name}</span>\n                <span className={styles.counter}>\n                    {col.publishedProductsCount} {ProductsCountTextTail}\n                </span>\n            </Link>\n            {draggable && (\n                <div className={styles.dragHandle} title={t('common:labels.dragTip')} data-element=\"drag-handle\">\n                    <DragIcon width=\"6\" />\n                </div>\n            )}\n        </li>\n    );\n});\n\nconst SortableList = SortableContainer(({ collections, t, draggable }) => {\n    return (\n        <ul className={styles.list}>\n            {collections.map((collection, index) => (\n                <SortableItem\n                    key={collection.id}\n                    index={index}\n                    col={collection}\n                    t={t}\n                    disabled={!draggable}\n                    draggable={draggable}\n                />\n            ))}\n        </ul>\n    );\n});\n\nexport default function CollectionsListDraggable({ collections, draggable, isFetching }) {\n    const { t } = useTranslation('cards');\n    const actions = useActions();\n    const [items, setCollections] = useState([]);\n\n    const onSortEnd = async ({ oldIndex, newIndex }) => {\n        const col1Id = items[oldIndex].id;\n        const col2Id = items[newIndex].id;\n\n        setCollections((prevItems) => arrayMove(prevItems, oldIndex, newIndex));\n\n        if (oldIndex !== newIndex) {\n            await actions.api.collections.sort({ payload: { col1Id, col2Id } });\n        }\n    };\n\n    useDeepCompareEffect(() => {\n        setCollections(collections);\n    }, [collections]);\n\n    return (\n        <div className={cn({ [styles.root]: true, [styles.fetching]: isFetching })}>\n            <SortableList\n                collections={items}\n                axis=\"y\"\n                lockAxis=\"y\"\n                onSortEnd={onSortEnd}\n                helperClass={styles.sortable}\n                t={t}\n                draggable={draggable}\n                shouldCancelStart={(e) => {\n                    if (e.target.dataset.element !== 'drag-handle') {\n                        return true;\n                    }\n                }}\n            />\n        </div>\n    );\n}\n\nCollectionsListDraggable.propTypes = {\n    collections: PropTypes.array.isRequired,\n    draggable: PropTypes.bool.isRequired,\n    isFetching: PropTypes.bool.isRequired,\n};\n\nCollectionsListDraggable.defaultProps = {\n    draggable: true,\n};\n","import CollectionsListDraggable from './CollectionsListDraggable';\n\nexport default CollectionsListDraggable;\n","// extracted by mini-css-extract-plugin\nexport default {\"priceContainer\":\"_1sCsD4nm\",\"priceInput\":\"_1KdvyDCd\",\"currencySelect\":\"tf9pzNro\",\"publishedContainer\":\"VFsSCCsr\",\"priceTogglerContainer\":\"_355B7EdB\",\"publishedLabel\":\"_1dfz9HO0\",\"priceLabel\":\"VedUKs--\"};","import classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { isEqual, pick } from 'lodash';\nimport { withTranslation } from 'react-i18next';\n\nimport { Checkbox, SelectSimple, FormField } from '@mssgme/ui';\n\nimport styles from './styles.scss';\n\nconst currenciesArray = [\n    'USD',\n    'EUR',\n    'RUB',\n    'UAH',\n    'AED',\n    'AFN',\n    'ALL',\n    'AMD',\n    'ANG',\n    'AOA',\n    'ARS',\n    'AUD',\n    'AWG',\n    'AZN',\n    'BAM',\n    'BBD',\n    'BDT',\n    'BGN',\n    'BHD',\n    'BIF',\n    'BMD',\n    'BND',\n    'BOB',\n    'BOV',\n    'BRL',\n    'BSD',\n    'BTN',\n    'BWP',\n    'BYN',\n    'BZD',\n    'CAD',\n    'CDF',\n    'CHE',\n    'CHF',\n    'CHW',\n    'CLF',\n    'CLP',\n    'CNH',\n    'CNY',\n    'COP',\n    'COU',\n    'CRC',\n    'CUC',\n    'CUP',\n    'CVE',\n    'CZK',\n    'DJF',\n    'DKK',\n    'DOP',\n    'DZD',\n    'EGP',\n    'ERN',\n    'ETB',\n    'FJD',\n    'FKP',\n    'GBP',\n    'GEL',\n    'GHS',\n    'GIP',\n    'GMD',\n    'GNF',\n    'GTQ',\n    'GYD',\n    'HKD',\n    'HNL',\n    'HRK',\n    'HTG',\n    'HUF',\n    'IDR',\n    'ILS',\n    'INR',\n    'IQD',\n    'IRR',\n    'ISK',\n    'JMD',\n    'JOD',\n    'JPY',\n    'KES',\n    'KGS',\n    'KHR',\n    'KMF',\n    'KPW',\n    'KRW',\n    'KWD',\n    'KYD',\n    'KZT',\n    'LAK',\n    'LBP',\n    'LKR',\n    'LRD',\n    'LSL',\n    'LYD',\n    'MAD',\n    'MDL',\n    'MGA',\n    'MKD',\n    'MMK',\n    'MNT',\n    'MOP',\n    'MRO',\n    'MUR',\n    'MWK',\n    'MXN',\n    'MXV',\n    'MYR',\n    'MZN',\n    'NAD',\n    'NGN',\n    'NIO',\n    'NOK',\n    'NPR',\n    'NZD',\n    'OMR',\n    'PAB',\n    'PEN',\n    'PGK',\n    'PHP',\n    'PKR',\n    'PLN',\n    'PYG',\n    'QAR',\n    'RON',\n    'RSD',\n    'RWF',\n    'SAR',\n    'SBD',\n    'SCR',\n    'SDG',\n    'SEK',\n    'SGD',\n    'SHP',\n    'SLL',\n    'SOS',\n    'SRD',\n    'SSP',\n    'STN',\n    'SYP',\n    'SZL',\n    'THB',\n    'TJS',\n    'TND',\n    'TOP',\n    'TRY',\n    'TTD',\n    'TWD',\n    'TZS',\n    'UGX',\n    'USN',\n    'UYI',\n    'UYU',\n    'UZS',\n    'VEF',\n    'VND',\n    'VUV',\n    'WST',\n    'XAF',\n    'XCD',\n    'XOF',\n    'XPF',\n    'YER',\n    'ZAR',\n    'ZMW',\n];\nconst currenciesObjectsArray = currenciesArray.map((item) => ({ label: item, value: item }));\n\nconst strToFloat = (str) => (str === '' ? null : parseFloat(str));\nconst normalizePrice = ({ amount, discount, currency }) => ({\n    amount: strToFloat(amount),\n    discount: strToFloat(discount),\n    currency,\n});\n\nconst initState = (value, evalDiscount) => ({\n    ...(evalDiscount && { hasDiscount: !!value.discount }),\n    value: {\n        ...value,\n        amount: value.amount == null ? '' : String(value.amount),\n        discount: value.discount == null ? '' : String(value.discount),\n    },\n    normalizedValue: { ...value },\n});\n\nclass ProductPriceInputs extends Component {\n    static propTypes = {\n        value: PropTypes.shape({\n            amount: PropTypes.number,\n            currency: PropTypes.string.isRequired,\n            discount: PropTypes.number,\n        }),\n        refAmount: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n        name: PropTypes.string,\n        onChange: PropTypes.func,\n        errors: PropTypes.object,\n        t: PropTypes.func,\n    };\n\n    static getDerivedStateFromProps(props, state) {\n        const value = pick(props.value, ['amount', 'currency', 'discount']);\n\n        if (!isEqual(value, state.prevValue)) {\n            return {\n                ...initState(props.value),\n                prevValue: value,\n            };\n        }\n\n        return null;\n    }\n\n    state = initState(this.props.value, true);\n\n    handleChange = ({ target: { name, value } }) => {\n        if (name === 'amount' || name === 'discount') {\n            value = value.replace(',', '.').trim();\n\n            if (value !== '') {\n                const isValid = value.match(/^\\d{0,9}(\\d\\.\\d{0,2})?$/);\n\n                if (!isValid) return;\n            }\n        }\n\n        this.setState(\n            (state) => {\n                const newValue = {\n                    ...state.value,\n                    [name]: value,\n                };\n\n                return {\n                    value: newValue,\n                    normalizedValue: normalizePrice(newValue),\n                };\n            },\n            () => {\n                if (this.props.onChange && !isEqual(this.props.value, this.state.normalizedValue)) {\n                    this.props.onChange({\n                        target: {\n                            name: this.props.name,\n                            value: this.state.normalizedValue,\n                        },\n                    });\n                }\n            }\n        );\n    };\n\n    toggleDiscount = () => {\n        this.setState(\n            (state) => {\n                const newValue = {\n                    ...state.value,\n                    discount: '',\n                };\n\n                return {\n                    hasDiscount: !state.hasDiscount,\n                    value: newValue,\n                    normalizedValue: normalizePrice(newValue),\n                };\n            },\n            () => {\n                if (this.props.onChange && !isEqual(this.props.value, this.state.normalizedValue)) {\n                    this.props.onChange({\n                        target: {\n                            name: this.props.name,\n                            value: this.state.normalizedValue,\n                        },\n                    });\n                }\n            }\n        );\n    };\n\n    render() {\n        const { errors, refAmount, t } = this.props;\n        const {\n            value: { amount, discount, currency },\n            hasDiscount,\n        } = this.state;\n\n        return (\n            <div className={styles.root}>\n                <div className={styles.priceContainer}>\n                    <div className={styles.priceInput}>\n                        <FormField\n                            name=\"amount\"\n                            value={amount}\n                            // placeholder={'Enter product price'}\n                            onChange={this.handleChange}\n                            type=\"text\"\n                            errors={errors && errors.amount && t(errors.amount)}\n                            inputMode=\"decimal\"\n                            refInput={refAmount}\n                        />\n                    </div>\n                    <div className={styles.currencySelect}>\n                        <FormField\n                            component={SelectSimple}\n                            options={currenciesObjectsArray}\n                            name=\"currency\"\n                            value={currency}\n                            onChange={this.handleChange}\n                            errors={errors && errors.currency && t(errors.currency)}\n                        />\n                    </div>\n                </div>\n                {hasDiscount && (\n                    <FormField\n                        name=\"discount\"\n                        value={discount}\n                        label={t('productEdit.discountLabel')}\n                        // placeholder={'Enter product price'}\n                        onChange={this.handleChange}\n                        type=\"text\"\n                        errors={errors && errors.discount && t(errors.discount)}\n                        inputMode=\"decimal\"\n                    />\n                )}\n                <div className={classNames(styles.publishedContainer, styles.priceTogglerContainer)}>\n                    <div className={classNames(styles.publishedLabel, styles.priceLabel)}>\n                        <span>{t('productEdit.hasDiscount')}</span>\n                    </div>\n                    <div>\n                        <Checkbox checked={hasDiscount} onChange={this.toggleDiscount} styled=\"toggle\" />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withTranslation('cards')(ProductPriceInputs);\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { Button } from '@mssgme/ui';\n\nconst OldSaveButton = (props) => {\n    const { t } = useTranslation('ui');\n\n    return (\n        <Button size=\"small\" noborder btnStyle=\"primary\" {...props}>\n            {t('button.save')}\n        </Button>\n    );\n};\n\nexport default OldSaveButton;\n","export default function keyHash(o) {\n    return (\n        o &&\n        Object.entries(o)\n            .map(([prop, value]) => prop + (value && typeof value === 'object' ? `[${keyHash(value)}]` : value))\n            .join(',')\n    );\n}\n","import { useSelector } from 'react-redux';\nimport { useMemo } from 'react';\n\nimport { filters, keyHash } from '@mssgme/helpers';\n\nexport const getCollections = (state) => state.collections;\n\nexport function useCollections(specifier) {\n    const selected = useSelector(getCollections);\n\n    return useMemo(() => {\n        if (specifier) {\n            const items = filters.filterWithExclusion(selected.items, specifier);\n\n            if (items.length !== selected.items.length) {\n                const def = items.find((col) => col.default);\n                const allPublishedProductsCount = def\n                    ? def.publishedProductsCount\n                    : items.reduce((acc, col) => acc + col.publishedProductsCount, 0);\n\n                return { ...selected, allPublishedProductsCount, items };\n            }\n        }\n\n        return selected;\n    }, [selected, keyHash(specifier)]);\n}\n","import { useSelector } from 'react-redux';\nimport { useMemo } from 'react';\n\nimport { filters, keyHash } from '@mssgme/helpers';\n\nexport const getProducts = (state) => state.products;\n\nexport function useProducts(specifier, selector) {\n    const selected = useSelector(selector || getProducts);\n\n    return useMemo(() => {\n        if (specifier) {\n            const items = filters.filterWithExclusion(selected.items, specifier);\n\n            if (items.length !== selected.items.length) {\n                return { ...selected, items };\n            }\n        }\n\n        return selected;\n    }, [selected, keyHash(specifier)]);\n}\n","import { useEffect } from 'react';\nimport { useUnmount } from 'react-use';\n\nimport { useActions, useCollections, useProducts } from '@mssgme/hooks';\n\nexport const useProductsMain = (collectionPredicate) => {\n    const collections = useCollections();\n    const products = useProducts();\n    const actions = useActions();\n    const collection = collections.items.find(collectionPredicate);\n    const collectionId = collection ? collection.id : null;\n    const filter = JSON.stringify(products.filter);\n\n    const loadMore = async () => {\n        if (products.next && !products.isFetching) {\n            await actions.api.products.list({\n                guid: products.guid,\n                query: {\n                    collection: collectionId,\n                    next: products.next,\n                    filter: JSON.stringify(products.filter),\n                },\n            });\n        }\n    };\n\n    const setFilter = ({ target: { name, value } }) => {\n        actions.setProductsFilter({ [name]: value, collectionId });\n    };\n\n    useEffect(() => {\n        if (collection || collections.items.length) {\n            actions.api.products.list({\n                guid: products.guid + 1,\n                query: {\n                    collection: collectionId,\n                    filter,\n                },\n            });\n        }\n    }, [collections.items.length, products.guid, filter]);\n\n    useUnmount(() => {\n        actions.clearProductsStore();\n    });\n\n    return {\n        collection,\n        products,\n        collections,\n        setFilter,\n        loadMore,\n    };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1yeG7Q3v\",\"headerBtns\":\"_1yeVzobS\",\"headerLink\":\"_3nqod07b\",\"navItem\":\"_6CRZaHdh\",\"navItemLabel\":\"_2WvJskdf\",\"navItemMeta\":\"mxluuBnm\",\"navItemMetaText\":\"_2eLqwPus\",\"navItemIcon\":\"_1CPStg6i\",\"storeFrontHeader\":\"_3tzIZ2vg\",\"storeFrontHeaderHeading\":\"k1q4zoFW\",\"storeFrontHeaderCounter\":\"YeYk3mnN\"};","import ProductsMain from './ProductsMain';\n\nexport default ProductsMain;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { IoIosAdd } from 'react-icons/io';\nimport { FiChevronRight } from 'react-icons/fi';\nimport { Link } from 'react-router-dom';\n\nimport { SidebarHeader, ScrollableBox, NavBackButton, Feature } from '@mssgme/ui';\n\nimport { AdminHeaderSearch, ProductsListDraggable, ProductsListFooter } from '../UI';\nimport { useProductsMain } from '../hooks';\nimport { PageLayout } from '../../../../UI';\n\nimport styles from './ProductsMain.scss';\n\nexport default function ProductsMain() {\n    const { t } = useTranslation('cards');\n    const { collection, collections, products, setFilter, loadMore } = useProductsMain((col) => col.default);\n\n    const activeCollectionsWithPublishedProductsCount = collections.items.filter(\n        (col) => !col.default && col.published && col.publishedProductsCount > 0\n    ).length;\n    const activeCollectionsWithPublishedProductsCountTextTail = t(\n        activeCollectionsWithPublishedProductsCount === 1\n            ? 'PageProductsMain.activeSingleShe'\n            : 'PageProductsMain.activeMany'\n    );\n    const ProductsCountTextTail = t(\n        collections.allPublishedProductsCount === 1\n            ? 'PageProductsMain.productsSingle'\n            : collections.allPublishedProductsCount > 1 && collections.allPublishedProductsCount < 5\n                ? 'PageProductsMain.products24'\n                : 'PageProductsMain.productsMany'\n    );\n\n    return (\n        <PageLayout className={styles.root}>\n            <SidebarHeader\n                heading={t('CardMain.products')}\n                leftButton={<NavBackButton to=\"/p\" />}\n                rightButton={\n                    <div className={styles.headerBtns}>\n                        <Link\n                            className={styles.headerLink}\n                            to=\"/p/products/new\"\n                            title={t('pageProducts.tipAddProduct')}\n                        >\n                            <IoIosAdd size={34} color=\"#000\" />\n                        </Link>\n                    </div>\n                }\n                style={{ boxShadow: 'none' }}\n            />\n            <ScrollableBox nopadding onBottomScroll={loadMore}>\n                <Feature rule=\"products:?\">\n                    <AdminHeaderSearch onChange={setFilter} value={products.filter.name} />\n                    {!products.filter.name && (\n                        <>\n                            <div>\n                                <Link to=\"/p/products/collections\" className={styles.navItem}>\n                                    <span className={styles.navItemLabel}>{t('PageProductsMain.collections')}</span>\n                                    <div className={styles.navItemMeta}>\n                                        <span\n                                            className={styles.navItemMetaText}\n                                        >{`${activeCollectionsWithPublishedProductsCount} ${activeCollectionsWithPublishedProductsCountTextTail}`}</span>\n                                        <FiChevronRight size={22} className={styles.navItemIcon} />\n                                    </div>\n                                </Link>\n                            </div>\n                            <div className={styles.storeFrontHeader}>\n                                <span className={styles.storeFrontHeaderHeading}>\n                                    {t('PageProductsMain.storeFront')}\n                                </span>\n                                <span className={styles.storeFrontHeaderCounter}>{`${\n                                    collections.allPublishedProductsCount\n                                } ${ProductsCountTextTail}`}</span>\n                            </div>\n                        </>\n                    )}\n                    <div>\n                        {collection && (\n                            <ProductsListDraggable\n                                collectionId={collection.id}\n                                products={products.items}\n                                draggable={products.filter.name === ''}\n                            />\n                        )}\n                    </div>\n\n                    <ProductsListFooter products={products} loadMore={loadMore} />\n                </Feature>\n            </ScrollableBox>\n        </PageLayout>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3Om-Bu-K\",\"headerLink\":\"xtZqbbUO\",\"headerBtns\":\"_2NFBdlGr\"};","import PageProducts from './PageProducts';\n\nexport default PageProducts;\n","import React from 'react';\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { IoIosAdd, IoMdCreate } from 'react-icons/io';\n\nimport { SidebarHeader, ScrollableBox, NavBackButton, Feature } from '@mssgme/ui';\nimport { ProductsListDraggable, ProductsListFooter, AdminHeaderSearch } from '../UI';\nimport { useProductsMain } from '../hooks';\nimport { PageLayout } from '../../../../UI';\n\nimport styles from './PageProducts.scss';\n\nexport default function PageProducts() {\n    const { t } = useTranslation('cards');\n    const match = useRouteMatch();\n    const collectionId = match.params.id;\n    const { collection, products, setFilter, loadMore } = useProductsMain((col) => col._id === collectionId);\n\n    const leftButton = <NavBackButton to=\"/p/products/collections\" />;\n    const rightButton = (\n        <div className={styles.headerBtns}>\n            <Link\n                className={styles.headerLink}\n                to={`/p/products/collections/edit/${collectionId}`}\n                title={t('PageProductCollections.tipEditCollection')}\n            >\n                <IoMdCreate size={22} color=\"#000\" />\n            </Link>\n            <Link\n                className={styles.headerLink}\n                to={`/p/products/new/${collectionId}`}\n                title={t('pageProducts.tipAddProduct')}\n            >\n                <IoIosAdd size={34} color=\"#000\" />\n            </Link>\n        </div>\n    );\n\n    return (\n        <PageLayout className={styles.root}>\n            <SidebarHeader\n                heading={collection.name}\n                leftButton={leftButton}\n                rightButton={rightButton}\n                style={{ boxShadow: 'none' }}\n            />\n            <ScrollableBox nopadding onBottomScroll={loadMore}>\n                <Feature rule=\"products:?\">\n                    <AdminHeaderSearch onChange={setFilter} value={products.filter.name} />\n                    <div>\n                        {collection && (\n                            <ProductsListDraggable\n                                collectionId={collectionId}\n                                products={products.items}\n                                draggable={products.filter.name === ''}\n                            />\n                        )}\n                    </div>\n\n                    <ProductsListFooter products={products} loadMore={loadMore} />\n                </Feature>\n            </ScrollableBox>\n        </PageLayout>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1QV4JzPU\",\"list\":\"_2z_9JSCo\",\"listItem\":\"_2czfz3Ln\",\"label\":\"_2uL_1Hys\",\"status\":\"_2x2RF93p\",\"active\":\"ctqh5YdN\",\"sortable\":\"fN2Pxv_2\",\"dragHandle\":\"_1DJmlfGC\",\"sortableList\":\"_27Ig8Oii\",\"isFetching\":\"_1_ejY1hX\",\"menuHeader\":\"_3lkIsyn5\",\"heading\":\"_3Ryhykps\",\"addLink\":\"OzMHN0yU\",\"headerBtns\":\"OKPelV9s\",\"headerLink\":\"_3-b4W5Dy\",\"noCollectionsMessage\":\"_23FPyAMw\"};","import PageProductsCollections from './PageProductsCollections';\n\nexport default PageProductsCollections;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { IoIosAdd } from 'react-icons/io';\n\nimport { useCollections } from '@mssgme/hooks';\nimport { SidebarHeader, ScrollableBox, NavBackButton, Feature } from '@mssgme/ui';\n\nimport { PageLayout } from '../../../../UI';\nimport { AdminHeaderSearch, CollectionsListDraggable, FilterMessage } from '../UI';\n\nimport styles from './PageProductsCollections.scss';\n\nexport default function PageProductsCollections() {\n    const [filter, setFilter] = useState({ name: '' });\n    const collections = useCollections();\n    const collectionsWithoutDefault = collections.items.filter((col) => !col.default);\n    const collectionsItems = filter.name\n        ? collectionsWithoutDefault.filter((col) => col.name.toLowerCase().includes(filter.name.toLowerCase()))\n        : collectionsWithoutDefault;\n    const { t } = useTranslation('cards');\n\n    const leftButton = <NavBackButton to=\"/p/products\" />;\n    const rightButton = (\n        <div className={styles.headerBtns}>\n            <Link\n                className={styles.headerLink}\n                to=\"/p/products/collections/new\"\n                title={t('PageProductCollections.tipAddCollection')}\n            >\n                <IoIosAdd size={34} color=\"#000\" />\n            </Link>\n        </div>\n    );\n\n    return (\n        <PageLayout className={styles.root}>\n            <SidebarHeader\n                heading={t('PageProductsMain.collections')}\n                leftButton={leftButton}\n                rightButton={rightButton}\n                style={{ boxShadow: 'none' }}\n            />\n            <ScrollableBox nopadding>\n                <Feature rule=\"collections:view\">\n                    <AdminHeaderSearch onChange={(e) => setFilter({ name: e.target.value })} value={filter.name} />\n                    <div>\n                        {collectionsItems.length > 0 && (\n                            <CollectionsListDraggable\n                                collections={collectionsItems}\n                                draggable\n                                isFetching={collections.isFetching}\n                            />\n                        )}\n                        {collectionsItems.length === 0 && filter.name && (\n                            <FilterMessage\n                                title={t('PageProductCollections.filterEmptyHeading')}\n                                description={t('PageProductCollections.filterEmptyDescription')}\n                            />\n                        )}\n                        {collectionsItems.length === 0 && !filter.name && (\n                            <FilterMessage\n                                title={t('PageProductCollections.emptyTitle')}\n                                description={t('PageProductCollections.emptyDescription')}\n                            />\n                        )}\n                    </div>\n                </Feature>\n            </ScrollableBox>\n        </PageLayout>\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"checkboxContainer\":\"_3CMv01uO\"};","import ProductCollectionEdit from './ProductCollectionEdit';\n\nexport default ProductCollectionEdit;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { Button, CancelButton, Checkbox, Feature, FormField, ScrollableBox, SidebarHeader } from '@mssgme/ui';\n\nimport { useProductCollectionEdit } from './useProductCollectionEdit';\nimport { PageLayout } from '../../../../UI';\nimport { OldSaveButton } from '../UI';\n\nimport styles from './ProductCollectionEdit.scss';\n\nexport default function ProductCollectionEdit() {\n    const {\n        t,\n        collectionId,\n        collection,\n        hasChanges,\n        isFetching,\n        isNew,\n        errors,\n        handleSubmit,\n        handleChange,\n        handleRemoveClick,\n    } = useProductCollectionEdit();\n\n    return (\n        <PageLayout>\n            <SidebarHeader\n                heading={collectionId ? collection.name : t('ProductCollectionEdit.title')}\n                leftButton={\n                    <CancelButton\n                        tag={Link}\n                        to={collectionId ? `/p/products/collections/${collectionId}` : '/p/products/collections'}\n                        styled=\"backIcon\"\n                    />\n                }\n                rightButton={hasChanges && <OldSaveButton isFetching={isFetching} onClick={handleSubmit} />}\n            />\n            <ScrollableBox>\n                <Feature rule=\"collections:edit\" subject={collection}>\n                    <form noValidate onSubmit={handleSubmit}>\n                        <div className={styles.checkboxContainer}>\n                            <span>{t('ProductCollectionEdit.name')}</span>\n                            {!isNew && collection.publishedProductsCount > 0 && (\n                                <Checkbox\n                                    checked={collection.published}\n                                    name=\"published\"\n                                    onChange={handleChange}\n                                    disabled={isFetching}\n                                    styled=\"toggle\"\n                                />\n                            )}\n                        </div>\n                        <FormField\n                            name=\"name\"\n                            value={collection.name}\n                            onChange={handleChange}\n                            errors={errors.name && t(errors.name)}\n                            maxLength={100}\n                            disabled={isFetching}\n                            autoFocus\n                        />\n                        {!isNew && !collection.default && (\n                            <div style={{ textAlign: 'center', marginTop: '20px' }}>\n                                <Button type=\"button\" onClick={handleRemoveClick} btnStyle=\"danger\">\n                                    {t('button.remove')}\n                                </Button>\n                            </div>\n                        )}\n                    </form>\n                </Feature>\n            </ScrollableBox>\n        </PageLayout>\n    );\n}\n","import { merge, pick, set } from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\n\nimport { useActions, useCollections } from '@mssgme/hooks';\nimport { handleError } from '@mssgme/lib';\nimport { Notification } from '@mssgme/ui';\n\nexport const useProductCollectionEdit = () => {\n    const { t } = useTranslation('cards');\n    const actions = useActions();\n    const history = useHistory();\n    const match = useRouteMatch();\n    const collectionId = match.params.id || null;\n    const collections = useCollections();\n    const currentCollection = collections.items.find((col) => col.id === collectionId) || {\n        name: '',\n        slug: '',\n        default: false,\n        published: true,\n    };\n    const isFetching = collections.isFetching;\n    const [hasChanges, setHasChanges] = useState(false);\n    const [collection, setCollection] = useState(currentCollection);\n    const [errors, setErrors] = useState({});\n    const isNew = !collectionId;\n\n    const handleChange = ({ target: { type, name, value: raw, checked } }) => {\n        const value = type === 'checkbox' ? checked : raw;\n\n        setCollection((prevCollection) => set(merge({}, prevCollection), name, value));\n        setHasChanges(true);\n    };\n\n    const handleErrors = (e) => {\n        if (e.errors) {\n            setErrors(e.errors);\n        } else {\n            handleError(e);\n        }\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        setCollection(collection);\n\n        const isNew = !collectionId;\n        const payload = pick(collection, ['name', 'slug', 'published', 'default']);\n\n        try {\n            if (isNew) {\n                await actions.api.collections.create({ payload });\n            } else {\n                await actions.api.collections.update({ collectionId, payload });\n            }\n\n            setHasChanges(false);\n\n            Notification.notify(t('CardEditor.saved'), { showClose: true });\n            history.push(`/p/products/collections/${collectionId || ''}`);\n        } catch (e) {\n            handleErrors(e);\n        }\n    };\n\n    const handleRemoveClick = async (e) => {\n        e.preventDefault();\n\n        try {\n            await actions.api.collections.delete({ collectionId });\n\n            setHasChanges(false);\n\n            Notification.notify(t('CardEditor.removed'), { showClose: true });\n            history.push('/p/products/collections');\n        } catch (e) {\n            handleErrors(e);\n        }\n    };\n\n    useEffect(() => {\n        if (collectionId && !collection.id) {\n            setCollection(currentCollection);\n        }\n    }, [currentCollection]);\n\n    return {\n        t,\n        collectionId,\n        collection,\n        hasChanges,\n        isFetching,\n        isNew,\n        errors,\n        handleSubmit,\n        handleChange,\n        handleRemoveClick,\n    };\n};\n","import arrayMove from 'array-move';\nimport { isEqual, merge, pick, set } from 'lodash';\nimport { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory } from 'react-router';\nimport { useRouteMatch } from 'react-router-dom';\n\nimport { normalizeWebsiteUrl } from '@mssgme/helpers';\nimport { useActions, useCollections, useWorkspace } from '@mssgme/hooks';\nimport { handleError, collectionsApi } from '@mssgme/lib';\nimport { Notification } from '@mssgme/ui';\n\nexport const ACCEPT_IMAGES = ['image/png', 'image/x-png', 'image/jpeg'];\n\nconst selectStyles = {\n    container: (provided) => ({\n        ...provided,\n        fontSize: 16,\n    }),\n    control: (provided) => ({\n        ...provided,\n        boxShadow: 'none',\n        minHeight: 42,\n        paddingLeft: 6,\n    }),\n    placeholder: (provided) => ({\n        ...provided,\n        fontSize: 16,\n        color: '#8e8e93',\n        marginLeft: 0,\n    }),\n    multiValueLabel: (provided, state) => ({\n        ...provided,\n        paddingRight: state.data.isFixed ? 6 : 0,\n    }),\n    multiValueRemove: (provided, state) => ({\n        ...provided,\n        transform: 'scaleY(.9)',\n        display: state.data.isFixed ? 'none' : 'flex',\n    }),\n};\n\nconst selectThemeOverride = (theme) => ({\n    ...theme,\n    colors: {\n        ...theme.colors,\n        primary: '#007aff',\n        neutral20: '#c7c7cc',\n        neutral30: '#8e8e93',\n    },\n});\n\n// TODO: refactor\nexport const useProductEdit = () => {\n    const { t } = useTranslation('cards');\n    const actions = useActions();\n    const match = useRouteMatch();\n    const workspace = useWorkspace();\n    const collectionsStore = useCollections();\n    const collections = collectionsStore.items.map((col) => {\n        if (col.default) {\n            return { ...col, name: t('PageProductsMain.storeFront') };\n        }\n\n        return col;\n    });\n    const history = useHistory();\n    const refAmount = useRef(null);\n    const productId = (match.params && match.params.productId) || null;\n    const collectionId = (match.params && match.params.collectionId) || null;\n    const baseurl = workspace.card.profile.absoluteUrl;\n    const defaultCurrency = workspace.card.products.defaultCurrency || 'USD';\n    const [hasChanges, setHasChanges] = useState(false);\n    const [hasPrice, setHasPrice] = useState(true);\n    const initialProductCols =\n        collections.length > 0\n            ? collections\n                .filter((col) => collectionId === col.id || col.default)\n                .map((col) => ({\n                    label: col.name,\n                    value: col.id,\n                    isFixed: col.default,\n                }))\n                .sort((a, b) => (a === b ? 0 : a ? -1 : 1))\n            : [];\n    const [product, setProduct] = useState({\n        photos: [],\n        name: '',\n        slug: '',\n        description: '',\n        price: {\n            amount: null,\n            discount: null,\n            currency: defaultCurrency,\n        },\n        published: true,\n        externalButton: {\n            title: '',\n            url: '',\n        },\n        cols: initialProductCols,\n    });\n    const [errors, setErrors] = useState({});\n    const [hasExternalUrl, setHasExternalUrl] = useState(false);\n    const [originalCols, setOriginalCols] = useState([]);\n    const [isFetching, setIsFetching] = useState(false);\n    const [isUploading, setIsUploading] = useState(false);\n    const isNew = !productId;\n    const isLoadingProduct = !isNew && productId !== product._id;\n    const collectionsOptions = collections.map((col) => ({\n        label: col.name,\n        value: col.id,\n        isFixed: col.default,\n    }));\n\n    const loadProduct = async (productId) => {\n        try {\n            const product = await actions.api.products.retrieve({ productId });\n            const collectionsStore = await collectionsApi.list(product.workspace);\n            const collections = collectionsStore.items.map((col) => {\n                if (col.default) {\n                    return { ...col, name: t('PageProductsMain.storeFront') };\n                }\n\n                return col;\n            });\n\n            setProduct({\n                ...product,\n                externalButton: {\n                    title: (product.externalButton && product.externalButton.title) || '',\n                    url: (product.externalButton && product.externalButton.url) || product.externalUrl || '',\n                },\n                cols:\n                    product.cols && !product.cols['null']\n                        ? Object.values(product.cols)\n                            .map(({ collectionId }) => collections.find((col) => col.id === collectionId))\n                            .filter(Boolean)\n                            .map((col) => {\n                                return {\n                                    label: col.name,\n                                    value: col.id,\n                                    isFixed: col.default,\n                                };\n                            })\n                        : '',\n            });\n            setOriginalCols(product.cols);\n            setHasExternalUrl(\n                !!(product.externalButton && product.externalButton.url) || !!product.externalUrl || false\n            );\n        } catch (e) {\n            handleErrors(e);\n        }\n    };\n\n    const toggleLink = () => {\n        setHasExternalUrl(!hasExternalUrl);\n    };\n\n    const handleChange = ({ target: { type, name, value: raw, checked } }) => {\n        let value = type === 'checkbox' ? checked : raw;\n\n        setProduct(set(merge({}, product), name, value));\n        setHasChanges(true);\n    };\n\n    const handleCollectionChange = (selected, { action, removedValue }) => {\n        switch (action) {\n            case 'remove-value':\n            case 'pop-value':\n                if (removedValue.isFixed) {\n                    return;\n                }\n                break;\n        }\n\n        const value = selected ? selected : '';\n\n        setProduct(set(merge({}, product), 'cols', value));\n        setHasChanges(true);\n    };\n\n    const handlePhotoChange = async ({ target: { files } }) => {\n        const currentImagesCount = product.photos.length;\n        const images = files && Array.from(files).filter(({ type }) => ACCEPT_IMAGES.includes(type));\n\n        if (!images || images.length === 0) {\n            return;\n        }\n\n        if (currentImagesCount + images.length > 6) {\n            return setErrors({ ...errors, photos: t('productEdit.errors.invalid_photos_count') });\n        }\n\n        setIsUploading(true);\n        setErrors({ ...errors, photos: '' });\n\n        try {\n            const { success: photos, failed } = await actions.api.products.uploadPhotos({\n                payloads: images,\n            });\n\n            if (failed.length) {\n                setErrors({\n                    ...errors,\n                    photos: failed\n                        .map(({ file, error }) => t('errorsList.upload_failed', { file, error: t(error) }))\n                        .join('. '),\n                });\n            }\n\n            if (photos.length) {\n                const urls = photos.map(({ result }) => result);\n\n                setProduct({ ...product, photos: product.photos.concat(urls) });\n                setHasChanges(hasChanges ? true : !isEqual(product.photos, urls));\n            }\n        } finally {\n            setIsUploading(false);\n        }\n    };\n\n    const removePhoto = (url) => () => {\n        const photos = product.photos.filter((image) => image !== url);\n\n        setProduct({ ...product, photos });\n        setHasChanges(true);\n    };\n\n    const handleErrors = (e) => {\n        if (e.errors) {\n            setErrors(e.errors);\n        } else {\n            handleError(e);\n        }\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        const newProduct = {\n            ...product,\n            externalUrl: product.externalUrl ? normalizeWebsiteUrl(product.externalUrl) : '',\n            externalButton: {\n                ...product.externalButton,\n                url:\n                    product.externalButton && product.externalButton.url\n                        ? normalizeWebsiteUrl(product.externalButton.url)\n                        : '',\n            },\n        };\n\n        setProduct(newProduct);\n\n        const isNew = !productId;\n        const payload = pick(newProduct, [\n            'name',\n            'description',\n            'slug',\n            'photos',\n            'published',\n            'price',\n            'externalButton',\n        ]);\n        payload.cols = '';\n\n        if (product.cols) {\n            payload.cols = {};\n            product.cols.forEach((col) => {\n                if (originalCols && originalCols[col.value] && originalCols[col.value].order) {\n                    payload.cols[col.value] = { collectionId: col.value, order: originalCols[col.value].order };\n                } else {\n                    payload.cols[col.value] = { collectionId: col.value };\n                }\n            });\n        }\n        if (!hasPrice || !payload.price || (payload.price && !payload.price.amount)) payload.price = null;\n        if (!hasExternalUrl) {\n            payload.externalButton = {\n                title: null,\n                url: null,\n            };\n        }\n\n        try {\n            setIsFetching(true);\n            if (isNew) {\n                await actions.api.products.create({ payload });\n            } else {\n                await actions.api.products.update({ productId, payload });\n            }\n\n            setHasChanges(false);\n\n            Notification.notify(t('CardEditor.saved'), { showClose: true });\n            setIsFetching(false);\n            history.goBack();\n        } catch (e) {\n            setIsFetching(false);\n            handleErrors(e);\n        }\n    };\n\n    const handleRemoveClick = async (e) => {\n        e.preventDefault();\n\n        try {\n            setIsFetching(true);\n            await actions.api.products.delete({ productId });\n            setHasChanges(false);\n            Notification.notify(t('CardEditor.removed'), { showClose: true });\n            setIsFetching(false);\n            history.goBack();\n        } catch (e) {\n            setIsFetching(false);\n            handleErrors(e);\n        }\n    };\n\n    const onSortEnd = ({ oldIndex, newIndex }) => {\n        setProduct({\n            ...product,\n            photos: arrayMove(product.photos, oldIndex, newIndex),\n        });\n        setHasChanges(hasChanges ? true : !isEqual(arrayMove(product.photos, oldIndex, newIndex), product.photos));\n    };\n\n    useEffect(() => {\n        productId && loadProduct(productId);\n    }, []);\n\n    return {\n        ACCEPT_IMAGES,\n        t,\n        hasChanges,\n        isNew,\n        isFetching,\n        isLoadingProduct,\n        handleSubmit,\n        product,\n        handleChange,\n        baseurl,\n        handlePhotoChange,\n        removePhoto,\n        isUploading,\n        onSortEnd,\n        errors,\n        hasPrice,\n        defaultCurrency,\n        refAmount,\n        collections,\n        collectionsOptions,\n        selectThemeOverride,\n        selectStyles,\n        handleCollectionChange,\n        hasExternalUrl,\n        toggleLink,\n        handleRemoveClick,\n        history,\n    };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"_2_y4CPfC\",\"publishedContainer\":\"_3cwINohO\",\"priceTogglerContainer\":\"_1A0KnxJd\",\"publishedLabel\":\"_3TW8qSfi\",\"priceLabel\":\"_2wIRYt4x\",\"publishedDot\":\"_1kHXZoem\",\"green\":\"_30bbo_MB\",\"userLink\":\"_2mDFy-TF\",\"photosContainer\":\"_2GwFBwhS\",\"imageUploadContainer\":\"_3g3851Rr\",\"removeBtnContainer\":\"LylUWRnZ\",\"imagesBlock\":\"_2HewMeIp\",\"imagesList\":\"_2FQHZf-B\",\"imagePreview\":\"_2dx-scz6\",\"sortable\":\"eCSczI4Q\",\"imagePreviewContainer\":\"_2qMy_2vA\",\"removePhotoBtn\":\"_21jYUkgP\",\"sectionLabel\":\"JIwxbJpq\",\"addPhotoBtn\":\"_31YjRCoz\",\"addPhotoBtnInput\":\"_3Vd4QaTu\",\"addPhotoBtnContent\":\"_1vow32ih\",\"photosError\":\"_3iwq3p25\"};","import classNames from 'classnames';\nimport React from 'react';\nimport Select from 'react-select';\nimport { FiPlus } from 'react-icons/fi';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\n\nimport {\n    SidebarHeader,\n    ScrollableBox,\n    Spinner,\n    Textarea,\n    Checkbox,\n    Button,\n    FormField,\n    CancelButton,\n    NavigationGuard,\n    CopyLink,\n    Feature,\n} from '@mssgme/ui';\nimport { PageLayout } from '../../../../UI';\nimport { OldSaveButton, ProductPriceInputs } from '../UI';\nimport { useProductEdit, ACCEPT_IMAGES } from './useProductEdit';\n\nimport styles from './ProductEdit.scss';\n\nconst SortableItem = SortableElement(({ url, removePhoto }) => (\n    <li className={styles.imagePreview}>\n        <div className={styles.imagePreviewContainer}>\n            <img src={url} alt=\"\" />\n        </div>\n        <div className={styles.removePhotoBtn} onClick={removePhoto(url)} data-id=\"remBtn\">\n            <FiPlus size={12} />\n        </div>\n    </li>\n));\n\nconst SortableList = SortableContainer(({ photos, removePhoto, isUploading, isFetching, handlePhotoChange }) => {\n    return (\n        <ul className={styles.imagesList}>\n            {photos.map((url, index) => (\n                <SortableItem key={url} index={index} url={url} removePhoto={removePhoto} />\n            ))}\n            {(!photos || photos.length < 6) && (\n                <li className={styles.imagePreview}>\n                    <div className={styles.addPhotoBtn}>\n                        <div className={styles.addPhotoBtnContent}>\n                            {!isUploading && <FiPlus size={26} />}\n                            {isUploading && <Spinner />}\n                        </div>\n                        {!isUploading && (\n                            <input\n                                type=\"file\"\n                                name=\"photos\"\n                                multiple\n                                onChange={handlePhotoChange}\n                                disabled={isFetching}\n                                className={styles.addPhotoBtnInput}\n                                accept={ACCEPT_IMAGES.join(',')}\n                            />\n                        )}\n                    </div>\n                </li>\n            )}\n        </ul>\n    );\n});\n\nexport default function ProductEdit() {\n    const {\n        t,\n        hasChanges,\n        isNew,\n        isFetching,\n        isLoadingProduct,\n        handleSubmit,\n        product,\n        handleChange,\n        baseurl,\n        handlePhotoChange,\n        removePhoto,\n        isUploading,\n        onSortEnd,\n        errors,\n        hasPrice,\n        defaultCurrency,\n        refAmount,\n        collections,\n        collectionsOptions,\n        selectThemeOverride,\n        selectStyles,\n        handleCollectionChange,\n        hasExternalUrl,\n        toggleLink,\n        handleRemoveClick,\n        history,\n    } = useProductEdit();\n\n    return (\n        <NavigationGuard blocked={hasChanges}>\n            <PageLayout>\n                <SidebarHeader\n                    heading={t(isNew ? 'productEdit.headerTitle' : 'productEdit.headerEditTitle')}\n                    leftButton={<CancelButton tag=\"span\" onClick={() => history.goBack()} styled=\"backIcon\" />}\n                    rightButton={\n                        hasChanges && (\n                            <OldSaveButton isFetching={isFetching && !isLoadingProduct} onClick={handleSubmit} />\n                        )\n                    }\n                />\n                <ScrollableBox>\n                    {isLoadingProduct ? (\n                        <Spinner />\n                    ) : (\n                        <Feature rule=\"products:edit\" subject={product}>\n                            <form noValidate onSubmit={handleSubmit}>\n                                {!isNew && (\n                                    <div className={styles.header}>\n                                        <div className={styles.publishedContainer}>\n                                            <div className={styles.publishedLabel}>\n                                                <span\n                                                    className={classNames(\n                                                        styles.publishedDot,\n                                                        product.published ? styles.green : null\n                                                    )}\n                                                />\n                                                <span>\n                                                    {product.published\n                                                        ? t('productEdit.active')\n                                                        : t('productEdit.inactive')}\n                                                </span>\n                                            </div>\n                                            <div>\n                                                <Checkbox\n                                                    checked={product.published}\n                                                    name=\"published\"\n                                                    onChange={handleChange}\n                                                    disabled={isFetching}\n                                                    styled=\"toggle\"\n                                                />\n                                            </div>\n                                        </div>\n                                        {product.published && (\n                                            <CopyLink\n                                                legacy\n                                                clickable\n                                                className={styles.userLink}\n                                                href={`${baseurl}/p/${product.slug}`}\n                                            />\n                                        )}\n                                    </div>\n                                )}\n                                <div className={styles.photosContainer}>\n                                    <span className={styles.sectionLabel}>{t('productEdit.photo')}</span>\n                                    <div className={styles.imageUploadContainer}>\n                                        <div className={styles.imagesBlock}>\n                                            {product.photos && (\n                                                <SortableList\n                                                    photos={product.photos}\n                                                    handlePhotoChange={handlePhotoChange}\n                                                    removePhoto={removePhoto}\n                                                    axis=\"xy\"\n                                                    isUploading={isUploading}\n                                                    isFetching={isFetching}\n                                                    onSortEnd={onSortEnd}\n                                                    helperClass={styles.sortable}\n                                                    shouldCancelStart={(e) => {\n                                                        if (e.target.dataset.id === 'remBtn') {\n                                                            return true;\n                                                        }\n                                                    }}\n                                                />\n                                            )}\n                                        </div>\n                                    </div>\n                                    {errors.photos && <span className={styles.photosError}>{errors.photos}</span>}\n                                </div>\n                                <FormField\n                                    label={t('productEdit.title')}\n                                    id=\"product_name\"\n                                    name=\"name\"\n                                    value={product.name}\n                                    onChange={handleChange}\n                                    errors={errors.name}\n                                    maxLength={100}\n                                    disabled={isFetching}\n                                />\n                                <div className={classNames(styles.publishedContainer, styles.priceTogglerContainer)}>\n                                    <div className={classNames(styles.publishedLabel, styles.priceLabel)}>\n                                        <span>{t('productEdit.price')}</span>\n                                    </div>\n                                </div>\n                                {hasPrice && (\n                                    <ProductPriceInputs\n                                        name=\"price\"\n                                        value={{ currency: defaultCurrency, ...product.price }}\n                                        onChange={handleChange}\n                                        errors={errors.price}\n                                        refAmount={refAmount}\n                                    />\n                                )}\n                                <FormField\n                                    component={Textarea}\n                                    label={t('productEdit.description')}\n                                    id=\"product_description\"\n                                    name=\"description\"\n                                    value={product.description}\n                                    onChange={handleChange}\n                                    errors={errors.description}\n                                    maxLength={10000}\n                                    disabled={isFetching}\n                                />\n                                {collections.length > 0 && (\n                                    <FormField\n                                        component={Select}\n                                        theme={selectThemeOverride}\n                                        styles={selectStyles}\n                                        isMulti\n                                        isClearable={false}\n                                        placeholder={t('PageProductCollections.noCollection')}\n                                        options={collectionsOptions}\n                                        label={t('collectionEdit.headerEditTitle')}\n                                        name=\"col\"\n                                        value={product.cols}\n                                        onChange={handleCollectionChange}\n                                        errors={errors.cols}\n                                        disabled={isFetching}\n                                        isSearchable={false}\n                                        noOptionsMessage={() => t('productEdit.noCategories')}\n                                    />\n                                )}\n                                <div className={classNames(styles.publishedContainer, styles.priceTogglerContainer)}>\n                                    <div className={classNames(styles.publishedLabel, styles.priceLabel)}>\n                                        <span>{t('productEdit.urlToggleLabel')}</span>\n                                    </div>\n                                    <div>\n                                        <Checkbox\n                                            checked={hasExternalUrl}\n                                            onChange={toggleLink}\n                                            disabled={isFetching}\n                                            styled=\"toggle\"\n                                        />\n                                    </div>\n                                </div>\n                                {hasExternalUrl && (\n                                    <>\n                                        <FormField\n                                            id=\"product_externalUrlTitle\"\n                                            name=\"externalButton.title\"\n                                            value={product.externalButton.title}\n                                            onChange={handleChange}\n                                            errors={errors.externalButton?.title}\n                                            maxLength={50}\n                                            disabled={isFetching}\n                                            placeholder={t('productEdit.urlTitlePlaceholder')}\n                                        />\n                                        <FormField\n                                            id=\"product_externalUrl\"\n                                            name=\"externalButton.url\"\n                                            value={product.externalButton.url}\n                                            onChange={handleChange}\n                                            errors={errors.externalButton?.url}\n                                            maxLength={500}\n                                            disabled={isFetching}\n                                            placeholder={t('productEdit.urlPlaceholder')}\n                                        />\n                                    </>\n                                )}\n                                {!isNew && (\n                                    <div className={styles.removeBtnContainer}>\n                                        <Button type=\"button\" onClick={handleRemoveClick} btnStyle=\"danger\">\n                                            {t('button.remove')}\n                                        </Button>\n                                    </div>\n                                )}\n                            </form>\n                        </Feature>\n                    )}\n                </ScrollableBox>\n            </PageLayout>\n        </NavigationGuard>\n    );\n}\n","import ProductEdit from './ProductEdit';\nexport default ProductEdit;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1mW1HQX1\",\"container\":\"_3FNjZsPb\",\"mobileBackButton\":\"_2w_-PAl7\",\"sidebar\":\"_3TOoUO7D\"};","/* eslint-disable react/display-name */\nimport React from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport { AboveMobile } from '@mssgme/ui';\nimport AvatarEdit from '../Editing/AvatarEdit';\nimport BrandingEdit from '../Editing/BrandingEdit';\nimport CoverEdit from '../Editing/CoverEdit';\nimport CategoryEdit from '../Editing/CategoryEdit';\nimport DescriptionEdit from '../Editing/DescriptionEdit';\nimport Domain from '../Editing/Domain';\nimport { PageSettingsMenu, PageEditMenu, PageTrackingMenu } from '../Editing/PageMenu';\nimport SeoEdit from '../Editing/SeoEdit';\nimport TitleEdit from '../Editing/TitleEdit';\nimport UrlEdit from '../Editing/UrlEdit';\nimport WebsiteEdit from '../Editing/WebsiteEdit';\nimport WidgetCard from '../WidgetCard';\nimport PageMain from '../Editing/PageMain';\nimport PageShare from '../Editing/PageShare';\nimport PageMessengers from '../Editing/PageMessengers';\nimport MessengerEdit from '../Editing/MessengerEdit';\nimport PageLinks from '../Editing/PageLinks';\nimport LinkEdit from '../Editing/LinkEdit';\nimport PageAnalytics from '../Editing/PageAnalytics';\nimport PixelEdit from '../Editing/PixelEdit';\nimport ReviewsEdit from '../Editing/ReviewsEdit';\nimport {\n    ProductsMain,\n    PageProducts,\n    PageProductsCollections,\n    ProductCollectionEdit,\n    ProductEdit,\n} from '../Editing/Products';\nimport { CardPreview } from '../../UI';\n\nimport styles from './CardPage.scss';\n\nconst ROUTES = [\n    { path: '/p/share', component: PageShare },\n    { path: '/p/edit', component: PageEditMenu, exact: true },\n    { path: '/p/edit/avatar', component: AvatarEdit, exact: true },\n    { path: '/p/edit/cover', component: CoverEdit, exact: true },\n    { path: '/p/edit/title', component: TitleEdit, exact: true },\n    { path: '/p/edit/description', component: DescriptionEdit, exact: true },\n    { path: '/p/edit/website', component: WebsiteEdit, exact: true },\n    { path: '/p/edit/category', component: CategoryEdit, exact: true },\n    { path: '/p/edit/messengers/:platform', component: MessengerEdit, exact: true },\n    { path: '/p/edit/messengers', component: PageMessengers, exact: true },\n    { path: '/p/edit/links', component: PageLinks, exact: true },\n    { path: '/p/edit/links/new', component: LinkEdit, exact: true },\n    { path: '/p/edit/links/:linkId', component: LinkEdit, exact: true },\n    { path: '/p/settings', component: PageSettingsMenu, exact: true },\n    { path: '/p/settings/url', component: UrlEdit, exact: true },\n    { path: '/p/settings/url/domain/edit', component: Domain, exact: true },\n    { path: '/p/settings/branding', component: BrandingEdit, exact: true },\n    { path: '/p/settings/tracking', component: PageTrackingMenu, exact: true },\n    { path: '/p/settings/tracking/:platform', component: PixelEdit, exact: true },\n    { path: '/p/settings/seo', component: SeoEdit, exact: true },\n    { path: '/p/reviews', component: ReviewsEdit, exact: true },\n    // { path: '/p/widget', component: WidgetEdit, exact: true },\n    { path: '/p/analytics', component: PageAnalytics, exact: true },\n    { path: '/p/products/collections/new', component: ProductCollectionEdit, exact: true },\n    {\n        path: '/p/products/collections/edit/:id',\n        render: () => <ProductCollectionEdit />,\n        exact: true,\n    },\n    { path: '/p/products/all', component: PageProducts, exact: true },\n    {\n        path: '/p/products/collections/:id',\n        render: () => <PageProducts />,\n        exact: true,\n    },\n    { path: '/p/products/collections', component: PageProductsCollections, exact: true },\n    { path: '/p/products', component: ProductsMain, exact: true },\n    {\n        path: '/p/products/new/:collectionId',\n        render: () => <ProductEdit />,\n        exact: true,\n    },\n    { path: '/p/products/new', component: ProductEdit, exact: true },\n    {\n        path: '/p/products/:productId',\n        render: () => <ProductEdit />,\n        exact: true,\n    },\n    { path: '/p', component: PageMain, exact: true },\n];\n\nexport function CardPage() {\n    return (\n        <div className={styles.root}>\n            <div className={styles.sidebar}>\n                <Switch>\n                    {ROUTES.map((props, index) => (\n                        <Route key={index} {...props} />\n                    ))}\n                </Switch>\n            </div>\n            <AboveMobile>\n                <div className={styles.container}>\n                    <Switch>\n                        <Route path=\"/p/share/widget\" component={WidgetCard} />\n                        <Route path=\"/p\" component={CardPreview} />\n                    </Switch>\n                </div>\n            </AboveMobile>\n        </div>\n    );\n}\n","import cn from 'classnames';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { parseUrl } from '@mssgme/helpers';\nimport { hex2rgb } from '@mssgme/lib';\nimport { useExperiments, useNavigationUtils, useRestrictedCard } from '@mssgme/hooks';\nimport { NavBackButton, ScrollableBox, SidebarHeader } from '@mssgme/ui';\nimport ListItem from './ListItem';\nimport { PageLayout } from '../../../UI';\n\nimport styles from './styles.scss';\n\nexport function PageEditMenu() {\n    const { t } = useTranslation('cards');\n    const { generateUrl } = useNavigationUtils();\n    const restrictedCard = useRestrictedCard();\n    const {\n        profile: { website, description, fullname },\n        design: { photoUrl, background },\n        messengers,\n        links,\n    } = restrictedCard;\n    const { isLinksDisplayed } = useExperiments();\n    const parsedWebsiteUrl = website.url ? parseUrl(website.url) : null;\n    const noProtocolWebsiteUrl = parsedWebsiteUrl\n        ? parsedWebsiteUrl.hostname + (parsedWebsiteUrl.pathname === '/' ? '' : parsedWebsiteUrl.pathname)\n        : null;\n    const bgColor =\n        background.type === 'color'\n            ? `linear-gradient(135deg, rgba(${hex2rgb(background.color)}, 1) 0%, rgba(${hex2rgb(\n                background.color\n            )}, .6) 100%)`\n            : 'none';\n\n    return (\n        <PageLayout>\n            <SidebarHeader heading={t('PageEditMenu.title')} leftButton={<NavBackButton to={generateUrl('..')} />} />\n            <ScrollableBox className={styles.scrollBox}>\n                <ul className={styles.list}>\n                    <ListItem to={generateUrl('avatar')} name={t('PageEditMenu.menu.avatar')}>\n                        <div className={styles.previewImg}>\n                            <img src={photoUrl} alt={fullname} />\n                        </div>\n                    </ListItem>\n                    <ListItem to={generateUrl('cover')} name={t('PageEditMenu.menu.cover')}>\n                        <div className={cn(styles.previewImg, styles.square)} style={{ backgroundImage: bgColor }}>\n                            {background.type === 'image' && <img src={background.imageUrl} alt=\"cover\" />}\n                        </div>\n                    </ListItem>\n                    <ListItem to={generateUrl('title')} name={t('PageEditMenu.menu.title')}>\n                        <div className={styles.textPreview}>{fullname || t('PageEditMenu.values.empty')}</div>\n                    </ListItem>\n                    <ListItem to={generateUrl('description')} name={t('PageEditMenu.menu.description')}>\n                        <div className={styles.textPreview}>{description || t('PageEditMenu.values.empty')}</div>\n                    </ListItem>\n                    <ListItem to={generateUrl('messengers')} name={t('PageEditMenu.menu.messengers')}>\n                        <div className={styles.textPreview}>{messengers.filter((i) => i.enabled).length}</div>\n                    </ListItem>\n                    {isLinksDisplayed && (\n                        <ListItem to={generateUrl('links')} name={t('PageEditMenu.menu.links')}>\n                            <div className={styles.textPreview}>{links.filter((i) => i.enabled).length}</div>\n                        </ListItem>\n                    )}\n                    <ListItem to={generateUrl('website')} name={t('PageEditMenu.menu.website')}>\n                        <div className={styles.textPreview}>\n                            {website.enabled && website.url && noProtocolWebsiteUrl}\n                            {!website.enabled && website.url && t('PageEditMenu.values.off')}\n                            {!website.url && t('PageEditMenu.values.empty')}\n                        </div>\n                    </ListItem>\n                </ul>\n            </ScrollableBox>\n        </PageLayout>\n    );\n}\n","import arrayMove from 'array-move';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { useWorkspace, useActions } from '@mssgme/hooks';\nimport { SidebarHeader, ScrollableBox, NavBackButton } from '@mssgme/ui';\nimport { FieldTip } from '@mssgme/app/components/UI';\nimport { usePreview, PageLayout } from '../../../UI';\nimport SortableList from './SortableList';\n\nimport styles from './PageMessengers.scss';\n\nexport default function PageMessengers() {\n    const workspace = useWorkspace();\n    const actions = useActions();\n    const { t } = useTranslation('cards');\n    const { resetPreview } = usePreview();\n    const [page_messengers, setPageMessengers] = useState(workspace.card.messengers);\n    const [isFetching, setIsFetching] = useState(false);\n\n    const leftButton = <NavBackButton to=\"/p/edit\" />;\n\n    async function onSortEnd({ oldIndex, newIndex }) {\n        setPageMessengers(arrayMove(page_messengers, oldIndex, newIndex));\n        setIsFetching(true);\n        if (oldIndex !== newIndex) {\n            const sorted = await actions.api.card.messengers.sort({ payload: { oldIndex, newIndex } });\n\n            setPageMessengers(sorted);\n            setIsFetching(false);\n            resetPreview();\n        }\n    }\n\n    return (\n        <PageLayout>\n            <SidebarHeader heading={t('pageMessengers.heading')} leftButton={leftButton} />\n            <ScrollableBox>\n                <SortableList\n                    t={t}\n                    messengers={page_messengers}\n                    axis=\"y\"\n                    lockAxis=\"y\"\n                    onSortEnd={onSortEnd}\n                    helperClass={styles.sortable}\n                    isFetching={isFetching}\n                    shouldCancelStart={(e) => {\n                        if (e.target.dataset.element !== 'drag-handle') {\n                            return true;\n                        }\n                    }}\n                />\n                <FieldTip>{t('FieldTip.messengers')}</FieldTip>\n            </ScrollableBox>\n        </PageLayout>\n    );\n}\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { capitalize, join } from 'lodash';\n\nimport { NavBackButton, ScrollableBox, SidebarHeader } from '@mssgme/ui';\nimport { useBilling, useNavigationUtils, useRestrictedCard } from '@mssgme/hooks';\n\nimport ListItem from './ListItem';\nimport { PageLayout } from '../../../UI';\n\nimport styles from './styles.scss';\n\nexport function PageSettingsMenu() {\n    const { t } = useTranslation('cards');\n    const { generateUrl } = useNavigationUtils();\n    const restrictedCard = useRestrictedCard();\n    const { isTrial } = useBilling();\n    const {\n        profile: { url },\n        design: { branding },\n        domain,\n        analytics,\n        seo,\n    } = restrictedCard;\n    const activeAnalyticsPlatforms = Object.entries(analytics)\n        .filter((entry) => !!entry[1])\n        .map((entry) => capitalize(entry[0]));\n    const activeAnalyticsPlatformsPreview =\n        activeAnalyticsPlatforms.length > 0 ? join(activeAnalyticsPlatforms, ', ') : t('PageSettingsMenu.values.empty');\n    const seoPreview =\n        seo.title || seo.description ? t('PageSettingsMenu.values.custom') : t('PageSettingsMenu.values.default');\n\n    return (\n        <PageLayout>\n            <SidebarHeader\n                heading={t('PageSettingsMenu.title')}\n                leftButton={<NavBackButton to={generateUrl('..')} />}\n            />\n            <ScrollableBox className={styles.scrollBox}>\n                <ul className={styles.list}>\n                    <ListItem to={generateUrl('url')} name={t('PageSettingsMenu.labels.url')}>\n                        <div className={styles.textPreview}>\n                            {domain.name && domain.resolved ? domain.name : `mssg.me/${url}`}\n                        </div>\n                    </ListItem>\n                    {!isTrial && (\n                        <ListItem to={generateUrl('branding')} name={t('PageSettingsMenu.labels.branding')}>\n                            <div className={styles.textPreview}>\n                                {t(branding ? 'PageSettingsMenu.values.enabled' : 'PageSettingsMenu.values.disabled')}\n                            </div>\n                        </ListItem>\n                    )}\n                    <ListItem to={generateUrl('seo')} name={t('PageSettingsMenu.labels.seo')}>\n                        <div className={styles.textPreview}>{seoPreview}</div>\n                    </ListItem>\n                    <ListItem to={generateUrl('tracking')} name={t('PageSettingsMenu.labels.tracking')}>\n                        <div className={styles.textPreview}>{activeAnalyticsPlatformsPreview}</div>\n                    </ListItem>\n                </ul>\n            </ScrollableBox>\n        </PageLayout>\n    );\n}\n","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { useDomain } from './hooks';\nimport DomainDisconnect from './DomainDisconnect';\nimport DomainEdit from './DomainEdit';\nimport ChangeDNS from './ChangeDNS';\n\nexport default function Domain() {\n    const domain = useDomain();\n\n    let step;\n\n    if (domain.name && domain.resolved) {\n        step = 'disconnect';\n    } else if (domain.name && !domain.resolved) {\n        step = 'change-dns';\n    } else {\n        step = 'edit';\n    }\n\n    return (\n        <Switch>\n            <Route exact path=\"/p/settings/url/domain/edit\" component={DomainEdit} />\n            <Route exact path=\"/p/settings/url/domain/change-dns\" component={ChangeDNS} />\n            <Route exact path=\"/p/settings/url/domain/disconnect\" component={DomainDisconnect} />\n            <Redirect to={`/p/settings/url/domain/${step}`} />\n        </Switch>\n    );\n}\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { useNavigationUtils, useRestrictedCard } from '@mssgme/hooks';\nimport { Feature, NavBackButton, ScrollableBox, SidebarHeader } from '@mssgme/ui';\nimport { FieldTip } from '@mssgme/app/components/UI';\n\nimport ListItem from './ListItem';\nimport { PageLayout } from '../../../UI';\n\nimport styles from './styles.scss';\n\nexport function PageTrackingMenu() {\n    const { t } = useTranslation('cards');\n    const { generateUrl } = useNavigationUtils();\n    const restrictedCard = useRestrictedCard();\n    const {\n        analytics: { facebook, google, yandex },\n    } = restrictedCard;\n\n    return (\n        <PageLayout>\n            <SidebarHeader\n                heading={t('PageTrackingMenu.title')}\n                leftButton={<NavBackButton to={generateUrl('..')} />}\n            />\n            <ScrollableBox className={styles.scrollBox}>\n                <Feature rule=\"tracking\">\n                    <ul className={styles.list}>\n                        <ListItem to={generateUrl('facebook')} name={t('PageTrackingMenu.menu.facebook')}>\n                            <div className={styles.textPreview}>{facebook || t('PageTrackingMenu.values.empty')}</div>\n                        </ListItem>\n                        <ListItem to={generateUrl('google')} name={t('PageTrackingMenu.menu.google')}>\n                            <div className={styles.textPreview}>{google || t('PageTrackingMenu.values.empty')}</div>\n                        </ListItem>\n                        <ListItem to={generateUrl('yandex')} name={t('PageTrackingMenu.menu.yandex')}>\n                            <div className={styles.textPreview}>{yandex || t('PageTrackingMenu.values.empty')}</div>\n                        </ListItem>\n                    </ul>\n                    <FieldTip style={{ marginTop: 16 }}>{t('FieldTip.tracking')}</FieldTip>\n                </Feature>\n            </ScrollableBox>\n        </PageLayout>\n    );\n}\n","import React from 'react';\nimport { get } from 'lodash';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nimport {\n    SidebarHeader,\n    ScrollableBox,\n    Checkbox,\n    EnhancedFormik,\n    EnhancedNavigationGuard,\n    SaveButton,\n    Form,\n    Row,\n    CancelButton,\n    Feature,\n} from '@mssgme/ui';\nimport { useActions, useWorkspace } from '@mssgme/hooks';\nimport { usePreview } from '../../../UI';\n\nimport styles from './styles.scss';\n\nexport default function ReviewsEdit() {\n    const actions = useActions();\n    const { t } = useTranslation('cards');\n    const { card } = useWorkspace();\n    const { updatePreview } = usePreview();\n\n    const leftButton = <CancelButton tag={Link} to=\"/p\" styled=\"backIcon\" />;\n\n    return (\n        <EnhancedFormik\n            initialValues={{\n                reviews: {\n                    enabled: get(card, 'reviews.enabled', false),\n                },\n            }}\n            onSubmit={(values) => actions.api.card.update({ payload: { ...card, ...values } })}\n            onChange={updatePreview}\n        >\n            {({ values, setFieldValue, submitForm }) => (\n                <EnhancedNavigationGuard>\n                    <div className={styles.root}>\n                        <SidebarHeader\n                            heading={t('reviewsEdit.header')}\n                            leftButton={leftButton}\n                            rightButton={<SaveButton />}\n                        />\n                        <ScrollableBox>\n                            <Feature rule=\"reviews\" className={styles.noaccess}>\n                                <Form onSubmit={submitForm}>\n                                    <Row>\n                                        <Checkbox\n                                            name=\"reviews.enabled\"\n                                            checked={values.reviews.enabled}\n                                            placeholder={t('reviewsEdit.label')}\n                                            onChange={(e) => {\n                                                setFieldValue('design.branding', e.target.checked);\n                                            }}\n                                        />\n                                    </Row>\n                                </Form>\n                            </Feature>\n                        </ScrollableBox>\n                    </div>\n                </EnhancedNavigationGuard>\n            )}\n        </EnhancedFormik>\n    );\n}\n","import React, { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector } from 'react-redux';\n\nimport { useNavigationUtils, useActions } from '@mssgme/hooks';\nimport { NavBackButton, SidebarHeader, ScrollableBox, Feature } from '@mssgme/ui';\n\nimport { PageLayout } from '../../../UI';\nimport CardStatistics from './CardStatistics';\n\nexport default function Analytics() {\n    const { t } = useTranslation('cards');\n    const statistics = useSelector((state) => state.cardStatistics);\n    const { generateUrl } = useNavigationUtils();\n    const actions = useActions();\n\n    const getCardStatistics = useCallback(\n        (from = 'now-7d', to = 'now') => actions.api.card.statistics({ query: { from, to } }),\n        []\n    );\n\n    const leftButton = <NavBackButton to={generateUrl('..')} />;\n\n    return (\n        <PageLayout>\n            <SidebarHeader heading={t('pageAnalytics.analytics')} leftButton={leftButton} />\n            <ScrollableBox style={{ paddingTop: '10px' }}>\n                <Feature rule=\"analytics\">\n                    <CardStatistics statistics={statistics} getCardStatistics={getCardStatistics} />\n                </Feature>\n            </ScrollableBox>\n        </PageLayout>\n    );\n}\n","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M14.561 0H5.44A5.439 5.439 0 000 5.439v9.122A5.439 5.439 0 005.439 20h9.122A5.439 5.439 0 0020 14.561V5.44A5.439 5.439 0 0014.561 0zM2.456 5.439A2.982 2.982 0 015.44 2.456h9.122a2.982 2.982 0 012.983 2.983v9.122a2.982 2.982 0 01-2.983 2.983H5.44a2.982 2.982 0 01-2.983-2.983V5.44z\"\n});\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 4.912,\n  y: 10.702,\n  width: 10.175,\n  height: 2.456,\n  rx: 1.228\n});\nvar _ref3 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 4.912,\n  y: 6.842,\n  width: 6.667,\n  height: 2.456,\n  rx: 1.228\n});\nfunction SvgCardsIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\"\n  }, props), _ref, _ref2, _ref3);\n}\nexport default SvgCardsIcon;","import { useCallback } from 'react';\nimport { useRouteMatch, useLocation } from 'react-router-dom';\n\nimport { resolvePathname } from '@mssgme/helpers';\n\n/**\n * @param {{ useMatchUrl: boolean }} [defaults] Generator default options\n * @returns {{\n *   pathname: string;\n *   state: *;\n *   generateUrl: (path: string, options?: { useMatchUrl: boolean }) => string;\n * }} Generator method\n */\nexport function useNavigationUtils(defaults) {\n    const { url } = useRouteMatch();\n    const { pathname, state } = useLocation();\n\n    const generateUrl = useCallback(\n        (path, options) => {\n            const isRelative = path.charAt(0) !== '/';\n\n            if (isRelative) {\n                options = defaults ? { ...defaults, ...options } : options;\n\n                return resolvePathname(options?.useMatchUrl ? url : pathname, path);\n            }\n\n            return resolvePathname(path);\n        },\n        [url, pathname, defaults?.useMatchUrl]\n    );\n\n    return { generateUrl, pathname, url, state };\n}\n","export default __webpack_public_path__ + \"img/onboarding/domain.svg\";","// extracted by mini-css-extract-plugin\nexport default {\"spinnerContainer\":\"OZk7uuFJ\",\"inline\":\"_363P8L0L\",\"loader\":\"_2TsJk87z\",\"dot\":\"kpqTtSO0\",\"dot1\":\"_1PmvMDMx\",\"dot-jump\":\"_1oWak4dz\",\"dotJump\":\"_1oWak4dz\",\"dot2\":\"_1bdgcwFw\",\"dot3\":\"DY8ghz_7\"};","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport styles from './styles.scss';\n\nexport const LoadingIndicator = ({ color, inline, ...props }) => {\n    const dotStyle = color ? { background: color } : null;\n\n    return (\n        <div className={cn(styles.spinnerContainer, inline && styles.inline)} {...props}>\n            <div className={styles.loader}>\n                <div className={cn(styles.dot, styles.dot1)} style={dotStyle} />\n                <div className={cn(styles.dot, styles.dot2)} style={dotStyle} />\n                <div className={cn(styles.dot, styles.dot3)} style={dotStyle} />\n            </div>\n        </div>\n    );\n};\n\nLoadingIndicator.propTypes = {\n    color: PropTypes.string,\n    inline: PropTypes.bool,\n};\n","import { useCallback } from 'react';\nimport { useActions } from './useActions';\n\n/**\n * @returns {(switch_to: 'inbox'|'next', options: { redirectTo: string })=> Promise<void>} Switch handler\n */\nexport function useSwitchApp() {\n    const { api } = useActions();\n\n    return useCallback(\n        async (switchTo, options) => {\n            const { redirect_to } = await api.users.switchApp({ payload: { app: switchTo, ...options } });\n\n            if (redirect_to) {\n                window.location.href = redirect_to;\n            }\n        },\n        [api]\n    );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_4z_mD5Vn\",\"item\":\"_2KNl4SKq\",\"center\":\"_2sTZ_mVy\",\"right\":\"_17fEb9d_\",\"left\":\"TS0sTM8H\",\"bordered\":\"_1tGOrLRK\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './styles.scss';\n\nconst GroupButtons = ({ children, className, align, bordered }) => (\n    <div className={classNames(styles.root, className, bordered ? styles.bordered : null, styles[align])}>\n        {React.Children.map(children, (item, key) => (\n            <div key={key} className={styles.item}>\n                {item}\n            </div>\n        ))}\n    </div>\n);\n\nGroupButtons.propTypes = {\n    children: PropTypes.any.isRequired,\n    className: PropTypes.string,\n    align: PropTypes.oneOf(['left', 'right', 'center']),\n    bordered: PropTypes.bool,\n};\n\nexport default GroupButtons;\n","export default __webpack_public_path__ + \"img/facebook2.svg\";","const regex = /^https?:\\/\\/(.*)$/;\n\nexport default (str) => str.replace(regex, '$1');\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { useAsync } from 'react-use';\n\nimport { checkRestrictions } from '@mssgme/shared';\nimport { useWorkspace } from '@mssgme/hooks';\n\nexport const IsGranted = ({ renderNoAccess, children, componentNoAccess: Component, ...rest }) => {\n    const workspace = useWorkspace();\n\n    const { error } = useAsync(\n        () =>\n            new Promise((resolve, reject) => {\n                const error = checkRestrictions({ ...rest, workspace }, rest.rule, rest.subject);\n\n                if (error) {\n                    reject(error);\n                } else {\n                    resolve();\n                }\n            }),\n        [workspace, rest.subject, rest.rule]\n    );\n\n    if (error) {\n        if (Component) return <Component reason={error} {...rest} />;\n        if (renderNoAccess) return renderNoAccess(error);\n\n        return null;\n    }\n\n    return children || null;\n};\n\nIsGranted.propTypes = {\n    rule: PropTypes.string.isRequired,\n    subject: PropTypes.any,\n    renderNoAccess: PropTypes.func,\n    componentNoAccess: PropTypes.any,\n    children: PropTypes.any,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { IsGranted } from '../IsGranted';\nimport { NoAccess } from '../NoAccess';\n\nexport const Feature = ({ component: Tag, children, ...rest }) => {\n    return (\n        <IsGranted center componentNoAccess={NoAccess} {...rest}>\n            {children || (Tag && <Tag />)}\n        </IsGranted>\n    );\n};\n\nFeature.propTypes = {\n    ...IsGranted.propTypes,\n    rule: PropTypes.string.isRequired,\n    component: PropTypes.elementType,\n    reason: PropTypes.object,\n    children: PropTypes.any,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1LgrRQyg\",\"content\":\"_1So3iwxb\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport { LanguageContext } from '@mssgme/hooks';\nimport { CardContainer, CardRoutes } from '@mssgme/cards';\nimport { NotificationsBagLegacy, ExperimentsProvider } from '@mssgme/ui';\nimport styles from './styles.scss';\n\n// const ab = {\n//     experiments: [\n//         {\n//             id: 'branding',\n//             variants: [\n//                 { id: 'both', weight: 25 },\n//                 { id: 'top', weight: 25 },\n//                 { id: 'large', weight: 25 },\n//                 { id: 'medium', weight: 25 },\n//             ],\n//         },\n//     ],\n// };\n\nfunction Userpage({ basename, data: { card, mode }, lang = 'en' }) {\n    return (\n        <Router basename={basename}>\n            <LanguageContext.Provider value={lang}>\n                {/*<ExperimentsProvider config={ab}>*/}\n                <div className={styles.root}>\n                    <NotificationsBagLegacy />\n                    <CardContainer>\n                        <CardRoutes\n                            data={card}\n                            widgetMode={mode === 'embed'}\n                            paths={{\n                                home: '/',\n                                collection: '/c/:collectionSlug',\n                                product: '/p/:productSlug',\n                            }}\n                        />\n                    </CardContainer>\n                </div>\n                {/*</ExperimentsProvider>*/}\n            </LanguageContext.Provider>\n        </Router>\n    );\n}\n\nUserpage.propTypes = {\n    basename: PropTypes.string.isRequired,\n    data: PropTypes.object.isRequired,\n    lang: PropTypes.string,\n};\n\nexport default Userpage;\n","import React from 'react';\nimport { render } from 'react-dom';\n\nimport { trans } from '@mssgme/shared';\nimport App from './components/Userpage';\n\ntrans.extend(window.LOCALES);\n\nconst data = window.INITIAL_DATA;\nconst basename = window.BASENAME;\nconst { lang } = window.document.documentElement;\n\nsetTimeout(() => {\n    render(<App data={data} lang={lang} basename={basename} />, document.getElementById('root'));\n}, 50);\n","import { useState, useEffect, useRef, useCallback } from 'react';\nimport { useCopyToClipboard } from 'react-use';\n\nexport function useCopyText(timeout = 2000) {\n    const [, copyToClipboard] = useCopyToClipboard();\n    const [isCopied, setCopied] = useState(false);\n    const timerRef = useRef();\n\n    useEffect(() => {\n        return () => {\n            if (timerRef.current) {\n                clearTimeout(timerRef.current);\n            }\n        };\n    }, []);\n\n    const copyText = useCallback(\n        (text) => {\n            copyToClipboard(text);\n            setCopied(true);\n            timerRef.current = setTimeout(() => setCopied(false), timeout);\n        },\n        [timeout]\n    );\n\n    return { isCopied, copyText };\n}\n","export default __webpack_public_path__ + \"img/ae_logo.png\";","import { useSelector } from 'react-redux';\nimport { getUpdateMarkers, getUser } from '@mssgme/store';\n\nexport function useUser() {\n    return useSelector(getUser);\n}\n\nexport function useUpdateMarker(marker) {\n    const markers = useSelector(getUpdateMarkers);\n\n    return !!(marker && markers.includes(marker));\n}\n","export default __webpack_public_path__ + \"img/man.png\";","import { EventEmitter } from 'events';\nimport { NOTIFICATIONS_DELAY } from '@mssgme/constants';\n\nexport const NOTIFY_STYLES = {\n    success: 'success',\n    danger: 'danger',\n};\n\nconst defaultOptions = {\n    closeDelay: 0,\n    notifyStyle: NOTIFY_STYLES.success,\n    showClose: false,\n    isRaw: false,\n};\n\nclass NotificationCenter extends EventEmitter {\n    constructor() {\n        super();\n        this.count = 0;\n        this.notifications = new Map();\n    }\n\n    /**\n     * @private\n     */\n    static instance;\n\n    /**\n     * Show popup-style notification with given style and behavior.\n     *\n     * @param {string} message Message to display\n     * @param {object} [options] Optional notification options\n     * @param {number} [options.closeDelay=0] Close notification automatically after this delay. Automatically set\n     *  to `2000` ms if `showClose` is set to `true`\n     * @param {NOTIFY_STYLES.danger|NOTIFY_STYLES.success} [options.notifyStyle=NOTIFY_STYLES.success] Notification style\n     * @param {boolean} [options.showClose=false] Show \"`Close`\" button\n     * @param {boolean} [options.isRaw=false] Is message in `HTML` format\n     * @returns {number} ID of created notification\n     */\n    notify(message, options) {\n        const notification = this.createNotification(message, {\n            closeDelay: options.showClose ? NOTIFICATIONS_DELAY : 0,\n            ...options,\n        });\n        this.handleNotificationDelay(notification);\n        this.notifications.set(notification.id, notification);\n        this.emit('notify', notification);\n\n        return notification.id;\n    }\n\n    /**\n     * Show popup-style `success` notification with given behavior.\n     *\n     * @param {string} message Message to display\n     * @param {object} [options] Optional notification options\n     * @param {number} [options.closeDelay=0] Close notification automatically after this delay. Automatically set\n     *  to `2000` ms if `showClose` is set to `true`\n     * @param {boolean} [options.showClose=false] Show \"`Close`\" button\n     * @param {boolean} [options.isRaw=false] Is message in `HTML` format\n     * @returns {number} ID of created notification\n     */\n    success(message, options) {\n        return this.notify(message, { notifyStyle: NOTIFY_STYLES.success, ...options });\n    }\n\n    /**\n     * Show popup-style `danger` notification with given behavior.\n     *\n     * @param {string} message Message to display\n     * @param {object} [options] Optional notification options\n     * @param {number} [options.closeDelay=0] Close notification automatically after this delay. Automatically set\n     *  to `2000` ms if `showClose` is set to `true`\n     * @param {boolean} [options.showClose=false] Show \"`Close`\" button\n     * @param {boolean} [options.isRaw=false] Is message in `HTML` format\n     * @returns {number} ID of created notification\n     */\n    danger(message, options) {\n        return this.notify(message, { notifyStyle: NOTIFY_STYLES.danger, ...options });\n    }\n\n    /**\n     * Create message object.\n     *\n     * @param {string} message Message content\n     * @param {object} [options] Optional notification options\n     * @param {number} [options.closeDelay=0] Close notification automatically after this delay. Automatically set\n     *  to `2000` ms if `showClose` is set to `true`\n     * @param {NOTIFY_STYLES.danger|NOTIFY_STYLES.success} [options.notifyStyle=NOTIFY_STYLES.success] Notification style\n     * @param {boolean} [options.showClose=false] Show \"`Close`\" button\n     * @param {boolean} [options.isRaw=false] Is message in `HTML` format\n     * @returns {{ id: number; message: string; options: object }} Message object\n     * @private\n     */\n    createNotification(message, options) {\n        return {\n            id: this.getNotificationId(),\n            message,\n            options: { ...defaultOptions, ...options },\n        };\n    }\n\n    /**\n     * @private\n     * @param {object} notification Notification object\n     */\n    handleNotificationDelay(notification) {\n        const delay = notification.options.closeDelay;\n\n        if (delay > 0) {\n            notification.timerId = setTimeout(() => this.remove(notification.id), delay);\n        }\n    }\n\n    /**\n     * Remove notification with specified ID\n     *\n     * @param {number} id Notification ID\n     */\n    remove(id) {\n        const notification = this.notifications.get(id);\n\n        if (!notification) {\n            return;\n        }\n\n        if (notification.timerId) {\n            clearTimeout(notification.timerId);\n        }\n\n        this.notifications.delete(id);\n        this.emit('remove', notification);\n    }\n\n    /**\n     * Clear all notifications\n     */\n    clear() {\n        this.notifications.clear();\n        this.emit('clear');\n    }\n\n    /**\n     * @private\n     * @returns {number} New ID\n     */\n    getNotificationId() {\n        return this.count++;\n    }\n\n    /**\n     * Get an array of all committed notifications. Can be safely mutated.\n     *\n     * @returns {{ id: number; message: string; options: object }[]} Notification objects array\n     */\n    getNotifications() {\n        return Array.from(this.notifications.values());\n    }\n\n    /**\n     * Get an instance of notifications manager.\n     *\n     * @returns {NotificationCenter} Singletone instance\n     */\n    static getInstance() {\n        if (!NotificationCenter.instance) {\n            NotificationCenter.instance = new NotificationCenter();\n        }\n\n        return NotificationCenter.instance;\n    }\n}\n\nexport default NotificationCenter;\n","export default __webpack_public_path__ + \"img/onboarding/link.svg\";","import queryString from '../../helpers/queryString';\n\nexport default class Link {\n    constructor(ua, messenger, params = {}) {\n        this._ua = ua;\n        this._name = messenger.name;\n        this._bot = messenger.type === 'public';\n        this._secret = messenger.type === 'secret';\n        this._community = messenger.type === 'community';\n        this._redirectUrl = messenger.redirectUrl;\n        this._params = {};\n        this._auto = messenger.type === 'auto';\n\n        for (let prop in params) {\n            if (this.isSupported(prop)) {\n                this.addParam(prop, params[prop]);\n            }\n        }\n    }\n\n    isSupported(param) {\n        return false;\n    }\n\n    addParam(param, value) {\n        if (!this.isSupported(param)) throw new Error(`Unsupported param \"${param}\"`);\n\n        this._params[param] = value;\n    }\n\n    removeParam(param) {\n        delete this._params[param];\n    }\n\n    getUrl() {}\n\n    getRedirectUrl() {\n        return this._redirectUrl + queryString(this._params);\n    }\n\n    getPlatform() {}\n}\n","import queryString from '../../helpers/queryString';\nimport Link from './link';\n\nconst BOT_SUPPORT = ['ref'];\n\nexport default class MessengerLink extends Link {\n    isSupported(param) {\n        if (this._bot && BOT_SUPPORT.indexOf(param) >= 0) return true;\n        return false;\n    }\n\n    getUrl() {\n        if (this._auto) {\n            return this._name;\n        } else {\n            return `https://m.me/${this._name + queryString(this._params)}`;\n        }\n    }\n\n    getPlatform() {\n        return 'messenger';\n    }\n}\n","import Link from './link';\n\nexport default class WhatsAppLink extends Link {\n    getUrl() {\n        return `skype:${this._name}?chat`;\n    }\n\n    getPlatform() {\n        return 'skype';\n    }\n}\n","import queryString from '../../helpers/queryString';\nimport Link from './link';\n\nconst BOT_SUPPORT = ['start'];\n\nexport default class TelegramLink extends Link {\n    isSupported(param) {\n        return !!(this._bot && BOT_SUPPORT.indexOf(param) >= 0);\n    }\n\n    getUrl() {\n        if (this._auto) {\n            return this._name;\n        } else if (this._secret) {\n            return `tg://join?invite=${this._name}`;\n        } else if (/^https?:\\/\\/t\\.me\\/(\\+|joinchat\\/).+$/i.test(this._name)) {\n            // TODO: temporary solution, need to refactor\n            // TODID: refactored, but needs further refactoring\n            return this._name.replace(/(^https?:\\/\\/t\\.me\\/(?:\\+|joinchat\\/))(.+)/, 'tg://join?invite=$2');\n        } else {\n            return `tg://resolve${queryString(Object.assign({ domain: this._name }, this._params))}`;\n        }\n    }\n\n    getPlatform() {\n        return 'telegram';\n    }\n}\n","import queryString from '../../helpers/queryString';\nimport Link from './link';\n\nconst BOT_SUPPORT = ['context', 'text'];\n\nexport default class ViberLink extends Link {\n    isSupported(param) {\n        if (this._bot && BOT_SUPPORT.indexOf(param) >= 0) return true;\n        return false;\n    }\n\n    getUrl() {\n        if (this._bot) {\n            return `viber://pa${queryString(Object.assign({ chatURI: this._name }, this._params))}`;\n        } else if (this._community) {\n            return this._name;\n        } else {\n            const number = this._ua.Android ? this._name.replace('+', '') : this._name;\n            return `viber://chat${queryString(Object.assign({ number: number }, this._params))}`;\n        }\n    }\n\n    getPlatform() {\n        return 'viber';\n    }\n}\n","import queryString from '../../helpers/queryString';\nimport Link from './link';\n\nconst BOT_SUPPORT = ['ref', 'ref_source'];\n\nexport default class VKLink extends Link {\n    isSupported(param) {\n        if (this._bot && BOT_SUPPORT.indexOf(param) >= 0) return true;\n        return false;\n    }\n\n    getUrl() {\n        if (this._auto) {\n            return this._name;\n        } else {\n            return `https://vk.me/${this._name + queryString(this._params)}`;\n        }\n    }\n\n    getPlatform() {\n        return 'vk';\n    }\n}\n","import queryString from '../../helpers/queryString';\nimport Link from './link';\n\nconst SUPPORT = ['text'];\n\nexport default class WhatsAppLink extends Link {\n    isSupported(param) {\n        if (SUPPORT.indexOf(param) >= 0) return true;\n        return false;\n    }\n\n    getUrl() {\n        if (this._auto || this._bot) {\n            return this._name;\n        } else {\n            const number = this._name.replace('+', '');\n            return `https://wa.me/${number + queryString(this._params)}`;\n        }\n    }\n\n    getPlatform() {\n        return 'whatsapp';\n    }\n}\n","import Link from './link';\n\nexport default class InstagramLink extends Link {\n    getUrl(ua) {\n        if (ua && ua.isMobile) {\n            return this._name;\n        }\n\n        return `https://instagram.com/${this._name.replace(/^https:\\/\\/ig\\.me\\/m\\//i, '')}`;\n    }\n\n    getPlatform() {\n        return 'instagram';\n    }\n}\n","import { deepLinkGenerator } from '@mssgme/shared';\nimport ua from './ua';\n\nexport const generateDeepLink = deepLinkGenerator(ua);\n","/* eslint-disable import/namespace */\nimport * as links from './links';\n// eslint-disable-next-line no-unused-vars\nimport { default as Link } from './links/link';\n\n/**\n * @param {import('@mssgme.helpers').ua} ua User agent helper\n * @returns {function(messenger, params): Link} Link generator for provided messenger\n */\nexport const deepLinkGenerator = (ua) => {\n    return (messenger, params) => {\n        const platform = messenger.messenger;\n        if (!links[platform]) throw new Error('Unsupported platform');\n\n        return new links[platform](ua, messenger, params);\n    };\n};\n","export default (size) => {\n    if (size < 1024) {\n        return size + ' B';\n    }\n\n    const i = Math.floor(Math.log(size) / Math.log(1024));\n    const num = size / Math.pow(1024, i);\n    const round = Math.round(num);\n    const float = String(round < 10 ? num.toFixed(2) : round < 100 ? num.toFixed(1) : round).replace(/\\.0+$/, '');\n    const quants = 'KMGTPEZY';\n    const bracket = quants[i - 1];\n\n    return `${float} ${bracket}B`;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2B3ofJ5E\",\"counter\":\"_3-b9pfi-\",\"input\":\"_2DRCzfDh\",\"inlineEdit\":\"YPgCGw-v\",\"error\":\"_1_PCEXDn\",\"sizeNormal\":\"DzCEGuof\",\"small\":\"hVVuxPYt\",\"grey\":\"_2AB3cyPB\",\"customNativeIcon\":\"gXrIPW3z\",\"disabled\":\"jZa3dVTS\",\"select\":\"_3ZdF5RHe\",\"input-wrapper\":\"_1GswEJx-\",\"inputWrapper\":\"_1GswEJx-\",\"builderInput\":\"_2jRUtpby\",\"hexInput\":\"_28ye7akn\",\"contextBlock\":\"_28j5RRRN\",\"clearAddon\":\"_26G-OSX_\",\"icon\":\"_1AAPpJVf\",\"root_grey\":\"rf7_RATV\",\"rootGrey\":\"rf7_RATV\",\"before\":\"_25tSvmqV\",\"after\":\"_3GByWsk_\",\"hasRightAddon\":\"_13_oLbQh\",\"hidden\":\"_2zAg-NV4\",\"padding-right\":\"_3o8wApXg\",\"paddingRight\":\"_3o8wApXg\",\"clearable\":\"_1NP8_n7i\"};","import PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport composeRefs from '@seznam/compose-react-refs';\nimport React, { useCallback, useRef } from 'react';\nimport { useMount } from 'react-use';\nimport { FiX, FiCalendar, FiClock } from 'react-icons/fi';\n\nimport { cls } from '@mssgme/helpers';\nimport { renderNode } from '../../../helpers';\n\nimport styles from './styles.scss';\n\nInput.propTypes = {\n    containerClassName: PropTypes.string,\n    inputClassName: PropTypes.string,\n    className: PropTypes.string,\n    hasError: PropTypes.bool,\n    autoFocus: PropTypes.bool,\n    refInput: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    icon: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    beforeInput: PropTypes.any,\n    afterInput: PropTypes.any,\n    maxLength: PropTypes.number,\n    type: PropTypes.oneOf(['text', 'email', 'search', 'number', 'password', 'tel', 'datetime-local', 'date', 'time', 'hidden']),\n    size: PropTypes.oneOf(['small', 'normal']),\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    disabled: PropTypes.bool,\n    inputStyle: PropTypes.oneOf(['default', 'grey']),\n    isSelectAddon: PropTypes.bool,\n    clearable: PropTypes.bool,\n    hexInput: PropTypes.bool,\n    hidden: PropTypes.bool,\n    builderInput: PropTypes.bool,\n};\n\nInput.defaultProps = {\n    containerClassName: '',\n    hasError: false,\n    disabled: false,\n    type: 'text',\n    inputStyle: 'default',\n    builderInput: false,\n    autoFocus: false,\n    isSelectAddon: true,\n};\n\nconst renderAddon = (node, className, isSelect) => {\n    let addon = renderNode(node);\n\n    if (addon) {\n        if (typeof addon === 'string' || !isSelect) {\n            addon = <div className={classNames(styles.contextBlock, className)}>{addon}</div>;\n        } else if (isSelect) {\n            addon = React.cloneElement(addon, cls(classNames(addon.props.className, styles.select), addon.props));\n        }\n    }\n\n    return addon;\n};\n\nexport default function Input({\n    className,\n    containerClassName,\n    inputClassName,\n    hasError,\n    icon: Icon,\n    size,\n    beforeInput,\n    afterInput,\n    hexInput,\n    hidden,\n    maxLength,\n    value,\n    disabled,\n    refInput,\n    inputStyle,\n    builderInput,\n    autoFocus,\n    isSelectAddon,\n    clearable,\n    type,\n    ...rest\n}) {\n    const isFilled = clearable && !!value;\n    const handleClear = useCallback(() => rest.onChange?.({ target: { name: rest.name, value: '' } }), [\n        rest.name,\n        rest.onChange,\n    ]);\n\n    const _beforeInput = renderAddon(beforeInput, className, isSelectAddon);\n    const _afterInput = renderAddon(afterInput, className, isSelectAddon);\n\n    const _rootClassName = classNames(\n        styles.root,\n        {\n            [styles.icon]: Icon,\n            [styles.before]: _beforeInput,\n            [styles.after]: _afterInput,\n            [styles.hidden]: hidden,\n            [styles.hexInput]: hexInput,\n            [styles.disabled]: disabled,\n            [styles.builderInput]: builderInput,\n            [styles.clearable]: isFilled,\n        },\n        inputStyle && styles[`root_${inputStyle}`],\n        containerClassName\n    );\n    const _inputClassName = classNames(\n        className,\n        styles.input,\n        {\n            [styles.error]: hasError,\n            [styles.paddingRight]: maxLength,\n            [styles.small]: size === 'small',\n            [styles.sizeNormal]: size === 'normal',\n        },\n        inputStyle && styles[inputStyle],\n        inputClassName\n    );\n    const valueLength = value ? String(value).trim().length : 0;\n    const ref = useRef();\n\n    useMount(() => {\n        if (autoFocus) {\n            setTimeout(() => ref.current?.focus(), 100);\n        }\n    });\n\n    return (\n        <div className={_rootClassName}>\n            {Icon && <Icon size={25} color=\"#C7C7CC\" />}\n            {_beforeInput}\n            <div className={styles.inputWrapper} style={{ color: rest.style?.color }}>\n                <input\n                    ref={composeRefs(ref, refInput)}\n                    className={_inputClassName}\n                    value={value}\n                    maxLength={maxLength}\n                    disabled={disabled}\n                    type={type}\n                    {...rest}\n                />\n                {maxLength && <span className={styles.counter}>{maxLength - valueLength}</span>}\n                {isFilled && (\n                    <div\n                        className={classNames(styles.clearAddon, !_afterInput && styles.hasRightAddon)}\n                        onClick={handleClear}\n                    >\n                        <FiX size={14} style={{ marginBottom: -1 }} />\n                    </div>\n                )}\n                { type === 'date' && <FiCalendar className={styles.customNativeIcon} /> }\n                { type === 'time' && <FiClock className={styles.customNativeIcon} /> }\n            </div>\n            {_afterInput}\n        </div>\n    );\n}\n","'use strict';\n\nexport const hex2rgb = (hex) => {\n    if (hex.charAt(0) === '#') {\n        hex = hex.substr(1);\n    }\n\n    if (hex.length < 2 || hex.length > 6) {\n        return false;\n    }\n\n    const values = hex.split('');\n\n    let r, g, b;\n\n    if (hex.length === 2) {\n        r = parseInt(values[0].toString() + values[1].toString(), 16);\n        g = r;\n        b = r;\n    } else if (hex.length === 3) {\n        r = parseInt(values[0].toString() + values[0].toString(), 16);\n        g = parseInt(values[1].toString() + values[1].toString(), 16);\n        b = parseInt(values[2].toString() + values[2].toString(), 16);\n    } else if (hex.length === 6) {\n        r = parseInt(values[0].toString() + values[1].toString(), 16);\n        g = parseInt(values[2].toString() + values[3].toString(), 16);\n        b = parseInt(values[4].toString() + values[5].toString(), 16);\n    } else {\n        return false;\n    }\n\n    return [r, g, b];\n};\n","module.exports = window.PLANS || {};\n","import store from 'store2';\nimport { get } from 'lodash';\n\nimport config from 'config';\nimport media from './media';\nimport { MssgApiClient } from './client';\n\nconst api = new MssgApiClient({\n    baseUrl: process.env.REACT_APP_WEBAPP_API_URL || '/api',\n    socketUrl: config.websocket_url,\n});\n\nfunction setDefaultWorkspace() {\n    const workspaceId = get(api.aboutMe, 'workspaces[0].workspace');\n    api.param('workspaceId', workspaceId);\n    // TODO: remove\n    store.set('currentWorkspace', workspaceId);\n}\n\nif (api.isAuthenticated) {\n    setDefaultWorkspace();\n}\n\napi.on('changeAccessToken', () => {\n    setDefaultWorkspace();\n});\n\nexport default api;\n\nexport { media };\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"AKW1LPJE\",\"dot\":\"_2Duvgn6z\",\"primary\":\"_1NDKtp6k\",\"warning\":\"_3OUmTVyB\",\"danger\":\"_2OyIKowr\",\"success\":\"_2UZem5gx\",\"flat\":\"_1xRtRqWy\",\"inverse\":\"_1zQVDc1a\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { cls } from '@mssgme/helpers';\nimport styles from './styles.scss';\n\nconst Badge = ({ as: Tag = 'span', badgeStyle, inverse, dot, ...rest }) => (\n    <Tag {...cls(classNames(styles.root, styles[badgeStyle], dot && styles.dot, inverse && styles.inverse), rest)} />\n);\n\nBadge.propTypes = {\n    as: PropTypes.elementType,\n    badgeStyle: PropTypes.oneOf(['primary', 'danger', 'success', 'warning', 'flat']),\n    dot: PropTypes.bool,\n    inverse: PropTypes.bool,\n};\n\nexport default Badge;\n","var map = {\n\t\"./en/inbox.json\": [\n\t\t\"vIfp\",\n\t\t0\n\t],\n\t\"./ru/inbox.json\": [\n\t\t\"v2NG\",\n\t\t1\n\t],\n\t\"./uk/inbox.json\": [\n\t\t\"s949\",\n\t\t2\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"aFVI\";\nmodule.exports = webpackAsyncContext;","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1s0NwJtZ\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport styles from './NavBackButton.scss';\n\nconst NavBackButton = ({ children, tag: Tag, ...rest }) => (\n    <Tag {...rest} className={styles.root}>\n        <span className={styles.label}>{children}</span>\n    </Tag>\n);\n\nNavBackButton.propTypes = {\n    children: PropTypes.any,\n    tag: PropTypes.any,\n};\n\nNavBackButton.defaultProps = {\n    tag: Link,\n};\n\nexport default NavBackButton;\n","import NavBackButton from './NavBackButton';\n\nexport default NavBackButton;\n","import removeUrlProtocol from './removeUrlProtocol';\n\nconst regex = /^(?:\\w+:\\/*)?([^:/$]+)(?::\\d+)?(.*)$/i;\n\nexport default (url) => {\n    const match = url.match(regex);\n\n    if (match) {\n        return `${match[1]}${match[2]}`;\n    }\n\n    return removeUrlProtocol(url);\n};\n","import { createContext, useContext } from 'react';\n\nexport const LanguageContext = createContext('en');\n\nexport function useLanguage() {\n    return useContext(LanguageContext);\n}\n","export const handleError = (error) => {\n    error = error || new Error('Unhandled error');\n\n    console.error(error);\n\n    if (window.Sentry) {\n        window.Sentry.captureException(error);\n    }\n};\n","export default (entityOrId) => entityOrId && String(entityOrId._id || entityOrId);\n","module.exports = CONFIG;","import cn from 'classnames';\nimport { curry } from 'lodash';\n\nconst cls = curry((className, props) => ({ ...props, className: cn(className, props.className) }));\n\nexport default cls;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3r7ykke3\",\"light\":\"_1tLNHSID\",\"noBorder\":\"_2VB2Uwlo\",\"hasHeader\":\"_2vEBUPAA\",\"title\":\"_1l4Wj1ud\",\"rightButton\":\"_22Y3aDGp\",\"icon\":\"_1rdkEYpQ\",\"bottomContent\":\"_26m3xOVK\"};","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FiX } from 'react-icons/fi';\nimport { useMeasure } from 'react-use';\n\nimport { renderNode } from '../../helpers';\nimport { useTitle } from '../../hooks';\nimport styles from './ModalSheetHeader.scss';\n\nexport function ModalSheetHeader({\n    title,\n    closePath,\n    rightButton,\n    light,\n    closeIcon: CloseIcon = FiX,\n    bottomContent,\n    ...rest\n}) {\n    const [rBtn, { width }] = useMeasure();\n    const padding = width > 50 ? width : 50;\n    const isCloseFunction = typeof closePath === 'function';\n    const closeProps = isCloseFunction ? { onClick: () => closePath() } : { to: closePath };\n    const CloseTag = isCloseFunction ? 'div' : Link;\n\n    useTitle(title);\n\n    return (\n        <>\n            {title !== false && (\n                <div\n                    className={cn({\n                        [styles.root]: true,\n                        [styles.light]: light,\n                        [styles.noBorder]: bottomContent || !title,\n                    })}\n                    {...rest}\n                >\n                    {closePath && (\n                        <CloseTag className={styles.icon} {...closeProps}>\n                            <CloseIcon size={22} color=\"#333\" />\n                        </CloseTag>\n                    )}\n                    <span className={styles.title} style={{ padding: `0 ${padding}px` }}>\n                        {title}\n                    </span>\n                    {!!rightButton && (\n                        <div ref={rBtn} className={styles.rightButton}>\n                            {renderNode(rightButton)}\n                        </div>\n                    )}\n                </div>\n            )}\n            {bottomContent && <div className={styles.bottomContent}>{bottomContent}</div>}\n        </>\n    );\n}\n\nModalSheetHeader.propTypes = {\n    title: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.element]),\n    light: PropTypes.bool,\n    closeIcon: PropTypes.elementType,\n    closePath: PropTypes.oneOfType([PropTypes.string, PropTypes.func, PropTypes.object]),\n    rightButton: PropTypes.oneOfType([PropTypes.element, PropTypes.func, PropTypes.bool]),\n    bottomContent: PropTypes.any,\n};\n","import { useEffect } from 'react';\n\nexport function useTitle(title) {\n    useEffect(() => {\n        if (typeof title !== 'string') {\n            return;\n        }\n\n        const saved = document.title;\n        document.title = `Mssg.me - ${title}`;\n\n        return () => {\n            document.title = saved;\n        };\n    }, [title]);\n}\n","export default __webpack_public_path__ + \"img/whatsapp.svg\";","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { motion } from 'framer-motion';\nimport cn from 'classnames';\n\nimport { cls } from '@mssgme/helpers';\n\nimport styles from './ModalSheet.scss';\n\nexport function ModalSheetPane({ header, children, motionProps, padding = true, ...rest }) {\n    const Component = motionProps ? motion.div : 'div';\n\n    return (\n        <Component className={cn(styles.sheetyPane, header && styles.hasHeader)} {...motionProps}>\n            {header && <Component className={styles.header}>{header}</Component>}\n\n            <Component {...cls([styles.content, padding && styles.padded], rest)}>\n                {children}\n            </Component>\n        </Component>\n    );\n}\n\nModalSheetPane.propTypes = {\n    header: PropTypes.any,\n    children: PropTypes.any.isRequired,\n    padding: PropTypes.bool,\n    motionProps: PropTypes.any,\n    style: PropTypes.any,\n};\n","export default __webpack_public_path__ + \"img/icon-go-back.svg\";","var map = {\n\t\"./en/cards.json\": [\n\t\t\"0ObG\",\n\t\t0\n\t],\n\t\"./ru/cards.json\": [\n\t\t\"DDKd\",\n\t\t1\n\t],\n\t\"./uk/cards.json\": [\n\t\t\"Q6FX\",\n\t\t2\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"eRWQ\";\nmodule.exports = webpackAsyncContext;","export default __webpack_public_path__ + \"img/ic_check_circle_black_24px.svg\";","import slugify from 'slugify';\n\nexport default (url) =>\n    slugify(url || '', {\n        remove: /[%=?\\\\/*+~.()'\"!:@]/g,\n        separator: '_',\n        lower: true,\n    });\n","export default __webpack_public_path__ + \"img/power.png\";","import { useMediaQuery } from 'react-responsive';\n\nexport const MEDIA_BREAKPOINTS = {\n    desktop: { minWidth: 1025 },\n    aboveMobile: { minWidth: 601 },\n    belowDesktop: { maxWidth: 1024 },\n    tablet: { maxWidth: 1024, minWidth: 768 },\n    mobile: { maxWidth: 600 },\n};\n\nexport function useBreakpoints() {\n    const isDesktop = useMediaQuery(MEDIA_BREAKPOINTS['desktop']);\n    const isAboveMobile = useMediaQuery(MEDIA_BREAKPOINTS['aboveMobile']);\n    const isBelowDesktop = useMediaQuery(MEDIA_BREAKPOINTS['belowDesktop']);\n    const isTablet = useMediaQuery(MEDIA_BREAKPOINTS['tablet']);\n    const isMobile = useMediaQuery(MEDIA_BREAKPOINTS['mobile']);\n\n    return { isDesktop, isAboveMobile, isBelowDesktop, isTablet, isMobile };\n}\n\nexport const useIsMobile = () => {\n    return !!useMediaQuery(MEDIA_BREAKPOINTS['mobile']);\n};\n\nexport const useIsDesktop = () => {\n    return !!useMediaQuery(MEDIA_BREAKPOINTS['desktop']);\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2M_1Ol43\",\"disabled\":\"_39IPMV52\",\"label\":\"v3GxyvsU\",\"soon\":\"_2ovZTsiT\",\"icon\":\"RtpShIgh\",\"badge\":\"_26y6czIF\",\"arrow\":\"rtv2K6C8\",\"chevronData\":\"_2EfGiufa\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport ArrowRightIcon from '../../../icons/arrow-right.svg';\nimport styles from './NavItem.scss';\n\nexport default function NavItem({\n    tag: Tag = 'a',\n    themeStyles = styles,\n    className,\n    chevron = true,\n    soon = false,\n    disabled = false,\n    icon: Icon,\n    children,\n    ...rest\n}) {\n    return (\n        <Tag\n            className={classNames(\n                themeStyles.root,\n                className,\n                soon && themeStyles.soon,\n                disabled && themeStyles.disabled\n            )}\n            {...rest}\n        >\n            {Icon && (\n                <span className={themeStyles.icon}>\n                    <Icon size={20} />\n                </span>\n            )}\n\n            <span className={themeStyles.label}>{children}</span>\n\n            {soon ? (\n                <i className={themeStyles.badge}>Soon</i>\n            ) : chevron === true ? (\n                <ArrowRightIcon className={themeStyles.arrow} />\n            ) : (\n                <div className={themeStyles.chevronData}>\n                    {chevron}\n                    <ArrowRightIcon className={themeStyles.arrow} />\n                </div>\n            )}\n        </Tag>\n    );\n}\n\nNavItem.propTypes = {\n    tag: PropTypes.elementType,\n    className: PropTypes.string,\n    soon: PropTypes.bool,\n    chevron: PropTypes.oneOfType([PropTypes.bool, PropTypes.node]),\n    disabled: PropTypes.bool,\n    active: PropTypes.bool,\n    icon: PropTypes.elementType,\n    children: PropTypes.node,\n    themeStyles: PropTypes.shape({\n        root: PropTypes.string,\n        soon: PropTypes.string,\n        disabled: PropTypes.string,\n        icon: PropTypes.string,\n        content: PropTypes.string,\n        badge: PropTypes.string,\n        arrow: PropTypes.string,\n        label: PropTypes.string,\n    }),\n};\n\nNavItem.styles = styles;\n","export default __webpack_public_path__ + \"img/onboarding/pixel.svg\";","import isPromise from 'is-promise';\nimport store from 'store2';\nimport config from 'config';\n\nconst EXPIRED = 1000 * 60 * 60 * 24 * 14;\n\nexport const applicationServerKey = () => urlB64ToUint8Array(config.vapid_public_key);\nexport const isNotificationSupport = 'Notification' in window;\nexport const isPushManagerSupport = 'PushManager' in window;\nexport const isServiceWorkerSupport = 'serviceWorker' in navigator;\n\nconst SERVICE_WORKER_NOT_SUPPORTED = 'serviceWorker isn\\'t supported';\nconst PUSH_MANAGER_NOT_SUPPORTED = 'PushManager isn\\'t supported';\nconst NOTIFICATION_NOT_SUPPORTED = 'Notification isn\\'t supported';\nconst EMPTY_REGISTRATION = 'Empty serviceWorker registration';\n\nexport class PushMessagingError extends Error {\n}\n\nexport function handleError(err) {\n    if (err instanceof PushMessagingError) {\n        'console' in window && console.warn(err.message);\n    } else {\n        throw err;\n    }\n}\n\nexport function urlB64ToUint8Array(base64String) {\n    const padding = '='.repeat((4 - (base64String.length % 4)) % 4);\n    const base64 = (base64String + padding).replace(/-/g, '+').replace(/_/g, '/');\n    const rawData = atob(base64);\n    const outputArray = new Uint8Array(rawData.length);\n    for (let i = 0; i < rawData.length; ++i) {\n        outputArray[i] = rawData.charCodeAt(i);\n    }\n    return outputArray;\n}\n\nexport async function getRegistration() {\n    if (!isServiceWorkerSupport) throw new PushMessagingError(SERVICE_WORKER_NOT_SUPPORTED);\n\n    const registration = await navigator.serviceWorker.getRegistration();\n    return registration;\n}\n\nexport async function displayNotification(...args) {\n    if (!isNotificationSupport) return;\n    if (Notification.permission === 'granted') {\n        const registration = await getRegistration();\n        registration.showNotification(...args);\n    }\n}\n\nexport function requestPermission() {\n    if (isPromise(Notification.requestPermission)) {\n        return Notification.requestPermission();\n    }\n\n    return new Promise((resolve, reject) => {\n        Notification.requestPermission((result) => {\n            resolve(result);\n        });\n    });\n}\n\nexport async function askPermission() {\n    if (!isNotificationSupport) throw new PushMessagingError(NOTIFICATION_NOT_SUPPORTED);\n\n    const expiredAt = store.get('notification_requested_at', 0);\n    const isExpired = expiredAt + EXPIRED < Date.now();\n\n    if (Notification.permission !== 'granted' && isExpired) {\n        const result = await requestPermission();\n        store.set('notification_requested_at', Date.now());\n        return result === 'granted';\n    }\n\n    return Notification.permission === 'granted';\n}\n\nexport async function isSubscribed() {\n    if (!isPushManagerSupport) throw new PushMessagingError(PUSH_MANAGER_NOT_SUPPORTED);\n\n    const registration = await getRegistration();\n    if (!registration) throw new PushMessagingError(EMPTY_REGISTRATION);\n\n    if (!registration.pushManager) throw new PushMessagingError(PUSH_MANAGER_NOT_SUPPORTED);\n\n    let subscription = await registration.pushManager.getSubscription();\n\n    return !!subscription;\n}\n\nexport async function subscribe() {\n    if (!isPushManagerSupport) throw new PushMessagingError(PUSH_MANAGER_NOT_SUPPORTED);\n\n    const registration = await getRegistration();\n    const subscription = await registration.pushManager.subscribe({\n        userVisibleOnly: true,\n        applicationServerKey: applicationServerKey(),\n    });\n\n    return subscription;\n}\n\nexport async function getSubscription() {\n    if (!isPushManagerSupport) throw new PushMessagingError(PUSH_MANAGER_NOT_SUPPORTED);\n\n    const registration = await getRegistration();\n\n    if (!registration) return;\n    if (!registration.pushManager) throw new PushMessagingError(PUSH_MANAGER_NOT_SUPPORTED);\n\n    let subscription = await registration.pushManager.getSubscription();\n\n    return subscription;\n}\n\nexport async function unsubscribe() {\n    if (!isPushManagerSupport) throw new PushMessagingError(PUSH_MANAGER_NOT_SUPPORTED);\n\n    const registration = await getRegistration();\n\n    if (!registration) return;\n    if (!registration.pushManager) throw new PushMessagingError(PUSH_MANAGER_NOT_SUPPORTED);\n\n    let subscription = await registration.pushManager.getSubscription();\n\n    await subscription.unsubscribe();\n\n    return JSON.stringify(subscription);\n}\n\nexport async function init() {\n    try {\n        const isGranted = await askPermission();\n        let subscription = await getSubscription();\n\n        if (subscription && !isGranted) {\n            await unsubscribe();\n            return;\n        }\n        if (!isGranted) return;\n        if (!subscription) {\n            subscription = await subscribe();\n        }\n        return subscription;\n    } catch (err) {\n        handleError(err);\n    }\n}\n","import ExtendableError from 'es6-error';\n\nimport { parseErrors } from './helpers';\n\nexport class ApiError extends ExtendableError {\n    name = 'ApiError';\n    errors = {};\n    status = 500;\n\n    /**\n     * @param {{ status: number; message: string; json: object }} raw Error data\n     */\n    constructor(raw) {\n        super();\n        Object.assign(this, raw);\n    }\n\n    static is(error) {\n        return !!error && (this.name === error.name || this.type === error.type || error instanceof this);\n    }\n\n    get type() {\n        return this.name;\n    }\n}\n\nexport class NetworkError extends ExtendableError {\n    name = 'NetworkError';\n}\n\nexport class RequestError extends ApiError {\n    name = 'RequestError';\n}\n\nexport class NotFoundError extends ApiError {\n    name = 'NotFoundError';\n\n    /**\n     * @param {{ status: number; message: string; json: object }} data Error data\n     */\n    constructor(data) {\n        super({ status: 404, message: 'NotFound error', ...data });\n    }\n}\n\nexport class ValidationError extends ApiError {\n    name = 'ValidationError';\n\n    /**\n     * @param {{ status?: number; message?: string; json: object }} data Error data\n     */\n    constructor(data) {\n        super({ status: 400, message: 'Validation error', errors: parseErrors(data.json), ...data });\n    }\n}\n\nexport class AuthorizationError extends ApiError {\n    name = 'AuthorizationError';\n\n    /**\n     * @param {{\n     *  url: string;\n     *  status: number;\n     *  message: string;\n     *  json?: {} | { permission: string; code: string; plan: string; target: string }\n     * }} data Error data\n     */\n    constructor(data) {\n        super({ status: 401, message: 'Authorization error', ...data });\n        const json = data.json;\n\n        if (json?.permission) {\n            this.permission = json.permission;\n            this.code = json.code;\n            this.plan = json.plan;\n            this.target = json.target;\n        }\n    }\n\n    isFeatureAccessError() {\n        return !!this.permission;\n    }\n}\n\nexport class ForbiddenError extends ApiError {\n    name = 'ForbiddenError';\n\n    /**\n     * @param {{\n     *   url: string;\n     *   status: number;\n     *   message: string;\n     *   json: { error?: Error & { permission?: string; details?: { plan: string; target?: string } } }\n     * }} data Error data\n     */\n    constructor({ status, message, json: { error } }) {\n        super({\n            status: status || 403,\n            message: error?.message || message || 'Forbidden',\n            permission: error?.permission,\n            code: error?.code,\n            ...error?.details,\n        });\n    }\n\n    static isPermissionBlock(e) {\n        return this.is(e) && !!e.permission;\n    }\n}\n\nexport class LimitRequestsError extends ApiError {\n    name = 'LimitRequestsError';\n\n    /**\n     * @param {{ status: number; message: string; json: { error?: string; within?: number } }} data Error data\n     */\n    constructor(data) {\n        super({ status: 429, message: data.json.error || 'Too Many Requests', within: data.json.within, ...data });\n    }\n}\n\nexport class LimitLoginRequestsError extends LimitRequestsError {\n    name = 'LimitLoginRequestsError';\n}\n","import memoize from 'memoize-one';\nimport plans from '@mssgme/plans';\n\nexport const getPlans = () => {\n    return Object.values(plans);\n};\n\nconst getId = (plan) => plan.id;\nconst isPaid = (plan) => plan.paddle || plan.liqpay;\nconst isUnpaid = (plan) => !plan.paddle && !plan.liqpay;\nconst isDeprecated = (plan) => plan.deprecated;\nconst isPublished = (plan) => plan.published;\n\nexport const getPlanTypes = memoize(() => {\n    const plans = getPlans();\n    const paid = plans.filter(isPaid).map(getId);\n    const unpaid = ['unlimited', ...plans.filter(isUnpaid).map(getId)];\n    const deprecated = plans.filter(isDeprecated).map(getId);\n    const actual = plans.filter(isPublished).map(getId);\n    const upgradeable = ['basic', ...actual];\n\n    return {\n        BASIC: 'basic',\n        UNLIMITED: 'unlimited',\n        UNPAID: unpaid,\n        PAID: paid,\n        UPGRADEABLE: upgradeable,\n        DEPRECATED: deprecated,\n        ACTUAL: actual,\n    };\n});\n\nexport const getPlanIds = () => {\n    return getPlans().map((plan) => plan.id);\n};\n\nexport const getPlanDefinition = (plan) => {\n    return plan && getPlans().find((definition) => definition.id === plan);\n};\n\nexport const getPlanAllowedQuantity = (plan, quantity) => {\n    const definition = getPlanDefinition(plan);\n    const fixed = definition.fixedQuantity;\n\n    if (fixed) {\n        if (Array.isArray(fixed)) {\n            const [min, max] = fixed.map(Number);\n\n            return Math.max(min, Math.min(quantity || 1, max));\n        }\n\n        return +fixed;\n    }\n\n    return quantity;\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nexport function LinkBlank(props) {\n    return <a target=\"_blank\" rel=\"noopener noreferrer\" {...props} />;\n}\n\nLinkBlank.propTypes = {\n    href: PropTypes.string.isRequired,\n};\n","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.08 3.625v12.688c0 .75.629 1.359 1.404 1.359.775 0 1.403-.609 1.403-1.36V3.626c0-.75-.628-1.36-1.403-1.36s-1.403.61-1.403 1.36zm11.226 1.813v12.687c0 .75.629 1.36 1.404 1.36.775 0 1.403-.61 1.403-1.36V5.437c0-.75-.628-1.359-1.403-1.359s-1.404.609-1.404 1.36zm-5.612-3.625V14.5c0 .75.628 1.36 1.403 1.36s1.403-.61 1.403-1.36V1.812c0-.75-.628-1.359-1.403-1.359s-1.403.609-1.403 1.36zM26.52 19.619l-11.845 5.525c-3.956 1.845-8.708.234-10.614-3.599a7.504 7.504 0 01-.787-3.342V8.156c0-.75-.628-1.36-1.403-1.36s-1.403.61-1.403 1.36v10.047c0 1.566.364 3.111 1.065 4.521 2.577 5.187 9.007 7.366 14.36 4.87l11.845-5.525c.698-.326.992-1.139.655-1.815-.336-.676-1.174-.96-1.873-.635z\",\n  fillRule: \"evenodd\"\n});\nfunction SvgLogo(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"-10 -10 49 49\"\n  }, props), _ref);\n}\nexport default SvgLogo;","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3YA81Jdb\",\"no-padding\":\"_2bi22KEb\",\"noPadding\":\"_2bi22KEb\",\"no-header\":\"_25BULrdo\",\"noHeader\":\"_25BULrdo\"};","import PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\n\nimport { cls } from '@mssgme/helpers';\n\nimport styles from './ScrollableBox.scss';\n\n// TODO: remove\nexport const ScrollableBox = ({ nopadding, noHeader, onBottomScroll, ...rest }) => {\n    const handleScroll = useCallback(({ target }) => {\n        if (onBottomScroll && target.scrollHeight - target.scrollTop < target.clientHeight + 1) {\n            onBottomScroll();\n        }\n    }, [onBottomScroll]);\n\n    return (\n        <div\n            onScroll={handleScroll}\n            {...cls([styles.root, nopadding && styles.noPadding, noHeader && styles.noHeader], rest)}\n        />\n    );\n};\n\nScrollableBox.propTypes = {\n    className: PropTypes.string,\n    nopadding: PropTypes.bool,\n    noHeader: PropTypes.bool,\n    onBottomScroll: PropTypes.func,\n};\n","import React, { useCallback } from 'react';\nimport { useFormikContext } from 'formik';\n\nimport { Button } from '../Inputs';\nimport { SubmitButtonProps } from './types';\n\nexport default function SubmitButton({\n    as: Component = Button,\n    isInitialHidden = false,\n    onClick = undefined,\n    ...rest\n}) {\n    const { submitForm, dirty, isSubmitting } = useFormikContext();\n    const isHidden = !dirty && isInitialHidden;\n\n    const handleClick = useCallback((e) => {\n        e.preventDefault();\n        submitForm();\n    });\n\n    if (isHidden) return null;\n\n    return <Component isFetching={isSubmitting} disabled={!dirty} onClick={onClick || handleClick} {...rest} />;\n}\n\nSubmitButton.propTypes = SubmitButtonProps;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport SubmitButton from './SubmitButton';\n\nexport default function SaveButton({ children, ...rest }) {\n    const { t } = useTranslation('ui');\n\n    return (\n        <SubmitButton size=\"small\" noborder btnStyle=\"primary\" isInitialHidden {...rest}>\n            {children || t('button.save')}\n        </SubmitButton>\n    );\n}\n\nSaveButton.propTypes = {\n    children: PropTypes.any,\n};\n\nSaveButton.defaultProps = {\n    children: null,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_3OeczVzx\",\"toggle\":\"_1Kjnejio\",\"wrap\":\"XKD4Z1Pu\",\"toggler\":\"_1_yClYAk\",\"input\":\"_14R5w4Hn\",\"builderInput\":\"_250ODmC7\",\"label\":\"_3xK0PfpQ\",\"checkMarkSquare\":\"iXMUFzqn\",\"checkMark\":\"-qcRZlFE\",\"checked\":\"Khl_0X4S\",\"check\":\"_1m8NEHsv\",\"disabled\":\"_1D49yJ8z\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport styles from './styles.scss';\n\nconst CheckboxIcon = ({ customStyle, checked }) => {\n    const checkMarkColor = customStyle?.backgroundColor || '#FFFFFF';\n    const checkMarkSquareBorderColor = customStyle?.color || (checked ? '#007aff' : '#c7c7cc');\n    const checkMarkSquareFillColor = checked ? (customStyle?.color || '#007aff') : 'transparent';\n\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\">\n            <rect className={styles.checkMarkSquare} x=\"0.75\" y=\"0.75\" width=\"16.5\" height=\"16.5\" rx=\"6\"\n                ry=\"6\" strokeWidth=\"1.5px\"\n                fill={checkMarkSquareFillColor}\n                stroke={checkMarkSquareBorderColor} />\n            <path className={styles.checkMark}\n                d=\"M5.35,8.89a.48.48,0,0,0-.71,0,.57.57,0,0,0,0,.76l2.5,2.69a.48.48,0,0,0,.71,0l5.5-5.92a.57.57,0,0,0,0-.76.48.48,0,0,0-.71,0L7.5,11.2Z\"\n                fill={checkMarkColor}\n                stroke={checkMarkColor} />\n        </svg>\n    );\n};\n\nCheckboxIcon.propTypes = {\n    customStyle: PropTypes.object,\n    checked: PropTypes.bool,\n};\n\nconst Checkbox = ({\n    className,\n    hasError,\n    placeholder,\n    styled,\n    disabled,\n    builderInput,\n    style,\n    checked,\n    ...rest\n}) => (\n    <label\n        className={classNames(\n            className,\n            styles.root,\n            styles[styled],\n            hasError && styles.error,\n            disabled && styles.disabled,\n            builderInput && styles.builderInput,\n            checked && styles.checked\n        )}\n    >\n        <div className={styles.wrap}>\n            <input className={styles.input} type=\"checkbox\" disabled={disabled} checked={checked} {...rest} />\n\n            {styled === 'toggle' ? (\n                <div className={styles.toggler} />\n            ) : (\n                <CheckboxIcon customStyle={style} checked={checked} />\n            )}\n        </div>\n        {placeholder && <div className={styles.label}>{placeholder}</div>}\n    </label>\n);\n\nCheckbox.propTypes = {\n    className: PropTypes.string,\n    placeholder: PropTypes.any,\n    hasError: PropTypes.bool,\n    disabled: PropTypes.bool,\n    styled: PropTypes.oneOf(['default', 'toggle']),\n    builderInput: PropTypes.bool,\n    style: PropTypes.object,\n    checked: PropTypes.bool,\n};\n\nCheckbox.defaultProps = {\n    hasError: false,\n    disabled: false,\n    styled: 'default',\n    builderInput: false,\n    checked: false,\n};\n\nexport default Checkbox;\n","export default __webpack_public_path__ + \"img/insta_share.png\";","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_2J6H9Uai\",\"rootLegacy\":\"HPbLG_dr\",\"overlay\":\"_2U9gQNmk\",\"sheet\":\"_3wOHCpsL\",\"sheetLegacy\":\"_2ZuknIT0\",\"fullWidth\":\"wm_Yk6OG\",\"sheetPane\":\"_2aZksoJt\",\"fullHeight\":\"_3JFIbH1s\",\"hasHeader\":\"_39CX46wL\",\"inverse\":\"_3J48lz6E\",\"sheetyPane\":\"_3hSuDO2G\",\"header\":\"_2THAEngG\",\"padded\":\"_28jl8F8d\",\"content\":\"_1MqPnkuD\"};","import PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport React, { useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { motion } from 'framer-motion';\n\nimport { renderNode } from '../../helpers';\n// import { useAdjustedHeight } from './useAdjustedHeight';\n\nimport styles from './ModalSheet.scss';\n\nconst variants = {\n    root: {\n        visible: { pointerEvents: 'auto' },\n        hidden: { pointerEvents: 'none' },\n    },\n    overlay: {\n        visible: { backgroundColor: 'rgba(0,0,0,.5)' },\n        hidden: { backgroundColor: 'rgba(0,0,0,0)' },\n    },\n    sheet: {\n        visible: { y: 0 },\n        hidden: { y: 'calc(100% + 20px)' },\n    },\n};\n\nconst transitions = {\n    overlay: { ease: 'easeInOut' },\n    sheet: {\n        type: 'spring',\n        damping: 40,\n        stiffness: 400,\n    },\n    sheetPane: {\n        type: 'spring',\n        damping: 40,\n        stiffness: 400,\n    },\n};\n\nexport function ModalSheet({\n    children,\n    isClosing,\n    onClose,\n    onExit,\n    fullWidth = true,\n    fullHeight,\n    inverse,\n    paneMotionProps,\n    sheetPaneProps,\n    ...rest\n}) {\n    const history = useHistory();\n    const handleClosed = useCallback(() => ModalSheet.applyClose(onClose, history), [onClose, history]);\n    // const sheetStyle = useAdjustedHeight(-(fullHeight ? 0 : fullWidth ? 16 : 32));\n\n    return (\n        <motion.div\n            className={cn(styles.root, { [styles.rootLegacy]: __LEGACY__ })}\n            variants={variants.root}\n            initial=\"hidden\"\n            animate={isClosing ? 'hidden' : 'visible'}\n            enter=\"visible\"\n            exit=\"hidden\"\n            {...rest}\n        >\n            <motion.div\n                className={styles.overlay}\n                variants={variants.overlay}\n                transition={transitions.overlay}\n                initial=\"hidden\"\n                animate={isClosing ? 'hidden' : 'visible'}\n                exit=\"hidden\"\n                enter=\"visible\"\n                onClick={handleClosed}\n                onAnimationComplete={isClosing ? onExit : undefined}\n            />\n            <motion.div\n                className={cn({\n                    [styles.sheet]: true,\n                    [styles.fullWidth]: !__LEGACY__ && fullWidth,\n                    [styles.fullHeight]: fullHeight,\n                    [styles.sheetLegacy]: __LEGACY__,\n                })}\n                // style={sheetStyle}\n                variants={variants.sheet}\n                transition={transitions.sheet}\n                initial=\"hidden\"\n                animate={isClosing ? 'hidden' : 'visible'}\n                exit=\"hidden\"\n                enter=\"visible\"\n            >\n                <motion.div\n                    className={cn(styles.sheetPane, inverse && styles.inverse)}\n                    dragMomentum={false}\n                    transition={transitions.sheetPane}\n                    {...paneMotionProps}\n                    {...sheetPaneProps}\n                >\n                    {renderNode(children, handleClosed)}\n                </motion.div>\n            </motion.div>\n        </motion.div>\n    );\n}\n\nModalSheet.propTypes = {\n    children: PropTypes.any.isRequired,\n    isClosing: PropTypes.bool,\n    onClose: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object]),\n    onExit: PropTypes.func,\n    paneMotionProps: PropTypes.object,\n    fullWidth: PropTypes.bool,\n    fullHeight: PropTypes.bool,\n    inverse: PropTypes.bool,\n    sheetPaneProps: PropTypes.object,\n};\n\nModalSheet.applyClose = (onClose, history) => {\n    if (typeof onClose === 'function') {\n        onClose();\n    } else if (onClose) {\n        history.push(onClose);\n    }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"aoRd5sZu\"};","import React from 'react';\nimport PropType from 'prop-types';\nimport BasicAvatar from 'react-user-avatar';\nimport cn from 'classnames';\n\nimport styles from './Avatar.scss';\n\nconst colors = ['#e67e22', '#2ecc71', '#3498db', '#8e44ad', '#e74c3c', '#1abc9c', '#2c3e50'];\n\nAvatar.propTypes = {\n    className: PropType.string,\n    name: PropType.string.isRequired,\n    src: PropType.string,\n    size: PropType.number,\n    fontSize: PropType.number,\n};\n\nAvatar.defaultProps = {\n    size: 36,\n};\n\nexport default function Avatar({ className, name, src, size, fontSize }) {\n    if (!fontSize) {\n        fontSize = Math.round(size * 0.3888);\n    }\n\n    const normalName = name\n        .split(' ')\n        .slice(0, 2)\n        .join(' ');\n\n    return (\n        <BasicAvatar\n            className={cn(styles.root, className)}\n            style={{ fontSize }}\n            size={size}\n            name={normalName}\n            src={src}\n            title={name}\n            colors={colors}\n        />\n    );\n}\n","export default __webpack_public_path__ + \"img/onboarding/categories.svg\";","export default __webpack_public_path__ + \"img/viber2.svg\";","import { useEffect } from 'react';\nimport { useUpdateEffect } from 'react-use';\nimport { useFormik } from 'formik';\nimport { get } from 'lodash';\n\nimport { useFetching } from '@mssgme/hooks';\n\n/**\n * @template {object} FormValues\n * @typedef {(values: FormValues, formik: ReturnType<typeof useFormik>) => void} OnChangeMethod\n * @typedef {(values: FormValues, helpers: FormikHelpers<FormValues>) => (void | Promise<*>)} SubmitMethod\n * @param {import('formik').FormikConfig<Values>} config Config\n * @param {OnChangeMethod} config.onChange Change listener\n * @param {SubmitMethod} config.onSubmit Submit listener\n * @param {string} [config.errorsPrefix] If validation errors, generated by submit listener, would be nested under `errorsPrefix` path\n * @param {boolean} [config.resetOnSuccess=false] Reset form on successful submit\n * @returns {*} Enhanced Formik context\n */\nexport default function useEnhancedFormik({\n    onChange,\n    onSubmit,\n    errorsPrefix,\n    resetOnSuccess = false,\n    ...rest\n}) {\n    const submit = useFetching(onSubmit);\n\n    const formik = useFormik({\n        onSubmit: (...args) => submit.run(...args),\n        ...rest,\n    });\n\n    const validationErrors = errorsPrefix ? get(submit.validationErrors, errorsPrefix) : submit.validationErrors;\n\n    useEffect(() => {\n        if (submit.fulfilled) {\n            formik.setSubmitting(false);\n            formik.setStatus('success');\n            if (resetOnSuccess) formik.resetForm();\n        }\n    }, [submit.fulfilled]);\n\n    useEffect(() => {\n        if (submit.rejected) {\n            // TODO: handle errors in sentry\n            formik.setSubmitting(false);\n            formik.setStatus('failure');\n        }\n    }, [submit.rejected]);\n\n    useEffect(() => formik.setErrors(validationErrors || {}), [validationErrors]);\n\n    // TODO: move into independent component\n    useUpdateEffect(() => void onChange?.(formik.values, formik), [formik.values]);\n\n    return {\n        submit,\n        errorsPrefix,\n        ...formik,\n    };\n}\n","export default __webpack_public_path__ + \"img/insta.svg\";","export default __webpack_public_path__ + \"img/hand.png\";","export class BackendPlugin {\n    constructor() {\n        this.type = 'backend';\n        this.resolvers = {};\n    }\n\n    init(services, backendOptions, i18nextOptions) {\n        this.services = services;\n        this.backendOptions = backendOptions;\n        this.i18nextOptions = i18nextOptions;\n    }\n\n    registerResolver(namespace, resolver) {\n        this.resolvers[namespace] = resolver;\n    }\n\n    async read(language, namespace, callback) {\n        try {\n            const resolver = this.resolvers[namespace];\n\n            if (!resolver) {\n                return callback(new Error(`Localization resolver for namespace \"${namespace}\" not registered`), null);\n            }\n\n            const localization = await resolver(language);\n\n            callback(null, localization.default || localization);\n        } catch (err) {\n            callback(err, null);\n        }\n    }\n\n    create(languages, namespace, key, fallbackValue) {\n        // eslint-disable-next-line no-console\n        console.log(`languages=${languages}, namespace=${namespace}, key=${key}, fallbackValue=${fallbackValue}`);\n    }\n}\n","import { isEmpty, isMatch as _isMatch, omit } from 'lodash';\n\nexport const tidyFilter = (filter) => Object.fromEntries(Object.entries(filter).filter(([, v]) => v ?? (v !== '')));\n\nexport const isMatch = (...args) => (i) => _isMatch(i, ...args);\nexport const isMatchId = (id) => isMatch({ _id: id });\nexport const isExact = (a) => (b) => a === b;\nexport const isSubstring = (a) => {\n    const match = String(a).toLowerCase();\n\n    return (b) => {\n        return String(b).toLowerCase().includes(match);\n    };\n};\n\nconst byEquality = (value, key) => (item) => item[key] === value;\nconst bySubstring = (value, key) => {\n    const cmp = isSubstring(value);\n\n    return (item) => cmp(item[key] || '');\n};\nconst byProps = (props, isEqual = isExact) => (value) => {\n    const cmp = isEqual(value);\n\n    return (item) => props.some((prop) => cmp(item[prop]));\n};\n\nconst mapping = {\n    0: byEquality,\n    1: bySubstring,\n};\nconst match = (items, matchers = {}) => {\n    const reducer = (result, [key, value]) => {\n        const mapKey = matchers[key];\n\n        if (mapKey === -1) {\n            // ignore filter\n            return result;\n        }\n\n        const matcher = typeof mapKey === 'function' ? mapKey : mapping[mapKey] || byEquality;\n        const predicate = matcher(value, key);\n\n        if (!result.every(predicate)) {\n            return result.filter(predicate);\n        }\n\n        return result;\n    };\n\n    return (filters) => Object.entries(filters).reduce(reducer, items);\n};\n\nconst filterWithSpecifier = (filter, invert) => {\n    const pairs = Object.entries(filter);\n\n    return (item) => !!(pairs.every(([key, value]) => !value || item[key] === value) ^ !!invert);\n};\n\nconst filterWithExclusion = (items, specifier) => {\n    if (!specifier) {\n        return items;\n    }\n\n    const filter = specifier.filter;\n    const exclude = specifier.exclude;\n\n    const hasFilter = !!filter;\n    const hasExclusion = !isEmpty(exclude);\n    const query = hasFilter || hasExclusion ? omit(specifier, ['filter', 'exclude']) : specifier;\n\n    if (hasFilter) {\n        items = items.filter(filter);\n    }\n\n    if (hasExclusion) {\n        items = items.filter(filterWithSpecifier(exclude, true));\n    }\n\n    if (!isEmpty(query)) {\n        items = items.filter(filterWithSpecifier(query));\n    }\n\n    return items;\n};\n\nexport default {\n    match,\n    isMatch,\n    isMatchId,\n    isExact,\n    isSubstring,\n    byEquality,\n    bySubstring,\n    byProps,\n    filterWithSpecifier,\n    filterWithExclusion,\n};\n","import PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport { renderNode } from '../../helpers';\nimport { ModalSheet } from './ModalSheet';\nimport { ModalSheetPane } from './ModalSheetPane';\nimport { ModalSheetHeader } from './ModalSheetHeader';\nimport { useControlledModalSheet } from './useControlledModalSheet';\n\nexport const PortalModalSheet = ({\n    title,\n    render,\n    portalTo,\n    padding,\n    onClosing,\n    onClose: onClose2,\n    closeIcon,\n    rightButton,\n    children,\n    className,\n    ...rest\n}) => {\n    const { isClosing, onClose, onExit } = useControlledModalSheet({ onClosing, onClose: onClose2 });\n    const handleTrue = useCallback(() => void onClose(true), [onClose]);\n    const handleFalse = useCallback(() => void onClose(false), [onClose]);\n\n    return createPortal(\n        <ModalSheet isClosing={isClosing} onClose={onClose} onExit={onExit} {...rest}>\n            <ModalSheetPane\n                className={className}\n                padding={padding}\n                header={\n                    (title || closeIcon) && (\n                        <ModalSheetHeader\n                            title={title}\n                            closePath={onClose}\n                            closeIcon={closeIcon}\n                            rightButton={renderNode(rightButton, onClose)}\n                        />\n                    )\n                }\n            >\n                {renderNode(render || children, { handleClose: onClose, handleTrue, handleFalse })}\n            </ModalSheetPane>\n        </ModalSheet>,\n        document.querySelector(portalTo)\n    );\n};\n\nPortalModalSheet.propTypes = {\n    title: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.element]),\n    closeIcon: PropTypes.elementType,\n    rightButton: PropTypes.oneOfType([PropTypes.element, PropTypes.func, PropTypes.bool]),\n    render: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.element]),\n    portalTo: PropTypes.string.isRequired,\n    padding: PropTypes.bool,\n    onClosing: PropTypes.func,\n    onClose: PropTypes.func,\n    paneMotionProps: PropTypes.object,\n};\n\nPortalModalSheet.defaultProps = {\n    padding: true,\n    portalTo: '#mainRoot',\n};\n","import { useState, useCallback } from 'react';\nimport { useMountedState } from 'react-use';\n\nexport const useControlledModalSheet = ({ onClosing, onClose }) => {\n    const [closing, setClosing] = useState(false);\n    const [probing, setProbing] = useState(false);\n    const isMounted = useMountedState();\n\n    const handleClose = useCallback(\n        async (...args) => {\n            if (probing || !isMounted()) {\n                return;\n            }\n\n            if (onClosing) {\n                setProbing(true);\n\n                try {\n                    if (false === (await onClosing(...args))) {\n                        return;\n                    }\n                } finally {\n                    isMounted() && setProbing(false);\n                }\n            }\n\n            setClosing(args);\n        },\n        [probing, onClosing]\n    );\n\n    const handleClosed = useCallback(() => {\n        if (isMounted()) {\n            setClosing(false);\n        }\n\n        onClose && onClose(...(closing || []));\n    }, [closing, onClose]);\n\n    return {\n        isClosing: !!closing && !probing,\n        onClose: handleClose,\n        onExit: handleClosed,\n    };\n};\n","import { useState, useCallback } from 'react';\n\nexport default function useModal(initialState = false) {\n    const [isOpen, setIsOpen] = useState(initialState);\n\n    const toggle = useCallback((e) => {\n        if (typeof e === 'boolean') {\n            setIsOpen(e);\n        } else {\n            e?.preventDefault?.();\n            setIsOpen((prevIsOpen) => !prevIsOpen);\n        }\n    }, []);\n\n    const show = useCallback((e) => {\n        e?.preventDefault?.();\n\n        setIsOpen(true);\n    }, []);\n\n    const hide = useCallback((e) => {\n        e?.preventDefault?.();\n\n        setIsOpen(false);\n    }, []);\n\n    const props = {\n        onClose: hide,\n        isOpen,\n    };\n\n    return { isOpen, toggle, show, hide, props };\n}\n","export default __webpack_public_path__ + \"img/onboarding/analytics_integrations.svg\";","import format from 'string-template';\n\nclass Trans {\n    constructor(locales = {}) {\n        this.locales = locales;\n    }\n\n    extend(locales) {\n        this.locales = Object.assign({}, this.locales, locales);\n    }\n\n    t(key, values) {\n        if (!this.locales[key]) return key;\n        return format(this.locales[key], values);\n    }\n}\n\nexport const trans = new Trans();\nexport const __t = trans.t.bind(trans);\n","export default __webpack_public_path__ + \"img/mc_logo.png\";","export default __webpack_public_path__ + \"img/onboarding/messengers.svg\";","export default (url) => {\n    try {\n        return url && new URL(url);\n    } catch (err) {\n        return null;\n    }\n};\n","export const renderNode = (node, arg) => {\n    if (node && typeof node === 'function') {\n        return node(arg);\n    }\n\n    return node || null;\n};\n","export default __webpack_public_path__ + \"img/messengers/icon-facebook.svg\";","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.01 5l3.78-3.78A.714.714 0 108.78.21L5 3.99 1.22.21A.714.714 0 00.21 1.22L3.99 5 .21 8.78a.714.714 0 001.01 1.01L5 6.01l3.78 3.78a.714.714 0 101.01-1.01L6.01 5z\",\n  fill: \"currentColor\",\n  fillRule: \"evenodd\"\n});\nfunction SvgClose(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 10 10\"\n  }, props), _ref);\n}\nexport default SvgClose;","export default __webpack_public_path__ + \"img/messengers/icon-whatsapp.svg\";","export default __webpack_public_path__ + \"img/messengers/icon-telegram.svg\";","export default __webpack_public_path__ + \"img/telegram.png\";","export default __webpack_public_path__ + \"img/icon_share_three.png\";","export default __webpack_public_path__ + \"img/woman.png\";","export default __webpack_public_path__ + \"img/onboarding/cover.svg\";","export default __webpack_public_path__ + \"img/onboarding/googlepay.png\";","import deepEqual from 'fast-deep-equal';\nimport { useEffect, useRef, useState } from 'react';\nimport { EventEmitter } from 'events';\n\nimport { checkRestrictions } from '@mssgme/shared';\nimport { useWorkspace } from './useWorkspace';\nimport { useEventCallback } from './useEventCallback';\n\n// TODO: refactor, use redux, context or useSyncExternalStore instead of EventEmitter\nexport function createHooks() {\n    const ee = new EventEmitter();\n\n    ee.setMaxListeners(100);\n\n    const show = (...args) => ee.emit('show', ...args);\n    const hide = () => ee.emit('hide');\n\n    function useWarning() {\n        const [state, setState] = useState({ isPresented: false, warning: null });\n\n        useEffect(() => {\n            const onShow = (warning) => setState({ isPresented: true, warning });\n            const onHide = () => setState((prevState) => ({ ...prevState, isPresented: false }));\n\n            ee.on('show', onShow);\n            ee.on('hide', onHide);\n\n            return () => {\n                ee.removeListener('show', onShow);\n                ee.removeListener('hide', onHide);\n            };\n        }, []);\n\n        return {\n            ...state,\n            show,\n            hide,\n        };\n    }\n\n    function useRestriction(rule, subject, context) {\n        const workspace = useWorkspace();\n        const ref = useRef(null);\n        const [warning, setWarning] = useState(null);\n\n        const checkRule = useEventCallback((workspace, rule, subject, context) => {\n            if (rule) {\n                setWarning(checkRestrictions({ workspace, ...context }, rule, subject));\n            } else if (warning) {\n                setWarning(null);\n            }\n        });\n        const showWarning = useEventCallback((w) => show(w || warning));\n        const clearWarning = useEventCallback(() => setWarning(null));\n        const handleBlockedEvent = useEventCallback((e) => {\n            if (e?.preventDefault) {\n                e.preventDefault();\n                e.stopPropagation();\n            }\n\n            show(warning);\n        });\n\n        const isChanged = !(\n            ref.current &&\n            workspace === ref.current[0] &&\n            rule === ref.current[1] &&\n            deepEqual(subject, ref.current[2]) &&\n            deepEqual(context, ref.current[3])\n        );\n\n        if (isChanged) {\n            ref.current = [workspace, rule, subject, context];\n        }\n\n        // useDeepEqualEffect from 'react-use' spits warnings on non-object dependencies comparison\n        useEffect(() => checkRule(...ref.current), ref.current);\n\n        return {\n            warning,\n            hasWarning: !!warning,\n            showWarning,\n            clearWarning,\n            hideWarning: hide,\n            handleBlockedEvent: warning ? handleBlockedEvent : undefined,\n        };\n    }\n\n    return { useWarning, useRestriction };\n}\n\nconst { useWarning, useRestriction } = createHooks();\n\nexport { useWarning, useRestriction };\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"_1qCNo7At\",\"disabled\":\"_1lrfYPcp\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { cls } from '@mssgme/helpers';\nimport { getProps } from './PureButton';\n\nimport styles from './IconButton.scss';\n\nIconButton.propTypes = {\n    as: PropTypes.elementType,\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n};\n\nIconButton.defaultProps = {\n    as: 'button',\n};\n\nexport default function IconButton({ as: Component, children, disabled, ...rest }) {\n    return (\n        <Component {...cls([styles.button, disabled && styles.disabled], getProps(Component, rest))}>\n            {children}\n        </Component>\n    );\n}\n","export default __webpack_public_path__ + \"img/onboarding/support.svg\";","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M5.6 7L.3 12.3c-.4.4-.4 1 0 1.4.4.4 1 .4 1.4 0l6-6c.4-.4.4-1 0-1.4l-6-6C1.3-.1.7-.1.3.3s-.4 1 0 1.4L5.6 7z\"\n});\nfunction SvgArrowRight(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 8,\n    height: 14\n  }, props), _ref);\n}\nexport default SvgArrowRight;","export default __webpack_public_path__ + \"img/icon_we_use_mssgme_ru.svg\";","export default __webpack_public_path__ + \"img/robot.png\";","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"j05O8Kqk\",\"root\":\"_1T-3Pm-I\",\"counter\":\"_3JWkk3hT\",\"error\":\"_1v3R6Nod\",\"padding-right\":\"KVOrN3Dt\",\"paddingRight\":\"KVOrN3Dt\",\"builderInput\":\"_1lP6I7Pv\",\"normal\":\"iJibajlA\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport TextareaAutosize from 'react-textarea-autosize';\n\nimport styles from './styles.scss';\n\nexport default function Textarea({\n    className,\n    hasError,\n    maxLength,\n    value,\n    size,\n    builderInput = false,\n    minRows = 2,\n    maxRows = 5,\n    ...rest\n}) {\n    const _className = classNames(styles.root, className, {\n        [styles.error]: hasError,\n        [styles.paddingRight]: maxLength,\n        [styles[size]]: !!size,\n        [styles.builderInput]: builderInput,\n    });\n    const _value = value || '';\n\n    return (\n        <div className={styles.container} style={{ color: rest.style?.color }}>\n            <TextareaAutosize\n                value={_value}\n                className={_className}\n                maxLength={maxLength}\n                minRows={minRows}\n                maxRows={maxRows}\n                {...rest}\n            />\n            {maxLength && <span className={styles.counter}>{maxLength - _value.trim().length}</span>}\n        </div>\n    );\n}\n\nTextarea.propTypes = {\n    className: PropTypes.string,\n    hasError: PropTypes.bool,\n    maxLength: PropTypes.number,\n    minRows: PropTypes.number,\n    maxRows: PropTypes.number,\n    size: PropTypes.oneOf(['normal']),\n    value: PropTypes.string,\n    builderInput: PropTypes.bool,\n};\n","class NavigationObserver {\n    constructor(uid, history, process) {\n        this.uid = uid;\n        this.history = history;\n        this.process = process;\n    }\n\n    check(location, action) {\n        if (!this.forbid || this.forbid(location, action, this.history.location)) {\n            return false;\n        }\n    }\n\n    when(filter) {\n        this.forbid = filter;\n\n        return this;\n    }\n}\n\nclass NavigationBlocker {\n    off = null;\n\n    constructor() {\n        this.observers = {};\n    }\n\n    subscribe(history, uid, observer) {\n        if (!this.off) {\n            this.off = history.block((location, action) => {\n                for (const [uid, observer] of Object.entries(this.observers)) {\n                    if (false === observer.check(location, action)) {\n                        return uid;\n                    }\n                }\n            });\n        }\n\n        return (this.observers[uid] = new NavigationObserver(uid, history, observer));\n    }\n\n    unsubscribe(uid) {\n        const observer = this.observers[uid];\n\n        if (observer) {\n            delete this.observers[uid];\n\n            if (!Object.keys(this.observers).length) {\n                this.off();\n                this.off = null;\n            }\n        }\n    }\n\n    notify(uid, callback) {\n        const observer = this.observers[uid];\n\n        if (observer) {\n            observer.process(callback);\n        }\n\n        return !!observer;\n    }\n}\n\nexport default new NavigationBlocker();\n","import { useCallback, useMemo, useReducer, useRef } from 'react';\nimport { useMountedState } from 'react-use';\nimport { get } from 'lodash';\n\nimport { ValidationError, ForbiddenError } from '@mssgme/api-client';\nimport { useWarning } from './useRestrictions';\n\nlet lastRequestId = 0;\n\nconst defaultState = {\n    status: 'idle',\n    error: null,\n    result: null,\n};\n\nconst initialState = {\n    ...defaultState,\n    requestId: -1,\n    requestCount: 0,\n};\n\nfunction reducer(state, { type, requestId, ...rest }) {\n    if (state.requestId > requestId) {\n        return state;\n    }\n\n    switch (type) {\n        case 'pending':\n            return { ...state, ...defaultState, requestId, status: 'pending', requestCount: state.requestCount + 1 };\n        case 'fulfilled':\n            return { ...state, ...defaultState, requestId, status: 'fulfilled', result: rest.result };\n        case 'rejected':\n            return { ...state, ...defaultState, requestId, status: 'rejected', error: rest.error };\n        default:\n            throw new Error();\n    }\n}\n\n/**\n * @template {*} R\n * @template {function(): Promise<R>} T\n * @param {T} fn Traced callback\n * @param {*[]} deps Callback dependencies\n * @returns {{\n *  pending: true,\n *  run: T,\n *  status: 'pending',\n * } | {\n *  fulfilled: true,\n *  result: R,\n *  run: T,\n *  status: 'fulfilled',\n * } | {\n *  rejected: true,\n *  error: Error,\n *  validationErrors: *,\n *  getValidationError: function(string): *,\n *  run: T,\n *  status: 'rejected',\n * } | {\n *  idle: true,\n *  run: T,\n *  status: 'idle',\n * }} Fetcher descriptor\n */\nexport function useFetching(fn, deps = []) {\n    const ref = useRef(fn);\n    const isMounted = useMountedState();\n    const [state, dispatch] = useReducer(reducer, initialState);\n    const { show } = useWarning();\n\n    ref.current = fn;\n\n    const run = useCallback(async (...args) => {\n        function safeDispatch(...args) {\n            if (isMounted()) {\n                dispatch(...args);\n            }\n        }\n\n        const requestId = lastRequestId++;\n\n        safeDispatch({ type: 'pending', requestId });\n\n        try {\n            const result = await ref.current(...args);\n            safeDispatch({ type: 'fulfilled', requestId, result });\n        } catch (error) {\n            safeDispatch({ type: 'rejected', requestId, error });\n\n            // can be handled explicitly in business logic, otherwise handle automatically\n            if (ForbiddenError.isPermissionBlock(error)) {\n                show(error);\n            }\n        }\n    }, deps);\n\n    return useMemo(() => {\n        const validationErrors = ValidationError.is(state.error) ? state.error.errors : {};\n        const getValidationError = (name) => get(validationErrors, name);\n\n        return {\n            ...state,\n            validationErrors,\n            getValidationError,\n            run,\n            idle: state.status === 'idle',\n            rejected: state.status === 'rejected',\n            fulfilled: state.status === 'fulfilled',\n            pending: state.status === 'pending',\n        };\n    }, [state, run]);\n}\n","export class AccessRequestError extends Error {\n    constructor(message, code, plan, permission, target) {\n        super(message);\n        this.status = 403;\n        this.code = code;\n        this.plan = plan;\n        this.permission = permission;\n        this.target = target;\n    }\n}\n","import { isPaid } from './isPaid';\nimport { AccessRequestError } from './permissions';\n\nexport class AccessRequestErrorBuilder {\n    constructor(permissions, context) {\n        this.context = context;\n        this.permissions = permissions;\n        this.billing = this.workspace.billing || {};\n        this.plan = this.billing.plan;\n        this.assumePaid = isPaid(this.billing, context.allowPastDue);\n        this.subject = null;\n        this.permission = null;\n    }\n\n    get workspace() {\n        return this.context.workspace || this.context;\n    }\n\n    setPermission(permission) {\n        this.permission = permission;\n\n        return this;\n    }\n\n    setSubject(subject) {\n        this.subject = subject;\n\n        return this;\n    }\n\n    build() {\n        const { context, plan, permission, subject } = this;\n        const paid = this.assumePaid || this.permissions.isGranted(context, permission, subject, 'basic');\n        const granted = this.permissions.isGranted(context, permission, subject);\n        const upgrade = granted ? plan : this.permissions.lookupUpgrade(context, permission, subject);\n\n        if (granted && paid) {\n            return null;\n        }\n\n        const shouldPay = granted && !paid;\n\n        if (shouldPay) {\n            return new AccessRequestError(`Pay for ${plan}`, 'unpaid', plan, permission);\n        }\n\n        if (upgrade) {\n            return new AccessRequestError(`Upgrade to ${upgrade}`, 'upgrade', plan, permission, upgrade);\n        }\n\n        return new AccessRequestError('Access forbidden', 'forbidden', plan, permission);\n    }\n}\n","import { memoize, get } from 'lodash';\n\nimport { toId } from '../../helpers';\n\nexport const ACTION_CREATE = 'create';\nexport const ACTION_DELETE = 'delete';\nexport const ACTION_VIEW = 'view';\nexport const ACTION_EDIT = 'edit';\nexport const ACTION_ANY = '?';\nexport const ACTION_EVERY = '*';\nexport const ACTION_ALL = [ACTION_CREATE, ACTION_VIEW, ACTION_EDIT, ACTION_DELETE];\n\nexport const ACTION_IDS = [ACTION_CREATE, ACTION_VIEW, ACTION_EDIT, ACTION_DELETE, ACTION_EVERY, ACTION_ANY];\n\nconst actionsSet = new Set(ACTION_IDS);\n\n/**\n * @param {string} permission Permission string to parse\n * @returns {{resource: string, actions: string[]}} Parsed resource and actions list\n */\nexport const parse = memoize((permission) => {\n    const [resource, rawActions = ACTION_EVERY] = permission.split(':');\n    const actions = new Set();\n\n    if (rawActions) {\n        for (const action of rawActions.split(',')) {\n            if (action === ACTION_EVERY) {\n                for (const name of ACTION_ALL) {\n                    actions.add(name);\n                }\n            } else if (actionsSet.has(action)) {\n                actions.add(action);\n            } else {\n                throw new Error(`Unknown action \"${action}\"`);\n            }\n        }\n    } else {\n        for (const name of ACTION_ALL) {\n            actions.add(name);\n        }\n    }\n\n    return {\n        resource,\n        actions: [...actions],\n    };\n});\n\nexport class AccessPermissionRequest {\n    constructor(context, subject, role, resourceOrPermission, actions) {\n        this.context = context;\n        this.workspace = context.workspace || context;\n        this.subject = subject;\n        this.role = role || this.workspace?.billing?.plan;\n\n        if (actions) {\n            this.resource = resourceOrPermission;\n            this.actions = actions;\n        } else {\n            this.fill(resourceOrPermission);\n        }\n    }\n\n    get description() {\n        return `[@${this.role} ${this.resource}${this.isEvery() ? '' : ':' + this.actions.join(',')}]${\n            this.subject ? ' @ ' + JSON.stringify(this.subject) : ''\n        }`;\n    }\n\n    isBy(user) {\n        return toId(this.workspace?.owner) === toId(user);\n    }\n\n    get(path, def) {\n        return get(this.context, path, def);\n    }\n\n    /**\n     * @param {string} permission Permission string to parse\n     * @returns {this} `this`\n     */\n    fill(permission) {\n        return Object.assign(this, parse(permission));\n    }\n\n    /**\n     * @param {string} permission Permission string to parse\n     * @returns {boolean} `True` if this request matches `permission`\n     */\n    match(permission) {\n        const { resource, actions } = parse(permission);\n\n        return this.on(resource) && this.isEvery(actions);\n    }\n\n    /**\n     * @param {string[]} actions Actions list\n     * @returns {AccessPermissionRequest} Copy of this request, but matching only provided `actions`\n     */\n    only(actions) {\n        return new AccessPermissionRequest(this.workspace, this.subject, this.role, this.resource, actions);\n    }\n\n    on(resource) {\n        return this.resource === resource;\n    }\n\n    includes(action) {\n        return this.actions.includes(action);\n    }\n\n    is(action) {\n        return this.actions.length === 1 && this.actions[0] === action;\n    }\n\n    isAny() {\n        return this.actions.includes(ACTION_ANY);\n    }\n\n    isEvery(actions = ACTION_ALL) {\n        return actions.every((action) => this.actions.includes(action));\n    }\n}\n","import { versionCheck } from '../../../helpers';\n\nexport class Voter {\n    /**\n     * @param {AccessPermissionRequest} request ACL request\n     * @returns {boolean} Truthy if this voter supports this request\n     */\n    // eslint-disable-next-line no-unused-vars\n    supports(request) {\n        return false;\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request ACL request\n     * @param {string} version Semver version matcher (e.g. `'>2.0'`, `'^5.1.x'`, `'~2.11||<3.1.0-alpha.1'`)\n     * @returns {boolean} Returns <code>true</code> if semver `version` is matches request.\n     */\n    supportsVersion(request, version) {\n        return versionCheck(request.workspace.projectVersion, version);\n    }\n\n    // eslint-disable-next-line jsdoc/require-returns-check\n    /**\n     * @param {AccessPermissionRequest} request ACL request\n     * @returns {boolean|undefined|void} Returns <code>undefined</code> if this voter abstains from decision,\n     * <code>true</code> if access should be granted, <code>false</code> - if denied.\n     */\n    // eslint-disable-next-line no-unused-vars\n    vote(request) {}\n}\n","import { ACTION_CREATE, ACTION_EDIT } from '../../request';\nimport { Voter } from '../voter';\n\nexport class WebsitesVoter extends Voter {\n    static getLimitByRole(role) {\n        switch (role) {\n            case 'basic':\n            case 'start400':\n            case 'pro400':\n                return 1;\n            case 'business400':\n                return 10;\n            default:\n                return 3;\n        }\n    }\n\n    supports(request) {\n        return request.resource === 'websites';\n    }\n\n    vote(request) {\n        if (request.includes(ACTION_CREATE) && !this.canCreate(request)) {\n            return false;\n        }\n\n        if (request.role === 'basic') {\n            if (request.includes(ACTION_EDIT) && !this.canEditBasic(request)) {\n                return false;\n            }\n        }\n\n        //\n        return true;\n    }\n\n    canCreate(request) {\n        const websitesCount = request.workspace.quantities.websites || 0;\n        const roleLimit = WebsitesVoter.getLimitByRole(request.role);\n\n        return websitesCount < roleLimit;\n    }\n\n    canEditBasic(request) {\n        const values = request.subject;\n\n        if (!values) {\n            return true;\n        }\n\n        // if (!values.branding) {\n        //     return false;\n        // }\n\n        // if (values.seo?.title || values.seo?.description) {\n        //     return false;\n        // }\n\n        // if (values.tracking?.google || values.tracking?.facebook || values.tracking?.yandex) {\n        //     return false;\n        // }\n\n        //\n        return true;\n    }\n}\n","import { ACTION_CREATE } from '../../request';\nimport { Voter } from '../voter';\n\nexport class PagesVoter extends Voter {\n    static getLimitByRole(role) {\n        switch (role) {\n            case 'basic':\n                return 1;\n            case 'business400':\n                return 50;\n            case 'start400':\n            case 'pro400':\n            default:\n                return 10;\n        }\n    }\n\n    supports(request) {\n        return request.resource === 'pages';\n    }\n\n    vote(request) {\n        if (request.includes(ACTION_CREATE) && !this.canCreate(request)) {\n            return false;\n        }\n    }\n\n    canCreate(request) {\n        const pagesCount = request.get('website.counters.pages', 0);\n        const roleLimit = PagesVoter.getLimitByRole(request.role);\n\n        return pagesCount < roleLimit;\n    }\n}\n","import { ACTION_CREATE, ACTION_EDIT } from '../../request';\nimport { Voter } from '../voter';\n\nexport class PageBlocksVoter extends Voter {\n    /**\n     * @param {ACLVoter} acl ACL voter instance\n     */\n    constructor(acl) {\n        super();\n        this.acl = acl;\n    }\n\n    supports(request) {\n        return request.resource === 'page-blocks';\n    }\n\n    vote(request) {\n        if ((request.includes(ACTION_CREATE) || request.includes(ACTION_EDIT)) && !this.canEdit(request)) {\n            return false;\n        }\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request Request in question\n     * @returns {boolean} True if request is granted\n     */\n    canEdit(request) {\n        if (!request.subject) {\n            return true;\n        }\n\n        const kind = request.subject.kind;\n\n        return this.acl.grantsInArrayPayload(request, (kindOrDescriptor) => {\n            if (typeof kindOrDescriptor === 'string') {\n                return kindOrDescriptor === kind;\n            }\n\n            if (kindOrDescriptor.kind !== kind) {\n                return false;\n            }\n\n            return this.supportsVersion(request, kindOrDescriptor.version);\n        });\n    }\n}\n","import { ACTION_CREATE, ACTION_VIEW, ACTION_EDIT, ACTION_DELETE, ACTION_ANY, ACTION_ALL } from '../request';\n\nconst TOTAL_ACTIONS = ACTION_ALL.length;\nconst ALL_ACCESS = {\n    [ACTION_CREATE]: true,\n    [ACTION_VIEW]: true,\n    [ACTION_EDIT]: true,\n    [ACTION_DELETE]: true,\n};\n\nexport class Resource {\n    /**\n     * @param {string} name\n     * @param {{[string]: boolean}} access\n     */\n    constructor(name, access) {\n        this.name = name;\n        this.access = access || { ...ALL_ACCESS };\n        this._any = null;\n    }\n\n    /**\n     * @param {Resource} resource\n     * @returns {this}\n     */\n    merge(resource) {\n        Object.assign(this.access, resource.access);\n        this._any = null;\n\n        return this;\n    }\n\n    get grantsAny() {\n        if (this._any === null) {\n            let total = 0;\n\n            for (const value of Object.values(this.access)) {\n                total++;\n\n                if (value) {\n                    this._any = true;\n\n                    return true;\n                }\n            }\n\n            this._any = total === TOTAL_ACTIONS ? false : undefined;\n        }\n\n        return this._any;\n    }\n\n    /**\n     * @param {string} action\n     * @returns {boolean}\n     */\n    isGranted(action) {\n        return action === ACTION_ANY ? this.grantsAny : this.access[action];\n    }\n}\n","import { ACTION_ANY } from '../request';\n\nexport class Role {\n    /**\n     * @param {string} name\n     * @param {Role|null} [parent]\n     */\n    constructor(name, parent) {\n        this.name = name;\n        this.parent = parent;\n        this.resources = [];\n    }\n\n    /**\n     * @returns {string[]}\n     */\n    getResourceIds() {\n        return this.resources.map((resource) => resource.name);\n    }\n\n    /**\n     * @param {Resource} resource\n     * @returns {Resource}\n     */\n    addResource(resource) {\n        const existing = this.getResource(resource.name);\n\n        if (existing) {\n            return existing.merge(resource);\n        }\n\n        this.resources.push(resource);\n\n        return resource;\n    }\n\n    /**\n     * @param {string} name\n     * @returns {Resource}\n     */\n    getResource(name) {\n        return this.resources.find((resource) => resource.name === name);\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request Permission request descriptor\n     * @param {boolean} [strict] Check only this role (no parent role checks)\n     * @returns {boolean} True if granted\n     */\n    isGranted(request, strict = false) {\n        let examine;\n        const resource = this.getResource(request.resource);\n\n        if (resource) {\n            let granted;\n\n            if (request.isAny()) {\n                granted = resource.isGranted(ACTION_ANY);\n\n                if (granted !== undefined) {\n                    return granted;\n                }\n            } else {\n                examine = new Set(request.actions);\n\n                for (const action of request.actions) {\n                    const got = resource.isGranted(action);\n\n                    if (got === false) {\n                        return false;\n                    }\n\n                    if (got === true) {\n                        examine.delete(action);\n                    }\n                }\n\n                if (examine.size) {\n                    request = request.only([...examine]);\n                } else {\n                    return true;\n                }\n            }\n        }\n\n        return (!strict && this.parent?.isGranted(request)) || false;\n    }\n}\n","export class ACL {\n    constructor() {\n        this.roles = [];\n    }\n\n    /**\n     * @returns {string[]}\n     */\n    getRoleIds() {\n        return this.roles.map((role) => role.name);\n    }\n\n    /**\n     * @returns {string[]}\n     */\n    getRuleIds() {\n        return [...new Set([].concat(...this.roles.map((role) => role.getResourceIds())))];\n    }\n\n    /**\n     * @param {Role} role\n     * @returns {Role}\n     */\n    addRole(role) {\n        if (this.getRole(role.name)) {\n            throw new Error(`Multiple definitions of \"${role.name}\" role`);\n        }\n\n        this.roles.push(role);\n\n        return role;\n    }\n\n    /**\n     * @param {string} name\n     * @returns {Role}\n     */\n    getRole(name) {\n        return this.roles.find((layer) => layer.name === name);\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    isGranted(request) {\n        const role = this.getRole(request.role);\n\n        if (!role) {\n            return false;\n        }\n\n        return role.isGranted(request);\n    }\n}\n","import { parse } from '../request';\nimport { Resource } from './resource';\nimport { Role } from './role';\nimport { ACL } from './acl';\n\nconst parseRuleDefinition = (value, granted) => {\n    if (typeof value === 'object') {\n        const { rule, ...payload } = value;\n        const parsed = parseRuleDefinition(rule, granted);\n\n        parsed.payload = payload;\n\n        return parsed;\n    }\n\n    const { resource, actions } = parse(value);\n\n    return new Resource(\n        resource,\n        actions.reduce((acc, action) => ((acc[action] = granted), acc), {})\n    );\n};\n\nexport const loadACL = (definitions) => {\n    const acl = new ACL();\n\n    for (const { id, rules } of definitions) {\n        const { extend, grant, reject } = rules;\n        const parent = extend && acl.getRole(extend);\n        const role = acl.addRole(new Role(id, parent));\n\n        for (const [rules, granted] of [[grant, true], [reject, false]]) {\n            if (rules) {\n                for (const rule of rules) {\n                    role.addResource(parseRuleDefinition(rule, granted));\n                }\n            }\n        }\n    }\n\n    return acl;\n};\n","import { getPlans } from '../../plans';\n\nimport { Permissions } from './permissions';\nimport {\n    ACLVoter,\n    CollectionsVoter,\n    MessengersVoter,\n    PageBlocksPublishVoter,\n    PageBlocksVoter,\n    PageStylingVoter,\n    PagesVoter,\n    PagePublishVoter,\n    PageTemplatesVoter,\n    PageThemesVoter,\n    ProductsVoter,\n    SubscriptionFormFieldVoter,\n    UnlimitedPlanVoter,\n    VersionVoter,\n    WebsitesVoter,\n} from './voters/impl';\nimport { loadACL } from './acl/loader';\n\nexport { AccessPermissionRequest } from './request';\nexport { AccessRequestError } from './requestError';\nexport { WebsitesVoter };\n\nexport const aclVoter = new ACLVoter(() => loadACL(getPlans()));\n\nexport const permissions = new Permissions(aclVoter, [\n    new UnlimitedPlanVoter(),\n    new VersionVoter({\n        'ru-integrations': '<5.14',\n    }),\n    // new LinksVoter(),\n    // new DesignVoter(),\n    // new ProfileVoter(),\n    // new ReviewsVoter(),\n    new CollectionsVoter(),\n    new MessengersVoter(),\n    new ProductsVoter(),\n    new WebsitesVoter(),\n    new PagesVoter(),\n    new PagePublishVoter(),\n    new PageTemplatesVoter(),\n    new PageThemesVoter(aclVoter),\n    new PageStylingVoter(aclVoter),\n    new PageBlocksVoter(aclVoter),\n    new PageBlocksPublishVoter(aclVoter),\n    new SubscriptionFormFieldVoter(),\n]);\n","import { Voter } from '../voter';\n\nexport class ACLVoter extends Voter {\n    constructor(loader) {\n        super();\n        this.loader = loader;\n    }\n\n    /**\n     * @returns {ACL} Loaded ACL table\n     */\n    get acl() {\n        if (!this._acl) {\n            this._acl = this.loader();\n        }\n\n        return this._acl;\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request Request in question\n     * @returns {boolean} True if request supported by this voter\n     */\n    // eslint-disable-next-line no-unused-vars\n    supports(request) {\n        return true;\n    }\n\n    vote(request) {\n        return this.acl.isGranted(request);\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request Request in question\n     * @param {string|function(*): boolean} matches Permission matching predicate\n     * @returns {boolean} <code>True</code> - if grant status given, else <code>False</code>\n     */\n    grantsInArrayPayload(request, matches) {\n        const predicate = typeof matches === 'function' ? matches : (item) => item === matches;\n        let role = this.acl.getRole(request.role);\n\n        while (role) {\n            const resource = role.getResource(request.resource);\n\n            if (resource) {\n                if (resource.payload) {\n                    const { grant, reject } = resource.payload;\n\n                    if (grant && (grant === '*' || grant.some(predicate))) {\n                        return true;\n                    }\n\n                    if (reject && (reject === '*' || reject.some(predicate))) {\n                        return false;\n                    }\n                } else if (role.isGranted(request, true)) {\n                    return true;\n                }\n            }\n\n            role = role.parent;\n        }\n\n        return false;\n    }\n}\n","import { getPlanTypes } from '../../plans';\n\nimport { AccessPermissionRequest } from './request';\nimport { Voters } from './voters';\n\nexport class Permissions extends Voters {\n    constructor(aclVoter, voters) {\n        super([...voters, aclVoter]);\n        this.aclVoter = aclVoter;\n    }\n\n    get acl() {\n        return this.aclVoter.acl;\n    }\n\n    /**\n     *  Query the permissions for the specified workspace member to perform actions, possibly against specific target.\n     *\n     * @param {* | { billing: * }} context Queried workspace\n     * @param {string} permission Permission string (resource[:(action|?|*)])\n     * @param {*} [subject] Target, against which the query is executed\n     * @param {string} [role] User role (tariff plan)\n     * @returns {boolean} Result of querying\n     */\n    isGranted(context, permission, subject, role) {\n        return this.vote(new AccessPermissionRequest(context, subject, role, permission));\n    }\n\n    /**\n     * @param {* | { billing: * }} context Queried workspace entity descriptor\n     * @param {string} permission Permission string (resource[:(action|?|*)])\n     * @param {*} [subject] Target, against which the query is executed\n     * @returns {string|void} Plan ID if upgrade found\n     */\n    lookupUpgrade(context, permission, subject) {\n        const { UPGRADEABLE } = getPlanTypes();\n        const roles = this.acl.getRoleIds();\n        const workspace = context.workspace || context;\n        const plan = workspace.billing?.plan;\n        let current = true;\n        let index = roles.indexOf(plan);\n        let role;\n\n        while ((role = roles[index++])) {\n            if (!(current || UPGRADEABLE.includes(role))) {\n                continue;\n            }\n\n            const granted = this.vote(new AccessPermissionRequest(context, subject, role, permission));\n\n            if (granted) {\n                return role;\n            }\n\n            current = false;\n        }\n    }\n}\n","/**\n * @property {Voter[]} voters\n */\nexport class Voters {\n    constructor(voters = []) {\n        this.voters = voters;\n    }\n\n    /**\n     * @param {Voter} voter\n     */\n    addVoter(voter) {\n        this.voters.push(voter);\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    vote(request) {\n        for (const voter of this.voters) {\n            if (!voter.supports(request)) {\n                continue;\n            }\n\n            const granted = voter.vote(request);\n\n            if (granted !== undefined) {\n                return granted;\n            }\n        }\n\n        return true;\n    }\n}\n","import { Voter } from '../voter';\n\nexport class UnlimitedPlanVoter extends Voter {\n    supports(request) {\n        return request.role === 'unlimited' && request.resource !== 'page-templates';\n    }\n\n    vote() {\n        return true;\n    }\n}\n","import { Voter } from '../voter';\n\nexport class VersionVoter extends Voter {\n    constructor(constraints) {\n        super();\n        this.constraints = constraints;\n    }\n\n    supports(request) {\n        return !!this.constraints[request.resource];\n    }\n\n    vote(request) {\n        if (!this.supportsVersion(request, this.constraints[request.resource])) {\n            return false;\n        }\n\n        // returning undefined here means 'abstain' from voting\n        // so, we restrict permission if version check fails by returning 'false',\n        // and 'abstain' from voting (essentially allowing the other voters to decide) otherwise by returning 'undefined'\n    }\n}\n","import { ACTION_CREATE, ACTION_EDIT, ACTION_DELETE } from '../../request';\nimport { Voter } from '../voter';\n\nexport class CollectionsVoter extends Voter {\n    supports(request) {\n        return request.resource === 'collections';\n    }\n\n    vote(request) {\n        if (request.role === 'basic') {\n            if (request.includes(ACTION_CREATE)) {\n                return false;\n            }\n\n            if (request.includes(ACTION_EDIT)) {\n                return false;\n            }\n        }\n\n        if (request.includes(ACTION_EDIT)) {\n            if (!this.canEdit(request)) {\n                return false;\n            }\n        }\n\n        if (request.includes(ACTION_DELETE)) {\n            if (!this.canDelete(request)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    canEdit(request) {\n        return request.subject && !request.subject.default;\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    canDelete(request) {\n        return !request.subject.default;\n    }\n}\n","import { ACTION_CREATE, ACTION_EDIT } from '../../request';\nimport { Voter } from '../voter';\n\nexport class MessengersVoter extends Voter {\n    supports(request) {\n        return request.role === 'basic' && request.resource === 'messengers' && this.supportsVersion(request, '>=2.11');\n    }\n\n    vote(request) {\n        if (request.includes(ACTION_CREATE)) {\n            if (!this.canEdit(request)) {\n                return false;\n            }\n        }\n\n        if (request.includes(ACTION_EDIT)) {\n            if (!this.canEdit(request)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    canEdit({ workspace, subject }) {\n        if (!subject) {\n            return true;\n        }\n\n        const enabled = workspace.card.messengers.find((m) => m.enabled);\n\n        return !(enabled && enabled.messenger !== subject.messenger);\n    }\n}\n","import { ACTION_CREATE, ACTION_EDIT } from '../../request';\nimport { Voter } from '../voter';\n\nexport class ProductsVoter extends Voter {\n    supports(request) {\n        return request.role === 'basic' && request.resource === 'products';\n    }\n\n    vote(request) {\n        if (request.includes(ACTION_CREATE)) {\n            if (!this.canCreate(request)) {\n                return false;\n            }\n        }\n\n        if (request.includes(ACTION_EDIT)) {\n            if (!this.canEdit(request)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    canCreate(request) {\n        return this.canEdit(request);\n    }\n\n    canEdit({ subject, workspace }) {\n        if (subject?.slug) {\n            return true;\n        }\n\n        return workspace.card.products.count < 10;\n    }\n}\n","import { PagesVoter } from './pages';\nimport { toId } from '../../../../helpers';\n\nexport class PagePublishVoter extends PagesVoter {\n    supports(request) {\n        return request.resource === 'page-publish';\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    vote(request) {\n        const roleLimit = PagesVoter.getLimitByRole(request.role);\n        const pages = request.get('website.pages', []);\n        const subject = request.subject;\n\n        let allowed = roleLimit;\n\n        for (const page of pages) {\n            if (subject && toId(subject) === toId(page)) {\n                return true;\n            }\n\n            if (page.enabled) {\n                allowed--;\n            }\n\n            if (allowed <= 0) {\n                return false;\n            }\n        }\n    }\n}\n","import { ACTION_CREATE, ACTION_EDIT, ACTION_DELETE, ACTION_VIEW } from '../../request';\nimport { Voter } from '../voter';\n\nexport class PageTemplatesVoter extends Voter {\n    supports(request) {\n        return request.resource === 'page-templates';\n    }\n\n    vote(request) {\n        if (request.includes(ACTION_CREATE) && !this.canCreate(request)) {\n            return false;\n        }\n\n        if (request.includes(ACTION_EDIT) && !this.canEdit(request)) {\n            return false;\n        }\n\n        if (request.includes(ACTION_DELETE) && !this.canDelete(request)) {\n            return false;\n        }\n\n        if (request.includes(ACTION_VIEW) && !this.canView(request)) {\n            return false;\n        }\n\n        return true;\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    canCreate(request) {\n        const count = request.workspace.quantities.templates || 0;\n\n        switch (request.role) {\n            case 'unlimited':\n                return count < 20;\n\n            default:\n                return false;\n        }\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    canDelete(request) {\n        return this.canEdit(request);\n    }\n\n    canEdit(request) {\n        if (!request.subject?._id) {\n            return true;\n        }\n\n        return request.isBy(request.subject.author);\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    canView(request) {\n        if (!request.subject?._id || request.subject.public) {\n            return true;\n        }\n\n        return request.isBy(request.subject.author);\n    }\n}\n","import { ACTION_EDIT } from '../../request';\nimport { Voter } from '../voter';\n\nexport class PageThemesVoter extends Voter {\n    /**\n     * @param {ACLVoter} acl ACL voter instance\n     */\n    constructor(acl) {\n        super();\n        this.acl = acl;\n    }\n\n    supports(request) {\n        return request.resource === 'page-themes';\n    }\n\n    vote(request) {\n        if (request.includes(ACTION_EDIT) && !this.canEdit(request)) {\n            return false;\n        }\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    canEdit(request) {\n        return request.subject ? this.acl.grantsInArrayPayload(request, request.subject.colorId) : true;\n    }\n}\n","import { ACTION_EDIT } from '../../request';\nimport { Voter } from '../voter';\n\nexport class PageStylingVoter extends Voter {\n    /**\n     * @param {ACLVoter} acl ACL voter instance\n     */\n    constructor(acl) {\n        super();\n        this.acl = acl;\n    }\n\n    supports(request) {\n        return request.resource === 'page-styling';\n    }\n\n    vote(request) {\n        if (request.includes(ACTION_EDIT) && !this.canEdit(request)) {\n            return false;\n        }\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    canEdit(request) {\n        return request.subject ? this.acl.grantsInArrayPayload(request, request.subject.type) : true;\n    }\n}\n","import { PageBlocksVoter } from './blocks';\n\nexport class PageBlocksPublishVoter extends PageBlocksVoter {\n    supports(request) {\n        return request.resource === 'page-blocks-publish';\n    }\n}\n","import { ACTION_CREATE } from '../../request';\nimport { Voter } from '../voter';\n\nexport class SubscriptionFormFieldVoter extends Voter {\n    supports(request) {\n        return request.role === 'basic' && request.resource === 'subscription-form-field';\n    }\n\n    vote(request) {\n        if (request.includes(ACTION_CREATE) && !this.canCreate(request)) {\n            return false;\n        }\n    }\n\n    /**\n     * @param {AccessPermissionRequest} request\n     * @returns {boolean}\n     */\n    canCreate({ subject }) {\n        return !subject?.items?.some(({ type }) => type !== 'email');\n    }\n}\n","import invariant from 'tiny-invariant';\n\nimport { AccessRequestErrorBuilder } from './errorBuilder';\nimport { permissions } from './permissions';\n\n/**\n * @param {{ workspace: *; allowPastDue?: boolean }} context Restriction context\n * @param {string} permission Rule to check in the format \"<resource name>\" [ \":\" (\"*\" | \"?\" | \"<action name>\") ]\n * @param {* | ((error: AccessRequestError|undefined) => void)} [subjectOrCallback] Restriction subject\n * @param {(error: AccessRequestError|undefined, subject?: *) => void|false} [callback] If specified, callback would be called with the check error as first arg\n * @returns {AccessRequestError|null} Error if check fails\n */\nexport const checkRestrictions = (context, permission, subjectOrCallback, callback) => {\n    invariant(!Array.isArray(permission), `Permission should not be an array, got \"${permission}\"`);\n\n    let subject = subjectOrCallback;\n\n    if (typeof subject === 'function') {\n        callback = subject;\n        subject = null;\n    }\n\n    const builder = new AccessRequestErrorBuilder(permissions, context).setPermission(permission);\n    let error = null;\n\n    if (subject && Array.isArray(subject)) {\n        for (const item of subject) {\n            const itemError = builder.setSubject(item).build();\n\n            if (callback) {\n                if (false !== callback(itemError, item)) {\n                    error = itemError;\n                    break;\n                }\n            } else if (itemError) {\n                return itemError;\n            }\n        }\n\n        if (callback) {\n            callback(error);\n        }\n    } else {\n        error = builder.setSubject(subject).build();\n\n        if (callback) {\n            callback(error, subject);\n        }\n    }\n\n    return error;\n};\n\nexport const checkRestrictionsOrThrow = (context, permission, subject) => {\n    const error = checkRestrictions(context, permission, subject);\n\n    if (error) {\n        throw error;\n    }\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nimport Button from '../Button';\n\nconst LinkButton = (props) => <Button tag={Link} {...props} />;\n\nLinkButton.propTypes = {\n    ...Button.propTypes,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n    children: PropTypes.any,\n};\n\nexport default LinkButton;\n","export const ACCESS_TOKEN_KEY = 'accessToken';\nexport const CLIENT_UUID_KEY = 'client_uuid';\n\nexport const PATHS = {\n    auth: '/auth',\n    billing: '/workspaces/:workspaceId/billing',\n    subscription: '/workspaces/:workspaceId/billing/subscription',\n    bot: '/bot',\n    bots: '/workspaces/:workspaceId/bots',\n    card: '/workspaces/:workspaceId/card',\n    collections: '/workspaces/:workspaceId/collections',\n    contacts: '/workspaces/:workspaceId/contacts',\n    conversations: '/workspaces/:workspaceId/conversations',\n    integrations: '/workspaces/:workspaceId/integrations',\n    messages: '/workspaces/:workspaceId/conversations/:contactId/messages',\n    onboarding: '/workspaces/:workspaceId/onboarding',\n    products: '/workspaces/:workspaceId/products',\n    crm: '/workspaces/:workspaceId/crm',\n    endpoints: '/workspaces/:workspaceId/endpoints',\n    services: '/workspaces/:workspaceId/services',\n    replies: '/workspaces/:workspaceId/replies',\n    websites: '/workspaces/:workspaceId/websites',\n    website: '/workspaces/:workspaceId/websites/:websiteId',\n    pages: '/workspaces/:workspaceId/websites/:websiteId/pages',\n    feedbacks: '/workspaces/:workspaceId/websites/:websiteId/feedback',\n    blocks: '/workspaces/:workspaceId/websites/:websiteId/pages/:pageId/blocks',\n    orders: '/workspaces/:workspaceId/orders',\n    tags: '/workspaces/:workspaceId/tags',\n    templates: '/workspaces/:workspaceId/templates',\n    team: '/workspaces/:workspaceId/team',\n    users: '/users',\n    invites: '/workspaces/:workspaceId/invites',\n    workspaces: '/workspaces',\n};\n","export const NOTIFICATIONS_DELAY = 2000;\n","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2.138 6.357a.65.65 0 00-.943 0 .711.711 0 000 .979l3.334 3.461c.26.27.682.27.942 0l7.334-7.615a.711.711 0 000-.98.65.65 0 00-.943 0L5 9.33 2.138 6.357z\",\n  stroke: \"currentColor\",\n  fill: \"currentColor\"\n});\nfunction SvgCheck(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 14,\n    height: 14\n  }, props), _ref);\n}\nexport default SvgCheck;","import { uaParser } from '@mssgme/shared';\n\nexport default uaParser(window.navigator?.userAgent);\n","var map = {\n\t\"./en/bot.json\": [\n\t\t\"/PTq\",\n\t\t0\n\t],\n\t\"./en/card.json\": [\n\t\t\"yl3x\",\n\t\t0\n\t],\n\t\"./en/redirect.json\": [\n\t\t\"BsNW\",\n\t\t0\n\t],\n\t\"./ru/bot.json\": [\n\t\t\"Sn5o\",\n\t\t1\n\t],\n\t\"./ru/card.json\": [\n\t\t\"SYKl\",\n\t\t1\n\t],\n\t\"./ru/redirect.json\": [\n\t\t\"unWC\",\n\t\t1\n\t],\n\t\"./uk/bot.json\": [\n\t\t\"dnOR\",\n\t\t2\n\t],\n\t\"./uk/card.json\": [\n\t\t\"LjwJ\",\n\t\t2\n\t],\n\t\"./uk/redirect.json\": [\n\t\t\"xRa8\",\n\t\t2\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"xhNR\";\nmodule.exports = webpackAsyncContext;","export default __webpack_public_path__ + \"img/messengers/icon-skype.svg\";","export default __webpack_public_path__ + \"img/do.png\";","export default __webpack_public_path__ + \"img/messengers/icon-vk.svg\";","import { useMemo } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport { deepBindActionCreators } from '@mssgme/helpers';\nimport { actionCreators } from '@mssgme/store';\n\nexport function useActions() {\n    const dispatch = useDispatch();\n\n    return useMemo(() => {\n        return deepBindActionCreators(actionCreators, dispatch);\n    }, [dispatch]);\n}\n","export function bindActionCreator(actionCreator, dispatch) {\n    return function(...args) {\n        return dispatch(actionCreator(...args));\n    };\n}\n\nexport function deepBindActionCreators(actionCreators, dispatch) {\n    if (typeof actionCreators === 'object') {\n        const boundActionCreators = {};\n\n        for (const [prop, value] of Object.entries(actionCreators)) {\n            boundActionCreators[prop] = deepBindActionCreators(value, dispatch);\n        }\n\n        return boundActionCreators;\n    } else if (typeof actionCreators === 'function') {\n        return bindActionCreator(actionCreators, dispatch);\n    } else {\n        throw new Error('Invalid actionCreators type');\n    }\n}\n","import { produce, immerable, enableMapSet, isDraft } from 'immer';\nimport { clone, set } from 'lodash';\n\nimport { isMatchId } from '@mssgme/helpers';\nexport { isMatch, isMatchId } from '@mssgme/helpers';\n\nenableMapSet();\n\nexport function createFuncReducer(initialState, handle) {\n    return (state = initialState, action) => produce(state, (draft) => handle(draft, action));\n}\n\nexport function reduceReducers(...reducers) {\n    return (state, action) => {\n        return reducers.reduce((acc, reducer) => {\n            return reducer(acc, action);\n        }, state);\n    };\n}\n\nexport function createActionCreator(type, produceAction) {\n    const creator = (...args) => {\n        if (produceAction) return { type, ...produceAction(...args) };\n        const [payload, ...rest] = args;\n        return { type, payload, meta: rest };\n    };\n    creator.type = type;\n    creator.toString = () => type;\n    return creator;\n}\n\nexport const createAction = createActionCreator;\n\nexport class ReducerBuilder {\n    constructor(state, opts) {\n        opts = {\n            immutable: true,\n            ...opts,\n        };\n        this._state = state;\n        this._immutable = opts.immutable;\n        this._cases = {};\n    }\n\n    addCase(types, handler) {\n        if (Array.isArray(types)) {\n            for (let type of types) {\n                this._cases[String(type)] = handler;\n            }\n        } else {\n            this._cases[String(types)] = handler;\n        }\n\n        return this;\n    }\n\n    hasCase(type) {\n        // eslint-disable-next-line no-prototype-builtins\n        return this._cases.hasOwnProperty(type);\n    }\n\n    runCase(type, ...args) {\n        return this._cases[type](...args);\n    }\n\n    createReducer() {\n        let reducer;\n\n        if (this._immutable) {\n            reducer = (state = this._state, action) => {\n                if (isDraft(state) && this.hasCase(action.type)) {\n                    return this.runCase(action.type, state, action);\n                }\n\n                return produce(state, (draft) => {\n                    if (this.hasCase(action.type)) {\n                        return this.runCase(action.type, draft, action);\n                    }\n                });\n            };\n        } else {\n            reducer = (state = this._state, action) => {\n                return this.hasCase(action.type) ? this.runCase(action.type, state, action) : state;\n            };\n        }\n\n        reducer.builder = this;\n\n        return reducer;\n    }\n}\n\nexport function createReducerBuilder(initialState, handler, opts) {\n    const builder = new ReducerBuilder(initialState, opts);\n\n    if (typeof handler === 'function') {\n        handler(builder);\n    } else if (typeof handler === 'object') {\n        for (const prop of Object.keys(handler)) {\n            builder.addCase(prop, handler[prop]);\n        }\n    } else {\n        throw new Error('Invalid handler type');\n    }\n\n    return builder;\n}\n\nexport function createReducer(initialState, handler, opts) {\n    if (typeof handler === 'function' && handler.length === 2) {\n        return createFuncReducer(initialState, handler);\n    } else {\n        const builder = createReducerBuilder(initialState, handler, opts);\n        return builder.createReducer();\n    }\n}\n\nexport class Collection {\n    [immerable] = true;\n\n    constructor(arr = [], identifier = '_id') {\n        this._identifier = identifier;\n        if (arr instanceof Collection) {\n            arr = arr.toArray();\n        }\n        this.ids = arr.map((item) => item[identifier]);\n        this.byIds = arr.reduce((acc, item) => {\n            acc[item[identifier]] = item;\n            return acc;\n        }, {});\n    }\n\n    get length() {\n        return this.ids.length;\n    }\n\n    add(items) {\n        if (!Array.isArray(items)) items = [items];\n\n        for (let item of items) {\n            this.byIds[item[this._identifier]] = item;\n            if (!this.exists(item)) {\n                this.ids.push(item[this._identifier]);\n            }\n        }\n\n        return this;\n    }\n\n    update(path, data) {\n        set(this.byIds, path, data);\n        return this;\n    }\n\n    exists(item) {\n        return this.ids.indexOf(item[this._identifier]) >= 0;\n    }\n\n    remove(item) {\n        this.ids = this.ids.filter((id) => id !== item[this._identifier]);\n        delete this.ids[item[this._identifier]];\n\n        return this;\n    }\n\n    removeById(itemId) {\n        this.ids = this.ids.filter((id) => id !== itemId);\n        delete this.ids[itemId];\n\n        return this;\n    }\n\n    find(itemId) {\n        return this.byIds[itemId];\n    }\n\n    clear() {\n        this.ids = [];\n        this.byIds = {};\n        return this;\n    }\n\n    isEmpty() {\n        return this.length === 0;\n    }\n\n    toArray() {\n        return this.ids.map((id) => this.byIds[id]);\n    }\n\n    forEach(callback) {\n        this.toArray().forEach(callback);\n    }\n\n    filter(callback) {\n        return new Collection(this.toArray().forEach(callback));\n    }\n\n    map(callback) {\n        return this.toArray().map(callback);\n    }\n\n    clone() {\n        return clone(this);\n    }\n}\n\nexport function updateIn(arr, cond, val) {\n    const index = arr.findIndex(cond);\n    if (index >= 0) arr[index] = val;\n\n    return index >= 0;\n}\n\nexport function deleteIn(arr, cond) {\n    const index = arr.findIndex(cond);\n    if (index >= 0) return arr.splice(index, 1)[0];\n}\n\n/**\n * @template T\n * @param {object} options Reducer options.\n * @param {(state: any, action: any) => T[]} [options.collection] How to get the collection from the state. Can be\n * omitted, then the `state` is assumed to be the target collection.\n * @param {string} [options.match] Action property, that holds the entity ID. Can be omitted if the collection\n * does not support `delete` action.\n * @param {(action: any) => T} [options.result] Use this to pick the entity from `action` if the target entity is not\n * directly returned in the `action.result`, but is nested instead.\n * @param {boolean} [options.prepend=false] `true` if entity should be prepended to the target collection.\n * @param {(state: any, action: any, created?: T, updated?: T, deleted?: boolean) => void} [options.onUpdate] Callback\n * with the reducer result.\n * @returns {(state: any, action: any) => void} Reducer function.\n */\nexport function updateResource({\n    collection: collectionSelector,\n    match: entityProp,\n    result: resultSelector,\n    prepend,\n    onUpdate,\n}) {\n    return (state, action) => {\n        const collection = collectionSelector?.(state, action) || state;\n        const result = resultSelector?.(action.result) || action.result;\n        const entityId = result?._id || action[entityProp];\n        const predicate = entityId && isMatchId(entityId);\n\n        const deleted = !result; // 'delete' actions do not return anything\n        const updated = result && predicate && collection.find(predicate); // already have entity in the collection\n        const created = !(deleted || updated);\n\n        if (deleted) {\n            deleteIn(collection, predicate);\n        } else if (updated) {\n            updateIn(collection, predicate, result);\n        } else if (prepend) {\n            collection.unshift(result);\n        } else {\n            collection.push(result);\n        }\n\n        onUpdate?.({\n            state,\n            action,\n            created: created && result,\n            updated: updated && result,\n            deleted,\n        });\n    };\n}\n\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_14Cr09WO\",\"disabled\":\"_1r7KFOqO\",\"container\":\"_38ipXAfL\",\"large\":\"_1DDLmGaP\",\"standart\":\"_28sW77FH\",\"small\":\"vJKOE1HZ\",\"inline\":\"_2q5oeb0I\",\"full-width\":\"_3-cEvdD1\",\"fullWidth\":\"_3-cEvdD1\",\"rounded\":\"_1_3Lg1WK\",\"transparent\":\"_32haqqur\",\"primary\":\"_8TaX8Vft\",\"primaryOutline\":\"_19a_eEqA\",\"primary2\":\"_36ZK8UKA\",\"secondary\":\"_2Ixehd9l\",\"secondary2\":\"_1DYsclgb\",\"warning\":\"_1cdi78HV\",\"danger\":\"_3UErwoyN\",\"success\":\"HMuHD5d5\",\"grey\":\"_2zVQBGJz\",\"white\":\"_3ofjL6hh\",\"link\":\"RjnLE1Zx\",\"solid\":\"w7G2zjC2\",\"secondaryOutline\":\"_3hJsbphS\",\"nopadding\":\"WOcWrBrC\",\"icon\":\"_5Skc7ISc\",\"noborder\":\"_17xoryeh\",\"socialBtnOnly\":\"_1cdRpsQj\",\"socialBtnWithText\":\"_3AoURXnO\",\"facebook\":\"_2H0RI3CX\",\"iconFixedLeft\":\"_2iX8xFTL\",\"iconFixedRight\":\"_2oJ51Vgu\"};","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport { LoadingIndicator } from '../../../LoadingIndicator';\nimport styles from './styles.scss';\n\nconst Button = ({\n    className,\n    contentClassName,\n    tag: Tag = 'button',\n    disabled,\n    children,\n    beforeIcon,\n    afterIcon,\n    fullWidth,\n    outline,\n    rounded,\n    btnStyle,\n    size,\n    noborder,\n    nopadding,\n    socialStyle,\n    isFetching,\n    loaderColor,\n    iconFixed,\n    wrapContentStyle,\n    ...rest\n}) => {\n    const styleClassName = isFetching ? 'transparent' : outline ? btnStyle + 'Outline' : btnStyle;\n    const isButton = Tag === 'button';\n    const rootClassName = classNames(\n        styles.root,\n        className,\n        noborder && styles.noborder,\n        nopadding && styles.nopadding,\n        styles[socialStyle],\n        styles[size],\n        styles[styleClassName],\n        {\n            [styles.fullWidth]: fullWidth,\n            [styles.rounded]: rounded,\n            [styles.disabled]: !isButton && (isFetching || disabled),\n            [styles.iconFixedLeft]: iconFixed === 'left',\n            [styles.iconFixedRight]: iconFixed === 'right',\n        }\n    );\n\n    const renderIcon = (icon) => (icon ? <span className={styles.icon}>{icon}</span> : null);\n    const _disabled = isFetching || disabled;\n    const rootProps = {\n        className: rootClassName,\n        'data-element': 'button',\n        ...rest,\n    };\n    if (isButton) rootProps['disabled'] = _disabled;\n\n    const content = (\n        <>\n            {renderIcon(beforeIcon)}\n            <span style={wrapContentStyle}>{children}</span>\n            {renderIcon(afterIcon)}\n        </>\n    );\n\n    return (\n        <Tag {...rootProps}>\n            <span style={{ opacity: isFetching ? 0 : 1 }} className={classNames(styles.container, contentClassName)}>\n                {content}\n            </span>\n            {isFetching && <LoadingIndicator color={loaderColor}>{content}</LoadingIndicator>}\n        </Tag>\n    );\n};\n\nButton.propTypes = {\n    className: PropTypes.string,\n    contentClassName: PropTypes.string,\n    fullWidth: PropTypes.bool,\n    afterIcon: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\n    beforeIcon: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\n    disabled: PropTypes.bool,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    tag: PropTypes.oneOfType([PropTypes.string, PropTypes.elementType, PropTypes.func]),\n    children: PropTypes.oneOfType([PropTypes.string, PropTypes.element, PropTypes.array]),\n    btnStyle: PropTypes.oneOf([\n        'primary',\n        'primary2',\n        'secondary',\n        'secondary2',\n        'success',\n        'grey',\n        'danger',\n        'warning',\n        'link',\n        'facebook',\n        'transparent',\n        'white',\n        'solid',\n    ]),\n    size: PropTypes.oneOf(['standart', 'small', 'inline', 'large']),\n    iconFixed: PropTypes.oneOf(['left', 'right']),\n    loaderColor: PropTypes.string,\n    outline: PropTypes.bool,\n    rounded: PropTypes.bool,\n    noborder: PropTypes.bool,\n    nopadding: PropTypes.bool,\n    socialStyle: PropTypes.oneOf(['socialBtnOnly', 'socialBtnWithText']),\n    socialWithText: PropTypes.bool,\n    isFetching: PropTypes.bool,\n    wrapContentStyle: PropTypes.object,\n};\n\nButton.defaultProps = {\n    fullWidth: false,\n    btnStyle: 'primary',\n    outline: false,\n    rounded: false,\n    size: 'standart',\n    disabled: false,\n    wrapContentStyle: { maxWidth: '100%', overflow: 'hidden', textOverflow: 'ellipsis' },\n};\n\nexport default Button;\n","export default __webpack_public_path__ + \"img/ae_logo.svg\";","export * from './helpers';\nexport * from './selectors';\nexport * from './actions';\nexport * from './constants';\n\nimport * as actionCreators from './actions';\n\nexport { actionCreators };\nexport { default as configureStore } from './configureStore';\n","export default __webpack_public_path__ + \"img/logo.svg\";","export default __webpack_public_path__ + \"img/messengers/icon-viber.svg\";","import { FaFacebookMessenger, FaViber, FaTelegramPlane, FaVk, FaWhatsapp, FaInstagram, FaSkype } from 'react-icons/fa';\n\nexport const MESSENGERS_REACT_ICONS_MAP = {\n    messenger: FaFacebookMessenger,\n    viber: FaViber,\n    telegram: FaTelegramPlane,\n    vk: FaVk,\n    whatsapp: FaWhatsapp,\n    instagram: FaInstagram,\n    skype: FaSkype,\n};\n\nexport const MESSENGERS = {\n    whatsapp: {\n        label: 'WhatsApp',\n        color: '#4FCE5D',\n    },\n    telegram: {\n        label: 'Telegram',\n        color: '#0088CC',\n    },\n    viber: {\n        label: 'Viber',\n        color: '#675CA8',\n    },\n    messenger: {\n        label: 'Facebook messenger',\n        color: '#0084FF',\n    },\n    vk: {\n        label: 'Vkontakte',\n        color: '#597BA0',\n    },\n    skype: {\n        label: 'Skype',\n        color: '#00AFF0',\n    },\n    line: {\n        label: 'Line',\n        color: '#00AFF0',\n    },\n    instagram: {\n        label: 'Instagram Direct',\n        color: '#E1306C',\n    },\n};\n","import { satisfies } from 'compare-versions';\nimport { memoize } from 'lodash';\n\n/**\n * @param {string} base Base version\n * @param {string} versionString Version comparison\n * @returns {bool} Comparison result from expression `base` `versionString`\n */\nexport default memoize(\n    (base, version) => {\n        // remove alpha/beta/rc portion, or version '1.0.0-alpha' would not satisfy constraint '>=1.0.0'\n        base = base.includes('-') ? base.split('-', 2)[0] : base;\n\n        return satisfies(base, version);\n    },\n    (base, versionString) => `${base}${versionString}`\n);\n","import { versionCheck } from '../../../helpers';\nimport { isBasic } from '../../isPaid';\nimport { RestrictionsApplier } from '../restrictionsApplier';\n\nexport class BasicRestrictionsApplier extends RestrictionsApplier {\n    applicable(billing, lenient) {\n        return isBasic(billing, lenient);\n    }\n\n    apply({ card: { links, reviews, design, products, profile, messengers }, projectVersion = '1.0.0' }) {\n        let applied = false;\n        // let count = 0;\n\n        // for (const link of links) {\n        //     if (link.enabled) {\n        //         if (count > 0) {\n        //             applied = true;\n        //             link.enabled = false;\n        //         }\n        //\n        //         count++;\n        //     }\n        // }\n\n        // if (products.enabled) {\n        //     products.enabled = false;\n        //     applied = true;\n        // }\n\n        // if (reviews.enabled) {\n        //     reviews.enabled = false;\n        //     applied = true;\n        // }\n\n        if (versionCheck(projectVersion, '>=2.11')) {\n            let count = 0;\n\n            for (const messenger of messengers) {\n                if (messenger.enabled) {\n                    if (count > 0) {\n                        applied = true;\n                        messenger.enabled = false;\n                    }\n                    count++;\n                }\n            }\n        }\n\n        if (profile.website.enabled) {\n            profile.website.enabled = false;\n            applied = true;\n        }\n\n        if (!design.branding) {\n            design.branding = true;\n            applied = true;\n        }\n\n        if (products.collectionsEnabled) {\n            products.collectionsEnabled = false;\n            applied = true;\n        }\n\n        if (design.background.type !== 'color') {\n            design.background.type = 'color';\n            applied = true;\n        }\n\n        return applied;\n    }\n}\n","export class RestrictionsApplier {\n    /**\n     * @param {{ plan: string, status: string }} billing Workspace billing model description\n     * @param {boolean} lenient Should be graceful period for failed payment be taken into account\n     * @returns {boolean} <code>true</code> if this restrictor is applicable\n     */\n    // eslint-disable-next-line no-unused-vars\n    applicable(billing, lenient) {\n        return true;\n    }\n\n    /**\n     * @param {*} target Which object to process\n     * @returns {boolean} <code>true</code> if any restriction was applied, false otherwise\n     */\n    // eslint-disable-next-line no-unused-vars\n    apply(target) {\n        return false;\n    }\n}\n","import { BasicRestrictionsApplier } from './impl/basic';\n\nclass CompositeRestrictionsApplier {\n    /**\n     * @returns {RestrictionsApplier[]}\n     */\n    get restrictors() {\n        if (!this._restrictors) {\n            this._restrictors = [new BasicRestrictionsApplier()];\n        }\n\n        return this._restrictors;\n    }\n\n    /**\n     * @param {{billing: *}} subject\n     * @param {*} target\n     * @param {boolean} [lenient]\n     * @returns {boolean}\n     */\n    apply(subject, target, lenient = false) {\n        const billing = subject.billing || {};\n        let applied = false;\n\n        for (const restrictor of this.restrictors) {\n            if (restrictor.applicable(billing, lenient)) {\n                applied |= restrictor.apply(target);\n            }\n        }\n\n        return applied;\n    }\n\n    /**\n     * @param {{billing: *}} subject Workspace to process\n     * @param {boolean} [lenient] Should be graceful period for failed payment be taken into account\n     * @returns {boolean} <code>true</code> if any restriction was applied, false otherwise\n     */\n    applyTo(subject, lenient) {\n        return this.apply(subject, subject, lenient);\n    }\n}\n\nexport const restrictionsApplier = new CompositeRestrictionsApplier();\n","import { merge } from 'lodash';\nimport { restrictionsApplier } from './apply';\nimport { checkRestrictions } from './checkBillingRestrictions';\n\n// TODO: add memoize\nexport const restrictCard = function(card, workspace) {\n    const newObj = merge({ products: { results: [] } }, card);\n    const context = { workspace, allowPastDue: true };\n\n    restrictionsApplier.applyTo({\n        card: newObj,\n        billing: workspace.billing,\n        projectVersion: workspace.projectVersion,\n    });\n\n    if (checkRestrictions(context, 'seo', card)) {\n        newObj.seo.title = '';\n        newObj.seo.description = '';\n    }\n\n    return Object.assign(newObj, {\n        messengers: newObj.messengers.filter((m) => m.enabled),\n        links: newObj.links.filter((l) => l.enabled),\n        products: Object.assign({}, newObj.products, {\n            results: newObj.products.results.filter((p) => p.published),\n        }),\n    });\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n\nPureButton.propTypes = {\n    as: PropTypes.elementType,\n    className: PropTypes.string,\n    startIcon: PropTypes.node,\n    endIcon: PropTypes.node,\n    styles: PropTypes.shape({\n        button: PropTypes.string,\n        startIcon: PropTypes.string,\n        endIcon: PropTypes.string,\n    }),\n};\n\nPureButton.defaultProps = {\n    as: 'button',\n    styles: {},\n};\n\nexport default function PureButton({ as: Component, className, startIcon, endIcon, children, styles, ...rest }) {\n    return (\n        <Component className={cn(styles.button, className)} {...getProps(Component, rest)}>\n            {startIcon && <span className={styles.startIcon}>{startIcon}</span>}\n            {children}\n            {endIcon && <span className={styles.endIcon}>{endIcon}</span>}\n        </Component>\n    );\n}\n\nexport function getProps(el, props) {\n    const { type, disabled, ...rest } = props;\n    const out = { ...rest };\n\n    if (el === 'button') {\n        out.type = type || 'button';\n        out.disabled = disabled;\n    } else {\n        out.role = 'button';\n        out.tabIndex = '0';\n        if (disabled) out['aria-disabled'] = true;\n    }\n\n    return out;\n}\n"],"sourceRoot":""}